var noe=Object.defineProperty;var ZN=t=>{throw TypeError(t)};var ioe=(t,e,r)=>e in t?noe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var aoe=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var br=(t,e,r)=>ioe(t,typeof e!="symbol"?e+"":e,r),soe=(t,e,r)=>e.has(t)||ZN("Cannot "+r);var JN=(t,e,r)=>e.has(t)?ZN("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r);var n1=(t,e,r)=>(soe(t,e,"access private method"),r);var lrt=aoe((Ss,Cs)=>{function ooe(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const a=Object.getOwnPropertyDescriptor(n,i);a&&Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();var Il=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function qc(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Ez={exports:{}},D5={},Sz={exports:{}},fr={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ly=Symbol.for("react.element"),loe=Symbol.for("react.portal"),coe=Symbol.for("react.fragment"),uoe=Symbol.for("react.strict_mode"),hoe=Symbol.for("react.profiler"),doe=Symbol.for("react.provider"),foe=Symbol.for("react.context"),poe=Symbol.for("react.forward_ref"),goe=Symbol.for("react.suspense"),moe=Symbol.for("react.memo"),voe=Symbol.for("react.lazy"),eR=Symbol.iterator;function yoe(t){return t===null||typeof t!="object"?null:(t=eR&&t[eR]||t["@@iterator"],typeof t=="function"?t:null)}var Cz={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Az=Object.assign,_z={};function yg(t,e,r){this.props=t,this.context=e,this.refs=_z,this.updater=r||Cz}yg.prototype.isReactComponent={};yg.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};yg.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Lz(){}Lz.prototype=yg.prototype;function B8(t,e,r){this.props=t,this.context=e,this.refs=_z,this.updater=r||Cz}var $8=B8.prototype=new Lz;$8.constructor=B8;Az($8,yg.prototype);$8.isPureReactComponent=!0;var tR=Array.isArray,Nz=Object.prototype.hasOwnProperty,z8={current:null},Rz={key:!0,ref:!0,__self:!0,__source:!0};function Mz(t,e,r){var n,i={},a=null,s=null;if(e!=null)for(n in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(a=""+e.key),e)Nz.call(e,n)&&!Rz.hasOwnProperty(n)&&(i[n]=e[n]);var o=arguments.length-2;if(o===1)i.children=r;else if(1<o){for(var l=Array(o),u=0;u<o;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(n in o=t.defaultProps,o)i[n]===void 0&&(i[n]=o[n]);return{$$typeof:ly,type:t,key:a,ref:s,props:i,_owner:z8.current}}function xoe(t,e){return{$$typeof:ly,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function U8(t){return typeof t=="object"&&t!==null&&t.$$typeof===ly}function boe(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var rR=/\/+/g;function X6(t,e){return typeof t=="object"&&t!==null&&t.key!=null?boe(""+t.key):e.toString(36)}function Ux(t,e,r,n,i){var a=typeof t;(a==="undefined"||a==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(a){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case ly:case loe:s=!0}}if(s)return s=t,i=i(s),t=n===""?"."+X6(s,0):n,tR(i)?(r="",t!=null&&(r=t.replace(rR,"$&/")+"/"),Ux(i,e,r,"",function(u){return u})):i!=null&&(U8(i)&&(i=xoe(i,r+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(rR,"$&/")+"/")+t)),e.push(i)),1;if(s=0,n=n===""?".":n+":",tR(t))for(var o=0;o<t.length;o++){a=t[o];var l=n+X6(a,o);s+=Ux(a,e,r,l,i)}else if(l=yoe(t),typeof l=="function")for(t=l.call(t),o=0;!(a=t.next()).done;)a=a.value,l=n+X6(a,o++),s+=Ux(a,e,r,l,i);else if(a==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function g2(t,e,r){if(t==null)return t;var n=[],i=0;return Ux(t,n,"","",function(a){return e.call(r,a,i++)}),n}function woe(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Ba={current:null},Vx={transition:null},koe={ReactCurrentDispatcher:Ba,ReactCurrentBatchConfig:Vx,ReactCurrentOwner:z8};function Iz(){throw Error("act(...) is not supported in production builds of React.")}fr.Children={map:g2,forEach:function(t,e,r){g2(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return g2(t,function(){e++}),e},toArray:function(t){return g2(t,function(e){return e})||[]},only:function(t){if(!U8(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};fr.Component=yg;fr.Fragment=coe;fr.Profiler=hoe;fr.PureComponent=B8;fr.StrictMode=uoe;fr.Suspense=goe;fr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=koe;fr.act=Iz;fr.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=Az({},t.props),i=t.key,a=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(a=e.ref,s=z8.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var o=t.type.defaultProps;for(l in e)Nz.call(e,l)&&!Rz.hasOwnProperty(l)&&(n[l]=e[l]===void 0&&o!==void 0?o[l]:e[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){o=Array(l);for(var u=0;u<l;u++)o[u]=arguments[u+2];n.children=o}return{$$typeof:ly,type:t.type,key:i,ref:a,props:n,_owner:s}};fr.createContext=function(t){return t={$$typeof:foe,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:doe,_context:t},t.Consumer=t};fr.createElement=Mz;fr.createFactory=function(t){var e=Mz.bind(null,t);return e.type=t,e};fr.createRef=function(){return{current:null}};fr.forwardRef=function(t){return{$$typeof:poe,render:t}};fr.isValidElement=U8;fr.lazy=function(t){return{$$typeof:voe,_payload:{_status:-1,_result:t},_init:woe}};fr.memo=function(t,e){return{$$typeof:moe,type:t,compare:e===void 0?null:e}};fr.startTransition=function(t){var e=Vx.transition;Vx.transition={};try{t()}finally{Vx.transition=e}};fr.unstable_act=Iz;fr.useCallback=function(t,e){return Ba.current.useCallback(t,e)};fr.useContext=function(t){return Ba.current.useContext(t)};fr.useDebugValue=function(){};fr.useDeferredValue=function(t){return Ba.current.useDeferredValue(t)};fr.useEffect=function(t,e){return Ba.current.useEffect(t,e)};fr.useId=function(){return Ba.current.useId()};fr.useImperativeHandle=function(t,e,r){return Ba.current.useImperativeHandle(t,e,r)};fr.useInsertionEffect=function(t,e){return Ba.current.useInsertionEffect(t,e)};fr.useLayoutEffect=function(t,e){return Ba.current.useLayoutEffect(t,e)};fr.useMemo=function(t,e){return Ba.current.useMemo(t,e)};fr.useReducer=function(t,e,r){return Ba.current.useReducer(t,e,r)};fr.useRef=function(t){return Ba.current.useRef(t)};fr.useState=function(t){return Ba.current.useState(t)};fr.useSyncExternalStore=function(t,e,r){return Ba.current.useSyncExternalStore(t,e,r)};fr.useTransition=function(){return Ba.current.useTransition()};fr.version="18.3.1";Sz.exports=fr;var fe=Sz.exports;const yc=qc(fe),Toe=ooe({__proto__:null,default:yc},[fe]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Eoe=fe,Soe=Symbol.for("react.element"),Coe=Symbol.for("react.fragment"),Aoe=Object.prototype.hasOwnProperty,_oe=Eoe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Loe={key:!0,ref:!0,__self:!0,__source:!0};function Dz(t,e,r){var n,i={},a=null,s=null;r!==void 0&&(a=""+r),e.key!==void 0&&(a=""+e.key),e.ref!==void 0&&(s=e.ref);for(n in e)Aoe.call(e,n)&&!Loe.hasOwnProperty(n)&&(i[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)i[n]===void 0&&(i[n]=e[n]);return{$$typeof:Soe,type:t,key:a,ref:s,props:i,_owner:_oe.current}}D5.Fragment=Coe;D5.jsx=Dz;D5.jsxs=Dz;Ez.exports=D5;var se=Ez.exports,Oz={exports:{}},Os={},Pz={exports:{}},Fz={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(I,P){var B=I.length;I.push(P);e:for(;0<B;){var $=B-1>>>1,V=I[$];if(0<i(V,P))I[$]=P,I[B]=V,B=$;else break e}}function r(I){return I.length===0?null:I[0]}function n(I){if(I.length===0)return null;var P=I[0],B=I.pop();if(B!==P){I[0]=B;e:for(var $=0,V=I.length,W=V>>>1;$<W;){var K=2*($+1)-1,Z=I[K],H=K+1,ee=I[H];if(0>i(Z,B))H<V&&0>i(ee,Z)?(I[$]=ee,I[H]=B,$=H):(I[$]=Z,I[K]=B,$=K);else if(H<V&&0>i(ee,B))I[$]=ee,I[H]=B,$=H;else break e}}return P}function i(I,P){var B=I.sortIndex-P.sortIndex;return B!==0?B:I.id-P.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,o=s.now();t.unstable_now=function(){return s.now()-o}}var l=[],u=[],h=1,d=null,p=3,f=!1,g=!1,m=!1,y=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(I){for(var P=r(u);P!==null;){if(P.callback===null)n(u);else if(P.startTime<=I)n(u),P.sortIndex=P.expirationTime,e(l,P);else break;P=r(u)}}function k(I){if(m=!1,w(I),!g)if(r(l)!==null)g=!0,M(E);else{var P=r(u);P!==null&&O(k,P.startTime-I)}}function E(I,P){g=!1,m&&(m=!1,v(R),R=-1),f=!0;var B=p;try{for(w(P),d=r(l);d!==null&&(!(d.expirationTime>P)||I&&!A());){var $=d.callback;if(typeof $=="function"){d.callback=null,p=d.priorityLevel;var V=$(d.expirationTime<=P);P=t.unstable_now(),typeof V=="function"?d.callback=V:d===r(l)&&n(l),w(P)}else n(l);d=r(l)}if(d!==null)var W=!0;else{var K=r(u);K!==null&&O(k,K.startTime-P),W=!1}return W}finally{d=null,p=B,f=!1}}var _=!1,S=null,R=-1,C=5,L=-1;function A(){return!(t.unstable_now()-L<C)}function N(){if(S!==null){var I=t.unstable_now();L=I;var P=!0;try{P=S(!0,I)}finally{P?F():(_=!1,S=null)}}else _=!1}var F;if(typeof x=="function")F=function(){x(N)};else if(typeof MessageChannel<"u"){var T=new MessageChannel,D=T.port2;T.port1.onmessage=N,F=function(){D.postMessage(null)}}else F=function(){y(N,0)};function M(I){S=I,_||(_=!0,F())}function O(I,P){R=y(function(){I(t.unstable_now())},P)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(I){I.callback=null},t.unstable_continueExecution=function(){g||f||(g=!0,M(E))},t.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<I?Math.floor(1e3/I):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(I){switch(p){case 1:case 2:case 3:var P=3;break;default:P=p}var B=p;p=P;try{return I()}finally{p=B}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(I,P){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var B=p;p=I;try{return P()}finally{p=B}},t.unstable_scheduleCallback=function(I,P,B){var $=t.unstable_now();switch(typeof B=="object"&&B!==null?(B=B.delay,B=typeof B=="number"&&0<B?$+B:$):B=$,I){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=B+V,I={id:h++,callback:P,priorityLevel:I,startTime:B,expirationTime:V,sortIndex:-1},B>$?(I.sortIndex=B,e(u,I),r(l)===null&&I===r(u)&&(m?(v(R),R=-1):m=!0,O(k,B-$))):(I.sortIndex=V,e(l,I),g||f||(g=!0,M(E))),I},t.unstable_shouldYield=A,t.unstable_wrapCallback=function(I){var P=p;return function(){var B=p;p=P;try{return I.apply(this,arguments)}finally{p=B}}}})(Fz);Pz.exports=Fz;var Noe=Pz.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Roe=fe,Rs=Noe;function st(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Bz=new Set,Hm={};function nf(t,e){Tp(t,e),Tp(t+"Capture",e)}function Tp(t,e){for(Hm[t]=e,t=0;t<e.length;t++)Bz.add(e[t])}var Sc=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),OE=Object.prototype.hasOwnProperty,Moe=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,nR={},iR={};function Ioe(t){return OE.call(iR,t)?!0:OE.call(nR,t)?!1:Moe.test(t)?iR[t]=!0:(nR[t]=!0,!1)}function Doe(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Ooe(t,e,r,n){if(e===null||typeof e>"u"||Doe(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function $a(t,e,r,n,i,a,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=a,this.removeEmptyString=s}var Xi={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Xi[t]=new $a(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Xi[e]=new $a(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Xi[t]=new $a(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Xi[t]=new $a(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Xi[t]=new $a(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Xi[t]=new $a(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Xi[t]=new $a(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Xi[t]=new $a(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Xi[t]=new $a(t,5,!1,t.toLowerCase(),null,!1,!1)});var V8=/[\-:]([a-z])/g;function G8(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(V8,G8);Xi[e]=new $a(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(V8,G8);Xi[e]=new $a(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(V8,G8);Xi[e]=new $a(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Xi[t]=new $a(t,1,!1,t.toLowerCase(),null,!1,!1)});Xi.xlinkHref=new $a("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Xi[t]=new $a(t,1,!1,t.toLowerCase(),null,!0,!0)});function H8(t,e,r,n){var i=Xi.hasOwnProperty(e)?Xi[e]:null;(i!==null?i.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Ooe(e,r,i,n)&&(r=null),n||i===null?Ioe(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):i.mustUseProperty?t[i.propertyName]=r===null?i.type===3?!1:"":r:(e=i.attributeName,n=i.attributeNamespace,r===null?t.removeAttribute(e):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var jc=Roe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,m2=Symbol.for("react.element"),Hf=Symbol.for("react.portal"),Wf=Symbol.for("react.fragment"),W8=Symbol.for("react.strict_mode"),PE=Symbol.for("react.profiler"),$z=Symbol.for("react.provider"),zz=Symbol.for("react.context"),Y8=Symbol.for("react.forward_ref"),FE=Symbol.for("react.suspense"),BE=Symbol.for("react.suspense_list"),q8=Symbol.for("react.memo"),pu=Symbol.for("react.lazy"),Uz=Symbol.for("react.offscreen"),aR=Symbol.iterator;function i1(t){return t===null||typeof t!="object"?null:(t=aR&&t[aR]||t["@@iterator"],typeof t=="function"?t:null)}var Sn=Object.assign,K6;function G1(t){if(K6===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);K6=e&&e[1]||""}return`
`+K6+t}var Q6=!1;function Z6(t,e){if(!t||Q6)return"";Q6=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var n=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){n=u}t.call(e.prototype)}else{try{throw Error()}catch(u){n=u}t()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),a=n.stack.split(`
`),s=i.length-1,o=a.length-1;1<=s&&0<=o&&i[s]!==a[o];)o--;for(;1<=s&&0<=o;s--,o--)if(i[s]!==a[o]){if(s!==1||o!==1)do if(s--,o--,0>o||i[s]!==a[o]){var l=`
`+i[s].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=s&&0<=o);break}}}finally{Q6=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?G1(t):""}function Poe(t){switch(t.tag){case 5:return G1(t.type);case 16:return G1("Lazy");case 13:return G1("Suspense");case 19:return G1("SuspenseList");case 0:case 2:case 15:return t=Z6(t.type,!1),t;case 11:return t=Z6(t.type.render,!1),t;case 1:return t=Z6(t.type,!0),t;default:return""}}function $E(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Wf:return"Fragment";case Hf:return"Portal";case PE:return"Profiler";case W8:return"StrictMode";case FE:return"Suspense";case BE:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case zz:return(t.displayName||"Context")+".Consumer";case $z:return(t._context.displayName||"Context")+".Provider";case Y8:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case q8:return e=t.displayName||null,e!==null?e:$E(t.type)||"Memo";case pu:e=t._payload,t=t._init;try{return $E(t(e))}catch{}}return null}function Foe(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return $E(e);case 8:return e===W8?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Yu(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Vz(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Boe(t){var e=Vz(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,a=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){n=""+s,a.call(this,s)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(s){n=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function v2(t){t._valueTracker||(t._valueTracker=Boe(t))}function Gz(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=Vz(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function Wb(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function zE(t,e){var r=e.checked;return Sn({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function sR(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=Yu(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Hz(t,e){e=e.checked,e!=null&&H8(t,"checked",e,!1)}function UE(t,e){Hz(t,e);var r=Yu(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?VE(t,e.type,r):e.hasOwnProperty("defaultValue")&&VE(t,e.type,Yu(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function oR(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function VE(t,e,r){(e!=="number"||Wb(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var H1=Array.isArray;function g0(t,e,r,n){if(t=t.options,e){e={};for(var i=0;i<r.length;i++)e["$"+r[i]]=!0;for(r=0;r<t.length;r++)i=e.hasOwnProperty("$"+t[r].value),t[r].selected!==i&&(t[r].selected=i),i&&n&&(t[r].defaultSelected=!0)}else{for(r=""+Yu(r),e=null,i=0;i<t.length;i++){if(t[i].value===r){t[i].selected=!0,n&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function GE(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(st(91));return Sn({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function lR(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(st(92));if(H1(r)){if(1<r.length)throw Error(st(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:Yu(r)}}function Wz(t,e){var r=Yu(e.value),n=Yu(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function cR(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Yz(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function HE(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Yz(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var y2,qz=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,i){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(y2=y2||document.createElement("div"),y2.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=y2.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Wm(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var mm={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},$oe=["Webkit","ms","Moz","O"];Object.keys(mm).forEach(function(t){$oe.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),mm[e]=mm[t]})});function jz(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||mm.hasOwnProperty(t)&&mm[t]?(""+e).trim():e+"px"}function Xz(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=jz(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,i):t[r]=i}}var zoe=Sn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function WE(t,e){if(e){if(zoe[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(st(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(st(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(st(61))}if(e.style!=null&&typeof e.style!="object")throw Error(st(62))}}function YE(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var qE=null;function j8(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var jE=null,m0=null,v0=null;function uR(t){if(t=hy(t)){if(typeof jE!="function")throw Error(st(280));var e=t.stateNode;e&&(e=$5(e),jE(t.stateNode,t.type,e))}}function Kz(t){m0?v0?v0.push(t):v0=[t]:m0=t}function Qz(){if(m0){var t=m0,e=v0;if(v0=m0=null,uR(t),e)for(t=0;t<e.length;t++)uR(e[t])}}function Zz(t,e){return t(e)}function Jz(){}var J6=!1;function eU(t,e,r){if(J6)return t(e,r);J6=!0;try{return Zz(t,e,r)}finally{J6=!1,(m0!==null||v0!==null)&&(Jz(),Qz())}}function Ym(t,e){var r=t.stateNode;if(r===null)return null;var n=$5(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(st(231,e,typeof r));return r}var XE=!1;if(Sc)try{var a1={};Object.defineProperty(a1,"passive",{get:function(){XE=!0}}),window.addEventListener("test",a1,a1),window.removeEventListener("test",a1,a1)}catch{XE=!1}function Uoe(t,e,r,n,i,a,s,o,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(r,u)}catch(h){this.onError(h)}}var vm=!1,Yb=null,qb=!1,KE=null,Voe={onError:function(t){vm=!0,Yb=t}};function Goe(t,e,r,n,i,a,s,o,l){vm=!1,Yb=null,Uoe.apply(Voe,arguments)}function Hoe(t,e,r,n,i,a,s,o,l){if(Goe.apply(this,arguments),vm){if(vm){var u=Yb;vm=!1,Yb=null}else throw Error(st(198));qb||(qb=!0,KE=u)}}function af(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function tU(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function hR(t){if(af(t)!==t)throw Error(st(188))}function Woe(t){var e=t.alternate;if(!e){if(e=af(t),e===null)throw Error(st(188));return e!==t?null:t}for(var r=t,n=e;;){var i=r.return;if(i===null)break;var a=i.alternate;if(a===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===r)return hR(i),t;if(a===n)return hR(i),e;a=a.sibling}throw Error(st(188))}if(r.return!==n.return)r=i,n=a;else{for(var s=!1,o=i.child;o;){if(o===r){s=!0,r=i,n=a;break}if(o===n){s=!0,n=i,r=a;break}o=o.sibling}if(!s){for(o=a.child;o;){if(o===r){s=!0,r=a,n=i;break}if(o===n){s=!0,n=a,r=i;break}o=o.sibling}if(!s)throw Error(st(189))}}if(r.alternate!==n)throw Error(st(190))}if(r.tag!==3)throw Error(st(188));return r.stateNode.current===r?t:e}function rU(t){return t=Woe(t),t!==null?nU(t):null}function nU(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=nU(t);if(e!==null)return e;t=t.sibling}return null}var iU=Rs.unstable_scheduleCallback,dR=Rs.unstable_cancelCallback,Yoe=Rs.unstable_shouldYield,qoe=Rs.unstable_requestPaint,Vn=Rs.unstable_now,joe=Rs.unstable_getCurrentPriorityLevel,X8=Rs.unstable_ImmediatePriority,aU=Rs.unstable_UserBlockingPriority,jb=Rs.unstable_NormalPriority,Xoe=Rs.unstable_LowPriority,sU=Rs.unstable_IdlePriority,O5=null,kl=null;function Koe(t){if(kl&&typeof kl.onCommitFiberRoot=="function")try{kl.onCommitFiberRoot(O5,t,void 0,(t.current.flags&128)===128)}catch{}}var Fo=Math.clz32?Math.clz32:Joe,Qoe=Math.log,Zoe=Math.LN2;function Joe(t){return t>>>=0,t===0?32:31-(Qoe(t)/Zoe|0)|0}var x2=64,b2=4194304;function W1(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Xb(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,i=t.suspendedLanes,a=t.pingedLanes,s=r&268435455;if(s!==0){var o=s&~i;o!==0?n=W1(o):(a&=s,a!==0&&(n=W1(a)))}else s=r&~i,s!==0?n=W1(s):a!==0&&(n=W1(a));if(n===0)return 0;if(e!==0&&e!==n&&!(e&i)&&(i=n&-n,a=e&-e,i>=a||i===16&&(a&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-Fo(e),i=1<<r,n|=t[r],e&=~i;return n}function ele(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function tle(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,i=t.expirationTimes,a=t.pendingLanes;0<a;){var s=31-Fo(a),o=1<<s,l=i[s];l===-1?(!(o&r)||o&n)&&(i[s]=ele(o,e)):l<=e&&(t.expiredLanes|=o),a&=~o}}function QE(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function oU(){var t=x2;return x2<<=1,!(x2&4194240)&&(x2=64),t}function ek(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function cy(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Fo(e),t[e]=r}function rle(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var i=31-Fo(r),a=1<<i;e[i]=0,n[i]=-1,t[i]=-1,r&=~a}}function K8(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-Fo(r),i=1<<n;i&e|t[n]&e&&(t[n]|=e),r&=~i}}var $r=0;function lU(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var cU,Q8,uU,hU,dU,ZE=!1,w2=[],Mu=null,Iu=null,Du=null,qm=new Map,jm=new Map,vu=[],nle="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function fR(t,e){switch(t){case"focusin":case"focusout":Mu=null;break;case"dragenter":case"dragleave":Iu=null;break;case"mouseover":case"mouseout":Du=null;break;case"pointerover":case"pointerout":qm.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":jm.delete(e.pointerId)}}function s1(t,e,r,n,i,a){return t===null||t.nativeEvent!==a?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:a,targetContainers:[i]},e!==null&&(e=hy(e),e!==null&&Q8(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function ile(t,e,r,n,i){switch(e){case"focusin":return Mu=s1(Mu,t,e,r,n,i),!0;case"dragenter":return Iu=s1(Iu,t,e,r,n,i),!0;case"mouseover":return Du=s1(Du,t,e,r,n,i),!0;case"pointerover":var a=i.pointerId;return qm.set(a,s1(qm.get(a)||null,t,e,r,n,i)),!0;case"gotpointercapture":return a=i.pointerId,jm.set(a,s1(jm.get(a)||null,t,e,r,n,i)),!0}return!1}function fU(t){var e=Jh(t.target);if(e!==null){var r=af(e);if(r!==null){if(e=r.tag,e===13){if(e=tU(r),e!==null){t.blockedOn=e,dU(t.priority,function(){uU(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Gx(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=JE(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);qE=n,r.target.dispatchEvent(n),qE=null}else return e=hy(r),e!==null&&Q8(e),t.blockedOn=r,!1;e.shift()}return!0}function pR(t,e,r){Gx(t)&&r.delete(e)}function ale(){ZE=!1,Mu!==null&&Gx(Mu)&&(Mu=null),Iu!==null&&Gx(Iu)&&(Iu=null),Du!==null&&Gx(Du)&&(Du=null),qm.forEach(pR),jm.forEach(pR)}function o1(t,e){t.blockedOn===e&&(t.blockedOn=null,ZE||(ZE=!0,Rs.unstable_scheduleCallback(Rs.unstable_NormalPriority,ale)))}function Xm(t){function e(i){return o1(i,t)}if(0<w2.length){o1(w2[0],t);for(var r=1;r<w2.length;r++){var n=w2[r];n.blockedOn===t&&(n.blockedOn=null)}}for(Mu!==null&&o1(Mu,t),Iu!==null&&o1(Iu,t),Du!==null&&o1(Du,t),qm.forEach(e),jm.forEach(e),r=0;r<vu.length;r++)n=vu[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<vu.length&&(r=vu[0],r.blockedOn===null);)fU(r),r.blockedOn===null&&vu.shift()}var y0=jc.ReactCurrentBatchConfig,Kb=!0;function sle(t,e,r,n){var i=$r,a=y0.transition;y0.transition=null;try{$r=1,Z8(t,e,r,n)}finally{$r=i,y0.transition=a}}function ole(t,e,r,n){var i=$r,a=y0.transition;y0.transition=null;try{$r=4,Z8(t,e,r,n)}finally{$r=i,y0.transition=a}}function Z8(t,e,r,n){if(Kb){var i=JE(t,e,r,n);if(i===null)uk(t,e,n,Qb,r),fR(t,n);else if(ile(i,t,e,r,n))n.stopPropagation();else if(fR(t,n),e&4&&-1<nle.indexOf(t)){for(;i!==null;){var a=hy(i);if(a!==null&&cU(a),a=JE(t,e,r,n),a===null&&uk(t,e,n,Qb,r),a===i)break;i=a}i!==null&&n.stopPropagation()}else uk(t,e,n,null,r)}}var Qb=null;function JE(t,e,r,n){if(Qb=null,t=j8(n),t=Jh(t),t!==null)if(e=af(t),e===null)t=null;else if(r=e.tag,r===13){if(t=tU(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Qb=t,null}function pU(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(joe()){case X8:return 1;case aU:return 4;case jb:case Xoe:return 16;case sU:return 536870912;default:return 16}default:return 16}}var Eu=null,J8=null,Hx=null;function gU(){if(Hx)return Hx;var t,e=J8,r=e.length,n,i="value"in Eu?Eu.value:Eu.textContent,a=i.length;for(t=0;t<r&&e[t]===i[t];t++);var s=r-t;for(n=1;n<=s&&e[r-n]===i[a-n];n++);return Hx=i.slice(t,1<n?1-n:void 0)}function Wx(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function k2(){return!0}function gR(){return!1}function Ps(t){function e(r,n,i,a,s){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=a,this.target=s,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(r=t[o],this[o]=r?r(a):a[o]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?k2:gR,this.isPropagationStopped=gR,this}return Sn(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=k2)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=k2)},persist:function(){},isPersistent:k2}),e}var xg={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},eA=Ps(xg),uy=Sn({},xg,{view:0,detail:0}),lle=Ps(uy),tk,rk,l1,P5=Sn({},uy,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:tA,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==l1&&(l1&&t.type==="mousemove"?(tk=t.screenX-l1.screenX,rk=t.screenY-l1.screenY):rk=tk=0,l1=t),tk)},movementY:function(t){return"movementY"in t?t.movementY:rk}}),mR=Ps(P5),cle=Sn({},P5,{dataTransfer:0}),ule=Ps(cle),hle=Sn({},uy,{relatedTarget:0}),nk=Ps(hle),dle=Sn({},xg,{animationName:0,elapsedTime:0,pseudoElement:0}),fle=Ps(dle),ple=Sn({},xg,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),gle=Ps(ple),mle=Sn({},xg,{data:0}),vR=Ps(mle),vle={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},yle={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xle={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ble(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=xle[t])?!!e[t]:!1}function tA(){return ble}var wle=Sn({},uy,{key:function(t){if(t.key){var e=vle[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Wx(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?yle[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:tA,charCode:function(t){return t.type==="keypress"?Wx(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Wx(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),kle=Ps(wle),Tle=Sn({},P5,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),yR=Ps(Tle),Ele=Sn({},uy,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:tA}),Sle=Ps(Ele),Cle=Sn({},xg,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ale=Ps(Cle),_le=Sn({},P5,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Lle=Ps(_le),Nle=[9,13,27,32],rA=Sc&&"CompositionEvent"in window,ym=null;Sc&&"documentMode"in document&&(ym=document.documentMode);var Rle=Sc&&"TextEvent"in window&&!ym,mU=Sc&&(!rA||ym&&8<ym&&11>=ym),xR=" ",bR=!1;function vU(t,e){switch(t){case"keyup":return Nle.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function yU(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Yf=!1;function Mle(t,e){switch(t){case"compositionend":return yU(e);case"keypress":return e.which!==32?null:(bR=!0,xR);case"textInput":return t=e.data,t===xR&&bR?null:t;default:return null}}function Ile(t,e){if(Yf)return t==="compositionend"||!rA&&vU(t,e)?(t=gU(),Hx=J8=Eu=null,Yf=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return mU&&e.locale!=="ko"?null:e.data;default:return null}}var Dle={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function wR(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Dle[t.type]:e==="textarea"}function xU(t,e,r,n){Kz(n),e=Zb(e,"onChange"),0<e.length&&(r=new eA("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var xm=null,Km=null;function Ole(t){NU(t,0)}function F5(t){var e=Xf(t);if(Gz(e))return t}function Ple(t,e){if(t==="change")return e}var bU=!1;if(Sc){var ik;if(Sc){var ak="oninput"in document;if(!ak){var kR=document.createElement("div");kR.setAttribute("oninput","return;"),ak=typeof kR.oninput=="function"}ik=ak}else ik=!1;bU=ik&&(!document.documentMode||9<document.documentMode)}function TR(){xm&&(xm.detachEvent("onpropertychange",wU),Km=xm=null)}function wU(t){if(t.propertyName==="value"&&F5(Km)){var e=[];xU(e,Km,t,j8(t)),eU(Ole,e)}}function Fle(t,e,r){t==="focusin"?(TR(),xm=e,Km=r,xm.attachEvent("onpropertychange",wU)):t==="focusout"&&TR()}function Ble(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return F5(Km)}function $le(t,e){if(t==="click")return F5(e)}function zle(t,e){if(t==="input"||t==="change")return F5(e)}function Ule(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Xo=typeof Object.is=="function"?Object.is:Ule;function Qm(t,e){if(Xo(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!OE.call(e,i)||!Xo(t[i],e[i]))return!1}return!0}function ER(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function SR(t,e){var r=ER(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=ER(r)}}function kU(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?kU(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function TU(){for(var t=window,e=Wb();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=Wb(t.document)}return e}function nA(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Vle(t){var e=TU(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&kU(r.ownerDocument.documentElement,r)){if(n!==null&&nA(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=r.textContent.length,a=Math.min(n.start,i);n=n.end===void 0?a:Math.min(n.end,i),!t.extend&&a>n&&(i=n,n=a,a=i),i=SR(r,a);var s=SR(r,n);i&&s&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),a>n?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Gle=Sc&&"documentMode"in document&&11>=document.documentMode,qf=null,e7=null,bm=null,t7=!1;function CR(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;t7||qf==null||qf!==Wb(n)||(n=qf,"selectionStart"in n&&nA(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),bm&&Qm(bm,n)||(bm=n,n=Zb(e7,"onSelect"),0<n.length&&(e=new eA("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=qf)))}function T2(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var jf={animationend:T2("Animation","AnimationEnd"),animationiteration:T2("Animation","AnimationIteration"),animationstart:T2("Animation","AnimationStart"),transitionend:T2("Transition","TransitionEnd")},sk={},EU={};Sc&&(EU=document.createElement("div").style,"AnimationEvent"in window||(delete jf.animationend.animation,delete jf.animationiteration.animation,delete jf.animationstart.animation),"TransitionEvent"in window||delete jf.transitionend.transition);function B5(t){if(sk[t])return sk[t];if(!jf[t])return t;var e=jf[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in EU)return sk[t]=e[r];return t}var SU=B5("animationend"),CU=B5("animationiteration"),AU=B5("animationstart"),_U=B5("transitionend"),LU=new Map,AR="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function vh(t,e){LU.set(t,e),nf(e,[t])}for(var ok=0;ok<AR.length;ok++){var lk=AR[ok],Hle=lk.toLowerCase(),Wle=lk[0].toUpperCase()+lk.slice(1);vh(Hle,"on"+Wle)}vh(SU,"onAnimationEnd");vh(CU,"onAnimationIteration");vh(AU,"onAnimationStart");vh("dblclick","onDoubleClick");vh("focusin","onFocus");vh("focusout","onBlur");vh(_U,"onTransitionEnd");Tp("onMouseEnter",["mouseout","mouseover"]);Tp("onMouseLeave",["mouseout","mouseover"]);Tp("onPointerEnter",["pointerout","pointerover"]);Tp("onPointerLeave",["pointerout","pointerover"]);nf("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));nf("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));nf("onBeforeInput",["compositionend","keypress","textInput","paste"]);nf("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));nf("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));nf("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Y1="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Yle=new Set("cancel close invalid load scroll toggle".split(" ").concat(Y1));function _R(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,Hoe(n,e,void 0,t),t.currentTarget=null}function NU(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],i=n.event;n=n.listeners;e:{var a=void 0;if(e)for(var s=n.length-1;0<=s;s--){var o=n[s],l=o.instance,u=o.currentTarget;if(o=o.listener,l!==a&&i.isPropagationStopped())break e;_R(i,o,u),a=l}else for(s=0;s<n.length;s++){if(o=n[s],l=o.instance,u=o.currentTarget,o=o.listener,l!==a&&i.isPropagationStopped())break e;_R(i,o,u),a=l}}}if(qb)throw t=KE,qb=!1,KE=null,t}function cn(t,e){var r=e[s7];r===void 0&&(r=e[s7]=new Set);var n=t+"__bubble";r.has(n)||(RU(e,t,2,!1),r.add(n))}function ck(t,e,r){var n=0;e&&(n|=4),RU(r,t,n,e)}var E2="_reactListening"+Math.random().toString(36).slice(2);function Zm(t){if(!t[E2]){t[E2]=!0,Bz.forEach(function(r){r!=="selectionchange"&&(Yle.has(r)||ck(r,!1,t),ck(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[E2]||(e[E2]=!0,ck("selectionchange",!1,e))}}function RU(t,e,r,n){switch(pU(e)){case 1:var i=sle;break;case 4:i=ole;break;default:i=Z8}r=i.bind(null,e,r,t),i=void 0,!XE||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),n?i!==void 0?t.addEventListener(e,r,{capture:!0,passive:i}):t.addEventListener(e,r,!0):i!==void 0?t.addEventListener(e,r,{passive:i}):t.addEventListener(e,r,!1)}function uk(t,e,r,n,i){var a=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var s=n.tag;if(s===3||s===4){var o=n.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(s===4)for(s=n.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;o!==null;){if(s=Jh(o),s===null)return;if(l=s.tag,l===5||l===6){n=a=s;continue e}o=o.parentNode}}n=n.return}eU(function(){var u=a,h=j8(r),d=[];e:{var p=LU.get(t);if(p!==void 0){var f=eA,g=t;switch(t){case"keypress":if(Wx(r)===0)break e;case"keydown":case"keyup":f=kle;break;case"focusin":g="focus",f=nk;break;case"focusout":g="blur",f=nk;break;case"beforeblur":case"afterblur":f=nk;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=mR;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=ule;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=Sle;break;case SU:case CU:case AU:f=fle;break;case _U:f=Ale;break;case"scroll":f=lle;break;case"wheel":f=Lle;break;case"copy":case"cut":case"paste":f=gle;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=yR}var m=(e&4)!==0,y=!m&&t==="scroll",v=m?p!==null?p+"Capture":null:p;m=[];for(var x=u,w;x!==null;){w=x;var k=w.stateNode;if(w.tag===5&&k!==null&&(w=k,v!==null&&(k=Ym(x,v),k!=null&&m.push(Jm(x,k,w)))),y)break;x=x.return}0<m.length&&(p=new f(p,g,null,r,h),d.push({event:p,listeners:m}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",f=t==="mouseout"||t==="pointerout",p&&r!==qE&&(g=r.relatedTarget||r.fromElement)&&(Jh(g)||g[Cc]))break e;if((f||p)&&(p=h.window===h?h:(p=h.ownerDocument)?p.defaultView||p.parentWindow:window,f?(g=r.relatedTarget||r.toElement,f=u,g=g?Jh(g):null,g!==null&&(y=af(g),g!==y||g.tag!==5&&g.tag!==6)&&(g=null)):(f=null,g=u),f!==g)){if(m=mR,k="onMouseLeave",v="onMouseEnter",x="mouse",(t==="pointerout"||t==="pointerover")&&(m=yR,k="onPointerLeave",v="onPointerEnter",x="pointer"),y=f==null?p:Xf(f),w=g==null?p:Xf(g),p=new m(k,x+"leave",f,r,h),p.target=y,p.relatedTarget=w,k=null,Jh(h)===u&&(m=new m(v,x+"enter",g,r,h),m.target=w,m.relatedTarget=y,k=m),y=k,f&&g)t:{for(m=f,v=g,x=0,w=m;w;w=_f(w))x++;for(w=0,k=v;k;k=_f(k))w++;for(;0<x-w;)m=_f(m),x--;for(;0<w-x;)v=_f(v),w--;for(;x--;){if(m===v||v!==null&&m===v.alternate)break t;m=_f(m),v=_f(v)}m=null}else m=null;f!==null&&LR(d,p,f,m,!1),g!==null&&y!==null&&LR(d,y,g,m,!0)}}e:{if(p=u?Xf(u):window,f=p.nodeName&&p.nodeName.toLowerCase(),f==="select"||f==="input"&&p.type==="file")var E=Ple;else if(wR(p))if(bU)E=zle;else{E=Ble;var _=Fle}else(f=p.nodeName)&&f.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(E=$le);if(E&&(E=E(t,u))){xU(d,E,r,h);break e}_&&_(t,p,u),t==="focusout"&&(_=p._wrapperState)&&_.controlled&&p.type==="number"&&VE(p,"number",p.value)}switch(_=u?Xf(u):window,t){case"focusin":(wR(_)||_.contentEditable==="true")&&(qf=_,e7=u,bm=null);break;case"focusout":bm=e7=qf=null;break;case"mousedown":t7=!0;break;case"contextmenu":case"mouseup":case"dragend":t7=!1,CR(d,r,h);break;case"selectionchange":if(Gle)break;case"keydown":case"keyup":CR(d,r,h)}var S;if(rA)e:{switch(t){case"compositionstart":var R="onCompositionStart";break e;case"compositionend":R="onCompositionEnd";break e;case"compositionupdate":R="onCompositionUpdate";break e}R=void 0}else Yf?vU(t,r)&&(R="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(R="onCompositionStart");R&&(mU&&r.locale!=="ko"&&(Yf||R!=="onCompositionStart"?R==="onCompositionEnd"&&Yf&&(S=gU()):(Eu=h,J8="value"in Eu?Eu.value:Eu.textContent,Yf=!0)),_=Zb(u,R),0<_.length&&(R=new vR(R,t,null,r,h),d.push({event:R,listeners:_}),S?R.data=S:(S=yU(r),S!==null&&(R.data=S)))),(S=Rle?Mle(t,r):Ile(t,r))&&(u=Zb(u,"onBeforeInput"),0<u.length&&(h=new vR("onBeforeInput","beforeinput",null,r,h),d.push({event:h,listeners:u}),h.data=S))}NU(d,e)})}function Jm(t,e,r){return{instance:t,listener:e,currentTarget:r}}function Zb(t,e){for(var r=e+"Capture",n=[];t!==null;){var i=t,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=Ym(t,r),a!=null&&n.unshift(Jm(t,a,i)),a=Ym(t,e),a!=null&&n.push(Jm(t,a,i))),t=t.return}return n}function _f(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function LR(t,e,r,n,i){for(var a=e._reactName,s=[];r!==null&&r!==n;){var o=r,l=o.alternate,u=o.stateNode;if(l!==null&&l===n)break;o.tag===5&&u!==null&&(o=u,i?(l=Ym(r,a),l!=null&&s.unshift(Jm(r,l,o))):i||(l=Ym(r,a),l!=null&&s.push(Jm(r,l,o)))),r=r.return}s.length!==0&&t.push({event:e,listeners:s})}var qle=/\r\n?/g,jle=/\u0000|\uFFFD/g;function NR(t){return(typeof t=="string"?t:""+t).replace(qle,`
`).replace(jle,"")}function S2(t,e,r){if(e=NR(e),NR(t)!==e&&r)throw Error(st(425))}function Jb(){}var r7=null,n7=null;function i7(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var a7=typeof setTimeout=="function"?setTimeout:void 0,Xle=typeof clearTimeout=="function"?clearTimeout:void 0,RR=typeof Promise=="function"?Promise:void 0,Kle=typeof queueMicrotask=="function"?queueMicrotask:typeof RR<"u"?function(t){return RR.resolve(null).then(t).catch(Qle)}:a7;function Qle(t){setTimeout(function(){throw t})}function hk(t,e){var r=e,n=0;do{var i=r.nextSibling;if(t.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){t.removeChild(i),Xm(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);Xm(e)}function Ou(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function MR(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var bg=Math.random().toString(36).slice(2),fl="__reactFiber$"+bg,ev="__reactProps$"+bg,Cc="__reactContainer$"+bg,s7="__reactEvents$"+bg,Zle="__reactListeners$"+bg,Jle="__reactHandles$"+bg;function Jh(t){var e=t[fl];if(e)return e;for(var r=t.parentNode;r;){if(e=r[Cc]||r[fl]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=MR(t);t!==null;){if(r=t[fl])return r;t=MR(t)}return e}t=r,r=t.parentNode}return null}function hy(t){return t=t[fl]||t[Cc],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Xf(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(st(33))}function $5(t){return t[ev]||null}var o7=[],Kf=-1;function yh(t){return{current:t}}function hn(t){0>Kf||(t.current=o7[Kf],o7[Kf]=null,Kf--)}function en(t,e){Kf++,o7[Kf]=t.current,t.current=e}var qu={},ya=yh(qu),is=yh(!1),bd=qu;function Ep(t,e){var r=t.type.contextTypes;if(!r)return qu;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in r)i[a]=e[a];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function as(t){return t=t.childContextTypes,t!=null}function e4(){hn(is),hn(ya)}function IR(t,e,r){if(ya.current!==qu)throw Error(st(168));en(ya,e),en(is,r)}function MU(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in e))throw Error(st(108,Foe(t)||"Unknown",i));return Sn({},r,n)}function t4(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||qu,bd=ya.current,en(ya,t),en(is,is.current),!0}function DR(t,e,r){var n=t.stateNode;if(!n)throw Error(st(169));r?(t=MU(t,e,bd),n.__reactInternalMemoizedMergedChildContext=t,hn(is),hn(ya),en(ya,t)):hn(is),en(is,r)}var ic=null,z5=!1,dk=!1;function IU(t){ic===null?ic=[t]:ic.push(t)}function ece(t){z5=!0,IU(t)}function xh(){if(!dk&&ic!==null){dk=!0;var t=0,e=$r;try{var r=ic;for($r=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}ic=null,z5=!1}catch(i){throw ic!==null&&(ic=ic.slice(t+1)),iU(X8,xh),i}finally{$r=e,dk=!1}}return null}var Qf=[],Zf=0,r4=null,n4=0,js=[],Xs=0,wd=null,uc=1,hc="";function Ph(t,e){Qf[Zf++]=n4,Qf[Zf++]=r4,r4=t,n4=e}function DU(t,e,r){js[Xs++]=uc,js[Xs++]=hc,js[Xs++]=wd,wd=t;var n=uc;t=hc;var i=32-Fo(n)-1;n&=~(1<<i),r+=1;var a=32-Fo(e)+i;if(30<a){var s=i-i%5;a=(n&(1<<s)-1).toString(32),n>>=s,i-=s,uc=1<<32-Fo(e)+i|r<<i|n,hc=a+t}else uc=1<<a|r<<i|n,hc=t}function iA(t){t.return!==null&&(Ph(t,1),DU(t,1,0))}function aA(t){for(;t===r4;)r4=Qf[--Zf],Qf[Zf]=null,n4=Qf[--Zf],Qf[Zf]=null;for(;t===wd;)wd=js[--Xs],js[Xs]=null,hc=js[--Xs],js[Xs]=null,uc=js[--Xs],js[Xs]=null}var As=null,Es=null,mn=!1,Ro=null;function OU(t,e){var r=to(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function OR(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,As=t,Es=Ou(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,As=t,Es=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=wd!==null?{id:uc,overflow:hc}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=to(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,As=t,Es=null,!0):!1;default:return!1}}function l7(t){return(t.mode&1)!==0&&(t.flags&128)===0}function c7(t){if(mn){var e=Es;if(e){var r=e;if(!OR(t,e)){if(l7(t))throw Error(st(418));e=Ou(r.nextSibling);var n=As;e&&OR(t,e)?OU(n,r):(t.flags=t.flags&-4097|2,mn=!1,As=t)}}else{if(l7(t))throw Error(st(418));t.flags=t.flags&-4097|2,mn=!1,As=t}}}function PR(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;As=t}function C2(t){if(t!==As)return!1;if(!mn)return PR(t),mn=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!i7(t.type,t.memoizedProps)),e&&(e=Es)){if(l7(t))throw PU(),Error(st(418));for(;e;)OU(t,e),e=Ou(e.nextSibling)}if(PR(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(st(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){Es=Ou(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}Es=null}}else Es=As?Ou(t.stateNode.nextSibling):null;return!0}function PU(){for(var t=Es;t;)t=Ou(t.nextSibling)}function Sp(){Es=As=null,mn=!1}function sA(t){Ro===null?Ro=[t]:Ro.push(t)}var tce=jc.ReactCurrentBatchConfig;function c1(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(st(309));var n=r.stateNode}if(!n)throw Error(st(147,t));var i=n,a=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===a?e.ref:(e=function(s){var o=i.refs;s===null?delete o[a]:o[a]=s},e._stringRef=a,e)}if(typeof t!="string")throw Error(st(284));if(!r._owner)throw Error(st(290,t))}return t}function A2(t,e){throw t=Object.prototype.toString.call(e),Error(st(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function FR(t){var e=t._init;return e(t._payload)}function FU(t){function e(v,x){if(t){var w=v.deletions;w===null?(v.deletions=[x],v.flags|=16):w.push(x)}}function r(v,x){if(!t)return null;for(;x!==null;)e(v,x),x=x.sibling;return null}function n(v,x){for(v=new Map;x!==null;)x.key!==null?v.set(x.key,x):v.set(x.index,x),x=x.sibling;return v}function i(v,x){return v=$u(v,x),v.index=0,v.sibling=null,v}function a(v,x,w){return v.index=w,t?(w=v.alternate,w!==null?(w=w.index,w<x?(v.flags|=2,x):w):(v.flags|=2,x)):(v.flags|=1048576,x)}function s(v){return t&&v.alternate===null&&(v.flags|=2),v}function o(v,x,w,k){return x===null||x.tag!==6?(x=xk(w,v.mode,k),x.return=v,x):(x=i(x,w),x.return=v,x)}function l(v,x,w,k){var E=w.type;return E===Wf?h(v,x,w.props.children,k,w.key):x!==null&&(x.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===pu&&FR(E)===x.type)?(k=i(x,w.props),k.ref=c1(v,x,w),k.return=v,k):(k=Zx(w.type,w.key,w.props,null,v.mode,k),k.ref=c1(v,x,w),k.return=v,k)}function u(v,x,w,k){return x===null||x.tag!==4||x.stateNode.containerInfo!==w.containerInfo||x.stateNode.implementation!==w.implementation?(x=bk(w,v.mode,k),x.return=v,x):(x=i(x,w.children||[]),x.return=v,x)}function h(v,x,w,k,E){return x===null||x.tag!==7?(x=fd(w,v.mode,k,E),x.return=v,x):(x=i(x,w),x.return=v,x)}function d(v,x,w){if(typeof x=="string"&&x!==""||typeof x=="number")return x=xk(""+x,v.mode,w),x.return=v,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case m2:return w=Zx(x.type,x.key,x.props,null,v.mode,w),w.ref=c1(v,null,x),w.return=v,w;case Hf:return x=bk(x,v.mode,w),x.return=v,x;case pu:var k=x._init;return d(v,k(x._payload),w)}if(H1(x)||i1(x))return x=fd(x,v.mode,w,null),x.return=v,x;A2(v,x)}return null}function p(v,x,w,k){var E=x!==null?x.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return E!==null?null:o(v,x,""+w,k);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case m2:return w.key===E?l(v,x,w,k):null;case Hf:return w.key===E?u(v,x,w,k):null;case pu:return E=w._init,p(v,x,E(w._payload),k)}if(H1(w)||i1(w))return E!==null?null:h(v,x,w,k,null);A2(v,w)}return null}function f(v,x,w,k,E){if(typeof k=="string"&&k!==""||typeof k=="number")return v=v.get(w)||null,o(x,v,""+k,E);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case m2:return v=v.get(k.key===null?w:k.key)||null,l(x,v,k,E);case Hf:return v=v.get(k.key===null?w:k.key)||null,u(x,v,k,E);case pu:var _=k._init;return f(v,x,w,_(k._payload),E)}if(H1(k)||i1(k))return v=v.get(w)||null,h(x,v,k,E,null);A2(x,k)}return null}function g(v,x,w,k){for(var E=null,_=null,S=x,R=x=0,C=null;S!==null&&R<w.length;R++){S.index>R?(C=S,S=null):C=S.sibling;var L=p(v,S,w[R],k);if(L===null){S===null&&(S=C);break}t&&S&&L.alternate===null&&e(v,S),x=a(L,x,R),_===null?E=L:_.sibling=L,_=L,S=C}if(R===w.length)return r(v,S),mn&&Ph(v,R),E;if(S===null){for(;R<w.length;R++)S=d(v,w[R],k),S!==null&&(x=a(S,x,R),_===null?E=S:_.sibling=S,_=S);return mn&&Ph(v,R),E}for(S=n(v,S);R<w.length;R++)C=f(S,v,R,w[R],k),C!==null&&(t&&C.alternate!==null&&S.delete(C.key===null?R:C.key),x=a(C,x,R),_===null?E=C:_.sibling=C,_=C);return t&&S.forEach(function(A){return e(v,A)}),mn&&Ph(v,R),E}function m(v,x,w,k){var E=i1(w);if(typeof E!="function")throw Error(st(150));if(w=E.call(w),w==null)throw Error(st(151));for(var _=E=null,S=x,R=x=0,C=null,L=w.next();S!==null&&!L.done;R++,L=w.next()){S.index>R?(C=S,S=null):C=S.sibling;var A=p(v,S,L.value,k);if(A===null){S===null&&(S=C);break}t&&S&&A.alternate===null&&e(v,S),x=a(A,x,R),_===null?E=A:_.sibling=A,_=A,S=C}if(L.done)return r(v,S),mn&&Ph(v,R),E;if(S===null){for(;!L.done;R++,L=w.next())L=d(v,L.value,k),L!==null&&(x=a(L,x,R),_===null?E=L:_.sibling=L,_=L);return mn&&Ph(v,R),E}for(S=n(v,S);!L.done;R++,L=w.next())L=f(S,v,R,L.value,k),L!==null&&(t&&L.alternate!==null&&S.delete(L.key===null?R:L.key),x=a(L,x,R),_===null?E=L:_.sibling=L,_=L);return t&&S.forEach(function(N){return e(v,N)}),mn&&Ph(v,R),E}function y(v,x,w,k){if(typeof w=="object"&&w!==null&&w.type===Wf&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case m2:e:{for(var E=w.key,_=x;_!==null;){if(_.key===E){if(E=w.type,E===Wf){if(_.tag===7){r(v,_.sibling),x=i(_,w.props.children),x.return=v,v=x;break e}}else if(_.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===pu&&FR(E)===_.type){r(v,_.sibling),x=i(_,w.props),x.ref=c1(v,_,w),x.return=v,v=x;break e}r(v,_);break}else e(v,_);_=_.sibling}w.type===Wf?(x=fd(w.props.children,v.mode,k,w.key),x.return=v,v=x):(k=Zx(w.type,w.key,w.props,null,v.mode,k),k.ref=c1(v,x,w),k.return=v,v=k)}return s(v);case Hf:e:{for(_=w.key;x!==null;){if(x.key===_)if(x.tag===4&&x.stateNode.containerInfo===w.containerInfo&&x.stateNode.implementation===w.implementation){r(v,x.sibling),x=i(x,w.children||[]),x.return=v,v=x;break e}else{r(v,x);break}else e(v,x);x=x.sibling}x=bk(w,v.mode,k),x.return=v,v=x}return s(v);case pu:return _=w._init,y(v,x,_(w._payload),k)}if(H1(w))return g(v,x,w,k);if(i1(w))return m(v,x,w,k);A2(v,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,x!==null&&x.tag===6?(r(v,x.sibling),x=i(x,w),x.return=v,v=x):(r(v,x),x=xk(w,v.mode,k),x.return=v,v=x),s(v)):r(v,x)}return y}var Cp=FU(!0),BU=FU(!1),i4=yh(null),a4=null,Jf=null,oA=null;function lA(){oA=Jf=a4=null}function cA(t){var e=i4.current;hn(i4),t._currentValue=e}function u7(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function x0(t,e){a4=t,oA=Jf=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(ns=!0),t.firstContext=null)}function lo(t){var e=t._currentValue;if(oA!==t)if(t={context:t,memoizedValue:e,next:null},Jf===null){if(a4===null)throw Error(st(308));Jf=t,a4.dependencies={lanes:0,firstContext:t}}else Jf=Jf.next=t;return e}var ed=null;function uA(t){ed===null?ed=[t]:ed.push(t)}function $U(t,e,r,n){var i=e.interleaved;return i===null?(r.next=r,uA(e)):(r.next=i.next,i.next=r),e.interleaved=r,Ac(t,n)}function Ac(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var gu=!1;function hA(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function zU(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function xc(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Pu(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,kr&2){var i=n.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),n.pending=e,Ac(t,r)}return i=n.interleaved,i===null?(e.next=e,uA(n)):(e.next=i.next,i.next=e),n.interleaved=e,Ac(t,r)}function Yx(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,K8(t,r)}}function BR(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var s={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};a===null?i=a=s:a=a.next=s,r=r.next}while(r!==null);a===null?i=a=e:a=a.next=e}else i=a=e;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function s4(t,e,r,n){var i=t.updateQueue;gu=!1;var a=i.firstBaseUpdate,s=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var l=o,u=l.next;l.next=null,s===null?a=u:s.next=u,s=l;var h=t.alternate;h!==null&&(h=h.updateQueue,o=h.lastBaseUpdate,o!==s&&(o===null?h.firstBaseUpdate=u:o.next=u,h.lastBaseUpdate=l))}if(a!==null){var d=i.baseState;s=0,h=u=l=null,o=a;do{var p=o.lane,f=o.eventTime;if((n&p)===p){h!==null&&(h=h.next={eventTime:f,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var g=t,m=o;switch(p=e,f=r,m.tag){case 1:if(g=m.payload,typeof g=="function"){d=g.call(f,d,p);break e}d=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=m.payload,p=typeof g=="function"?g.call(f,d,p):g,p==null)break e;d=Sn({},d,p);break e;case 2:gu=!0}}o.callback!==null&&o.lane!==0&&(t.flags|=64,p=i.effects,p===null?i.effects=[o]:p.push(o))}else f={eventTime:f,lane:p,tag:o.tag,payload:o.payload,callback:o.callback,next:null},h===null?(u=h=f,l=d):h=h.next=f,s|=p;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;p=o,o=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(!0);if(h===null&&(l=d),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=h,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else a===null&&(i.shared.lanes=0);Td|=s,t.lanes=s,t.memoizedState=d}}function $R(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(st(191,i));i.call(n)}}}var dy={},Tl=yh(dy),tv=yh(dy),rv=yh(dy);function td(t){if(t===dy)throw Error(st(174));return t}function dA(t,e){switch(en(rv,e),en(tv,t),en(Tl,dy),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:HE(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=HE(e,t)}hn(Tl),en(Tl,e)}function Ap(){hn(Tl),hn(tv),hn(rv)}function UU(t){td(rv.current);var e=td(Tl.current),r=HE(e,t.type);e!==r&&(en(tv,t),en(Tl,r))}function fA(t){tv.current===t&&(hn(Tl),hn(tv))}var bn=yh(0);function o4(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var fk=[];function pA(){for(var t=0;t<fk.length;t++)fk[t]._workInProgressVersionPrimary=null;fk.length=0}var qx=jc.ReactCurrentDispatcher,pk=jc.ReactCurrentBatchConfig,kd=0,Tn=null,ai=null,Ei=null,l4=!1,wm=!1,nv=0,rce=0;function na(){throw Error(st(321))}function gA(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!Xo(t[r],e[r]))return!1;return!0}function mA(t,e,r,n,i,a){if(kd=a,Tn=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,qx.current=t===null||t.memoizedState===null?sce:oce,t=r(n,i),wm){a=0;do{if(wm=!1,nv=0,25<=a)throw Error(st(301));a+=1,Ei=ai=null,e.updateQueue=null,qx.current=lce,t=r(n,i)}while(wm)}if(qx.current=c4,e=ai!==null&&ai.next!==null,kd=0,Ei=ai=Tn=null,l4=!1,e)throw Error(st(300));return t}function vA(){var t=nv!==0;return nv=0,t}function ol(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ei===null?Tn.memoizedState=Ei=t:Ei=Ei.next=t,Ei}function co(){if(ai===null){var t=Tn.alternate;t=t!==null?t.memoizedState:null}else t=ai.next;var e=Ei===null?Tn.memoizedState:Ei.next;if(e!==null)Ei=e,ai=t;else{if(t===null)throw Error(st(310));ai=t,t={memoizedState:ai.memoizedState,baseState:ai.baseState,baseQueue:ai.baseQueue,queue:ai.queue,next:null},Ei===null?Tn.memoizedState=Ei=t:Ei=Ei.next=t}return Ei}function iv(t,e){return typeof e=="function"?e(t):e}function gk(t){var e=co(),r=e.queue;if(r===null)throw Error(st(311));r.lastRenderedReducer=t;var n=ai,i=n.baseQueue,a=r.pending;if(a!==null){if(i!==null){var s=i.next;i.next=a.next,a.next=s}n.baseQueue=i=a,r.pending=null}if(i!==null){a=i.next,n=n.baseState;var o=s=null,l=null,u=a;do{var h=u.lane;if((kd&h)===h)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:t(n,u.action);else{var d={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(o=l=d,s=n):l=l.next=d,Tn.lanes|=h,Td|=h}u=u.next}while(u!==null&&u!==a);l===null?s=n:l.next=o,Xo(n,e.memoizedState)||(ns=!0),e.memoizedState=n,e.baseState=s,e.baseQueue=l,r.lastRenderedState=n}if(t=r.interleaved,t!==null){i=t;do a=i.lane,Tn.lanes|=a,Td|=a,i=i.next;while(i!==t)}else i===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function mk(t){var e=co(),r=e.queue;if(r===null)throw Error(st(311));r.lastRenderedReducer=t;var n=r.dispatch,i=r.pending,a=e.memoizedState;if(i!==null){r.pending=null;var s=i=i.next;do a=t(a,s.action),s=s.next;while(s!==i);Xo(a,e.memoizedState)||(ns=!0),e.memoizedState=a,e.baseQueue===null&&(e.baseState=a),r.lastRenderedState=a}return[a,n]}function VU(){}function GU(t,e){var r=Tn,n=co(),i=e(),a=!Xo(n.memoizedState,i);if(a&&(n.memoizedState=i,ns=!0),n=n.queue,yA(YU.bind(null,r,n,t),[t]),n.getSnapshot!==e||a||Ei!==null&&Ei.memoizedState.tag&1){if(r.flags|=2048,av(9,WU.bind(null,r,n,i,e),void 0,null),Ci===null)throw Error(st(349));kd&30||HU(r,e,i)}return i}function HU(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=Tn.updateQueue,e===null?(e={lastEffect:null,stores:null},Tn.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function WU(t,e,r,n){e.value=r,e.getSnapshot=n,qU(e)&&jU(t)}function YU(t,e,r){return r(function(){qU(e)&&jU(t)})}function qU(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!Xo(t,r)}catch{return!0}}function jU(t){var e=Ac(t,1);e!==null&&Bo(e,t,1,-1)}function zR(t){var e=ol();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:iv,lastRenderedState:t},e.queue=t,t=t.dispatch=ace.bind(null,Tn,t),[e.memoizedState,t]}function av(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=Tn.updateQueue,e===null?(e={lastEffect:null,stores:null},Tn.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function XU(){return co().memoizedState}function jx(t,e,r,n){var i=ol();Tn.flags|=t,i.memoizedState=av(1|e,r,void 0,n===void 0?null:n)}function U5(t,e,r,n){var i=co();n=n===void 0?null:n;var a=void 0;if(ai!==null){var s=ai.memoizedState;if(a=s.destroy,n!==null&&gA(n,s.deps)){i.memoizedState=av(e,r,a,n);return}}Tn.flags|=t,i.memoizedState=av(1|e,r,a,n)}function UR(t,e){return jx(8390656,8,t,e)}function yA(t,e){return U5(2048,8,t,e)}function KU(t,e){return U5(4,2,t,e)}function QU(t,e){return U5(4,4,t,e)}function ZU(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function JU(t,e,r){return r=r!=null?r.concat([t]):null,U5(4,4,ZU.bind(null,e,t),r)}function xA(){}function eV(t,e){var r=co();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&gA(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function tV(t,e){var r=co();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&gA(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function rV(t,e,r){return kd&21?(Xo(r,e)||(r=oU(),Tn.lanes|=r,Td|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,ns=!0),t.memoizedState=r)}function nce(t,e){var r=$r;$r=r!==0&&4>r?r:4,t(!0);var n=pk.transition;pk.transition={};try{t(!1),e()}finally{$r=r,pk.transition=n}}function nV(){return co().memoizedState}function ice(t,e,r){var n=Bu(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},iV(t))aV(e,r);else if(r=$U(t,e,r,n),r!==null){var i=Ma();Bo(r,t,n,i),sV(r,e,n)}}function ace(t,e,r){var n=Bu(t),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(iV(t))aV(e,i);else{var a=t.alternate;if(t.lanes===0&&(a===null||a.lanes===0)&&(a=e.lastRenderedReducer,a!==null))try{var s=e.lastRenderedState,o=a(s,r);if(i.hasEagerState=!0,i.eagerState=o,Xo(o,s)){var l=e.interleaved;l===null?(i.next=i,uA(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}r=$U(t,e,i,n),r!==null&&(i=Ma(),Bo(r,t,n,i),sV(r,e,n))}}function iV(t){var e=t.alternate;return t===Tn||e!==null&&e===Tn}function aV(t,e){wm=l4=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function sV(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,K8(t,r)}}var c4={readContext:lo,useCallback:na,useContext:na,useEffect:na,useImperativeHandle:na,useInsertionEffect:na,useLayoutEffect:na,useMemo:na,useReducer:na,useRef:na,useState:na,useDebugValue:na,useDeferredValue:na,useTransition:na,useMutableSource:na,useSyncExternalStore:na,useId:na,unstable_isNewReconciler:!1},sce={readContext:lo,useCallback:function(t,e){return ol().memoizedState=[t,e===void 0?null:e],t},useContext:lo,useEffect:UR,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,jx(4194308,4,ZU.bind(null,e,t),r)},useLayoutEffect:function(t,e){return jx(4194308,4,t,e)},useInsertionEffect:function(t,e){return jx(4,2,t,e)},useMemo:function(t,e){var r=ol();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=ol();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=ice.bind(null,Tn,t),[n.memoizedState,t]},useRef:function(t){var e=ol();return t={current:t},e.memoizedState=t},useState:zR,useDebugValue:xA,useDeferredValue:function(t){return ol().memoizedState=t},useTransition:function(){var t=zR(!1),e=t[0];return t=nce.bind(null,t[1]),ol().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=Tn,i=ol();if(mn){if(r===void 0)throw Error(st(407));r=r()}else{if(r=e(),Ci===null)throw Error(st(349));kd&30||HU(n,e,r)}i.memoizedState=r;var a={value:r,getSnapshot:e};return i.queue=a,UR(YU.bind(null,n,a,t),[t]),n.flags|=2048,av(9,WU.bind(null,n,a,r,e),void 0,null),r},useId:function(){var t=ol(),e=Ci.identifierPrefix;if(mn){var r=hc,n=uc;r=(n&~(1<<32-Fo(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=nv++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=rce++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},oce={readContext:lo,useCallback:eV,useContext:lo,useEffect:yA,useImperativeHandle:JU,useInsertionEffect:KU,useLayoutEffect:QU,useMemo:tV,useReducer:gk,useRef:XU,useState:function(){return gk(iv)},useDebugValue:xA,useDeferredValue:function(t){var e=co();return rV(e,ai.memoizedState,t)},useTransition:function(){var t=gk(iv)[0],e=co().memoizedState;return[t,e]},useMutableSource:VU,useSyncExternalStore:GU,useId:nV,unstable_isNewReconciler:!1},lce={readContext:lo,useCallback:eV,useContext:lo,useEffect:yA,useImperativeHandle:JU,useInsertionEffect:KU,useLayoutEffect:QU,useMemo:tV,useReducer:mk,useRef:XU,useState:function(){return mk(iv)},useDebugValue:xA,useDeferredValue:function(t){var e=co();return ai===null?e.memoizedState=t:rV(e,ai.memoizedState,t)},useTransition:function(){var t=mk(iv)[0],e=co().memoizedState;return[t,e]},useMutableSource:VU,useSyncExternalStore:GU,useId:nV,unstable_isNewReconciler:!1};function Co(t,e){if(t&&t.defaultProps){e=Sn({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function h7(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:Sn({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var V5={isMounted:function(t){return(t=t._reactInternals)?af(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=Ma(),i=Bu(t),a=xc(n,i);a.payload=e,r!=null&&(a.callback=r),e=Pu(t,a,i),e!==null&&(Bo(e,t,i,n),Yx(e,t,i))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=Ma(),i=Bu(t),a=xc(n,i);a.tag=1,a.payload=e,r!=null&&(a.callback=r),e=Pu(t,a,i),e!==null&&(Bo(e,t,i,n),Yx(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=Ma(),n=Bu(t),i=xc(r,n);i.tag=2,e!=null&&(i.callback=e),e=Pu(t,i,n),e!==null&&(Bo(e,t,n,r),Yx(e,t,n))}};function VR(t,e,r,n,i,a,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,a,s):e.prototype&&e.prototype.isPureReactComponent?!Qm(r,n)||!Qm(i,a):!0}function oV(t,e,r){var n=!1,i=qu,a=e.contextType;return typeof a=="object"&&a!==null?a=lo(a):(i=as(e)?bd:ya.current,n=e.contextTypes,a=(n=n!=null)?Ep(t,i):qu),e=new e(r,a),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=V5,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=a),e}function GR(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&V5.enqueueReplaceState(e,e.state,null)}function d7(t,e,r,n){var i=t.stateNode;i.props=r,i.state=t.memoizedState,i.refs={},hA(t);var a=e.contextType;typeof a=="object"&&a!==null?i.context=lo(a):(a=as(e)?bd:ya.current,i.context=Ep(t,a)),i.state=t.memoizedState,a=e.getDerivedStateFromProps,typeof a=="function"&&(h7(t,e,a,r),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&V5.enqueueReplaceState(i,i.state,null),s4(t,r,i,n),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function _p(t,e){try{var r="",n=e;do r+=Poe(n),n=n.return;while(n);var i=r}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:t,source:e,stack:i,digest:null}}function vk(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function f7(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var cce=typeof WeakMap=="function"?WeakMap:Map;function lV(t,e,r){r=xc(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){h4||(h4=!0,T7=n),f7(t,e)},r}function cV(t,e,r){r=xc(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var i=e.value;r.payload=function(){return n(i)},r.callback=function(){f7(t,e)}}var a=t.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(r.callback=function(){f7(t,e),typeof n!="function"&&(Fu===null?Fu=new Set([this]):Fu.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),r}function HR(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new cce;var i=new Set;n.set(e,i)}else i=n.get(e),i===void 0&&(i=new Set,n.set(e,i));i.has(r)||(i.add(r),t=Tce.bind(null,t,e,r),e.then(t,t))}function WR(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function YR(t,e,r,n,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=xc(-1,1),e.tag=2,Pu(r,e,1))),r.lanes|=1),t)}var uce=jc.ReactCurrentOwner,ns=!1;function _a(t,e,r,n){e.child=t===null?BU(e,null,r,n):Cp(e,t.child,r,n)}function qR(t,e,r,n,i){r=r.render;var a=e.ref;return x0(e,i),n=mA(t,e,r,n,a,i),r=vA(),t!==null&&!ns?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,_c(t,e,i)):(mn&&r&&iA(e),e.flags|=1,_a(t,e,n,i),e.child)}function jR(t,e,r,n,i){if(t===null){var a=r.type;return typeof a=="function"&&!AA(a)&&a.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=a,uV(t,e,a,n,i)):(t=Zx(r.type,null,n,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(a=t.child,!(t.lanes&i)){var s=a.memoizedProps;if(r=r.compare,r=r!==null?r:Qm,r(s,n)&&t.ref===e.ref)return _c(t,e,i)}return e.flags|=1,t=$u(a,n),t.ref=e.ref,t.return=e,e.child=t}function uV(t,e,r,n,i){if(t!==null){var a=t.memoizedProps;if(Qm(a,n)&&t.ref===e.ref)if(ns=!1,e.pendingProps=n=a,(t.lanes&i)!==0)t.flags&131072&&(ns=!0);else return e.lanes=t.lanes,_c(t,e,i)}return p7(t,e,r,n,i)}function hV(t,e,r){var n=e.pendingProps,i=n.children,a=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},en(t0,bs),bs|=r;else{if(!(r&1073741824))return t=a!==null?a.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,en(t0,bs),bs|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=a!==null?a.baseLanes:r,en(t0,bs),bs|=n}else a!==null?(n=a.baseLanes|r,e.memoizedState=null):n=r,en(t0,bs),bs|=n;return _a(t,e,i,r),e.child}function dV(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function p7(t,e,r,n,i){var a=as(r)?bd:ya.current;return a=Ep(e,a),x0(e,i),r=mA(t,e,r,n,a,i),n=vA(),t!==null&&!ns?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,_c(t,e,i)):(mn&&n&&iA(e),e.flags|=1,_a(t,e,r,i),e.child)}function XR(t,e,r,n,i){if(as(r)){var a=!0;t4(e)}else a=!1;if(x0(e,i),e.stateNode===null)Xx(t,e),oV(e,r,n),d7(e,r,n,i),n=!0;else if(t===null){var s=e.stateNode,o=e.memoizedProps;s.props=o;var l=s.context,u=r.contextType;typeof u=="object"&&u!==null?u=lo(u):(u=as(r)?bd:ya.current,u=Ep(e,u));var h=r.getDerivedStateFromProps,d=typeof h=="function"||typeof s.getSnapshotBeforeUpdate=="function";d||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==n||l!==u)&&GR(e,s,n,u),gu=!1;var p=e.memoizedState;s.state=p,s4(e,n,s,i),l=e.memoizedState,o!==n||p!==l||is.current||gu?(typeof h=="function"&&(h7(e,r,h,n),l=e.memoizedState),(o=gu||VR(e,r,o,n,p,l,u))?(d||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=l),s.props=n,s.state=l,s.context=u,n=o):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{s=e.stateNode,zU(t,e),o=e.memoizedProps,u=e.type===e.elementType?o:Co(e.type,o),s.props=u,d=e.pendingProps,p=s.context,l=r.contextType,typeof l=="object"&&l!==null?l=lo(l):(l=as(r)?bd:ya.current,l=Ep(e,l));var f=r.getDerivedStateFromProps;(h=typeof f=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==d||p!==l)&&GR(e,s,n,l),gu=!1,p=e.memoizedState,s.state=p,s4(e,n,s,i);var g=e.memoizedState;o!==d||p!==g||is.current||gu?(typeof f=="function"&&(h7(e,r,f,n),g=e.memoizedState),(u=gu||VR(e,r,u,n,p,g,l)||!1)?(h||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(n,g,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(n,g,l)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||o===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=g),s.props=n,s.state=g,s.context=l,n=u):(typeof s.componentDidUpdate!="function"||o===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),n=!1)}return g7(t,e,r,n,a,i)}function g7(t,e,r,n,i,a){dV(t,e);var s=(e.flags&128)!==0;if(!n&&!s)return i&&DR(e,r,!1),_c(t,e,a);n=e.stateNode,uce.current=e;var o=s&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&s?(e.child=Cp(e,t.child,null,a),e.child=Cp(e,null,o,a)):_a(t,e,o,a),e.memoizedState=n.state,i&&DR(e,r,!0),e.child}function fV(t){var e=t.stateNode;e.pendingContext?IR(t,e.pendingContext,e.pendingContext!==e.context):e.context&&IR(t,e.context,!1),dA(t,e.containerInfo)}function KR(t,e,r,n,i){return Sp(),sA(i),e.flags|=256,_a(t,e,r,n),e.child}var m7={dehydrated:null,treeContext:null,retryLane:0};function v7(t){return{baseLanes:t,cachePool:null,transitions:null}}function pV(t,e,r){var n=e.pendingProps,i=bn.current,a=!1,s=(e.flags&128)!==0,o;if((o=s)||(o=t!==null&&t.memoizedState===null?!1:(i&2)!==0),o?(a=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),en(bn,i&1),t===null)return c7(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=n.children,t=n.fallback,a?(n=e.mode,a=e.child,s={mode:"hidden",children:s},!(n&1)&&a!==null?(a.childLanes=0,a.pendingProps=s):a=W5(s,n,0,null),t=fd(t,n,r,null),a.return=e,t.return=e,a.sibling=t,e.child=a,e.child.memoizedState=v7(r),e.memoizedState=m7,t):bA(e,s));if(i=t.memoizedState,i!==null&&(o=i.dehydrated,o!==null))return hce(t,e,s,n,o,i,r);if(a){a=n.fallback,s=e.mode,i=t.child,o=i.sibling;var l={mode:"hidden",children:n.children};return!(s&1)&&e.child!==i?(n=e.child,n.childLanes=0,n.pendingProps=l,e.deletions=null):(n=$u(i,l),n.subtreeFlags=i.subtreeFlags&14680064),o!==null?a=$u(o,a):(a=fd(a,s,r,null),a.flags|=2),a.return=e,n.return=e,n.sibling=a,e.child=n,n=a,a=e.child,s=t.child.memoizedState,s=s===null?v7(r):{baseLanes:s.baseLanes|r,cachePool:null,transitions:s.transitions},a.memoizedState=s,a.childLanes=t.childLanes&~r,e.memoizedState=m7,n}return a=t.child,t=a.sibling,n=$u(a,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function bA(t,e){return e=W5({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function _2(t,e,r,n){return n!==null&&sA(n),Cp(e,t.child,null,r),t=bA(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function hce(t,e,r,n,i,a,s){if(r)return e.flags&256?(e.flags&=-257,n=vk(Error(st(422))),_2(t,e,s,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(a=n.fallback,i=e.mode,n=W5({mode:"visible",children:n.children},i,0,null),a=fd(a,i,s,null),a.flags|=2,n.return=e,a.return=e,n.sibling=a,e.child=n,e.mode&1&&Cp(e,t.child,null,s),e.child.memoizedState=v7(s),e.memoizedState=m7,a);if(!(e.mode&1))return _2(t,e,s,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var o=n.dgst;return n=o,a=Error(st(419)),n=vk(a,n,void 0),_2(t,e,s,n)}if(o=(s&t.childLanes)!==0,ns||o){if(n=Ci,n!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|s)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,Ac(t,i),Bo(n,t,i,-1))}return CA(),n=vk(Error(st(421))),_2(t,e,s,n)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=Ece.bind(null,t),i._reactRetry=e,null):(t=a.treeContext,Es=Ou(i.nextSibling),As=e,mn=!0,Ro=null,t!==null&&(js[Xs++]=uc,js[Xs++]=hc,js[Xs++]=wd,uc=t.id,hc=t.overflow,wd=e),e=bA(e,n.children),e.flags|=4096,e)}function QR(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),u7(t.return,e,r)}function yk(t,e,r,n,i){var a=t.memoizedState;a===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailMode=i)}function gV(t,e,r){var n=e.pendingProps,i=n.revealOrder,a=n.tail;if(_a(t,e,n.children,r),n=bn.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&QR(t,r,e);else if(t.tag===19)QR(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(en(bn,n),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(r=e.child,i=null;r!==null;)t=r.alternate,t!==null&&o4(t)===null&&(i=r),r=r.sibling;r=i,r===null?(i=e.child,e.child=null):(i=r.sibling,r.sibling=null),yk(e,!1,i,r,a);break;case"backwards":for(r=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&o4(t)===null){e.child=i;break}t=i.sibling,i.sibling=r,r=i,i=t}yk(e,!0,r,null,a);break;case"together":yk(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Xx(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function _c(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),Td|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(st(153));if(e.child!==null){for(t=e.child,r=$u(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=$u(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function dce(t,e,r){switch(e.tag){case 3:fV(e),Sp();break;case 5:UU(e);break;case 1:as(e.type)&&t4(e);break;case 4:dA(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,i=e.memoizedProps.value;en(i4,n._currentValue),n._currentValue=i;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(en(bn,bn.current&1),e.flags|=128,null):r&e.child.childLanes?pV(t,e,r):(en(bn,bn.current&1),t=_c(t,e,r),t!==null?t.sibling:null);en(bn,bn.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return gV(t,e,r);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),en(bn,bn.current),n)break;return null;case 22:case 23:return e.lanes=0,hV(t,e,r)}return _c(t,e,r)}var mV,y7,vV,yV;mV=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};y7=function(){};vV=function(t,e,r,n){var i=t.memoizedProps;if(i!==n){t=e.stateNode,td(Tl.current);var a=null;switch(r){case"input":i=zE(t,i),n=zE(t,n),a=[];break;case"select":i=Sn({},i,{value:void 0}),n=Sn({},n,{value:void 0}),a=[];break;case"textarea":i=GE(t,i),n=GE(t,n),a=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=Jb)}WE(r,n);var s;r=null;for(u in i)if(!n.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var o=i[u];for(s in o)o.hasOwnProperty(s)&&(r||(r={}),r[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Hm.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in n){var l=n[u];if(o=i!=null?i[u]:void 0,n.hasOwnProperty(u)&&l!==o&&(l!=null||o!=null))if(u==="style")if(o){for(s in o)!o.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(r||(r={}),r[s]="");for(s in l)l.hasOwnProperty(s)&&o[s]!==l[s]&&(r||(r={}),r[s]=l[s])}else r||(a||(a=[]),a.push(u,r)),r=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(a=a||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(a=a||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Hm.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&cn("scroll",t),a||o===l||(a=[])):(a=a||[]).push(u,l))}r&&(a=a||[]).push("style",r);var u=a;(e.updateQueue=u)&&(e.flags|=4)}};yV=function(t,e,r,n){r!==n&&(e.flags|=4)};function u1(t,e){if(!mn)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function ia(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function fce(t,e,r){var n=e.pendingProps;switch(aA(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ia(e),null;case 1:return as(e.type)&&e4(),ia(e),null;case 3:return n=e.stateNode,Ap(),hn(is),hn(ya),pA(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(C2(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Ro!==null&&(C7(Ro),Ro=null))),y7(t,e),ia(e),null;case 5:fA(e);var i=td(rv.current);if(r=e.type,t!==null&&e.stateNode!=null)vV(t,e,r,n,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(st(166));return ia(e),null}if(t=td(Tl.current),C2(e)){n=e.stateNode,r=e.type;var a=e.memoizedProps;switch(n[fl]=e,n[ev]=a,t=(e.mode&1)!==0,r){case"dialog":cn("cancel",n),cn("close",n);break;case"iframe":case"object":case"embed":cn("load",n);break;case"video":case"audio":for(i=0;i<Y1.length;i++)cn(Y1[i],n);break;case"source":cn("error",n);break;case"img":case"image":case"link":cn("error",n),cn("load",n);break;case"details":cn("toggle",n);break;case"input":sR(n,a),cn("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},cn("invalid",n);break;case"textarea":lR(n,a),cn("invalid",n)}WE(r,a),i=null;for(var s in a)if(a.hasOwnProperty(s)){var o=a[s];s==="children"?typeof o=="string"?n.textContent!==o&&(a.suppressHydrationWarning!==!0&&S2(n.textContent,o,t),i=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(a.suppressHydrationWarning!==!0&&S2(n.textContent,o,t),i=["children",""+o]):Hm.hasOwnProperty(s)&&o!=null&&s==="onScroll"&&cn("scroll",n)}switch(r){case"input":v2(n),oR(n,a,!0);break;case"textarea":v2(n),cR(n);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(n.onclick=Jb)}n=i,e.updateQueue=n,n!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Yz(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=s.createElement(r,{is:n.is}):(t=s.createElement(r),r==="select"&&(s=t,n.multiple?s.multiple=!0:n.size&&(s.size=n.size))):t=s.createElementNS(t,r),t[fl]=e,t[ev]=n,mV(t,e,!1,!1),e.stateNode=t;e:{switch(s=YE(r,n),r){case"dialog":cn("cancel",t),cn("close",t),i=n;break;case"iframe":case"object":case"embed":cn("load",t),i=n;break;case"video":case"audio":for(i=0;i<Y1.length;i++)cn(Y1[i],t);i=n;break;case"source":cn("error",t),i=n;break;case"img":case"image":case"link":cn("error",t),cn("load",t),i=n;break;case"details":cn("toggle",t),i=n;break;case"input":sR(t,n),i=zE(t,n),cn("invalid",t);break;case"option":i=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},i=Sn({},n,{value:void 0}),cn("invalid",t);break;case"textarea":lR(t,n),i=GE(t,n),cn("invalid",t);break;default:i=n}WE(r,i),o=i;for(a in o)if(o.hasOwnProperty(a)){var l=o[a];a==="style"?Xz(t,l):a==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&qz(t,l)):a==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&Wm(t,l):typeof l=="number"&&Wm(t,""+l):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Hm.hasOwnProperty(a)?l!=null&&a==="onScroll"&&cn("scroll",t):l!=null&&H8(t,a,l,s))}switch(r){case"input":v2(t),oR(t,n,!1);break;case"textarea":v2(t),cR(t);break;case"option":n.value!=null&&t.setAttribute("value",""+Yu(n.value));break;case"select":t.multiple=!!n.multiple,a=n.value,a!=null?g0(t,!!n.multiple,a,!1):n.defaultValue!=null&&g0(t,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Jb)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return ia(e),null;case 6:if(t&&e.stateNode!=null)yV(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(st(166));if(r=td(rv.current),td(Tl.current),C2(e)){if(n=e.stateNode,r=e.memoizedProps,n[fl]=e,(a=n.nodeValue!==r)&&(t=As,t!==null))switch(t.tag){case 3:S2(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&S2(n.nodeValue,r,(t.mode&1)!==0)}a&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[fl]=e,e.stateNode=n}return ia(e),null;case 13:if(hn(bn),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(mn&&Es!==null&&e.mode&1&&!(e.flags&128))PU(),Sp(),e.flags|=98560,a=!1;else if(a=C2(e),n!==null&&n.dehydrated!==null){if(t===null){if(!a)throw Error(st(318));if(a=e.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(st(317));a[fl]=e}else Sp(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;ia(e),a=!1}else Ro!==null&&(C7(Ro),Ro=null),a=!0;if(!a)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||bn.current&1?hi===0&&(hi=3):CA())),e.updateQueue!==null&&(e.flags|=4),ia(e),null);case 4:return Ap(),y7(t,e),t===null&&Zm(e.stateNode.containerInfo),ia(e),null;case 10:return cA(e.type._context),ia(e),null;case 17:return as(e.type)&&e4(),ia(e),null;case 19:if(hn(bn),a=e.memoizedState,a===null)return ia(e),null;if(n=(e.flags&128)!==0,s=a.rendering,s===null)if(n)u1(a,!1);else{if(hi!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=o4(t),s!==null){for(e.flags|=128,u1(a,!1),n=s.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)a=r,t=n,a.flags&=14680066,s=a.alternate,s===null?(a.childLanes=0,a.lanes=t,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=s.childLanes,a.lanes=s.lanes,a.child=s.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=s.memoizedProps,a.memoizedState=s.memoizedState,a.updateQueue=s.updateQueue,a.type=s.type,t=s.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return en(bn,bn.current&1|2),e.child}t=t.sibling}a.tail!==null&&Vn()>Lp&&(e.flags|=128,n=!0,u1(a,!1),e.lanes=4194304)}else{if(!n)if(t=o4(s),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),u1(a,!0),a.tail===null&&a.tailMode==="hidden"&&!s.alternate&&!mn)return ia(e),null}else 2*Vn()-a.renderingStartTime>Lp&&r!==1073741824&&(e.flags|=128,n=!0,u1(a,!1),e.lanes=4194304);a.isBackwards?(s.sibling=e.child,e.child=s):(r=a.last,r!==null?r.sibling=s:e.child=s,a.last=s)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=Vn(),e.sibling=null,r=bn.current,en(bn,n?r&1|2:r&1),e):(ia(e),null);case 22:case 23:return SA(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?bs&1073741824&&(ia(e),e.subtreeFlags&6&&(e.flags|=8192)):ia(e),null;case 24:return null;case 25:return null}throw Error(st(156,e.tag))}function pce(t,e){switch(aA(e),e.tag){case 1:return as(e.type)&&e4(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Ap(),hn(is),hn(ya),pA(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return fA(e),null;case 13:if(hn(bn),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(st(340));Sp()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return hn(bn),null;case 4:return Ap(),null;case 10:return cA(e.type._context),null;case 22:case 23:return SA(),null;case 24:return null;default:return null}}var L2=!1,da=!1,gce=typeof WeakSet=="function"?WeakSet:Set,Ct=null;function e0(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){_n(t,e,n)}else r.current=null}function x7(t,e,r){try{r()}catch(n){_n(t,e,n)}}var ZR=!1;function mce(t,e){if(r7=Kb,t=TU(),nA(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{r.nodeType,a.nodeType}catch{r=null;break e}var s=0,o=-1,l=-1,u=0,h=0,d=t,p=null;t:for(;;){for(var f;d!==r||i!==0&&d.nodeType!==3||(o=s+i),d!==a||n!==0&&d.nodeType!==3||(l=s+n),d.nodeType===3&&(s+=d.nodeValue.length),(f=d.firstChild)!==null;)p=d,d=f;for(;;){if(d===t)break t;if(p===r&&++u===i&&(o=s),p===a&&++h===n&&(l=s),(f=d.nextSibling)!==null)break;d=p,p=d.parentNode}d=f}r=o===-1||l===-1?null:{start:o,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(n7={focusedElem:t,selectionRange:r},Kb=!1,Ct=e;Ct!==null;)if(e=Ct,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Ct=t;else for(;Ct!==null;){e=Ct;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var m=g.memoizedProps,y=g.memoizedState,v=e.stateNode,x=v.getSnapshotBeforeUpdate(e.elementType===e.type?m:Co(e.type,m),y);v.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var w=e.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(st(163))}}catch(k){_n(e,e.return,k)}if(t=e.sibling,t!==null){t.return=e.return,Ct=t;break}Ct=e.return}return g=ZR,ZR=!1,g}function km(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&t)===t){var a=i.destroy;i.destroy=void 0,a!==void 0&&x7(e,r,a)}i=i.next}while(i!==n)}}function G5(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function b7(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function xV(t){var e=t.alternate;e!==null&&(t.alternate=null,xV(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[fl],delete e[ev],delete e[s7],delete e[Zle],delete e[Jle])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function bV(t){return t.tag===5||t.tag===3||t.tag===4}function JR(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||bV(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function w7(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=Jb));else if(n!==4&&(t=t.child,t!==null))for(w7(t,e,r),t=t.sibling;t!==null;)w7(t,e,r),t=t.sibling}function k7(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(k7(t,e,r),t=t.sibling;t!==null;)k7(t,e,r),t=t.sibling}var Fi=null,_o=!1;function nu(t,e,r){for(r=r.child;r!==null;)wV(t,e,r),r=r.sibling}function wV(t,e,r){if(kl&&typeof kl.onCommitFiberUnmount=="function")try{kl.onCommitFiberUnmount(O5,r)}catch{}switch(r.tag){case 5:da||e0(r,e);case 6:var n=Fi,i=_o;Fi=null,nu(t,e,r),Fi=n,_o=i,Fi!==null&&(_o?(t=Fi,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):Fi.removeChild(r.stateNode));break;case 18:Fi!==null&&(_o?(t=Fi,r=r.stateNode,t.nodeType===8?hk(t.parentNode,r):t.nodeType===1&&hk(t,r),Xm(t)):hk(Fi,r.stateNode));break;case 4:n=Fi,i=_o,Fi=r.stateNode.containerInfo,_o=!0,nu(t,e,r),Fi=n,_o=i;break;case 0:case 11:case 14:case 15:if(!da&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var a=i,s=a.destroy;a=a.tag,s!==void 0&&(a&2||a&4)&&x7(r,e,s),i=i.next}while(i!==n)}nu(t,e,r);break;case 1:if(!da&&(e0(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){_n(r,e,o)}nu(t,e,r);break;case 21:nu(t,e,r);break;case 22:r.mode&1?(da=(n=da)||r.memoizedState!==null,nu(t,e,r),da=n):nu(t,e,r);break;default:nu(t,e,r)}}function eM(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new gce),e.forEach(function(n){var i=Sce.bind(null,t,n);r.has(n)||(r.add(n),n.then(i,i))})}}function wo(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var a=t,s=e,o=s;e:for(;o!==null;){switch(o.tag){case 5:Fi=o.stateNode,_o=!1;break e;case 3:Fi=o.stateNode.containerInfo,_o=!0;break e;case 4:Fi=o.stateNode.containerInfo,_o=!0;break e}o=o.return}if(Fi===null)throw Error(st(160));wV(a,s,i),Fi=null,_o=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){_n(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)kV(e,t),e=e.sibling}function kV(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(wo(e,t),nl(t),n&4){try{km(3,t,t.return),G5(3,t)}catch(m){_n(t,t.return,m)}try{km(5,t,t.return)}catch(m){_n(t,t.return,m)}}break;case 1:wo(e,t),nl(t),n&512&&r!==null&&e0(r,r.return);break;case 5:if(wo(e,t),nl(t),n&512&&r!==null&&e0(r,r.return),t.flags&32){var i=t.stateNode;try{Wm(i,"")}catch(m){_n(t,t.return,m)}}if(n&4&&(i=t.stateNode,i!=null)){var a=t.memoizedProps,s=r!==null?r.memoizedProps:a,o=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{o==="input"&&a.type==="radio"&&a.name!=null&&Hz(i,a),YE(o,s);var u=YE(o,a);for(s=0;s<l.length;s+=2){var h=l[s],d=l[s+1];h==="style"?Xz(i,d):h==="dangerouslySetInnerHTML"?qz(i,d):h==="children"?Wm(i,d):H8(i,h,d,u)}switch(o){case"input":UE(i,a);break;case"textarea":Wz(i,a);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var f=a.value;f!=null?g0(i,!!a.multiple,f,!1):p!==!!a.multiple&&(a.defaultValue!=null?g0(i,!!a.multiple,a.defaultValue,!0):g0(i,!!a.multiple,a.multiple?[]:"",!1))}i[ev]=a}catch(m){_n(t,t.return,m)}}break;case 6:if(wo(e,t),nl(t),n&4){if(t.stateNode===null)throw Error(st(162));i=t.stateNode,a=t.memoizedProps;try{i.nodeValue=a}catch(m){_n(t,t.return,m)}}break;case 3:if(wo(e,t),nl(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Xm(e.containerInfo)}catch(m){_n(t,t.return,m)}break;case 4:wo(e,t),nl(t);break;case 13:wo(e,t),nl(t),i=t.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(TA=Vn())),n&4&&eM(t);break;case 22:if(h=r!==null&&r.memoizedState!==null,t.mode&1?(da=(u=da)||h,wo(e,t),da=u):wo(e,t),nl(t),n&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!h&&t.mode&1)for(Ct=t,h=t.child;h!==null;){for(d=Ct=h;Ct!==null;){switch(p=Ct,f=p.child,p.tag){case 0:case 11:case 14:case 15:km(4,p,p.return);break;case 1:e0(p,p.return);var g=p.stateNode;if(typeof g.componentWillUnmount=="function"){n=p,r=p.return;try{e=n,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(m){_n(n,r,m)}}break;case 5:e0(p,p.return);break;case 22:if(p.memoizedState!==null){rM(d);continue}}f!==null?(f.return=p,Ct=f):rM(d)}h=h.sibling}e:for(h=null,d=t;;){if(d.tag===5){if(h===null){h=d;try{i=d.stateNode,u?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(o=d.stateNode,l=d.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=jz("display",s))}catch(m){_n(t,t.return,m)}}}else if(d.tag===6){if(h===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(m){_n(t,t.return,m)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:wo(e,t),nl(t),n&4&&eM(t);break;case 21:break;default:wo(e,t),nl(t)}}function nl(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(bV(r)){var n=r;break e}r=r.return}throw Error(st(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(Wm(i,""),n.flags&=-33);var a=JR(t);k7(t,a,i);break;case 3:case 4:var s=n.stateNode.containerInfo,o=JR(t);w7(t,o,s);break;default:throw Error(st(161))}}catch(l){_n(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function vce(t,e,r){Ct=t,TV(t)}function TV(t,e,r){for(var n=(t.mode&1)!==0;Ct!==null;){var i=Ct,a=i.child;if(i.tag===22&&n){var s=i.memoizedState!==null||L2;if(!s){var o=i.alternate,l=o!==null&&o.memoizedState!==null||da;o=L2;var u=da;if(L2=s,(da=l)&&!u)for(Ct=i;Ct!==null;)s=Ct,l=s.child,s.tag===22&&s.memoizedState!==null?nM(i):l!==null?(l.return=s,Ct=l):nM(i);for(;a!==null;)Ct=a,TV(a),a=a.sibling;Ct=i,L2=o,da=u}tM(t)}else i.subtreeFlags&8772&&a!==null?(a.return=i,Ct=a):tM(t)}}function tM(t){for(;Ct!==null;){var e=Ct;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:da||G5(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!da)if(r===null)n.componentDidMount();else{var i=e.elementType===e.type?r.memoizedProps:Co(e.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var a=e.updateQueue;a!==null&&$R(e,a,n);break;case 3:var s=e.updateQueue;if(s!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}$R(e,s,r)}break;case 5:var o=e.stateNode;if(r===null&&e.flags&4){r=o;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var h=u.memoizedState;if(h!==null){var d=h.dehydrated;d!==null&&Xm(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(st(163))}da||e.flags&512&&b7(e)}catch(p){_n(e,e.return,p)}}if(e===t){Ct=null;break}if(r=e.sibling,r!==null){r.return=e.return,Ct=r;break}Ct=e.return}}function rM(t){for(;Ct!==null;){var e=Ct;if(e===t){Ct=null;break}var r=e.sibling;if(r!==null){r.return=e.return,Ct=r;break}Ct=e.return}}function nM(t){for(;Ct!==null;){var e=Ct;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{G5(4,e)}catch(l){_n(e,r,l)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var i=e.return;try{n.componentDidMount()}catch(l){_n(e,i,l)}}var a=e.return;try{b7(e)}catch(l){_n(e,a,l)}break;case 5:var s=e.return;try{b7(e)}catch(l){_n(e,s,l)}}}catch(l){_n(e,e.return,l)}if(e===t){Ct=null;break}var o=e.sibling;if(o!==null){o.return=e.return,Ct=o;break}Ct=e.return}}var yce=Math.ceil,u4=jc.ReactCurrentDispatcher,wA=jc.ReactCurrentOwner,so=jc.ReactCurrentBatchConfig,kr=0,Ci=null,Kn=null,Wi=0,bs=0,t0=yh(0),hi=0,sv=null,Td=0,H5=0,kA=0,Tm=null,Xa=null,TA=0,Lp=1/0,tc=null,h4=!1,T7=null,Fu=null,N2=!1,Su=null,d4=0,Em=0,E7=null,Kx=-1,Qx=0;function Ma(){return kr&6?Vn():Kx!==-1?Kx:Kx=Vn()}function Bu(t){return t.mode&1?kr&2&&Wi!==0?Wi&-Wi:tce.transition!==null?(Qx===0&&(Qx=oU()),Qx):(t=$r,t!==0||(t=window.event,t=t===void 0?16:pU(t.type)),t):1}function Bo(t,e,r,n){if(50<Em)throw Em=0,E7=null,Error(st(185));cy(t,r,n),(!(kr&2)||t!==Ci)&&(t===Ci&&(!(kr&2)&&(H5|=r),hi===4&&yu(t,Wi)),ss(t,n),r===1&&kr===0&&!(e.mode&1)&&(Lp=Vn()+500,z5&&xh()))}function ss(t,e){var r=t.callbackNode;tle(t,e);var n=Xb(t,t===Ci?Wi:0);if(n===0)r!==null&&dR(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&dR(r),e===1)t.tag===0?ece(iM.bind(null,t)):IU(iM.bind(null,t)),Kle(function(){!(kr&6)&&xh()}),r=null;else{switch(lU(n)){case 1:r=X8;break;case 4:r=aU;break;case 16:r=jb;break;case 536870912:r=sU;break;default:r=jb}r=RV(r,EV.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function EV(t,e){if(Kx=-1,Qx=0,kr&6)throw Error(st(327));var r=t.callbackNode;if(b0()&&t.callbackNode!==r)return null;var n=Xb(t,t===Ci?Wi:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=f4(t,n);else{e=n;var i=kr;kr|=2;var a=CV();(Ci!==t||Wi!==e)&&(tc=null,Lp=Vn()+500,dd(t,e));do try{wce();break}catch(o){SV(t,o)}while(!0);lA(),u4.current=a,kr=i,Kn!==null?e=0:(Ci=null,Wi=0,e=hi)}if(e!==0){if(e===2&&(i=QE(t),i!==0&&(n=i,e=S7(t,i))),e===1)throw r=sv,dd(t,0),yu(t,n),ss(t,Vn()),r;if(e===6)yu(t,n);else{if(i=t.current.alternate,!(n&30)&&!xce(i)&&(e=f4(t,n),e===2&&(a=QE(t),a!==0&&(n=a,e=S7(t,a))),e===1))throw r=sv,dd(t,0),yu(t,n),ss(t,Vn()),r;switch(t.finishedWork=i,t.finishedLanes=n,e){case 0:case 1:throw Error(st(345));case 2:Fh(t,Xa,tc);break;case 3:if(yu(t,n),(n&130023424)===n&&(e=TA+500-Vn(),10<e)){if(Xb(t,0)!==0)break;if(i=t.suspendedLanes,(i&n)!==n){Ma(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=a7(Fh.bind(null,t,Xa,tc),e);break}Fh(t,Xa,tc);break;case 4:if(yu(t,n),(n&4194240)===n)break;for(e=t.eventTimes,i=-1;0<n;){var s=31-Fo(n);a=1<<s,s=e[s],s>i&&(i=s),n&=~a}if(n=i,n=Vn()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*yce(n/1960))-n,10<n){t.timeoutHandle=a7(Fh.bind(null,t,Xa,tc),n);break}Fh(t,Xa,tc);break;case 5:Fh(t,Xa,tc);break;default:throw Error(st(329))}}}return ss(t,Vn()),t.callbackNode===r?EV.bind(null,t):null}function S7(t,e){var r=Tm;return t.current.memoizedState.isDehydrated&&(dd(t,e).flags|=256),t=f4(t,e),t!==2&&(e=Xa,Xa=r,e!==null&&C7(e)),t}function C7(t){Xa===null?Xa=t:Xa.push.apply(Xa,t)}function xce(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],a=i.getSnapshot;i=i.value;try{if(!Xo(a(),i))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function yu(t,e){for(e&=~kA,e&=~H5,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-Fo(e),n=1<<r;t[r]=-1,e&=~n}}function iM(t){if(kr&6)throw Error(st(327));b0();var e=Xb(t,0);if(!(e&1))return ss(t,Vn()),null;var r=f4(t,e);if(t.tag!==0&&r===2){var n=QE(t);n!==0&&(e=n,r=S7(t,n))}if(r===1)throw r=sv,dd(t,0),yu(t,e),ss(t,Vn()),r;if(r===6)throw Error(st(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Fh(t,Xa,tc),ss(t,Vn()),null}function EA(t,e){var r=kr;kr|=1;try{return t(e)}finally{kr=r,kr===0&&(Lp=Vn()+500,z5&&xh())}}function Ed(t){Su!==null&&Su.tag===0&&!(kr&6)&&b0();var e=kr;kr|=1;var r=so.transition,n=$r;try{if(so.transition=null,$r=1,t)return t()}finally{$r=n,so.transition=r,kr=e,!(kr&6)&&xh()}}function SA(){bs=t0.current,hn(t0)}function dd(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,Xle(r)),Kn!==null)for(r=Kn.return;r!==null;){var n=r;switch(aA(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&e4();break;case 3:Ap(),hn(is),hn(ya),pA();break;case 5:fA(n);break;case 4:Ap();break;case 13:hn(bn);break;case 19:hn(bn);break;case 10:cA(n.type._context);break;case 22:case 23:SA()}r=r.return}if(Ci=t,Kn=t=$u(t.current,null),Wi=bs=e,hi=0,sv=null,kA=H5=Td=0,Xa=Tm=null,ed!==null){for(e=0;e<ed.length;e++)if(r=ed[e],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,a=r.pending;if(a!==null){var s=a.next;a.next=i,n.next=s}r.pending=n}ed=null}return t}function SV(t,e){do{var r=Kn;try{if(lA(),qx.current=c4,l4){for(var n=Tn.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}l4=!1}if(kd=0,Ei=ai=Tn=null,wm=!1,nv=0,wA.current=null,r===null||r.return===null){hi=1,sv=e,Kn=null;break}e:{var a=t,s=r.return,o=r,l=e;if(e=Wi,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,h=o,d=h.tag;if(!(h.mode&1)&&(d===0||d===11||d===15)){var p=h.alternate;p?(h.updateQueue=p.updateQueue,h.memoizedState=p.memoizedState,h.lanes=p.lanes):(h.updateQueue=null,h.memoizedState=null)}var f=WR(s);if(f!==null){f.flags&=-257,YR(f,s,o,a,e),f.mode&1&&HR(a,u,e),e=f,l=u;var g=e.updateQueue;if(g===null){var m=new Set;m.add(l),e.updateQueue=m}else g.add(l);break e}else{if(!(e&1)){HR(a,u,e),CA();break e}l=Error(st(426))}}else if(mn&&o.mode&1){var y=WR(s);if(y!==null){!(y.flags&65536)&&(y.flags|=256),YR(y,s,o,a,e),sA(_p(l,o));break e}}a=l=_p(l,o),hi!==4&&(hi=2),Tm===null?Tm=[a]:Tm.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,e&=-e,a.lanes|=e;var v=lV(a,l,e);BR(a,v);break e;case 1:o=l;var x=a.type,w=a.stateNode;if(!(a.flags&128)&&(typeof x.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Fu===null||!Fu.has(w)))){a.flags|=65536,e&=-e,a.lanes|=e;var k=cV(a,o,e);BR(a,k);break e}}a=a.return}while(a!==null)}_V(r)}catch(E){e=E,Kn===r&&r!==null&&(Kn=r=r.return);continue}break}while(!0)}function CV(){var t=u4.current;return u4.current=c4,t===null?c4:t}function CA(){(hi===0||hi===3||hi===2)&&(hi=4),Ci===null||!(Td&268435455)&&!(H5&268435455)||yu(Ci,Wi)}function f4(t,e){var r=kr;kr|=2;var n=CV();(Ci!==t||Wi!==e)&&(tc=null,dd(t,e));do try{bce();break}catch(i){SV(t,i)}while(!0);if(lA(),kr=r,u4.current=n,Kn!==null)throw Error(st(261));return Ci=null,Wi=0,hi}function bce(){for(;Kn!==null;)AV(Kn)}function wce(){for(;Kn!==null&&!Yoe();)AV(Kn)}function AV(t){var e=NV(t.alternate,t,bs);t.memoizedProps=t.pendingProps,e===null?_V(t):Kn=e,wA.current=null}function _V(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=pce(r,e),r!==null){r.flags&=32767,Kn=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{hi=6,Kn=null;return}}else if(r=fce(r,e,bs),r!==null){Kn=r;return}if(e=e.sibling,e!==null){Kn=e;return}Kn=e=t}while(e!==null);hi===0&&(hi=5)}function Fh(t,e,r){var n=$r,i=so.transition;try{so.transition=null,$r=1,kce(t,e,r,n)}finally{so.transition=i,$r=n}return null}function kce(t,e,r,n){do b0();while(Su!==null);if(kr&6)throw Error(st(327));r=t.finishedWork;var i=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(st(177));t.callbackNode=null,t.callbackPriority=0;var a=r.lanes|r.childLanes;if(rle(t,a),t===Ci&&(Kn=Ci=null,Wi=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||N2||(N2=!0,RV(jb,function(){return b0(),null})),a=(r.flags&15990)!==0,r.subtreeFlags&15990||a){a=so.transition,so.transition=null;var s=$r;$r=1;var o=kr;kr|=4,wA.current=null,mce(t,r),kV(r,t),Vle(n7),Kb=!!r7,n7=r7=null,t.current=r,vce(r),qoe(),kr=o,$r=s,so.transition=a}else t.current=r;if(N2&&(N2=!1,Su=t,d4=i),a=t.pendingLanes,a===0&&(Fu=null),Koe(r.stateNode),ss(t,Vn()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)i=e[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(h4)throw h4=!1,t=T7,T7=null,t;return d4&1&&t.tag!==0&&b0(),a=t.pendingLanes,a&1?t===E7?Em++:(Em=0,E7=t):Em=0,xh(),null}function b0(){if(Su!==null){var t=lU(d4),e=so.transition,r=$r;try{if(so.transition=null,$r=16>t?16:t,Su===null)var n=!1;else{if(t=Su,Su=null,d4=0,kr&6)throw Error(st(331));var i=kr;for(kr|=4,Ct=t.current;Ct!==null;){var a=Ct,s=a.child;if(Ct.flags&16){var o=a.deletions;if(o!==null){for(var l=0;l<o.length;l++){var u=o[l];for(Ct=u;Ct!==null;){var h=Ct;switch(h.tag){case 0:case 11:case 15:km(8,h,a)}var d=h.child;if(d!==null)d.return=h,Ct=d;else for(;Ct!==null;){h=Ct;var p=h.sibling,f=h.return;if(xV(h),h===u){Ct=null;break}if(p!==null){p.return=f,Ct=p;break}Ct=f}}}var g=a.alternate;if(g!==null){var m=g.child;if(m!==null){g.child=null;do{var y=m.sibling;m.sibling=null,m=y}while(m!==null)}}Ct=a}}if(a.subtreeFlags&2064&&s!==null)s.return=a,Ct=s;else e:for(;Ct!==null;){if(a=Ct,a.flags&2048)switch(a.tag){case 0:case 11:case 15:km(9,a,a.return)}var v=a.sibling;if(v!==null){v.return=a.return,Ct=v;break e}Ct=a.return}}var x=t.current;for(Ct=x;Ct!==null;){s=Ct;var w=s.child;if(s.subtreeFlags&2064&&w!==null)w.return=s,Ct=w;else e:for(s=x;Ct!==null;){if(o=Ct,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:G5(9,o)}}catch(E){_n(o,o.return,E)}if(o===s){Ct=null;break e}var k=o.sibling;if(k!==null){k.return=o.return,Ct=k;break e}Ct=o.return}}if(kr=i,xh(),kl&&typeof kl.onPostCommitFiberRoot=="function")try{kl.onPostCommitFiberRoot(O5,t)}catch{}n=!0}return n}finally{$r=r,so.transition=e}}return!1}function aM(t,e,r){e=_p(r,e),e=lV(t,e,1),t=Pu(t,e,1),e=Ma(),t!==null&&(cy(t,1,e),ss(t,e))}function _n(t,e,r){if(t.tag===3)aM(t,t,r);else for(;e!==null;){if(e.tag===3){aM(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Fu===null||!Fu.has(n))){t=_p(r,t),t=cV(e,t,1),e=Pu(e,t,1),t=Ma(),e!==null&&(cy(e,1,t),ss(e,t));break}}e=e.return}}function Tce(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=Ma(),t.pingedLanes|=t.suspendedLanes&r,Ci===t&&(Wi&r)===r&&(hi===4||hi===3&&(Wi&130023424)===Wi&&500>Vn()-TA?dd(t,0):kA|=r),ss(t,e)}function LV(t,e){e===0&&(t.mode&1?(e=b2,b2<<=1,!(b2&130023424)&&(b2=4194304)):e=1);var r=Ma();t=Ac(t,e),t!==null&&(cy(t,e,r),ss(t,r))}function Ece(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),LV(t,r)}function Sce(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,i=t.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(st(314))}n!==null&&n.delete(e),LV(t,r)}var NV;NV=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||is.current)ns=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return ns=!1,dce(t,e,r);ns=!!(t.flags&131072)}else ns=!1,mn&&e.flags&1048576&&DU(e,n4,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;Xx(t,e),t=e.pendingProps;var i=Ep(e,ya.current);x0(e,r),i=mA(null,e,n,t,i,r);var a=vA();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,as(n)?(a=!0,t4(e)):a=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,hA(e),i.updater=V5,e.stateNode=i,i._reactInternals=e,d7(e,n,t,r),e=g7(null,e,n,!0,a,r)):(e.tag=0,mn&&a&&iA(e),_a(null,e,i,r),e=e.child),e;case 16:n=e.elementType;e:{switch(Xx(t,e),t=e.pendingProps,i=n._init,n=i(n._payload),e.type=n,i=e.tag=Ace(n),t=Co(n,t),i){case 0:e=p7(null,e,n,t,r);break e;case 1:e=XR(null,e,n,t,r);break e;case 11:e=qR(null,e,n,t,r);break e;case 14:e=jR(null,e,n,Co(n.type,t),r);break e}throw Error(st(306,n,""))}return e;case 0:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Co(n,i),p7(t,e,n,i,r);case 1:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Co(n,i),XR(t,e,n,i,r);case 3:e:{if(fV(e),t===null)throw Error(st(387));n=e.pendingProps,a=e.memoizedState,i=a.element,zU(t,e),s4(e,n,null,r);var s=e.memoizedState;if(n=s.element,a.isDehydrated)if(a={element:n,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=a,e.memoizedState=a,e.flags&256){i=_p(Error(st(423)),e),e=KR(t,e,n,r,i);break e}else if(n!==i){i=_p(Error(st(424)),e),e=KR(t,e,n,r,i);break e}else for(Es=Ou(e.stateNode.containerInfo.firstChild),As=e,mn=!0,Ro=null,r=BU(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Sp(),n===i){e=_c(t,e,r);break e}_a(t,e,n,r)}e=e.child}return e;case 5:return UU(e),t===null&&c7(e),n=e.type,i=e.pendingProps,a=t!==null?t.memoizedProps:null,s=i.children,i7(n,i)?s=null:a!==null&&i7(n,a)&&(e.flags|=32),dV(t,e),_a(t,e,s,r),e.child;case 6:return t===null&&c7(e),null;case 13:return pV(t,e,r);case 4:return dA(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=Cp(e,null,n,r):_a(t,e,n,r),e.child;case 11:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Co(n,i),qR(t,e,n,i,r);case 7:return _a(t,e,e.pendingProps,r),e.child;case 8:return _a(t,e,e.pendingProps.children,r),e.child;case 12:return _a(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,i=e.pendingProps,a=e.memoizedProps,s=i.value,en(i4,n._currentValue),n._currentValue=s,a!==null)if(Xo(a.value,s)){if(a.children===i.children&&!is.current){e=_c(t,e,r);break e}}else for(a=e.child,a!==null&&(a.return=e);a!==null;){var o=a.dependencies;if(o!==null){s=a.child;for(var l=o.firstContext;l!==null;){if(l.context===n){if(a.tag===1){l=xc(-1,r&-r),l.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var h=u.pending;h===null?l.next=l:(l.next=h.next,h.next=l),u.pending=l}}a.lanes|=r,l=a.alternate,l!==null&&(l.lanes|=r),u7(a.return,r,e),o.lanes|=r;break}l=l.next}}else if(a.tag===10)s=a.type===e.type?null:a.child;else if(a.tag===18){if(s=a.return,s===null)throw Error(st(341));s.lanes|=r,o=s.alternate,o!==null&&(o.lanes|=r),u7(s,r,e),s=a.sibling}else s=a.child;if(s!==null)s.return=a;else for(s=a;s!==null;){if(s===e){s=null;break}if(a=s.sibling,a!==null){a.return=s.return,s=a;break}s=s.return}a=s}_a(t,e,i.children,r),e=e.child}return e;case 9:return i=e.type,n=e.pendingProps.children,x0(e,r),i=lo(i),n=n(i),e.flags|=1,_a(t,e,n,r),e.child;case 14:return n=e.type,i=Co(n,e.pendingProps),i=Co(n.type,i),jR(t,e,n,i,r);case 15:return uV(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Co(n,i),Xx(t,e),e.tag=1,as(n)?(t=!0,t4(e)):t=!1,x0(e,r),oV(e,n,i),d7(e,n,i,r),g7(null,e,n,!0,t,r);case 19:return gV(t,e,r);case 22:return hV(t,e,r)}throw Error(st(156,e.tag))};function RV(t,e){return iU(t,e)}function Cce(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function to(t,e,r,n){return new Cce(t,e,r,n)}function AA(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Ace(t){if(typeof t=="function")return AA(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Y8)return 11;if(t===q8)return 14}return 2}function $u(t,e){var r=t.alternate;return r===null?(r=to(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function Zx(t,e,r,n,i,a){var s=2;if(n=t,typeof t=="function")AA(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case Wf:return fd(r.children,i,a,e);case W8:s=8,i|=8;break;case PE:return t=to(12,r,e,i|2),t.elementType=PE,t.lanes=a,t;case FE:return t=to(13,r,e,i),t.elementType=FE,t.lanes=a,t;case BE:return t=to(19,r,e,i),t.elementType=BE,t.lanes=a,t;case Uz:return W5(r,i,a,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case $z:s=10;break e;case zz:s=9;break e;case Y8:s=11;break e;case q8:s=14;break e;case pu:s=16,n=null;break e}throw Error(st(130,t==null?t:typeof t,""))}return e=to(s,r,e,i),e.elementType=t,e.type=n,e.lanes=a,e}function fd(t,e,r,n){return t=to(7,t,n,e),t.lanes=r,t}function W5(t,e,r,n){return t=to(22,t,n,e),t.elementType=Uz,t.lanes=r,t.stateNode={isHidden:!1},t}function xk(t,e,r){return t=to(6,t,null,e),t.lanes=r,t}function bk(t,e,r){return e=to(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function _ce(t,e,r,n,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ek(0),this.expirationTimes=ek(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ek(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function _A(t,e,r,n,i,a,s,o,l){return t=new _ce(t,e,r,o,l),e===1?(e=1,a===!0&&(e|=8)):e=0,a=to(3,null,null,e),t.current=a,a.stateNode=t,a.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},hA(a),t}function Lce(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Hf,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function MV(t){if(!t)return qu;t=t._reactInternals;e:{if(af(t)!==t||t.tag!==1)throw Error(st(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(as(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(st(171))}if(t.tag===1){var r=t.type;if(as(r))return MU(t,r,e)}return e}function IV(t,e,r,n,i,a,s,o,l){return t=_A(r,n,!0,t,i,a,s,o,l),t.context=MV(null),r=t.current,n=Ma(),i=Bu(r),a=xc(n,i),a.callback=e??null,Pu(r,a,i),t.current.lanes=i,cy(t,i,n),ss(t,n),t}function Y5(t,e,r,n){var i=e.current,a=Ma(),s=Bu(i);return r=MV(r),e.context===null?e.context=r:e.pendingContext=r,e=xc(a,s),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=Pu(i,e,s),t!==null&&(Bo(t,i,s,a),Yx(t,i,s)),s}function p4(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function sM(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function LA(t,e){sM(t,e),(t=t.alternate)&&sM(t,e)}function Nce(){return null}var DV=typeof reportError=="function"?reportError:function(t){console.error(t)};function NA(t){this._internalRoot=t}q5.prototype.render=NA.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(st(409));Y5(t,e,null,null)};q5.prototype.unmount=NA.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Ed(function(){Y5(null,t,null,null)}),e[Cc]=null}};function q5(t){this._internalRoot=t}q5.prototype.unstable_scheduleHydration=function(t){if(t){var e=hU();t={blockedOn:null,target:t,priority:e};for(var r=0;r<vu.length&&e!==0&&e<vu[r].priority;r++);vu.splice(r,0,t),r===0&&fU(t)}};function RA(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function j5(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function oM(){}function Rce(t,e,r,n,i){if(i){if(typeof n=="function"){var a=n;n=function(){var u=p4(s);a.call(u)}}var s=IV(e,n,t,0,null,!1,!1,"",oM);return t._reactRootContainer=s,t[Cc]=s.current,Zm(t.nodeType===8?t.parentNode:t),Ed(),s}for(;i=t.lastChild;)t.removeChild(i);if(typeof n=="function"){var o=n;n=function(){var u=p4(l);o.call(u)}}var l=_A(t,0,!1,null,null,!1,!1,"",oM);return t._reactRootContainer=l,t[Cc]=l.current,Zm(t.nodeType===8?t.parentNode:t),Ed(function(){Y5(e,l,r,n)}),l}function X5(t,e,r,n,i){var a=r._reactRootContainer;if(a){var s=a;if(typeof i=="function"){var o=i;i=function(){var l=p4(s);o.call(l)}}Y5(e,s,t,i)}else s=Rce(r,e,t,i,n);return p4(s)}cU=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=W1(e.pendingLanes);r!==0&&(K8(e,r|1),ss(e,Vn()),!(kr&6)&&(Lp=Vn()+500,xh()))}break;case 13:Ed(function(){var n=Ac(t,1);if(n!==null){var i=Ma();Bo(n,t,1,i)}}),LA(t,1)}};Q8=function(t){if(t.tag===13){var e=Ac(t,134217728);if(e!==null){var r=Ma();Bo(e,t,134217728,r)}LA(t,134217728)}};uU=function(t){if(t.tag===13){var e=Bu(t),r=Ac(t,e);if(r!==null){var n=Ma();Bo(r,t,e,n)}LA(t,e)}};hU=function(){return $r};dU=function(t,e){var r=$r;try{return $r=t,e()}finally{$r=r}};jE=function(t,e,r){switch(e){case"input":if(UE(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var i=$5(n);if(!i)throw Error(st(90));Gz(n),UE(n,i)}}}break;case"textarea":Wz(t,r);break;case"select":e=r.value,e!=null&&g0(t,!!r.multiple,e,!1)}};Zz=EA;Jz=Ed;var Mce={usingClientEntryPoint:!1,Events:[hy,Xf,$5,Kz,Qz,EA]},h1={findFiberByHostInstance:Jh,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Ice={bundleType:h1.bundleType,version:h1.version,rendererPackageName:h1.rendererPackageName,rendererConfig:h1.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:jc.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=rU(t),t===null?null:t.stateNode},findFiberByHostInstance:h1.findFiberByHostInstance||Nce,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var R2=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!R2.isDisabled&&R2.supportsFiber)try{O5=R2.inject(Ice),kl=R2}catch{}}Os.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Mce;Os.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!RA(e))throw Error(st(200));return Lce(t,e,null,r)};Os.createRoot=function(t,e){if(!RA(t))throw Error(st(299));var r=!1,n="",i=DV;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=_A(t,1,!1,null,null,r,!1,n,i),t[Cc]=e.current,Zm(t.nodeType===8?t.parentNode:t),new NA(e)};Os.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(st(188)):(t=Object.keys(t).join(","),Error(st(268,t)));return t=rU(e),t=t===null?null:t.stateNode,t};Os.flushSync=function(t){return Ed(t)};Os.hydrate=function(t,e,r){if(!j5(e))throw Error(st(200));return X5(null,t,e,!0,r)};Os.hydrateRoot=function(t,e,r){if(!RA(t))throw Error(st(405));var n=r!=null&&r.hydratedSources||null,i=!1,a="",s=DV;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onRecoverableError!==void 0&&(s=r.onRecoverableError)),e=IV(e,null,t,1,r??null,i,!1,a,s),t[Cc]=e.current,Zm(t),n)for(t=0;t<n.length;t++)r=n[t],i=r._getVersion,i=i(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,i]:e.mutableSourceEagerHydrationData.push(r,i);return new q5(e)};Os.render=function(t,e,r){if(!j5(e))throw Error(st(200));return X5(null,t,e,!1,r)};Os.unmountComponentAtNode=function(t){if(!j5(t))throw Error(st(40));return t._reactRootContainer?(Ed(function(){X5(null,null,t,!1,function(){t._reactRootContainer=null,t[Cc]=null})}),!0):!1};Os.unstable_batchedUpdates=EA;Os.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!j5(r))throw Error(st(200));if(t==null||t._reactInternals===void 0)throw Error(st(38));return X5(t,e,r,!1,n)};Os.version="18.3.1-next-f1338f8080-20240426";function OV(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(OV)}catch(t){console.error(t)}}OV(),Oz.exports=Os;var MA=Oz.exports,A7,lM=MA;A7=lM.createRoot,lM.hydrateRoot;const Dce=()=>{const t=new Date,e=t.getFullYear(),r=String(t.getMonth()+1).padStart(2,"0"),n=String(t.getDate()).padStart(2,"0");return`${e}-${r}-${n}`},Oce=t=>{if(!t)return Dce();const e=t.replaceAll(".","-").replaceAll(" ","-").replace("Januar","01").replace("Februar","02").replace("März","03").replace("April","04").replace("Mai","05").replace("Juni","06").replace("Juli","07").replace("August","08").replace("September","09").replace("Oktober","10").replace("November","11").replace("Dezember","12").split("-"),r=e[0]||"01",n=e[1];let i=e[2]||new Date().getFullYear().toString();return(i==null?void 0:i.length)===2&&(i=`20${i}`),/[a-zA-Z]/g.test(t)?`${i}-${r}-01`:`${i}-${n}-${r}`},Pce=(t,e)=>{let r,n;if(e.indexOf("d")!==-1)r=t,n=e;else{const i=new Date(t),a=new Date(e);i<a?(r=t,n=e):(r=e,n=t)}return{date:r,dueDate:n}},Fce=t=>{if(t)return t.replaceAll(":","")},Bce=(t,e=100)=>{if(t)return t.length<=e?t:t.substring(0,e-3)+"..."};var Yr=(t=>(t[t.NOT_STARTED=0]="NOT_STARTED",t[t.ACTIVE=1]="ACTIVE",t[t.CRIT=2]="CRIT",t[t.DONE=3]="DONE",t))(Yr||{});const M2=(t,e)=>t?Object.values(t).flatMap(n=>n.filter(i=>i.status===e)).length:0,$ce=t=>{let e=Yr.NOT_STARTED;if(t&&t.status){switch(t.status.toLowerCase()){case"in progress":e=Yr.ACTIVE;break;case"critical":e=Yr.CRIT;break;case"done":e=Yr.DONE;break;default:e=Yr.NOT_STARTED;break}t.important&&t.urgent&&(e=Yr.CRIT)}return e},zce=t=>{let e=t;e||(e=Array.from(document.querySelectorAll("h2")).filter(a=>{var s;return(s=a.textContent)==null?void 0:s.includes("Themen")}).map(a=>{var s;return(s=a.nextElementSibling)==null?void 0:s.querySelector("div.table-wrap .confluenceTable")}));const r=[];if(e.length){if(e.forEach((n,i)=>{n&&n!==null?n.querySelectorAll("tbody tr").forEach((s,o)=>{var y,v,x,w,k,E,_,S,R,C,L,A,N,F,T,D,M,O,I,P,B,$,V,W,K;const l=s.querySelectorAll('td:not([class^="highlight-"])');if(!l.length)return;const u=`jump_${i}-${o}_${(v=(y=l[0])==null?void 0:y.textContent)==null?void 0:v.trim()}`,h=(x=l[1])!=null&&x.querySelector("time")?(k=(w=l[1])==null?void 0:w.querySelector("time"))==null?void 0:k.getAttribute("datetime"):Oce((_=(E=l[1])==null?void 0:E.textContent)==null?void 0:_.trim()),d=(S=l[7])!=null&&S.querySelectorAll("time").length?(R=l[7].querySelectorAll("time")[l[7].querySelectorAll("time").length-1])==null?void 0:R.getAttribute("datetime"):"14d",p=((L=(C=l[2].innerHTML)==null?void 0:C.replace(/<br>/gi,""))==null?void 0:L.trim())!=="",f=((N=(A=l[3].innerHTML)==null?void 0:A.replace(/<br>/gi,""))==null?void 0:N.trim())!=="",g=Pce(h,d),m={id:u,date:g.date,important:p,urgent:f,author:((T=(F=l[5])==null?void 0:F.textContent)==null?void 0:T.trim())||"",title:Fce(Bce((M=(D=l[4])==null?void 0:D.textContent)==null?void 0:M.trim(),30))||"",description:((I=(O=l[6])==null?void 0:O.textContent)==null?void 0:I.trim())||"",todo:((B=(P=l[7])==null?void 0:P.textContent)==null?void 0:B.trim())||"",status:$ce({status:(V=($=l[8])==null?void 0:$.textContent)==null?void 0:V.trim(),important:p,urgent:f}),dueDate:g.dueDate};m.title&&((K=(W=l[0])==null?void 0:W.parentNode)==null||K.setAttribute("data-jump-mark",u),r.push(m))}):console.warn("No table found for given `tableNodes`!")}),r.length)return r}else console.warn("No table found for given `tableNodes`!")},Uce=t=>{const e=t.reduce((n,i)=>{const a=i.author||"*Kein Author*";return n[a]=n[a]||[],n[a].push(i),n},{});return Object.keys(e).sort().reduce((n,i)=>(n[i]=e[i],n),{})},Vce=t=>{switch(t){case Yr.NOT_STARTED:return"";case Yr.ACTIVE:return"active,";case Yr.CRIT:return"crit,";case Yr.DONE:return"done,"}},Gce=(t,e)=>{let r=`---
config:
  theme: base   
  themeVariables:
    primaryColor: "#12487c"
    primaryTextColor: "#172b4d"
    secondaryColor: "#000"
    sectionBkgColor: "#c9c9c9"
    altSectionBkgColor: "#ffffff"
    sectionBkgColor2: "#d9d9d9"
    excludeBkgColor: "#dadae3"
    taskBorderColor: "#082a4a"
    activeTaskBorderColor: "#007fb5"
    activeTaskBkgColor: "#029EE0"
    gridColor: "#000000"
    doneTaskBkgColor: "#66BB6A"
    doneTaskBorderColor: "#388E3C"
    critBorderColor: "#911313"
    critBkgColor: "#B71C1C"
    todayLineColor: "#F57F17"
    taskTextColor: "#ffffff"
    taskTextOutsideColor: "#172b4d"
    taskTextLightColor: "#000000"
    taskTextDarkColor: "#0"
    altBackground: "#e8e8e8"
    taskTextClickableColor: "#f"
---
gantt
    title ${t}
    dateFormat YYYY-MM-DD
    excludes    weekends
  `;for(const n in e)r+=`
section ${n} 
`,e[n].forEach(i=>{r+=` ${i.title} :${Vce(i.status)} jump_${i.id}, ${i.date}, ${i.dueDate}
`});for(const n in e)e[n].forEach(i=>{r+=`click jump_${i.id} call jumpToEntry(${i.id})
`});return r},Hce="modulepreload",Wce=function(t){return"/"+t},cM={},_r=function(e,r,n){let i=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),o=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));i=Promise.allSettled(r.map(l=>{if(l=Wce(l),l in cM)return;cM[l]=!0;const u=l.endsWith(".css"),h=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${h}`))return;const d=document.createElement("link");if(d.rel=u?"stylesheet":Hce,u||(d.as="script"),d.crossOrigin="",d.href=l,o&&d.setAttribute("nonce",o),document.head.appendChild(d),u)return new Promise((p,f)=>{d.addEventListener("load",p),d.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${l}`)))})}))}function a(s){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s}return i.then(s=>{for(const o of s||[])o.status==="rejected"&&a(o.reason);return e().catch(a)})};var PV={exports:{}};(function(t,e){(function(r,n){t.exports=n()})(Il,function(){var r=1e3,n=6e4,i=36e5,a="millisecond",s="second",o="minute",l="hour",u="day",h="week",d="month",p="quarter",f="year",g="date",m="Invalid Date",y=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,v=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,x={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(T){var D=["th","st","nd","rd"],M=T%100;return"["+T+(D[(M-20)%10]||D[M]||D[0])+"]"}},w=function(T,D,M){var O=String(T);return!O||O.length>=D?T:""+Array(D+1-O.length).join(M)+T},k={s:w,z:function(T){var D=-T.utcOffset(),M=Math.abs(D),O=Math.floor(M/60),I=M%60;return(D<=0?"+":"-")+w(O,2,"0")+":"+w(I,2,"0")},m:function T(D,M){if(D.date()<M.date())return-T(M,D);var O=12*(M.year()-D.year())+(M.month()-D.month()),I=D.clone().add(O,d),P=M-I<0,B=D.clone().add(O+(P?-1:1),d);return+(-(O+(M-I)/(P?I-B:B-I))||0)},a:function(T){return T<0?Math.ceil(T)||0:Math.floor(T)},p:function(T){return{M:d,y:f,w:h,d:u,D:g,h:l,m:o,s,ms:a,Q:p}[T]||String(T||"").toLowerCase().replace(/s$/,"")},u:function(T){return T===void 0}},E="en",_={};_[E]=x;var S="$isDayjsObject",R=function(T){return T instanceof N||!(!T||!T[S])},C=function T(D,M,O){var I;if(!D)return E;if(typeof D=="string"){var P=D.toLowerCase();_[P]&&(I=P),M&&(_[P]=M,I=P);var B=D.split("-");if(!I&&B.length>1)return T(B[0])}else{var $=D.name;_[$]=D,I=$}return!O&&I&&(E=I),I||!O&&E},L=function(T,D){if(R(T))return T.clone();var M=typeof D=="object"?D:{};return M.date=T,M.args=arguments,new N(M)},A=k;A.l=C,A.i=R,A.w=function(T,D){return L(T,{locale:D.$L,utc:D.$u,x:D.$x,$offset:D.$offset})};var N=function(){function T(M){this.$L=C(M.locale,null,!0),this.parse(M),this.$x=this.$x||M.x||{},this[S]=!0}var D=T.prototype;return D.parse=function(M){this.$d=function(O){var I=O.date,P=O.utc;if(I===null)return new Date(NaN);if(A.u(I))return new Date;if(I instanceof Date)return new Date(I);if(typeof I=="string"&&!/Z$/i.test(I)){var B=I.match(y);if(B){var $=B[2]-1||0,V=(B[7]||"0").substring(0,3);return P?new Date(Date.UTC(B[1],$,B[3]||1,B[4]||0,B[5]||0,B[6]||0,V)):new Date(B[1],$,B[3]||1,B[4]||0,B[5]||0,B[6]||0,V)}}return new Date(I)}(M),this.init()},D.init=function(){var M=this.$d;this.$y=M.getFullYear(),this.$M=M.getMonth(),this.$D=M.getDate(),this.$W=M.getDay(),this.$H=M.getHours(),this.$m=M.getMinutes(),this.$s=M.getSeconds(),this.$ms=M.getMilliseconds()},D.$utils=function(){return A},D.isValid=function(){return this.$d.toString()!==m},D.isSame=function(M,O){var I=L(M);return this.startOf(O)<=I&&I<=this.endOf(O)},D.isAfter=function(M,O){return L(M)<this.startOf(O)},D.isBefore=function(M,O){return this.endOf(O)<L(M)},D.$g=function(M,O,I){return A.u(M)?this[O]:this.set(I,M)},D.unix=function(){return Math.floor(this.valueOf()/1e3)},D.valueOf=function(){return this.$d.getTime()},D.startOf=function(M,O){var I=this,P=!!A.u(O)||O,B=A.p(M),$=function(U,j){var Y=A.w(I.$u?Date.UTC(I.$y,j,U):new Date(I.$y,j,U),I);return P?Y:Y.endOf(u)},V=function(U,j){return A.w(I.toDate()[U].apply(I.toDate("s"),(P?[0,0,0,0]:[23,59,59,999]).slice(j)),I)},W=this.$W,K=this.$M,Z=this.$D,H="set"+(this.$u?"UTC":"");switch(B){case f:return P?$(1,0):$(31,11);case d:return P?$(1,K):$(0,K+1);case h:var ee=this.$locale().weekStart||0,te=(W<ee?W+7:W)-ee;return $(P?Z-te:Z+(6-te),K);case u:case g:return V(H+"Hours",0);case l:return V(H+"Minutes",1);case o:return V(H+"Seconds",2);case s:return V(H+"Milliseconds",3);default:return this.clone()}},D.endOf=function(M){return this.startOf(M,!1)},D.$set=function(M,O){var I,P=A.p(M),B="set"+(this.$u?"UTC":""),$=(I={},I[u]=B+"Date",I[g]=B+"Date",I[d]=B+"Month",I[f]=B+"FullYear",I[l]=B+"Hours",I[o]=B+"Minutes",I[s]=B+"Seconds",I[a]=B+"Milliseconds",I)[P],V=P===u?this.$D+(O-this.$W):O;if(P===d||P===f){var W=this.clone().set(g,1);W.$d[$](V),W.init(),this.$d=W.set(g,Math.min(this.$D,W.daysInMonth())).$d}else $&&this.$d[$](V);return this.init(),this},D.set=function(M,O){return this.clone().$set(M,O)},D.get=function(M){return this[A.p(M)]()},D.add=function(M,O){var I,P=this;M=Number(M);var B=A.p(O),$=function(K){var Z=L(P);return A.w(Z.date(Z.date()+Math.round(K*M)),P)};if(B===d)return this.set(d,this.$M+M);if(B===f)return this.set(f,this.$y+M);if(B===u)return $(1);if(B===h)return $(7);var V=(I={},I[o]=n,I[l]=i,I[s]=r,I)[B]||1,W=this.$d.getTime()+M*V;return A.w(W,this)},D.subtract=function(M,O){return this.add(-1*M,O)},D.format=function(M){var O=this,I=this.$locale();if(!this.isValid())return I.invalidDate||m;var P=M||"YYYY-MM-DDTHH:mm:ssZ",B=A.z(this),$=this.$H,V=this.$m,W=this.$M,K=I.weekdays,Z=I.months,H=I.meridiem,ee=function(j,Y,Q,ae){return j&&(j[Y]||j(O,P))||Q[Y].slice(0,ae)},te=function(j){return A.s($%12||12,j,"0")},U=H||function(j,Y,Q){var ae=j<12?"AM":"PM";return Q?ae.toLowerCase():ae};return P.replace(v,function(j,Y){return Y||function(Q){switch(Q){case"YY":return String(O.$y).slice(-2);case"YYYY":return A.s(O.$y,4,"0");case"M":return W+1;case"MM":return A.s(W+1,2,"0");case"MMM":return ee(I.monthsShort,W,Z,3);case"MMMM":return ee(Z,W);case"D":return O.$D;case"DD":return A.s(O.$D,2,"0");case"d":return String(O.$W);case"dd":return ee(I.weekdaysMin,O.$W,K,2);case"ddd":return ee(I.weekdaysShort,O.$W,K,3);case"dddd":return K[O.$W];case"H":return String($);case"HH":return A.s($,2,"0");case"h":return te(1);case"hh":return te(2);case"a":return U($,V,!0);case"A":return U($,V,!1);case"m":return String(V);case"mm":return A.s(V,2,"0");case"s":return String(O.$s);case"ss":return A.s(O.$s,2,"0");case"SSS":return A.s(O.$ms,3,"0");case"Z":return B}return null}(j)||B.replace(":","")})},D.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},D.diff=function(M,O,I){var P,B=this,$=A.p(O),V=L(M),W=(V.utcOffset()-this.utcOffset())*n,K=this-V,Z=function(){return A.m(B,V)};switch($){case f:P=Z()/12;break;case d:P=Z();break;case p:P=Z()/3;break;case h:P=(K-W)/6048e5;break;case u:P=(K-W)/864e5;break;case l:P=K/i;break;case o:P=K/n;break;case s:P=K/r;break;default:P=K}return I?P:A.a(P)},D.daysInMonth=function(){return this.endOf(d).$D},D.$locale=function(){return _[this.$L]},D.locale=function(M,O){if(!M)return this.$L;var I=this.clone(),P=C(M,O,!0);return P&&(I.$L=P),I},D.clone=function(){return A.w(this.$d,this)},D.toDate=function(){return new Date(this.valueOf())},D.toJSON=function(){return this.isValid()?this.toISOString():null},D.toISOString=function(){return this.$d.toISOString()},D.toString=function(){return this.$d.toUTCString()},T}(),F=N.prototype;return L.prototype=F,[["$ms",a],["$s",s],["$m",o],["$H",l],["$W",u],["$M",d],["$y",f],["$D",g]].forEach(function(T){F[T[1]]=function(D){return this.$g(D,T[0],T[1])}}),L.extend=function(T,D){return T.$i||(T(D,N,L),T.$i=!0),L},L.locale=C,L.isDayjs=R,L.unix=function(T){return L(1e3*T)},L.en=_[E],L.Ls=_,L.p={},L})})(PV);var Yce=PV.exports;const fa=qc(Yce),Jx={min:{r:0,g:0,b:0,s:0,l:0,a:0},max:{r:255,g:255,b:255,h:360,s:100,l:100,a:1},clamp:{r:t=>t>=255?255:t<0?0:t,g:t=>t>=255?255:t<0?0:t,b:t=>t>=255?255:t<0?0:t,h:t=>t%360,s:t=>t>=100?100:t<0?0:t,l:t=>t>=100?100:t<0?0:t,a:t=>t>=1?1:t<0?0:t},toLinear:t=>{const e=t/255;return t>.03928?Math.pow((e+.055)/1.055,2.4):e/12.92},hue2rgb:(t,e,r)=>(r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+(e-t)*6*r:r<1/2?e:r<2/3?t+(e-t)*(2/3-r)*6:t),hsl2rgb:({h:t,s:e,l:r},n)=>{if(!e)return r*2.55;t/=360,e/=100,r/=100;const i=r<.5?r*(1+e):r+e-r*e,a=2*r-i;switch(n){case"r":return Jx.hue2rgb(a,i,t+1/3)*255;case"g":return Jx.hue2rgb(a,i,t)*255;case"b":return Jx.hue2rgb(a,i,t-1/3)*255}},rgb2hsl:({r:t,g:e,b:r},n)=>{t/=255,e/=255,r/=255;const i=Math.max(t,e,r),a=Math.min(t,e,r),s=(i+a)/2;if(n==="l")return s*100;if(i===a)return 0;const o=i-a,l=s>.5?o/(2-i-a):o/(i+a);if(n==="s")return l*100;switch(i){case t:return((e-r)/o+(e<r?6:0))*60;case e:return((r-t)/o+2)*60;case r:return((t-e)/o+4)*60;default:return-1}}},qce={clamp:(t,e,r)=>e>r?Math.min(e,Math.max(r,t)):Math.min(r,Math.max(e,t)),round:t=>Math.round(t*1e10)/1e10},jce={dec2hex:t=>{const e=Math.round(t).toString(16);return e.length>1?e:`0${e}`}},Zt={channel:Jx,lang:qce,unit:jce},du={};for(let t=0;t<=255;t++)du[t]=Zt.unit.dec2hex(t);const sa={ALL:0,RGB:1,HSL:2};let Xce=class{constructor(){this.type=sa.ALL}get(){return this.type}set(e){if(this.type&&this.type!==e)throw new Error("Cannot change both RGB and HSL channels at the same time");this.type=e}reset(){this.type=sa.ALL}is(e){return this.type===e}};class Kce{constructor(e,r){this.color=r,this.changed=!1,this.data=e,this.type=new Xce}set(e,r){return this.color=r,this.changed=!1,this.data=e,this.type.type=sa.ALL,this}_ensureHSL(){const e=this.data,{h:r,s:n,l:i}=e;r===void 0&&(e.h=Zt.channel.rgb2hsl(e,"h")),n===void 0&&(e.s=Zt.channel.rgb2hsl(e,"s")),i===void 0&&(e.l=Zt.channel.rgb2hsl(e,"l"))}_ensureRGB(){const e=this.data,{r,g:n,b:i}=e;r===void 0&&(e.r=Zt.channel.hsl2rgb(e,"r")),n===void 0&&(e.g=Zt.channel.hsl2rgb(e,"g")),i===void 0&&(e.b=Zt.channel.hsl2rgb(e,"b"))}get r(){const e=this.data,r=e.r;return!this.type.is(sa.HSL)&&r!==void 0?r:(this._ensureHSL(),Zt.channel.hsl2rgb(e,"r"))}get g(){const e=this.data,r=e.g;return!this.type.is(sa.HSL)&&r!==void 0?r:(this._ensureHSL(),Zt.channel.hsl2rgb(e,"g"))}get b(){const e=this.data,r=e.b;return!this.type.is(sa.HSL)&&r!==void 0?r:(this._ensureHSL(),Zt.channel.hsl2rgb(e,"b"))}get h(){const e=this.data,r=e.h;return!this.type.is(sa.RGB)&&r!==void 0?r:(this._ensureRGB(),Zt.channel.rgb2hsl(e,"h"))}get s(){const e=this.data,r=e.s;return!this.type.is(sa.RGB)&&r!==void 0?r:(this._ensureRGB(),Zt.channel.rgb2hsl(e,"s"))}get l(){const e=this.data,r=e.l;return!this.type.is(sa.RGB)&&r!==void 0?r:(this._ensureRGB(),Zt.channel.rgb2hsl(e,"l"))}get a(){return this.data.a}set r(e){this.type.set(sa.RGB),this.changed=!0,this.data.r=e}set g(e){this.type.set(sa.RGB),this.changed=!0,this.data.g=e}set b(e){this.type.set(sa.RGB),this.changed=!0,this.data.b=e}set h(e){this.type.set(sa.HSL),this.changed=!0,this.data.h=e}set s(e){this.type.set(sa.HSL),this.changed=!0,this.data.s=e}set l(e){this.type.set(sa.HSL),this.changed=!0,this.data.l=e}set a(e){this.changed=!0,this.data.a=e}}const K5=new Kce({r:0,g:0,b:0,a:0},"transparent"),w0={re:/^#((?:[a-f0-9]{2}){2,4}|[a-f0-9]{3})$/i,parse:t=>{if(t.charCodeAt(0)!==35)return;const e=t.match(w0.re);if(!e)return;const r=e[1],n=parseInt(r,16),i=r.length,a=i%4===0,s=i>4,o=s?1:17,l=s?8:4,u=a?0:-1,h=s?255:15;return K5.set({r:(n>>l*(u+3)&h)*o,g:(n>>l*(u+2)&h)*o,b:(n>>l*(u+1)&h)*o,a:a?(n&h)*o/255:1},t)},stringify:t=>{const{r:e,g:r,b:n,a:i}=t;return i<1?`#${du[Math.round(e)]}${du[Math.round(r)]}${du[Math.round(n)]}${du[Math.round(i*255)]}`:`#${du[Math.round(e)]}${du[Math.round(r)]}${du[Math.round(n)]}`}},rd={re:/^hsla?\(\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?(?:deg|grad|rad|turn)?)\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?%)\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?%)(?:\s*?(?:,|\/)\s*?\+?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?(%)?))?\s*?\)$/i,hueRe:/^(.+?)(deg|grad|rad|turn)$/i,_hue2deg:t=>{const e=t.match(rd.hueRe);if(e){const[,r,n]=e;switch(n){case"grad":return Zt.channel.clamp.h(parseFloat(r)*.9);case"rad":return Zt.channel.clamp.h(parseFloat(r)*180/Math.PI);case"turn":return Zt.channel.clamp.h(parseFloat(r)*360)}}return Zt.channel.clamp.h(parseFloat(t))},parse:t=>{const e=t.charCodeAt(0);if(e!==104&&e!==72)return;const r=t.match(rd.re);if(!r)return;const[,n,i,a,s,o]=r;return K5.set({h:rd._hue2deg(n),s:Zt.channel.clamp.s(parseFloat(i)),l:Zt.channel.clamp.l(parseFloat(a)),a:s?Zt.channel.clamp.a(o?parseFloat(s)/100:parseFloat(s)):1},t)},stringify:t=>{const{h:e,s:r,l:n,a:i}=t;return i<1?`hsla(${Zt.lang.round(e)}, ${Zt.lang.round(r)}%, ${Zt.lang.round(n)}%, ${i})`:`hsl(${Zt.lang.round(e)}, ${Zt.lang.round(r)}%, ${Zt.lang.round(n)}%)`}},Sm={colors:{aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyanaqua:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",transparent:"#00000000",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},parse:t=>{t=t.toLowerCase();const e=Sm.colors[t];if(e)return w0.parse(e)},stringify:t=>{const e=w0.stringify(t);for(const r in Sm.colors)if(Sm.colors[r]===e)return r}},q1={re:/^rgba?\(\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))(?:\s*?(?:,|\/)\s*?\+?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?)))?\s*?\)$/i,parse:t=>{const e=t.charCodeAt(0);if(e!==114&&e!==82)return;const r=t.match(q1.re);if(!r)return;const[,n,i,a,s,o,l,u,h]=r;return K5.set({r:Zt.channel.clamp.r(i?parseFloat(n)*2.55:parseFloat(n)),g:Zt.channel.clamp.g(s?parseFloat(a)*2.55:parseFloat(a)),b:Zt.channel.clamp.b(l?parseFloat(o)*2.55:parseFloat(o)),a:u?Zt.channel.clamp.a(h?parseFloat(u)/100:parseFloat(u)):1},t)},stringify:t=>{const{r:e,g:r,b:n,a:i}=t;return i<1?`rgba(${Zt.lang.round(e)}, ${Zt.lang.round(r)}, ${Zt.lang.round(n)}, ${Zt.lang.round(i)})`:`rgb(${Zt.lang.round(e)}, ${Zt.lang.round(r)}, ${Zt.lang.round(n)})`}},Ko={format:{keyword:Sm,hex:w0,rgb:q1,rgba:q1,hsl:rd,hsla:rd},parse:t=>{if(typeof t!="string")return t;const e=w0.parse(t)||q1.parse(t)||rd.parse(t)||Sm.parse(t);if(e)return e;throw new Error(`Unsupported color format: "${t}"`)},stringify:t=>!t.changed&&t.color?t.color:t.type.is(sa.HSL)||t.data.r===void 0?rd.stringify(t):t.a<1||!Number.isInteger(t.r)||!Number.isInteger(t.g)||!Number.isInteger(t.b)?q1.stringify(t):w0.stringify(t)},FV=(t,e)=>{const r=Ko.parse(t);for(const n in e)r[n]=Zt.channel.clamp[n](e[n]);return Ko.stringify(r)},pd=(t,e,r=0,n=1)=>{if(typeof t!="number")return FV(t,{a:e});const i=K5.set({r:Zt.channel.clamp.r(t),g:Zt.channel.clamp.g(e),b:Zt.channel.clamp.b(r),a:Zt.channel.clamp.a(n)});return Ko.stringify(i)},BV=(t,e)=>Zt.lang.round(Ko.parse(t)[e]),Qce=t=>{const{r:e,g:r,b:n}=Ko.parse(t),i=.2126*Zt.channel.toLinear(e)+.7152*Zt.channel.toLinear(r)+.0722*Zt.channel.toLinear(n);return Zt.lang.round(i)},Zce=t=>Qce(t)>=.5,sf=t=>!Zce(t),$V=(t,e,r)=>{const n=Ko.parse(t),i=n[e],a=Zt.channel.clamp[e](i+r);return i!==a&&(n[e]=a),Ko.stringify(n)},Ot=(t,e)=>$V(t,"l",e),Gt=(t,e)=>$V(t,"l",-e),Pe=(t,e)=>{const r=Ko.parse(t),n={};for(const i in e)e[i]&&(n[i]=r[i]+e[i]);return FV(t,n)},Jce=(t,e,r=50)=>{const{r:n,g:i,b:a,a:s}=Ko.parse(t),{r:o,g:l,b:u,a:h}=Ko.parse(e),d=r/100,p=d*2-1,f=s-h,m=((p*f===-1?p:(p+f)/(1+p*f))+1)/2,y=1-m,v=n*m+o*y,x=i*m+l*y,w=a*m+u*y,k=s*d+h*(1-d);return pd(v,x,w,k)},yt=(t,e=100)=>{const r=Ko.parse(t);return r.r=255-r.r,r.g=255-r.g,r.b=255-r.b,Jce(r,t,e)};/*! @license DOMPurify 3.1.6 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.1.6/LICENSE */const{entries:zV,setPrototypeOf:uM,isFrozen:eue,getPrototypeOf:tue,getOwnPropertyDescriptor:rue}=Object;let{freeze:Da,seal:uo,create:UV}=Object,{apply:_7,construct:L7}=typeof Reflect<"u"&&Reflect;Da||(Da=function(e){return e});uo||(uo=function(e){return e});_7||(_7=function(e,r,n){return e.apply(r,n)});L7||(L7=function(e,r){return new e(...r)});const I2=Ms(Array.prototype.forEach),hM=Ms(Array.prototype.pop),d1=Ms(Array.prototype.push),eb=Ms(String.prototype.toLowerCase),wk=Ms(String.prototype.toString),dM=Ms(String.prototype.match),f1=Ms(String.prototype.replace),nue=Ms(String.prototype.indexOf),iue=Ms(String.prototype.trim),So=Ms(Object.prototype.hasOwnProperty),Ea=Ms(RegExp.prototype.test),p1=aue(TypeError);function Ms(t){return function(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];return _7(t,e,n)}}function aue(t){return function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return L7(t,r)}}function hr(t,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:eb;uM&&uM(t,null);let n=e.length;for(;n--;){let i=e[n];if(typeof i=="string"){const a=r(i);a!==i&&(eue(e)||(e[n]=a),i=a)}t[i]=!0}return t}function sue(t){for(let e=0;e<t.length;e++)So(t,e)||(t[e]=null);return t}function Bh(t){const e=UV(null);for(const[r,n]of zV(t))So(t,r)&&(Array.isArray(n)?e[r]=sue(n):n&&typeof n=="object"&&n.constructor===Object?e[r]=Bh(n):e[r]=n);return e}function g1(t,e){for(;t!==null;){const n=rue(t,e);if(n){if(n.get)return Ms(n.get);if(typeof n.value=="function")return Ms(n.value)}t=tue(t)}function r(){return null}return r}const fM=Da(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),kk=Da(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Tk=Da(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),oue=Da(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),Ek=Da(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),lue=Da(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),pM=Da(["#text"]),gM=Da(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),Sk=Da(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),mM=Da(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),D2=Da(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),cue=uo(/\{\{[\w\W]*|[\w\W]*\}\}/gm),uue=uo(/<%[\w\W]*|[\w\W]*%>/gm),hue=uo(/\${[\w\W]*}/gm),due=uo(/^data-[\-\w.\u00B7-\uFFFF]/),fue=uo(/^aria-[\-\w]+$/),VV=uo(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),pue=uo(/^(?:\w+script|data):/i),gue=uo(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),GV=uo(/^html$/i),mue=uo(/^[a-z][.\w]*(-[.\w]+)+$/i);var vM=Object.freeze({__proto__:null,MUSTACHE_EXPR:cue,ERB_EXPR:uue,TMPLIT_EXPR:hue,DATA_ATTR:due,ARIA_ATTR:fue,IS_ALLOWED_URI:VV,IS_SCRIPT_OR_DATA:pue,ATTR_WHITESPACE:gue,DOCTYPE_NAME:GV,CUSTOM_ELEMENT:mue});const m1={element:1,attribute:2,text:3,cdataSection:4,entityReference:5,entityNode:6,progressingInstruction:7,comment:8,document:9,documentType:10,documentFragment:11,notation:12},vue=function(){return typeof window>"u"?null:window},yue=function(e,r){if(typeof e!="object"||typeof e.createPolicy!="function")return null;let n=null;const i="data-tt-policy-suffix";r&&r.hasAttribute(i)&&(n=r.getAttribute(i));const a="dompurify"+(n?"#"+n:"");try{return e.createPolicy(a,{createHTML(s){return s},createScriptURL(s){return s}})}catch{return console.warn("TrustedTypes policy "+a+" could not be created."),null}};function HV(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:vue();const e=bt=>HV(bt);if(e.version="3.1.6",e.removed=[],!t||!t.document||t.document.nodeType!==m1.document)return e.isSupported=!1,e;let{document:r}=t;const n=r,i=n.currentScript,{DocumentFragment:a,HTMLTemplateElement:s,Node:o,Element:l,NodeFilter:u,NamedNodeMap:h=t.NamedNodeMap||t.MozNamedAttrMap,HTMLFormElement:d,DOMParser:p,trustedTypes:f}=t,g=l.prototype,m=g1(g,"cloneNode"),y=g1(g,"remove"),v=g1(g,"nextSibling"),x=g1(g,"childNodes"),w=g1(g,"parentNode");if(typeof s=="function"){const bt=r.createElement("template");bt.content&&bt.content.ownerDocument&&(r=bt.content.ownerDocument)}let k,E="";const{implementation:_,createNodeIterator:S,createDocumentFragment:R,getElementsByTagName:C}=r,{importNode:L}=n;let A={};e.isSupported=typeof zV=="function"&&typeof w=="function"&&_&&_.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:N,ERB_EXPR:F,TMPLIT_EXPR:T,DATA_ATTR:D,ARIA_ATTR:M,IS_SCRIPT_OR_DATA:O,ATTR_WHITESPACE:I,CUSTOM_ELEMENT:P}=vM;let{IS_ALLOWED_URI:B}=vM,$=null;const V=hr({},[...fM,...kk,...Tk,...Ek,...pM]);let W=null;const K=hr({},[...gM,...Sk,...mM,...D2]);let Z=Object.seal(UV(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),H=null,ee=null,te=!0,U=!0,j=!1,Y=!0,Q=!1,ae=!0,ie=!1,J=!1,_e=!1,ce=!1,Te=!1,be=!1,Ue=!0,He=!1;const Ve="user-content-";let Re=!0,de=!1,X={},oe=null;const me=hr({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let ne=null;const ue=hr({},["audio","video","img","source","image","track"]);let pe=null;const ge=hr({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),ve="http://www.w3.org/1998/Math/MathML",Ee="http://www.w3.org/2000/svg",Ce="http://www.w3.org/1999/xhtml";let Ne=Ce,Se=!1,Ie=null;const Ae=hr({},[ve,Ee,Ce],wk);let qe=null;const De=["application/xhtml+xml","text/html"],Xe="text/html";let at=null,dt=null;const ut=r.createElement("form"),kt=function(Le){return Le instanceof RegExp||Le instanceof Function},je=function(){let Le=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(dt&&dt===Le)){if((!Le||typeof Le!="object")&&(Le={}),Le=Bh(Le),qe=De.indexOf(Le.PARSER_MEDIA_TYPE)===-1?Xe:Le.PARSER_MEDIA_TYPE,at=qe==="application/xhtml+xml"?wk:eb,$=So(Le,"ALLOWED_TAGS")?hr({},Le.ALLOWED_TAGS,at):V,W=So(Le,"ALLOWED_ATTR")?hr({},Le.ALLOWED_ATTR,at):K,Ie=So(Le,"ALLOWED_NAMESPACES")?hr({},Le.ALLOWED_NAMESPACES,wk):Ae,pe=So(Le,"ADD_URI_SAFE_ATTR")?hr(Bh(ge),Le.ADD_URI_SAFE_ATTR,at):ge,ne=So(Le,"ADD_DATA_URI_TAGS")?hr(Bh(ue),Le.ADD_DATA_URI_TAGS,at):ue,oe=So(Le,"FORBID_CONTENTS")?hr({},Le.FORBID_CONTENTS,at):me,H=So(Le,"FORBID_TAGS")?hr({},Le.FORBID_TAGS,at):{},ee=So(Le,"FORBID_ATTR")?hr({},Le.FORBID_ATTR,at):{},X=So(Le,"USE_PROFILES")?Le.USE_PROFILES:!1,te=Le.ALLOW_ARIA_ATTR!==!1,U=Le.ALLOW_DATA_ATTR!==!1,j=Le.ALLOW_UNKNOWN_PROTOCOLS||!1,Y=Le.ALLOW_SELF_CLOSE_IN_ATTR!==!1,Q=Le.SAFE_FOR_TEMPLATES||!1,ae=Le.SAFE_FOR_XML!==!1,ie=Le.WHOLE_DOCUMENT||!1,ce=Le.RETURN_DOM||!1,Te=Le.RETURN_DOM_FRAGMENT||!1,be=Le.RETURN_TRUSTED_TYPE||!1,_e=Le.FORCE_BODY||!1,Ue=Le.SANITIZE_DOM!==!1,He=Le.SANITIZE_NAMED_PROPS||!1,Re=Le.KEEP_CONTENT!==!1,de=Le.IN_PLACE||!1,B=Le.ALLOWED_URI_REGEXP||VV,Ne=Le.NAMESPACE||Ce,Z=Le.CUSTOM_ELEMENT_HANDLING||{},Le.CUSTOM_ELEMENT_HANDLING&&kt(Le.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(Z.tagNameCheck=Le.CUSTOM_ELEMENT_HANDLING.tagNameCheck),Le.CUSTOM_ELEMENT_HANDLING&&kt(Le.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(Z.attributeNameCheck=Le.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),Le.CUSTOM_ELEMENT_HANDLING&&typeof Le.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(Z.allowCustomizedBuiltInElements=Le.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Q&&(U=!1),Te&&(ce=!0),X&&($=hr({},pM),W=[],X.html===!0&&(hr($,fM),hr(W,gM)),X.svg===!0&&(hr($,kk),hr(W,Sk),hr(W,D2)),X.svgFilters===!0&&(hr($,Tk),hr(W,Sk),hr(W,D2)),X.mathMl===!0&&(hr($,Ek),hr(W,mM),hr(W,D2))),Le.ADD_TAGS&&($===V&&($=Bh($)),hr($,Le.ADD_TAGS,at)),Le.ADD_ATTR&&(W===K&&(W=Bh(W)),hr(W,Le.ADD_ATTR,at)),Le.ADD_URI_SAFE_ATTR&&hr(pe,Le.ADD_URI_SAFE_ATTR,at),Le.FORBID_CONTENTS&&(oe===me&&(oe=Bh(oe)),hr(oe,Le.FORBID_CONTENTS,at)),Re&&($["#text"]=!0),ie&&hr($,["html","head","body"]),$.table&&(hr($,["tbody"]),delete H.tbody),Le.TRUSTED_TYPES_POLICY){if(typeof Le.TRUSTED_TYPES_POLICY.createHTML!="function")throw p1('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof Le.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw p1('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');k=Le.TRUSTED_TYPES_POLICY,E=k.createHTML("")}else k===void 0&&(k=yue(f,i)),k!==null&&typeof E=="string"&&(E=k.createHTML(""));Da&&Da(Le),dt=Le}},Ye=hr({},["mi","mo","mn","ms","mtext"]),gt=hr({},["foreignobject","annotation-xml"]),We=hr({},["title","style","font","a","script"]),tt=hr({},[...kk,...Tk,...oue]),Ft=hr({},[...Ek,...lue]),rt=function(Le){let Qe=w(Le);(!Qe||!Qe.tagName)&&(Qe={namespaceURI:Ne,tagName:"template"});const Tt=eb(Le.tagName),nr=eb(Qe.tagName);return Ie[Le.namespaceURI]?Le.namespaceURI===Ee?Qe.namespaceURI===Ce?Tt==="svg":Qe.namespaceURI===ve?Tt==="svg"&&(nr==="annotation-xml"||Ye[nr]):!!tt[Tt]:Le.namespaceURI===ve?Qe.namespaceURI===Ce?Tt==="math":Qe.namespaceURI===Ee?Tt==="math"&&gt[nr]:!!Ft[Tt]:Le.namespaceURI===Ce?Qe.namespaceURI===Ee&&!gt[nr]||Qe.namespaceURI===ve&&!Ye[nr]?!1:!Ft[Tt]&&(We[Tt]||!tt[Tt]):!!(qe==="application/xhtml+xml"&&Ie[Le.namespaceURI]):!1},Ge=function(Le){d1(e.removed,{element:Le});try{w(Le).removeChild(Le)}catch{y(Le)}},ct=function(Le,Qe){try{d1(e.removed,{attribute:Qe.getAttributeNode(Le),from:Qe})}catch{d1(e.removed,{attribute:null,from:Qe})}if(Qe.removeAttribute(Le),Le==="is"&&!W[Le])if(ce||Te)try{Ge(Qe)}catch{}else try{Qe.setAttribute(Le,"")}catch{}},Dt=function(Le){let Qe=null,Tt=null;if(_e)Le="<remove></remove>"+Le;else{const sn=dM(Le,/^[\r\n\t ]+/);Tt=sn&&sn[0]}qe==="application/xhtml+xml"&&Ne===Ce&&(Le='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+Le+"</body></html>");const nr=k?k.createHTML(Le):Le;if(Ne===Ce)try{Qe=new p().parseFromString(nr,qe)}catch{}if(!Qe||!Qe.documentElement){Qe=_.createDocument(Ne,"template",null);try{Qe.documentElement.innerHTML=Se?E:nr}catch{}}const Qr=Qe.body||Qe.documentElement;return Le&&Tt&&Qr.insertBefore(r.createTextNode(Tt),Qr.childNodes[0]||null),Ne===Ce?C.call(Qe,ie?"html":"body")[0]:ie?Qe.documentElement:Qr},Vt=function(Le){return S.call(Le.ownerDocument||Le,Le,u.SHOW_ELEMENT|u.SHOW_COMMENT|u.SHOW_TEXT|u.SHOW_PROCESSING_INSTRUCTION|u.SHOW_CDATA_SECTION,null)},tr=function(Le){return Le instanceof d&&(typeof Le.nodeName!="string"||typeof Le.textContent!="string"||typeof Le.removeChild!="function"||!(Le.attributes instanceof h)||typeof Le.removeAttribute!="function"||typeof Le.setAttribute!="function"||typeof Le.namespaceURI!="string"||typeof Le.insertBefore!="function"||typeof Le.hasChildNodes!="function")},Nr=function(Le){return typeof o=="function"&&Le instanceof o},ur=function(Le,Qe,Tt){A[Le]&&I2(A[Le],nr=>{nr.call(e,Qe,Tt,dt)})},Pn=function(Le){let Qe=null;if(ur("beforeSanitizeElements",Le,null),tr(Le))return Ge(Le),!0;const Tt=at(Le.nodeName);if(ur("uponSanitizeElement",Le,{tagName:Tt,allowedTags:$}),Le.hasChildNodes()&&!Nr(Le.firstElementChild)&&Ea(/<[/\w]/g,Le.innerHTML)&&Ea(/<[/\w]/g,Le.textContent)||Le.nodeType===m1.progressingInstruction||ae&&Le.nodeType===m1.comment&&Ea(/<[/\w]/g,Le.data))return Ge(Le),!0;if(!$[Tt]||H[Tt]){if(!H[Tt]&&an(Tt)&&(Z.tagNameCheck instanceof RegExp&&Ea(Z.tagNameCheck,Tt)||Z.tagNameCheck instanceof Function&&Z.tagNameCheck(Tt)))return!1;if(Re&&!oe[Tt]){const nr=w(Le)||Le.parentNode,Qr=x(Le)||Le.childNodes;if(Qr&&nr){const sn=Qr.length;for(let xr=sn-1;xr>=0;--xr){const Wr=m(Qr[xr],!0);Wr.__removalCount=(Le.__removalCount||0)+1,nr.insertBefore(Wr,v(Le))}}}return Ge(Le),!0}return Le instanceof l&&!rt(Le)||(Tt==="noscript"||Tt==="noembed"||Tt==="noframes")&&Ea(/<\/no(script|embed|frames)/i,Le.innerHTML)?(Ge(Le),!0):(Q&&Le.nodeType===m1.text&&(Qe=Le.textContent,I2([N,F,T],nr=>{Qe=f1(Qe,nr," ")}),Le.textContent!==Qe&&(d1(e.removed,{element:Le.cloneNode()}),Le.textContent=Qe)),ur("afterSanitizeElements",Le,null),!1)},Hr=function(Le,Qe,Tt){if(Ue&&(Qe==="id"||Qe==="name")&&(Tt in r||Tt in ut))return!1;if(!(U&&!ee[Qe]&&Ea(D,Qe))){if(!(te&&Ea(M,Qe))){if(!W[Qe]||ee[Qe]){if(!(an(Le)&&(Z.tagNameCheck instanceof RegExp&&Ea(Z.tagNameCheck,Le)||Z.tagNameCheck instanceof Function&&Z.tagNameCheck(Le))&&(Z.attributeNameCheck instanceof RegExp&&Ea(Z.attributeNameCheck,Qe)||Z.attributeNameCheck instanceof Function&&Z.attributeNameCheck(Qe))||Qe==="is"&&Z.allowCustomizedBuiltInElements&&(Z.tagNameCheck instanceof RegExp&&Ea(Z.tagNameCheck,Tt)||Z.tagNameCheck instanceof Function&&Z.tagNameCheck(Tt))))return!1}else if(!pe[Qe]){if(!Ea(B,f1(Tt,I,""))){if(!((Qe==="src"||Qe==="xlink:href"||Qe==="href")&&Le!=="script"&&nue(Tt,"data:")===0&&ne[Le])){if(!(j&&!Ea(O,f1(Tt,I,"")))){if(Tt)return!1}}}}}}return!0},an=function(Le){return Le!=="annotation-xml"&&dM(Le,P)},pr=function(Le){ur("beforeSanitizeAttributes",Le,null);const{attributes:Qe}=Le;if(!Qe)return;const Tt={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:W};let nr=Qe.length;for(;nr--;){const Qr=Qe[nr],{name:sn,namespaceURI:xr,value:Wr}=Qr,Et=at(sn);let xt=sn==="value"?Wr:iue(Wr);if(Tt.attrName=Et,Tt.attrValue=xt,Tt.keepAttr=!0,Tt.forceKeepAttr=void 0,ur("uponSanitizeAttribute",Le,Tt),xt=Tt.attrValue,ae&&Ea(/((--!?|])>)|<\/(style|title)/i,xt)){ct(sn,Le);continue}if(Tt.forceKeepAttr||(ct(sn,Le),!Tt.keepAttr))continue;if(!Y&&Ea(/\/>/i,xt)){ct(sn,Le);continue}Q&&I2([N,F,T],ot=>{xt=f1(xt,ot," ")});const _t=at(Le.nodeName);if(Hr(_t,Et,xt)){if(He&&(Et==="id"||Et==="name")&&(ct(sn,Le),xt=Ve+xt),k&&typeof f=="object"&&typeof f.getAttributeType=="function"&&!xr)switch(f.getAttributeType(_t,Et)){case"TrustedHTML":{xt=k.createHTML(xt);break}case"TrustedScriptURL":{xt=k.createScriptURL(xt);break}}try{xr?Le.setAttributeNS(xr,sn,xt):Le.setAttribute(sn,xt),tr(Le)?Ge(Le):hM(e.removed)}catch{}}}ur("afterSanitizeAttributes",Le,null)},Fn=function bt(Le){let Qe=null;const Tt=Vt(Le);for(ur("beforeSanitizeShadowDOM",Le,null);Qe=Tt.nextNode();)ur("uponSanitizeShadowNode",Qe,null),!Pn(Qe)&&(Qe.content instanceof a&&bt(Qe.content),pr(Qe));ur("afterSanitizeShadowDOM",Le,null)};return e.sanitize=function(bt){let Le=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Qe=null,Tt=null,nr=null,Qr=null;if(Se=!bt,Se&&(bt="<!-->"),typeof bt!="string"&&!Nr(bt))if(typeof bt.toString=="function"){if(bt=bt.toString(),typeof bt!="string")throw p1("dirty is not a string, aborting")}else throw p1("toString is not a function");if(!e.isSupported)return bt;if(J||je(Le),e.removed=[],typeof bt=="string"&&(de=!1),de){if(bt.nodeName){const Wr=at(bt.nodeName);if(!$[Wr]||H[Wr])throw p1("root node is forbidden and cannot be sanitized in-place")}}else if(bt instanceof o)Qe=Dt("<!---->"),Tt=Qe.ownerDocument.importNode(bt,!0),Tt.nodeType===m1.element&&Tt.nodeName==="BODY"||Tt.nodeName==="HTML"?Qe=Tt:Qe.appendChild(Tt);else{if(!ce&&!Q&&!ie&&bt.indexOf("<")===-1)return k&&be?k.createHTML(bt):bt;if(Qe=Dt(bt),!Qe)return ce?null:be?E:""}Qe&&_e&&Ge(Qe.firstChild);const sn=Vt(de?bt:Qe);for(;nr=sn.nextNode();)Pn(nr)||(nr.content instanceof a&&Fn(nr.content),pr(nr));if(de)return bt;if(ce){if(Te)for(Qr=R.call(Qe.ownerDocument);Qe.firstChild;)Qr.appendChild(Qe.firstChild);else Qr=Qe;return(W.shadowroot||W.shadowrootmode)&&(Qr=L.call(n,Qr,!0)),Qr}let xr=ie?Qe.outerHTML:Qe.innerHTML;return ie&&$["!doctype"]&&Qe.ownerDocument&&Qe.ownerDocument.doctype&&Qe.ownerDocument.doctype.name&&Ea(GV,Qe.ownerDocument.doctype.name)&&(xr="<!DOCTYPE "+Qe.ownerDocument.doctype.name+`>
`+xr),Q&&I2([N,F,T],Wr=>{xr=f1(xr,Wr," ")}),k&&be?k.createHTML(xr):xr},e.setConfig=function(){let bt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};je(bt),J=!0},e.clearConfig=function(){dt=null,J=!1},e.isValidAttribute=function(bt,Le,Qe){dt||je({});const Tt=at(bt),nr=at(Le);return Hr(Tt,nr,Qe)},e.addHook=function(bt,Le){typeof Le=="function"&&(A[bt]=A[bt]||[],d1(A[bt],Le))},e.removeHook=function(bt){if(A[bt])return hM(A[bt])},e.removeHooks=function(bt){A[bt]&&(A[bt]=[])},e.removeAllHooks=function(){A={}},e}var Np=HV(),WV=Object.defineProperty,b=(t,e)=>WV(t,"name",{value:e,configurable:!0}),YV=(t,e)=>{for(var r in e)WV(t,r,{get:e[r],enumerable:!0})},ql={trace:0,debug:1,info:2,warn:3,error:4,fatal:5},q={trace:b((...t)=>{},"trace"),debug:b((...t)=>{},"debug"),info:b((...t)=>{},"info"),warn:b((...t)=>{},"warn"),error:b((...t)=>{},"error"),fatal:b((...t)=>{},"fatal")},IA=b(function(t="fatal"){let e=ql.fatal;typeof t=="string"?t.toLowerCase()in ql&&(e=ql[t]):typeof t=="number"&&(e=t),q.trace=()=>{},q.debug=()=>{},q.info=()=>{},q.warn=()=>{},q.error=()=>{},q.fatal=()=>{},e<=ql.fatal&&(q.fatal=console.error?console.error.bind(console,Gs("FATAL"),"color: orange"):console.log.bind(console,"\x1B[35m",Gs("FATAL"))),e<=ql.error&&(q.error=console.error?console.error.bind(console,Gs("ERROR"),"color: orange"):console.log.bind(console,"\x1B[31m",Gs("ERROR"))),e<=ql.warn&&(q.warn=console.warn?console.warn.bind(console,Gs("WARN"),"color: orange"):console.log.bind(console,"\x1B[33m",Gs("WARN"))),e<=ql.info&&(q.info=console.info?console.info.bind(console,Gs("INFO"),"color: lightblue"):console.log.bind(console,"\x1B[34m",Gs("INFO"))),e<=ql.debug&&(q.debug=console.debug?console.debug.bind(console,Gs("DEBUG"),"color: lightgreen"):console.log.bind(console,"\x1B[32m",Gs("DEBUG"))),e<=ql.trace&&(q.trace=console.debug?console.debug.bind(console,Gs("TRACE"),"color: lightgreen"):console.log.bind(console,"\x1B[32m",Gs("TRACE")))},"setLogLevel"),Gs=b(t=>`%c${fa().format("ss.SSS")} : ${t} : `,"format"),qV=/^-{3}\s*[\n\r](.*?)[\n\r]-{3}\s*[\n\r]+/s,Cm=/%{2}{\s*(?:(\w+)\s*:|(\w+))\s*(?:(\w+)|((?:(?!}%{2}).|\r?\n)*))?\s*(?:}%{2})?/gi,xue=/\s*%%.*\n/gm,B0,jV=(B0=class extends Error{constructor(e){super(e),this.name="UnknownDiagramError"}},b(B0,"UnknownDiagramError"),B0),Rp={},DA=b(function(t,e){t=t.replace(qV,"").replace(Cm,"").replace(xue,`
`);for(const[r,{detector:n}]of Object.entries(Rp))if(n(t,e))return r;throw new jV(`No diagram type detected matching given configuration for text: ${t}`)},"detectType"),XV=b((...t)=>{for(const{id:e,detector:r,loader:n}of t)KV(e,r,n)},"registerLazyLoadedDiagrams"),KV=b((t,e,r)=>{Rp[t]&&q.warn(`Detector with key ${t} already exists. Overwriting.`),Rp[t]={detector:e,loader:r},q.debug(`Detector with key ${t} added${r?" with loader":""}`)},"addDetector"),bue=b(t=>Rp[t].loader,"getDiagramLoader"),N7=b((t,e,{depth:r=2,clobber:n=!1}={})=>{const i={depth:r,clobber:n};return Array.isArray(e)&&!Array.isArray(t)?(e.forEach(a=>N7(t,a,i)),t):Array.isArray(e)&&Array.isArray(t)?(e.forEach(a=>{t.includes(a)||t.push(a)}),t):t===void 0||r<=0?t!=null&&typeof t=="object"&&typeof e=="object"?Object.assign(t,e):e:(e!==void 0&&typeof t=="object"&&typeof e=="object"&&Object.keys(e).forEach(a=>{typeof e[a]=="object"&&(t[a]===void 0||typeof t[a]=="object")?(t[a]===void 0&&(t[a]=Array.isArray(e[a])?[]:{}),t[a]=N7(t[a],e[a],{depth:r-1,clobber:n})):(n||typeof t[a]!="object"&&typeof e[a]!="object")&&(t[a]=e[a])}),t)},"assignWithDepth"),ci=N7,Q5="#ffffff",Z5="#f2f2f2",La=b((t,e)=>e?Pe(t,{s:-40,l:10}):Pe(t,{s:-40,l:-10}),"mkBorder"),$0,wue=($0=class{constructor(){this.background="#f4f4f4",this.primaryColor="#fff4dd",this.noteBkgColor="#fff5ad",this.noteTextColor="#333",this.THEME_COLOR_LIMIT=12,this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px"}updateColors(){var r,n,i,a,s,o,l,u,h,d,p;if(this.primaryTextColor=this.primaryTextColor||(this.darkMode?"#eee":"#333"),this.secondaryColor=this.secondaryColor||Pe(this.primaryColor,{h:-120}),this.tertiaryColor=this.tertiaryColor||Pe(this.primaryColor,{h:180,l:5}),this.primaryBorderColor=this.primaryBorderColor||La(this.primaryColor,this.darkMode),this.secondaryBorderColor=this.secondaryBorderColor||La(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=this.tertiaryBorderColor||La(this.tertiaryColor,this.darkMode),this.noteBorderColor=this.noteBorderColor||La(this.noteBkgColor,this.darkMode),this.noteBkgColor=this.noteBkgColor||"#fff5ad",this.noteTextColor=this.noteTextColor||"#333",this.secondaryTextColor=this.secondaryTextColor||yt(this.secondaryColor),this.tertiaryTextColor=this.tertiaryTextColor||yt(this.tertiaryColor),this.lineColor=this.lineColor||yt(this.background),this.arrowheadColor=this.arrowheadColor||yt(this.background),this.textColor=this.textColor||this.primaryTextColor,this.border2=this.border2||this.tertiaryBorderColor,this.nodeBkg=this.nodeBkg||this.primaryColor,this.mainBkg=this.mainBkg||this.primaryColor,this.nodeBorder=this.nodeBorder||this.primaryBorderColor,this.clusterBkg=this.clusterBkg||this.tertiaryColor,this.clusterBorder=this.clusterBorder||this.tertiaryBorderColor,this.defaultLinkColor=this.defaultLinkColor||this.lineColor,this.titleColor=this.titleColor||this.tertiaryTextColor,this.edgeLabelBackground=this.edgeLabelBackground||(this.darkMode?Gt(this.secondaryColor,30):this.secondaryColor),this.nodeTextColor=this.nodeTextColor||this.primaryTextColor,this.actorBorder=this.actorBorder||this.primaryBorderColor,this.actorBkg=this.actorBkg||this.mainBkg,this.actorTextColor=this.actorTextColor||this.primaryTextColor,this.actorLineColor=this.actorLineColor||this.actorBorder,this.labelBoxBkgColor=this.labelBoxBkgColor||this.actorBkg,this.signalColor=this.signalColor||this.textColor,this.signalTextColor=this.signalTextColor||this.textColor,this.labelBoxBorderColor=this.labelBoxBorderColor||this.actorBorder,this.labelTextColor=this.labelTextColor||this.actorTextColor,this.loopTextColor=this.loopTextColor||this.actorTextColor,this.activationBorderColor=this.activationBorderColor||Gt(this.secondaryColor,10),this.activationBkgColor=this.activationBkgColor||this.secondaryColor,this.sequenceNumberColor=this.sequenceNumberColor||yt(this.lineColor),this.sectionBkgColor=this.sectionBkgColor||this.tertiaryColor,this.altSectionBkgColor=this.altSectionBkgColor||"white",this.sectionBkgColor=this.sectionBkgColor||this.secondaryColor,this.sectionBkgColor2=this.sectionBkgColor2||this.primaryColor,this.excludeBkgColor=this.excludeBkgColor||"#eeeeee",this.taskBorderColor=this.taskBorderColor||this.primaryBorderColor,this.taskBkgColor=this.taskBkgColor||this.primaryColor,this.activeTaskBorderColor=this.activeTaskBorderColor||this.primaryColor,this.activeTaskBkgColor=this.activeTaskBkgColor||Ot(this.primaryColor,23),this.gridColor=this.gridColor||"lightgrey",this.doneTaskBkgColor=this.doneTaskBkgColor||"lightgrey",this.doneTaskBorderColor=this.doneTaskBorderColor||"grey",this.critBorderColor=this.critBorderColor||"#ff8888",this.critBkgColor=this.critBkgColor||"red",this.todayLineColor=this.todayLineColor||"red",this.taskTextColor=this.taskTextColor||this.textColor,this.taskTextOutsideColor=this.taskTextOutsideColor||this.textColor,this.taskTextLightColor=this.taskTextLightColor||this.textColor,this.taskTextColor=this.taskTextColor||this.primaryTextColor,this.taskTextDarkColor=this.taskTextDarkColor||this.textColor,this.taskTextClickableColor=this.taskTextClickableColor||"#003163",this.personBorder=this.personBorder||this.primaryBorderColor,this.personBkg=this.personBkg||this.mainBkg,this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||this.tertiaryColor,this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.nodeBorder,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.specialStateColor=this.lineColor,this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||Pe(this.primaryColor,{h:30}),this.cScale4=this.cScale4||Pe(this.primaryColor,{h:60}),this.cScale5=this.cScale5||Pe(this.primaryColor,{h:90}),this.cScale6=this.cScale6||Pe(this.primaryColor,{h:120}),this.cScale7=this.cScale7||Pe(this.primaryColor,{h:150}),this.cScale8=this.cScale8||Pe(this.primaryColor,{h:210,l:150}),this.cScale9=this.cScale9||Pe(this.primaryColor,{h:270}),this.cScale10=this.cScale10||Pe(this.primaryColor,{h:300}),this.cScale11=this.cScale11||Pe(this.primaryColor,{h:330}),this.darkMode)for(let f=0;f<this.THEME_COLOR_LIMIT;f++)this["cScale"+f]=Gt(this["cScale"+f],75);else for(let f=0;f<this.THEME_COLOR_LIMIT;f++)this["cScale"+f]=Gt(this["cScale"+f],25);for(let f=0;f<this.THEME_COLOR_LIMIT;f++)this["cScaleInv"+f]=this["cScaleInv"+f]||yt(this["cScale"+f]);for(let f=0;f<this.THEME_COLOR_LIMIT;f++)this.darkMode?this["cScalePeer"+f]=this["cScalePeer"+f]||Ot(this["cScale"+f],10):this["cScalePeer"+f]=this["cScalePeer"+f]||Gt(this["cScale"+f],10);this.scaleLabelColor=this.scaleLabelColor||this.labelTextColor;for(let f=0;f<this.THEME_COLOR_LIMIT;f++)this["cScaleLabel"+f]=this["cScaleLabel"+f]||this.scaleLabelColor;const e=this.darkMode?-4:-1;for(let f=0;f<5;f++)this["surface"+f]=this["surface"+f]||Pe(this.mainBkg,{h:180,s:-15,l:e*(5+f*3)}),this["surfacePeer"+f]=this["surfacePeer"+f]||Pe(this.mainBkg,{h:180,s:-15,l:e*(8+f*3)});this.classText=this.classText||this.textColor,this.fillType0=this.fillType0||this.primaryColor,this.fillType1=this.fillType1||this.secondaryColor,this.fillType2=this.fillType2||Pe(this.primaryColor,{h:64}),this.fillType3=this.fillType3||Pe(this.secondaryColor,{h:64}),this.fillType4=this.fillType4||Pe(this.primaryColor,{h:-64}),this.fillType5=this.fillType5||Pe(this.secondaryColor,{h:-64}),this.fillType6=this.fillType6||Pe(this.primaryColor,{h:128}),this.fillType7=this.fillType7||Pe(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||this.tertiaryColor,this.pie4=this.pie4||Pe(this.primaryColor,{l:-10}),this.pie5=this.pie5||Pe(this.secondaryColor,{l:-10}),this.pie6=this.pie6||Pe(this.tertiaryColor,{l:-10}),this.pie7=this.pie7||Pe(this.primaryColor,{h:60,l:-10}),this.pie8=this.pie8||Pe(this.primaryColor,{h:-60,l:-10}),this.pie9=this.pie9||Pe(this.primaryColor,{h:120,l:0}),this.pie10=this.pie10||Pe(this.primaryColor,{h:60,l:-20}),this.pie11=this.pie11||Pe(this.primaryColor,{h:-60,l:-20}),this.pie12=this.pie12||Pe(this.primaryColor,{h:120,l:-10}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.archEdgeColor=this.archEdgeColor||"#777",this.archEdgeArrowColor=this.archEdgeArrowColor||"#777",this.archEdgeWidth=this.archEdgeWidth||"3",this.archGroupBorderColor=this.archGroupBorderColor||"#000",this.archGroupBorderWidth=this.archGroupBorderWidth||"2px",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||Pe(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||Pe(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||Pe(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||Pe(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||Pe(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||Pe(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||sf(this.quadrant1Fill)?Ot(this.quadrant1Fill):Gt(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.xyChart={backgroundColor:((r=this.xyChart)==null?void 0:r.backgroundColor)||this.background,titleColor:((n=this.xyChart)==null?void 0:n.titleColor)||this.primaryTextColor,xAxisTitleColor:((i=this.xyChart)==null?void 0:i.xAxisTitleColor)||this.primaryTextColor,xAxisLabelColor:((a=this.xyChart)==null?void 0:a.xAxisLabelColor)||this.primaryTextColor,xAxisTickColor:((s=this.xyChart)==null?void 0:s.xAxisTickColor)||this.primaryTextColor,xAxisLineColor:((o=this.xyChart)==null?void 0:o.xAxisLineColor)||this.primaryTextColor,yAxisTitleColor:((l=this.xyChart)==null?void 0:l.yAxisTitleColor)||this.primaryTextColor,yAxisLabelColor:((u=this.xyChart)==null?void 0:u.yAxisLabelColor)||this.primaryTextColor,yAxisTickColor:((h=this.xyChart)==null?void 0:h.yAxisTickColor)||this.primaryTextColor,yAxisLineColor:((d=this.xyChart)==null?void 0:d.yAxisLineColor)||this.primaryTextColor,plotColorPalette:((p=this.xyChart)==null?void 0:p.plotColorPalette)||"#FFF4DD,#FFD8B1,#FFA07A,#ECEFF1,#D6DBDF,#C3E0A8,#FFB6A4,#FFD74D,#738FA7,#FFFFF0"},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||(this.darkMode?Gt(this.secondaryColor,30):this.secondaryColor),this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||Pe(this.primaryColor,{h:-30}),this.git4=this.git4||Pe(this.primaryColor,{h:-60}),this.git5=this.git5||Pe(this.primaryColor,{h:-90}),this.git6=this.git6||Pe(this.primaryColor,{h:60}),this.git7=this.git7||Pe(this.primaryColor,{h:120}),this.darkMode?(this.git0=Ot(this.git0,25),this.git1=Ot(this.git1,25),this.git2=Ot(this.git2,25),this.git3=Ot(this.git3,25),this.git4=Ot(this.git4,25),this.git5=Ot(this.git5,25),this.git6=Ot(this.git6,25),this.git7=Ot(this.git7,25)):(this.git0=Gt(this.git0,25),this.git1=Gt(this.git1,25),this.git2=Gt(this.git2,25),this.git3=Gt(this.git3,25),this.git4=Gt(this.git4,25),this.git5=Gt(this.git5,25),this.git6=Gt(this.git6,25),this.git7=Gt(this.git7,25)),this.gitInv0=this.gitInv0||yt(this.git0),this.gitInv1=this.gitInv1||yt(this.git1),this.gitInv2=this.gitInv2||yt(this.git2),this.gitInv3=this.gitInv3||yt(this.git3),this.gitInv4=this.gitInv4||yt(this.git4),this.gitInv5=this.gitInv5||yt(this.git5),this.gitInv6=this.gitInv6||yt(this.git6),this.gitInv7=this.gitInv7||yt(this.git7),this.branchLabelColor=this.branchLabelColor||(this.darkMode?"black":this.labelTextColor),this.gitBranchLabel0=this.gitBranchLabel0||this.branchLabelColor,this.gitBranchLabel1=this.gitBranchLabel1||this.branchLabelColor,this.gitBranchLabel2=this.gitBranchLabel2||this.branchLabelColor,this.gitBranchLabel3=this.gitBranchLabel3||this.branchLabelColor,this.gitBranchLabel4=this.gitBranchLabel4||this.branchLabelColor,this.gitBranchLabel5=this.gitBranchLabel5||this.branchLabelColor,this.gitBranchLabel6=this.gitBranchLabel6||this.branchLabelColor,this.gitBranchLabel7=this.gitBranchLabel7||this.branchLabelColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||Q5,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||Z5}calculate(e){if(typeof e!="object"){this.updateColors();return}const r=Object.keys(e);r.forEach(n=>{this[n]=e[n]}),this.updateColors(),r.forEach(n=>{this[n]=e[n]})}},b($0,"Theme"),$0),kue=b(t=>{const e=new wue;return e.calculate(t),e},"getThemeVariables"),z0,Tue=(z0=class{constructor(){this.background="#333",this.primaryColor="#1f2020",this.secondaryColor=Ot(this.primaryColor,16),this.tertiaryColor=Pe(this.primaryColor,{h:-160}),this.primaryBorderColor=yt(this.background),this.secondaryBorderColor=La(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=La(this.tertiaryColor,this.darkMode),this.primaryTextColor=yt(this.primaryColor),this.secondaryTextColor=yt(this.secondaryColor),this.tertiaryTextColor=yt(this.tertiaryColor),this.lineColor=yt(this.background),this.textColor=yt(this.background),this.mainBkg="#1f2020",this.secondBkg="calculated",this.mainContrastColor="lightgrey",this.darkTextColor=Ot(yt("#323D47"),10),this.lineColor="calculated",this.border1="#ccc",this.border2=pd(255,255,255,.25),this.arrowheadColor="calculated",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.labelBackground="#181818",this.textColor="#ccc",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="#F9FFFE",this.edgeLabelBackground="calculated",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="calculated",this.actorLineColor="calculated",this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="calculated",this.activationBkgColor="calculated",this.sequenceNumberColor="black",this.sectionBkgColor=Gt("#EAE8D9",30),this.altSectionBkgColor="calculated",this.sectionBkgColor2="#EAE8D9",this.excludeBkgColor=Gt(this.sectionBkgColor,10),this.taskBorderColor=pd(255,255,255,70),this.taskBkgColor="calculated",this.taskTextColor="calculated",this.taskTextLightColor="calculated",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor=pd(255,255,255,50),this.activeTaskBkgColor="#81B1DB",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="grey",this.critBorderColor="#E83737",this.critBkgColor="#E83737",this.taskTextDarkColor="calculated",this.todayLineColor="#DB5757",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.archEdgeColor="calculated",this.archEdgeArrowColor="calculated",this.archEdgeWidth="3",this.archGroupBorderColor=this.primaryBorderColor,this.archGroupBorderWidth="2px",this.labelColor="calculated",this.errorBkgColor="#a44141",this.errorTextColor="#ddd"}updateColors(){var e,r,n,i,a,s,o,l,u,h,d;this.secondBkg=Ot(this.mainBkg,16),this.lineColor=this.mainContrastColor,this.arrowheadColor=this.mainContrastColor,this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.edgeLabelBackground=Ot(this.labelBackground,25),this.actorBorder=this.border1,this.actorBkg=this.mainBkg,this.actorTextColor=this.mainContrastColor,this.actorLineColor=this.actorBorder,this.signalColor=this.mainContrastColor,this.signalTextColor=this.mainContrastColor,this.labelBoxBkgColor=this.actorBkg,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.mainContrastColor,this.loopTextColor=this.mainContrastColor,this.noteBorderColor=this.secondaryBorderColor,this.noteBkgColor=this.secondBkg,this.noteTextColor=this.secondaryTextColor,this.activationBorderColor=this.border1,this.activationBkgColor=this.secondBkg,this.altSectionBkgColor=this.background,this.taskBkgColor=Ot(this.mainBkg,23),this.taskTextColor=this.darkTextColor,this.taskTextLightColor=this.mainContrastColor,this.taskTextOutsideColor=this.taskTextLightColor,this.gridColor=this.mainContrastColor,this.doneTaskBkgColor=this.mainContrastColor,this.taskTextDarkColor=this.darkTextColor,this.archEdgeColor=this.lineColor,this.archEdgeArrowColor=this.lineColor,this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#555",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.primaryBorderColor,this.specialStateColor="#f4f4f4",this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=Pe(this.primaryColor,{h:64}),this.fillType3=Pe(this.secondaryColor,{h:64}),this.fillType4=Pe(this.primaryColor,{h:-64}),this.fillType5=Pe(this.secondaryColor,{h:-64}),this.fillType6=Pe(this.primaryColor,{h:128}),this.fillType7=Pe(this.secondaryColor,{h:128}),this.cScale1=this.cScale1||"#0b0000",this.cScale2=this.cScale2||"#4d1037",this.cScale3=this.cScale3||"#3f5258",this.cScale4=this.cScale4||"#4f2f1b",this.cScale5=this.cScale5||"#6e0a0a",this.cScale6=this.cScale6||"#3b0048",this.cScale7=this.cScale7||"#995a01",this.cScale8=this.cScale8||"#154706",this.cScale9=this.cScale9||"#161722",this.cScale10=this.cScale10||"#00296f",this.cScale11=this.cScale11||"#01629c",this.cScale12=this.cScale12||"#010029",this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||Pe(this.primaryColor,{h:30}),this.cScale4=this.cScale4||Pe(this.primaryColor,{h:60}),this.cScale5=this.cScale5||Pe(this.primaryColor,{h:90}),this.cScale6=this.cScale6||Pe(this.primaryColor,{h:120}),this.cScale7=this.cScale7||Pe(this.primaryColor,{h:150}),this.cScale8=this.cScale8||Pe(this.primaryColor,{h:210}),this.cScale9=this.cScale9||Pe(this.primaryColor,{h:270}),this.cScale10=this.cScale10||Pe(this.primaryColor,{h:300}),this.cScale11=this.cScale11||Pe(this.primaryColor,{h:330});for(let p=0;p<this.THEME_COLOR_LIMIT;p++)this["cScaleInv"+p]=this["cScaleInv"+p]||yt(this["cScale"+p]);for(let p=0;p<this.THEME_COLOR_LIMIT;p++)this["cScalePeer"+p]=this["cScalePeer"+p]||Ot(this["cScale"+p],10);for(let p=0;p<5;p++)this["surface"+p]=this["surface"+p]||Pe(this.mainBkg,{h:30,s:-30,l:-(-10+p*4)}),this["surfacePeer"+p]=this["surfacePeer"+p]||Pe(this.mainBkg,{h:30,s:-30,l:-(-7+p*4)});this.scaleLabelColor=this.scaleLabelColor||(this.darkMode?"black":this.labelTextColor);for(let p=0;p<this.THEME_COLOR_LIMIT;p++)this["cScaleLabel"+p]=this["cScaleLabel"+p]||this.scaleLabelColor;for(let p=0;p<this.THEME_COLOR_LIMIT;p++)this["pie"+p]=this["cScale"+p];this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||Pe(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||Pe(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||Pe(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||Pe(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||Pe(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||Pe(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||sf(this.quadrant1Fill)?Ot(this.quadrant1Fill):Gt(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.xyChart={backgroundColor:((e=this.xyChart)==null?void 0:e.backgroundColor)||this.background,titleColor:((r=this.xyChart)==null?void 0:r.titleColor)||this.primaryTextColor,xAxisTitleColor:((n=this.xyChart)==null?void 0:n.xAxisTitleColor)||this.primaryTextColor,xAxisLabelColor:((i=this.xyChart)==null?void 0:i.xAxisLabelColor)||this.primaryTextColor,xAxisTickColor:((a=this.xyChart)==null?void 0:a.xAxisTickColor)||this.primaryTextColor,xAxisLineColor:((s=this.xyChart)==null?void 0:s.xAxisLineColor)||this.primaryTextColor,yAxisTitleColor:((o=this.xyChart)==null?void 0:o.yAxisTitleColor)||this.primaryTextColor,yAxisLabelColor:((l=this.xyChart)==null?void 0:l.yAxisLabelColor)||this.primaryTextColor,yAxisTickColor:((u=this.xyChart)==null?void 0:u.yAxisTickColor)||this.primaryTextColor,yAxisLineColor:((h=this.xyChart)==null?void 0:h.yAxisLineColor)||this.primaryTextColor,plotColorPalette:((d=this.xyChart)==null?void 0:d.plotColorPalette)||"#3498db,#2ecc71,#e74c3c,#f1c40f,#bdc3c7,#ffffff,#34495e,#9b59b6,#1abc9c,#e67e22"},this.packet={startByteColor:this.primaryTextColor,endByteColor:this.primaryTextColor,labelColor:this.primaryTextColor,titleColor:this.primaryTextColor,blockStrokeColor:this.primaryTextColor,blockFillColor:this.background},this.classText=this.primaryTextColor,this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||(this.darkMode?Gt(this.secondaryColor,30):this.secondaryColor),this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=Ot(this.secondaryColor,20),this.git1=Ot(this.pie2||this.secondaryColor,20),this.git2=Ot(this.pie3||this.tertiaryColor,20),this.git3=Ot(this.pie4||Pe(this.primaryColor,{h:-30}),20),this.git4=Ot(this.pie5||Pe(this.primaryColor,{h:-60}),20),this.git5=Ot(this.pie6||Pe(this.primaryColor,{h:-90}),10),this.git6=Ot(this.pie7||Pe(this.primaryColor,{h:60}),10),this.git7=Ot(this.pie8||Pe(this.primaryColor,{h:120}),20),this.gitInv0=this.gitInv0||yt(this.git0),this.gitInv1=this.gitInv1||yt(this.git1),this.gitInv2=this.gitInv2||yt(this.git2),this.gitInv3=this.gitInv3||yt(this.git3),this.gitInv4=this.gitInv4||yt(this.git4),this.gitInv5=this.gitInv5||yt(this.git5),this.gitInv6=this.gitInv6||yt(this.git6),this.gitInv7=this.gitInv7||yt(this.git7),this.gitBranchLabel0=this.gitBranchLabel0||yt(this.labelTextColor),this.gitBranchLabel1=this.gitBranchLabel1||this.labelTextColor,this.gitBranchLabel2=this.gitBranchLabel2||this.labelTextColor,this.gitBranchLabel3=this.gitBranchLabel3||yt(this.labelTextColor),this.gitBranchLabel4=this.gitBranchLabel4||this.labelTextColor,this.gitBranchLabel5=this.gitBranchLabel5||this.labelTextColor,this.gitBranchLabel6=this.gitBranchLabel6||this.labelTextColor,this.gitBranchLabel7=this.gitBranchLabel7||this.labelTextColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||Ot(this.background,12),this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||Ot(this.background,2),this.nodeBorder=this.nodeBorder||"#999"}calculate(e){if(typeof e!="object"){this.updateColors();return}const r=Object.keys(e);r.forEach(n=>{this[n]=e[n]}),this.updateColors(),r.forEach(n=>{this[n]=e[n]})}},b(z0,"Theme"),z0),Eue=b(t=>{const e=new Tue;return e.calculate(t),e},"getThemeVariables"),U0,Sue=(U0=class{constructor(){this.background="#f4f4f4",this.primaryColor="#ECECFF",this.secondaryColor=Pe(this.primaryColor,{h:120}),this.secondaryColor="#ffffde",this.tertiaryColor=Pe(this.primaryColor,{h:-160}),this.primaryBorderColor=La(this.primaryColor,this.darkMode),this.secondaryBorderColor=La(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=La(this.tertiaryColor,this.darkMode),this.primaryTextColor=yt(this.primaryColor),this.secondaryTextColor=yt(this.secondaryColor),this.tertiaryTextColor=yt(this.tertiaryColor),this.lineColor=yt(this.background),this.textColor=yt(this.background),this.background="white",this.mainBkg="#ECECFF",this.secondBkg="#ffffde",this.lineColor="#333333",this.border1="#9370DB",this.border2="#aaaa33",this.arrowheadColor="#333333",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.labelBackground="rgba(232,232,232, 0.8)",this.textColor="#333",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="calculated",this.edgeLabelBackground="calculated",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="black",this.actorLineColor="calculated",this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="calculated",this.altSectionBkgColor="calculated",this.sectionBkgColor2="calculated",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="calculated",this.taskTextLightColor="calculated",this.taskTextColor=this.taskTextLightColor,this.taskTextDarkColor="calculated",this.taskTextOutsideColor=this.taskTextDarkColor,this.taskTextClickableColor="calculated",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="calculated",this.critBorderColor="calculated",this.critBkgColor="calculated",this.todayLineColor="calculated",this.sectionBkgColor=pd(102,102,255,.49),this.altSectionBkgColor="white",this.sectionBkgColor2="#fff400",this.taskBorderColor="#534fbc",this.taskBkgColor="#8a90dd",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="black",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="#534fbc",this.activeTaskBkgColor="#bfc7ff",this.gridColor="lightgrey",this.doneTaskBkgColor="lightgrey",this.doneTaskBorderColor="grey",this.critBorderColor="#ff8888",this.critBkgColor="red",this.todayLineColor="red",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.archEdgeColor="calculated",this.archEdgeArrowColor="calculated",this.archEdgeWidth="3",this.archGroupBorderColor=this.primaryBorderColor,this.archGroupBorderWidth="2px",this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222",this.updateColors()}updateColors(){var e,r,n,i,a,s,o,l,u,h,d;this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||Pe(this.primaryColor,{h:30}),this.cScale4=this.cScale4||Pe(this.primaryColor,{h:60}),this.cScale5=this.cScale5||Pe(this.primaryColor,{h:90}),this.cScale6=this.cScale6||Pe(this.primaryColor,{h:120}),this.cScale7=this.cScale7||Pe(this.primaryColor,{h:150}),this.cScale8=this.cScale8||Pe(this.primaryColor,{h:210}),this.cScale9=this.cScale9||Pe(this.primaryColor,{h:270}),this.cScale10=this.cScale10||Pe(this.primaryColor,{h:300}),this.cScale11=this.cScale11||Pe(this.primaryColor,{h:330}),this.cScalePeer1=this.cScalePeer1||Gt(this.secondaryColor,45),this.cScalePeer2=this.cScalePeer2||Gt(this.tertiaryColor,40);for(let p=0;p<this.THEME_COLOR_LIMIT;p++)this["cScale"+p]=Gt(this["cScale"+p],10),this["cScalePeer"+p]=this["cScalePeer"+p]||Gt(this["cScale"+p],25);for(let p=0;p<this.THEME_COLOR_LIMIT;p++)this["cScaleInv"+p]=this["cScaleInv"+p]||Pe(this["cScale"+p],{h:180});for(let p=0;p<5;p++)this["surface"+p]=this["surface"+p]||Pe(this.mainBkg,{h:30,l:-(5+p*5)}),this["surfacePeer"+p]=this["surfacePeer"+p]||Pe(this.mainBkg,{h:30,l:-(7+p*5)});if(this.scaleLabelColor=this.scaleLabelColor!=="calculated"&&this.scaleLabelColor?this.scaleLabelColor:this.labelTextColor,this.labelTextColor!=="calculated"){this.cScaleLabel0=this.cScaleLabel0||yt(this.labelTextColor),this.cScaleLabel3=this.cScaleLabel3||yt(this.labelTextColor);for(let p=0;p<this.THEME_COLOR_LIMIT;p++)this["cScaleLabel"+p]=this["cScaleLabel"+p]||this.labelTextColor}this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.titleColor=this.textColor,this.edgeLabelBackground=this.labelBackground,this.actorBorder=Ot(this.border1,23),this.actorBkg=this.mainBkg,this.labelBoxBkgColor=this.actorBkg,this.signalColor=this.textColor,this.signalTextColor=this.textColor,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.actorTextColor,this.loopTextColor=this.actorTextColor,this.noteBorderColor=this.border2,this.noteTextColor=this.actorTextColor,this.actorLineColor=this.actorBorder,this.taskTextColor=this.taskTextLightColor,this.taskTextOutsideColor=this.taskTextDarkColor,this.archEdgeColor=this.lineColor,this.archEdgeArrowColor=this.lineColor,this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f0f0f0",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.nodeBorder,this.specialStateColor=this.lineColor,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=Pe(this.primaryColor,{h:64}),this.fillType3=Pe(this.secondaryColor,{h:64}),this.fillType4=Pe(this.primaryColor,{h:-64}),this.fillType5=Pe(this.secondaryColor,{h:-64}),this.fillType6=Pe(this.primaryColor,{h:128}),this.fillType7=Pe(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||Pe(this.tertiaryColor,{l:-40}),this.pie4=this.pie4||Pe(this.primaryColor,{l:-10}),this.pie5=this.pie5||Pe(this.secondaryColor,{l:-30}),this.pie6=this.pie6||Pe(this.tertiaryColor,{l:-20}),this.pie7=this.pie7||Pe(this.primaryColor,{h:60,l:-20}),this.pie8=this.pie8||Pe(this.primaryColor,{h:-60,l:-40}),this.pie9=this.pie9||Pe(this.primaryColor,{h:120,l:-40}),this.pie10=this.pie10||Pe(this.primaryColor,{h:60,l:-40}),this.pie11=this.pie11||Pe(this.primaryColor,{h:-90,l:-40}),this.pie12=this.pie12||Pe(this.primaryColor,{h:120,l:-30}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||Pe(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||Pe(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||Pe(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||Pe(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||Pe(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||Pe(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||sf(this.quadrant1Fill)?Ot(this.quadrant1Fill):Gt(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.xyChart={backgroundColor:((e=this.xyChart)==null?void 0:e.backgroundColor)||this.background,titleColor:((r=this.xyChart)==null?void 0:r.titleColor)||this.primaryTextColor,xAxisTitleColor:((n=this.xyChart)==null?void 0:n.xAxisTitleColor)||this.primaryTextColor,xAxisLabelColor:((i=this.xyChart)==null?void 0:i.xAxisLabelColor)||this.primaryTextColor,xAxisTickColor:((a=this.xyChart)==null?void 0:a.xAxisTickColor)||this.primaryTextColor,xAxisLineColor:((s=this.xyChart)==null?void 0:s.xAxisLineColor)||this.primaryTextColor,yAxisTitleColor:((o=this.xyChart)==null?void 0:o.yAxisTitleColor)||this.primaryTextColor,yAxisLabelColor:((l=this.xyChart)==null?void 0:l.yAxisLabelColor)||this.primaryTextColor,yAxisTickColor:((u=this.xyChart)==null?void 0:u.yAxisTickColor)||this.primaryTextColor,yAxisLineColor:((h=this.xyChart)==null?void 0:h.yAxisLineColor)||this.primaryTextColor,plotColorPalette:((d=this.xyChart)==null?void 0:d.plotColorPalette)||"#ECECFF,#8493A6,#FFC3A0,#DCDDE1,#B8E994,#D1A36F,#C3CDE6,#FFB6C1,#496078,#F8F3E3"},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.labelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||Pe(this.primaryColor,{h:-30}),this.git4=this.git4||Pe(this.primaryColor,{h:-60}),this.git5=this.git5||Pe(this.primaryColor,{h:-90}),this.git6=this.git6||Pe(this.primaryColor,{h:60}),this.git7=this.git7||Pe(this.primaryColor,{h:120}),this.darkMode?(this.git0=Ot(this.git0,25),this.git1=Ot(this.git1,25),this.git2=Ot(this.git2,25),this.git3=Ot(this.git3,25),this.git4=Ot(this.git4,25),this.git5=Ot(this.git5,25),this.git6=Ot(this.git6,25),this.git7=Ot(this.git7,25)):(this.git0=Gt(this.git0,25),this.git1=Gt(this.git1,25),this.git2=Gt(this.git2,25),this.git3=Gt(this.git3,25),this.git4=Gt(this.git4,25),this.git5=Gt(this.git5,25),this.git6=Gt(this.git6,25),this.git7=Gt(this.git7,25)),this.gitInv0=this.gitInv0||Gt(yt(this.git0),25),this.gitInv1=this.gitInv1||yt(this.git1),this.gitInv2=this.gitInv2||yt(this.git2),this.gitInv3=this.gitInv3||yt(this.git3),this.gitInv4=this.gitInv4||yt(this.git4),this.gitInv5=this.gitInv5||yt(this.git5),this.gitInv6=this.gitInv6||yt(this.git6),this.gitInv7=this.gitInv7||yt(this.git7),this.gitBranchLabel0=this.gitBranchLabel0||yt(this.labelTextColor),this.gitBranchLabel1=this.gitBranchLabel1||this.labelTextColor,this.gitBranchLabel2=this.gitBranchLabel2||this.labelTextColor,this.gitBranchLabel3=this.gitBranchLabel3||yt(this.labelTextColor),this.gitBranchLabel4=this.gitBranchLabel4||this.labelTextColor,this.gitBranchLabel5=this.gitBranchLabel5||this.labelTextColor,this.gitBranchLabel6=this.gitBranchLabel6||this.labelTextColor,this.gitBranchLabel7=this.gitBranchLabel7||this.labelTextColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||Q5,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||Z5}calculate(e){if(typeof e!="object"){this.updateColors();return}const r=Object.keys(e);r.forEach(n=>{this[n]=e[n]}),this.updateColors(),r.forEach(n=>{this[n]=e[n]})}},b(U0,"Theme"),U0),OA=b(t=>{const e=new Sue;return e.calculate(t),e},"getThemeVariables"),V0,Cue=(V0=class{constructor(){this.background="#f4f4f4",this.primaryColor="#cde498",this.secondaryColor="#cdffb2",this.background="white",this.mainBkg="#cde498",this.secondBkg="#cdffb2",this.lineColor="green",this.border1="#13540c",this.border2="#6eaa49",this.arrowheadColor="green",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.tertiaryColor=Ot("#cde498",10),this.primaryBorderColor=La(this.primaryColor,this.darkMode),this.secondaryBorderColor=La(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=La(this.tertiaryColor,this.darkMode),this.primaryTextColor=yt(this.primaryColor),this.secondaryTextColor=yt(this.secondaryColor),this.tertiaryTextColor=yt(this.primaryColor),this.lineColor=yt(this.background),this.textColor=yt(this.background),this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="#333",this.edgeLabelBackground="#e8e8e8",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="black",this.actorLineColor="calculated",this.signalColor="#333",this.signalTextColor="#333",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="#326932",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="#6eaa49",this.altSectionBkgColor="white",this.sectionBkgColor2="#6eaa49",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="#487e3a",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="black",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="lightgrey",this.doneTaskBkgColor="lightgrey",this.doneTaskBorderColor="grey",this.critBorderColor="#ff8888",this.critBkgColor="red",this.todayLineColor="red",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.archEdgeColor="calculated",this.archEdgeArrowColor="calculated",this.archEdgeWidth="3",this.archGroupBorderColor=this.primaryBorderColor,this.archGroupBorderWidth="2px",this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222"}updateColors(){var e,r,n,i,a,s,o,l,u,h,d;this.actorBorder=Gt(this.mainBkg,20),this.actorBkg=this.mainBkg,this.labelBoxBkgColor=this.actorBkg,this.labelTextColor=this.actorTextColor,this.loopTextColor=this.actorTextColor,this.noteBorderColor=this.border2,this.noteTextColor=this.actorTextColor,this.actorLineColor=this.actorBorder,this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||Pe(this.primaryColor,{h:30}),this.cScale4=this.cScale4||Pe(this.primaryColor,{h:60}),this.cScale5=this.cScale5||Pe(this.primaryColor,{h:90}),this.cScale6=this.cScale6||Pe(this.primaryColor,{h:120}),this.cScale7=this.cScale7||Pe(this.primaryColor,{h:150}),this.cScale8=this.cScale8||Pe(this.primaryColor,{h:210}),this.cScale9=this.cScale9||Pe(this.primaryColor,{h:270}),this.cScale10=this.cScale10||Pe(this.primaryColor,{h:300}),this.cScale11=this.cScale11||Pe(this.primaryColor,{h:330}),this.cScalePeer1=this.cScalePeer1||Gt(this.secondaryColor,45),this.cScalePeer2=this.cScalePeer2||Gt(this.tertiaryColor,40);for(let p=0;p<this.THEME_COLOR_LIMIT;p++)this["cScale"+p]=Gt(this["cScale"+p],10),this["cScalePeer"+p]=this["cScalePeer"+p]||Gt(this["cScale"+p],25);for(let p=0;p<this.THEME_COLOR_LIMIT;p++)this["cScaleInv"+p]=this["cScaleInv"+p]||Pe(this["cScale"+p],{h:180});this.scaleLabelColor=this.scaleLabelColor!=="calculated"&&this.scaleLabelColor?this.scaleLabelColor:this.labelTextColor;for(let p=0;p<this.THEME_COLOR_LIMIT;p++)this["cScaleLabel"+p]=this["cScaleLabel"+p]||this.scaleLabelColor;for(let p=0;p<5;p++)this["surface"+p]=this["surface"+p]||Pe(this.mainBkg,{h:30,s:-30,l:-(5+p*5)}),this["surfacePeer"+p]=this["surfacePeer"+p]||Pe(this.mainBkg,{h:30,s:-30,l:-(8+p*5)});this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.taskBorderColor=this.border1,this.taskTextColor=this.taskTextLightColor,this.taskTextOutsideColor=this.taskTextDarkColor,this.activeTaskBorderColor=this.taskBorderColor,this.activeTaskBkgColor=this.mainBkg,this.archEdgeColor=this.lineColor,this.archEdgeArrowColor=this.lineColor,this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f0f0f0",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.primaryBorderColor,this.specialStateColor=this.lineColor,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=Pe(this.primaryColor,{h:64}),this.fillType3=Pe(this.secondaryColor,{h:64}),this.fillType4=Pe(this.primaryColor,{h:-64}),this.fillType5=Pe(this.secondaryColor,{h:-64}),this.fillType6=Pe(this.primaryColor,{h:128}),this.fillType7=Pe(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||this.tertiaryColor,this.pie4=this.pie4||Pe(this.primaryColor,{l:-30}),this.pie5=this.pie5||Pe(this.secondaryColor,{l:-30}),this.pie6=this.pie6||Pe(this.tertiaryColor,{h:40,l:-40}),this.pie7=this.pie7||Pe(this.primaryColor,{h:60,l:-10}),this.pie8=this.pie8||Pe(this.primaryColor,{h:-60,l:-10}),this.pie9=this.pie9||Pe(this.primaryColor,{h:120,l:0}),this.pie10=this.pie10||Pe(this.primaryColor,{h:60,l:-50}),this.pie11=this.pie11||Pe(this.primaryColor,{h:-60,l:-50}),this.pie12=this.pie12||Pe(this.primaryColor,{h:120,l:-50}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||Pe(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||Pe(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||Pe(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||Pe(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||Pe(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||Pe(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||sf(this.quadrant1Fill)?Ot(this.quadrant1Fill):Gt(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.packet={startByteColor:this.primaryTextColor,endByteColor:this.primaryTextColor,labelColor:this.primaryTextColor,titleColor:this.primaryTextColor,blockStrokeColor:this.primaryTextColor,blockFillColor:this.mainBkg},this.xyChart={backgroundColor:((e=this.xyChart)==null?void 0:e.backgroundColor)||this.background,titleColor:((r=this.xyChart)==null?void 0:r.titleColor)||this.primaryTextColor,xAxisTitleColor:((n=this.xyChart)==null?void 0:n.xAxisTitleColor)||this.primaryTextColor,xAxisLabelColor:((i=this.xyChart)==null?void 0:i.xAxisLabelColor)||this.primaryTextColor,xAxisTickColor:((a=this.xyChart)==null?void 0:a.xAxisTickColor)||this.primaryTextColor,xAxisLineColor:((s=this.xyChart)==null?void 0:s.xAxisLineColor)||this.primaryTextColor,yAxisTitleColor:((o=this.xyChart)==null?void 0:o.yAxisTitleColor)||this.primaryTextColor,yAxisLabelColor:((l=this.xyChart)==null?void 0:l.yAxisLabelColor)||this.primaryTextColor,yAxisTickColor:((u=this.xyChart)==null?void 0:u.yAxisTickColor)||this.primaryTextColor,yAxisLineColor:((h=this.xyChart)==null?void 0:h.yAxisLineColor)||this.primaryTextColor,plotColorPalette:((d=this.xyChart)==null?void 0:d.plotColorPalette)||"#CDE498,#FF6B6B,#A0D2DB,#D7BDE2,#F0F0F0,#FFC3A0,#7FD8BE,#FF9A8B,#FAF3E0,#FFF176"},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.edgeLabelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||Pe(this.primaryColor,{h:-30}),this.git4=this.git4||Pe(this.primaryColor,{h:-60}),this.git5=this.git5||Pe(this.primaryColor,{h:-90}),this.git6=this.git6||Pe(this.primaryColor,{h:60}),this.git7=this.git7||Pe(this.primaryColor,{h:120}),this.darkMode?(this.git0=Ot(this.git0,25),this.git1=Ot(this.git1,25),this.git2=Ot(this.git2,25),this.git3=Ot(this.git3,25),this.git4=Ot(this.git4,25),this.git5=Ot(this.git5,25),this.git6=Ot(this.git6,25),this.git7=Ot(this.git7,25)):(this.git0=Gt(this.git0,25),this.git1=Gt(this.git1,25),this.git2=Gt(this.git2,25),this.git3=Gt(this.git3,25),this.git4=Gt(this.git4,25),this.git5=Gt(this.git5,25),this.git6=Gt(this.git6,25),this.git7=Gt(this.git7,25)),this.gitInv0=this.gitInv0||yt(this.git0),this.gitInv1=this.gitInv1||yt(this.git1),this.gitInv2=this.gitInv2||yt(this.git2),this.gitInv3=this.gitInv3||yt(this.git3),this.gitInv4=this.gitInv4||yt(this.git4),this.gitInv5=this.gitInv5||yt(this.git5),this.gitInv6=this.gitInv6||yt(this.git6),this.gitInv7=this.gitInv7||yt(this.git7),this.gitBranchLabel0=this.gitBranchLabel0||yt(this.labelTextColor),this.gitBranchLabel1=this.gitBranchLabel1||this.labelTextColor,this.gitBranchLabel2=this.gitBranchLabel2||this.labelTextColor,this.gitBranchLabel3=this.gitBranchLabel3||yt(this.labelTextColor),this.gitBranchLabel4=this.gitBranchLabel4||this.labelTextColor,this.gitBranchLabel5=this.gitBranchLabel5||this.labelTextColor,this.gitBranchLabel6=this.gitBranchLabel6||this.labelTextColor,this.gitBranchLabel7=this.gitBranchLabel7||this.labelTextColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||Q5,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||Z5}calculate(e){if(typeof e!="object"){this.updateColors();return}const r=Object.keys(e);r.forEach(n=>{this[n]=e[n]}),this.updateColors(),r.forEach(n=>{this[n]=e[n]})}},b(V0,"Theme"),V0),Aue=b(t=>{const e=new Cue;return e.calculate(t),e},"getThemeVariables"),G0,_ue=(G0=class{constructor(){this.primaryColor="#eee",this.contrast="#707070",this.secondaryColor=Ot(this.contrast,55),this.background="#ffffff",this.tertiaryColor=Pe(this.primaryColor,{h:-160}),this.primaryBorderColor=La(this.primaryColor,this.darkMode),this.secondaryBorderColor=La(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=La(this.tertiaryColor,this.darkMode),this.primaryTextColor=yt(this.primaryColor),this.secondaryTextColor=yt(this.secondaryColor),this.tertiaryTextColor=yt(this.tertiaryColor),this.lineColor=yt(this.background),this.textColor=yt(this.background),this.mainBkg="#eee",this.secondBkg="calculated",this.lineColor="#666",this.border1="#999",this.border2="calculated",this.note="#ffa",this.text="#333",this.critical="#d42",this.done="#bbb",this.arrowheadColor="#333333",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="calculated",this.edgeLabelBackground="white",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="calculated",this.actorLineColor=this.actorBorder,this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="calculated",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="calculated",this.altSectionBkgColor="white",this.sectionBkgColor2="calculated",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="calculated",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="calculated",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="calculated",this.critBkgColor="calculated",this.critBorderColor="calculated",this.todayLineColor="calculated",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.archEdgeColor="calculated",this.archEdgeArrowColor="calculated",this.archEdgeWidth="3",this.archGroupBorderColor=this.primaryBorderColor,this.archGroupBorderWidth="2px",this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222"}updateColors(){var e,r,n,i,a,s,o,l,u,h,d;this.secondBkg=Ot(this.contrast,55),this.border2=this.contrast,this.actorBorder=Ot(this.border1,23),this.actorBkg=this.mainBkg,this.actorTextColor=this.text,this.actorLineColor=this.actorBorder,this.signalColor=this.text,this.signalTextColor=this.text,this.labelBoxBkgColor=this.actorBkg,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.text,this.loopTextColor=this.text,this.noteBorderColor="#999",this.noteBkgColor="#666",this.noteTextColor="#fff",this.cScale0=this.cScale0||"#555",this.cScale1=this.cScale1||"#F4F4F4",this.cScale2=this.cScale2||"#555",this.cScale3=this.cScale3||"#BBB",this.cScale4=this.cScale4||"#777",this.cScale5=this.cScale5||"#999",this.cScale6=this.cScale6||"#DDD",this.cScale7=this.cScale7||"#FFF",this.cScale8=this.cScale8||"#DDD",this.cScale9=this.cScale9||"#BBB",this.cScale10=this.cScale10||"#999",this.cScale11=this.cScale11||"#777";for(let p=0;p<this.THEME_COLOR_LIMIT;p++)this["cScaleInv"+p]=this["cScaleInv"+p]||yt(this["cScale"+p]);for(let p=0;p<this.THEME_COLOR_LIMIT;p++)this.darkMode?this["cScalePeer"+p]=this["cScalePeer"+p]||Ot(this["cScale"+p],10):this["cScalePeer"+p]=this["cScalePeer"+p]||Gt(this["cScale"+p],10);this.scaleLabelColor=this.scaleLabelColor||(this.darkMode?"black":this.labelTextColor),this.cScaleLabel0=this.cScaleLabel0||this.cScale1,this.cScaleLabel2=this.cScaleLabel2||this.cScale1;for(let p=0;p<this.THEME_COLOR_LIMIT;p++)this["cScaleLabel"+p]=this["cScaleLabel"+p]||this.scaleLabelColor;for(let p=0;p<5;p++)this["surface"+p]=this["surface"+p]||Pe(this.mainBkg,{l:-(5+p*5)}),this["surfacePeer"+p]=this["surfacePeer"+p]||Pe(this.mainBkg,{l:-(8+p*5)});this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.titleColor=this.text,this.sectionBkgColor=Ot(this.contrast,30),this.sectionBkgColor2=Ot(this.contrast,30),this.taskBorderColor=Gt(this.contrast,10),this.taskBkgColor=this.contrast,this.taskTextColor=this.taskTextLightColor,this.taskTextDarkColor=this.text,this.taskTextOutsideColor=this.taskTextDarkColor,this.activeTaskBorderColor=this.taskBorderColor,this.activeTaskBkgColor=this.mainBkg,this.gridColor=Ot(this.border1,30),this.doneTaskBkgColor=this.done,this.doneTaskBorderColor=this.lineColor,this.critBkgColor=this.critical,this.critBorderColor=Gt(this.critBkgColor,10),this.todayLineColor=this.critBkgColor,this.archEdgeColor=this.lineColor,this.archEdgeArrowColor=this.lineColor,this.transitionColor=this.transitionColor||"#000",this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f4f4f4",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.stateBorder=this.stateBorder||"#000",this.innerEndBackground=this.primaryBorderColor,this.specialStateColor="#222",this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=Pe(this.primaryColor,{h:64}),this.fillType3=Pe(this.secondaryColor,{h:64}),this.fillType4=Pe(this.primaryColor,{h:-64}),this.fillType5=Pe(this.secondaryColor,{h:-64}),this.fillType6=Pe(this.primaryColor,{h:128}),this.fillType7=Pe(this.secondaryColor,{h:128});for(let p=0;p<this.THEME_COLOR_LIMIT;p++)this["pie"+p]=this["cScale"+p];this.pie12=this.pie0,this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||Pe(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||Pe(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||Pe(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||Pe(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||Pe(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||Pe(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||sf(this.quadrant1Fill)?Ot(this.quadrant1Fill):Gt(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.xyChart={backgroundColor:((e=this.xyChart)==null?void 0:e.backgroundColor)||this.background,titleColor:((r=this.xyChart)==null?void 0:r.titleColor)||this.primaryTextColor,xAxisTitleColor:((n=this.xyChart)==null?void 0:n.xAxisTitleColor)||this.primaryTextColor,xAxisLabelColor:((i=this.xyChart)==null?void 0:i.xAxisLabelColor)||this.primaryTextColor,xAxisTickColor:((a=this.xyChart)==null?void 0:a.xAxisTickColor)||this.primaryTextColor,xAxisLineColor:((s=this.xyChart)==null?void 0:s.xAxisLineColor)||this.primaryTextColor,yAxisTitleColor:((o=this.xyChart)==null?void 0:o.yAxisTitleColor)||this.primaryTextColor,yAxisLabelColor:((l=this.xyChart)==null?void 0:l.yAxisLabelColor)||this.primaryTextColor,yAxisTickColor:((u=this.xyChart)==null?void 0:u.yAxisTickColor)||this.primaryTextColor,yAxisLineColor:((h=this.xyChart)==null?void 0:h.yAxisLineColor)||this.primaryTextColor,plotColorPalette:((d=this.xyChart)==null?void 0:d.plotColorPalette)||"#EEE,#6BB8E4,#8ACB88,#C7ACD6,#E8DCC2,#FFB2A8,#FFF380,#7E8D91,#FFD8B1,#FAF3E0"},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.edgeLabelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=Gt(this.pie1,25)||this.primaryColor,this.git1=this.pie2||this.secondaryColor,this.git2=this.pie3||this.tertiaryColor,this.git3=this.pie4||Pe(this.primaryColor,{h:-30}),this.git4=this.pie5||Pe(this.primaryColor,{h:-60}),this.git5=this.pie6||Pe(this.primaryColor,{h:-90}),this.git6=this.pie7||Pe(this.primaryColor,{h:60}),this.git7=this.pie8||Pe(this.primaryColor,{h:120}),this.gitInv0=this.gitInv0||yt(this.git0),this.gitInv1=this.gitInv1||yt(this.git1),this.gitInv2=this.gitInv2||yt(this.git2),this.gitInv3=this.gitInv3||yt(this.git3),this.gitInv4=this.gitInv4||yt(this.git4),this.gitInv5=this.gitInv5||yt(this.git5),this.gitInv6=this.gitInv6||yt(this.git6),this.gitInv7=this.gitInv7||yt(this.git7),this.branchLabelColor=this.branchLabelColor||this.labelTextColor,this.gitBranchLabel0=this.branchLabelColor,this.gitBranchLabel1="white",this.gitBranchLabel2=this.branchLabelColor,this.gitBranchLabel3="white",this.gitBranchLabel4=this.branchLabelColor,this.gitBranchLabel5=this.branchLabelColor,this.gitBranchLabel6=this.branchLabelColor,this.gitBranchLabel7=this.branchLabelColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||Q5,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||Z5}calculate(e){if(typeof e!="object"){this.updateColors();return}const r=Object.keys(e);r.forEach(n=>{this[n]=e[n]}),this.updateColors(),r.forEach(n=>{this[n]=e[n]})}},b(G0,"Theme"),G0),Lue=b(t=>{const e=new _ue;return e.calculate(t),e},"getThemeVariables"),bc={base:{getThemeVariables:kue},dark:{getThemeVariables:Eue},default:{getThemeVariables:OA},forest:{getThemeVariables:Aue},neutral:{getThemeVariables:Lue}},iu={flowchart:{useMaxWidth:!0,titleTopMargin:25,subGraphTitleMargin:{top:0,bottom:0},diagramPadding:8,htmlLabels:!0,nodeSpacing:50,rankSpacing:50,curve:"basis",padding:15,defaultRenderer:"dagre-wrapper",wrappingWidth:200},sequence:{useMaxWidth:!0,hideUnusedParticipants:!1,activationWidth:10,diagramMarginX:50,diagramMarginY:10,actorMargin:50,width:150,height:65,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",mirrorActors:!0,forceMenus:!1,bottomMarginAdj:1,rightAngles:!1,showSequenceNumbers:!1,actorFontSize:14,actorFontFamily:'"Open Sans", sans-serif',actorFontWeight:400,noteFontSize:14,noteFontFamily:'"trebuchet ms", verdana, arial, sans-serif',noteFontWeight:400,noteAlign:"center",messageFontSize:16,messageFontFamily:'"trebuchet ms", verdana, arial, sans-serif',messageFontWeight:400,wrap:!1,wrapPadding:10,labelBoxWidth:50,labelBoxHeight:20},gantt:{useMaxWidth:!0,titleTopMargin:25,barHeight:20,barGap:4,topPadding:50,rightPadding:75,leftPadding:75,gridLineStartPadding:35,fontSize:11,sectionFontSize:11,numberSectionStyles:4,axisFormat:"%Y-%m-%d",topAxis:!1,displayMode:"",weekday:"sunday"},journey:{useMaxWidth:!0,diagramMarginX:50,diagramMarginY:10,leftMargin:150,width:150,height:50,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",bottomMarginAdj:1,rightAngles:!1,taskFontSize:14,taskFontFamily:'"Open Sans", sans-serif',taskMargin:50,activationWidth:10,textPlacement:"fo",actorColours:["#8FBC8F","#7CFC00","#00FFFF","#20B2AA","#B0E0E6","#FFFFE0"],sectionFills:["#191970","#8B008B","#4B0082","#2F4F4F","#800000","#8B4513","#00008B"],sectionColours:["#fff"]},class:{useMaxWidth:!0,titleTopMargin:25,arrowMarkerAbsolute:!1,dividerMargin:10,padding:5,textHeight:10,defaultRenderer:"dagre-wrapper",htmlLabels:!1},state:{useMaxWidth:!0,titleTopMargin:25,dividerMargin:10,sizeUnit:5,padding:8,textHeight:10,titleShift:-15,noteMargin:10,forkWidth:70,forkHeight:7,miniPadding:2,fontSizeFactor:5.02,fontSize:24,labelHeight:16,edgeLengthFactor:"20",compositTitleSize:35,radius:5,defaultRenderer:"dagre-wrapper"},er:{useMaxWidth:!0,titleTopMargin:25,diagramPadding:20,layoutDirection:"TB",minEntityWidth:100,minEntityHeight:75,entityPadding:15,stroke:"gray",fill:"honeydew",fontSize:12},pie:{useMaxWidth:!0,textPosition:.75},quadrantChart:{useMaxWidth:!0,chartWidth:500,chartHeight:500,titleFontSize:20,titlePadding:10,quadrantPadding:5,xAxisLabelPadding:5,yAxisLabelPadding:5,xAxisLabelFontSize:16,yAxisLabelFontSize:16,quadrantLabelFontSize:16,quadrantTextTopPadding:5,pointTextPadding:5,pointLabelFontSize:12,pointRadius:5,xAxisPosition:"top",yAxisPosition:"left",quadrantInternalBorderStrokeWidth:1,quadrantExternalBorderStrokeWidth:2},xyChart:{useMaxWidth:!0,width:700,height:500,titleFontSize:20,titlePadding:10,showTitle:!0,xAxis:{$ref:"#/$defs/XYChartAxisConfig",showLabel:!0,labelFontSize:14,labelPadding:5,showTitle:!0,titleFontSize:16,titlePadding:5,showTick:!0,tickLength:5,tickWidth:2,showAxisLine:!0,axisLineWidth:2},yAxis:{$ref:"#/$defs/XYChartAxisConfig",showLabel:!0,labelFontSize:14,labelPadding:5,showTitle:!0,titleFontSize:16,titlePadding:5,showTick:!0,tickLength:5,tickWidth:2,showAxisLine:!0,axisLineWidth:2},chartOrientation:"vertical",plotReservedSpacePercent:50},requirement:{useMaxWidth:!0,rect_fill:"#f9f9f9",text_color:"#333",rect_border_size:"0.5px",rect_border_color:"#bbb",rect_min_width:200,rect_min_height:200,fontSize:14,rect_padding:10,line_height:20},mindmap:{useMaxWidth:!0,padding:10,maxNodeWidth:200},timeline:{useMaxWidth:!0,diagramMarginX:50,diagramMarginY:10,leftMargin:150,width:150,height:50,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",bottomMarginAdj:1,rightAngles:!1,taskFontSize:14,taskFontFamily:'"Open Sans", sans-serif',taskMargin:50,activationWidth:10,textPlacement:"fo",actorColours:["#8FBC8F","#7CFC00","#00FFFF","#20B2AA","#B0E0E6","#FFFFE0"],sectionFills:["#191970","#8B008B","#4B0082","#2F4F4F","#800000","#8B4513","#00008B"],sectionColours:["#fff"],disableMulticolor:!1},gitGraph:{useMaxWidth:!0,titleTopMargin:25,diagramPadding:8,nodeLabel:{width:75,height:100,x:-25,y:0},mainBranchName:"main",mainBranchOrder:0,showCommitLabel:!0,showBranches:!0,rotateCommitLabel:!0,parallelCommits:!1,arrowMarkerAbsolute:!1},c4:{useMaxWidth:!0,diagramMarginX:50,diagramMarginY:10,c4ShapeMargin:50,c4ShapePadding:20,width:216,height:60,boxMargin:10,c4ShapeInRow:4,nextLinePaddingX:0,c4BoundaryInRow:2,personFontSize:14,personFontFamily:'"Open Sans", sans-serif',personFontWeight:"normal",external_personFontSize:14,external_personFontFamily:'"Open Sans", sans-serif',external_personFontWeight:"normal",systemFontSize:14,systemFontFamily:'"Open Sans", sans-serif',systemFontWeight:"normal",external_systemFontSize:14,external_systemFontFamily:'"Open Sans", sans-serif',external_systemFontWeight:"normal",system_dbFontSize:14,system_dbFontFamily:'"Open Sans", sans-serif',system_dbFontWeight:"normal",external_system_dbFontSize:14,external_system_dbFontFamily:'"Open Sans", sans-serif',external_system_dbFontWeight:"normal",system_queueFontSize:14,system_queueFontFamily:'"Open Sans", sans-serif',system_queueFontWeight:"normal",external_system_queueFontSize:14,external_system_queueFontFamily:'"Open Sans", sans-serif',external_system_queueFontWeight:"normal",boundaryFontSize:14,boundaryFontFamily:'"Open Sans", sans-serif',boundaryFontWeight:"normal",messageFontSize:12,messageFontFamily:'"Open Sans", sans-serif',messageFontWeight:"normal",containerFontSize:14,containerFontFamily:'"Open Sans", sans-serif',containerFontWeight:"normal",external_containerFontSize:14,external_containerFontFamily:'"Open Sans", sans-serif',external_containerFontWeight:"normal",container_dbFontSize:14,container_dbFontFamily:'"Open Sans", sans-serif',container_dbFontWeight:"normal",external_container_dbFontSize:14,external_container_dbFontFamily:'"Open Sans", sans-serif',external_container_dbFontWeight:"normal",container_queueFontSize:14,container_queueFontFamily:'"Open Sans", sans-serif',container_queueFontWeight:"normal",external_container_queueFontSize:14,external_container_queueFontFamily:'"Open Sans", sans-serif',external_container_queueFontWeight:"normal",componentFontSize:14,componentFontFamily:'"Open Sans", sans-serif',componentFontWeight:"normal",external_componentFontSize:14,external_componentFontFamily:'"Open Sans", sans-serif',external_componentFontWeight:"normal",component_dbFontSize:14,component_dbFontFamily:'"Open Sans", sans-serif',component_dbFontWeight:"normal",external_component_dbFontSize:14,external_component_dbFontFamily:'"Open Sans", sans-serif',external_component_dbFontWeight:"normal",component_queueFontSize:14,component_queueFontFamily:'"Open Sans", sans-serif',component_queueFontWeight:"normal",external_component_queueFontSize:14,external_component_queueFontFamily:'"Open Sans", sans-serif',external_component_queueFontWeight:"normal",wrap:!0,wrapPadding:10,person_bg_color:"#08427B",person_border_color:"#073B6F",external_person_bg_color:"#686868",external_person_border_color:"#8A8A8A",system_bg_color:"#1168BD",system_border_color:"#3C7FC0",system_db_bg_color:"#1168BD",system_db_border_color:"#3C7FC0",system_queue_bg_color:"#1168BD",system_queue_border_color:"#3C7FC0",external_system_bg_color:"#999999",external_system_border_color:"#8A8A8A",external_system_db_bg_color:"#999999",external_system_db_border_color:"#8A8A8A",external_system_queue_bg_color:"#999999",external_system_queue_border_color:"#8A8A8A",container_bg_color:"#438DD5",container_border_color:"#3C7FC0",container_db_bg_color:"#438DD5",container_db_border_color:"#3C7FC0",container_queue_bg_color:"#438DD5",container_queue_border_color:"#3C7FC0",external_container_bg_color:"#B3B3B3",external_container_border_color:"#A6A6A6",external_container_db_bg_color:"#B3B3B3",external_container_db_border_color:"#A6A6A6",external_container_queue_bg_color:"#B3B3B3",external_container_queue_border_color:"#A6A6A6",component_bg_color:"#85BBF0",component_border_color:"#78A8D8",component_db_bg_color:"#85BBF0",component_db_border_color:"#78A8D8",component_queue_bg_color:"#85BBF0",component_queue_border_color:"#78A8D8",external_component_bg_color:"#CCCCCC",external_component_border_color:"#BFBFBF",external_component_db_bg_color:"#CCCCCC",external_component_db_border_color:"#BFBFBF",external_component_queue_bg_color:"#CCCCCC",external_component_queue_border_color:"#BFBFBF"},sankey:{useMaxWidth:!0,width:600,height:400,linkColor:"gradient",nodeAlignment:"justify",showValues:!0,prefix:"",suffix:""},block:{useMaxWidth:!0,padding:8},packet:{useMaxWidth:!0,rowHeight:32,bitWidth:32,bitsPerRow:32,showBits:!0,paddingX:5,paddingY:5},architecture:{useMaxWidth:!0,padding:40,iconSize:80,fontSize:16},theme:"default",look:"classic",handDrawnSeed:0,layout:"dagre",maxTextSize:5e4,maxEdges:500,darkMode:!1,fontFamily:'"trebuchet ms", verdana, arial, sans-serif;',logLevel:5,securityLevel:"strict",startOnLoad:!0,arrowMarkerAbsolute:!1,secure:["secure","securityLevel","startOnLoad","maxTextSize","suppressErrorRendering","maxEdges"],legacyMathML:!1,forceLegacyMathML:!1,deterministicIds:!1,fontSize:16,markdownAutoWrap:!0,suppressErrorRendering:!1},QV={...iu,deterministicIDSeed:void 0,elk:{mergeEdges:!1,nodePlacementStrategy:"BRANDES_KOEPF"},themeCSS:void 0,themeVariables:bc.default.getThemeVariables(),sequence:{...iu.sequence,messageFont:b(function(){return{fontFamily:this.messageFontFamily,fontSize:this.messageFontSize,fontWeight:this.messageFontWeight}},"messageFont"),noteFont:b(function(){return{fontFamily:this.noteFontFamily,fontSize:this.noteFontSize,fontWeight:this.noteFontWeight}},"noteFont"),actorFont:b(function(){return{fontFamily:this.actorFontFamily,fontSize:this.actorFontSize,fontWeight:this.actorFontWeight}},"actorFont")},gantt:{...iu.gantt,tickInterval:void 0,useWidth:void 0},c4:{...iu.c4,useWidth:void 0,personFont:b(function(){return{fontFamily:this.personFontFamily,fontSize:this.personFontSize,fontWeight:this.personFontWeight}},"personFont"),external_personFont:b(function(){return{fontFamily:this.external_personFontFamily,fontSize:this.external_personFontSize,fontWeight:this.external_personFontWeight}},"external_personFont"),systemFont:b(function(){return{fontFamily:this.systemFontFamily,fontSize:this.systemFontSize,fontWeight:this.systemFontWeight}},"systemFont"),external_systemFont:b(function(){return{fontFamily:this.external_systemFontFamily,fontSize:this.external_systemFontSize,fontWeight:this.external_systemFontWeight}},"external_systemFont"),system_dbFont:b(function(){return{fontFamily:this.system_dbFontFamily,fontSize:this.system_dbFontSize,fontWeight:this.system_dbFontWeight}},"system_dbFont"),external_system_dbFont:b(function(){return{fontFamily:this.external_system_dbFontFamily,fontSize:this.external_system_dbFontSize,fontWeight:this.external_system_dbFontWeight}},"external_system_dbFont"),system_queueFont:b(function(){return{fontFamily:this.system_queueFontFamily,fontSize:this.system_queueFontSize,fontWeight:this.system_queueFontWeight}},"system_queueFont"),external_system_queueFont:b(function(){return{fontFamily:this.external_system_queueFontFamily,fontSize:this.external_system_queueFontSize,fontWeight:this.external_system_queueFontWeight}},"external_system_queueFont"),containerFont:b(function(){return{fontFamily:this.containerFontFamily,fontSize:this.containerFontSize,fontWeight:this.containerFontWeight}},"containerFont"),external_containerFont:b(function(){return{fontFamily:this.external_containerFontFamily,fontSize:this.external_containerFontSize,fontWeight:this.external_containerFontWeight}},"external_containerFont"),container_dbFont:b(function(){return{fontFamily:this.container_dbFontFamily,fontSize:this.container_dbFontSize,fontWeight:this.container_dbFontWeight}},"container_dbFont"),external_container_dbFont:b(function(){return{fontFamily:this.external_container_dbFontFamily,fontSize:this.external_container_dbFontSize,fontWeight:this.external_container_dbFontWeight}},"external_container_dbFont"),container_queueFont:b(function(){return{fontFamily:this.container_queueFontFamily,fontSize:this.container_queueFontSize,fontWeight:this.container_queueFontWeight}},"container_queueFont"),external_container_queueFont:b(function(){return{fontFamily:this.external_container_queueFontFamily,fontSize:this.external_container_queueFontSize,fontWeight:this.external_container_queueFontWeight}},"external_container_queueFont"),componentFont:b(function(){return{fontFamily:this.componentFontFamily,fontSize:this.componentFontSize,fontWeight:this.componentFontWeight}},"componentFont"),external_componentFont:b(function(){return{fontFamily:this.external_componentFontFamily,fontSize:this.external_componentFontSize,fontWeight:this.external_componentFontWeight}},"external_componentFont"),component_dbFont:b(function(){return{fontFamily:this.component_dbFontFamily,fontSize:this.component_dbFontSize,fontWeight:this.component_dbFontWeight}},"component_dbFont"),external_component_dbFont:b(function(){return{fontFamily:this.external_component_dbFontFamily,fontSize:this.external_component_dbFontSize,fontWeight:this.external_component_dbFontWeight}},"external_component_dbFont"),component_queueFont:b(function(){return{fontFamily:this.component_queueFontFamily,fontSize:this.component_queueFontSize,fontWeight:this.component_queueFontWeight}},"component_queueFont"),external_component_queueFont:b(function(){return{fontFamily:this.external_component_queueFontFamily,fontSize:this.external_component_queueFontSize,fontWeight:this.external_component_queueFontWeight}},"external_component_queueFont"),boundaryFont:b(function(){return{fontFamily:this.boundaryFontFamily,fontSize:this.boundaryFontSize,fontWeight:this.boundaryFontWeight}},"boundaryFont"),messageFont:b(function(){return{fontFamily:this.messageFontFamily,fontSize:this.messageFontSize,fontWeight:this.messageFontWeight}},"messageFont")},pie:{...iu.pie,useWidth:984},xyChart:{...iu.xyChart,useWidth:void 0},requirement:{...iu.requirement,useWidth:void 0},packet:{...iu.packet}},ZV=b((t,e="")=>Object.keys(t).reduce((r,n)=>Array.isArray(t[n])?r:typeof t[n]=="object"&&t[n]!==null?[...r,e+n,...ZV(t[n],"")]:[...r,e+n],[]),"keyify"),Nue=new Set(ZV(QV,"")),Ur=QV,g4=b(t=>{if(q.debug("sanitizeDirective called with",t),!(typeof t!="object"||t==null)){if(Array.isArray(t)){t.forEach(e=>g4(e));return}for(const e of Object.keys(t)){if(q.debug("Checking key",e),e.startsWith("__")||e.includes("proto")||e.includes("constr")||!Nue.has(e)||t[e]==null){q.debug("sanitize deleting key: ",e),delete t[e];continue}if(typeof t[e]=="object"){q.debug("sanitizing object",e),g4(t[e]);continue}const r=["themeCSS","fontFamily","altFontFamily"];for(const n of r)e.includes(n)&&(q.debug("sanitizing css option",e),t[e]=Rue(t[e]))}if(t.themeVariables)for(const e of Object.keys(t.themeVariables)){const r=t.themeVariables[e];r!=null&&r.match&&!r.match(/^[\d "#%(),.;A-Za-z]+$/)&&(t.themeVariables[e]="")}q.debug("After sanitization",t)}},"sanitizeDirective"),Rue=b(t=>{let e=0,r=0;for(const n of t){if(e<r)return"{ /* ERROR: Unbalanced CSS */ }";n==="{"?e++:n==="}"&&r++}return e!==r?"{ /* ERROR: Unbalanced CSS */ }":t},"sanitizeCss"),Mp=Object.freeze(Ur),Ka=ci({},Mp),JV,Ip=[],Am=ci({},Mp),J5=b((t,e)=>{let r=ci({},t),n={};for(const i of e)rG(i),n=ci(n,i);if(r=ci(r,n),n.theme&&n.theme in bc){const i=ci({},JV),a=ci(i.themeVariables||{},n.themeVariables);r.theme&&r.theme in bc&&(r.themeVariables=bc[r.theme].getThemeVariables(a))}return Am=r,nG(Am),Am},"updateCurrentConfig"),Mue=b(t=>(Ka=ci({},Mp),Ka=ci(Ka,t),t.theme&&bc[t.theme]&&(Ka.themeVariables=bc[t.theme].getThemeVariables(t.themeVariables)),J5(Ka,Ip),Ka),"setSiteConfig"),Iue=b(t=>{JV=ci({},t)},"saveConfigFromInitialize"),Due=b(t=>(Ka=ci(Ka,t),J5(Ka,Ip),Ka),"updateSiteConfig"),eG=b(()=>ci({},Ka),"getSiteConfig"),tG=b(t=>(nG(t),ci(Am,t),Dn()),"setConfig"),Dn=b(()=>ci({},Am),"getConfig"),rG=b(t=>{t&&(["secure",...Ka.secure??[]].forEach(e=>{Object.hasOwn(t,e)&&(q.debug(`Denied attempt to modify a secure key ${e}`,t[e]),delete t[e])}),Object.keys(t).forEach(e=>{e.startsWith("__")&&delete t[e]}),Object.keys(t).forEach(e=>{typeof t[e]=="string"&&(t[e].includes("<")||t[e].includes(">")||t[e].includes("url(data:"))&&delete t[e],typeof t[e]=="object"&&rG(t[e])}))},"sanitize"),Oue=b(t=>{var e;g4(t),t.fontFamily&&!((e=t.themeVariables)!=null&&e.fontFamily)&&(t.themeVariables={...t.themeVariables,fontFamily:t.fontFamily}),Ip.push(t),J5(Ka,Ip)},"addDirective"),m4=b((t=Ka)=>{Ip=[],J5(t,Ip)},"reset"),Pue={LAZY_LOAD_DEPRECATED:"The configuration options lazyLoadedDiagrams and loadExternalDiagramsAtStartup are deprecated. Please use registerExternalDiagrams instead."},yM={},Fue=b(t=>{yM[t]||(q.warn(Pue[t]),yM[t]=!0)},"issueWarning"),nG=b(t=>{t&&(t.lazyLoadedDiagrams||t.loadExternalDiagramsAtStartup)&&Fue("LAZY_LOAD_DEPRECATED")},"checkConfig"),wg=/<br\s*\/?>/gi,Bue=b(t=>t?sG(t).replace(/\\n/g,"#br#").split("#br#"):[""],"getRows"),$ue=(()=>{let t=!1;return()=>{t||(iG(),t=!0)}})();function iG(){const t="data-temp-href-target";Np.addHook("beforeSanitizeAttributes",e=>{e.tagName==="A"&&e.hasAttribute("target")&&e.setAttribute(t,e.getAttribute("target")??"")}),Np.addHook("afterSanitizeAttributes",e=>{e.tagName==="A"&&e.hasAttribute(t)&&(e.setAttribute("target",e.getAttribute(t)??""),e.removeAttribute(t),e.getAttribute("target")==="_blank"&&e.setAttribute("rel","noopener"))})}b(iG,"setupDompurifyHooks");var aG=b(t=>($ue(),Np.sanitize(t)),"removeScript"),xM=b((t,e)=>{var r;if(((r=e.flowchart)==null?void 0:r.htmlLabels)!==!1){const n=e.securityLevel;n==="antiscript"||n==="strict"?t=aG(t):n!=="loose"&&(t=sG(t),t=t.replace(/</g,"&lt;").replace(/>/g,"&gt;"),t=t.replace(/=/g,"&equals;"),t=Gue(t))}return t},"sanitizeMore"),Wn=b((t,e)=>t&&(e.dompurifyConfig?t=Np.sanitize(xM(t,e),e.dompurifyConfig).toString():t=Np.sanitize(xM(t,e),{FORBID_TAGS:["style"]}).toString(),t),"sanitizeText"),zue=b((t,e)=>typeof t=="string"?Wn(t,e):t.flat().map(r=>Wn(r,e)),"sanitizeTextOrArray"),Uue=b(t=>wg.test(t),"hasBreaks"),Vue=b(t=>t.split(wg),"splitBreaks"),Gue=b(t=>t.replace(/#br#/g,"<br/>"),"placeholderToBreak"),sG=b(t=>t.replace(wg,"#br#"),"breakToPlaceholder"),Hue=b(t=>{let e="";return t&&(e=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,e=e.replaceAll(/\(/g,"\\("),e=e.replaceAll(/\)/g,"\\)")),e},"getUrl"),tn=b(t=>!(t===!1||["false","null","0"].includes(String(t).trim().toLowerCase())),"evaluate"),Wue=b(function(...t){const e=t.filter(r=>!isNaN(r));return Math.max(...e)},"getMax"),Yue=b(function(...t){const e=t.filter(r=>!isNaN(r));return Math.min(...e)},"getMin"),_m=b(function(t){const e=t.split(/(,)/),r=[];for(let n=0;n<e.length;n++){let i=e[n];if(i===","&&n>0&&n+1<e.length){const a=e[n-1],s=e[n+1];que(a,s)&&(i=a+","+s,n++,r.pop())}r.push(jue(i))}return r.join("")},"parseGenericTypes"),R7=b((t,e)=>Math.max(0,t.split(e).length-1),"countOccurrence"),que=b((t,e)=>{const r=R7(t,"~"),n=R7(e,"~");return r===1&&n===1},"shouldCombineSets"),jue=b(t=>{const e=R7(t,"~");let r=!1;if(e<=1)return t;e%2!==0&&t.startsWith("~")&&(t=t.substring(1),r=!0);const n=[...t];let i=n.indexOf("~"),a=n.lastIndexOf("~");for(;i!==-1&&a!==-1&&i!==a;)n[i]="<",n[a]=">",i=n.indexOf("~"),a=n.lastIndexOf("~");return r&&n.unshift("~"),n.join("")},"processSet"),bM=b(()=>window.MathMLElement!==void 0,"isMathMLSupported"),M7=/\$\$(.*)\$\$/g,Oa=b(t=>{var e;return(((e=t.match(M7))==null?void 0:e.length)??0)>0},"hasKatex"),fy=b(async(t,e)=>{t=await py(t,e);const r=document.createElement("div");r.innerHTML=t,r.id="katex-temp",r.style.visibility="hidden",r.style.position="absolute",r.style.top="0";const n=document.querySelector("body");n==null||n.insertAdjacentElement("beforeend",r);const i={width:r.clientWidth,height:r.clientHeight};return r.remove(),i},"calculateMathMLDimensions"),py=b(async(t,e)=>{if(!Oa(t))return t;if(!(bM()||e.legacyMathML||e.forceLegacyMathML))return t.replace(M7,"MathML is unsupported in this environment.");const{default:r}=await _r(async()=>{const{default:i}=await Promise.resolve().then(()=>eSe);return{default:i}},void 0),n=e.forceLegacyMathML||!bM()&&e.legacyMathML?"htmlAndMathml":"mathml";return t.split(wg).map(i=>Oa(i)?`<div style="display: flex; align-items: center; justify-content: center; white-space: nowrap;">${i}</div>`:`<div>${i}</div>`).join("").replace(M7,(i,a)=>r.renderToString(a,{throwOnError:!0,displayMode:!0,output:n}).replace(/\n/g," ").replace(/<annotation.*<\/annotation>/g,""))},"renderKatex"),et={getRows:Bue,sanitizeText:Wn,sanitizeTextOrArray:zue,hasBreaks:Uue,splitBreaks:Vue,lineBreakRegex:wg,removeScript:aG,getUrl:Hue,evaluate:tn,getMax:Wue,getMin:Yue},Xue=b(function(t,e){for(let r of e)t.attr(r[0],r[1])},"d3Attrs"),Kue=b(function(t,e,r){let n=new Map;return r?(n.set("width","100%"),n.set("style",`max-width: ${e}px;`)):(n.set("height",t),n.set("width",e)),n},"calculateSvgSizeAttrs"),Ki=b(function(t,e,r,n){const i=Kue(e,r,n);Xue(t,i)},"configureSvgSize"),kg=b(function(t,e,r,n){const i=e.node().getBBox(),a=i.width,s=i.height;q.info(`SVG bounds: ${a}x${s}`,i);let o=0,l=0;q.info(`Graph bounds: ${o}x${l}`,t),o=a+r*2,l=s+r*2,q.info(`Calculated bounds: ${o}x${l}`),Ki(e,l,o,n);const u=`${i.x-r} ${i.y-r} ${i.width+2*r} ${i.height+2*r}`;e.attr("viewBox",u)},"setupGraphViewbox"),tb={},Que=b((t,e,r)=>{let n="";return t in tb&&tb[t]?n=tb[t](r):q.warn(`No theme found for ${t}`),` & {
    font-family: ${r.fontFamily};
    font-size: ${r.fontSize};
    fill: ${r.textColor}
  }

  /* Classes common for multiple diagrams */

  & .error-icon {
    fill: ${r.errorBkgColor};
  }
  & .error-text {
    fill: ${r.errorTextColor};
    stroke: ${r.errorTextColor};
  }

  & .edge-thickness-normal {
    stroke-width: 1px;
  }
  & .edge-thickness-thick {
    stroke-width: 3.5px
  }
  & .edge-pattern-solid {
    stroke-dasharray: 0;
  }
  & .edge-thickness-invisible {
    stroke-width: 0;
    fill: none;
  }
  & .edge-pattern-dashed{
    stroke-dasharray: 3;
  }
  .edge-pattern-dotted {
    stroke-dasharray: 2;
  }

  & .marker {
    fill: ${r.lineColor};
    stroke: ${r.lineColor};
  }
  & .marker.cross {
    stroke: ${r.lineColor};
  }

  & svg {
    font-family: ${r.fontFamily};
    font-size: ${r.fontSize};
  }
   & p {
    margin: 0
   }

  ${n}

  ${e}
`},"getStyles"),Zue=b((t,e)=>{e!==void 0&&(tb[t]=e)},"addStylesForDiagram"),Jue=Que,PA={};YV(PA,{clear:()=>Ni,getAccDescription:()=>Ji,getAccTitle:()=>Qi,getDiagramTitle:()=>ea,setAccDescription:()=>Zi,setAccTitle:()=>Ri,setDiagramTitle:()=>za});var FA="",BA="",$A="",zA=b(t=>Wn(t,Dn()),"sanitizeText"),Ni=b(()=>{FA="",$A="",BA=""},"clear"),Ri=b(t=>{FA=zA(t).replace(/^\s+/g,"")},"setAccTitle"),Qi=b(()=>FA,"getAccTitle"),Zi=b(t=>{$A=zA(t).replace(/\n\s+/g,`
`)},"setAccDescription"),Ji=b(()=>$A,"getAccDescription"),za=b(t=>{BA=zA(t)},"setDiagramTitle"),ea=b(()=>BA,"getDiagramTitle"),wM=q,ehe=IA,we=Dn,kM=tG,oG=Mp,the=b(t=>Wn(t,we()),"sanitizeText"),lG=kg,rhe=b(()=>PA,"getCommonDb"),v4={},y4=b((t,e,r)=>{var n;v4[t]&&wM.warn(`Diagram with id ${t} already registered. Overwriting.`),v4[t]=e,r&&KV(t,r),Zue(t,e.styles),(n=e.injectUtils)==null||n.call(e,wM,ehe,we,the,lG,rhe(),()=>{})},"registerDiagram"),I7=b(t=>{if(t in v4)return v4[t];throw new nhe(t)},"getDiagram"),H0,nhe=(H0=class extends Error{constructor(e){super(`Diagram ${e} not found.`)}},b(H0,"DiagramNotFoundError"),H0);function UA(t){return typeof t>"u"||t===null}b(UA,"isNothing");function cG(t){return typeof t=="object"&&t!==null}b(cG,"isObject");function uG(t){return Array.isArray(t)?t:UA(t)?[]:[t]}b(uG,"toArray");function hG(t,e){var r,n,i,a;if(e)for(a=Object.keys(e),r=0,n=a.length;r<n;r+=1)i=a[r],t[i]=e[i];return t}b(hG,"extend");function dG(t,e){var r="",n;for(n=0;n<e;n+=1)r+=t;return r}b(dG,"repeat");function fG(t){return t===0&&Number.NEGATIVE_INFINITY===1/t}b(fG,"isNegativeZero");var ihe=UA,ahe=cG,she=uG,ohe=dG,lhe=fG,che=hG,ui={isNothing:ihe,isObject:ahe,toArray:she,repeat:ohe,isNegativeZero:lhe,extend:che};function VA(t,e){var r="",n=t.reason||"(unknown reason)";return t.mark?(t.mark.name&&(r+='in "'+t.mark.name+'" '),r+="("+(t.mark.line+1)+":"+(t.mark.column+1)+")",!e&&t.mark.snippet&&(r+=`

`+t.mark.snippet),n+" "+r):n}b(VA,"formatError");function Dp(t,e){Error.call(this),this.name="YAMLException",this.reason=t,this.mark=e,this.message=VA(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||""}b(Dp,"YAMLException$1");Dp.prototype=Object.create(Error.prototype);Dp.prototype.constructor=Dp;Dp.prototype.toString=b(function(e){return this.name+": "+VA(this,e)},"toString");var Za=Dp;function rb(t,e,r,n,i){var a="",s="",o=Math.floor(i/2)-1;return n-e>o&&(a=" ... ",e=n-o+a.length),r-n>o&&(s=" ...",r=n+o-s.length),{str:a+t.slice(e,r).replace(/\t/g,"→")+s,pos:n-e+a.length}}b(rb,"getLine");function nb(t,e){return ui.repeat(" ",e-t.length)+t}b(nb,"padStart");function pG(t,e){if(e=Object.create(e||null),!t.buffer)return null;e.maxLength||(e.maxLength=79),typeof e.indent!="number"&&(e.indent=1),typeof e.linesBefore!="number"&&(e.linesBefore=3),typeof e.linesAfter!="number"&&(e.linesAfter=2);for(var r=/\r?\n|\r|\0/g,n=[0],i=[],a,s=-1;a=r.exec(t.buffer);)i.push(a.index),n.push(a.index+a[0].length),t.position<=a.index&&s<0&&(s=n.length-2);s<0&&(s=n.length-1);var o="",l,u,h=Math.min(t.line+e.linesAfter,i.length).toString().length,d=e.maxLength-(e.indent+h+3);for(l=1;l<=e.linesBefore&&!(s-l<0);l++)u=rb(t.buffer,n[s-l],i[s-l],t.position-(n[s]-n[s-l]),d),o=ui.repeat(" ",e.indent)+nb((t.line-l+1).toString(),h)+" | "+u.str+`
`+o;for(u=rb(t.buffer,n[s],i[s],t.position,d),o+=ui.repeat(" ",e.indent)+nb((t.line+1).toString(),h)+" | "+u.str+`
`,o+=ui.repeat("-",e.indent+h+3+u.pos)+`^
`,l=1;l<=e.linesAfter&&!(s+l>=i.length);l++)u=rb(t.buffer,n[s+l],i[s+l],t.position-(n[s]-n[s+l]),d),o+=ui.repeat(" ",e.indent)+nb((t.line+l+1).toString(),h)+" | "+u.str+`
`;return o.replace(/\n$/,"")}b(pG,"makeSnippet");var uhe=pG,hhe=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],dhe=["scalar","sequence","mapping"];function gG(t){var e={};return t!==null&&Object.keys(t).forEach(function(r){t[r].forEach(function(n){e[String(n)]=r})}),e}b(gG,"compileStyleAliases");function mG(t,e){if(e=e||{},Object.keys(e).forEach(function(r){if(hhe.indexOf(r)===-1)throw new Za('Unknown option "'+r+'" is met in definition of "'+t+'" YAML type.')}),this.options=e,this.tag=t,this.kind=e.kind||null,this.resolve=e.resolve||function(){return!0},this.construct=e.construct||function(r){return r},this.instanceOf=e.instanceOf||null,this.predicate=e.predicate||null,this.represent=e.represent||null,this.representName=e.representName||null,this.defaultStyle=e.defaultStyle||null,this.multi=e.multi||!1,this.styleAliases=gG(e.styleAliases||null),dhe.indexOf(this.kind)===-1)throw new Za('Unknown kind "'+this.kind+'" is specified for "'+t+'" YAML type.')}b(mG,"Type$1");var ma=mG;function D7(t,e){var r=[];return t[e].forEach(function(n){var i=r.length;r.forEach(function(a,s){a.tag===n.tag&&a.kind===n.kind&&a.multi===n.multi&&(i=s)}),r[i]=n}),r}b(D7,"compileList");function vG(){var t={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}},e,r;function n(i){i.multi?(t.multi[i.kind].push(i),t.multi.fallback.push(i)):t[i.kind][i.tag]=t.fallback[i.tag]=i}for(b(n,"collectType"),e=0,r=arguments.length;e<r;e+=1)arguments[e].forEach(n);return t}b(vG,"compileMap");function x4(t){return this.extend(t)}b(x4,"Schema$1");x4.prototype.extend=b(function(e){var r=[],n=[];if(e instanceof ma)n.push(e);else if(Array.isArray(e))n=n.concat(e);else if(e&&(Array.isArray(e.implicit)||Array.isArray(e.explicit)))e.implicit&&(r=r.concat(e.implicit)),e.explicit&&(n=n.concat(e.explicit));else throw new Za("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");r.forEach(function(a){if(!(a instanceof ma))throw new Za("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(a.loadKind&&a.loadKind!=="scalar")throw new Za("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(a.multi)throw new Za("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),n.forEach(function(a){if(!(a instanceof ma))throw new Za("Specified list of YAML types (or a single Type object) contains a non-Type object.")});var i=Object.create(x4.prototype);return i.implicit=(this.implicit||[]).concat(r),i.explicit=(this.explicit||[]).concat(n),i.compiledImplicit=D7(i,"implicit"),i.compiledExplicit=D7(i,"explicit"),i.compiledTypeMap=vG(i.compiledImplicit,i.compiledExplicit),i},"extend");var fhe=x4,phe=new ma("tag:yaml.org,2002:str",{kind:"scalar",construct:b(function(t){return t!==null?t:""},"construct")}),ghe=new ma("tag:yaml.org,2002:seq",{kind:"sequence",construct:b(function(t){return t!==null?t:[]},"construct")}),mhe=new ma("tag:yaml.org,2002:map",{kind:"mapping",construct:b(function(t){return t!==null?t:{}},"construct")}),vhe=new fhe({explicit:[phe,ghe,mhe]});function yG(t){if(t===null)return!0;var e=t.length;return e===1&&t==="~"||e===4&&(t==="null"||t==="Null"||t==="NULL")}b(yG,"resolveYamlNull");function xG(){return null}b(xG,"constructYamlNull");function bG(t){return t===null}b(bG,"isNull");var yhe=new ma("tag:yaml.org,2002:null",{kind:"scalar",resolve:yG,construct:xG,predicate:bG,represent:{canonical:b(function(){return"~"},"canonical"),lowercase:b(function(){return"null"},"lowercase"),uppercase:b(function(){return"NULL"},"uppercase"),camelcase:b(function(){return"Null"},"camelcase"),empty:b(function(){return""},"empty")},defaultStyle:"lowercase"});function wG(t){if(t===null)return!1;var e=t.length;return e===4&&(t==="true"||t==="True"||t==="TRUE")||e===5&&(t==="false"||t==="False"||t==="FALSE")}b(wG,"resolveYamlBoolean");function kG(t){return t==="true"||t==="True"||t==="TRUE"}b(kG,"constructYamlBoolean");function TG(t){return Object.prototype.toString.call(t)==="[object Boolean]"}b(TG,"isBoolean");var xhe=new ma("tag:yaml.org,2002:bool",{kind:"scalar",resolve:wG,construct:kG,predicate:TG,represent:{lowercase:b(function(t){return t?"true":"false"},"lowercase"),uppercase:b(function(t){return t?"TRUE":"FALSE"},"uppercase"),camelcase:b(function(t){return t?"True":"False"},"camelcase")},defaultStyle:"lowercase"});function EG(t){return 48<=t&&t<=57||65<=t&&t<=70||97<=t&&t<=102}b(EG,"isHexCode");function SG(t){return 48<=t&&t<=55}b(SG,"isOctCode");function CG(t){return 48<=t&&t<=57}b(CG,"isDecCode");function AG(t){if(t===null)return!1;var e=t.length,r=0,n=!1,i;if(!e)return!1;if(i=t[r],(i==="-"||i==="+")&&(i=t[++r]),i==="0"){if(r+1===e)return!0;if(i=t[++r],i==="b"){for(r++;r<e;r++)if(i=t[r],i!=="_"){if(i!=="0"&&i!=="1")return!1;n=!0}return n&&i!=="_"}if(i==="x"){for(r++;r<e;r++)if(i=t[r],i!=="_"){if(!EG(t.charCodeAt(r)))return!1;n=!0}return n&&i!=="_"}if(i==="o"){for(r++;r<e;r++)if(i=t[r],i!=="_"){if(!SG(t.charCodeAt(r)))return!1;n=!0}return n&&i!=="_"}}if(i==="_")return!1;for(;r<e;r++)if(i=t[r],i!=="_"){if(!CG(t.charCodeAt(r)))return!1;n=!0}return!(!n||i==="_")}b(AG,"resolveYamlInteger");function _G(t){var e=t,r=1,n;if(e.indexOf("_")!==-1&&(e=e.replace(/_/g,"")),n=e[0],(n==="-"||n==="+")&&(n==="-"&&(r=-1),e=e.slice(1),n=e[0]),e==="0")return 0;if(n==="0"){if(e[1]==="b")return r*parseInt(e.slice(2),2);if(e[1]==="x")return r*parseInt(e.slice(2),16);if(e[1]==="o")return r*parseInt(e.slice(2),8)}return r*parseInt(e,10)}b(_G,"constructYamlInteger");function LG(t){return Object.prototype.toString.call(t)==="[object Number]"&&t%1===0&&!ui.isNegativeZero(t)}b(LG,"isInteger");var bhe=new ma("tag:yaml.org,2002:int",{kind:"scalar",resolve:AG,construct:_G,predicate:LG,represent:{binary:b(function(t){return t>=0?"0b"+t.toString(2):"-0b"+t.toString(2).slice(1)},"binary"),octal:b(function(t){return t>=0?"0o"+t.toString(8):"-0o"+t.toString(8).slice(1)},"octal"),decimal:b(function(t){return t.toString(10)},"decimal"),hexadecimal:b(function(t){return t>=0?"0x"+t.toString(16).toUpperCase():"-0x"+t.toString(16).toUpperCase().slice(1)},"hexadecimal")},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),whe=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");function NG(t){return!(t===null||!whe.test(t)||t[t.length-1]==="_")}b(NG,"resolveYamlFloat");function RG(t){var e,r;return e=t.replace(/_/g,"").toLowerCase(),r=e[0]==="-"?-1:1,"+-".indexOf(e[0])>=0&&(e=e.slice(1)),e===".inf"?r===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:e===".nan"?NaN:r*parseFloat(e,10)}b(RG,"constructYamlFloat");var khe=/^[-+]?[0-9]+e/;function MG(t,e){var r;if(isNaN(t))switch(e){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===t)switch(e){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===t)switch(e){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(ui.isNegativeZero(t))return"-0.0";return r=t.toString(10),khe.test(r)?r.replace("e",".e"):r}b(MG,"representYamlFloat");function IG(t){return Object.prototype.toString.call(t)==="[object Number]"&&(t%1!==0||ui.isNegativeZero(t))}b(IG,"isFloat");var The=new ma("tag:yaml.org,2002:float",{kind:"scalar",resolve:NG,construct:RG,predicate:IG,represent:MG,defaultStyle:"lowercase"}),DG=vhe.extend({implicit:[yhe,xhe,bhe,The]}),Ehe=DG,OG=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),PG=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");function FG(t){return t===null?!1:OG.exec(t)!==null||PG.exec(t)!==null}b(FG,"resolveYamlTimestamp");function BG(t){var e,r,n,i,a,s,o,l=0,u=null,h,d,p;if(e=OG.exec(t),e===null&&(e=PG.exec(t)),e===null)throw new Error("Date resolve error");if(r=+e[1],n=+e[2]-1,i=+e[3],!e[4])return new Date(Date.UTC(r,n,i));if(a=+e[4],s=+e[5],o=+e[6],e[7]){for(l=e[7].slice(0,3);l.length<3;)l+="0";l=+l}return e[9]&&(h=+e[10],d=+(e[11]||0),u=(h*60+d)*6e4,e[9]==="-"&&(u=-u)),p=new Date(Date.UTC(r,n,i,a,s,o,l)),u&&p.setTime(p.getTime()-u),p}b(BG,"constructYamlTimestamp");function $G(t){return t.toISOString()}b($G,"representYamlTimestamp");var She=new ma("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:FG,construct:BG,instanceOf:Date,represent:$G});function zG(t){return t==="<<"||t===null}b(zG,"resolveYamlMerge");var Che=new ma("tag:yaml.org,2002:merge",{kind:"scalar",resolve:zG}),GA=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
\r`;function UG(t){if(t===null)return!1;var e,r,n=0,i=t.length,a=GA;for(r=0;r<i;r++)if(e=a.indexOf(t.charAt(r)),!(e>64)){if(e<0)return!1;n+=6}return n%8===0}b(UG,"resolveYamlBinary");function VG(t){var e,r,n=t.replace(/[\r\n=]/g,""),i=n.length,a=GA,s=0,o=[];for(e=0;e<i;e++)e%4===0&&e&&(o.push(s>>16&255),o.push(s>>8&255),o.push(s&255)),s=s<<6|a.indexOf(n.charAt(e));return r=i%4*6,r===0?(o.push(s>>16&255),o.push(s>>8&255),o.push(s&255)):r===18?(o.push(s>>10&255),o.push(s>>2&255)):r===12&&o.push(s>>4&255),new Uint8Array(o)}b(VG,"constructYamlBinary");function GG(t){var e="",r=0,n,i,a=t.length,s=GA;for(n=0;n<a;n++)n%3===0&&n&&(e+=s[r>>18&63],e+=s[r>>12&63],e+=s[r>>6&63],e+=s[r&63]),r=(r<<8)+t[n];return i=a%3,i===0?(e+=s[r>>18&63],e+=s[r>>12&63],e+=s[r>>6&63],e+=s[r&63]):i===2?(e+=s[r>>10&63],e+=s[r>>4&63],e+=s[r<<2&63],e+=s[64]):i===1&&(e+=s[r>>2&63],e+=s[r<<4&63],e+=s[64],e+=s[64]),e}b(GG,"representYamlBinary");function HG(t){return Object.prototype.toString.call(t)==="[object Uint8Array]"}b(HG,"isBinary");var Ahe=new ma("tag:yaml.org,2002:binary",{kind:"scalar",resolve:UG,construct:VG,predicate:HG,represent:GG}),_he=Object.prototype.hasOwnProperty,Lhe=Object.prototype.toString;function WG(t){if(t===null)return!0;var e=[],r,n,i,a,s,o=t;for(r=0,n=o.length;r<n;r+=1){if(i=o[r],s=!1,Lhe.call(i)!=="[object Object]")return!1;for(a in i)if(_he.call(i,a))if(!s)s=!0;else return!1;if(!s)return!1;if(e.indexOf(a)===-1)e.push(a);else return!1}return!0}b(WG,"resolveYamlOmap");function YG(t){return t!==null?t:[]}b(YG,"constructYamlOmap");var Nhe=new ma("tag:yaml.org,2002:omap",{kind:"sequence",resolve:WG,construct:YG}),Rhe=Object.prototype.toString;function qG(t){if(t===null)return!0;var e,r,n,i,a,s=t;for(a=new Array(s.length),e=0,r=s.length;e<r;e+=1){if(n=s[e],Rhe.call(n)!=="[object Object]"||(i=Object.keys(n),i.length!==1))return!1;a[e]=[i[0],n[i[0]]]}return!0}b(qG,"resolveYamlPairs");function jG(t){if(t===null)return[];var e,r,n,i,a,s=t;for(a=new Array(s.length),e=0,r=s.length;e<r;e+=1)n=s[e],i=Object.keys(n),a[e]=[i[0],n[i[0]]];return a}b(jG,"constructYamlPairs");var Mhe=new ma("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:qG,construct:jG}),Ihe=Object.prototype.hasOwnProperty;function XG(t){if(t===null)return!0;var e,r=t;for(e in r)if(Ihe.call(r,e)&&r[e]!==null)return!1;return!0}b(XG,"resolveYamlSet");function KG(t){return t!==null?t:{}}b(KG,"constructYamlSet");var Dhe=new ma("tag:yaml.org,2002:set",{kind:"mapping",resolve:XG,construct:KG}),QG=Ehe.extend({implicit:[She,Che],explicit:[Ahe,Nhe,Mhe,Dhe]}),ju=Object.prototype.hasOwnProperty,b4=1,ZG=2,JG=3,w4=4,Ck=1,Ohe=2,TM=3,Phe=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,Fhe=/[\x85\u2028\u2029]/,Bhe=/[,\[\]\{\}]/,eH=/^(?:!|!!|![a-z\-]+!)$/i,tH=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function O7(t){return Object.prototype.toString.call(t)}b(O7,"_class");function $o(t){return t===10||t===13}b($o,"is_EOL");function zu(t){return t===9||t===32}b(zu,"is_WHITE_SPACE");function Na(t){return t===9||t===32||t===10||t===13}b(Na,"is_WS_OR_EOL");function nd(t){return t===44||t===91||t===93||t===123||t===125}b(nd,"is_FLOW_INDICATOR");function rH(t){var e;return 48<=t&&t<=57?t-48:(e=t|32,97<=e&&e<=102?e-97+10:-1)}b(rH,"fromHexCode");function nH(t){return t===120?2:t===117?4:t===85?8:0}b(nH,"escapedHexLen");function iH(t){return 48<=t&&t<=57?t-48:-1}b(iH,"fromDecimalCode");function P7(t){return t===48?"\0":t===97?"\x07":t===98?"\b":t===116||t===9?"	":t===110?`
`:t===118?"\v":t===102?"\f":t===114?"\r":t===101?"\x1B":t===32?" ":t===34?'"':t===47?"/":t===92?"\\":t===78?"":t===95?" ":t===76?"\u2028":t===80?"\u2029":""}b(P7,"simpleEscapeSequence");function aH(t){return t<=65535?String.fromCharCode(t):String.fromCharCode((t-65536>>10)+55296,(t-65536&1023)+56320)}b(aH,"charFromCodepoint");var sH=new Array(256),oH=new Array(256);for(Nh=0;Nh<256;Nh++)sH[Nh]=P7(Nh)?1:0,oH[Nh]=P7(Nh);var Nh;function lH(t,e){this.input=t,this.filename=e.filename||null,this.schema=e.schema||QG,this.onWarning=e.onWarning||null,this.legacy=e.legacy||!1,this.json=e.json||!1,this.listener=e.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=t.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}b(lH,"State$1");function HA(t,e){var r={name:t.filename,buffer:t.input.slice(0,-1),position:t.position,line:t.line,column:t.position-t.lineStart};return r.snippet=uhe(r),new Za(e,r)}b(HA,"generateError");function Pt(t,e){throw HA(t,e)}b(Pt,"throwError");function ov(t,e){t.onWarning&&t.onWarning.call(null,HA(t,e))}b(ov,"throwWarning");var EM={YAML:b(function(e,r,n){var i,a,s;e.version!==null&&Pt(e,"duplication of %YAML directive"),n.length!==1&&Pt(e,"YAML directive accepts exactly one argument"),i=/^([0-9]+)\.([0-9]+)$/.exec(n[0]),i===null&&Pt(e,"ill-formed argument of the YAML directive"),a=parseInt(i[1],10),s=parseInt(i[2],10),a!==1&&Pt(e,"unacceptable YAML version of the document"),e.version=n[0],e.checkLineBreaks=s<2,s!==1&&s!==2&&ov(e,"unsupported YAML version of the document")},"handleYamlDirective"),TAG:b(function(e,r,n){var i,a;n.length!==2&&Pt(e,"TAG directive accepts exactly two arguments"),i=n[0],a=n[1],eH.test(i)||Pt(e,"ill-formed tag handle (first argument) of the TAG directive"),ju.call(e.tagMap,i)&&Pt(e,'there is a previously declared suffix for "'+i+'" tag handle'),tH.test(a)||Pt(e,"ill-formed tag prefix (second argument) of the TAG directive");try{a=decodeURIComponent(a)}catch{Pt(e,"tag prefix is malformed: "+a)}e.tagMap[i]=a},"handleTagDirective")};function wc(t,e,r,n){var i,a,s,o;if(e<r){if(o=t.input.slice(e,r),n)for(i=0,a=o.length;i<a;i+=1)s=o.charCodeAt(i),s===9||32<=s&&s<=1114111||Pt(t,"expected valid JSON character");else Phe.test(o)&&Pt(t,"the stream contains non-printable characters");t.result+=o}}b(wc,"captureSegment");function F7(t,e,r,n){var i,a,s,o;for(ui.isObject(r)||Pt(t,"cannot merge mappings; the provided source object is unacceptable"),i=Object.keys(r),s=0,o=i.length;s<o;s+=1)a=i[s],ju.call(e,a)||(e[a]=r[a],n[a]=!0)}b(F7,"mergeMappings");function id(t,e,r,n,i,a,s,o,l){var u,h;if(Array.isArray(i))for(i=Array.prototype.slice.call(i),u=0,h=i.length;u<h;u+=1)Array.isArray(i[u])&&Pt(t,"nested arrays are not supported inside keys"),typeof i=="object"&&O7(i[u])==="[object Object]"&&(i[u]="[object Object]");if(typeof i=="object"&&O7(i)==="[object Object]"&&(i="[object Object]"),i=String(i),e===null&&(e={}),n==="tag:yaml.org,2002:merge")if(Array.isArray(a))for(u=0,h=a.length;u<h;u+=1)F7(t,e,a[u],r);else F7(t,e,a,r);else!t.json&&!ju.call(r,i)&&ju.call(e,i)&&(t.line=s||t.line,t.lineStart=o||t.lineStart,t.position=l||t.position,Pt(t,"duplicated mapping key")),i==="__proto__"?Object.defineProperty(e,i,{configurable:!0,enumerable:!0,writable:!0,value:a}):e[i]=a,delete r[i];return e}b(id,"storeMappingPair");function ew(t){var e;e=t.input.charCodeAt(t.position),e===10?t.position++:e===13?(t.position++,t.input.charCodeAt(t.position)===10&&t.position++):Pt(t,"a line break is expected"),t.line+=1,t.lineStart=t.position,t.firstTabInLine=-1}b(ew,"readLineBreak");function Gn(t,e,r){for(var n=0,i=t.input.charCodeAt(t.position);i!==0;){for(;zu(i);)i===9&&t.firstTabInLine===-1&&(t.firstTabInLine=t.position),i=t.input.charCodeAt(++t.position);if(e&&i===35)do i=t.input.charCodeAt(++t.position);while(i!==10&&i!==13&&i!==0);if($o(i))for(ew(t),i=t.input.charCodeAt(t.position),n++,t.lineIndent=0;i===32;)t.lineIndent++,i=t.input.charCodeAt(++t.position);else break}return r!==-1&&n!==0&&t.lineIndent<r&&ov(t,"deficient indentation"),n}b(Gn,"skipSeparationSpace");function gy(t){var e=t.position,r;return r=t.input.charCodeAt(e),!!((r===45||r===46)&&r===t.input.charCodeAt(e+1)&&r===t.input.charCodeAt(e+2)&&(e+=3,r=t.input.charCodeAt(e),r===0||Na(r)))}b(gy,"testDocumentSeparator");function tw(t,e){e===1?t.result+=" ":e>1&&(t.result+=ui.repeat(`
`,e-1))}b(tw,"writeFoldedLines");function cH(t,e,r){var n,i,a,s,o,l,u,h,d=t.kind,p=t.result,f;if(f=t.input.charCodeAt(t.position),Na(f)||nd(f)||f===35||f===38||f===42||f===33||f===124||f===62||f===39||f===34||f===37||f===64||f===96||(f===63||f===45)&&(i=t.input.charCodeAt(t.position+1),Na(i)||r&&nd(i)))return!1;for(t.kind="scalar",t.result="",a=s=t.position,o=!1;f!==0;){if(f===58){if(i=t.input.charCodeAt(t.position+1),Na(i)||r&&nd(i))break}else if(f===35){if(n=t.input.charCodeAt(t.position-1),Na(n))break}else{if(t.position===t.lineStart&&gy(t)||r&&nd(f))break;if($o(f))if(l=t.line,u=t.lineStart,h=t.lineIndent,Gn(t,!1,-1),t.lineIndent>=e){o=!0,f=t.input.charCodeAt(t.position);continue}else{t.position=s,t.line=l,t.lineStart=u,t.lineIndent=h;break}}o&&(wc(t,a,s,!1),tw(t,t.line-l),a=s=t.position,o=!1),zu(f)||(s=t.position+1),f=t.input.charCodeAt(++t.position)}return wc(t,a,s,!1),t.result?!0:(t.kind=d,t.result=p,!1)}b(cH,"readPlainScalar");function uH(t,e){var r,n,i;if(r=t.input.charCodeAt(t.position),r!==39)return!1;for(t.kind="scalar",t.result="",t.position++,n=i=t.position;(r=t.input.charCodeAt(t.position))!==0;)if(r===39)if(wc(t,n,t.position,!0),r=t.input.charCodeAt(++t.position),r===39)n=t.position,t.position++,i=t.position;else return!0;else $o(r)?(wc(t,n,i,!0),tw(t,Gn(t,!1,e)),n=i=t.position):t.position===t.lineStart&&gy(t)?Pt(t,"unexpected end of the document within a single quoted scalar"):(t.position++,i=t.position);Pt(t,"unexpected end of the stream within a single quoted scalar")}b(uH,"readSingleQuotedScalar");function hH(t,e){var r,n,i,a,s,o;if(o=t.input.charCodeAt(t.position),o!==34)return!1;for(t.kind="scalar",t.result="",t.position++,r=n=t.position;(o=t.input.charCodeAt(t.position))!==0;){if(o===34)return wc(t,r,t.position,!0),t.position++,!0;if(o===92){if(wc(t,r,t.position,!0),o=t.input.charCodeAt(++t.position),$o(o))Gn(t,!1,e);else if(o<256&&sH[o])t.result+=oH[o],t.position++;else if((s=nH(o))>0){for(i=s,a=0;i>0;i--)o=t.input.charCodeAt(++t.position),(s=rH(o))>=0?a=(a<<4)+s:Pt(t,"expected hexadecimal character");t.result+=aH(a),t.position++}else Pt(t,"unknown escape sequence");r=n=t.position}else $o(o)?(wc(t,r,n,!0),tw(t,Gn(t,!1,e)),r=n=t.position):t.position===t.lineStart&&gy(t)?Pt(t,"unexpected end of the document within a double quoted scalar"):(t.position++,n=t.position)}Pt(t,"unexpected end of the stream within a double quoted scalar")}b(hH,"readDoubleQuotedScalar");function dH(t,e){var r=!0,n,i,a,s=t.tag,o,l=t.anchor,u,h,d,p,f,g=Object.create(null),m,y,v,x;if(x=t.input.charCodeAt(t.position),x===91)h=93,f=!1,o=[];else if(x===123)h=125,f=!0,o={};else return!1;for(t.anchor!==null&&(t.anchorMap[t.anchor]=o),x=t.input.charCodeAt(++t.position);x!==0;){if(Gn(t,!0,e),x=t.input.charCodeAt(t.position),x===h)return t.position++,t.tag=s,t.anchor=l,t.kind=f?"mapping":"sequence",t.result=o,!0;r?x===44&&Pt(t,"expected the node content, but found ','"):Pt(t,"missed comma between flow collection entries"),y=m=v=null,d=p=!1,x===63&&(u=t.input.charCodeAt(t.position+1),Na(u)&&(d=p=!0,t.position++,Gn(t,!0,e))),n=t.line,i=t.lineStart,a=t.position,Sd(t,e,b4,!1,!0),y=t.tag,m=t.result,Gn(t,!0,e),x=t.input.charCodeAt(t.position),(p||t.line===n)&&x===58&&(d=!0,x=t.input.charCodeAt(++t.position),Gn(t,!0,e),Sd(t,e,b4,!1,!0),v=t.result),f?id(t,o,g,y,m,v,n,i,a):d?o.push(id(t,null,g,y,m,v,n,i,a)):o.push(m),Gn(t,!0,e),x=t.input.charCodeAt(t.position),x===44?(r=!0,x=t.input.charCodeAt(++t.position)):r=!1}Pt(t,"unexpected end of the stream within a flow collection")}b(dH,"readFlowCollection");function fH(t,e){var r,n,i=Ck,a=!1,s=!1,o=e,l=0,u=!1,h,d;if(d=t.input.charCodeAt(t.position),d===124)n=!1;else if(d===62)n=!0;else return!1;for(t.kind="scalar",t.result="";d!==0;)if(d=t.input.charCodeAt(++t.position),d===43||d===45)Ck===i?i=d===43?TM:Ohe:Pt(t,"repeat of a chomping mode identifier");else if((h=iH(d))>=0)h===0?Pt(t,"bad explicit indentation width of a block scalar; it cannot be less than one"):s?Pt(t,"repeat of an indentation width identifier"):(o=e+h-1,s=!0);else break;if(zu(d)){do d=t.input.charCodeAt(++t.position);while(zu(d));if(d===35)do d=t.input.charCodeAt(++t.position);while(!$o(d)&&d!==0)}for(;d!==0;){for(ew(t),t.lineIndent=0,d=t.input.charCodeAt(t.position);(!s||t.lineIndent<o)&&d===32;)t.lineIndent++,d=t.input.charCodeAt(++t.position);if(!s&&t.lineIndent>o&&(o=t.lineIndent),$o(d)){l++;continue}if(t.lineIndent<o){i===TM?t.result+=ui.repeat(`
`,a?1+l:l):i===Ck&&a&&(t.result+=`
`);break}for(n?zu(d)?(u=!0,t.result+=ui.repeat(`
`,a?1+l:l)):u?(u=!1,t.result+=ui.repeat(`
`,l+1)):l===0?a&&(t.result+=" "):t.result+=ui.repeat(`
`,l):t.result+=ui.repeat(`
`,a?1+l:l),a=!0,s=!0,l=0,r=t.position;!$o(d)&&d!==0;)d=t.input.charCodeAt(++t.position);wc(t,r,t.position,!1)}return!0}b(fH,"readBlockScalar");function B7(t,e){var r,n=t.tag,i=t.anchor,a=[],s,o=!1,l;if(t.firstTabInLine!==-1)return!1;for(t.anchor!==null&&(t.anchorMap[t.anchor]=a),l=t.input.charCodeAt(t.position);l!==0&&(t.firstTabInLine!==-1&&(t.position=t.firstTabInLine,Pt(t,"tab characters must not be used in indentation")),!(l!==45||(s=t.input.charCodeAt(t.position+1),!Na(s))));){if(o=!0,t.position++,Gn(t,!0,-1)&&t.lineIndent<=e){a.push(null),l=t.input.charCodeAt(t.position);continue}if(r=t.line,Sd(t,e,JG,!1,!0),a.push(t.result),Gn(t,!0,-1),l=t.input.charCodeAt(t.position),(t.line===r||t.lineIndent>e)&&l!==0)Pt(t,"bad indentation of a sequence entry");else if(t.lineIndent<e)break}return o?(t.tag=n,t.anchor=i,t.kind="sequence",t.result=a,!0):!1}b(B7,"readBlockSequence");function pH(t,e,r){var n,i,a,s,o,l,u=t.tag,h=t.anchor,d={},p=Object.create(null),f=null,g=null,m=null,y=!1,v=!1,x;if(t.firstTabInLine!==-1)return!1;for(t.anchor!==null&&(t.anchorMap[t.anchor]=d),x=t.input.charCodeAt(t.position);x!==0;){if(!y&&t.firstTabInLine!==-1&&(t.position=t.firstTabInLine,Pt(t,"tab characters must not be used in indentation")),n=t.input.charCodeAt(t.position+1),a=t.line,(x===63||x===58)&&Na(n))x===63?(y&&(id(t,d,p,f,g,null,s,o,l),f=g=m=null),v=!0,y=!0,i=!0):y?(y=!1,i=!0):Pt(t,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),t.position+=1,x=n;else{if(s=t.line,o=t.lineStart,l=t.position,!Sd(t,r,ZG,!1,!0))break;if(t.line===a){for(x=t.input.charCodeAt(t.position);zu(x);)x=t.input.charCodeAt(++t.position);if(x===58)x=t.input.charCodeAt(++t.position),Na(x)||Pt(t,"a whitespace character is expected after the key-value separator within a block mapping"),y&&(id(t,d,p,f,g,null,s,o,l),f=g=m=null),v=!0,y=!1,i=!1,f=t.tag,g=t.result;else if(v)Pt(t,"can not read an implicit mapping pair; a colon is missed");else return t.tag=u,t.anchor=h,!0}else if(v)Pt(t,"can not read a block mapping entry; a multiline key may not be an implicit key");else return t.tag=u,t.anchor=h,!0}if((t.line===a||t.lineIndent>e)&&(y&&(s=t.line,o=t.lineStart,l=t.position),Sd(t,e,w4,!0,i)&&(y?g=t.result:m=t.result),y||(id(t,d,p,f,g,m,s,o,l),f=g=m=null),Gn(t,!0,-1),x=t.input.charCodeAt(t.position)),(t.line===a||t.lineIndent>e)&&x!==0)Pt(t,"bad indentation of a mapping entry");else if(t.lineIndent<e)break}return y&&id(t,d,p,f,g,null,s,o,l),v&&(t.tag=u,t.anchor=h,t.kind="mapping",t.result=d),v}b(pH,"readBlockMapping");function gH(t){var e,r=!1,n=!1,i,a,s;if(s=t.input.charCodeAt(t.position),s!==33)return!1;if(t.tag!==null&&Pt(t,"duplication of a tag property"),s=t.input.charCodeAt(++t.position),s===60?(r=!0,s=t.input.charCodeAt(++t.position)):s===33?(n=!0,i="!!",s=t.input.charCodeAt(++t.position)):i="!",e=t.position,r){do s=t.input.charCodeAt(++t.position);while(s!==0&&s!==62);t.position<t.length?(a=t.input.slice(e,t.position),s=t.input.charCodeAt(++t.position)):Pt(t,"unexpected end of the stream within a verbatim tag")}else{for(;s!==0&&!Na(s);)s===33&&(n?Pt(t,"tag suffix cannot contain exclamation marks"):(i=t.input.slice(e-1,t.position+1),eH.test(i)||Pt(t,"named tag handle cannot contain such characters"),n=!0,e=t.position+1)),s=t.input.charCodeAt(++t.position);a=t.input.slice(e,t.position),Bhe.test(a)&&Pt(t,"tag suffix cannot contain flow indicator characters")}a&&!tH.test(a)&&Pt(t,"tag name cannot contain such characters: "+a);try{a=decodeURIComponent(a)}catch{Pt(t,"tag name is malformed: "+a)}return r?t.tag=a:ju.call(t.tagMap,i)?t.tag=t.tagMap[i]+a:i==="!"?t.tag="!"+a:i==="!!"?t.tag="tag:yaml.org,2002:"+a:Pt(t,'undeclared tag handle "'+i+'"'),!0}b(gH,"readTagProperty");function mH(t){var e,r;if(r=t.input.charCodeAt(t.position),r!==38)return!1;for(t.anchor!==null&&Pt(t,"duplication of an anchor property"),r=t.input.charCodeAt(++t.position),e=t.position;r!==0&&!Na(r)&&!nd(r);)r=t.input.charCodeAt(++t.position);return t.position===e&&Pt(t,"name of an anchor node must contain at least one character"),t.anchor=t.input.slice(e,t.position),!0}b(mH,"readAnchorProperty");function vH(t){var e,r,n;if(n=t.input.charCodeAt(t.position),n!==42)return!1;for(n=t.input.charCodeAt(++t.position),e=t.position;n!==0&&!Na(n)&&!nd(n);)n=t.input.charCodeAt(++t.position);return t.position===e&&Pt(t,"name of an alias node must contain at least one character"),r=t.input.slice(e,t.position),ju.call(t.anchorMap,r)||Pt(t,'unidentified alias "'+r+'"'),t.result=t.anchorMap[r],Gn(t,!0,-1),!0}b(vH,"readAlias");function Sd(t,e,r,n,i){var a,s,o,l=1,u=!1,h=!1,d,p,f,g,m,y;if(t.listener!==null&&t.listener("open",t),t.tag=null,t.anchor=null,t.kind=null,t.result=null,a=s=o=w4===r||JG===r,n&&Gn(t,!0,-1)&&(u=!0,t.lineIndent>e?l=1:t.lineIndent===e?l=0:t.lineIndent<e&&(l=-1)),l===1)for(;gH(t)||mH(t);)Gn(t,!0,-1)?(u=!0,o=a,t.lineIndent>e?l=1:t.lineIndent===e?l=0:t.lineIndent<e&&(l=-1)):o=!1;if(o&&(o=u||i),(l===1||w4===r)&&(b4===r||ZG===r?m=e:m=e+1,y=t.position-t.lineStart,l===1?o&&(B7(t,y)||pH(t,y,m))||dH(t,m)?h=!0:(s&&fH(t,m)||uH(t,m)||hH(t,m)?h=!0:vH(t)?(h=!0,(t.tag!==null||t.anchor!==null)&&Pt(t,"alias node should not have any properties")):cH(t,m,b4===r)&&(h=!0,t.tag===null&&(t.tag="?")),t.anchor!==null&&(t.anchorMap[t.anchor]=t.result)):l===0&&(h=o&&B7(t,y))),t.tag===null)t.anchor!==null&&(t.anchorMap[t.anchor]=t.result);else if(t.tag==="?"){for(t.result!==null&&t.kind!=="scalar"&&Pt(t,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+t.kind+'"'),d=0,p=t.implicitTypes.length;d<p;d+=1)if(g=t.implicitTypes[d],g.resolve(t.result)){t.result=g.construct(t.result),t.tag=g.tag,t.anchor!==null&&(t.anchorMap[t.anchor]=t.result);break}}else if(t.tag!=="!"){if(ju.call(t.typeMap[t.kind||"fallback"],t.tag))g=t.typeMap[t.kind||"fallback"][t.tag];else for(g=null,f=t.typeMap.multi[t.kind||"fallback"],d=0,p=f.length;d<p;d+=1)if(t.tag.slice(0,f[d].tag.length)===f[d].tag){g=f[d];break}g||Pt(t,"unknown tag !<"+t.tag+">"),t.result!==null&&g.kind!==t.kind&&Pt(t,"unacceptable node kind for !<"+t.tag+'> tag; it should be "'+g.kind+'", not "'+t.kind+'"'),g.resolve(t.result,t.tag)?(t.result=g.construct(t.result,t.tag),t.anchor!==null&&(t.anchorMap[t.anchor]=t.result)):Pt(t,"cannot resolve a node with !<"+t.tag+"> explicit tag")}return t.listener!==null&&t.listener("close",t),t.tag!==null||t.anchor!==null||h}b(Sd,"composeNode");function yH(t){var e=t.position,r,n,i,a=!1,s;for(t.version=null,t.checkLineBreaks=t.legacy,t.tagMap=Object.create(null),t.anchorMap=Object.create(null);(s=t.input.charCodeAt(t.position))!==0&&(Gn(t,!0,-1),s=t.input.charCodeAt(t.position),!(t.lineIndent>0||s!==37));){for(a=!0,s=t.input.charCodeAt(++t.position),r=t.position;s!==0&&!Na(s);)s=t.input.charCodeAt(++t.position);for(n=t.input.slice(r,t.position),i=[],n.length<1&&Pt(t,"directive name must not be less than one character in length");s!==0;){for(;zu(s);)s=t.input.charCodeAt(++t.position);if(s===35){do s=t.input.charCodeAt(++t.position);while(s!==0&&!$o(s));break}if($o(s))break;for(r=t.position;s!==0&&!Na(s);)s=t.input.charCodeAt(++t.position);i.push(t.input.slice(r,t.position))}s!==0&&ew(t),ju.call(EM,n)?EM[n](t,n,i):ov(t,'unknown document directive "'+n+'"')}if(Gn(t,!0,-1),t.lineIndent===0&&t.input.charCodeAt(t.position)===45&&t.input.charCodeAt(t.position+1)===45&&t.input.charCodeAt(t.position+2)===45?(t.position+=3,Gn(t,!0,-1)):a&&Pt(t,"directives end mark is expected"),Sd(t,t.lineIndent-1,w4,!1,!0),Gn(t,!0,-1),t.checkLineBreaks&&Fhe.test(t.input.slice(e,t.position))&&ov(t,"non-ASCII line breaks are interpreted as content"),t.documents.push(t.result),t.position===t.lineStart&&gy(t)){t.input.charCodeAt(t.position)===46&&(t.position+=3,Gn(t,!0,-1));return}if(t.position<t.length-1)Pt(t,"end of the stream or a document separator is expected");else return}b(yH,"readDocument");function WA(t,e){t=String(t),e=e||{},t.length!==0&&(t.charCodeAt(t.length-1)!==10&&t.charCodeAt(t.length-1)!==13&&(t+=`
`),t.charCodeAt(0)===65279&&(t=t.slice(1)));var r=new lH(t,e),n=t.indexOf("\0");for(n!==-1&&(r.position=n,Pt(r,"null byte is not allowed in input")),r.input+="\0";r.input.charCodeAt(r.position)===32;)r.lineIndent+=1,r.position+=1;for(;r.position<r.length-1;)yH(r);return r.documents}b(WA,"loadDocuments");function xH(t,e,r){e!==null&&typeof e=="object"&&typeof r>"u"&&(r=e,e=null);var n=WA(t,r);if(typeof e!="function")return n;for(var i=0,a=n.length;i<a;i+=1)e(n[i])}b(xH,"loadAll$1");function bH(t,e){var r=WA(t,e);if(r.length!==0){if(r.length===1)return r[0];throw new Za("expected a single document in the stream, but found more")}}b(bH,"load$1");var $he=xH,zhe=bH,Uhe={loadAll:$he,load:zhe},wH=Object.prototype.toString,kH=Object.prototype.hasOwnProperty,YA=65279,Vhe=9,lv=10,Ghe=13,Hhe=32,Whe=33,Yhe=34,$7=35,qhe=37,jhe=38,Xhe=39,Khe=42,TH=44,Qhe=45,k4=58,Zhe=61,Jhe=62,ede=63,tde=64,EH=91,SH=93,rde=96,CH=123,nde=124,AH=125,wa={};wa[0]="\\0";wa[7]="\\a";wa[8]="\\b";wa[9]="\\t";wa[10]="\\n";wa[11]="\\v";wa[12]="\\f";wa[13]="\\r";wa[27]="\\e";wa[34]='\\"';wa[92]="\\\\";wa[133]="\\N";wa[160]="\\_";wa[8232]="\\L";wa[8233]="\\P";var ide=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"],ade=/^[-+]?[0-9_]+(?::[0-9_]+)+(?:\.[0-9_]*)?$/;function _H(t,e){var r,n,i,a,s,o,l;if(e===null)return{};for(r={},n=Object.keys(e),i=0,a=n.length;i<a;i+=1)s=n[i],o=String(e[s]),s.slice(0,2)==="!!"&&(s="tag:yaml.org,2002:"+s.slice(2)),l=t.compiledTypeMap.fallback[s],l&&kH.call(l.styleAliases,o)&&(o=l.styleAliases[o]),r[s]=o;return r}b(_H,"compileStyleMap");function LH(t){var e,r,n;if(e=t.toString(16).toUpperCase(),t<=255)r="x",n=2;else if(t<=65535)r="u",n=4;else if(t<=4294967295)r="U",n=8;else throw new Za("code point within a string may not be greater than 0xFFFFFFFF");return"\\"+r+ui.repeat("0",n-e.length)+e}b(LH,"encodeHex");var sde=1,cv=2;function NH(t){this.schema=t.schema||QG,this.indent=Math.max(1,t.indent||2),this.noArrayIndent=t.noArrayIndent||!1,this.skipInvalid=t.skipInvalid||!1,this.flowLevel=ui.isNothing(t.flowLevel)?-1:t.flowLevel,this.styleMap=_H(this.schema,t.styles||null),this.sortKeys=t.sortKeys||!1,this.lineWidth=t.lineWidth||80,this.noRefs=t.noRefs||!1,this.noCompatMode=t.noCompatMode||!1,this.condenseFlow=t.condenseFlow||!1,this.quotingType=t.quotingType==='"'?cv:sde,this.forceQuotes=t.forceQuotes||!1,this.replacer=typeof t.replacer=="function"?t.replacer:null,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}b(NH,"State");function z7(t,e){for(var r=ui.repeat(" ",e),n=0,i=-1,a="",s,o=t.length;n<o;)i=t.indexOf(`
`,n),i===-1?(s=t.slice(n),n=o):(s=t.slice(n,i+1),n=i+1),s.length&&s!==`
`&&(a+=r),a+=s;return a}b(z7,"indentString");function T4(t,e){return`
`+ui.repeat(" ",t.indent*e)}b(T4,"generateNextLine");function RH(t,e){var r,n,i;for(r=0,n=t.implicitTypes.length;r<n;r+=1)if(i=t.implicitTypes[r],i.resolve(e))return!0;return!1}b(RH,"testImplicitResolving");function uv(t){return t===Hhe||t===Vhe}b(uv,"isWhitespace");function Op(t){return 32<=t&&t<=126||161<=t&&t<=55295&&t!==8232&&t!==8233||57344<=t&&t<=65533&&t!==YA||65536<=t&&t<=1114111}b(Op,"isPrintable");function U7(t){return Op(t)&&t!==YA&&t!==Ghe&&t!==lv}b(U7,"isNsCharOrWhitespace");function V7(t,e,r){var n=U7(t),i=n&&!uv(t);return(r?n:n&&t!==TH&&t!==EH&&t!==SH&&t!==CH&&t!==AH)&&t!==$7&&!(e===k4&&!i)||U7(e)&&!uv(e)&&t===$7||e===k4&&i}b(V7,"isPlainSafe");function MH(t){return Op(t)&&t!==YA&&!uv(t)&&t!==Qhe&&t!==ede&&t!==k4&&t!==TH&&t!==EH&&t!==SH&&t!==CH&&t!==AH&&t!==$7&&t!==jhe&&t!==Khe&&t!==Whe&&t!==nde&&t!==Zhe&&t!==Jhe&&t!==Xhe&&t!==Yhe&&t!==qhe&&t!==tde&&t!==rde}b(MH,"isPlainSafeFirst");function IH(t){return!uv(t)&&t!==k4}b(IH,"isPlainSafeLast");function r0(t,e){var r=t.charCodeAt(e),n;return r>=55296&&r<=56319&&e+1<t.length&&(n=t.charCodeAt(e+1),n>=56320&&n<=57343)?(r-55296)*1024+n-56320+65536:r}b(r0,"codePointAt");function qA(t){var e=/^\n* /;return e.test(t)}b(qA,"needIndentIndicator");var DH=1,G7=2,OH=3,PH=4,Uf=5;function FH(t,e,r,n,i,a,s,o){var l,u=0,h=null,d=!1,p=!1,f=n!==-1,g=-1,m=MH(r0(t,0))&&IH(r0(t,t.length-1));if(e||s)for(l=0;l<t.length;u>=65536?l+=2:l++){if(u=r0(t,l),!Op(u))return Uf;m=m&&V7(u,h,o),h=u}else{for(l=0;l<t.length;u>=65536?l+=2:l++){if(u=r0(t,l),u===lv)d=!0,f&&(p=p||l-g-1>n&&t[g+1]!==" ",g=l);else if(!Op(u))return Uf;m=m&&V7(u,h,o),h=u}p=p||f&&l-g-1>n&&t[g+1]!==" "}return!d&&!p?m&&!s&&!i(t)?DH:a===cv?Uf:G7:r>9&&qA(t)?Uf:s?a===cv?Uf:G7:p?PH:OH}b(FH,"chooseScalarStyle");function BH(t,e,r,n,i){t.dump=function(){if(e.length===0)return t.quotingType===cv?'""':"''";if(!t.noCompatMode&&(ide.indexOf(e)!==-1||ade.test(e)))return t.quotingType===cv?'"'+e+'"':"'"+e+"'";var a=t.indent*Math.max(1,r),s=t.lineWidth===-1?-1:Math.max(Math.min(t.lineWidth,40),t.lineWidth-a),o=n||t.flowLevel>-1&&r>=t.flowLevel;function l(u){return RH(t,u)}switch(b(l,"testAmbiguity"),FH(e,o,t.indent,s,l,t.quotingType,t.forceQuotes&&!n,i)){case DH:return e;case G7:return"'"+e.replace(/'/g,"''")+"'";case OH:return"|"+H7(e,t.indent)+W7(z7(e,a));case PH:return">"+H7(e,t.indent)+W7(z7($H(e,s),a));case Uf:return'"'+zH(e)+'"';default:throw new Za("impossible error: invalid scalar style")}}()}b(BH,"writeScalar");function H7(t,e){var r=qA(t)?String(e):"",n=t[t.length-1]===`
`,i=n&&(t[t.length-2]===`
`||t===`
`),a=i?"+":n?"":"-";return r+a+`
`}b(H7,"blockHeader");function W7(t){return t[t.length-1]===`
`?t.slice(0,-1):t}b(W7,"dropEndingNewline");function $H(t,e){for(var r=/(\n+)([^\n]*)/g,n=function(){var u=t.indexOf(`
`);return u=u!==-1?u:t.length,r.lastIndex=u,Y7(t.slice(0,u),e)}(),i=t[0]===`
`||t[0]===" ",a,s;s=r.exec(t);){var o=s[1],l=s[2];a=l[0]===" ",n+=o+(!i&&!a&&l!==""?`
`:"")+Y7(l,e),i=a}return n}b($H,"foldString");function Y7(t,e){if(t===""||t[0]===" ")return t;for(var r=/ [^ ]/g,n,i=0,a,s=0,o=0,l="";n=r.exec(t);)o=n.index,o-i>e&&(a=s>i?s:o,l+=`
`+t.slice(i,a),i=a+1),s=o;return l+=`
`,t.length-i>e&&s>i?l+=t.slice(i,s)+`
`+t.slice(s+1):l+=t.slice(i),l.slice(1)}b(Y7,"foldLine");function zH(t){for(var e="",r=0,n,i=0;i<t.length;r>=65536?i+=2:i++)r=r0(t,i),n=wa[r],!n&&Op(r)?(e+=t[i],r>=65536&&(e+=t[i+1])):e+=n||LH(r);return e}b(zH,"escapeString");function UH(t,e,r){var n="",i=t.tag,a,s,o;for(a=0,s=r.length;a<s;a+=1)o=r[a],t.replacer&&(o=t.replacer.call(r,String(a),o)),(Al(t,e,o,!1,!1)||typeof o>"u"&&Al(t,e,null,!1,!1))&&(n!==""&&(n+=","+(t.condenseFlow?"":" ")),n+=t.dump);t.tag=i,t.dump="["+n+"]"}b(UH,"writeFlowSequence");function q7(t,e,r,n){var i="",a=t.tag,s,o,l;for(s=0,o=r.length;s<o;s+=1)l=r[s],t.replacer&&(l=t.replacer.call(r,String(s),l)),(Al(t,e+1,l,!0,!0,!1,!0)||typeof l>"u"&&Al(t,e+1,null,!0,!0,!1,!0))&&((!n||i!=="")&&(i+=T4(t,e)),t.dump&&lv===t.dump.charCodeAt(0)?i+="-":i+="- ",i+=t.dump);t.tag=a,t.dump=i||"[]"}b(q7,"writeBlockSequence");function VH(t,e,r){var n="",i=t.tag,a=Object.keys(r),s,o,l,u,h;for(s=0,o=a.length;s<o;s+=1)h="",n!==""&&(h+=", "),t.condenseFlow&&(h+='"'),l=a[s],u=r[l],t.replacer&&(u=t.replacer.call(r,l,u)),Al(t,e,l,!1,!1)&&(t.dump.length>1024&&(h+="? "),h+=t.dump+(t.condenseFlow?'"':"")+":"+(t.condenseFlow?"":" "),Al(t,e,u,!1,!1)&&(h+=t.dump,n+=h));t.tag=i,t.dump="{"+n+"}"}b(VH,"writeFlowMapping");function GH(t,e,r,n){var i="",a=t.tag,s=Object.keys(r),o,l,u,h,d,p;if(t.sortKeys===!0)s.sort();else if(typeof t.sortKeys=="function")s.sort(t.sortKeys);else if(t.sortKeys)throw new Za("sortKeys must be a boolean or a function");for(o=0,l=s.length;o<l;o+=1)p="",(!n||i!=="")&&(p+=T4(t,e)),u=s[o],h=r[u],t.replacer&&(h=t.replacer.call(r,u,h)),Al(t,e+1,u,!0,!0,!0)&&(d=t.tag!==null&&t.tag!=="?"||t.dump&&t.dump.length>1024,d&&(t.dump&&lv===t.dump.charCodeAt(0)?p+="?":p+="? "),p+=t.dump,d&&(p+=T4(t,e)),Al(t,e+1,h,!0,d)&&(t.dump&&lv===t.dump.charCodeAt(0)?p+=":":p+=": ",p+=t.dump,i+=p));t.tag=a,t.dump=i||"{}"}b(GH,"writeBlockMapping");function j7(t,e,r){var n,i,a,s,o,l;for(i=r?t.explicitTypes:t.implicitTypes,a=0,s=i.length;a<s;a+=1)if(o=i[a],(o.instanceOf||o.predicate)&&(!o.instanceOf||typeof e=="object"&&e instanceof o.instanceOf)&&(!o.predicate||o.predicate(e))){if(r?o.multi&&o.representName?t.tag=o.representName(e):t.tag=o.tag:t.tag="?",o.represent){if(l=t.styleMap[o.tag]||o.defaultStyle,wH.call(o.represent)==="[object Function]")n=o.represent(e,l);else if(kH.call(o.represent,l))n=o.represent[l](e,l);else throw new Za("!<"+o.tag+'> tag resolver accepts not "'+l+'" style');t.dump=n}return!0}return!1}b(j7,"detectType");function Al(t,e,r,n,i,a,s){t.tag=null,t.dump=r,j7(t,r,!1)||j7(t,r,!0);var o=wH.call(t.dump),l=n,u;n&&(n=t.flowLevel<0||t.flowLevel>e);var h=o==="[object Object]"||o==="[object Array]",d,p;if(h&&(d=t.duplicates.indexOf(r),p=d!==-1),(t.tag!==null&&t.tag!=="?"||p||t.indent!==2&&e>0)&&(i=!1),p&&t.usedDuplicates[d])t.dump="*ref_"+d;else{if(h&&p&&!t.usedDuplicates[d]&&(t.usedDuplicates[d]=!0),o==="[object Object]")n&&Object.keys(t.dump).length!==0?(GH(t,e,t.dump,i),p&&(t.dump="&ref_"+d+t.dump)):(VH(t,e,t.dump),p&&(t.dump="&ref_"+d+" "+t.dump));else if(o==="[object Array]")n&&t.dump.length!==0?(t.noArrayIndent&&!s&&e>0?q7(t,e-1,t.dump,i):q7(t,e,t.dump,i),p&&(t.dump="&ref_"+d+t.dump)):(UH(t,e,t.dump),p&&(t.dump="&ref_"+d+" "+t.dump));else if(o==="[object String]")t.tag!=="?"&&BH(t,t.dump,e,a,l);else{if(o==="[object Undefined]")return!1;if(t.skipInvalid)return!1;throw new Za("unacceptable kind of an object to dump "+o)}t.tag!==null&&t.tag!=="?"&&(u=encodeURI(t.tag[0]==="!"?t.tag.slice(1):t.tag).replace(/!/g,"%21"),t.tag[0]==="!"?u="!"+u:u.slice(0,18)==="tag:yaml.org,2002:"?u="!!"+u.slice(18):u="!<"+u+">",t.dump=u+" "+t.dump)}return!0}b(Al,"writeNode");function HH(t,e){var r=[],n=[],i,a;for(E4(t,r,n),i=0,a=n.length;i<a;i+=1)e.duplicates.push(r[n[i]]);e.usedDuplicates=new Array(a)}b(HH,"getDuplicateReferences");function E4(t,e,r){var n,i,a;if(t!==null&&typeof t=="object")if(i=e.indexOf(t),i!==-1)r.indexOf(i)===-1&&r.push(i);else if(e.push(t),Array.isArray(t))for(i=0,a=t.length;i<a;i+=1)E4(t[i],e,r);else for(n=Object.keys(t),i=0,a=n.length;i<a;i+=1)E4(t[n[i]],e,r)}b(E4,"inspectNode");function ode(t,e){e=e||{};var r=new NH(e);r.noRefs||HH(t,r);var n=t;return r.replacer&&(n=r.replacer.call({"":n},"",n)),Al(r,0,n,!0,!0)?r.dump+`
`:""}b(ode,"dump$1");function lde(t,e){return function(){throw new Error("Function yaml."+t+" is removed in js-yaml 4. Use yaml."+e+" instead, which is now safe by default.")}}b(lde,"renamed");var WH=DG,YH=Uhe.load;/*! Bundled license information:

js-yaml/dist/js-yaml.mjs:
  (*! js-yaml 4.1.0 https://github.com/nodeca/js-yaml @license MIT *)
*/const cde=Object.freeze({left:0,top:0,width:16,height:16}),S4=Object.freeze({rotate:0,vFlip:!1,hFlip:!1}),qH=Object.freeze({...cde,...S4}),ude=Object.freeze({...qH,body:"",hidden:!1}),hde=Object.freeze({width:null,height:null}),dde=Object.freeze({...hde,...S4}),Ak=/^[a-z0-9]+(-[a-z0-9]+)*$/,fde=(t,e,r,n="")=>{const i=t.split(":");if(t.slice(0,1)==="@"){if(i.length<2||i.length>3)return null;n=i.shift().slice(1)}if(i.length>3||!i.length)return null;if(i.length>1){const o=i.pop(),l=i.pop(),u={provider:i.length>0?i[0]:n,prefix:l,name:o};return _k(u)?u:null}const a=i[0],s=a.split("-");if(s.length>1){const o={provider:n,prefix:s.shift(),name:s.join("-")};return _k(o)?o:null}if(r&&n===""){const o={provider:n,prefix:"",name:a};return _k(o,r)?o:null}return null},_k=(t,e)=>t?!!((t.provider===""||t.provider.match(Ak))&&(e&&t.prefix===""||t.prefix.match(Ak))&&t.name.match(Ak)):!1;function pde(t,e){const r={};!t.hFlip!=!e.hFlip&&(r.hFlip=!0),!t.vFlip!=!e.vFlip&&(r.vFlip=!0);const n=((t.rotate||0)+(e.rotate||0))%4;return n&&(r.rotate=n),r}function SM(t,e){const r=pde(t,e);for(const n in ude)n in S4?n in t&&!(n in r)&&(r[n]=S4[n]):n in e?r[n]=e[n]:n in t&&(r[n]=t[n]);return r}function gde(t,e){const r=t.icons,n=t.aliases||Object.create(null),i=Object.create(null);function a(s){if(r[s])return i[s]=[];if(!(s in i)){i[s]=null;const o=n[s]&&n[s].parent,l=o&&a(o);l&&(i[s]=[o].concat(l))}return i[s]}return(e||Object.keys(r).concat(Object.keys(n))).forEach(a),i}function CM(t,e,r){const n=t.icons,i=t.aliases||Object.create(null);let a={};function s(o){a=SM(n[o]||i[o],a)}return s(e),r.forEach(s),SM(t,a)}function mde(t,e){if(t.icons[e])return CM(t,e,[]);const r=gde(t,[e])[e];return r?CM(t,e,r):null}const vde=/(-?[0-9.]*[0-9]+[0-9.]*)/g,yde=/^-?[0-9.]*[0-9]+[0-9.]*$/g;function AM(t,e,r){if(e===1)return t;if(r=r||100,typeof t=="number")return Math.ceil(t*e*r)/r;if(typeof t!="string")return t;const n=t.split(vde);if(n===null||!n.length)return t;const i=[];let a=n.shift(),s=yde.test(a);for(;;){if(s){const o=parseFloat(a);isNaN(o)?i.push(a):i.push(Math.ceil(o*e*r)/r)}else i.push(a);if(a=n.shift(),a===void 0)return i.join("");s=!s}}function xde(t,e="defs"){let r="";const n=t.indexOf("<"+e);for(;n>=0;){const i=t.indexOf(">",n),a=t.indexOf("</"+e);if(i===-1||a===-1)break;const s=t.indexOf(">",a);if(s===-1)break;r+=t.slice(i+1,a).trim(),t=t.slice(0,n).trim()+t.slice(s+1)}return{defs:r,content:t}}function bde(t,e){return t?"<defs>"+t+"</defs>"+e:e}function wde(t,e,r){const n=xde(t);return bde(n.defs,e+n.content+r)}const kde=t=>t==="unset"||t==="undefined"||t==="none";function Tde(t,e){const r={...qH,...t},n={...dde,...e},i={left:r.left,top:r.top,width:r.width,height:r.height};let a=r.body;[r,n].forEach(m=>{const y=[],v=m.hFlip,x=m.vFlip;let w=m.rotate;v?x?w+=2:(y.push("translate("+(i.width+i.left).toString()+" "+(0-i.top).toString()+")"),y.push("scale(-1 1)"),i.top=i.left=0):x&&(y.push("translate("+(0-i.left).toString()+" "+(i.height+i.top).toString()+")"),y.push("scale(1 -1)"),i.top=i.left=0);let k;switch(w<0&&(w-=Math.floor(w/4)*4),w=w%4,w){case 1:k=i.height/2+i.top,y.unshift("rotate(90 "+k.toString()+" "+k.toString()+")");break;case 2:y.unshift("rotate(180 "+(i.width/2+i.left).toString()+" "+(i.height/2+i.top).toString()+")");break;case 3:k=i.width/2+i.left,y.unshift("rotate(-90 "+k.toString()+" "+k.toString()+")");break}w%2===1&&(i.left!==i.top&&(k=i.left,i.left=i.top,i.top=k),i.width!==i.height&&(k=i.width,i.width=i.height,i.height=k)),y.length&&(a=wde(a,'<g transform="'+y.join(" ")+'">',"</g>"))});const s=n.width,o=n.height,l=i.width,u=i.height;let h,d;s===null?(d=o===null?"1em":o==="auto"?u:o,h=AM(d,l/u)):(h=s==="auto"?l:s,d=o===null?AM(h,u/l):o==="auto"?u:o);const p={},f=(m,y)=>{kde(y)||(p[m]=y.toString())};f("width",h),f("height",d);const g=[i.left,i.top,l,u];return p.viewBox=g.join(" "),{attributes:p,viewBox:g,body:a}}const Ede=/\sid="(\S+)"/g,Sde="IconifyId"+Date.now().toString(16)+(Math.random()*16777216|0).toString(16);let Cde=0;function Ade(t,e=Sde){const r=[];let n;for(;n=Ede.exec(t);)r.push(n[1]);if(!r.length)return t;const i="suffix"+(Math.random()*16777216|Date.now()).toString(16);return r.forEach(a=>{const s=typeof e=="function"?e(a):e+(Cde++).toString(),o=a.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");t=t.replace(new RegExp('([#;"])('+o+')([")]|\\.[a-z])',"g"),"$1"+s+i+"$3")}),t=t.replace(new RegExp(i,"g"),""),t}function _de(t,e){let r=t.indexOf("xlink:")===-1?"":' xmlns:xlink="http://www.w3.org/1999/xlink"';for(const n in e)r+=" "+n+'="'+e[n]+'"';return'<svg xmlns="http://www.w3.org/2000/svg"'+r+">"+t+"</svg>"}var jH={body:'<g><rect width="80" height="80" style="fill: #087ebf; stroke-width: 0px;"/><text transform="translate(21.16 64.67)" style="fill: #fff; font-family: ArialMT, Arial; font-size: 67.75px;"><tspan x="0" y="0">?</tspan></text></g>',height:80,width:80},X7=new Map,XH=new Map,KH=b(t=>{for(const e of t){if(!e.name)throw new Error('Invalid icon loader. Must have a "name" property with non-empty string value.');if(q.debug("Registering icon pack:",e.name),"loader"in e)XH.set(e.name,e.loader);else if("icons"in e)X7.set(e.name,e.icons);else throw q.error("Invalid icon loader:",e),new Error('Invalid icon loader. Must have either "icons" or "loader" property.')}},"registerIconPacks"),Lde=b(async(t,e)=>{const r=fde(t,!0,e!==void 0);if(!r)throw new Error(`Invalid icon name: ${t}`);const n=r.prefix||e;if(!n)throw new Error(`Icon name must contain a prefix: ${t}`);let i=X7.get(n);if(!i){const s=XH.get(n);if(!s)throw new Error(`Icon set not found: ${r.prefix}`);try{i={...await s(),prefix:n},X7.set(n,i)}catch(o){throw q.error(o),new Error(`Failed to load icon set: ${r.prefix}`)}}const a=mde(i,r.name);if(!a)throw new Error(`Icon not found: ${t}`);return a},"getRegisteredIconData"),Cd=b(async(t,e)=>{let r;try{r=await Lde(t,e==null?void 0:e.fallbackPrefix)}catch(a){q.error(a),r=jH}const n=Tde(r,e);return _de(Ade(n.body),n.attributes)},"getIconSVG"),of=b(({flowchart:t})=>{var i,a;const e=((i=t==null?void 0:t.subGraphTitleMargin)==null?void 0:i.top)??0,r=((a=t==null?void 0:t.subGraphTitleMargin)==null?void 0:a.bottom)??0,n=e+r;return{subGraphTitleTopMargin:e,subGraphTitleBottomMargin:r,subGraphTitleTotalMargin:n}},"getSubGraphTitleMargins"),au={aggregation:18,extension:18,composition:18,dependency:6,lollipop:13.5,arrow_point:4};function j1(t,e){if(t===void 0||e===void 0)return{angle:0,deltaX:0,deltaY:0};t=C4(t),e=C4(e);const[r,n]=[t.x,t.y],[i,a]=[e.x,e.y],s=i-r,o=a-n;return{angle:Math.atan(o/s),deltaX:s,deltaY:o}}b(j1,"calculateDeltaAndAngle");var C4=b(t=>Array.isArray(t)?{x:t[0],y:t[1]}:t,"pointTransformer"),QH=b(t=>({x:b(function(e,r,n){let i=0;if(r===0&&Object.hasOwn(au,t.arrowTypeStart)){const{angle:a,deltaX:s}=j1(n[0],n[1]);i=au[t.arrowTypeStart]*Math.cos(a)*(s>=0?1:-1)}else if(r===n.length-1&&Object.hasOwn(au,t.arrowTypeEnd)){const{angle:a,deltaX:s}=j1(n[n.length-1],n[n.length-2]);i=au[t.arrowTypeEnd]*Math.cos(a)*(s>=0?1:-1)}return C4(e).x+i},"x"),y:b(function(e,r,n){let i=0;if(r===0&&Object.hasOwn(au,t.arrowTypeStart)){const{angle:a,deltaY:s}=j1(n[0],n[1]);i=au[t.arrowTypeStart]*Math.abs(Math.sin(a))*(s>=0?1:-1)}else if(r===n.length-1&&Object.hasOwn(au,t.arrowTypeEnd)){const{angle:a,deltaY:s}=j1(n[n.length-1],n[n.length-2]);i=au[t.arrowTypeEnd]*Math.abs(Math.sin(a))*(s>=0?1:-1)}return C4(e).y+i},"y")}),"getLineFunctionsWithOffset"),jA={},Si={};Object.defineProperty(Si,"__esModule",{value:!0});Si.BLANK_URL=Si.relativeFirstCharacters=Si.whitespaceEscapeCharsRegex=Si.urlSchemeRegex=Si.ctrlCharactersRegex=Si.htmlCtrlEntityRegex=Si.htmlEntitiesRegex=Si.invalidProtocolRegex=void 0;Si.invalidProtocolRegex=/^([^\w]*)(javascript|data|vbscript)/im;Si.htmlEntitiesRegex=/&#(\w+)(^\w|;)?/g;Si.htmlCtrlEntityRegex=/&(newline|tab);/gi;Si.ctrlCharactersRegex=/[\u0000-\u001F\u007F-\u009F\u2000-\u200D\uFEFF]/gim;Si.urlSchemeRegex=/^.+(:|&colon;)/gim;Si.whitespaceEscapeCharsRegex=/(\\|%5[cC])((%(6[eE]|72|74))|[nrt])/g;Si.relativeFirstCharacters=[".","/"];Si.BLANK_URL="about:blank";Object.defineProperty(jA,"__esModule",{value:!0});var bh=jA.sanitizeUrl=void 0,oa=Si;function Nde(t){return oa.relativeFirstCharacters.indexOf(t[0])>-1}function Rde(t){var e=t.replace(oa.ctrlCharactersRegex,"");return e.replace(oa.htmlEntitiesRegex,function(r,n){return String.fromCharCode(n)})}function Mde(t){return URL.canParse(t)}function _M(t){try{return decodeURIComponent(t)}catch{return t}}function Ide(t){if(!t)return oa.BLANK_URL;var e,r=_M(t.trim());do r=Rde(r).replace(oa.htmlCtrlEntityRegex,"").replace(oa.ctrlCharactersRegex,"").replace(oa.whitespaceEscapeCharsRegex,"").trim(),r=_M(r),e=r.match(oa.ctrlCharactersRegex)||r.match(oa.htmlEntitiesRegex)||r.match(oa.htmlCtrlEntityRegex)||r.match(oa.whitespaceEscapeCharsRegex);while(e&&e.length>0);var n=r;if(!n)return oa.BLANK_URL;if(Nde(n))return n;var i=n.trimStart(),a=i.match(oa.urlSchemeRegex);if(!a)return n;var s=a[0].toLowerCase().trim();if(oa.invalidProtocolRegex.test(s))return oa.BLANK_URL;var o=i.replace(/\\/g,"/");if(s==="mailto:"||s.includes("://"))return o;if(s==="http:"||s==="https:"){if(!Mde(o))return oa.BLANK_URL;var l=new URL(o);return l.protocol=l.protocol.toLowerCase(),l.hostname=l.hostname.toLowerCase(),l.toString()}return o}bh=jA.sanitizeUrl=Ide;function ib(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Dde(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function XA(t){let e,r,n;t.length!==2?(e=ib,r=(o,l)=>ib(t(o),l),n=(o,l)=>t(o)-l):(e=t===ib||t===Dde?t:Ode,r=t,n=t);function i(o,l,u=0,h=o.length){if(u<h){if(e(l,l)!==0)return h;do{const d=u+h>>>1;r(o[d],l)<0?u=d+1:h=d}while(u<h)}return u}function a(o,l,u=0,h=o.length){if(u<h){if(e(l,l)!==0)return h;do{const d=u+h>>>1;r(o[d],l)<=0?u=d+1:h=d}while(u<h)}return u}function s(o,l,u=0,h=o.length){const d=i(o,l,u,h-1);return d>u&&n(o[d-1],l)>-n(o[d],l)?d-1:d}return{left:i,center:s,right:a}}function Ode(){return 0}function Pde(t){return t===null?NaN:+t}const Fde=XA(ib),Bde=Fde.right;XA(Pde).center;class LM extends Map{constructor(e,r=Ude){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),e!=null)for(const[n,i]of e)this.set(n,i)}get(e){return super.get(NM(this,e))}has(e){return super.has(NM(this,e))}set(e,r){return super.set($de(this,e),r)}delete(e){return super.delete(zde(this,e))}}function NM({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):r}function $de({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):(t.set(n,r),r)}function zde({_intern:t,_key:e},r){const n=e(r);return t.has(n)&&(r=t.get(n),t.delete(n)),r}function Ude(t){return t!==null&&typeof t=="object"?t.valueOf():t}const Vde=Math.sqrt(50),Gde=Math.sqrt(10),Hde=Math.sqrt(2);function A4(t,e,r){const n=(e-t)/Math.max(0,r),i=Math.floor(Math.log10(n)),a=n/Math.pow(10,i),s=a>=Vde?10:a>=Gde?5:a>=Hde?2:1;let o,l,u;return i<0?(u=Math.pow(10,-i)/s,o=Math.round(t*u),l=Math.round(e*u),o/u<t&&++o,l/u>e&&--l,u=-u):(u=Math.pow(10,i)*s,o=Math.round(t/u),l=Math.round(e/u),o*u<t&&++o,l*u>e&&--l),l<o&&.5<=r&&r<2?A4(t,e,r*2):[o,l,u]}function Wde(t,e,r){if(e=+e,t=+t,r=+r,!(r>0))return[];if(t===e)return[t];const n=e<t,[i,a,s]=n?A4(e,t,r):A4(t,e,r);if(!(a>=i))return[];const o=a-i+1,l=new Array(o);if(n)if(s<0)for(let u=0;u<o;++u)l[u]=(a-u)/-s;else for(let u=0;u<o;++u)l[u]=(a-u)*s;else if(s<0)for(let u=0;u<o;++u)l[u]=(i+u)/-s;else for(let u=0;u<o;++u)l[u]=(i+u)*s;return l}function K7(t,e,r){return e=+e,t=+t,r=+r,A4(t,e,r)[2]}function Q7(t,e,r){e=+e,t=+t,r=+r;const n=e<t,i=n?K7(e,t,r):K7(t,e,r);return(n?-1:1)*(i<0?1/-i:i)}function Yde(t,e){let r;if(e===void 0)for(const n of t)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);else{let n=-1;for(let i of t)(i=e(i,++n,t))!=null&&(r<i||r===void 0&&i>=i)&&(r=i)}return r}function qde(t,e){let r;if(e===void 0)for(const n of t)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);else{let n=-1;for(let i of t)(i=e(i,++n,t))!=null&&(r>i||r===void 0&&i>=i)&&(r=i)}return r}function jde(t,e,r){t=+t,e=+e,r=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((e-t)/r))|0,a=new Array(i);++n<i;)a[n]=t+n*r;return a}function Xde(t){return t}var ab=1,Lk=2,Z7=3,O2=4,RM=1e-6;function Kde(t){return"translate("+t+",0)"}function Qde(t){return"translate(0,"+t+")"}function Zde(t){return e=>+t(e)}function Jde(t,e){return e=Math.max(0,t.bandwidth()-e*2)/2,t.round()&&(e=Math.round(e)),r=>+t(r)+e}function efe(){return!this.__axis}function ZH(t,e){var r=[],n=null,i=null,a=6,s=6,o=3,l=typeof window<"u"&&window.devicePixelRatio>1?0:.5,u=t===ab||t===O2?-1:1,h=t===O2||t===Lk?"x":"y",d=t===ab||t===Z7?Kde:Qde;function p(f){var g=n??(e.ticks?e.ticks.apply(e,r):e.domain()),m=i??(e.tickFormat?e.tickFormat.apply(e,r):Xde),y=Math.max(a,0)+o,v=e.range(),x=+v[0]+l,w=+v[v.length-1]+l,k=(e.bandwidth?Jde:Zde)(e.copy(),l),E=f.selection?f.selection():f,_=E.selectAll(".domain").data([null]),S=E.selectAll(".tick").data(g,e).order(),R=S.exit(),C=S.enter().append("g").attr("class","tick"),L=S.select("line"),A=S.select("text");_=_.merge(_.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),S=S.merge(C),L=L.merge(C.append("line").attr("stroke","currentColor").attr(h+"2",u*a)),A=A.merge(C.append("text").attr("fill","currentColor").attr(h,u*y).attr("dy",t===ab?"0em":t===Z7?"0.71em":"0.32em")),f!==E&&(_=_.transition(f),S=S.transition(f),L=L.transition(f),A=A.transition(f),R=R.transition(f).attr("opacity",RM).attr("transform",function(N){return isFinite(N=k(N))?d(N+l):this.getAttribute("transform")}),C.attr("opacity",RM).attr("transform",function(N){var F=this.parentNode.__axis;return d((F&&isFinite(F=F(N))?F:k(N))+l)})),R.remove(),_.attr("d",t===O2||t===Lk?s?"M"+u*s+","+x+"H"+l+"V"+w+"H"+u*s:"M"+l+","+x+"V"+w:s?"M"+x+","+u*s+"V"+l+"H"+w+"V"+u*s:"M"+x+","+l+"H"+w),S.attr("opacity",1).attr("transform",function(N){return d(k(N)+l)}),L.attr(h+"2",u*a),A.attr(h,u*y).text(m),E.filter(efe).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",t===Lk?"start":t===O2?"end":"middle"),E.each(function(){this.__axis=k})}return p.scale=function(f){return arguments.length?(e=f,p):e},p.ticks=function(){return r=Array.from(arguments),p},p.tickArguments=function(f){return arguments.length?(r=f==null?[]:Array.from(f),p):r.slice()},p.tickValues=function(f){return arguments.length?(n=f==null?null:Array.from(f),p):n&&n.slice()},p.tickFormat=function(f){return arguments.length?(i=f,p):i},p.tickSize=function(f){return arguments.length?(a=s=+f,p):a},p.tickSizeInner=function(f){return arguments.length?(a=+f,p):a},p.tickSizeOuter=function(f){return arguments.length?(s=+f,p):s},p.tickPadding=function(f){return arguments.length?(o=+f,p):o},p.offset=function(f){return arguments.length?(l=+f,p):l},p}function tfe(t){return ZH(ab,t)}function rfe(t){return ZH(Z7,t)}var nfe={value:()=>{}};function JH(){for(var t=0,e=arguments.length,r={},n;t<e;++t){if(!(n=arguments[t]+"")||n in r||/[\s.]/.test(n))throw new Error("illegal type: "+n);r[n]=[]}return new sb(r)}function sb(t){this._=t}function ife(t,e){return t.trim().split(/^|\s+/).map(function(r){var n="",i=r.indexOf(".");if(i>=0&&(n=r.slice(i+1),r=r.slice(0,i)),r&&!e.hasOwnProperty(r))throw new Error("unknown type: "+r);return{type:r,name:n}})}sb.prototype=JH.prototype={constructor:sb,on:function(t,e){var r=this._,n=ife(t+"",r),i,a=-1,s=n.length;if(arguments.length<2){for(;++a<s;)if((i=(t=n[a]).type)&&(i=afe(r[i],t.name)))return i;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++a<s;)if(i=(t=n[a]).type)r[i]=MM(r[i],t.name,e);else if(e==null)for(i in r)r[i]=MM(r[i],t.name,null);return this},copy:function(){var t={},e=this._;for(var r in e)t[r]=e[r].slice();return new sb(t)},call:function(t,e){if((i=arguments.length-2)>0)for(var r=new Array(i),n=0,i,a;n<i;++n)r[n]=arguments[n+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(a=this._[t],n=0,i=a.length;n<i;++n)a[n].value.apply(e,r)},apply:function(t,e,r){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var n=this._[t],i=0,a=n.length;i<a;++i)n[i].value.apply(e,r)}};function afe(t,e){for(var r=0,n=t.length,i;r<n;++r)if((i=t[r]).name===e)return i.value}function MM(t,e,r){for(var n=0,i=t.length;n<i;++n)if(t[n].name===e){t[n]=nfe,t=t.slice(0,n).concat(t.slice(n+1));break}return r!=null&&t.push({name:e,value:r}),t}var J7="http://www.w3.org/1999/xhtml";const IM={svg:"http://www.w3.org/2000/svg",xhtml:J7,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function rw(t){var e=t+="",r=e.indexOf(":");return r>=0&&(e=t.slice(0,r))!=="xmlns"&&(t=t.slice(r+1)),IM.hasOwnProperty(e)?{space:IM[e],local:t}:t}function sfe(t){return function(){var e=this.ownerDocument,r=this.namespaceURI;return r===J7&&e.documentElement.namespaceURI===J7?e.createElement(t):e.createElementNS(r,t)}}function ofe(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function eW(t){var e=rw(t);return(e.local?ofe:sfe)(e)}function lfe(){}function KA(t){return t==null?lfe:function(){return this.querySelector(t)}}function cfe(t){typeof t!="function"&&(t=KA(t));for(var e=this._groups,r=e.length,n=new Array(r),i=0;i<r;++i)for(var a=e[i],s=a.length,o=n[i]=new Array(s),l,u,h=0;h<s;++h)(l=a[h])&&(u=t.call(l,l.__data__,h,a))&&("__data__"in l&&(u.__data__=l.__data__),o[h]=u);return new Is(n,this._parents)}function ufe(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function hfe(){return[]}function tW(t){return t==null?hfe:function(){return this.querySelectorAll(t)}}function dfe(t){return function(){return ufe(t.apply(this,arguments))}}function ffe(t){typeof t=="function"?t=dfe(t):t=tW(t);for(var e=this._groups,r=e.length,n=[],i=[],a=0;a<r;++a)for(var s=e[a],o=s.length,l,u=0;u<o;++u)(l=s[u])&&(n.push(t.call(l,l.__data__,u,s)),i.push(l));return new Is(n,i)}function rW(t){return function(){return this.matches(t)}}function nW(t){return function(e){return e.matches(t)}}var pfe=Array.prototype.find;function gfe(t){return function(){return pfe.call(this.children,t)}}function mfe(){return this.firstElementChild}function vfe(t){return this.select(t==null?mfe:gfe(typeof t=="function"?t:nW(t)))}var yfe=Array.prototype.filter;function xfe(){return Array.from(this.children)}function bfe(t){return function(){return yfe.call(this.children,t)}}function wfe(t){return this.selectAll(t==null?xfe:bfe(typeof t=="function"?t:nW(t)))}function kfe(t){typeof t!="function"&&(t=rW(t));for(var e=this._groups,r=e.length,n=new Array(r),i=0;i<r;++i)for(var a=e[i],s=a.length,o=n[i]=[],l,u=0;u<s;++u)(l=a[u])&&t.call(l,l.__data__,u,a)&&o.push(l);return new Is(n,this._parents)}function iW(t){return new Array(t.length)}function Tfe(){return new Is(this._enter||this._groups.map(iW),this._parents)}function _4(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}_4.prototype={constructor:_4,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function Efe(t){return function(){return t}}function Sfe(t,e,r,n,i,a){for(var s=0,o,l=e.length,u=a.length;s<u;++s)(o=e[s])?(o.__data__=a[s],n[s]=o):r[s]=new _4(t,a[s]);for(;s<l;++s)(o=e[s])&&(i[s]=o)}function Cfe(t,e,r,n,i,a,s){var o,l,u=new Map,h=e.length,d=a.length,p=new Array(h),f;for(o=0;o<h;++o)(l=e[o])&&(p[o]=f=s.call(l,l.__data__,o,e)+"",u.has(f)?i[o]=l:u.set(f,l));for(o=0;o<d;++o)f=s.call(t,a[o],o,a)+"",(l=u.get(f))?(n[o]=l,l.__data__=a[o],u.delete(f)):r[o]=new _4(t,a[o]);for(o=0;o<h;++o)(l=e[o])&&u.get(p[o])===l&&(i[o]=l)}function Afe(t){return t.__data__}function _fe(t,e){if(!arguments.length)return Array.from(this,Afe);var r=e?Cfe:Sfe,n=this._parents,i=this._groups;typeof t!="function"&&(t=Efe(t));for(var a=i.length,s=new Array(a),o=new Array(a),l=new Array(a),u=0;u<a;++u){var h=n[u],d=i[u],p=d.length,f=Lfe(t.call(h,h&&h.__data__,u,n)),g=f.length,m=o[u]=new Array(g),y=s[u]=new Array(g),v=l[u]=new Array(p);r(h,d,m,y,v,f,e);for(var x=0,w=0,k,E;x<g;++x)if(k=m[x]){for(x>=w&&(w=x+1);!(E=y[w])&&++w<g;);k._next=E||null}}return s=new Is(s,n),s._enter=o,s._exit=l,s}function Lfe(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Nfe(){return new Is(this._exit||this._groups.map(iW),this._parents)}function Rfe(t,e,r){var n=this.enter(),i=this,a=this.exit();return typeof t=="function"?(n=t(n),n&&(n=n.selection())):n=n.append(t+""),e!=null&&(i=e(i),i&&(i=i.selection())),r==null?a.remove():r(a),n&&i?n.merge(i).order():i}function Mfe(t){for(var e=t.selection?t.selection():t,r=this._groups,n=e._groups,i=r.length,a=n.length,s=Math.min(i,a),o=new Array(i),l=0;l<s;++l)for(var u=r[l],h=n[l],d=u.length,p=o[l]=new Array(d),f,g=0;g<d;++g)(f=u[g]||h[g])&&(p[g]=f);for(;l<i;++l)o[l]=r[l];return new Is(o,this._parents)}function Ife(){for(var t=this._groups,e=-1,r=t.length;++e<r;)for(var n=t[e],i=n.length-1,a=n[i],s;--i>=0;)(s=n[i])&&(a&&s.compareDocumentPosition(a)^4&&a.parentNode.insertBefore(s,a),a=s);return this}function Dfe(t){t||(t=Ofe);function e(d,p){return d&&p?t(d.__data__,p.__data__):!d-!p}for(var r=this._groups,n=r.length,i=new Array(n),a=0;a<n;++a){for(var s=r[a],o=s.length,l=i[a]=new Array(o),u,h=0;h<o;++h)(u=s[h])&&(l[h]=u);l.sort(e)}return new Is(i,this._parents).order()}function Ofe(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function Pfe(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function Ffe(){return Array.from(this)}function Bfe(){for(var t=this._groups,e=0,r=t.length;e<r;++e)for(var n=t[e],i=0,a=n.length;i<a;++i){var s=n[i];if(s)return s}return null}function $fe(){let t=0;for(const e of this)++t;return t}function zfe(){return!this.node()}function Ufe(t){for(var e=this._groups,r=0,n=e.length;r<n;++r)for(var i=e[r],a=0,s=i.length,o;a<s;++a)(o=i[a])&&t.call(o,o.__data__,a,i);return this}function Vfe(t){return function(){this.removeAttribute(t)}}function Gfe(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Hfe(t,e){return function(){this.setAttribute(t,e)}}function Wfe(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function Yfe(t,e){return function(){var r=e.apply(this,arguments);r==null?this.removeAttribute(t):this.setAttribute(t,r)}}function qfe(t,e){return function(){var r=e.apply(this,arguments);r==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,r)}}function jfe(t,e){var r=rw(t);if(arguments.length<2){var n=this.node();return r.local?n.getAttributeNS(r.space,r.local):n.getAttribute(r)}return this.each((e==null?r.local?Gfe:Vfe:typeof e=="function"?r.local?qfe:Yfe:r.local?Wfe:Hfe)(r,e))}function aW(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function Xfe(t){return function(){this.style.removeProperty(t)}}function Kfe(t,e,r){return function(){this.style.setProperty(t,e,r)}}function Qfe(t,e,r){return function(){var n=e.apply(this,arguments);n==null?this.style.removeProperty(t):this.style.setProperty(t,n,r)}}function Zfe(t,e,r){return arguments.length>1?this.each((e==null?Xfe:typeof e=="function"?Qfe:Kfe)(t,e,r??"")):Pp(this.node(),t)}function Pp(t,e){return t.style.getPropertyValue(e)||aW(t).getComputedStyle(t,null).getPropertyValue(e)}function Jfe(t){return function(){delete this[t]}}function e0e(t,e){return function(){this[t]=e}}function t0e(t,e){return function(){var r=e.apply(this,arguments);r==null?delete this[t]:this[t]=r}}function r0e(t,e){return arguments.length>1?this.each((e==null?Jfe:typeof e=="function"?t0e:e0e)(t,e)):this.node()[t]}function sW(t){return t.trim().split(/^|\s+/)}function QA(t){return t.classList||new oW(t)}function oW(t){this._node=t,this._names=sW(t.getAttribute("class")||"")}oW.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function lW(t,e){for(var r=QA(t),n=-1,i=e.length;++n<i;)r.add(e[n])}function cW(t,e){for(var r=QA(t),n=-1,i=e.length;++n<i;)r.remove(e[n])}function n0e(t){return function(){lW(this,t)}}function i0e(t){return function(){cW(this,t)}}function a0e(t,e){return function(){(e.apply(this,arguments)?lW:cW)(this,t)}}function s0e(t,e){var r=sW(t+"");if(arguments.length<2){for(var n=QA(this.node()),i=-1,a=r.length;++i<a;)if(!n.contains(r[i]))return!1;return!0}return this.each((typeof e=="function"?a0e:e?n0e:i0e)(r,e))}function o0e(){this.textContent=""}function l0e(t){return function(){this.textContent=t}}function c0e(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function u0e(t){return arguments.length?this.each(t==null?o0e:(typeof t=="function"?c0e:l0e)(t)):this.node().textContent}function h0e(){this.innerHTML=""}function d0e(t){return function(){this.innerHTML=t}}function f0e(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function p0e(t){return arguments.length?this.each(t==null?h0e:(typeof t=="function"?f0e:d0e)(t)):this.node().innerHTML}function g0e(){this.nextSibling&&this.parentNode.appendChild(this)}function m0e(){return this.each(g0e)}function v0e(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function y0e(){return this.each(v0e)}function x0e(t){var e=typeof t=="function"?t:eW(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function b0e(){return null}function w0e(t,e){var r=typeof t=="function"?t:eW(t),n=e==null?b0e:typeof e=="function"?e:KA(e);return this.select(function(){return this.insertBefore(r.apply(this,arguments),n.apply(this,arguments)||null)})}function k0e(){var t=this.parentNode;t&&t.removeChild(this)}function T0e(){return this.each(k0e)}function E0e(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function S0e(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function C0e(t){return this.select(t?S0e:E0e)}function A0e(t){return arguments.length?this.property("__data__",t):this.node().__data__}function _0e(t){return function(e){t.call(this,e,this.__data__)}}function L0e(t){return t.trim().split(/^|\s+/).map(function(e){var r="",n=e.indexOf(".");return n>=0&&(r=e.slice(n+1),e=e.slice(0,n)),{type:e,name:r}})}function N0e(t){return function(){var e=this.__on;if(e){for(var r=0,n=-1,i=e.length,a;r<i;++r)a=e[r],(!t.type||a.type===t.type)&&a.name===t.name?this.removeEventListener(a.type,a.listener,a.options):e[++n]=a;++n?e.length=n:delete this.__on}}}function R0e(t,e,r){return function(){var n=this.__on,i,a=_0e(e);if(n){for(var s=0,o=n.length;s<o;++s)if((i=n[s]).type===t.type&&i.name===t.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=a,i.options=r),i.value=e;return}}this.addEventListener(t.type,a,r),i={type:t.type,name:t.name,value:e,listener:a,options:r},n?n.push(i):this.__on=[i]}}function M0e(t,e,r){var n=L0e(t+""),i,a=n.length,s;if(arguments.length<2){var o=this.node().__on;if(o){for(var l=0,u=o.length,h;l<u;++l)for(i=0,h=o[l];i<a;++i)if((s=n[i]).type===h.type&&s.name===h.name)return h.value}return}for(o=e?R0e:N0e,i=0;i<a;++i)this.each(o(n[i],e,r));return this}function uW(t,e,r){var n=aW(t),i=n.CustomEvent;typeof i=="function"?i=new i(e,r):(i=n.document.createEvent("Event"),r?(i.initEvent(e,r.bubbles,r.cancelable),i.detail=r.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function I0e(t,e){return function(){return uW(this,t,e)}}function D0e(t,e){return function(){return uW(this,t,e.apply(this,arguments))}}function O0e(t,e){return this.each((typeof e=="function"?D0e:I0e)(t,e))}function*P0e(){for(var t=this._groups,e=0,r=t.length;e<r;++e)for(var n=t[e],i=0,a=n.length,s;i<a;++i)(s=n[i])&&(yield s)}var hW=[null];function Is(t,e){this._groups=t,this._parents=e}function my(){return new Is([[document.documentElement]],hW)}function F0e(){return this}Is.prototype=my.prototype={constructor:Is,select:cfe,selectAll:ffe,selectChild:vfe,selectChildren:wfe,filter:kfe,data:_fe,enter:Tfe,exit:Nfe,join:Rfe,merge:Mfe,selection:F0e,order:Ife,sort:Dfe,call:Pfe,nodes:Ffe,node:Bfe,size:$fe,empty:zfe,each:Ufe,attr:jfe,style:Zfe,property:r0e,classed:s0e,text:u0e,html:p0e,raise:m0e,lower:y0e,append:x0e,insert:w0e,remove:T0e,clone:C0e,datum:A0e,on:M0e,dispatch:O0e,[Symbol.iterator]:P0e};function Ke(t){return typeof t=="string"?new Is([[document.querySelector(t)]],[document.documentElement]):new Is([[t]],hW)}function vy(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function nw(t,e){var r=Object.create(t.prototype);for(var n in e)r[n]=e[n];return r}function lf(){}var hv=.7,L4=1/hv,k0="\\s*([+-]?\\d+)\\s*",dv="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",El="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",B0e=/^#([0-9a-f]{3,8})$/,$0e=new RegExp(`^rgb\\(${k0},${k0},${k0}\\)$`),z0e=new RegExp(`^rgb\\(${El},${El},${El}\\)$`),U0e=new RegExp(`^rgba\\(${k0},${k0},${k0},${dv}\\)$`),V0e=new RegExp(`^rgba\\(${El},${El},${El},${dv}\\)$`),G0e=new RegExp(`^hsl\\(${dv},${El},${El}\\)$`),H0e=new RegExp(`^hsla\\(${dv},${El},${El},${dv}\\)$`),DM={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};vy(lf,Ad,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:OM,formatHex:OM,formatHex8:W0e,formatHsl:Y0e,formatRgb:PM,toString:PM});function OM(){return this.rgb().formatHex()}function W0e(){return this.rgb().formatHex8()}function Y0e(){return fW(this).formatHsl()}function PM(){return this.rgb().formatRgb()}function Ad(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=B0e.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?FM(e):r===3?new pa(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?P2(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?P2(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=$0e.exec(t))?new pa(e[1],e[2],e[3],1):(e=z0e.exec(t))?new pa(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=U0e.exec(t))?P2(e[1],e[2],e[3],e[4]):(e=V0e.exec(t))?P2(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=G0e.exec(t))?zM(e[1],e[2]/100,e[3]/100,1):(e=H0e.exec(t))?zM(e[1],e[2]/100,e[3]/100,e[4]):DM.hasOwnProperty(t)?FM(DM[t]):t==="transparent"?new pa(NaN,NaN,NaN,0):null}function FM(t){return new pa(t>>16&255,t>>8&255,t&255,1)}function P2(t,e,r,n){return n<=0&&(t=e=r=NaN),new pa(t,e,r,n)}function dW(t){return t instanceof lf||(t=Ad(t)),t?(t=t.rgb(),new pa(t.r,t.g,t.b,t.opacity)):new pa}function eS(t,e,r,n){return arguments.length===1?dW(t):new pa(t,e,r,n??1)}function pa(t,e,r,n){this.r=+t,this.g=+e,this.b=+r,this.opacity=+n}vy(pa,eS,nw(lf,{brighter(t){return t=t==null?L4:Math.pow(L4,t),new pa(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?hv:Math.pow(hv,t),new pa(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new pa(gd(this.r),gd(this.g),gd(this.b),N4(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:BM,formatHex:BM,formatHex8:q0e,formatRgb:$M,toString:$M}));function BM(){return`#${ad(this.r)}${ad(this.g)}${ad(this.b)}`}function q0e(){return`#${ad(this.r)}${ad(this.g)}${ad(this.b)}${ad((isNaN(this.opacity)?1:this.opacity)*255)}`}function $M(){const t=N4(this.opacity);return`${t===1?"rgb(":"rgba("}${gd(this.r)}, ${gd(this.g)}, ${gd(this.b)}${t===1?")":`, ${t})`}`}function N4(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function gd(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function ad(t){return t=gd(t),(t<16?"0":"")+t.toString(16)}function zM(t,e,r,n){return n<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new Oo(t,e,r,n)}function fW(t){if(t instanceof Oo)return new Oo(t.h,t.s,t.l,t.opacity);if(t instanceof lf||(t=Ad(t)),!t)return new Oo;if(t instanceof Oo)return t;t=t.rgb();var e=t.r/255,r=t.g/255,n=t.b/255,i=Math.min(e,r,n),a=Math.max(e,r,n),s=NaN,o=a-i,l=(a+i)/2;return o?(e===a?s=(r-n)/o+(r<n)*6:r===a?s=(n-e)/o+2:s=(e-r)/o+4,o/=l<.5?a+i:2-a-i,s*=60):o=l>0&&l<1?0:s,new Oo(s,o,l,t.opacity)}function j0e(t,e,r,n){return arguments.length===1?fW(t):new Oo(t,e,r,n??1)}function Oo(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}vy(Oo,j0e,nw(lf,{brighter(t){return t=t==null?L4:Math.pow(L4,t),new Oo(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?hv:Math.pow(hv,t),new Oo(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*e,i=2*r-n;return new pa(Nk(t>=240?t-240:t+120,i,n),Nk(t,i,n),Nk(t<120?t+240:t-120,i,n),this.opacity)},clamp(){return new Oo(UM(this.h),F2(this.s),F2(this.l),N4(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=N4(this.opacity);return`${t===1?"hsl(":"hsla("}${UM(this.h)}, ${F2(this.s)*100}%, ${F2(this.l)*100}%${t===1?")":`, ${t})`}`}}));function UM(t){return t=(t||0)%360,t<0?t+360:t}function F2(t){return Math.max(0,Math.min(1,t||0))}function Nk(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}const X0e=Math.PI/180,K0e=180/Math.PI,R4=18,pW=.96422,gW=1,mW=.82521,vW=4/29,T0=6/29,yW=3*T0*T0,Q0e=T0*T0*T0;function xW(t){if(t instanceof Sl)return new Sl(t.l,t.a,t.b,t.opacity);if(t instanceof dc)return bW(t);t instanceof pa||(t=dW(t));var e=Dk(t.r),r=Dk(t.g),n=Dk(t.b),i=Rk((.2225045*e+.7168786*r+.0606169*n)/gW),a,s;return e===r&&r===n?a=s=i:(a=Rk((.4360747*e+.3850649*r+.1430804*n)/pW),s=Rk((.0139322*e+.0971045*r+.7141733*n)/mW)),new Sl(116*i-16,500*(a-i),200*(i-s),t.opacity)}function Z0e(t,e,r,n){return arguments.length===1?xW(t):new Sl(t,e,r,n??1)}function Sl(t,e,r,n){this.l=+t,this.a=+e,this.b=+r,this.opacity=+n}vy(Sl,Z0e,nw(lf,{brighter(t){return new Sl(this.l+R4*(t??1),this.a,this.b,this.opacity)},darker(t){return new Sl(this.l-R4*(t??1),this.a,this.b,this.opacity)},rgb(){var t=(this.l+16)/116,e=isNaN(this.a)?t:t+this.a/500,r=isNaN(this.b)?t:t-this.b/200;return e=pW*Mk(e),t=gW*Mk(t),r=mW*Mk(r),new pa(Ik(3.1338561*e-1.6168667*t-.4906146*r),Ik(-.9787684*e+1.9161415*t+.033454*r),Ik(.0719453*e-.2289914*t+1.4052427*r),this.opacity)}}));function Rk(t){return t>Q0e?Math.pow(t,1/3):t/yW+vW}function Mk(t){return t>T0?t*t*t:yW*(t-vW)}function Ik(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function Dk(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function J0e(t){if(t instanceof dc)return new dc(t.h,t.c,t.l,t.opacity);if(t instanceof Sl||(t=xW(t)),t.a===0&&t.b===0)return new dc(NaN,0<t.l&&t.l<100?0:NaN,t.l,t.opacity);var e=Math.atan2(t.b,t.a)*K0e;return new dc(e<0?e+360:e,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function tS(t,e,r,n){return arguments.length===1?J0e(t):new dc(t,e,r,n??1)}function dc(t,e,r,n){this.h=+t,this.c=+e,this.l=+r,this.opacity=+n}function bW(t){if(isNaN(t.h))return new Sl(t.l,0,0,t.opacity);var e=t.h*X0e;return new Sl(t.l,Math.cos(e)*t.c,Math.sin(e)*t.c,t.opacity)}vy(dc,tS,nw(lf,{brighter(t){return new dc(this.h,this.c,this.l+R4*(t??1),this.opacity)},darker(t){return new dc(this.h,this.c,this.l-R4*(t??1),this.opacity)},rgb(){return bW(this).rgb()}}));const iw=t=>()=>t;function wW(t,e){return function(r){return t+r*e}}function epe(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(n){return Math.pow(t+n*e,r)}}function tpe(t,e){var r=e-t;return r?wW(t,r>180||r<-180?r-360*Math.round(r/360):r):iw(isNaN(t)?e:t)}function rpe(t){return(t=+t)==1?Lm:function(e,r){return r-e?epe(e,r,t):iw(isNaN(e)?r:e)}}function Lm(t,e){var r=e-t;return r?wW(t,r):iw(isNaN(t)?e:t)}const M4=function t(e){var r=rpe(e);function n(i,a){var s=r((i=eS(i)).r,(a=eS(a)).r),o=r(i.g,a.g),l=r(i.b,a.b),u=Lm(i.opacity,a.opacity);return function(h){return i.r=s(h),i.g=o(h),i.b=l(h),i.opacity=u(h),i+""}}return n.gamma=t,n}(1);function npe(t,e){e||(e=[]);var r=t?Math.min(e.length,t.length):0,n=e.slice(),i;return function(a){for(i=0;i<r;++i)n[i]=t[i]*(1-a)+e[i]*a;return n}}function ipe(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function ape(t,e){var r=e?e.length:0,n=t?Math.min(r,t.length):0,i=new Array(n),a=new Array(r),s;for(s=0;s<n;++s)i[s]=ZA(t[s],e[s]);for(;s<r;++s)a[s]=e[s];return function(o){for(s=0;s<n;++s)a[s]=i[s](o);return a}}function spe(t,e){var r=new Date;return t=+t,e=+e,function(n){return r.setTime(t*(1-n)+e*n),r}}function Mo(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}function ope(t,e){var r={},n={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?r[i]=ZA(t[i],e[i]):n[i]=e[i];return function(a){for(i in r)n[i]=r[i](a);return n}}var rS=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Ok=new RegExp(rS.source,"g");function lpe(t){return function(){return t}}function cpe(t){return function(e){return t(e)+""}}function kW(t,e){var r=rS.lastIndex=Ok.lastIndex=0,n,i,a,s=-1,o=[],l=[];for(t=t+"",e=e+"";(n=rS.exec(t))&&(i=Ok.exec(e));)(a=i.index)>r&&(a=e.slice(r,a),o[s]?o[s]+=a:o[++s]=a),(n=n[0])===(i=i[0])?o[s]?o[s]+=i:o[++s]=i:(o[++s]=null,l.push({i:s,x:Mo(n,i)})),r=Ok.lastIndex;return r<e.length&&(a=e.slice(r),o[s]?o[s]+=a:o[++s]=a),o.length<2?l[0]?cpe(l[0].x):lpe(e):(e=l.length,function(u){for(var h=0,d;h<e;++h)o[(d=l[h]).i]=d.x(u);return o.join("")})}function ZA(t,e){var r=typeof e,n;return e==null||r==="boolean"?iw(e):(r==="number"?Mo:r==="string"?(n=Ad(e))?(e=n,M4):kW:e instanceof Ad?M4:e instanceof Date?spe:ipe(e)?npe:Array.isArray(e)?ape:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?ope:Mo)(t,e)}function upe(t,e){return t=+t,e=+e,function(r){return Math.round(t*(1-r)+e*r)}}var VM=180/Math.PI,nS={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function TW(t,e,r,n,i,a){var s,o,l;return(s=Math.sqrt(t*t+e*e))&&(t/=s,e/=s),(l=t*r+e*n)&&(r-=t*l,n-=e*l),(o=Math.sqrt(r*r+n*n))&&(r/=o,n/=o,l/=o),t*n<e*r&&(t=-t,e=-e,l=-l,s=-s),{translateX:i,translateY:a,rotate:Math.atan2(e,t)*VM,skewX:Math.atan(l)*VM,scaleX:s,scaleY:o}}var B2;function hpe(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?nS:TW(e.a,e.b,e.c,e.d,e.e,e.f)}function dpe(t){return t==null||(B2||(B2=document.createElementNS("http://www.w3.org/2000/svg","g")),B2.setAttribute("transform",t),!(t=B2.transform.baseVal.consolidate()))?nS:(t=t.matrix,TW(t.a,t.b,t.c,t.d,t.e,t.f))}function EW(t,e,r,n){function i(u){return u.length?u.pop()+" ":""}function a(u,h,d,p,f,g){if(u!==d||h!==p){var m=f.push("translate(",null,e,null,r);g.push({i:m-4,x:Mo(u,d)},{i:m-2,x:Mo(h,p)})}else(d||p)&&f.push("translate("+d+e+p+r)}function s(u,h,d,p){u!==h?(u-h>180?h+=360:h-u>180&&(u+=360),p.push({i:d.push(i(d)+"rotate(",null,n)-2,x:Mo(u,h)})):h&&d.push(i(d)+"rotate("+h+n)}function o(u,h,d,p){u!==h?p.push({i:d.push(i(d)+"skewX(",null,n)-2,x:Mo(u,h)}):h&&d.push(i(d)+"skewX("+h+n)}function l(u,h,d,p,f,g){if(u!==d||h!==p){var m=f.push(i(f)+"scale(",null,",",null,")");g.push({i:m-4,x:Mo(u,d)},{i:m-2,x:Mo(h,p)})}else(d!==1||p!==1)&&f.push(i(f)+"scale("+d+","+p+")")}return function(u,h){var d=[],p=[];return u=t(u),h=t(h),a(u.translateX,u.translateY,h.translateX,h.translateY,d,p),s(u.rotate,h.rotate,d,p),o(u.skewX,h.skewX,d,p),l(u.scaleX,u.scaleY,h.scaleX,h.scaleY,d,p),u=h=null,function(f){for(var g=-1,m=p.length,y;++g<m;)d[(y=p[g]).i]=y.x(f);return d.join("")}}}var fpe=EW(hpe,"px, ","px)","deg)"),ppe=EW(dpe,", ",")",")");function gpe(t){return function(e,r){var n=t((e=tS(e)).h,(r=tS(r)).h),i=Lm(e.c,r.c),a=Lm(e.l,r.l),s=Lm(e.opacity,r.opacity);return function(o){return e.h=n(o),e.c=i(o),e.l=a(o),e.opacity=s(o),e+""}}}const mpe=gpe(tpe);var Fp=0,X1=0,v1=0,SW=1e3,I4,K1,D4=0,_d=0,aw=0,fv=typeof performance=="object"&&performance.now?performance:Date,CW=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function JA(){return _d||(CW(vpe),_d=fv.now()+aw)}function vpe(){_d=0}function O4(){this._call=this._time=this._next=null}O4.prototype=AW.prototype={constructor:O4,restart:function(t,e,r){if(typeof t!="function")throw new TypeError("callback is not a function");r=(r==null?JA():+r)+(e==null?0:+e),!this._next&&K1!==this&&(K1?K1._next=this:I4=this,K1=this),this._call=t,this._time=r,iS()},stop:function(){this._call&&(this._call=null,this._time=1/0,iS())}};function AW(t,e,r){var n=new O4;return n.restart(t,e,r),n}function ype(){JA(),++Fp;for(var t=I4,e;t;)(e=_d-t._time)>=0&&t._call.call(void 0,e),t=t._next;--Fp}function GM(){_d=(D4=fv.now())+aw,Fp=X1=0;try{ype()}finally{Fp=0,bpe(),_d=0}}function xpe(){var t=fv.now(),e=t-D4;e>SW&&(aw-=e,D4=t)}function bpe(){for(var t,e=I4,r,n=1/0;e;)e._call?(n>e._time&&(n=e._time),t=e,e=e._next):(r=e._next,e._next=null,e=t?t._next=r:I4=r);K1=t,iS(n)}function iS(t){if(!Fp){X1&&(X1=clearTimeout(X1));var e=t-_d;e>24?(t<1/0&&(X1=setTimeout(GM,t-fv.now()-aw)),v1&&(v1=clearInterval(v1))):(v1||(D4=fv.now(),v1=setInterval(xpe,SW)),Fp=1,CW(GM))}}function HM(t,e,r){var n=new O4;return e=e==null?0:+e,n.restart(i=>{n.stop(),t(i+e)},e,r),n}var wpe=JH("start","end","cancel","interrupt"),kpe=[],_W=0,WM=1,aS=2,ob=3,YM=4,sS=5,lb=6;function sw(t,e,r,n,i,a){var s=t.__transition;if(!s)t.__transition={};else if(r in s)return;Tpe(t,r,{name:e,index:n,group:i,on:wpe,tween:kpe,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:_W})}function e_(t,e){var r=Jo(t,e);if(r.state>_W)throw new Error("too late; already scheduled");return r}function Dl(t,e){var r=Jo(t,e);if(r.state>ob)throw new Error("too late; already running");return r}function Jo(t,e){var r=t.__transition;if(!r||!(r=r[e]))throw new Error("transition not found");return r}function Tpe(t,e,r){var n=t.__transition,i;n[e]=r,r.timer=AW(a,0,r.time);function a(u){r.state=WM,r.timer.restart(s,r.delay,r.time),r.delay<=u&&s(u-r.delay)}function s(u){var h,d,p,f;if(r.state!==WM)return l();for(h in n)if(f=n[h],f.name===r.name){if(f.state===ob)return HM(s);f.state===YM?(f.state=lb,f.timer.stop(),f.on.call("interrupt",t,t.__data__,f.index,f.group),delete n[h]):+h<e&&(f.state=lb,f.timer.stop(),f.on.call("cancel",t,t.__data__,f.index,f.group),delete n[h])}if(HM(function(){r.state===ob&&(r.state=YM,r.timer.restart(o,r.delay,r.time),o(u))}),r.state=aS,r.on.call("start",t,t.__data__,r.index,r.group),r.state===aS){for(r.state=ob,i=new Array(p=r.tween.length),h=0,d=-1;h<p;++h)(f=r.tween[h].value.call(t,t.__data__,r.index,r.group))&&(i[++d]=f);i.length=d+1}}function o(u){for(var h=u<r.duration?r.ease.call(null,u/r.duration):(r.timer.restart(l),r.state=sS,1),d=-1,p=i.length;++d<p;)i[d].call(t,h);r.state===sS&&(r.on.call("end",t,t.__data__,r.index,r.group),l())}function l(){r.state=lb,r.timer.stop(),delete n[e];for(var u in n)return;delete t.__transition}}function Epe(t,e){var r=t.__transition,n,i,a=!0,s;if(r){e=e==null?null:e+"";for(s in r){if((n=r[s]).name!==e){a=!1;continue}i=n.state>aS&&n.state<sS,n.state=lb,n.timer.stop(),n.on.call(i?"interrupt":"cancel",t,t.__data__,n.index,n.group),delete r[s]}a&&delete t.__transition}}function Spe(t){return this.each(function(){Epe(this,t)})}function Cpe(t,e){var r,n;return function(){var i=Dl(this,t),a=i.tween;if(a!==r){n=r=a;for(var s=0,o=n.length;s<o;++s)if(n[s].name===e){n=n.slice(),n.splice(s,1);break}}i.tween=n}}function Ape(t,e,r){var n,i;if(typeof r!="function")throw new Error;return function(){var a=Dl(this,t),s=a.tween;if(s!==n){i=(n=s).slice();for(var o={name:e,value:r},l=0,u=i.length;l<u;++l)if(i[l].name===e){i[l]=o;break}l===u&&i.push(o)}a.tween=i}}function _pe(t,e){var r=this._id;if(t+="",arguments.length<2){for(var n=Jo(this.node(),r).tween,i=0,a=n.length,s;i<a;++i)if((s=n[i]).name===t)return s.value;return null}return this.each((e==null?Cpe:Ape)(r,t,e))}function t_(t,e,r){var n=t._id;return t.each(function(){var i=Dl(this,n);(i.value||(i.value={}))[e]=r.apply(this,arguments)}),function(i){return Jo(i,n).value[e]}}function LW(t,e){var r;return(typeof e=="number"?Mo:e instanceof Ad?M4:(r=Ad(e))?(e=r,M4):kW)(t,e)}function Lpe(t){return function(){this.removeAttribute(t)}}function Npe(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Rpe(t,e,r){var n,i=r+"",a;return function(){var s=this.getAttribute(t);return s===i?null:s===n?a:a=e(n=s,r)}}function Mpe(t,e,r){var n,i=r+"",a;return function(){var s=this.getAttributeNS(t.space,t.local);return s===i?null:s===n?a:a=e(n=s,r)}}function Ipe(t,e,r){var n,i,a;return function(){var s,o=r(this),l;return o==null?void this.removeAttribute(t):(s=this.getAttribute(t),l=o+"",s===l?null:s===n&&l===i?a:(i=l,a=e(n=s,o)))}}function Dpe(t,e,r){var n,i,a;return function(){var s,o=r(this),l;return o==null?void this.removeAttributeNS(t.space,t.local):(s=this.getAttributeNS(t.space,t.local),l=o+"",s===l?null:s===n&&l===i?a:(i=l,a=e(n=s,o)))}}function Ope(t,e){var r=rw(t),n=r==="transform"?ppe:LW;return this.attrTween(t,typeof e=="function"?(r.local?Dpe:Ipe)(r,n,t_(this,"attr."+t,e)):e==null?(r.local?Npe:Lpe)(r):(r.local?Mpe:Rpe)(r,n,e))}function Ppe(t,e){return function(r){this.setAttribute(t,e.call(this,r))}}function Fpe(t,e){return function(r){this.setAttributeNS(t.space,t.local,e.call(this,r))}}function Bpe(t,e){var r,n;function i(){var a=e.apply(this,arguments);return a!==n&&(r=(n=a)&&Fpe(t,a)),r}return i._value=e,i}function $pe(t,e){var r,n;function i(){var a=e.apply(this,arguments);return a!==n&&(r=(n=a)&&Ppe(t,a)),r}return i._value=e,i}function zpe(t,e){var r="attr."+t;if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;var n=rw(t);return this.tween(r,(n.local?Bpe:$pe)(n,e))}function Upe(t,e){return function(){e_(this,t).delay=+e.apply(this,arguments)}}function Vpe(t,e){return e=+e,function(){e_(this,t).delay=e}}function Gpe(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?Upe:Vpe)(e,t)):Jo(this.node(),e).delay}function Hpe(t,e){return function(){Dl(this,t).duration=+e.apply(this,arguments)}}function Wpe(t,e){return e=+e,function(){Dl(this,t).duration=e}}function Ype(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?Hpe:Wpe)(e,t)):Jo(this.node(),e).duration}function qpe(t,e){if(typeof e!="function")throw new Error;return function(){Dl(this,t).ease=e}}function jpe(t){var e=this._id;return arguments.length?this.each(qpe(e,t)):Jo(this.node(),e).ease}function Xpe(t,e){return function(){var r=e.apply(this,arguments);if(typeof r!="function")throw new Error;Dl(this,t).ease=r}}function Kpe(t){if(typeof t!="function")throw new Error;return this.each(Xpe(this._id,t))}function Qpe(t){typeof t!="function"&&(t=rW(t));for(var e=this._groups,r=e.length,n=new Array(r),i=0;i<r;++i)for(var a=e[i],s=a.length,o=n[i]=[],l,u=0;u<s;++u)(l=a[u])&&t.call(l,l.__data__,u,a)&&o.push(l);return new Lc(n,this._parents,this._name,this._id)}function Zpe(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,r=t._groups,n=e.length,i=r.length,a=Math.min(n,i),s=new Array(n),o=0;o<a;++o)for(var l=e[o],u=r[o],h=l.length,d=s[o]=new Array(h),p,f=0;f<h;++f)(p=l[f]||u[f])&&(d[f]=p);for(;o<n;++o)s[o]=e[o];return new Lc(s,this._parents,this._name,this._id)}function Jpe(t){return(t+"").trim().split(/^|\s+/).every(function(e){var r=e.indexOf(".");return r>=0&&(e=e.slice(0,r)),!e||e==="start"})}function ege(t,e,r){var n,i,a=Jpe(e)?e_:Dl;return function(){var s=a(this,t),o=s.on;o!==n&&(i=(n=o).copy()).on(e,r),s.on=i}}function tge(t,e){var r=this._id;return arguments.length<2?Jo(this.node(),r).on.on(t):this.each(ege(r,t,e))}function rge(t){return function(){var e=this.parentNode;for(var r in this.__transition)if(+r!==t)return;e&&e.removeChild(this)}}function nge(){return this.on("end.remove",rge(this._id))}function ige(t){var e=this._name,r=this._id;typeof t!="function"&&(t=KA(t));for(var n=this._groups,i=n.length,a=new Array(i),s=0;s<i;++s)for(var o=n[s],l=o.length,u=a[s]=new Array(l),h,d,p=0;p<l;++p)(h=o[p])&&(d=t.call(h,h.__data__,p,o))&&("__data__"in h&&(d.__data__=h.__data__),u[p]=d,sw(u[p],e,r,p,u,Jo(h,r)));return new Lc(a,this._parents,e,r)}function age(t){var e=this._name,r=this._id;typeof t!="function"&&(t=tW(t));for(var n=this._groups,i=n.length,a=[],s=[],o=0;o<i;++o)for(var l=n[o],u=l.length,h,d=0;d<u;++d)if(h=l[d]){for(var p=t.call(h,h.__data__,d,l),f,g=Jo(h,r),m=0,y=p.length;m<y;++m)(f=p[m])&&sw(f,e,r,m,p,g);a.push(p),s.push(h)}return new Lc(a,s,e,r)}var sge=my.prototype.constructor;function oge(){return new sge(this._groups,this._parents)}function lge(t,e){var r,n,i;return function(){var a=Pp(this,t),s=(this.style.removeProperty(t),Pp(this,t));return a===s?null:a===r&&s===n?i:i=e(r=a,n=s)}}function NW(t){return function(){this.style.removeProperty(t)}}function cge(t,e,r){var n,i=r+"",a;return function(){var s=Pp(this,t);return s===i?null:s===n?a:a=e(n=s,r)}}function uge(t,e,r){var n,i,a;return function(){var s=Pp(this,t),o=r(this),l=o+"";return o==null&&(l=o=(this.style.removeProperty(t),Pp(this,t))),s===l?null:s===n&&l===i?a:(i=l,a=e(n=s,o))}}function hge(t,e){var r,n,i,a="style."+e,s="end."+a,o;return function(){var l=Dl(this,t),u=l.on,h=l.value[a]==null?o||(o=NW(e)):void 0;(u!==r||i!==h)&&(n=(r=u).copy()).on(s,i=h),l.on=n}}function dge(t,e,r){var n=(t+="")=="transform"?fpe:LW;return e==null?this.styleTween(t,lge(t,n)).on("end.style."+t,NW(t)):typeof e=="function"?this.styleTween(t,uge(t,n,t_(this,"style."+t,e))).each(hge(this._id,t)):this.styleTween(t,cge(t,n,e),r).on("end.style."+t,null)}function fge(t,e,r){return function(n){this.style.setProperty(t,e.call(this,n),r)}}function pge(t,e,r){var n,i;function a(){var s=e.apply(this,arguments);return s!==i&&(n=(i=s)&&fge(t,s,r)),n}return a._value=e,a}function gge(t,e,r){var n="style."+(t+="");if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;return this.tween(n,pge(t,e,r??""))}function mge(t){return function(){this.textContent=t}}function vge(t){return function(){var e=t(this);this.textContent=e??""}}function yge(t){return this.tween("text",typeof t=="function"?vge(t_(this,"text",t)):mge(t==null?"":t+""))}function xge(t){return function(e){this.textContent=t.call(this,e)}}function bge(t){var e,r;function n(){var i=t.apply(this,arguments);return i!==r&&(e=(r=i)&&xge(i)),e}return n._value=t,n}function wge(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,bge(t))}function kge(){for(var t=this._name,e=this._id,r=RW(),n=this._groups,i=n.length,a=0;a<i;++a)for(var s=n[a],o=s.length,l,u=0;u<o;++u)if(l=s[u]){var h=Jo(l,e);sw(l,t,r,u,s,{time:h.time+h.delay+h.duration,delay:0,duration:h.duration,ease:h.ease})}return new Lc(n,this._parents,t,r)}function Tge(){var t,e,r=this,n=r._id,i=r.size();return new Promise(function(a,s){var o={value:s},l={value:function(){--i===0&&a()}};r.each(function(){var u=Dl(this,n),h=u.on;h!==t&&(e=(t=h).copy(),e._.cancel.push(o),e._.interrupt.push(o),e._.end.push(l)),u.on=e}),i===0&&a()})}var Ege=0;function Lc(t,e,r,n){this._groups=t,this._parents=e,this._name=r,this._id=n}function RW(){return++Ege}var jl=my.prototype;Lc.prototype={constructor:Lc,select:ige,selectAll:age,selectChild:jl.selectChild,selectChildren:jl.selectChildren,filter:Qpe,merge:Zpe,selection:oge,transition:kge,call:jl.call,nodes:jl.nodes,node:jl.node,size:jl.size,empty:jl.empty,each:jl.each,on:tge,attr:Ope,attrTween:zpe,style:dge,styleTween:gge,text:yge,textTween:wge,remove:nge,tween:_pe,delay:Gpe,duration:Ype,ease:jpe,easeVarying:Kpe,end:Tge,[Symbol.iterator]:jl[Symbol.iterator]};function Sge(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var Cge={time:null,delay:0,duration:250,ease:Sge};function Age(t,e){for(var r;!(r=t.__transition)||!(r=r[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return r}function _ge(t){var e,r;t instanceof Lc?(e=t._id,t=t._name):(e=RW(),(r=Cge).time=JA(),t=t==null?null:t+"");for(var n=this._groups,i=n.length,a=0;a<i;++a)for(var s=n[a],o=s.length,l,u=0;u<o;++u)(l=s[u])&&sw(l,t,e,u,s,r||Age(l,e));return new Lc(n,this._parents,t,e)}my.prototype.interrupt=Spe;my.prototype.transition=_ge;const oS=Math.PI,lS=2*oS,$h=1e-6,Lge=lS-$h;function MW(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=arguments[e]+t[e]}function Nge(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return MW;const r=10**e;return function(n){this._+=n[0];for(let i=1,a=n.length;i<a;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}let Rge=class{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?MW:Nge(e)}moveTo(e,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,r){this._append`L${this._x1=+e},${this._y1=+r}`}quadraticCurveTo(e,r,n,i){this._append`Q${+e},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(e,r,n,i,a,s){this._append`C${+e},${+r},${+n},${+i},${this._x1=+a},${this._y1=+s}`}arcTo(e,r,n,i,a){if(e=+e,r=+r,n=+n,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let s=this._x1,o=this._y1,l=n-e,u=i-r,h=s-e,d=o-r,p=h*h+d*d;if(this._x1===null)this._append`M${this._x1=e},${this._y1=r}`;else if(p>$h)if(!(Math.abs(d*l-u*h)>$h)||!a)this._append`L${this._x1=e},${this._y1=r}`;else{let f=n-s,g=i-o,m=l*l+u*u,y=f*f+g*g,v=Math.sqrt(m),x=Math.sqrt(p),w=a*Math.tan((oS-Math.acos((m+p-y)/(2*v*x)))/2),k=w/x,E=w/v;Math.abs(k-1)>$h&&this._append`L${e+k*h},${r+k*d}`,this._append`A${a},${a},0,0,${+(d*f>h*g)},${this._x1=e+E*l},${this._y1=r+E*u}`}}arc(e,r,n,i,a,s){if(e=+e,r=+r,n=+n,s=!!s,n<0)throw new Error(`negative radius: ${n}`);let o=n*Math.cos(i),l=n*Math.sin(i),u=e+o,h=r+l,d=1^s,p=s?i-a:a-i;this._x1===null?this._append`M${u},${h}`:(Math.abs(this._x1-u)>$h||Math.abs(this._y1-h)>$h)&&this._append`L${u},${h}`,n&&(p<0&&(p=p%lS+lS),p>Lge?this._append`A${n},${n},0,1,${d},${e-o},${r-l}A${n},${n},0,1,${d},${this._x1=u},${this._y1=h}`:p>$h&&this._append`A${n},${n},0,${+(p>=oS)},${d},${this._x1=e+n*Math.cos(a)},${this._y1=r+n*Math.sin(a)}`)}rect(e,r,n,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}};function Mge(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function P4(t,e){if((r=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var r,n=t.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+t.slice(r+1)]}function Bp(t){return t=P4(Math.abs(t)),t?t[1]:NaN}function Ige(t,e){return function(r,n){for(var i=r.length,a=[],s=0,o=t[0],l=0;i>0&&o>0&&(l+o+1>n&&(o=Math.max(1,n-l)),a.push(r.substring(i-=o,i+o)),!((l+=o+1)>n));)o=t[s=(s+1)%t.length];return a.reverse().join(e)}}function Dge(t){return function(e){return e.replace(/[0-9]/g,function(r){return t[+r]})}}var Oge=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function F4(t){if(!(e=Oge.exec(t)))throw new Error("invalid format: "+t);var e;return new r_({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}F4.prototype=r_.prototype;function r_(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}r_.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Pge(t){e:for(var e=t.length,r=1,n=-1,i;r<e;++r)switch(t[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+t[r])break e;n>0&&(n=0);break}return n>0?t.slice(0,n)+t.slice(i+1):t}var IW;function Fge(t,e){var r=P4(t,e);if(!r)return t+"";var n=r[0],i=r[1],a=i-(IW=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=n.length;return a===s?n:a>s?n+new Array(a-s+1).join("0"):a>0?n.slice(0,a)+"."+n.slice(a):"0."+new Array(1-a).join("0")+P4(t,Math.max(0,e+a-1))[0]}function qM(t,e){var r=P4(t,e);if(!r)return t+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const jM={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:Mge,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>qM(t*100,e),r:qM,s:Fge,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function XM(t){return t}var KM=Array.prototype.map,QM=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function Bge(t){var e=t.grouping===void 0||t.thousands===void 0?XM:Ige(KM.call(t.grouping,Number),t.thousands+""),r=t.currency===void 0?"":t.currency[0]+"",n=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?XM:Dge(KM.call(t.numerals,String)),s=t.percent===void 0?"%":t.percent+"",o=t.minus===void 0?"−":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function u(d){d=F4(d);var p=d.fill,f=d.align,g=d.sign,m=d.symbol,y=d.zero,v=d.width,x=d.comma,w=d.precision,k=d.trim,E=d.type;E==="n"?(x=!0,E="g"):jM[E]||(w===void 0&&(w=12),k=!0,E="g"),(y||p==="0"&&f==="=")&&(y=!0,p="0",f="=");var _=m==="$"?r:m==="#"&&/[boxX]/.test(E)?"0"+E.toLowerCase():"",S=m==="$"?n:/[%p]/.test(E)?s:"",R=jM[E],C=/[defgprs%]/.test(E);w=w===void 0?6:/[gprs]/.test(E)?Math.max(1,Math.min(21,w)):Math.max(0,Math.min(20,w));function L(A){var N=_,F=S,T,D,M;if(E==="c")F=R(A)+F,A="";else{A=+A;var O=A<0||1/A<0;if(A=isNaN(A)?l:R(Math.abs(A),w),k&&(A=Pge(A)),O&&+A==0&&g!=="+"&&(O=!1),N=(O?g==="("?g:o:g==="-"||g==="("?"":g)+N,F=(E==="s"?QM[8+IW/3]:"")+F+(O&&g==="("?")":""),C){for(T=-1,D=A.length;++T<D;)if(M=A.charCodeAt(T),48>M||M>57){F=(M===46?i+A.slice(T+1):A.slice(T))+F,A=A.slice(0,T);break}}}x&&!y&&(A=e(A,1/0));var I=N.length+A.length+F.length,P=I<v?new Array(v-I+1).join(p):"";switch(x&&y&&(A=e(P+A,P.length?v-F.length:1/0),P=""),f){case"<":A=N+A+F+P;break;case"=":A=N+P+A+F;break;case"^":A=P.slice(0,I=P.length>>1)+N+A+F+P.slice(I);break;default:A=P+N+A+F;break}return a(A)}return L.toString=function(){return d+""},L}function h(d,p){var f=u((d=F4(d),d.type="f",d)),g=Math.max(-8,Math.min(8,Math.floor(Bp(p)/3)))*3,m=Math.pow(10,-g),y=QM[8+g/3];return function(v){return f(m*v)+y}}return{format:u,formatPrefix:h}}var $2,DW,OW;$ge({thousands:",",grouping:[3],currency:["$",""]});function $ge(t){return $2=Bge(t),DW=$2.format,OW=$2.formatPrefix,$2}function zge(t){return Math.max(0,-Bp(Math.abs(t)))}function Uge(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Bp(e)/3)))*3-Bp(Math.abs(t)))}function Vge(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Bp(e)-Bp(t))+1}function ow(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}const ZM=Symbol("implicit");function lw(){var t=new LM,e=[],r=[],n=ZM;function i(a){let s=t.get(a);if(s===void 0){if(n!==ZM)return n;t.set(a,s=e.push(a)-1)}return r[s%r.length]}return i.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new LM;for(const s of a)t.has(s)||t.set(s,e.push(s)-1);return i},i.range=function(a){return arguments.length?(r=Array.from(a),i):r.slice()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return lw(e,r).unknown(n)},ow.apply(i,arguments),i}function cS(){var t=lw().unknown(void 0),e=t.domain,r=t.range,n=0,i=1,a,s,o=!1,l=0,u=0,h=.5;delete t.unknown;function d(){var p=e().length,f=i<n,g=f?i:n,m=f?n:i;a=(m-g)/Math.max(1,p-l+u*2),o&&(a=Math.floor(a)),g+=(m-g-a*(p-l))*h,s=a*(1-l),o&&(g=Math.round(g),s=Math.round(s));var y=jde(p).map(function(v){return g+a*v});return r(f?y.reverse():y)}return t.domain=function(p){return arguments.length?(e(p),d()):e()},t.range=function(p){return arguments.length?([n,i]=p,n=+n,i=+i,d()):[n,i]},t.rangeRound=function(p){return[n,i]=p,n=+n,i=+i,o=!0,d()},t.bandwidth=function(){return s},t.step=function(){return a},t.round=function(p){return arguments.length?(o=!!p,d()):o},t.padding=function(p){return arguments.length?(l=Math.min(1,u=+p),d()):l},t.paddingInner=function(p){return arguments.length?(l=Math.min(1,p),d()):l},t.paddingOuter=function(p){return arguments.length?(u=+p,d()):u},t.align=function(p){return arguments.length?(h=Math.max(0,Math.min(1,p)),d()):h},t.copy=function(){return cS(e(),[n,i]).round(o).paddingInner(l).paddingOuter(u).align(h)},ow.apply(d(),arguments)}function Gge(t){return function(){return t}}function Hge(t){return+t}var JM=[0,1];function n0(t){return t}function uS(t,e){return(e-=t=+t)?function(r){return(r-t)/e}:Gge(isNaN(e)?NaN:.5)}function Wge(t,e){var r;return t>e&&(r=t,t=e,e=r),function(n){return Math.max(t,Math.min(e,n))}}function Yge(t,e,r){var n=t[0],i=t[1],a=e[0],s=e[1];return i<n?(n=uS(i,n),a=r(s,a)):(n=uS(n,i),a=r(a,s)),function(o){return a(n(o))}}function qge(t,e,r){var n=Math.min(t.length,e.length)-1,i=new Array(n),a=new Array(n),s=-1;for(t[n]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<n;)i[s]=uS(t[s],t[s+1]),a[s]=r(e[s],e[s+1]);return function(o){var l=Bde(t,o,1,n)-1;return a[l](i[l](o))}}function PW(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function jge(){var t=JM,e=JM,r=ZA,n,i,a,s=n0,o,l,u;function h(){var p=Math.min(t.length,e.length);return s!==n0&&(s=Wge(t[0],t[p-1])),o=p>2?qge:Yge,l=u=null,d}function d(p){return p==null||isNaN(p=+p)?a:(l||(l=o(t.map(n),e,r)))(n(s(p)))}return d.invert=function(p){return s(i((u||(u=o(e,t.map(n),Mo)))(p)))},d.domain=function(p){return arguments.length?(t=Array.from(p,Hge),h()):t.slice()},d.range=function(p){return arguments.length?(e=Array.from(p),h()):e.slice()},d.rangeRound=function(p){return e=Array.from(p),r=upe,h()},d.clamp=function(p){return arguments.length?(s=p?!0:n0,h()):s!==n0},d.interpolate=function(p){return arguments.length?(r=p,h()):r},d.unknown=function(p){return arguments.length?(a=p,d):a},function(p,f){return n=p,i=f,h()}}function FW(){return jge()(n0,n0)}function Xge(t,e,r,n){var i=Q7(t,e,r),a;switch(n=F4(n??",f"),n.type){case"s":{var s=Math.max(Math.abs(t),Math.abs(e));return n.precision==null&&!isNaN(a=Uge(i,s))&&(n.precision=a),OW(n,s)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(a=Vge(i,Math.max(Math.abs(t),Math.abs(e))))&&(n.precision=a-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(a=zge(i))&&(n.precision=a-(n.type==="%")*2);break}}return DW(n)}function Kge(t){var e=t.domain;return t.ticks=function(r){var n=e();return Wde(n[0],n[n.length-1],r??10)},t.tickFormat=function(r,n){var i=e();return Xge(i[0],i[i.length-1],r??10,n)},t.nice=function(r){r==null&&(r=10);var n=e(),i=0,a=n.length-1,s=n[i],o=n[a],l,u,h=10;for(o<s&&(u=s,s=o,o=u,u=i,i=a,a=u);h-- >0;){if(u=K7(s,o,r),u===l)return n[i]=s,n[a]=o,e(n);if(u>0)s=Math.floor(s/u)*u,o=Math.ceil(o/u)*u;else if(u<0)s=Math.ceil(s*u)/u,o=Math.floor(o*u)/u;else break;l=u}return t},t}function $p(){var t=FW();return t.copy=function(){return PW(t,$p())},ow.apply(t,arguments),Kge(t)}function Qge(t,e){t=t.slice();var r=0,n=t.length-1,i=t[r],a=t[n],s;return a<i&&(s=r,r=n,n=s,s=i,i=a,a=s),t[r]=e.floor(i),t[n]=e.ceil(a),t}const Pk=new Date,Fk=new Date;function yi(t,e,r,n){function i(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(t(a=new Date(+a)),a),i.ceil=a=>(t(a=new Date(a-1)),e(a,1),t(a),a),i.round=a=>{const s=i(a),o=i.ceil(a);return a-s<o-a?s:o},i.offset=(a,s)=>(e(a=new Date(+a),s==null?1:Math.floor(s)),a),i.range=(a,s,o)=>{const l=[];if(a=i.ceil(a),o=o==null?1:Math.floor(o),!(a<s)||!(o>0))return l;let u;do l.push(u=new Date(+a)),e(a,o),t(a);while(u<a&&a<s);return l},i.filter=a=>yi(s=>{if(s>=s)for(;t(s),!a(s);)s.setTime(s-1)},(s,o)=>{if(s>=s)if(o<0)for(;++o<=0;)for(;e(s,-1),!a(s););else for(;--o>=0;)for(;e(s,1),!a(s););}),r&&(i.count=(a,s)=>(Pk.setTime(+a),Fk.setTime(+s),t(Pk),t(Fk),Math.floor(r(Pk,Fk))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(n?s=>n(s)%a===0:s=>i.count(0,s)%a===0):i)),i}const zp=yi(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);zp.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?yi(e=>{e.setTime(Math.floor(e/t)*t)},(e,r)=>{e.setTime(+e+r*t)},(e,r)=>(r-e)/t):zp);zp.range;const fc=1e3,ro=fc*60,pc=ro*60,Nc=pc*24,n_=Nc*7,eI=Nc*30,Bk=Nc*365,Cu=yi(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*fc)},(t,e)=>(e-t)/fc,t=>t.getUTCSeconds());Cu.range;const pv=yi(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*fc)},(t,e)=>{t.setTime(+t+e*ro)},(t,e)=>(e-t)/ro,t=>t.getMinutes());pv.range;const Zge=yi(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*ro)},(t,e)=>(e-t)/ro,t=>t.getUTCMinutes());Zge.range;const gv=yi(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*fc-t.getMinutes()*ro)},(t,e)=>{t.setTime(+t+e*pc)},(t,e)=>(e-t)/pc,t=>t.getHours());gv.range;const Jge=yi(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*pc)},(t,e)=>(e-t)/pc,t=>t.getUTCHours());Jge.range;const Ld=yi(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*ro)/Nc,t=>t.getDate()-1);Ld.range;const i_=yi(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Nc,t=>t.getUTCDate()-1);i_.range;const e1e=yi(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Nc,t=>Math.floor(t/Nc));e1e.range;function cf(t){return yi(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,r)=>{e.setDate(e.getDate()+r*7)},(e,r)=>(r-e-(r.getTimezoneOffset()-e.getTimezoneOffset())*ro)/n_)}const yy=cf(0),mv=cf(1),BW=cf(2),$W=cf(3),Nd=cf(4),zW=cf(5),UW=cf(6);yy.range;mv.range;BW.range;$W.range;Nd.range;zW.range;UW.range;function uf(t){return yi(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCDate(e.getUTCDate()+r*7)},(e,r)=>(r-e)/n_)}const VW=uf(0),B4=uf(1),t1e=uf(2),r1e=uf(3),Up=uf(4),n1e=uf(5),i1e=uf(6);VW.range;B4.range;t1e.range;r1e.range;Up.range;n1e.range;i1e.range;const vv=yi(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());vv.range;const a1e=yi(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());a1e.range;const Rc=yi(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Rc.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:yi(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,r)=>{e.setFullYear(e.getFullYear()+r*t)});Rc.range;const Rd=yi(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Rd.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:yi(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCFullYear(e.getUTCFullYear()+r*t)});Rd.range;function s1e(t,e,r,n,i,a){const s=[[Cu,1,fc],[Cu,5,5*fc],[Cu,15,15*fc],[Cu,30,30*fc],[a,1,ro],[a,5,5*ro],[a,15,15*ro],[a,30,30*ro],[i,1,pc],[i,3,3*pc],[i,6,6*pc],[i,12,12*pc],[n,1,Nc],[n,2,2*Nc],[r,1,n_],[e,1,eI],[e,3,3*eI],[t,1,Bk]];function o(u,h,d){const p=h<u;p&&([u,h]=[h,u]);const f=d&&typeof d.range=="function"?d:l(u,h,d),g=f?f.range(u,+h+1):[];return p?g.reverse():g}function l(u,h,d){const p=Math.abs(h-u)/d,f=XA(([,,y])=>y).right(s,p);if(f===s.length)return t.every(Q7(u/Bk,h/Bk,d));if(f===0)return zp.every(Math.max(Q7(u,h,d),1));const[g,m]=s[p/s[f-1][2]<s[f][2]/p?f-1:f];return g.every(m)}return[o,l]}const[o1e,l1e]=s1e(Rc,vv,yy,Ld,gv,pv);function $k(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function zk(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function y1(t,e,r){return{y:t,m:e,d:r,H:0,M:0,S:0,L:0}}function c1e(t){var e=t.dateTime,r=t.date,n=t.time,i=t.periods,a=t.days,s=t.shortDays,o=t.months,l=t.shortMonths,u=x1(i),h=b1(i),d=x1(a),p=b1(a),f=x1(s),g=b1(s),m=x1(o),y=b1(o),v=x1(l),x=b1(l),w={a:O,A:I,b:P,B,c:null,d:sI,e:sI,f:M1e,g:V1e,G:H1e,H:L1e,I:N1e,j:R1e,L:GW,m:I1e,M:D1e,p:$,q:V,Q:cI,s:uI,S:O1e,u:P1e,U:F1e,V:B1e,w:$1e,W:z1e,x:null,X:null,y:U1e,Y:G1e,Z:W1e,"%":lI},k={a:W,A:K,b:Z,B:H,c:null,d:oI,e:oI,f:X1e,g:ame,G:ome,H:Y1e,I:q1e,j:j1e,L:WW,m:K1e,M:Q1e,p:ee,q:te,Q:cI,s:uI,S:Z1e,u:J1e,U:eme,V:tme,w:rme,W:nme,x:null,X:null,y:ime,Y:sme,Z:lme,"%":lI},E={a:L,A,b:N,B:F,c:T,d:iI,e:iI,f:S1e,g:nI,G:rI,H:aI,I:aI,j:w1e,L:E1e,m:b1e,M:k1e,p:C,q:x1e,Q:A1e,s:_1e,S:T1e,u:p1e,U:g1e,V:m1e,w:f1e,W:v1e,x:D,X:M,y:nI,Y:rI,Z:y1e,"%":C1e};w.x=_(r,w),w.X=_(n,w),w.c=_(e,w),k.x=_(r,k),k.X=_(n,k),k.c=_(e,k);function _(U,j){return function(Y){var Q=[],ae=-1,ie=0,J=U.length,_e,ce,Te;for(Y instanceof Date||(Y=new Date(+Y));++ae<J;)U.charCodeAt(ae)===37&&(Q.push(U.slice(ie,ae)),(ce=tI[_e=U.charAt(++ae)])!=null?_e=U.charAt(++ae):ce=_e==="e"?" ":"0",(Te=j[_e])&&(_e=Te(Y,ce)),Q.push(_e),ie=ae+1);return Q.push(U.slice(ie,ae)),Q.join("")}}function S(U,j){return function(Y){var Q=y1(1900,void 0,1),ae=R(Q,U,Y+="",0),ie,J;if(ae!=Y.length)return null;if("Q"in Q)return new Date(Q.Q);if("s"in Q)return new Date(Q.s*1e3+("L"in Q?Q.L:0));if(j&&!("Z"in Q)&&(Q.Z=0),"p"in Q&&(Q.H=Q.H%12+Q.p*12),Q.m===void 0&&(Q.m="q"in Q?Q.q:0),"V"in Q){if(Q.V<1||Q.V>53)return null;"w"in Q||(Q.w=1),"Z"in Q?(ie=zk(y1(Q.y,0,1)),J=ie.getUTCDay(),ie=J>4||J===0?B4.ceil(ie):B4(ie),ie=i_.offset(ie,(Q.V-1)*7),Q.y=ie.getUTCFullYear(),Q.m=ie.getUTCMonth(),Q.d=ie.getUTCDate()+(Q.w+6)%7):(ie=$k(y1(Q.y,0,1)),J=ie.getDay(),ie=J>4||J===0?mv.ceil(ie):mv(ie),ie=Ld.offset(ie,(Q.V-1)*7),Q.y=ie.getFullYear(),Q.m=ie.getMonth(),Q.d=ie.getDate()+(Q.w+6)%7)}else("W"in Q||"U"in Q)&&("w"in Q||(Q.w="u"in Q?Q.u%7:"W"in Q?1:0),J="Z"in Q?zk(y1(Q.y,0,1)).getUTCDay():$k(y1(Q.y,0,1)).getDay(),Q.m=0,Q.d="W"in Q?(Q.w+6)%7+Q.W*7-(J+5)%7:Q.w+Q.U*7-(J+6)%7);return"Z"in Q?(Q.H+=Q.Z/100|0,Q.M+=Q.Z%100,zk(Q)):$k(Q)}}function R(U,j,Y,Q){for(var ae=0,ie=j.length,J=Y.length,_e,ce;ae<ie;){if(Q>=J)return-1;if(_e=j.charCodeAt(ae++),_e===37){if(_e=j.charAt(ae++),ce=E[_e in tI?j.charAt(ae++):_e],!ce||(Q=ce(U,Y,Q))<0)return-1}else if(_e!=Y.charCodeAt(Q++))return-1}return Q}function C(U,j,Y){var Q=u.exec(j.slice(Y));return Q?(U.p=h.get(Q[0].toLowerCase()),Y+Q[0].length):-1}function L(U,j,Y){var Q=f.exec(j.slice(Y));return Q?(U.w=g.get(Q[0].toLowerCase()),Y+Q[0].length):-1}function A(U,j,Y){var Q=d.exec(j.slice(Y));return Q?(U.w=p.get(Q[0].toLowerCase()),Y+Q[0].length):-1}function N(U,j,Y){var Q=v.exec(j.slice(Y));return Q?(U.m=x.get(Q[0].toLowerCase()),Y+Q[0].length):-1}function F(U,j,Y){var Q=m.exec(j.slice(Y));return Q?(U.m=y.get(Q[0].toLowerCase()),Y+Q[0].length):-1}function T(U,j,Y){return R(U,e,j,Y)}function D(U,j,Y){return R(U,r,j,Y)}function M(U,j,Y){return R(U,n,j,Y)}function O(U){return s[U.getDay()]}function I(U){return a[U.getDay()]}function P(U){return l[U.getMonth()]}function B(U){return o[U.getMonth()]}function $(U){return i[+(U.getHours()>=12)]}function V(U){return 1+~~(U.getMonth()/3)}function W(U){return s[U.getUTCDay()]}function K(U){return a[U.getUTCDay()]}function Z(U){return l[U.getUTCMonth()]}function H(U){return o[U.getUTCMonth()]}function ee(U){return i[+(U.getUTCHours()>=12)]}function te(U){return 1+~~(U.getUTCMonth()/3)}return{format:function(U){var j=_(U+="",w);return j.toString=function(){return U},j},parse:function(U){var j=S(U+="",!1);return j.toString=function(){return U},j},utcFormat:function(U){var j=_(U+="",k);return j.toString=function(){return U},j},utcParse:function(U){var j=S(U+="",!0);return j.toString=function(){return U},j}}}var tI={"-":"",_:" ",0:"0"},Mi=/^\s*\d+/,u1e=/^%/,h1e=/[\\^$*+?|[\]().{}]/g;function Ar(t,e,r){var n=t<0?"-":"",i=(n?-t:t)+"",a=i.length;return n+(a<r?new Array(r-a+1).join(e)+i:i)}function d1e(t){return t.replace(h1e,"\\$&")}function x1(t){return new RegExp("^(?:"+t.map(d1e).join("|")+")","i")}function b1(t){return new Map(t.map((e,r)=>[e.toLowerCase(),r]))}function f1e(t,e,r){var n=Mi.exec(e.slice(r,r+1));return n?(t.w=+n[0],r+n[0].length):-1}function p1e(t,e,r){var n=Mi.exec(e.slice(r,r+1));return n?(t.u=+n[0],r+n[0].length):-1}function g1e(t,e,r){var n=Mi.exec(e.slice(r,r+2));return n?(t.U=+n[0],r+n[0].length):-1}function m1e(t,e,r){var n=Mi.exec(e.slice(r,r+2));return n?(t.V=+n[0],r+n[0].length):-1}function v1e(t,e,r){var n=Mi.exec(e.slice(r,r+2));return n?(t.W=+n[0],r+n[0].length):-1}function rI(t,e,r){var n=Mi.exec(e.slice(r,r+4));return n?(t.y=+n[0],r+n[0].length):-1}function nI(t,e,r){var n=Mi.exec(e.slice(r,r+2));return n?(t.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function y1e(t,e,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(r,r+6));return n?(t.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function x1e(t,e,r){var n=Mi.exec(e.slice(r,r+1));return n?(t.q=n[0]*3-3,r+n[0].length):-1}function b1e(t,e,r){var n=Mi.exec(e.slice(r,r+2));return n?(t.m=n[0]-1,r+n[0].length):-1}function iI(t,e,r){var n=Mi.exec(e.slice(r,r+2));return n?(t.d=+n[0],r+n[0].length):-1}function w1e(t,e,r){var n=Mi.exec(e.slice(r,r+3));return n?(t.m=0,t.d=+n[0],r+n[0].length):-1}function aI(t,e,r){var n=Mi.exec(e.slice(r,r+2));return n?(t.H=+n[0],r+n[0].length):-1}function k1e(t,e,r){var n=Mi.exec(e.slice(r,r+2));return n?(t.M=+n[0],r+n[0].length):-1}function T1e(t,e,r){var n=Mi.exec(e.slice(r,r+2));return n?(t.S=+n[0],r+n[0].length):-1}function E1e(t,e,r){var n=Mi.exec(e.slice(r,r+3));return n?(t.L=+n[0],r+n[0].length):-1}function S1e(t,e,r){var n=Mi.exec(e.slice(r,r+6));return n?(t.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function C1e(t,e,r){var n=u1e.exec(e.slice(r,r+1));return n?r+n[0].length:-1}function A1e(t,e,r){var n=Mi.exec(e.slice(r));return n?(t.Q=+n[0],r+n[0].length):-1}function _1e(t,e,r){var n=Mi.exec(e.slice(r));return n?(t.s=+n[0],r+n[0].length):-1}function sI(t,e){return Ar(t.getDate(),e,2)}function L1e(t,e){return Ar(t.getHours(),e,2)}function N1e(t,e){return Ar(t.getHours()%12||12,e,2)}function R1e(t,e){return Ar(1+Ld.count(Rc(t),t),e,3)}function GW(t,e){return Ar(t.getMilliseconds(),e,3)}function M1e(t,e){return GW(t,e)+"000"}function I1e(t,e){return Ar(t.getMonth()+1,e,2)}function D1e(t,e){return Ar(t.getMinutes(),e,2)}function O1e(t,e){return Ar(t.getSeconds(),e,2)}function P1e(t){var e=t.getDay();return e===0?7:e}function F1e(t,e){return Ar(yy.count(Rc(t)-1,t),e,2)}function HW(t){var e=t.getDay();return e>=4||e===0?Nd(t):Nd.ceil(t)}function B1e(t,e){return t=HW(t),Ar(Nd.count(Rc(t),t)+(Rc(t).getDay()===4),e,2)}function $1e(t){return t.getDay()}function z1e(t,e){return Ar(mv.count(Rc(t)-1,t),e,2)}function U1e(t,e){return Ar(t.getFullYear()%100,e,2)}function V1e(t,e){return t=HW(t),Ar(t.getFullYear()%100,e,2)}function G1e(t,e){return Ar(t.getFullYear()%1e4,e,4)}function H1e(t,e){var r=t.getDay();return t=r>=4||r===0?Nd(t):Nd.ceil(t),Ar(t.getFullYear()%1e4,e,4)}function W1e(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Ar(e/60|0,"0",2)+Ar(e%60,"0",2)}function oI(t,e){return Ar(t.getUTCDate(),e,2)}function Y1e(t,e){return Ar(t.getUTCHours(),e,2)}function q1e(t,e){return Ar(t.getUTCHours()%12||12,e,2)}function j1e(t,e){return Ar(1+i_.count(Rd(t),t),e,3)}function WW(t,e){return Ar(t.getUTCMilliseconds(),e,3)}function X1e(t,e){return WW(t,e)+"000"}function K1e(t,e){return Ar(t.getUTCMonth()+1,e,2)}function Q1e(t,e){return Ar(t.getUTCMinutes(),e,2)}function Z1e(t,e){return Ar(t.getUTCSeconds(),e,2)}function J1e(t){var e=t.getUTCDay();return e===0?7:e}function eme(t,e){return Ar(VW.count(Rd(t)-1,t),e,2)}function YW(t){var e=t.getUTCDay();return e>=4||e===0?Up(t):Up.ceil(t)}function tme(t,e){return t=YW(t),Ar(Up.count(Rd(t),t)+(Rd(t).getUTCDay()===4),e,2)}function rme(t){return t.getUTCDay()}function nme(t,e){return Ar(B4.count(Rd(t)-1,t),e,2)}function ime(t,e){return Ar(t.getUTCFullYear()%100,e,2)}function ame(t,e){return t=YW(t),Ar(t.getUTCFullYear()%100,e,2)}function sme(t,e){return Ar(t.getUTCFullYear()%1e4,e,4)}function ome(t,e){var r=t.getUTCDay();return t=r>=4||r===0?Up(t):Up.ceil(t),Ar(t.getUTCFullYear()%1e4,e,4)}function lme(){return"+0000"}function lI(){return"%"}function cI(t){return+t}function uI(t){return Math.floor(+t/1e3)}var Lf,$4;cme({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function cme(t){return Lf=c1e(t),$4=Lf.format,Lf.parse,Lf.utcFormat,Lf.utcParse,Lf}function ume(t){return new Date(t)}function hme(t){return t instanceof Date?+t:+new Date(+t)}function qW(t,e,r,n,i,a,s,o,l,u){var h=FW(),d=h.invert,p=h.domain,f=u(".%L"),g=u(":%S"),m=u("%I:%M"),y=u("%I %p"),v=u("%a %d"),x=u("%b %d"),w=u("%B"),k=u("%Y");function E(_){return(l(_)<_?f:o(_)<_?g:s(_)<_?m:a(_)<_?y:n(_)<_?i(_)<_?v:x:r(_)<_?w:k)(_)}return h.invert=function(_){return new Date(d(_))},h.domain=function(_){return arguments.length?p(Array.from(_,hme)):p().map(ume)},h.ticks=function(_){var S=p();return t(S[0],S[S.length-1],_??10)},h.tickFormat=function(_,S){return S==null?E:u(S)},h.nice=function(_){var S=p();return(!_||typeof _.range!="function")&&(_=e(S[0],S[S.length-1],_??10)),_?p(Qge(S,_)):h},h.copy=function(){return PW(h,qW(t,e,r,n,i,a,s,o,l,u))},h}function dme(){return ow.apply(qW(o1e,l1e,Rc,vv,yy,Ld,gv,pv,Cu,$4).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function fme(t){for(var e=t.length/6|0,r=new Array(e),n=0;n<e;)r[n]="#"+t.slice(n*6,++n*6);return r}const pme=fme("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab");function Un(t){return function(){return t}}const hI=Math.abs,aa=Math.atan2,Rh=Math.cos,gme=Math.max,Uk=Math.min,il=Math.sin,i0=Math.sqrt,la=1e-12,yv=Math.PI,z4=yv/2,cb=2*yv;function mme(t){return t>1?0:t<-1?yv:Math.acos(t)}function dI(t){return t>=1?z4:t<=-1?-z4:Math.asin(t)}function jW(t){let e=3;return t.digits=function(r){if(!arguments.length)return e;if(r==null)e=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);e=n}return t},()=>new Rge(e)}function vme(t){return t.innerRadius}function yme(t){return t.outerRadius}function xme(t){return t.startAngle}function bme(t){return t.endAngle}function wme(t){return t&&t.padAngle}function kme(t,e,r,n,i,a,s,o){var l=r-t,u=n-e,h=s-i,d=o-a,p=d*l-h*u;if(!(p*p<la))return p=(h*(e-a)-d*(t-i))/p,[t+p*l,e+p*u]}function z2(t,e,r,n,i,a,s){var o=t-r,l=e-n,u=(s?a:-a)/i0(o*o+l*l),h=u*l,d=-u*o,p=t+h,f=e+d,g=r+h,m=n+d,y=(p+g)/2,v=(f+m)/2,x=g-p,w=m-f,k=x*x+w*w,E=i-a,_=p*m-g*f,S=(w<0?-1:1)*i0(gme(0,E*E*k-_*_)),R=(_*w-x*S)/k,C=(-_*x-w*S)/k,L=(_*w+x*S)/k,A=(-_*x+w*S)/k,N=R-y,F=C-v,T=L-y,D=A-v;return N*N+F*F>T*T+D*D&&(R=L,C=A),{cx:R,cy:C,x01:-h,y01:-d,x11:R*(i/E-1),y11:C*(i/E-1)}}function Vp(){var t=vme,e=yme,r=Un(0),n=null,i=xme,a=bme,s=wme,o=null,l=jW(u);function u(){var h,d,p=+t.apply(this,arguments),f=+e.apply(this,arguments),g=i.apply(this,arguments)-z4,m=a.apply(this,arguments)-z4,y=hI(m-g),v=m>g;if(o||(o=h=l()),f<p&&(d=f,f=p,p=d),!(f>la))o.moveTo(0,0);else if(y>cb-la)o.moveTo(f*Rh(g),f*il(g)),o.arc(0,0,f,g,m,!v),p>la&&(o.moveTo(p*Rh(m),p*il(m)),o.arc(0,0,p,m,g,v));else{var x=g,w=m,k=g,E=m,_=y,S=y,R=s.apply(this,arguments)/2,C=R>la&&(n?+n.apply(this,arguments):i0(p*p+f*f)),L=Uk(hI(f-p)/2,+r.apply(this,arguments)),A=L,N=L,F,T;if(C>la){var D=dI(C/p*il(R)),M=dI(C/f*il(R));(_-=D*2)>la?(D*=v?1:-1,k+=D,E-=D):(_=0,k=E=(g+m)/2),(S-=M*2)>la?(M*=v?1:-1,x+=M,w-=M):(S=0,x=w=(g+m)/2)}var O=f*Rh(x),I=f*il(x),P=p*Rh(E),B=p*il(E);if(L>la){var $=f*Rh(w),V=f*il(w),W=p*Rh(k),K=p*il(k),Z;if(y<yv)if(Z=kme(O,I,W,K,$,V,P,B)){var H=O-Z[0],ee=I-Z[1],te=$-Z[0],U=V-Z[1],j=1/il(mme((H*te+ee*U)/(i0(H*H+ee*ee)*i0(te*te+U*U)))/2),Y=i0(Z[0]*Z[0]+Z[1]*Z[1]);A=Uk(L,(p-Y)/(j-1)),N=Uk(L,(f-Y)/(j+1))}else A=N=0}S>la?N>la?(F=z2(W,K,O,I,f,N,v),T=z2($,V,P,B,f,N,v),o.moveTo(F.cx+F.x01,F.cy+F.y01),N<L?o.arc(F.cx,F.cy,N,aa(F.y01,F.x01),aa(T.y01,T.x01),!v):(o.arc(F.cx,F.cy,N,aa(F.y01,F.x01),aa(F.y11,F.x11),!v),o.arc(0,0,f,aa(F.cy+F.y11,F.cx+F.x11),aa(T.cy+T.y11,T.cx+T.x11),!v),o.arc(T.cx,T.cy,N,aa(T.y11,T.x11),aa(T.y01,T.x01),!v))):(o.moveTo(O,I),o.arc(0,0,f,x,w,!v)):o.moveTo(O,I),!(p>la)||!(_>la)?o.lineTo(P,B):A>la?(F=z2(P,B,$,V,p,-A,v),T=z2(O,I,W,K,p,-A,v),o.lineTo(F.cx+F.x01,F.cy+F.y01),A<L?o.arc(F.cx,F.cy,A,aa(F.y01,F.x01),aa(T.y01,T.x01),!v):(o.arc(F.cx,F.cy,A,aa(F.y01,F.x01),aa(F.y11,F.x11),!v),o.arc(0,0,p,aa(F.cy+F.y11,F.cx+F.x11),aa(T.cy+T.y11,T.cx+T.x11),v),o.arc(T.cx,T.cy,A,aa(T.y11,T.x11),aa(T.y01,T.x01),!v))):o.arc(0,0,p,E,k,v)}if(o.closePath(),h)return o=null,h+""||null}return u.centroid=function(){var h=(+t.apply(this,arguments)+ +e.apply(this,arguments))/2,d=(+i.apply(this,arguments)+ +a.apply(this,arguments))/2-yv/2;return[Rh(d)*h,il(d)*h]},u.innerRadius=function(h){return arguments.length?(t=typeof h=="function"?h:Un(+h),u):t},u.outerRadius=function(h){return arguments.length?(e=typeof h=="function"?h:Un(+h),u):e},u.cornerRadius=function(h){return arguments.length?(r=typeof h=="function"?h:Un(+h),u):r},u.padRadius=function(h){return arguments.length?(n=h==null?null:typeof h=="function"?h:Un(+h),u):n},u.startAngle=function(h){return arguments.length?(i=typeof h=="function"?h:Un(+h),u):i},u.endAngle=function(h){return arguments.length?(a=typeof h=="function"?h:Un(+h),u):a},u.padAngle=function(h){return arguments.length?(s=typeof h=="function"?h:Un(+h),u):s},u.context=function(h){return arguments.length?(o=h??null,u):o},u}function XW(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function KW(t){this._context=t}KW.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function cw(t){return new KW(t)}function Tme(t){return t[0]}function Eme(t){return t[1]}function Xu(t,e){var r=Un(!0),n=null,i=cw,a=null,s=jW(o);t=typeof t=="function"?t:t===void 0?Tme:Un(t),e=typeof e=="function"?e:e===void 0?Eme:Un(e);function o(l){var u,h=(l=XW(l)).length,d,p=!1,f;for(n==null&&(a=i(f=s())),u=0;u<=h;++u)!(u<h&&r(d=l[u],u,l))===p&&((p=!p)?a.lineStart():a.lineEnd()),p&&a.point(+t(d,u,l),+e(d,u,l));if(f)return a=null,f+""||null}return o.x=function(l){return arguments.length?(t=typeof l=="function"?l:Un(+l),o):t},o.y=function(l){return arguments.length?(e=typeof l=="function"?l:Un(+l),o):e},o.defined=function(l){return arguments.length?(r=typeof l=="function"?l:Un(!!l),o):r},o.curve=function(l){return arguments.length?(i=l,n!=null&&(a=i(n)),o):i},o.context=function(l){return arguments.length?(l==null?n=a=null:a=i(n=l),o):n},o}function Sme(t,e){return e<t?-1:e>t?1:e>=t?0:NaN}function Cme(t){return t}function Ame(){var t=Cme,e=Sme,r=null,n=Un(0),i=Un(cb),a=Un(0);function s(o){var l,u=(o=XW(o)).length,h,d,p=0,f=new Array(u),g=new Array(u),m=+n.apply(this,arguments),y=Math.min(cb,Math.max(-cb,i.apply(this,arguments)-m)),v,x=Math.min(Math.abs(y)/u,a.apply(this,arguments)),w=x*(y<0?-1:1),k;for(l=0;l<u;++l)(k=g[f[l]=l]=+t(o[l],l,o))>0&&(p+=k);for(e!=null?f.sort(function(E,_){return e(g[E],g[_])}):r!=null&&f.sort(function(E,_){return r(o[E],o[_])}),l=0,d=p?(y-u*w)/p:0;l<u;++l,m=v)h=f[l],k=g[h],v=m+(k>0?k*d:0)+w,g[h]={data:o[h],index:l,value:k,startAngle:m,endAngle:v,padAngle:x};return g}return s.value=function(o){return arguments.length?(t=typeof o=="function"?o:Un(+o),s):t},s.sortValues=function(o){return arguments.length?(e=o,r=null,s):e},s.sort=function(o){return arguments.length?(r=o,e=null,s):r},s.startAngle=function(o){return arguments.length?(n=typeof o=="function"?o:Un(+o),s):n},s.endAngle=function(o){return arguments.length?(i=typeof o=="function"?o:Un(+o),s):i},s.padAngle=function(o){return arguments.length?(a=typeof o=="function"?o:Un(+o),s):a},s}class QW{constructor(e,r){this._context=e,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,r){switch(e=+e,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,r,e,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,e,this._y0,e,r);break}}this._x0=e,this._y0=r}}function _me(t){return new QW(t,!0)}function Lme(t){return new QW(t,!1)}function Ku(){}function U4(t,e,r){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+r)/6)}function uw(t){this._context=t}uw.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:U4(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:U4(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Tg(t){return new uw(t)}function ZW(t){this._context=t}ZW.prototype={areaStart:Ku,areaEnd:Ku,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:U4(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Nme(t){return new ZW(t)}function JW(t){this._context=t}JW.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+t)/6,n=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:U4(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Rme(t){return new JW(t)}function eY(t,e){this._basis=new uw(t),this._beta=e}eY.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,e=this._y,r=t.length-1;if(r>0)for(var n=t[0],i=e[0],a=t[r]-n,s=e[r]-i,o=-1,l;++o<=r;)l=o/r,this._basis.point(this._beta*t[o]+(1-this._beta)*(n+l*a),this._beta*e[o]+(1-this._beta)*(i+l*s));this._x=this._y=null,this._basis.lineEnd()},point:function(t,e){this._x.push(+t),this._y.push(+e)}};const Mme=function t(e){function r(n){return e===1?new uw(n):new eY(n,e)}return r.beta=function(n){return t(+n)},r}(.85);function V4(t,e,r){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-e),t._y2+t._k*(t._y1-r),t._x2,t._y2)}function a_(t,e){this._context=t,this._k=(1-e)/6}a_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:V4(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2,this._x1=t,this._y1=e;break;case 2:this._point=3;default:V4(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const Ime=function t(e){function r(n){return new a_(n,e)}return r.tension=function(n){return t(+n)},r}(0);function s_(t,e){this._context=t,this._k=(1-e)/6}s_.prototype={areaStart:Ku,areaEnd:Ku,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:V4(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const Dme=function t(e){function r(n){return new s_(n,e)}return r.tension=function(n){return t(+n)},r}(0);function o_(t,e){this._context=t,this._k=(1-e)/6}o_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:V4(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const Ome=function t(e){function r(n){return new o_(n,e)}return r.tension=function(n){return t(+n)},r}(0);function l_(t,e,r){var n=t._x1,i=t._y1,a=t._x2,s=t._y2;if(t._l01_a>la){var o=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,l=3*t._l01_a*(t._l01_a+t._l12_a);n=(n*o-t._x0*t._l12_2a+t._x2*t._l01_2a)/l,i=(i*o-t._y0*t._l12_2a+t._y2*t._l01_2a)/l}if(t._l23_a>la){var u=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,h=3*t._l23_a*(t._l23_a+t._l12_a);a=(a*u+t._x1*t._l23_2a-e*t._l12_2a)/h,s=(s*u+t._y1*t._l23_2a-r*t._l12_2a)/h}t._context.bezierCurveTo(n,i,a,s,t._x2,t._y2)}function tY(t,e){this._context=t,this._alpha=e}tY.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var r=this._x2-t,n=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(r*r+n*n,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3;default:l_(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const Pme=function t(e){function r(n){return e?new tY(n,e):new a_(n,0)}return r.alpha=function(n){return t(+n)},r}(.5);function rY(t,e){this._context=t,this._alpha=e}rY.prototype={areaStart:Ku,areaEnd:Ku,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(t,e){if(t=+t,e=+e,this._point){var r=this._x2-t,n=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(r*r+n*n,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:l_(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const Fme=function t(e){function r(n){return e?new rY(n,e):new s_(n,0)}return r.alpha=function(n){return t(+n)},r}(.5);function nY(t,e){this._context=t,this._alpha=e}nY.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var r=this._x2-t,n=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(r*r+n*n,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:l_(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const Bme=function t(e){function r(n){return e?new nY(n,e):new o_(n,0)}return r.alpha=function(n){return t(+n)},r}(.5);function iY(t){this._context=t}iY.prototype={areaStart:Ku,areaEnd:Ku,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function $me(t){return new iY(t)}function fI(t){return t<0?-1:1}function pI(t,e,r){var n=t._x1-t._x0,i=e-t._x1,a=(t._y1-t._y0)/(n||i<0&&-0),s=(r-t._y1)/(i||n<0&&-0),o=(a*i+s*n)/(n+i);return(fI(a)+fI(s))*Math.min(Math.abs(a),Math.abs(s),.5*Math.abs(o))||0}function gI(t,e){var r=t._x1-t._x0;return r?(3*(t._y1-t._y0)/r-e)/2:e}function Vk(t,e,r){var n=t._x0,i=t._y0,a=t._x1,s=t._y1,o=(a-n)/3;t._context.bezierCurveTo(n+o,i+o*e,a-o,s-o*r,a,s)}function G4(t){this._context=t}G4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Vk(this,this._t0,gI(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var r=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Vk(this,gI(this,r=pI(this,t,e)),r);break;default:Vk(this,this._t0,r=pI(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=r}}};function aY(t){this._context=new sY(t)}(aY.prototype=Object.create(G4.prototype)).point=function(t,e){G4.prototype.point.call(this,e,t)};function sY(t){this._context=t}sY.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,r,n,i,a){this._context.bezierCurveTo(e,t,n,r,a,i)}};function zme(t){return new G4(t)}function Ume(t){return new aY(t)}function oY(t){this._context=t}oY.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,r=t.length;if(r)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),r===2)this._context.lineTo(t[1],e[1]);else for(var n=mI(t),i=mI(e),a=0,s=1;s<r;++a,++s)this._context.bezierCurveTo(n[0][a],i[0][a],n[1][a],i[1][a],t[s],e[s]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function mI(t){var e,r=t.length-1,n,i=new Array(r),a=new Array(r),s=new Array(r);for(i[0]=0,a[0]=2,s[0]=t[0]+2*t[1],e=1;e<r-1;++e)i[e]=1,a[e]=4,s[e]=4*t[e]+2*t[e+1];for(i[r-1]=2,a[r-1]=7,s[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=i[e]/a[e-1],a[e]-=n,s[e]-=n*s[e-1];for(i[r-1]=s[r-1]/a[r-1],e=r-2;e>=0;--e)i[e]=(s[e]-i[e+1])/a[e];for(a[r-1]=(t[r]+i[r-1])/2,e=0;e<r-1;++e)a[e]=2*t[e+1]-i[e+1];return[i,a]}function Vme(t){return new oY(t)}function hw(t,e){this._context=t,this._t=e}hw.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var r=this._x*(1-this._t)+t*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,e)}break}}this._x=t,this._y=e}};function Gme(t){return new hw(t,.5)}function Hme(t){return new hw(t,0)}function Wme(t){return new hw(t,1)}function Q1(t,e,r){this.k=t,this.x=e,this.y=r}Q1.prototype={constructor:Q1,scale:function(t){return t===1?this:new Q1(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new Q1(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};Q1.prototype;var lY=typeof global=="object"&&global&&global.Object===Object&&global,Yme=typeof self=="object"&&self&&self.Object===Object&&self,Ol=lY||Yme||Function("return this")(),ho=Ol.Symbol,cY=Object.prototype,qme=cY.hasOwnProperty,jme=cY.toString,w1=ho?ho.toStringTag:void 0;function Xme(t){var e=qme.call(t,w1),r=t[w1];try{t[w1]=void 0;var n=!0}catch{}var i=jme.call(t);return n&&(e?t[w1]=r:delete t[w1]),i}var Kme=Object.prototype,Qme=Kme.toString;function Zme(t){return Qme.call(t)}var Jme="[object Null]",eve="[object Undefined]",vI=ho?ho.toStringTag:void 0;function Xc(t){return t==null?t===void 0?eve:Jme:vI&&vI in Object(t)?Xme(t):Zme(t)}function us(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var tve="[object AsyncFunction]",rve="[object Function]",nve="[object GeneratorFunction]",ive="[object Proxy]";function fo(t){if(!us(t))return!1;var e=Xc(t);return e==rve||e==nve||e==tve||e==ive}var Gk=Ol["__core-js_shared__"],yI=function(){var t=/[^.]+$/.exec(Gk&&Gk.keys&&Gk.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function ave(t){return!!yI&&yI in t}var sve=Function.prototype,ove=sve.toString;function hf(t){if(t!=null){try{return ove.call(t)}catch{}try{return t+""}catch{}}return""}var lve=/[\\^$.*+?()[\]{}|]/g,cve=/^\[object .+?Constructor\]$/,uve=Function.prototype,hve=Object.prototype,dve=uve.toString,fve=hve.hasOwnProperty,pve=RegExp("^"+dve.call(fve).replace(lve,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function gve(t){if(!us(t)||ave(t))return!1;var e=fo(t)?pve:cve;return e.test(hf(t))}function mve(t,e){return t==null?void 0:t[e]}function df(t,e){var r=mve(t,e);return gve(r)?r:void 0}var xv=df(Object,"create");function vve(){this.__data__=xv?xv(null):{},this.size=0}function yve(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var xve="__lodash_hash_undefined__",bve=Object.prototype,wve=bve.hasOwnProperty;function kve(t){var e=this.__data__;if(xv){var r=e[t];return r===xve?void 0:r}return wve.call(e,t)?e[t]:void 0}var Tve=Object.prototype,Eve=Tve.hasOwnProperty;function Sve(t){var e=this.__data__;return xv?e[t]!==void 0:Eve.call(e,t)}var Cve="__lodash_hash_undefined__";function Ave(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=xv&&e===void 0?Cve:e,this}function Md(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Md.prototype.clear=vve;Md.prototype.delete=yve;Md.prototype.get=kve;Md.prototype.has=Sve;Md.prototype.set=Ave;function _ve(){this.__data__=[],this.size=0}function Eg(t,e){return t===e||t!==t&&e!==e}function dw(t,e){for(var r=t.length;r--;)if(Eg(t[r][0],e))return r;return-1}var Lve=Array.prototype,Nve=Lve.splice;function Rve(t){var e=this.__data__,r=dw(e,t);if(r<0)return!1;var n=e.length-1;return r==n?e.pop():Nve.call(e,r,1),--this.size,!0}function Mve(t){var e=this.__data__,r=dw(e,t);return r<0?void 0:e[r][1]}function Ive(t){return dw(this.__data__,t)>-1}function Dve(t,e){var r=this.__data__,n=dw(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this}function Kc(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Kc.prototype.clear=_ve;Kc.prototype.delete=Rve;Kc.prototype.get=Mve;Kc.prototype.has=Ive;Kc.prototype.set=Dve;var bv=df(Ol,"Map");function Ove(){this.size=0,this.__data__={hash:new Md,map:new(bv||Kc),string:new Md}}function Pve(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function fw(t,e){var r=t.__data__;return Pve(e)?r[typeof e=="string"?"string":"hash"]:r.map}function Fve(t){var e=fw(this,t).delete(t);return this.size-=e?1:0,e}function Bve(t){return fw(this,t).get(t)}function $ve(t){return fw(this,t).has(t)}function zve(t,e){var r=fw(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this}function Qc(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Qc.prototype.clear=Ove;Qc.prototype.delete=Fve;Qc.prototype.get=Bve;Qc.prototype.has=$ve;Qc.prototype.set=zve;var Uve="Expected a function";function Sg(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(Uve);var r=function(){var n=arguments,i=e?e.apply(this,n):n[0],a=r.cache;if(a.has(i))return a.get(i);var s=t.apply(this,n);return r.cache=a.set(i,s)||a,s};return r.cache=new(Sg.Cache||Qc),r}Sg.Cache=Qc;function Vve(){this.__data__=new Kc,this.size=0}function Gve(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r}function Hve(t){return this.__data__.get(t)}function Wve(t){return this.__data__.has(t)}var Yve=200;function qve(t,e){var r=this.__data__;if(r instanceof Kc){var n=r.__data__;if(!bv||n.length<Yve-1)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new Qc(n)}return r.set(t,e),this.size=r.size,this}function zo(t){var e=this.__data__=new Kc(t);this.size=e.size}zo.prototype.clear=Vve;zo.prototype.delete=Gve;zo.prototype.get=Hve;zo.prototype.has=Wve;zo.prototype.set=qve;var H4=function(){try{var t=df(Object,"defineProperty");return t({},"",{}),t}catch{}}();function xy(t,e,r){e=="__proto__"&&H4?H4(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}function hS(t,e,r){(r!==void 0&&!Eg(t[e],r)||r===void 0&&!(e in t))&&xy(t,e,r)}function jve(t){return function(e,r,n){for(var i=-1,a=Object(e),s=n(e),o=s.length;o--;){var l=s[++i];if(r(a[l],l,a)===!1)break}return e}}var c_=jve(),uY=typeof Ss=="object"&&Ss&&!Ss.nodeType&&Ss,xI=uY&&typeof Cs=="object"&&Cs&&!Cs.nodeType&&Cs,Xve=xI&&xI.exports===uY,bI=Xve?Ol.Buffer:void 0,wI=bI?bI.allocUnsafe:void 0;function hY(t,e){if(e)return t.slice();var r=t.length,n=wI?wI(r):new t.constructor(r);return t.copy(n),n}var W4=Ol.Uint8Array;function u_(t){var e=new t.constructor(t.byteLength);return new W4(e).set(new W4(t)),e}function dY(t,e){var r=e?u_(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.length)}function fY(t,e){var r=-1,n=t.length;for(e||(e=Array(n));++r<n;)e[r]=t[r];return e}var kI=Object.create,Kve=function(){function t(){}return function(e){if(!us(e))return{};if(kI)return kI(e);t.prototype=e;var r=new t;return t.prototype=void 0,r}}();function pY(t,e){return function(r){return t(e(r))}}var h_=pY(Object.getPrototypeOf,Object),Qve=Object.prototype;function by(t){var e=t&&t.constructor,r=typeof e=="function"&&e.prototype||Qve;return t===r}function gY(t){return typeof t.constructor=="function"&&!by(t)?Kve(h_(t)):{}}function po(t){return t!=null&&typeof t=="object"}var Zve="[object Arguments]";function TI(t){return po(t)&&Xc(t)==Zve}var mY=Object.prototype,Jve=mY.hasOwnProperty,eye=mY.propertyIsEnumerable,Gp=TI(function(){return arguments}())?TI:function(t){return po(t)&&Jve.call(t,"callee")&&!eye.call(t,"callee")},dr=Array.isArray,tye=9007199254740991;function d_(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=tye}function Pl(t){return t!=null&&d_(t.length)&&!fo(t)}function Y4(t){return po(t)&&Pl(t)}function rye(){return!1}var vY=typeof Ss=="object"&&Ss&&!Ss.nodeType&&Ss,EI=vY&&typeof Cs=="object"&&Cs&&!Cs.nodeType&&Cs,nye=EI&&EI.exports===vY,SI=nye?Ol.Buffer:void 0,iye=SI?SI.isBuffer:void 0,Hp=iye||rye,aye="[object Object]",sye=Function.prototype,oye=Object.prototype,yY=sye.toString,lye=oye.hasOwnProperty,cye=yY.call(Object);function uye(t){if(!po(t)||Xc(t)!=aye)return!1;var e=h_(t);if(e===null)return!0;var r=lye.call(e,"constructor")&&e.constructor;return typeof r=="function"&&r instanceof r&&yY.call(r)==cye}var hye="[object Arguments]",dye="[object Array]",fye="[object Boolean]",pye="[object Date]",gye="[object Error]",mye="[object Function]",vye="[object Map]",yye="[object Number]",xye="[object Object]",bye="[object RegExp]",wye="[object Set]",kye="[object String]",Tye="[object WeakMap]",Eye="[object ArrayBuffer]",Sye="[object DataView]",Cye="[object Float32Array]",Aye="[object Float64Array]",_ye="[object Int8Array]",Lye="[object Int16Array]",Nye="[object Int32Array]",Rye="[object Uint8Array]",Mye="[object Uint8ClampedArray]",Iye="[object Uint16Array]",Dye="[object Uint32Array]",un={};un[Cye]=un[Aye]=un[_ye]=un[Lye]=un[Nye]=un[Rye]=un[Mye]=un[Iye]=un[Dye]=!0;un[hye]=un[dye]=un[Eye]=un[fye]=un[Sye]=un[pye]=un[gye]=un[mye]=un[vye]=un[yye]=un[xye]=un[bye]=un[wye]=un[kye]=un[Tye]=!1;function Oye(t){return po(t)&&d_(t.length)&&!!un[Xc(t)]}function wy(t){return function(e){return t(e)}}var xY=typeof Ss=="object"&&Ss&&!Ss.nodeType&&Ss,Nm=xY&&typeof Cs=="object"&&Cs&&!Cs.nodeType&&Cs,Pye=Nm&&Nm.exports===xY,Hk=Pye&&lY.process,Qu=function(){try{var t=Nm&&Nm.require&&Nm.require("util").types;return t||Hk&&Hk.binding&&Hk.binding("util")}catch{}}(),CI=Qu&&Qu.isTypedArray,pw=CI?wy(CI):Oye;function dS(t,e){if(!(e==="constructor"&&typeof t[e]=="function")&&e!="__proto__")return t[e]}var Fye=Object.prototype,Bye=Fye.hasOwnProperty;function ky(t,e,r){var n=t[e];(!(Bye.call(t,e)&&Eg(n,r))||r===void 0&&!(e in t))&&xy(t,e,r)}function Cg(t,e,r,n){var i=!r;r||(r={});for(var a=-1,s=e.length;++a<s;){var o=e[a],l=void 0;l===void 0&&(l=t[o]),i?xy(r,o,l):ky(r,o,l)}return r}function $ye(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}var zye=9007199254740991,Uye=/^(?:0|[1-9]\d*)$/;function gw(t,e){var r=typeof t;return e=e??zye,!!e&&(r=="number"||r!="symbol"&&Uye.test(t))&&t>-1&&t%1==0&&t<e}var Vye=Object.prototype,Gye=Vye.hasOwnProperty;function bY(t,e){var r=dr(t),n=!r&&Gp(t),i=!r&&!n&&Hp(t),a=!r&&!n&&!i&&pw(t),s=r||n||i||a,o=s?$ye(t.length,String):[],l=o.length;for(var u in t)(e||Gye.call(t,u))&&!(s&&(u=="length"||i&&(u=="offset"||u=="parent")||a&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||gw(u,l)))&&o.push(u);return o}function Hye(t){var e=[];if(t!=null)for(var r in Object(t))e.push(r);return e}var Wye=Object.prototype,Yye=Wye.hasOwnProperty;function qye(t){if(!us(t))return Hye(t);var e=by(t),r=[];for(var n in t)n=="constructor"&&(e||!Yye.call(t,n))||r.push(n);return r}function ff(t){return Pl(t)?bY(t,!0):qye(t)}function jye(t){return Cg(t,ff(t))}function Xye(t,e,r,n,i,a,s){var o=dS(t,r),l=dS(e,r),u=s.get(l);if(u){hS(t,r,u);return}var h=a?a(o,l,r+"",t,e,s):void 0,d=h===void 0;if(d){var p=dr(l),f=!p&&Hp(l),g=!p&&!f&&pw(l);h=l,p||f||g?dr(o)?h=o:Y4(o)?h=fY(o):f?(d=!1,h=hY(l,!0)):g?(d=!1,h=dY(l,!0)):h=[]:uye(l)||Gp(l)?(h=o,Gp(o)?h=jye(o):(!us(o)||fo(o))&&(h=gY(l))):d=!1}d&&(s.set(l,h),i(h,l,n,a,s),s.delete(l)),hS(t,r,h)}function wY(t,e,r,n,i){t!==e&&c_(e,function(a,s){if(i||(i=new zo),us(a))Xye(t,e,s,r,wY,n,i);else{var o=n?n(dS(t,s),a,s+"",t,e,i):void 0;o===void 0&&(o=a),hS(t,s,o)}},ff)}function Mc(t){return t}function Kye(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}var AI=Math.max;function kY(t,e,r){return e=AI(e===void 0?t.length-1:e,0),function(){for(var n=arguments,i=-1,a=AI(n.length-e,0),s=Array(a);++i<a;)s[i]=n[e+i];i=-1;for(var o=Array(e+1);++i<e;)o[i]=n[i];return o[e]=r(s),Kye(t,this,o)}}function a0(t){return function(){return t}}var Qye=H4?function(t,e){return H4(t,"toString",{configurable:!0,enumerable:!1,value:a0(e),writable:!0})}:Mc,Zye=800,Jye=16,e2e=Date.now;function t2e(t){var e=0,r=0;return function(){var n=e2e(),i=Jye-(n-r);if(r=n,i>0){if(++e>=Zye)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var TY=t2e(Qye);function Ty(t,e){return TY(kY(t,e,Mc),t+"")}function wv(t,e,r){if(!us(r))return!1;var n=typeof e;return(n=="number"?Pl(r)&&gw(e,r.length):n=="string"&&e in r)?Eg(r[e],t):!1}function EY(t){return Ty(function(e,r){var n=-1,i=r.length,a=i>1?r[i-1]:void 0,s=i>2?r[2]:void 0;for(a=t.length>3&&typeof a=="function"?(i--,a):void 0,s&&wv(r[0],r[1],s)&&(a=i<3?void 0:a,i=1),e=Object(e);++n<i;){var o=r[n];o&&t(e,o,n,a)}return e})}var q4=EY(function(t,e,r){wY(t,e,r)}),SY="​",r2e={curveBasis:Tg,curveBasisClosed:Nme,curveBasisOpen:Rme,curveBumpX:_me,curveBumpY:Lme,curveBundle:Mme,curveCardinalClosed:Dme,curveCardinalOpen:Ome,curveCardinal:Ime,curveCatmullRomClosed:Fme,curveCatmullRomOpen:Bme,curveCatmullRom:Pme,curveLinear:cw,curveLinearClosed:$me,curveMonotoneX:zme,curveMonotoneY:Ume,curveNatural:Vme,curveStep:Gme,curveStepAfter:Wme,curveStepBefore:Hme},n2e=/\s*(?:(\w+)(?=:):|(\w+))\s*(?:(\w+)|((?:(?!}%{2}).|\r?\n)*))?\s*(?:}%{2})?/gi,i2e=b(function(t,e){const r=CY(t,/(?:init\b)|(?:initialize\b)/);let n={};if(Array.isArray(r)){const s=r.map(o=>o.args);g4(s),n=ci(n,[...s])}else n=r.args;if(!n)return;let i=DA(t,e);const a="config";return n[a]!==void 0&&(i==="flowchart-v2"&&(i="flowchart"),n[i]=n[a],delete n[a]),n},"detectInit"),CY=b(function(t,e=null){var r,n;try{const i=new RegExp(`[%]{2}(?![{]${n2e.source})(?=[}][%]{2}).*
`,"ig");t=t.trim().replace(i,"").replace(/'/gm,'"'),q.debug(`Detecting diagram directive${e!==null?" type:"+e:""} based on the text:${t}`);let a;const s=[];for(;(a=Cm.exec(t))!==null;)if(a.index===Cm.lastIndex&&Cm.lastIndex++,a&&!e||e&&((r=a[1])!=null&&r.match(e))||e&&((n=a[2])!=null&&n.match(e))){const o=a[1]?a[1]:a[2],l=a[3]?a[3].trim():a[4]?JSON.parse(a[4].trim()):null;s.push({type:o,args:l})}return s.length===0?{type:t,args:null}:s.length===1?s[0]:s}catch(i){return q.error(`ERROR: ${i.message} - Unable to parse directive type: '${e}' based on the text: '${t}'`),{type:void 0,args:null}}},"detectDirective"),a2e=b(function(t){return t.replace(Cm,"")},"removeDirectives"),s2e=b(function(t,e){for(const[r,n]of e.entries())if(n.match(t))return r;return-1},"isSubstringInArray");function Ey(t,e){if(!t)return e;const r=`curve${t.charAt(0).toUpperCase()+t.slice(1)}`;return r2e[r]??e}b(Ey,"interpolateToCurve");function AY(t,e){const r=t.trim();if(r)return e.securityLevel!=="loose"?bh(r):r}b(AY,"formatUrl");var o2e=b((t,...e)=>{const r=t.split("."),n=r.length-1,i=r[n];let a=window;for(let s=0;s<n;s++)if(a=a[r[s]],!a){q.error(`Function name: ${t} not found in window`);return}a[i](...e)},"runFunc");function f_(t,e){return!t||!e?0:Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}b(f_,"distance");function _Y(t){let e,r=0;t.forEach(i=>{r+=f_(i,e),e=i});const n=r/2;return p_(t,n)}b(_Y,"traverseEdge");function LY(t){return t.length===1?t[0]:_Y(t)}b(LY,"calcLabelPosition");var _I=b((t,e=2)=>{const r=Math.pow(10,e);return Math.round(t*r)/r},"roundNumber"),p_=b((t,e)=>{let r,n=e;for(const i of t){if(r){const a=f_(i,r);if(a<n)n-=a;else{const s=n/a;if(s<=0)return r;if(s>=1)return{x:i.x,y:i.y};if(s>0&&s<1)return{x:_I((1-s)*r.x+s*i.x,5),y:_I((1-s)*r.y+s*i.y,5)}}}r=i}throw new Error("Could not find a suitable point for the given distance")},"calculatePoint"),l2e=b((t,e,r)=>{q.info(`our points ${JSON.stringify(e)}`),e[0]!==r&&(e=e.reverse());const i=p_(e,25),a=t?10:5,s=Math.atan2(e[0].y-i.y,e[0].x-i.x),o={x:0,y:0};return o.x=Math.sin(s)*a+(e[0].x+i.x)/2,o.y=-Math.cos(s)*a+(e[0].y+i.y)/2,o},"calcCardinalityPosition");function NY(t,e,r){const n=structuredClone(r);q.info("our points",n),e!=="start_left"&&e!=="start_right"&&n.reverse();const i=25+t,a=p_(n,i),s=10+t*.5,o=Math.atan2(n[0].y-a.y,n[0].x-a.x),l={x:0,y:0};return e==="start_left"?(l.x=Math.sin(o+Math.PI)*s+(n[0].x+a.x)/2,l.y=-Math.cos(o+Math.PI)*s+(n[0].y+a.y)/2):e==="end_right"?(l.x=Math.sin(o-Math.PI)*s+(n[0].x+a.x)/2-5,l.y=-Math.cos(o-Math.PI)*s+(n[0].y+a.y)/2-5):e==="end_left"?(l.x=Math.sin(o)*s+(n[0].x+a.x)/2-5,l.y=-Math.cos(o)*s+(n[0].y+a.y)/2-5):(l.x=Math.sin(o)*s+(n[0].x+a.x)/2,l.y=-Math.cos(o)*s+(n[0].y+a.y)/2),l}b(NY,"calcTerminalLabelPosition");function Sy(t){let e="",r="";for(const n of t)n!==void 0&&(n.startsWith("color:")||n.startsWith("text-align:")?r=r+n+";":e=e+n+";");return{style:e,labelStyle:r}}b(Sy,"getStylesFromArray");var LI=0,RY=b(()=>(LI++,"id-"+Math.random().toString(36).substr(2,12)+"-"+LI),"generateId");function MY(t){let e="";const r="0123456789abcdef",n=r.length;for(let i=0;i<t;i++)e+=r.charAt(Math.floor(Math.random()*n));return e}b(MY,"makeRandomHex");var IY=b(t=>MY(t.length),"random"),c2e=b(function(){return{x:0,y:0,fill:void 0,anchor:"start",style:"#666",width:100,height:100,textMargin:0,rx:0,ry:0,valign:void 0,text:""}},"getTextObj"),u2e=b(function(t,e){const r=e.text.replace(et.lineBreakRegex," "),[,n]=pf(e.fontSize),i=t.append("text");i.attr("x",e.x),i.attr("y",e.y),i.style("text-anchor",e.anchor),i.style("font-family",e.fontFamily),i.style("font-size",n),i.style("font-weight",e.fontWeight),i.attr("fill",e.fill),e.class!==void 0&&i.attr("class",e.class);const a=i.append("tspan");return a.attr("x",e.x+e.textMargin*2),a.attr("fill",e.fill),a.text(r),i},"drawSimpleText"),DY=Sg((t,e,r)=>{if(!t||(r=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial",joinWith:"<br/>"},r),et.lineBreakRegex.test(t)))return t;const n=t.split(" ").filter(Boolean),i=[];let a="";return n.forEach((s,o)=>{const l=Uo(`${s} `,r),u=Uo(a,r);if(l>e){const{hyphenatedStrings:p,remainingWord:f}=h2e(s,e,"-",r);i.push(a,...p),a=f}else u+l>=e?(i.push(a),a=s):a=[a,s].filter(Boolean).join(" ");o+1===n.length&&i.push(a)}),i.filter(s=>s!=="").join(r.joinWith)},(t,e,r)=>`${t}${e}${r.fontSize}${r.fontWeight}${r.fontFamily}${r.joinWith}`),h2e=Sg((t,e,r="-",n)=>{n=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial",margin:0},n);const i=[...t],a=[];let s="";return i.forEach((o,l)=>{const u=`${s}${o}`;if(Uo(u,n)>=e){const d=l+1,p=i.length===d,f=`${u}${r}`;a.push(p?u:f),s=""}else s=u}),{hyphenatedStrings:a,remainingWord:s}},(t,e,r="-",n)=>`${t}${e}${r}${n.fontSize}${n.fontWeight}${n.fontFamily}`);function j4(t,e){return g_(t,e).height}b(j4,"calculateTextHeight");function Uo(t,e){return g_(t,e).width}b(Uo,"calculateTextWidth");var g_=Sg((t,e)=>{const{fontSize:r=12,fontFamily:n="Arial",fontWeight:i=400}=e;if(!t)return{width:0,height:0};const[,a]=pf(r),s=["sans-serif",n],o=t.split(et.lineBreakRegex),l=[],u=Ke("body");if(!u.remove)return{width:0,height:0,lineHeight:0};const h=u.append("svg");for(const p of s){let f=0;const g={width:0,height:0,lineHeight:0};for(const m of o){const y=c2e();y.text=m||SY;const v=u2e(h,y).style("font-size",a).style("font-weight",i).style("font-family",p),x=(v._groups||v)[0][0].getBBox();if(x.width===0&&x.height===0)throw new Error("svg element not in render tree");g.width=Math.round(Math.max(g.width,x.width)),f=Math.round(x.height),g.height+=f,g.lineHeight=Math.round(Math.max(g.lineHeight,f))}l.push(g)}h.remove();const d=isNaN(l[1].height)||isNaN(l[1].width)||isNaN(l[1].lineHeight)||l[0].height>l[1].height&&l[0].width>l[1].width&&l[0].lineHeight>l[1].lineHeight?0:1;return l[d]},(t,e)=>`${t}${e.fontSize}${e.fontWeight}${e.fontFamily}`),W0,d2e=(W0=class{constructor(e=!1,r){this.count=0,this.count=r?r.length:0,this.next=e?()=>this.count++:()=>Date.now()}},b(W0,"InitIDGenerator"),W0),U2,f2e=b(function(t){return U2=U2||document.createElement("div"),t=escape(t).replace(/%26/g,"&").replace(/%23/g,"#").replace(/%3B/g,";"),U2.innerHTML=t,unescape(U2.textContent)},"entityDecode");function m_(t){return"str"in t}b(m_,"isDetailedError");var p2e=b((t,e,r,n)=>{var a;if(!n)return;const i=(a=t.node())==null?void 0:a.getBBox();i&&t.append("text").text(n).attr("x",i.x+i.width/2).attr("y",-r).attr("class",e)},"insertTitle"),pf=b(t=>{if(typeof t=="number")return[t,t+"px"];const e=parseInt(t??"",10);return Number.isNaN(e)?[void 0,void 0]:t===String(e)?[e,t+"px"]:[e,t]},"parseFontSize");function Zc(t,e){return q4({},t,e)}b(Zc,"cleanAndMerge");var Jt={assignWithDepth:ci,wrapLabel:DY,calculateTextHeight:j4,calculateTextWidth:Uo,calculateTextDimensions:g_,cleanAndMerge:Zc,detectInit:i2e,detectDirective:CY,isSubstringInArray:s2e,interpolateToCurve:Ey,calcLabelPosition:LY,calcCardinalityPosition:l2e,calcTerminalLabelPosition:NY,formatUrl:AY,getStylesFromArray:Sy,generateId:RY,random:IY,runFunc:o2e,entityDecode:f2e,insertTitle:p2e,parseFontSize:pf,InitIDGenerator:d2e},g2e=b(function(t){let e=t;return e=e.replace(/style.*:\S*#.*;/g,function(r){return r.substring(0,r.length-1)}),e=e.replace(/classDef.*:\S*#.*;/g,function(r){return r.substring(0,r.length-1)}),e=e.replace(/#\w+;/g,function(r){const n=r.substring(1,r.length-1);return/^\+?\d+$/.test(n)?"ﬂ°°"+n+"¶ß":"ﬂ°"+n+"¶ß"}),e},"encodeEntities"),Id=b(function(t){return t.replace(/ﬂ°°/g,"&#").replace(/ﬂ°/g,"&").replace(/¶ß/g,";")},"decodeEntities"),OY=b((t,e,{counter:r=0,prefix:n,suffix:i})=>`${n?`${n}_`:""}${t}_${e}_${r}${i?`_${i}`:""}`,"getEdgeId");function v_(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}let gf=v_();function PY(t){gf=t}const FY=/[&<>"']/,m2e=new RegExp(FY.source,"g"),BY=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,v2e=new RegExp(BY.source,"g"),y2e={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},NI=t=>y2e[t];function ws(t,e){if(e){if(FY.test(t))return t.replace(m2e,NI)}else if(BY.test(t))return t.replace(v2e,NI);return t}const x2e=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig;function b2e(t){return t.replace(x2e,(e,r)=>(r=r.toLowerCase(),r==="colon"?":":r.charAt(0)==="#"?r.charAt(1)==="x"?String.fromCharCode(parseInt(r.substring(2),16)):String.fromCharCode(+r.substring(1)):""))}const w2e=/(^|[^\[])\^/g;function Gr(t,e){let r=typeof t=="string"?t:t.source;e=e||"";const n={replace:(i,a)=>{let s=typeof a=="string"?a:a.source;return s=s.replace(w2e,"$1"),r=r.replace(i,s),n},getRegex:()=>new RegExp(r,e)};return n}function RI(t){try{t=encodeURI(t).replace(/%25/g,"%")}catch{return null}return t}const Rm={exec:()=>null};function MI(t,e){const r=t.replace(/\|/g,(a,s,o)=>{let l=!1,u=s;for(;--u>=0&&o[u]==="\\";)l=!l;return l?"|":" |"}),n=r.split(/ \|/);let i=0;if(n[0].trim()||n.shift(),n.length>0&&!n[n.length-1].trim()&&n.pop(),e)if(n.length>e)n.splice(e);else for(;n.length<e;)n.push("");for(;i<n.length;i++)n[i]=n[i].trim().replace(/\\\|/g,"|");return n}function k1(t,e,r){const n=t.length;if(n===0)return"";let i=0;for(;i<n;){const a=t.charAt(n-i-1);if(a===e&&!r)i++;else if(a!==e&&r)i++;else break}return t.slice(0,n-i)}function k2e(t,e){if(t.indexOf(e[1])===-1)return-1;let r=0;for(let n=0;n<t.length;n++)if(t[n]==="\\")n++;else if(t[n]===e[0])r++;else if(t[n]===e[1]&&(r--,r<0))return n;return-1}function II(t,e,r,n){const i=e.href,a=e.title?ws(e.title):null,s=t[1].replace(/\\([\[\]])/g,"$1");if(t[0].charAt(0)!=="!"){n.state.inLink=!0;const o={type:"link",raw:r,href:i,title:a,text:s,tokens:n.inlineTokens(s)};return n.state.inLink=!1,o}return{type:"image",raw:r,href:i,title:a,text:ws(s)}}function T2e(t,e){const r=t.match(/^(\s+)(?:```)/);if(r===null)return e;const n=r[1];return e.split(`
`).map(i=>{const a=i.match(/^\s+/);if(a===null)return i;const[s]=a;return s.length>=n.length?i.slice(n.length):i}).join(`
`)}class X4{constructor(e){br(this,"options");br(this,"rules");br(this,"lexer");this.options=e||gf}space(e){const r=this.rules.block.newline.exec(e);if(r&&r[0].length>0)return{type:"space",raw:r[0]}}code(e){const r=this.rules.block.code.exec(e);if(r){const n=r[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:r[0],codeBlockStyle:"indented",text:this.options.pedantic?n:k1(n,`
`)}}}fences(e){const r=this.rules.block.fences.exec(e);if(r){const n=r[0],i=T2e(n,r[3]||"");return{type:"code",raw:n,lang:r[2]?r[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):r[2],text:i}}}heading(e){const r=this.rules.block.heading.exec(e);if(r){let n=r[2].trim();if(/#$/.test(n)){const i=k1(n,"#");(this.options.pedantic||!i||/ $/.test(i))&&(n=i.trim())}return{type:"heading",raw:r[0],depth:r[1].length,text:n,tokens:this.lexer.inline(n)}}}hr(e){const r=this.rules.block.hr.exec(e);if(r)return{type:"hr",raw:k1(r[0],`
`)}}blockquote(e){const r=this.rules.block.blockquote.exec(e);if(r){let n=k1(r[0],`
`).split(`
`),i="",a="";const s=[];for(;n.length>0;){let o=!1;const l=[];let u;for(u=0;u<n.length;u++)if(/^ {0,3}>/.test(n[u]))l.push(n[u]),o=!0;else if(!o)l.push(n[u]);else break;n=n.slice(u);const h=l.join(`
`),d=h.replace(/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,`
    $1`).replace(/^ {0,3}>[ \t]?/gm,"");i=i?`${i}
${h}`:h,a=a?`${a}
${d}`:d;const p=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(d,s,!0),this.lexer.state.top=p,n.length===0)break;const f=s[s.length-1];if((f==null?void 0:f.type)==="code")break;if((f==null?void 0:f.type)==="blockquote"){const g=f,m=g.raw+`
`+n.join(`
`),y=this.blockquote(m);s[s.length-1]=y,i=i.substring(0,i.length-g.raw.length)+y.raw,a=a.substring(0,a.length-g.text.length)+y.text;break}else if((f==null?void 0:f.type)==="list"){const g=f,m=g.raw+`
`+n.join(`
`),y=this.list(m);s[s.length-1]=y,i=i.substring(0,i.length-f.raw.length)+y.raw,a=a.substring(0,a.length-g.raw.length)+y.raw,n=m.substring(s[s.length-1].raw.length).split(`
`);continue}}return{type:"blockquote",raw:i,tokens:s,text:a}}}list(e){let r=this.rules.block.list.exec(e);if(r){let n=r[1].trim();const i=n.length>1,a={type:"list",raw:"",ordered:i,start:i?+n.slice(0,-1):"",loose:!1,items:[]};n=i?`\\d{1,9}\\${n.slice(-1)}`:`\\${n}`,this.options.pedantic&&(n=i?n:"[*+-]");const s=new RegExp(`^( {0,3}${n})((?:[	 ][^\\n]*)?(?:\\n|$))`);let o=!1;for(;e;){let l=!1,u="",h="";if(!(r=s.exec(e))||this.rules.block.hr.test(e))break;u=r[0],e=e.substring(u.length);let d=r[2].split(`
`,1)[0].replace(/^\t+/,v=>" ".repeat(3*v.length)),p=e.split(`
`,1)[0],f=!d.trim(),g=0;if(this.options.pedantic?(g=2,h=d.trimStart()):f?g=r[1].length+1:(g=r[2].search(/[^ ]/),g=g>4?1:g,h=d.slice(g),g+=r[1].length),f&&/^ *$/.test(p)&&(u+=p+`
`,e=e.substring(p.length+1),l=!0),!l){const v=new RegExp(`^ {0,${Math.min(3,g-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),x=new RegExp(`^ {0,${Math.min(3,g-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),w=new RegExp(`^ {0,${Math.min(3,g-1)}}(?:\`\`\`|~~~)`),k=new RegExp(`^ {0,${Math.min(3,g-1)}}#`);for(;e;){const E=e.split(`
`,1)[0];if(p=E,this.options.pedantic&&(p=p.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),w.test(p)||k.test(p)||v.test(p)||x.test(e))break;if(p.search(/[^ ]/)>=g||!p.trim())h+=`
`+p.slice(g);else{if(f||d.search(/[^ ]/)>=4||w.test(d)||k.test(d)||x.test(d))break;h+=`
`+p}!f&&!p.trim()&&(f=!0),u+=E+`
`,e=e.substring(E.length+1),d=p.slice(g)}}a.loose||(o?a.loose=!0:/\n *\n *$/.test(u)&&(o=!0));let m=null,y;this.options.gfm&&(m=/^\[[ xX]\] /.exec(h),m&&(y=m[0]!=="[ ] ",h=h.replace(/^\[[ xX]\] +/,""))),a.items.push({type:"list_item",raw:u,task:!!m,checked:y,loose:!1,text:h,tokens:[]}),a.raw+=u}a.items[a.items.length-1].raw=a.items[a.items.length-1].raw.trimEnd(),a.items[a.items.length-1].text=a.items[a.items.length-1].text.trimEnd(),a.raw=a.raw.trimEnd();for(let l=0;l<a.items.length;l++)if(this.lexer.state.top=!1,a.items[l].tokens=this.lexer.blockTokens(a.items[l].text,[]),!a.loose){const u=a.items[l].tokens.filter(d=>d.type==="space"),h=u.length>0&&u.some(d=>/\n.*\n/.test(d.raw));a.loose=h}if(a.loose)for(let l=0;l<a.items.length;l++)a.items[l].loose=!0;return a}}html(e){const r=this.rules.block.html.exec(e);if(r)return{type:"html",block:!0,raw:r[0],pre:r[1]==="pre"||r[1]==="script"||r[1]==="style",text:r[0]}}def(e){const r=this.rules.block.def.exec(e);if(r){const n=r[1].toLowerCase().replace(/\s+/g," "),i=r[2]?r[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",a=r[3]?r[3].substring(1,r[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):r[3];return{type:"def",tag:n,raw:r[0],href:i,title:a}}}table(e){const r=this.rules.block.table.exec(e);if(!r||!/[:|]/.test(r[2]))return;const n=MI(r[1]),i=r[2].replace(/^\||\| *$/g,"").split("|"),a=r[3]&&r[3].trim()?r[3].replace(/\n[ \t]*$/,"").split(`
`):[],s={type:"table",raw:r[0],header:[],align:[],rows:[]};if(n.length===i.length){for(const o of i)/^ *-+: *$/.test(o)?s.align.push("right"):/^ *:-+: *$/.test(o)?s.align.push("center"):/^ *:-+ *$/.test(o)?s.align.push("left"):s.align.push(null);for(let o=0;o<n.length;o++)s.header.push({text:n[o],tokens:this.lexer.inline(n[o]),header:!0,align:s.align[o]});for(const o of a)s.rows.push(MI(o,s.header.length).map((l,u)=>({text:l,tokens:this.lexer.inline(l),header:!1,align:s.align[u]})));return s}}lheading(e){const r=this.rules.block.lheading.exec(e);if(r)return{type:"heading",raw:r[0],depth:r[2].charAt(0)==="="?1:2,text:r[1],tokens:this.lexer.inline(r[1])}}paragraph(e){const r=this.rules.block.paragraph.exec(e);if(r){const n=r[1].charAt(r[1].length-1)===`
`?r[1].slice(0,-1):r[1];return{type:"paragraph",raw:r[0],text:n,tokens:this.lexer.inline(n)}}}text(e){const r=this.rules.block.text.exec(e);if(r)return{type:"text",raw:r[0],text:r[0],tokens:this.lexer.inline(r[0])}}escape(e){const r=this.rules.inline.escape.exec(e);if(r)return{type:"escape",raw:r[0],text:ws(r[1])}}tag(e){const r=this.rules.inline.tag.exec(e);if(r)return!this.lexer.state.inLink&&/^<a /i.test(r[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(r[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(r[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(r[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:r[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:r[0]}}link(e){const r=this.rules.inline.link.exec(e);if(r){const n=r[2].trim();if(!this.options.pedantic&&/^</.test(n)){if(!/>$/.test(n))return;const s=k1(n.slice(0,-1),"\\");if((n.length-s.length)%2===0)return}else{const s=k2e(r[2],"()");if(s>-1){const l=(r[0].indexOf("!")===0?5:4)+r[1].length+s;r[2]=r[2].substring(0,s),r[0]=r[0].substring(0,l).trim(),r[3]=""}}let i=r[2],a="";if(this.options.pedantic){const s=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(i);s&&(i=s[1],a=s[3])}else a=r[3]?r[3].slice(1,-1):"";return i=i.trim(),/^</.test(i)&&(this.options.pedantic&&!/>$/.test(n)?i=i.slice(1):i=i.slice(1,-1)),II(r,{href:i&&i.replace(this.rules.inline.anyPunctuation,"$1"),title:a&&a.replace(this.rules.inline.anyPunctuation,"$1")},r[0],this.lexer)}}reflink(e,r){let n;if((n=this.rules.inline.reflink.exec(e))||(n=this.rules.inline.nolink.exec(e))){const i=(n[2]||n[1]).replace(/\s+/g," "),a=r[i.toLowerCase()];if(!a){const s=n[0].charAt(0);return{type:"text",raw:s,text:s}}return II(n,a,n[0],this.lexer)}}emStrong(e,r,n=""){let i=this.rules.inline.emStrongLDelim.exec(e);if(!i||i[3]&&n.match(/[\p{L}\p{N}]/u))return;if(!(i[1]||i[2]||"")||!n||this.rules.inline.punctuation.exec(n)){const s=[...i[0]].length-1;let o,l,u=s,h=0;const d=i[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(d.lastIndex=0,r=r.slice(-1*e.length+s);(i=d.exec(r))!=null;){if(o=i[1]||i[2]||i[3]||i[4]||i[5]||i[6],!o)continue;if(l=[...o].length,i[3]||i[4]){u+=l;continue}else if((i[5]||i[6])&&s%3&&!((s+l)%3)){h+=l;continue}if(u-=l,u>0)continue;l=Math.min(l,l+u+h);const p=[...i[0]][0].length,f=e.slice(0,s+i.index+p+l);if(Math.min(s,l)%2){const m=f.slice(1,-1);return{type:"em",raw:f,text:m,tokens:this.lexer.inlineTokens(m)}}const g=f.slice(2,-2);return{type:"strong",raw:f,text:g,tokens:this.lexer.inlineTokens(g)}}}}codespan(e){const r=this.rules.inline.code.exec(e);if(r){let n=r[2].replace(/\n/g," ");const i=/[^ ]/.test(n),a=/^ /.test(n)&&/ $/.test(n);return i&&a&&(n=n.substring(1,n.length-1)),n=ws(n,!0),{type:"codespan",raw:r[0],text:n}}}br(e){const r=this.rules.inline.br.exec(e);if(r)return{type:"br",raw:r[0]}}del(e){const r=this.rules.inline.del.exec(e);if(r)return{type:"del",raw:r[0],text:r[2],tokens:this.lexer.inlineTokens(r[2])}}autolink(e){const r=this.rules.inline.autolink.exec(e);if(r){let n,i;return r[2]==="@"?(n=ws(r[1]),i="mailto:"+n):(n=ws(r[1]),i=n),{type:"link",raw:r[0],text:n,href:i,tokens:[{type:"text",raw:n,text:n}]}}}url(e){var n;let r;if(r=this.rules.inline.url.exec(e)){let i,a;if(r[2]==="@")i=ws(r[0]),a="mailto:"+i;else{let s;do s=r[0],r[0]=((n=this.rules.inline._backpedal.exec(r[0]))==null?void 0:n[0])??"";while(s!==r[0]);i=ws(r[0]),r[1]==="www."?a="http://"+r[0]:a=r[0]}return{type:"link",raw:r[0],text:i,href:a,tokens:[{type:"text",raw:i,text:i}]}}}inlineText(e){const r=this.rules.inline.text.exec(e);if(r){let n;return this.lexer.state.inRawBlock?n=r[0]:n=ws(r[0]),{type:"text",raw:r[0],text:n}}}}const E2e=/^(?: *(?:\n|$))+/,S2e=/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,C2e=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,Cy=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,A2e=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,$Y=/(?:[*+-]|\d{1,9}[.)])/,zY=Gr(/^(?!bull |blockCode|fences|blockquote|heading|html)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html))+?)\n {0,3}(=+|-+) *(?:\n+|$)/).replace(/bull/g,$Y).replace(/blockCode/g,/ {4}/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).getRegex(),y_=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,_2e=/^[^\n]+/,x_=/(?!\s*\])(?:\\.|[^\[\]\\])+/,L2e=Gr(/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/).replace("label",x_).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),N2e=Gr(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,$Y).getRegex(),mw="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",b_=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,R2e=Gr("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))","i").replace("comment",b_).replace("tag",mw).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),UY=Gr(y_).replace("hr",Cy).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",mw).getRegex(),M2e=Gr(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",UY).getRegex(),w_={blockquote:M2e,code:S2e,def:L2e,fences:C2e,heading:A2e,hr:Cy,html:R2e,lheading:zY,list:N2e,newline:E2e,paragraph:UY,table:Rm,text:_2e},DI=Gr("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",Cy).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",mw).getRegex(),I2e={...w_,table:DI,paragraph:Gr(y_).replace("hr",Cy).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",DI).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",mw).getRegex()},D2e={...w_,html:Gr(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",b_).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:Rm,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:Gr(y_).replace("hr",Cy).replace("heading",` *#{1,6} *[^
]`).replace("lheading",zY).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},VY=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,O2e=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,GY=/^( {2,}|\\)\n(?!\s*$)/,P2e=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,Ay="\\p{P}\\p{S}",F2e=Gr(/^((?![*_])[\spunctuation])/,"u").replace(/punctuation/g,Ay).getRegex(),B2e=/\[[^[\]]*?\]\([^\(\)]*?\)|`[^`]*?`|<[^<>]*?>/g,$2e=Gr(/^(?:\*+(?:((?!\*)[punct])|[^\s*]))|^_+(?:((?!_)[punct])|([^\s_]))/,"u").replace(/punct/g,Ay).getRegex(),z2e=Gr("^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)[punct](\\*+)(?=[\\s]|$)|[^punct\\s](\\*+)(?!\\*)(?=[punct\\s]|$)|(?!\\*)[punct\\s](\\*+)(?=[^punct\\s])|[\\s](\\*+)(?!\\*)(?=[punct])|(?!\\*)[punct](\\*+)(?!\\*)(?=[punct])|[^punct\\s](\\*+)(?=[^punct\\s])","gu").replace(/punct/g,Ay).getRegex(),U2e=Gr("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)[punct](_+)(?=[\\s]|$)|[^punct\\s](_+)(?!_)(?=[punct\\s]|$)|(?!_)[punct\\s](_+)(?=[^punct\\s])|[\\s](_+)(?!_)(?=[punct])|(?!_)[punct](_+)(?!_)(?=[punct])","gu").replace(/punct/g,Ay).getRegex(),V2e=Gr(/\\([punct])/,"gu").replace(/punct/g,Ay).getRegex(),G2e=Gr(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),H2e=Gr(b_).replace("(?:-->|$)","-->").getRegex(),W2e=Gr("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",H2e).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),K4=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,Y2e=Gr(/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/).replace("label",K4).replace("href",/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),HY=Gr(/^!?\[(label)\]\[(ref)\]/).replace("label",K4).replace("ref",x_).getRegex(),WY=Gr(/^!?\[(ref)\](?:\[\])?/).replace("ref",x_).getRegex(),q2e=Gr("reflink|nolink(?!\\()","g").replace("reflink",HY).replace("nolink",WY).getRegex(),k_={_backpedal:Rm,anyPunctuation:V2e,autolink:G2e,blockSkip:B2e,br:GY,code:O2e,del:Rm,emStrongLDelim:$2e,emStrongRDelimAst:z2e,emStrongRDelimUnd:U2e,escape:VY,link:Y2e,nolink:WY,punctuation:F2e,reflink:HY,reflinkSearch:q2e,tag:W2e,text:P2e,url:Rm},j2e={...k_,link:Gr(/^!?\[(label)\]\((.*?)\)/).replace("label",K4).getRegex(),reflink:Gr(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",K4).getRegex()},fS={...k_,escape:Gr(VY).replace("])","~|])").getRegex(),url:Gr(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,"i").replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},X2e={...fS,br:Gr(GY).replace("{2,}","*").getRegex(),text:Gr(fS.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},V2={normal:w_,gfm:I2e,pedantic:D2e},T1={normal:k_,gfm:fS,breaks:X2e,pedantic:j2e};class gl{constructor(e){br(this,"tokens");br(this,"options");br(this,"state");br(this,"tokenizer");br(this,"inlineQueue");this.tokens=[],this.tokens.links=Object.create(null),this.options=e||gf,this.options.tokenizer=this.options.tokenizer||new X4,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const r={block:V2.normal,inline:T1.normal};this.options.pedantic?(r.block=V2.pedantic,r.inline=T1.pedantic):this.options.gfm&&(r.block=V2.gfm,this.options.breaks?r.inline=T1.breaks:r.inline=T1.gfm),this.tokenizer.rules=r}static get rules(){return{block:V2,inline:T1}}static lex(e,r){return new gl(r).lex(e)}static lexInline(e,r){return new gl(r).inlineTokens(e)}lex(e){e=e.replace(/\r\n|\r/g,`
`),this.blockTokens(e,this.tokens);for(let r=0;r<this.inlineQueue.length;r++){const n=this.inlineQueue[r];this.inlineTokens(n.src,n.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(e,r=[],n=!1){this.options.pedantic?e=e.replace(/\t/g,"    ").replace(/^ +$/gm,""):e=e.replace(/^( *)(\t+)/gm,(o,l,u)=>l+"    ".repeat(u.length));let i,a,s;for(;e;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(o=>(i=o.call({lexer:this},e,r))?(e=e.substring(i.raw.length),r.push(i),!0):!1))){if(i=this.tokenizer.space(e)){e=e.substring(i.raw.length),i.raw.length===1&&r.length>0?r[r.length-1].raw+=`
`:r.push(i);continue}if(i=this.tokenizer.code(e)){e=e.substring(i.raw.length),a=r[r.length-1],a&&(a.type==="paragraph"||a.type==="text")?(a.raw+=`
`+i.raw,a.text+=`
`+i.text,this.inlineQueue[this.inlineQueue.length-1].src=a.text):r.push(i);continue}if(i=this.tokenizer.fences(e)){e=e.substring(i.raw.length),r.push(i);continue}if(i=this.tokenizer.heading(e)){e=e.substring(i.raw.length),r.push(i);continue}if(i=this.tokenizer.hr(e)){e=e.substring(i.raw.length),r.push(i);continue}if(i=this.tokenizer.blockquote(e)){e=e.substring(i.raw.length),r.push(i);continue}if(i=this.tokenizer.list(e)){e=e.substring(i.raw.length),r.push(i);continue}if(i=this.tokenizer.html(e)){e=e.substring(i.raw.length),r.push(i);continue}if(i=this.tokenizer.def(e)){e=e.substring(i.raw.length),a=r[r.length-1],a&&(a.type==="paragraph"||a.type==="text")?(a.raw+=`
`+i.raw,a.text+=`
`+i.raw,this.inlineQueue[this.inlineQueue.length-1].src=a.text):this.tokens.links[i.tag]||(this.tokens.links[i.tag]={href:i.href,title:i.title});continue}if(i=this.tokenizer.table(e)){e=e.substring(i.raw.length),r.push(i);continue}if(i=this.tokenizer.lheading(e)){e=e.substring(i.raw.length),r.push(i);continue}if(s=e,this.options.extensions&&this.options.extensions.startBlock){let o=1/0;const l=e.slice(1);let u;this.options.extensions.startBlock.forEach(h=>{u=h.call({lexer:this},l),typeof u=="number"&&u>=0&&(o=Math.min(o,u))}),o<1/0&&o>=0&&(s=e.substring(0,o+1))}if(this.state.top&&(i=this.tokenizer.paragraph(s))){a=r[r.length-1],n&&(a==null?void 0:a.type)==="paragraph"?(a.raw+=`
`+i.raw,a.text+=`
`+i.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=a.text):r.push(i),n=s.length!==e.length,e=e.substring(i.raw.length);continue}if(i=this.tokenizer.text(e)){e=e.substring(i.raw.length),a=r[r.length-1],a&&a.type==="text"?(a.raw+=`
`+i.raw,a.text+=`
`+i.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=a.text):r.push(i);continue}if(e){const o="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(o);break}else throw new Error(o)}}return this.state.top=!0,r}inline(e,r=[]){return this.inlineQueue.push({src:e,tokens:r}),r}inlineTokens(e,r=[]){let n,i,a,s=e,o,l,u;if(this.tokens.links){const h=Object.keys(this.tokens.links);if(h.length>0)for(;(o=this.tokenizer.rules.inline.reflinkSearch.exec(s))!=null;)h.includes(o[0].slice(o[0].lastIndexOf("[")+1,-1))&&(s=s.slice(0,o.index)+"["+"a".repeat(o[0].length-2)+"]"+s.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(o=this.tokenizer.rules.inline.blockSkip.exec(s))!=null;)s=s.slice(0,o.index)+"["+"a".repeat(o[0].length-2)+"]"+s.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(o=this.tokenizer.rules.inline.anyPunctuation.exec(s))!=null;)s=s.slice(0,o.index)+"++"+s.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;e;)if(l||(u=""),l=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(h=>(n=h.call({lexer:this},e,r))?(e=e.substring(n.raw.length),r.push(n),!0):!1))){if(n=this.tokenizer.escape(e)){e=e.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.tag(e)){e=e.substring(n.raw.length),i=r[r.length-1],i&&n.type==="text"&&i.type==="text"?(i.raw+=n.raw,i.text+=n.text):r.push(n);continue}if(n=this.tokenizer.link(e)){e=e.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(n.raw.length),i=r[r.length-1],i&&n.type==="text"&&i.type==="text"?(i.raw+=n.raw,i.text+=n.text):r.push(n);continue}if(n=this.tokenizer.emStrong(e,s,u)){e=e.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.codespan(e)){e=e.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.br(e)){e=e.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.del(e)){e=e.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.autolink(e)){e=e.substring(n.raw.length),r.push(n);continue}if(!this.state.inLink&&(n=this.tokenizer.url(e))){e=e.substring(n.raw.length),r.push(n);continue}if(a=e,this.options.extensions&&this.options.extensions.startInline){let h=1/0;const d=e.slice(1);let p;this.options.extensions.startInline.forEach(f=>{p=f.call({lexer:this},d),typeof p=="number"&&p>=0&&(h=Math.min(h,p))}),h<1/0&&h>=0&&(a=e.substring(0,h+1))}if(n=this.tokenizer.inlineText(a)){e=e.substring(n.raw.length),n.raw.slice(-1)!=="_"&&(u=n.raw.slice(-1)),l=!0,i=r[r.length-1],i&&i.type==="text"?(i.raw+=n.raw,i.text+=n.text):r.push(n);continue}if(e){const h="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(h);break}else throw new Error(h)}}return r}}class Q4{constructor(e){br(this,"options");br(this,"parser");this.options=e||gf}space(e){return""}code({text:e,lang:r,escaped:n}){var s;const i=(s=(r||"").match(/^\S*/))==null?void 0:s[0],a=e.replace(/\n$/,"")+`
`;return i?'<pre><code class="language-'+ws(i)+'">'+(n?a:ws(a,!0))+`</code></pre>
`:"<pre><code>"+(n?a:ws(a,!0))+`</code></pre>
`}blockquote({tokens:e}){return`<blockquote>
${this.parser.parse(e)}</blockquote>
`}html({text:e}){return e}heading({tokens:e,depth:r}){return`<h${r}>${this.parser.parseInline(e)}</h${r}>
`}hr(e){return`<hr>
`}list(e){const r=e.ordered,n=e.start;let i="";for(let o=0;o<e.items.length;o++){const l=e.items[o];i+=this.listitem(l)}const a=r?"ol":"ul",s=r&&n!==1?' start="'+n+'"':"";return"<"+a+s+`>
`+i+"</"+a+`>
`}listitem(e){let r="";if(e.task){const n=this.checkbox({checked:!!e.checked});e.loose?e.tokens.length>0&&e.tokens[0].type==="paragraph"?(e.tokens[0].text=n+" "+e.tokens[0].text,e.tokens[0].tokens&&e.tokens[0].tokens.length>0&&e.tokens[0].tokens[0].type==="text"&&(e.tokens[0].tokens[0].text=n+" "+e.tokens[0].tokens[0].text)):e.tokens.unshift({type:"text",raw:n+" ",text:n+" "}):r+=n+" "}return r+=this.parser.parse(e.tokens,!!e.loose),`<li>${r}</li>
`}checkbox({checked:e}){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph({tokens:e}){return`<p>${this.parser.parseInline(e)}</p>
`}table(e){let r="",n="";for(let a=0;a<e.header.length;a++)n+=this.tablecell(e.header[a]);r+=this.tablerow({text:n});let i="";for(let a=0;a<e.rows.length;a++){const s=e.rows[a];n="";for(let o=0;o<s.length;o++)n+=this.tablecell(s[o]);i+=this.tablerow({text:n})}return i&&(i=`<tbody>${i}</tbody>`),`<table>
<thead>
`+r+`</thead>
`+i+`</table>
`}tablerow({text:e}){return`<tr>
${e}</tr>
`}tablecell(e){const r=this.parser.parseInline(e.tokens),n=e.header?"th":"td";return(e.align?`<${n} align="${e.align}">`:`<${n}>`)+r+`</${n}>
`}strong({tokens:e}){return`<strong>${this.parser.parseInline(e)}</strong>`}em({tokens:e}){return`<em>${this.parser.parseInline(e)}</em>`}codespan({text:e}){return`<code>${e}</code>`}br(e){return"<br>"}del({tokens:e}){return`<del>${this.parser.parseInline(e)}</del>`}link({href:e,title:r,tokens:n}){const i=this.parser.parseInline(n),a=RI(e);if(a===null)return i;e=a;let s='<a href="'+e+'"';return r&&(s+=' title="'+r+'"'),s+=">"+i+"</a>",s}image({href:e,title:r,text:n}){const i=RI(e);if(i===null)return n;e=i;let a=`<img src="${e}" alt="${n}"`;return r&&(a+=` title="${r}"`),a+=">",a}text(e){return"tokens"in e&&e.tokens?this.parser.parseInline(e.tokens):e.text}}class T_{strong({text:e}){return e}em({text:e}){return e}codespan({text:e}){return e}del({text:e}){return e}html({text:e}){return e}text({text:e}){return e}link({text:e}){return""+e}image({text:e}){return""+e}br(){return""}}class ml{constructor(e){br(this,"options");br(this,"renderer");br(this,"textRenderer");this.options=e||gf,this.options.renderer=this.options.renderer||new Q4,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new T_}static parse(e,r){return new ml(r).parse(e)}static parseInline(e,r){return new ml(r).parseInline(e)}parse(e,r=!0){let n="";for(let i=0;i<e.length;i++){const a=e[i];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[a.type]){const o=a,l=this.options.extensions.renderers[o.type].call({parser:this},o);if(l!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(o.type)){n+=l||"";continue}}const s=a;switch(s.type){case"space":{n+=this.renderer.space(s);continue}case"hr":{n+=this.renderer.hr(s);continue}case"heading":{n+=this.renderer.heading(s);continue}case"code":{n+=this.renderer.code(s);continue}case"table":{n+=this.renderer.table(s);continue}case"blockquote":{n+=this.renderer.blockquote(s);continue}case"list":{n+=this.renderer.list(s);continue}case"html":{n+=this.renderer.html(s);continue}case"paragraph":{n+=this.renderer.paragraph(s);continue}case"text":{let o=s,l=this.renderer.text(o);for(;i+1<e.length&&e[i+1].type==="text";)o=e[++i],l+=`
`+this.renderer.text(o);r?n+=this.renderer.paragraph({type:"paragraph",raw:l,text:l,tokens:[{type:"text",raw:l,text:l}]}):n+=l;continue}default:{const o='Token with "'+s.type+'" type was not found.';if(this.options.silent)return console.error(o),"";throw new Error(o)}}}return n}parseInline(e,r){r=r||this.renderer;let n="";for(let i=0;i<e.length;i++){const a=e[i];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[a.type]){const o=this.options.extensions.renderers[a.type].call({parser:this},a);if(o!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(a.type)){n+=o||"";continue}}const s=a;switch(s.type){case"escape":{n+=r.text(s);break}case"html":{n+=r.html(s);break}case"link":{n+=r.link(s);break}case"image":{n+=r.image(s);break}case"strong":{n+=r.strong(s);break}case"em":{n+=r.em(s);break}case"codespan":{n+=r.codespan(s);break}case"br":{n+=r.br(s);break}case"del":{n+=r.del(s);break}case"text":{n+=r.text(s);break}default:{const o='Token with "'+s.type+'" type was not found.';if(this.options.silent)return console.error(o),"";throw new Error(o)}}}return n}}class Mm{constructor(e){br(this,"options");this.options=e||gf}preprocess(e){return e}postprocess(e){return e}processAllTokens(e){return e}}br(Mm,"passThroughHooks",new Set(["preprocess","postprocess","processAllTokens"]));var Yc,YY,pS,qY;class K2e{constructor(...e){JN(this,Yc);br(this,"defaults",v_());br(this,"options",this.setOptions);br(this,"parse",n1(this,Yc,pS).call(this,gl.lex,ml.parse));br(this,"parseInline",n1(this,Yc,pS).call(this,gl.lexInline,ml.parseInline));br(this,"Parser",ml);br(this,"Renderer",Q4);br(this,"TextRenderer",T_);br(this,"Lexer",gl);br(this,"Tokenizer",X4);br(this,"Hooks",Mm);this.use(...e)}walkTokens(e,r){var i,a;let n=[];for(const s of e)switch(n=n.concat(r.call(this,s)),s.type){case"table":{const o=s;for(const l of o.header)n=n.concat(this.walkTokens(l.tokens,r));for(const l of o.rows)for(const u of l)n=n.concat(this.walkTokens(u.tokens,r));break}case"list":{const o=s;n=n.concat(this.walkTokens(o.items,r));break}default:{const o=s;(a=(i=this.defaults.extensions)==null?void 0:i.childTokens)!=null&&a[o.type]?this.defaults.extensions.childTokens[o.type].forEach(l=>{const u=o[l].flat(1/0);n=n.concat(this.walkTokens(u,r))}):o.tokens&&(n=n.concat(this.walkTokens(o.tokens,r)))}}return n}use(...e){const r=this.defaults.extensions||{renderers:{},childTokens:{}};return e.forEach(n=>{const i={...n};if(i.async=this.defaults.async||i.async||!1,n.extensions&&(n.extensions.forEach(a=>{if(!a.name)throw new Error("extension name required");if("renderer"in a){const s=r.renderers[a.name];s?r.renderers[a.name]=function(...o){let l=a.renderer.apply(this,o);return l===!1&&(l=s.apply(this,o)),l}:r.renderers[a.name]=a.renderer}if("tokenizer"in a){if(!a.level||a.level!=="block"&&a.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");const s=r[a.level];s?s.unshift(a.tokenizer):r[a.level]=[a.tokenizer],a.start&&(a.level==="block"?r.startBlock?r.startBlock.push(a.start):r.startBlock=[a.start]:a.level==="inline"&&(r.startInline?r.startInline.push(a.start):r.startInline=[a.start]))}"childTokens"in a&&a.childTokens&&(r.childTokens[a.name]=a.childTokens)}),i.extensions=r),n.renderer){const a=this.defaults.renderer||new Q4(this.defaults);for(const s in n.renderer){if(!(s in a))throw new Error(`renderer '${s}' does not exist`);if(["options","parser"].includes(s))continue;const o=s;let l=n.renderer[o];n.useNewRenderer||(l=n1(this,Yc,YY).call(this,l,o,a));const u=a[o];a[o]=(...h)=>{let d=l.apply(a,h);return d===!1&&(d=u.apply(a,h)),d||""}}i.renderer=a}if(n.tokenizer){const a=this.defaults.tokenizer||new X4(this.defaults);for(const s in n.tokenizer){if(!(s in a))throw new Error(`tokenizer '${s}' does not exist`);if(["options","rules","lexer"].includes(s))continue;const o=s,l=n.tokenizer[o],u=a[o];a[o]=(...h)=>{let d=l.apply(a,h);return d===!1&&(d=u.apply(a,h)),d}}i.tokenizer=a}if(n.hooks){const a=this.defaults.hooks||new Mm;for(const s in n.hooks){if(!(s in a))throw new Error(`hook '${s}' does not exist`);if(s==="options")continue;const o=s,l=n.hooks[o],u=a[o];Mm.passThroughHooks.has(s)?a[o]=h=>{if(this.defaults.async)return Promise.resolve(l.call(a,h)).then(p=>u.call(a,p));const d=l.call(a,h);return u.call(a,d)}:a[o]=(...h)=>{let d=l.apply(a,h);return d===!1&&(d=u.apply(a,h)),d}}i.hooks=a}if(n.walkTokens){const a=this.defaults.walkTokens,s=n.walkTokens;i.walkTokens=function(o){let l=[];return l.push(s.call(this,o)),a&&(l=l.concat(a.call(this,o))),l}}this.defaults={...this.defaults,...i}}),this}setOptions(e){return this.defaults={...this.defaults,...e},this}lexer(e,r){return gl.lex(e,r??this.defaults)}parser(e,r){return ml.parse(e,r??this.defaults)}}Yc=new WeakSet,YY=function(e,r,n){switch(r){case"heading":return function(i){return!i.type||i.type!==r?e.apply(this,arguments):e.call(this,n.parser.parseInline(i.tokens),i.depth,b2e(n.parser.parseInline(i.tokens,n.parser.textRenderer)))};case"code":return function(i){return!i.type||i.type!==r?e.apply(this,arguments):e.call(this,i.text,i.lang,!!i.escaped)};case"table":return function(i){if(!i.type||i.type!==r)return e.apply(this,arguments);let a="",s="";for(let l=0;l<i.header.length;l++)s+=this.tablecell({text:i.header[l].text,tokens:i.header[l].tokens,header:!0,align:i.align[l]});a+=this.tablerow({text:s});let o="";for(let l=0;l<i.rows.length;l++){const u=i.rows[l];s="";for(let h=0;h<u.length;h++)s+=this.tablecell({text:u[h].text,tokens:u[h].tokens,header:!1,align:i.align[h]});o+=this.tablerow({text:s})}return e.call(this,a,o)};case"blockquote":return function(i){if(!i.type||i.type!==r)return e.apply(this,arguments);const a=this.parser.parse(i.tokens);return e.call(this,a)};case"list":return function(i){if(!i.type||i.type!==r)return e.apply(this,arguments);const a=i.ordered,s=i.start,o=i.loose;let l="";for(let u=0;u<i.items.length;u++){const h=i.items[u],d=h.checked,p=h.task;let f="";if(h.task){const g=this.checkbox({checked:!!d});o?h.tokens.length>0&&h.tokens[0].type==="paragraph"?(h.tokens[0].text=g+" "+h.tokens[0].text,h.tokens[0].tokens&&h.tokens[0].tokens.length>0&&h.tokens[0].tokens[0].type==="text"&&(h.tokens[0].tokens[0].text=g+" "+h.tokens[0].tokens[0].text)):h.tokens.unshift({type:"text",text:g+" "}):f+=g+" "}f+=this.parser.parse(h.tokens,o),l+=this.listitem({type:"list_item",raw:f,text:f,task:p,checked:!!d,loose:o,tokens:h.tokens})}return e.call(this,l,a,s)};case"html":return function(i){return!i.type||i.type!==r?e.apply(this,arguments):e.call(this,i.text,i.block)};case"paragraph":return function(i){return!i.type||i.type!==r?e.apply(this,arguments):e.call(this,this.parser.parseInline(i.tokens))};case"escape":return function(i){return!i.type||i.type!==r?e.apply(this,arguments):e.call(this,i.text)};case"link":return function(i){return!i.type||i.type!==r?e.apply(this,arguments):e.call(this,i.href,i.title,this.parser.parseInline(i.tokens))};case"image":return function(i){return!i.type||i.type!==r?e.apply(this,arguments):e.call(this,i.href,i.title,i.text)};case"strong":return function(i){return!i.type||i.type!==r?e.apply(this,arguments):e.call(this,this.parser.parseInline(i.tokens))};case"em":return function(i){return!i.type||i.type!==r?e.apply(this,arguments):e.call(this,this.parser.parseInline(i.tokens))};case"codespan":return function(i){return!i.type||i.type!==r?e.apply(this,arguments):e.call(this,i.text)};case"del":return function(i){return!i.type||i.type!==r?e.apply(this,arguments):e.call(this,this.parser.parseInline(i.tokens))};case"text":return function(i){return!i.type||i.type!==r?e.apply(this,arguments):e.call(this,i.text)}}return e},pS=function(e,r){return(n,i)=>{const a={...i},s={...this.defaults,...a};this.defaults.async===!0&&a.async===!1&&(s.silent||console.warn("marked(): The async option was set to true by an extension. The async: false option sent to parse will be ignored."),s.async=!0);const o=n1(this,Yc,qY).call(this,!!s.silent,!!s.async);if(typeof n>"u"||n===null)return o(new Error("marked(): input parameter is undefined or null"));if(typeof n!="string")return o(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(n)+", string expected"));if(s.hooks&&(s.hooks.options=s),s.async)return Promise.resolve(s.hooks?s.hooks.preprocess(n):n).then(l=>e(l,s)).then(l=>s.hooks?s.hooks.processAllTokens(l):l).then(l=>s.walkTokens?Promise.all(this.walkTokens(l,s.walkTokens)).then(()=>l):l).then(l=>r(l,s)).then(l=>s.hooks?s.hooks.postprocess(l):l).catch(o);try{s.hooks&&(n=s.hooks.preprocess(n));let l=e(n,s);s.hooks&&(l=s.hooks.processAllTokens(l)),s.walkTokens&&this.walkTokens(l,s.walkTokens);let u=r(l,s);return s.hooks&&(u=s.hooks.postprocess(u)),u}catch(l){return o(l)}}},qY=function(e,r){return n=>{if(n.message+=`
Please report this to https://github.com/markedjs/marked.`,e){const i="<p>An error occurred:</p><pre>"+ws(n.message+"",!0)+"</pre>";return r?Promise.resolve(i):i}if(r)return Promise.reject(n);throw n}};const Dd=new K2e;function Ir(t,e){return Dd.parse(t,e)}Ir.options=Ir.setOptions=function(t){return Dd.setOptions(t),Ir.defaults=Dd.defaults,PY(Ir.defaults),Ir};Ir.getDefaults=v_;Ir.defaults=gf;Ir.use=function(...t){return Dd.use(...t),Ir.defaults=Dd.defaults,PY(Ir.defaults),Ir};Ir.walkTokens=function(t,e){return Dd.walkTokens(t,e)};Ir.parseInline=Dd.parseInline;Ir.Parser=ml;Ir.parser=ml.parse;Ir.Renderer=Q4;Ir.TextRenderer=T_;Ir.Lexer=gl;Ir.lexer=gl.lex;Ir.Tokenizer=X4;Ir.Hooks=Mm;Ir.parse=Ir;Ir.options;Ir.setOptions;Ir.use;Ir.walkTokens;Ir.parseInline;ml.parse;gl.lex;function jY(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];var n=Array.from(typeof t=="string"?[t]:t);n[n.length-1]=n[n.length-1].replace(/\r?\n([\t ]*)$/,"");var i=n.reduce(function(o,l){var u=l.match(/\n([\t ]+|(?!\s).)/g);return u?o.concat(u.map(function(h){var d,p;return(p=(d=h.match(/[\t ]/g))===null||d===void 0?void 0:d.length)!==null&&p!==void 0?p:0})):o},[]);if(i.length){var a=new RegExp(`
[	 ]{`+Math.min.apply(Math,i)+"}","g");n=n.map(function(o){return o.replace(a,`
`)})}n[0]=n[0].replace(/^\r?\n/,"");var s=n[0];return e.forEach(function(o,l){var u=s.match(/(?:^|\n)( *)$/),h=u?u[1]:"",d=o;typeof o=="string"&&o.includes(`
`)&&(d=String(o).split(`
`).map(function(p,f){return f===0?p:""+h+p}).join(`
`)),s+=d+n[l+1]}),s}function XY(t,{markdownAutoWrap:e}){const n=t.replace(/<br\/>/g,`
`).replace(/\n{2,}/g,`
`),i=jY(n);return e===!1?i.replace(/ /g,"&nbsp;"):i}b(XY,"preprocessMarkdown");function KY(t,e={}){const r=XY(t,e),n=Ir.lexer(r),i=[[]];let a=0;function s(o,l="normal"){o.type==="text"?o.text.split(`
`).forEach((h,d)=>{d!==0&&(a++,i.push([])),h.split(" ").forEach(p=>{p&&i[a].push({content:p,type:l})})}):o.type==="strong"||o.type==="em"?o.tokens.forEach(u=>{s(u,o.type)}):o.type==="html"&&i[a].push({content:o.text,type:"normal"})}return b(s,"processNode"),n.forEach(o=>{var l;o.type==="paragraph"?(l=o.tokens)==null||l.forEach(u=>{s(u)}):o.type==="html"&&i[a].push({content:o.text,type:"normal"})}),i}b(KY,"markdownToLines");function QY(t,{markdownAutoWrap:e}={}){const r=Ir.lexer(t);function n(i){var a,s,o;return i.type==="text"?e===!1?i.text.replace(/\n */g,"<br/>").replace(/ /g,"&nbsp;"):i.text.replace(/\n */g,"<br/>"):i.type==="strong"?`<strong>${(a=i.tokens)==null?void 0:a.map(n).join("")}</strong>`:i.type==="em"?`<em>${(s=i.tokens)==null?void 0:s.map(n).join("")}</em>`:i.type==="paragraph"?`<p>${(o=i.tokens)==null?void 0:o.map(n).join("")}</p>`:i.type==="space"?"":i.type==="html"?`${i.text}`:`Unsupported markdown: ${i.type}`}return b(n,"output"),r.map(n).join("")}b(QY,"markdownToHTML");function ZY(t){return Intl.Segmenter?[...new Intl.Segmenter().segment(t)].map(e=>e.segment):[...t]}b(ZY,"splitTextToChars");function JY(t,e){const r=ZY(e.content);return E_(t,[],r,e.type)}b(JY,"splitWordToFitWidth");function E_(t,e,r,n){if(r.length===0)return[{content:e.join(""),type:n},{content:"",type:n}];const[i,...a]=r,s=[...e,i];return t([{content:s.join(""),type:n}])?E_(t,s,a,n):(e.length===0&&i&&(e.push(i),r.shift()),[{content:e.join(""),type:n},{content:r.join(""),type:n}])}b(E_,"splitWordToFitWidthRecursion");function eq(t,e){if(t.some(({content:r})=>r.includes(`
`)))throw new Error("splitLineToFitWidth does not support newlines in the line");return Z4(t,e)}b(eq,"splitLineToFitWidth");function Z4(t,e,r=[],n=[]){if(t.length===0)return n.length>0&&r.push(n),r.length>0?r:[];let i="";t[0].content===" "&&(i=" ",t.shift());const a=t.shift()??{content:" ",type:"normal"},s=[...n];if(i!==""&&s.push({content:i,type:"normal"}),s.push(a),e(s))return Z4(t,e,r,s);if(n.length>0)r.push(n),t.unshift(a);else if(a.content){const[o,l]=JY(e,a);r.push([o]),l.content&&t.unshift(l)}return Z4(t,e,r)}b(Z4,"splitLineToFitWidthRecursion");function gS(t,e){e&&t.attr("style",e)}b(gS,"applyStyle");async function tq(t,e,r,n,i=!1){const a=t.append("foreignObject");a.attr("width",`${10*r}px`),a.attr("height",`${10*r}px`);const s=a.append("xhtml:div");let o=e.label;e.label&&Oa(e.label)&&(o=await py(e.label.replace(et.lineBreakRegex,`
`),we()));const l=e.isNode?"nodeLabel":"edgeLabel",u=s.append("span");u.html(o),gS(u,e.labelStyle),u.attr("class",`${l} ${n}`),gS(s,e.labelStyle),s.style("display","table-cell"),s.style("white-space","nowrap"),s.style("line-height","1.5"),s.style("max-width",r+"px"),s.style("text-align","center"),s.attr("xmlns","http://www.w3.org/1999/xhtml"),i&&s.attr("class","labelBkg");let h=s.node().getBoundingClientRect();return h.width===r&&(s.style("display","table"),s.style("white-space","break-spaces"),s.style("width",r+"px"),h=s.node().getBoundingClientRect()),a.node()}b(tq,"addHtmlSpan");function vw(t,e,r){return t.append("tspan").attr("class","text-outer-tspan").attr("x",0).attr("y",e*r-.1+"em").attr("dy",r+"em")}b(vw,"createTspan");function rq(t,e,r){const n=t.append("text"),i=vw(n,1,e);yw(i,r);const a=i.node().getComputedTextLength();return n.remove(),a}b(rq,"computeWidthOfText");function nq(t,e,r){var s;const n=t.append("text"),i=vw(n,1,e);yw(i,[{content:r,type:"normal"}]);const a=(s=i.node())==null?void 0:s.getBoundingClientRect();return a&&n.remove(),a}b(nq,"computeDimensionOfText");function iq(t,e,r,n=!1){const a=e.append("g"),s=a.insert("rect").attr("class","background").attr("style","stroke: none"),o=a.append("text").attr("y","-10.1");let l=0;for(const u of r){const h=b(p=>rq(a,1.1,p)<=t,"checkWidth"),d=h(u)?[u]:eq(u,h);for(const p of d){const f=vw(o,l,1.1);yw(f,p),l++}}if(n){const u=o.node().getBBox(),h=2;return s.attr("x",u.x-h).attr("y",u.y-h).attr("width",u.width+2*h).attr("height",u.height+2*h),a.node()}else return o.node()}b(iq,"createFormattedText");function yw(t,e){t.text(""),e.forEach((r,n)=>{const i=t.append("tspan").attr("font-style",r.type==="em"?"italic":"normal").attr("class","text-inner-tspan").attr("font-weight",r.type==="strong"?"bold":"normal");n===0?i.text(r.content):i.text(" "+r.content)})}b(yw,"updateTextContentAndStyles");function S_(t){return t.replace(/fa[bklrs]?:fa-[\w-]+/g,e=>`<i class='${e.replace(":"," ")}'></i>`)}b(S_,"replaceIconSubstring");var Fl=b(async(t,e="",{style:r="",isTitle:n=!1,classes:i="",useHtmlLabels:a=!0,isNode:s=!0,width:o=200,addSvgBackground:l=!1}={},u)=>{if(q.debug("XYZ createText",e,r,n,i,a,s,"addSvgBackground: ",l),a){const h=QY(e,u),d=S_(Id(h)),p=e.replace(/\\\\/g,"\\"),f={isNode:s,label:Oa(e)?p:d,labelStyle:r.replace("fill:","color:")};return await tq(t,f,o,i,l)}else{const h=e.replace(/<br\s*\/?>/g,"<br/>"),d=KY(h.replace("<br>","<br/>"),u),p=iq(o,t,d,e?l:!1);if(s){/stroke:/.exec(r)&&(r=r.replace("stroke:","lineColor:"));const f=r.replace(/stroke:[^;]+;?/g,"").replace(/stroke-width:[^;]+;?/g,"").replace(/fill:[^;]+;?/g,"").replace(/color:/g,"fill:");Ke(p).attr("style",f)}else{const f=r.replace(/stroke:[^;]+;?/g,"").replace(/stroke-width:[^;]+;?/g,"").replace(/fill:[^;]+;?/g,"").replace(/background:/g,"fill:");Ke(p).select("rect").attr("style",f.replace(/background:/g,"fill:"));const g=r.replace(/stroke:[^;]+;?/g,"").replace(/stroke-width:[^;]+;?/g,"").replace(/fill:[^;]+;?/g,"").replace(/color:/g,"fill:");Ke(p).select("text").attr("style",g)}return p}},"createText");function Wk(t,e,r){if(t&&t.length){const[n,i]=e,a=Math.PI/180*r,s=Math.cos(a),o=Math.sin(a);for(const l of t){const[u,h]=l;l[0]=(u-n)*s-(h-i)*o+n,l[1]=(u-n)*o+(h-i)*s+i}}}function Q2e(t,e){return t[0]===e[0]&&t[1]===e[1]}function Z2e(t,e,r,n=1){const i=r,a=Math.max(e,.1),s=t[0]&&t[0][0]&&typeof t[0][0]=="number"?[t]:t,o=[0,0];if(i)for(const u of s)Wk(u,o,i);const l=function(u,h,d){const p=[];for(const x of u){const w=[...x];Q2e(w[0],w[w.length-1])||w.push([w[0][0],w[0][1]]),w.length>2&&p.push(w)}const f=[];h=Math.max(h,.1);const g=[];for(const x of p)for(let w=0;w<x.length-1;w++){const k=x[w],E=x[w+1];if(k[1]!==E[1]){const _=Math.min(k[1],E[1]);g.push({ymin:_,ymax:Math.max(k[1],E[1]),x:_===k[1]?k[0]:E[0],islope:(E[0]-k[0])/(E[1]-k[1])})}}if(g.sort((x,w)=>x.ymin<w.ymin?-1:x.ymin>w.ymin?1:x.x<w.x?-1:x.x>w.x?1:x.ymax===w.ymax?0:(x.ymax-w.ymax)/Math.abs(x.ymax-w.ymax)),!g.length)return f;let m=[],y=g[0].ymin,v=0;for(;m.length||g.length;){if(g.length){let x=-1;for(let w=0;w<g.length&&!(g[w].ymin>y);w++)x=w;g.splice(0,x+1).forEach(w=>{m.push({s:y,edge:w})})}if(m=m.filter(x=>!(x.edge.ymax<=y)),m.sort((x,w)=>x.edge.x===w.edge.x?0:(x.edge.x-w.edge.x)/Math.abs(x.edge.x-w.edge.x)),(d!==1||v%h==0)&&m.length>1)for(let x=0;x<m.length;x+=2){const w=x+1;if(w>=m.length)break;const k=m[x].edge,E=m[w].edge;f.push([[Math.round(k.x),y],[Math.round(E.x),y]])}y+=d,m.forEach(x=>{x.edge.x=x.edge.x+d*x.edge.islope}),v++}return f}(s,a,n);if(i){for(const u of s)Wk(u,o,-i);(function(u,h,d){const p=[];u.forEach(f=>p.push(...f)),Wk(p,h,d)})(l,o,-i)}return l}function _y(t,e){var r;const n=e.hachureAngle+90;let i=e.hachureGap;i<0&&(i=4*e.strokeWidth),i=Math.round(Math.max(i,.1));let a=1;return e.roughness>=1&&(((r=e.randomizer)===null||r===void 0?void 0:r.next())||Math.random())>.7&&(a=i),Z2e(t,i,n,a||1)}class C_{constructor(e){this.helper=e}fillPolygons(e,r){return this._fillPolygons(e,r)}_fillPolygons(e,r){const n=_y(e,r);return{type:"fillSketch",ops:this.renderLines(n,r)}}renderLines(e,r){const n=[];for(const i of e)n.push(...this.helper.doubleLineOps(i[0][0],i[0][1],i[1][0],i[1][1],r));return n}}function xw(t){const e=t[0],r=t[1];return Math.sqrt(Math.pow(e[0]-r[0],2)+Math.pow(e[1]-r[1],2))}class J2e extends C_{fillPolygons(e,r){let n=r.hachureGap;n<0&&(n=4*r.strokeWidth),n=Math.max(n,.1);const i=_y(e,Object.assign({},r,{hachureGap:n})),a=Math.PI/180*r.hachureAngle,s=[],o=.5*n*Math.cos(a),l=.5*n*Math.sin(a);for(const[u,h]of i)xw([u,h])&&s.push([[u[0]-o,u[1]+l],[...h]],[[u[0]+o,u[1]-l],[...h]]);return{type:"fillSketch",ops:this.renderLines(s,r)}}}class exe extends C_{fillPolygons(e,r){const n=this._fillPolygons(e,r),i=Object.assign({},r,{hachureAngle:r.hachureAngle+90}),a=this._fillPolygons(e,i);return n.ops=n.ops.concat(a.ops),n}}let txe=class{constructor(e){this.helper=e}fillPolygons(e,r){const n=_y(e,r=Object.assign({},r,{hachureAngle:0}));return this.dotsOnLines(n,r)}dotsOnLines(e,r){const n=[];let i=r.hachureGap;i<0&&(i=4*r.strokeWidth),i=Math.max(i,.1);let a=r.fillWeight;a<0&&(a=r.strokeWidth/2);const s=i/4;for(const o of e){const l=xw(o),u=l/i,h=Math.ceil(u)-1,d=l-h*i,p=(o[0][0]+o[1][0])/2-i/4,f=Math.min(o[0][1],o[1][1]);for(let g=0;g<h;g++){const m=f+d+g*i,y=p-s+2*Math.random()*s,v=m-s+2*Math.random()*s,x=this.helper.ellipse(y,v,a,a,r);n.push(...x.ops)}}return{type:"fillSketch",ops:n}}},rxe=class{constructor(e){this.helper=e}fillPolygons(e,r){const n=_y(e,r);return{type:"fillSketch",ops:this.dashedLine(n,r)}}dashedLine(e,r){const n=r.dashOffset<0?r.hachureGap<0?4*r.strokeWidth:r.hachureGap:r.dashOffset,i=r.dashGap<0?r.hachureGap<0?4*r.strokeWidth:r.hachureGap:r.dashGap,a=[];return e.forEach(s=>{const o=xw(s),l=Math.floor(o/(n+i)),u=(o+i-l*(n+i))/2;let h=s[0],d=s[1];h[0]>d[0]&&(h=s[1],d=s[0]);const p=Math.atan((d[1]-h[1])/(d[0]-h[0]));for(let f=0;f<l;f++){const g=f*(n+i),m=g+n,y=[h[0]+g*Math.cos(p)+u*Math.cos(p),h[1]+g*Math.sin(p)+u*Math.sin(p)],v=[h[0]+m*Math.cos(p)+u*Math.cos(p),h[1]+m*Math.sin(p)+u*Math.sin(p)];a.push(...this.helper.doubleLineOps(y[0],y[1],v[0],v[1],r))}}),a}};class nxe{constructor(e){this.helper=e}fillPolygons(e,r){const n=r.hachureGap<0?4*r.strokeWidth:r.hachureGap,i=r.zigzagOffset<0?n:r.zigzagOffset,a=_y(e,r=Object.assign({},r,{hachureGap:n+i}));return{type:"fillSketch",ops:this.zigzagLines(a,i,r)}}zigzagLines(e,r,n){const i=[];return e.forEach(a=>{const s=xw(a),o=Math.round(s/(2*r));let l=a[0],u=a[1];l[0]>u[0]&&(l=a[1],u=a[0]);const h=Math.atan((u[1]-l[1])/(u[0]-l[0]));for(let d=0;d<o;d++){const p=2*d*r,f=2*(d+1)*r,g=Math.sqrt(2*Math.pow(r,2)),m=[l[0]+p*Math.cos(h),l[1]+p*Math.sin(h)],y=[l[0]+f*Math.cos(h),l[1]+f*Math.sin(h)],v=[m[0]+g*Math.cos(h+Math.PI/4),m[1]+g*Math.sin(h+Math.PI/4)];i.push(...this.helper.doubleLineOps(m[0],m[1],v[0],v[1],n),...this.helper.doubleLineOps(v[0],v[1],y[0],y[1],n))}}),i}}const Ha={};let ixe=class{constructor(e){this.seed=e}next(){return this.seed?(2**31-1&(this.seed=Math.imul(48271,this.seed)))/2**31:Math.random()}};const axe=0,Yk=1,OI=2,G2={A:7,a:7,C:6,c:6,H:1,h:1,L:2,l:2,M:2,m:2,Q:4,q:4,S:4,s:4,T:2,t:2,V:1,v:1,Z:0,z:0};function qk(t,e){return t.type===e}function A_(t){const e=[],r=function(s){const o=new Array;for(;s!=="";)if(s.match(/^([ \t\r\n,]+)/))s=s.substr(RegExp.$1.length);else if(s.match(/^([aAcChHlLmMqQsStTvVzZ])/))o[o.length]={type:axe,text:RegExp.$1},s=s.substr(RegExp.$1.length);else{if(!s.match(/^(([-+]?[0-9]+(\.[0-9]*)?|[-+]?\.[0-9]+)([eE][-+]?[0-9]+)?)/))return[];o[o.length]={type:Yk,text:`${parseFloat(RegExp.$1)}`},s=s.substr(RegExp.$1.length)}return o[o.length]={type:OI,text:""},o}(t);let n="BOD",i=0,a=r[i];for(;!qk(a,OI);){let s=0;const o=[];if(n==="BOD"){if(a.text!=="M"&&a.text!=="m")return A_("M0,0"+t);i++,s=G2[a.text],n=a.text}else qk(a,Yk)?s=G2[n]:(i++,s=G2[a.text],n=a.text);if(!(i+s<r.length))throw new Error("Path data ended short");for(let l=i;l<i+s;l++){const u=r[l];if(!qk(u,Yk))throw new Error("Param not a number: "+n+","+u.text);o[o.length]=+u.text}if(typeof G2[n]!="number")throw new Error("Bad segment: "+n);{const l={key:n,data:o};e.push(l),i+=s,a=r[i],n==="M"&&(n="L"),n==="m"&&(n="l")}}return e}function aq(t){let e=0,r=0,n=0,i=0;const a=[];for(const{key:s,data:o}of t)switch(s){case"M":a.push({key:"M",data:[...o]}),[e,r]=o,[n,i]=o;break;case"m":e+=o[0],r+=o[1],a.push({key:"M",data:[e,r]}),n=e,i=r;break;case"L":a.push({key:"L",data:[...o]}),[e,r]=o;break;case"l":e+=o[0],r+=o[1],a.push({key:"L",data:[e,r]});break;case"C":a.push({key:"C",data:[...o]}),e=o[4],r=o[5];break;case"c":{const l=o.map((u,h)=>h%2?u+r:u+e);a.push({key:"C",data:l}),e=l[4],r=l[5];break}case"Q":a.push({key:"Q",data:[...o]}),e=o[2],r=o[3];break;case"q":{const l=o.map((u,h)=>h%2?u+r:u+e);a.push({key:"Q",data:l}),e=l[2],r=l[3];break}case"A":a.push({key:"A",data:[...o]}),e=o[5],r=o[6];break;case"a":e+=o[5],r+=o[6],a.push({key:"A",data:[o[0],o[1],o[2],o[3],o[4],e,r]});break;case"H":a.push({key:"H",data:[...o]}),e=o[0];break;case"h":e+=o[0],a.push({key:"H",data:[e]});break;case"V":a.push({key:"V",data:[...o]}),r=o[0];break;case"v":r+=o[0],a.push({key:"V",data:[r]});break;case"S":a.push({key:"S",data:[...o]}),e=o[2],r=o[3];break;case"s":{const l=o.map((u,h)=>h%2?u+r:u+e);a.push({key:"S",data:l}),e=l[2],r=l[3];break}case"T":a.push({key:"T",data:[...o]}),e=o[0],r=o[1];break;case"t":e+=o[0],r+=o[1],a.push({key:"T",data:[e,r]});break;case"Z":case"z":a.push({key:"Z",data:[]}),e=n,r=i}return a}function sq(t){const e=[];let r="",n=0,i=0,a=0,s=0,o=0,l=0;for(const{key:u,data:h}of t){switch(u){case"M":e.push({key:"M",data:[...h]}),[n,i]=h,[a,s]=h;break;case"C":e.push({key:"C",data:[...h]}),n=h[4],i=h[5],o=h[2],l=h[3];break;case"L":e.push({key:"L",data:[...h]}),[n,i]=h;break;case"H":n=h[0],e.push({key:"L",data:[n,i]});break;case"V":i=h[0],e.push({key:"L",data:[n,i]});break;case"S":{let d=0,p=0;r==="C"||r==="S"?(d=n+(n-o),p=i+(i-l)):(d=n,p=i),e.push({key:"C",data:[d,p,...h]}),o=h[0],l=h[1],n=h[2],i=h[3];break}case"T":{const[d,p]=h;let f=0,g=0;r==="Q"||r==="T"?(f=n+(n-o),g=i+(i-l)):(f=n,g=i);const m=n+2*(f-n)/3,y=i+2*(g-i)/3,v=d+2*(f-d)/3,x=p+2*(g-p)/3;e.push({key:"C",data:[m,y,v,x,d,p]}),o=f,l=g,n=d,i=p;break}case"Q":{const[d,p,f,g]=h,m=n+2*(d-n)/3,y=i+2*(p-i)/3,v=f+2*(d-f)/3,x=g+2*(p-g)/3;e.push({key:"C",data:[m,y,v,x,f,g]}),o=d,l=p,n=f,i=g;break}case"A":{const d=Math.abs(h[0]),p=Math.abs(h[1]),f=h[2],g=h[3],m=h[4],y=h[5],v=h[6];d===0||p===0?(e.push({key:"C",data:[n,i,y,v,y,v]}),n=y,i=v):(n!==y||i!==v)&&(oq(n,i,y,v,d,p,f,g,m).forEach(function(x){e.push({key:"C",data:x})}),n=y,i=v);break}case"Z":e.push({key:"Z",data:[]}),n=a,i=s}r=u}return e}function E1(t,e,r){return[t*Math.cos(r)-e*Math.sin(r),t*Math.sin(r)+e*Math.cos(r)]}function oq(t,e,r,n,i,a,s,o,l,u){const h=(d=s,Math.PI*d/180);var d;let p=[],f=0,g=0,m=0,y=0;if(u)[f,g,m,y]=u;else{[t,e]=E1(t,e,-h),[r,n]=E1(r,n,-h);const F=(t-r)/2,T=(e-n)/2;let D=F*F/(i*i)+T*T/(a*a);D>1&&(D=Math.sqrt(D),i*=D,a*=D);const M=i*i,O=a*a,I=M*O-M*T*T-O*F*F,P=M*T*T+O*F*F,B=(o===l?-1:1)*Math.sqrt(Math.abs(I/P));m=B*i*T/a+(t+r)/2,y=B*-a*F/i+(e+n)/2,f=Math.asin(parseFloat(((e-y)/a).toFixed(9))),g=Math.asin(parseFloat(((n-y)/a).toFixed(9))),t<m&&(f=Math.PI-f),r<m&&(g=Math.PI-g),f<0&&(f=2*Math.PI+f),g<0&&(g=2*Math.PI+g),l&&f>g&&(f-=2*Math.PI),!l&&g>f&&(g-=2*Math.PI)}let v=g-f;if(Math.abs(v)>120*Math.PI/180){const F=g,T=r,D=n;g=l&&g>f?f+120*Math.PI/180*1:f+120*Math.PI/180*-1,p=oq(r=m+i*Math.cos(g),n=y+a*Math.sin(g),T,D,i,a,s,0,l,[g,F,m,y])}v=g-f;const x=Math.cos(f),w=Math.sin(f),k=Math.cos(g),E=Math.sin(g),_=Math.tan(v/4),S=4/3*i*_,R=4/3*a*_,C=[t,e],L=[t+S*w,e-R*x],A=[r+S*E,n-R*k],N=[r,n];if(L[0]=2*C[0]-L[0],L[1]=2*C[1]-L[1],u)return[L,A,N].concat(p);{p=[L,A,N].concat(p);const F=[];for(let T=0;T<p.length;T+=3){const D=E1(p[T][0],p[T][1],h),M=E1(p[T+1][0],p[T+1][1],h),O=E1(p[T+2][0],p[T+2][1],h);F.push([D[0],D[1],M[0],M[1],O[0],O[1]])}return F}}const sxe={randOffset:function(t,e){return Xt(t,e)},randOffsetWithRange:function(t,e,r){return J4(t,e,r)},ellipse:function(t,e,r,n,i){const a=cq(r,n,i);return mS(t,e,i,a).opset},doubleLineOps:function(t,e,r,n,i){return Zu(t,e,r,n,i,!0)}};function lq(t,e,r,n,i){return{type:"path",ops:Zu(t,e,r,n,i)}}function ub(t,e,r){const n=(t||[]).length;if(n>2){const i=[];for(let a=0;a<n-1;a++)i.push(...Zu(t[a][0],t[a][1],t[a+1][0],t[a+1][1],r));return e&&i.push(...Zu(t[n-1][0],t[n-1][1],t[0][0],t[0][1],r)),{type:"path",ops:i}}return n===2?lq(t[0][0],t[0][1],t[1][0],t[1][1],r):{type:"path",ops:[]}}function oxe(t,e,r,n,i){return function(a,s){return ub(a,!0,s)}([[t,e],[t+r,e],[t+r,e+n],[t,e+n]],i)}function PI(t,e){if(t.length){const r=typeof t[0][0]=="number"?[t]:t,n=H2(r[0],1*(1+.2*e.roughness),e),i=e.disableMultiStroke?[]:H2(r[0],1.5*(1+.22*e.roughness),$I(e));for(let a=1;a<r.length;a++){const s=r[a];if(s.length){const o=H2(s,1*(1+.2*e.roughness),e),l=e.disableMultiStroke?[]:H2(s,1.5*(1+.22*e.roughness),$I(e));for(const u of o)u.op!=="move"&&n.push(u);for(const u of l)u.op!=="move"&&i.push(u)}}return{type:"path",ops:n.concat(i)}}return{type:"path",ops:[]}}function cq(t,e,r){const n=Math.sqrt(2*Math.PI*Math.sqrt((Math.pow(t/2,2)+Math.pow(e/2,2))/2)),i=Math.ceil(Math.max(r.curveStepCount,r.curveStepCount/Math.sqrt(200)*n)),a=2*Math.PI/i;let s=Math.abs(t/2),o=Math.abs(e/2);const l=1-r.curveFitting;return s+=Xt(s*l,r),o+=Xt(o*l,r),{increment:a,rx:s,ry:o}}function mS(t,e,r,n){const[i,a]=zI(n.increment,t,e,n.rx,n.ry,1,n.increment*J4(.1,J4(.4,1,r),r),r);let s=e3(i,null,r);if(!r.disableMultiStroke&&r.roughness!==0){const[o]=zI(n.increment,t,e,n.rx,n.ry,1.5,0,r),l=e3(o,null,r);s=s.concat(l)}return{estimatedPoints:a,opset:{type:"path",ops:s}}}function FI(t,e,r,n,i,a,s,o,l){const u=t,h=e;let d=Math.abs(r/2),p=Math.abs(n/2);d+=Xt(.01*d,l),p+=Xt(.01*p,l);let f=i,g=a;for(;f<0;)f+=2*Math.PI,g+=2*Math.PI;g-f>2*Math.PI&&(f=0,g=2*Math.PI);const m=2*Math.PI/l.curveStepCount,y=Math.min(m/2,(g-f)/2),v=UI(y,u,h,d,p,f,g,1,l);if(!l.disableMultiStroke){const x=UI(y,u,h,d,p,f,g,1.5,l);v.push(...x)}return s&&(o?v.push(...Zu(u,h,u+d*Math.cos(f),h+p*Math.sin(f),l),...Zu(u,h,u+d*Math.cos(g),h+p*Math.sin(g),l)):v.push({op:"lineTo",data:[u,h]},{op:"lineTo",data:[u+d*Math.cos(f),h+p*Math.sin(f)]})),{type:"path",ops:v}}function BI(t,e){const r=sq(aq(A_(t))),n=[];let i=[0,0],a=[0,0];for(const{key:s,data:o}of r)switch(s){case"M":a=[o[0],o[1]],i=[o[0],o[1]];break;case"L":n.push(...Zu(a[0],a[1],o[0],o[1],e)),a=[o[0],o[1]];break;case"C":{const[l,u,h,d,p,f]=o;n.push(...lxe(l,u,h,d,p,f,a,e)),a=[p,f];break}case"Z":n.push(...Zu(a[0],a[1],i[0],i[1],e)),a=[i[0],i[1]]}return{type:"path",ops:n}}function jk(t,e){const r=[];for(const n of t)if(n.length){const i=e.maxRandomnessOffset||0,a=n.length;if(a>2){r.push({op:"move",data:[n[0][0]+Xt(i,e),n[0][1]+Xt(i,e)]});for(let s=1;s<a;s++)r.push({op:"lineTo",data:[n[s][0]+Xt(i,e),n[s][1]+Xt(i,e)]})}}return{type:"fillPath",ops:r}}function Nf(t,e){return function(r,n){let i=r.fillStyle||"hachure";if(!Ha[i])switch(i){case"zigzag":Ha[i]||(Ha[i]=new J2e(n));break;case"cross-hatch":Ha[i]||(Ha[i]=new exe(n));break;case"dots":Ha[i]||(Ha[i]=new txe(n));break;case"dashed":Ha[i]||(Ha[i]=new rxe(n));break;case"zigzag-line":Ha[i]||(Ha[i]=new nxe(n));break;default:i="hachure",Ha[i]||(Ha[i]=new C_(n))}return Ha[i]}(e,sxe).fillPolygons(t,e)}function $I(t){const e=Object.assign({},t);return e.randomizer=void 0,t.seed&&(e.seed=t.seed+1),e}function uq(t){return t.randomizer||(t.randomizer=new ixe(t.seed||0)),t.randomizer.next()}function J4(t,e,r,n=1){return r.roughness*n*(uq(r)*(e-t)+t)}function Xt(t,e,r=1){return J4(-t,t,e,r)}function Zu(t,e,r,n,i,a=!1){const s=a?i.disableMultiStrokeFill:i.disableMultiStroke,o=vS(t,e,r,n,i,!0,!1);if(s)return o;const l=vS(t,e,r,n,i,!0,!0);return o.concat(l)}function vS(t,e,r,n,i,a,s){const o=Math.pow(t-r,2)+Math.pow(e-n,2),l=Math.sqrt(o);let u=1;u=l<200?1:l>500?.4:-.0016668*l+1.233334;let h=i.maxRandomnessOffset||0;h*h*100>o&&(h=l/10);const d=h/2,p=.2+.2*uq(i);let f=i.bowing*i.maxRandomnessOffset*(n-e)/200,g=i.bowing*i.maxRandomnessOffset*(t-r)/200;f=Xt(f,i,u),g=Xt(g,i,u);const m=[],y=()=>Xt(d,i,u),v=()=>Xt(h,i,u),x=i.preserveVertices;return s?m.push({op:"move",data:[t+(x?0:y()),e+(x?0:y())]}):m.push({op:"move",data:[t+(x?0:Xt(h,i,u)),e+(x?0:Xt(h,i,u))]}),s?m.push({op:"bcurveTo",data:[f+t+(r-t)*p+y(),g+e+(n-e)*p+y(),f+t+2*(r-t)*p+y(),g+e+2*(n-e)*p+y(),r+(x?0:y()),n+(x?0:y())]}):m.push({op:"bcurveTo",data:[f+t+(r-t)*p+v(),g+e+(n-e)*p+v(),f+t+2*(r-t)*p+v(),g+e+2*(n-e)*p+v(),r+(x?0:v()),n+(x?0:v())]}),m}function H2(t,e,r){if(!t.length)return[];const n=[];n.push([t[0][0]+Xt(e,r),t[0][1]+Xt(e,r)]),n.push([t[0][0]+Xt(e,r),t[0][1]+Xt(e,r)]);for(let i=1;i<t.length;i++)n.push([t[i][0]+Xt(e,r),t[i][1]+Xt(e,r)]),i===t.length-1&&n.push([t[i][0]+Xt(e,r),t[i][1]+Xt(e,r)]);return e3(n,null,r)}function e3(t,e,r){const n=t.length,i=[];if(n>3){const a=[],s=1-r.curveTightness;i.push({op:"move",data:[t[1][0],t[1][1]]});for(let o=1;o+2<n;o++){const l=t[o];a[0]=[l[0],l[1]],a[1]=[l[0]+(s*t[o+1][0]-s*t[o-1][0])/6,l[1]+(s*t[o+1][1]-s*t[o-1][1])/6],a[2]=[t[o+1][0]+(s*t[o][0]-s*t[o+2][0])/6,t[o+1][1]+(s*t[o][1]-s*t[o+2][1])/6],a[3]=[t[o+1][0],t[o+1][1]],i.push({op:"bcurveTo",data:[a[1][0],a[1][1],a[2][0],a[2][1],a[3][0],a[3][1]]})}}else n===3?(i.push({op:"move",data:[t[1][0],t[1][1]]}),i.push({op:"bcurveTo",data:[t[1][0],t[1][1],t[2][0],t[2][1],t[2][0],t[2][1]]})):n===2&&i.push(...vS(t[0][0],t[0][1],t[1][0],t[1][1],r,!0,!0));return i}function zI(t,e,r,n,i,a,s,o){const l=[],u=[];if(o.roughness===0){t/=4,u.push([e+n*Math.cos(-t),r+i*Math.sin(-t)]);for(let h=0;h<=2*Math.PI;h+=t){const d=[e+n*Math.cos(h),r+i*Math.sin(h)];l.push(d),u.push(d)}u.push([e+n*Math.cos(0),r+i*Math.sin(0)]),u.push([e+n*Math.cos(t),r+i*Math.sin(t)])}else{const h=Xt(.5,o)-Math.PI/2;u.push([Xt(a,o)+e+.9*n*Math.cos(h-t),Xt(a,o)+r+.9*i*Math.sin(h-t)]);const d=2*Math.PI+h-.01;for(let p=h;p<d;p+=t){const f=[Xt(a,o)+e+n*Math.cos(p),Xt(a,o)+r+i*Math.sin(p)];l.push(f),u.push(f)}u.push([Xt(a,o)+e+n*Math.cos(h+2*Math.PI+.5*s),Xt(a,o)+r+i*Math.sin(h+2*Math.PI+.5*s)]),u.push([Xt(a,o)+e+.98*n*Math.cos(h+s),Xt(a,o)+r+.98*i*Math.sin(h+s)]),u.push([Xt(a,o)+e+.9*n*Math.cos(h+.5*s),Xt(a,o)+r+.9*i*Math.sin(h+.5*s)])}return[u,l]}function UI(t,e,r,n,i,a,s,o,l){const u=a+Xt(.1,l),h=[];h.push([Xt(o,l)+e+.9*n*Math.cos(u-t),Xt(o,l)+r+.9*i*Math.sin(u-t)]);for(let d=u;d<=s;d+=t)h.push([Xt(o,l)+e+n*Math.cos(d),Xt(o,l)+r+i*Math.sin(d)]);return h.push([e+n*Math.cos(s),r+i*Math.sin(s)]),h.push([e+n*Math.cos(s),r+i*Math.sin(s)]),e3(h,null,l)}function lxe(t,e,r,n,i,a,s,o){const l=[],u=[o.maxRandomnessOffset||1,(o.maxRandomnessOffset||1)+.3];let h=[0,0];const d=o.disableMultiStroke?1:2,p=o.preserveVertices;for(let f=0;f<d;f++)f===0?l.push({op:"move",data:[s[0],s[1]]}):l.push({op:"move",data:[s[0]+(p?0:Xt(u[0],o)),s[1]+(p?0:Xt(u[0],o))]}),h=p?[i,a]:[i+Xt(u[f],o),a+Xt(u[f],o)],l.push({op:"bcurveTo",data:[t+Xt(u[f],o),e+Xt(u[f],o),r+Xt(u[f],o),n+Xt(u[f],o),h[0],h[1]]});return l}function S1(t){return[...t]}function VI(t,e=0){const r=t.length;if(r<3)throw new Error("A curve must have at least three points.");const n=[];if(r===3)n.push(S1(t[0]),S1(t[1]),S1(t[2]),S1(t[2]));else{const i=[];i.push(t[0],t[0]);for(let o=1;o<t.length;o++)i.push(t[o]),o===t.length-1&&i.push(t[o]);const a=[],s=1-e;n.push(S1(i[0]));for(let o=1;o+2<i.length;o++){const l=i[o];a[0]=[l[0],l[1]],a[1]=[l[0]+(s*i[o+1][0]-s*i[o-1][0])/6,l[1]+(s*i[o+1][1]-s*i[o-1][1])/6],a[2]=[i[o+1][0]+(s*i[o][0]-s*i[o+2][0])/6,i[o+1][1]+(s*i[o][1]-s*i[o+2][1])/6],a[3]=[i[o+1][0],i[o+1][1]],n.push(a[1],a[2],a[3])}}return n}function hb(t,e){return Math.pow(t[0]-e[0],2)+Math.pow(t[1]-e[1],2)}function cxe(t,e,r){const n=hb(e,r);if(n===0)return hb(t,e);let i=((t[0]-e[0])*(r[0]-e[0])+(t[1]-e[1])*(r[1]-e[1]))/n;return i=Math.max(0,Math.min(1,i)),hb(t,zh(e,r,i))}function zh(t,e,r){return[t[0]+(e[0]-t[0])*r,t[1]+(e[1]-t[1])*r]}function yS(t,e,r,n){const i=n||[];if(function(o,l){const u=o[l+0],h=o[l+1],d=o[l+2],p=o[l+3];let f=3*h[0]-2*u[0]-p[0];f*=f;let g=3*h[1]-2*u[1]-p[1];g*=g;let m=3*d[0]-2*p[0]-u[0];m*=m;let y=3*d[1]-2*p[1]-u[1];return y*=y,f<m&&(f=m),g<y&&(g=y),f+g}(t,e)<r){const o=t[e+0];i.length?(a=i[i.length-1],s=o,Math.sqrt(hb(a,s))>1&&i.push(o)):i.push(o),i.push(t[e+3])}else{const l=t[e+0],u=t[e+1],h=t[e+2],d=t[e+3],p=zh(l,u,.5),f=zh(u,h,.5),g=zh(h,d,.5),m=zh(p,f,.5),y=zh(f,g,.5),v=zh(m,y,.5);yS([l,p,m,v],0,r,i),yS([v,y,g,d],0,r,i)}var a,s;return i}function uxe(t,e){return t3(t,0,t.length,e)}function t3(t,e,r,n,i){const a=i||[],s=t[e],o=t[r-1];let l=0,u=1;for(let h=e+1;h<r-1;++h){const d=cxe(t[h],s,o);d>l&&(l=d,u=h)}return Math.sqrt(l)>n?(t3(t,e,u+1,n,a),t3(t,u,r,n,a)):(a.length||a.push(s),a.push(o)),a}function Xk(t,e=.15,r){const n=[],i=(t.length-1)/3;for(let a=0;a<i;a++)yS(t,3*a,e,n);return r&&r>0?t3(n,0,n.length,r):n}const xs="none";class r3{constructor(e){this.defaultOptions={maxRandomnessOffset:2,roughness:1,bowing:1,stroke:"#000",strokeWidth:1,curveTightness:0,curveFitting:.95,curveStepCount:9,fillStyle:"hachure",fillWeight:-1,hachureAngle:-41,hachureGap:-1,dashOffset:-1,dashGap:-1,zigzagOffset:-1,seed:0,disableMultiStroke:!1,disableMultiStrokeFill:!1,preserveVertices:!1,fillShapeRoughnessGain:.8},this.config=e||{},this.config.options&&(this.defaultOptions=this._o(this.config.options))}static newSeed(){return Math.floor(Math.random()*2**31)}_o(e){return e?Object.assign({},this.defaultOptions,e):this.defaultOptions}_d(e,r,n){return{shape:e,sets:r||[],options:n||this.defaultOptions}}line(e,r,n,i,a){const s=this._o(a);return this._d("line",[lq(e,r,n,i,s)],s)}rectangle(e,r,n,i,a){const s=this._o(a),o=[],l=oxe(e,r,n,i,s);if(s.fill){const u=[[e,r],[e+n,r],[e+n,r+i],[e,r+i]];s.fillStyle==="solid"?o.push(jk([u],s)):o.push(Nf([u],s))}return s.stroke!==xs&&o.push(l),this._d("rectangle",o,s)}ellipse(e,r,n,i,a){const s=this._o(a),o=[],l=cq(n,i,s),u=mS(e,r,s,l);if(s.fill)if(s.fillStyle==="solid"){const h=mS(e,r,s,l).opset;h.type="fillPath",o.push(h)}else o.push(Nf([u.estimatedPoints],s));return s.stroke!==xs&&o.push(u.opset),this._d("ellipse",o,s)}circle(e,r,n,i){const a=this.ellipse(e,r,n,n,i);return a.shape="circle",a}linearPath(e,r){const n=this._o(r);return this._d("linearPath",[ub(e,!1,n)],n)}arc(e,r,n,i,a,s,o=!1,l){const u=this._o(l),h=[],d=FI(e,r,n,i,a,s,o,!0,u);if(o&&u.fill)if(u.fillStyle==="solid"){const p=Object.assign({},u);p.disableMultiStroke=!0;const f=FI(e,r,n,i,a,s,!0,!1,p);f.type="fillPath",h.push(f)}else h.push(function(p,f,g,m,y,v,x){const w=p,k=f;let E=Math.abs(g/2),_=Math.abs(m/2);E+=Xt(.01*E,x),_+=Xt(.01*_,x);let S=y,R=v;for(;S<0;)S+=2*Math.PI,R+=2*Math.PI;R-S>2*Math.PI&&(S=0,R=2*Math.PI);const C=(R-S)/x.curveStepCount,L=[];for(let A=S;A<=R;A+=C)L.push([w+E*Math.cos(A),k+_*Math.sin(A)]);return L.push([w+E*Math.cos(R),k+_*Math.sin(R)]),L.push([w,k]),Nf([L],x)}(e,r,n,i,a,s,u));return u.stroke!==xs&&h.push(d),this._d("arc",h,u)}curve(e,r){const n=this._o(r),i=[],a=PI(e,n);if(n.fill&&n.fill!==xs)if(n.fillStyle==="solid"){const s=PI(e,Object.assign(Object.assign({},n),{disableMultiStroke:!0,roughness:n.roughness?n.roughness+n.fillShapeRoughnessGain:0}));i.push({type:"fillPath",ops:this._mergedShape(s.ops)})}else{const s=[],o=e;if(o.length){const l=typeof o[0][0]=="number"?[o]:o;for(const u of l)u.length<3?s.push(...u):u.length===3?s.push(...Xk(VI([u[0],u[0],u[1],u[2]]),10,(1+n.roughness)/2)):s.push(...Xk(VI(u),10,(1+n.roughness)/2))}s.length&&i.push(Nf([s],n))}return n.stroke!==xs&&i.push(a),this._d("curve",i,n)}polygon(e,r){const n=this._o(r),i=[],a=ub(e,!0,n);return n.fill&&(n.fillStyle==="solid"?i.push(jk([e],n)):i.push(Nf([e],n))),n.stroke!==xs&&i.push(a),this._d("polygon",i,n)}path(e,r){const n=this._o(r),i=[];if(!e)return this._d("path",i,n);e=(e||"").replace(/\n/g," ").replace(/(-\s)/g,"-").replace("/(ss)/g"," ");const a=n.fill&&n.fill!=="transparent"&&n.fill!==xs,s=n.stroke!==xs,o=!!(n.simplification&&n.simplification<1),l=function(h,d,p){const f=sq(aq(A_(h))),g=[];let m=[],y=[0,0],v=[];const x=()=>{v.length>=4&&m.push(...Xk(v,d)),v=[]},w=()=>{x(),m.length&&(g.push(m),m=[])};for(const{key:E,data:_}of f)switch(E){case"M":w(),y=[_[0],_[1]],m.push(y);break;case"L":x(),m.push([_[0],_[1]]);break;case"C":if(!v.length){const S=m.length?m[m.length-1]:y;v.push([S[0],S[1]])}v.push([_[0],_[1]]),v.push([_[2],_[3]]),v.push([_[4],_[5]]);break;case"Z":x(),m.push([y[0],y[1]])}if(w(),!p)return g;const k=[];for(const E of g){const _=uxe(E,p);_.length&&k.push(_)}return k}(e,1,o?4-4*(n.simplification||1):(1+n.roughness)/2),u=BI(e,n);if(a)if(n.fillStyle==="solid")if(l.length===1){const h=BI(e,Object.assign(Object.assign({},n),{disableMultiStroke:!0,roughness:n.roughness?n.roughness+n.fillShapeRoughnessGain:0}));i.push({type:"fillPath",ops:this._mergedShape(h.ops)})}else i.push(jk(l,n));else i.push(Nf(l,n));return s&&(o?l.forEach(h=>{i.push(ub(h,!1,n))}):i.push(u)),this._d("path",i,n)}opsToPath(e,r){let n="";for(const i of e.ops){const a=typeof r=="number"&&r>=0?i.data.map(s=>+s.toFixed(r)):i.data;switch(i.op){case"move":n+=`M${a[0]} ${a[1]} `;break;case"bcurveTo":n+=`C${a[0]} ${a[1]}, ${a[2]} ${a[3]}, ${a[4]} ${a[5]} `;break;case"lineTo":n+=`L${a[0]} ${a[1]} `}}return n.trim()}toPaths(e){const r=e.sets||[],n=e.options||this.defaultOptions,i=[];for(const a of r){let s=null;switch(a.type){case"path":s={d:this.opsToPath(a),stroke:n.stroke,strokeWidth:n.strokeWidth,fill:xs};break;case"fillPath":s={d:this.opsToPath(a),stroke:xs,strokeWidth:0,fill:n.fill||xs};break;case"fillSketch":s=this.fillSketch(a,n)}s&&i.push(s)}return i}fillSketch(e,r){let n=r.fillWeight;return n<0&&(n=r.strokeWidth/2),{d:this.opsToPath(e),stroke:r.fill||xs,strokeWidth:n,fill:xs}}_mergedShape(e){return e.filter((r,n)=>n===0||r.op!=="move")}}class hxe{constructor(e,r){this.canvas=e,this.ctx=this.canvas.getContext("2d"),this.gen=new r3(r)}draw(e){const r=e.sets||[],n=e.options||this.getDefaultOptions(),i=this.ctx,a=e.options.fixedDecimalPlaceDigits;for(const s of r)switch(s.type){case"path":i.save(),i.strokeStyle=n.stroke==="none"?"transparent":n.stroke,i.lineWidth=n.strokeWidth,n.strokeLineDash&&i.setLineDash(n.strokeLineDash),n.strokeLineDashOffset&&(i.lineDashOffset=n.strokeLineDashOffset),this._drawToContext(i,s,a),i.restore();break;case"fillPath":{i.save(),i.fillStyle=n.fill||"";const o=e.shape==="curve"||e.shape==="polygon"||e.shape==="path"?"evenodd":"nonzero";this._drawToContext(i,s,a,o),i.restore();break}case"fillSketch":this.fillSketch(i,s,n)}}fillSketch(e,r,n){let i=n.fillWeight;i<0&&(i=n.strokeWidth/2),e.save(),n.fillLineDash&&e.setLineDash(n.fillLineDash),n.fillLineDashOffset&&(e.lineDashOffset=n.fillLineDashOffset),e.strokeStyle=n.fill||"",e.lineWidth=i,this._drawToContext(e,r,n.fixedDecimalPlaceDigits),e.restore()}_drawToContext(e,r,n,i="nonzero"){e.beginPath();for(const a of r.ops){const s=typeof n=="number"&&n>=0?a.data.map(o=>+o.toFixed(n)):a.data;switch(a.op){case"move":e.moveTo(s[0],s[1]);break;case"bcurveTo":e.bezierCurveTo(s[0],s[1],s[2],s[3],s[4],s[5]);break;case"lineTo":e.lineTo(s[0],s[1])}}r.type==="fillPath"?e.fill(i):e.stroke()}get generator(){return this.gen}getDefaultOptions(){return this.gen.defaultOptions}line(e,r,n,i,a){const s=this.gen.line(e,r,n,i,a);return this.draw(s),s}rectangle(e,r,n,i,a){const s=this.gen.rectangle(e,r,n,i,a);return this.draw(s),s}ellipse(e,r,n,i,a){const s=this.gen.ellipse(e,r,n,i,a);return this.draw(s),s}circle(e,r,n,i){const a=this.gen.circle(e,r,n,i);return this.draw(a),a}linearPath(e,r){const n=this.gen.linearPath(e,r);return this.draw(n),n}polygon(e,r){const n=this.gen.polygon(e,r);return this.draw(n),n}arc(e,r,n,i,a,s,o=!1,l){const u=this.gen.arc(e,r,n,i,a,s,o,l);return this.draw(u),u}curve(e,r){const n=this.gen.curve(e,r);return this.draw(n),n}path(e,r){const n=this.gen.path(e,r);return this.draw(n),n}}const W2="http://www.w3.org/2000/svg";class dxe{constructor(e,r){this.svg=e,this.gen=new r3(r)}draw(e){const r=e.sets||[],n=e.options||this.getDefaultOptions(),i=this.svg.ownerDocument||window.document,a=i.createElementNS(W2,"g"),s=e.options.fixedDecimalPlaceDigits;for(const o of r){let l=null;switch(o.type){case"path":l=i.createElementNS(W2,"path"),l.setAttribute("d",this.opsToPath(o,s)),l.setAttribute("stroke",n.stroke),l.setAttribute("stroke-width",n.strokeWidth+""),l.setAttribute("fill","none"),n.strokeLineDash&&l.setAttribute("stroke-dasharray",n.strokeLineDash.join(" ").trim()),n.strokeLineDashOffset&&l.setAttribute("stroke-dashoffset",`${n.strokeLineDashOffset}`);break;case"fillPath":l=i.createElementNS(W2,"path"),l.setAttribute("d",this.opsToPath(o,s)),l.setAttribute("stroke","none"),l.setAttribute("stroke-width","0"),l.setAttribute("fill",n.fill||""),e.shape!=="curve"&&e.shape!=="polygon"||l.setAttribute("fill-rule","evenodd");break;case"fillSketch":l=this.fillSketch(i,o,n)}l&&a.appendChild(l)}return a}fillSketch(e,r,n){let i=n.fillWeight;i<0&&(i=n.strokeWidth/2);const a=e.createElementNS(W2,"path");return a.setAttribute("d",this.opsToPath(r,n.fixedDecimalPlaceDigits)),a.setAttribute("stroke",n.fill||""),a.setAttribute("stroke-width",i+""),a.setAttribute("fill","none"),n.fillLineDash&&a.setAttribute("stroke-dasharray",n.fillLineDash.join(" ").trim()),n.fillLineDashOffset&&a.setAttribute("stroke-dashoffset",`${n.fillLineDashOffset}`),a}get generator(){return this.gen}getDefaultOptions(){return this.gen.defaultOptions}opsToPath(e,r){return this.gen.opsToPath(e,r)}line(e,r,n,i,a){const s=this.gen.line(e,r,n,i,a);return this.draw(s)}rectangle(e,r,n,i,a){const s=this.gen.rectangle(e,r,n,i,a);return this.draw(s)}ellipse(e,r,n,i,a){const s=this.gen.ellipse(e,r,n,i,a);return this.draw(s)}circle(e,r,n,i){const a=this.gen.circle(e,r,n,i);return this.draw(a)}linearPath(e,r){const n=this.gen.linearPath(e,r);return this.draw(n)}polygon(e,r){const n=this.gen.polygon(e,r);return this.draw(n)}arc(e,r,n,i,a,s,o=!1,l){const u=this.gen.arc(e,r,n,i,a,s,o,l);return this.draw(u)}curve(e,r){const n=this.gen.curve(e,r);return this.draw(n)}path(e,r){const n=this.gen.path(e,r);return this.draw(n)}}var $t={canvas:(t,e)=>new hxe(t,e),svg:(t,e)=>new dxe(t,e),generator:t=>new r3(t),newSeed:()=>r3.newSeed()},fxe=b((t,e)=>{var r=t.x,n=t.y,i=e.x-r,a=e.y-n,s=t.width/2,o=t.height/2,l,u;return Math.abs(a)*s>Math.abs(i)*o?(a<0&&(o=-o),l=a===0?0:o*i/a,u=o):(i<0&&(s=-s),l=s,u=i===0?0:s*a/i),{x:r+l,y:n+u}},"intersectRect"),Ly=fxe;function hq(t,e){e&&t.attr("style",e)}b(hq,"applyStyle");async function dq(t){const e=Ke(document.createElementNS("http://www.w3.org/2000/svg","foreignObject")),r=e.append("xhtml:div");let n=t.label;t.label&&Oa(t.label)&&(n=await py(t.label.replace(et.lineBreakRegex,`
`),we()));const i=t.isNode?"nodeLabel":"edgeLabel";return r.html('<span class="'+i+'" '+(t.labelStyle?'style="'+t.labelStyle+'"':"")+">"+n+"</span>"),hq(r,t.labelStyle),r.style("display","inline-block"),r.style("padding-right","1px"),r.style("white-space","nowrap"),r.attr("xmlns","http://www.w3.org/1999/xhtml"),e.node()}b(dq,"addHtmlLabel");var pxe=b(async(t,e,r,n)=>{let i=t||"";if(typeof i=="object"&&(i=i[0]),tn(we().flowchart.htmlLabels)){i=i.replace(/\\n|\n/g,"<br />"),q.info("vertexText"+i);const a={isNode:n,label:Id(i).replace(/fa[blrs]?:fa-[\w-]+/g,o=>`<i class='${o.replace(":"," ")}'></i>`),labelStyle:e&&e.replace("fill:","color:")};return await dq(a)}else{const a=document.createElementNS("http://www.w3.org/2000/svg","text");a.setAttribute("style",e.replace("color:","fill:"));let s=[];typeof i=="string"?s=i.split(/\\n|\n|<br\s*\/?>/gi):Array.isArray(i)?s=i:s=[];for(const o of s){const l=document.createElementNS("http://www.w3.org/2000/svg","tspan");l.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),l.setAttribute("dy","1em"),l.setAttribute("x","0"),r?l.setAttribute("class","title-row"):l.setAttribute("class","row"),l.textContent=o.trim(),a.appendChild(l)}return a}},"createLabel"),sd=pxe,Ag=b((t,e,r,n,i)=>["M",t+i,e,"H",t+r-i,"A",i,i,0,0,1,t+r,e+i,"V",e+n-i,"A",i,i,0,0,1,t+r-i,e+n,"H",t+i,"A",i,i,0,0,1,t,e+n-i,"V",e+i,"A",i,i,0,0,1,t+i,e,"Z"].join(" "),"createRoundedRectPathD"),gxe=b(t=>{const{handDrawnSeed:e}=we();return{fill:t,hachureAngle:120,hachureGap:4,fillWeight:2,roughness:.7,stroke:t,seed:e}},"solidStateFill"),_g=b(t=>{const e=mxe([...t.cssCompiledStyles||[],...t.cssStyles||[]]);return{stylesMap:e,stylesArray:[...e]}},"compileStyles"),mxe=b(t=>{const e=new Map;return t.forEach(r=>{const[n,i]=r.split(":");e.set(n.trim(),i==null?void 0:i.trim())}),e},"styles2Map"),Wt=b(t=>{const{stylesArray:e}=_g(t),r=[],n=[],i=[],a=[];return e.forEach(s=>{const o=s[0];o==="color"||o==="font-size"||o==="font-family"||o==="font-weight"||o==="font-style"||o==="text-decoration"||o==="text-align"||o==="text-transform"||o==="line-height"||o==="letter-spacing"||o==="word-spacing"||o==="text-shadow"||o==="text-overflow"||o==="white-space"||o==="word-wrap"||o==="word-break"||o==="overflow-wrap"||o==="hyphens"?r.push(s.join(":")+" !important"):(n.push(s.join(":")+" !important"),o.includes("stroke")&&i.push(s.join(":")+" !important"),o==="fill"&&a.push(s.join(":")+" !important"))}),{labelStyles:r.join(";"),nodeStyles:n.join(";"),stylesArray:e,borderStyles:i,backgroundStyles:a}},"styles2String"),zt=b((t,e)=>{var l;const{themeVariables:r,handDrawnSeed:n}=we(),{nodeBorder:i,mainBkg:a}=r,{stylesMap:s}=_g(t);return Object.assign({roughness:.7,fill:s.get("fill")||a,fillStyle:"hachure",fillWeight:4,hachureGap:5.2,stroke:s.get("stroke")||i,seed:n,strokeWidth:((l=s.get("stroke-width"))==null?void 0:l.replace("px",""))||1.3,fillLineDash:[0,0]},e)},"userNodeOverrides"),fq=b(async(t,e)=>{q.info("Creating subgraph rect for ",e.id,e);const r=we(),{themeVariables:n,handDrawnSeed:i}=r,{clusterBkg:a,clusterBorder:s}=n,{labelStyles:o,nodeStyles:l,borderStyles:u,backgroundStyles:h}=Wt(e),d=t.insert("g").attr("class","cluster "+e.cssClasses).attr("id",e.id).attr("data-look",e.look),p=tn(r.flowchart.htmlLabels),f=d.insert("g").attr("class","cluster-label "),g=await Fl(f,e.label,{style:e.labelStyle,useHtmlLabels:p,isNode:!0});let m=g.getBBox();if(tn(r.flowchart.htmlLabels)){const S=g.children[0],R=Ke(g);m=S.getBoundingClientRect(),R.attr("width",m.width),R.attr("height",m.height)}const y=e.width<=m.width+e.padding?m.width+e.padding:e.width;e.width<=m.width+e.padding?e.diff=(y-e.width)/2-e.padding:e.diff=-e.padding;const v=e.height,x=e.x-y/2,w=e.y-v/2;q.trace("Data ",e,JSON.stringify(e));let k;if(e.look==="handDrawn"){const S=$t.svg(d),R=zt(e,{roughness:.7,fill:a,stroke:s,fillWeight:3,seed:i}),C=S.path(Ag(x,w,y,v,0),R);k=d.insert(()=>(q.debug("Rough node insert CXC",C),C),":first-child"),k.select("path:nth-child(2)").attr("style",u.join(";")),k.select("path").attr("style",h.join(";").replace("fill","stroke"))}else k=d.insert("rect",":first-child"),k.attr("style",l).attr("rx",e.rx).attr("ry",e.ry).attr("x",x).attr("y",w).attr("width",y).attr("height",v);const{subGraphTitleTopMargin:E}=of(r);if(f.attr("transform",`translate(${e.x-m.width/2}, ${e.y-e.height/2+E})`),o){const S=f.select("span");S&&S.attr("style",o)}const _=k.node().getBBox();return e.offsetX=0,e.width=_.width,e.height=_.height,e.offsetY=m.height-e.padding/2,e.intersect=function(S){return Ly(e,S)},{cluster:d,labelBBox:m}},"rect"),vxe=b((t,e)=>{const r=t.insert("g").attr("class","note-cluster").attr("id",e.id),n=r.insert("rect",":first-child"),i=0*e.padding,a=i/2;n.attr("rx",e.rx).attr("ry",e.ry).attr("x",e.x-e.width/2-a).attr("y",e.y-e.height/2-a).attr("width",e.width+i).attr("height",e.height+i).attr("fill","none");const s=n.node().getBBox();return e.width=s.width,e.height=s.height,e.intersect=function(o){return Ly(e,o)},{cluster:r,labelBBox:{width:0,height:0}}},"noteGroup"),yxe=b(async(t,e)=>{const r=we(),{themeVariables:n,handDrawnSeed:i}=r,{altBackground:a,compositeBackground:s,compositeTitleBackground:o,nodeBorder:l}=n,u=t.insert("g").attr("class",e.cssClasses).attr("id",e.id).attr("data-id",e.id).attr("data-look",e.look),h=u.insert("g",":first-child"),d=u.insert("g").attr("class","cluster-label");let p=u.append("rect");const f=d.node().appendChild(await sd(e.label,e.labelStyle,void 0,!0));let g=f.getBBox();if(tn(r.flowchart.htmlLabels)){const C=f.children[0],L=Ke(f);g=C.getBoundingClientRect(),L.attr("width",g.width),L.attr("height",g.height)}const m=0*e.padding,y=m/2,v=(e.width<=g.width+e.padding?g.width+e.padding:e.width)+m;e.width<=g.width+e.padding?e.diff=(v-e.width)/2-e.padding:e.diff=-e.padding;const x=e.height+m,w=e.height+m-g.height-6,k=e.x-v/2,E=e.y-x/2;e.width=v;const _=e.y-e.height/2-y+g.height+2;let S;if(e.look==="handDrawn"){const C=e.cssClasses.includes("statediagram-cluster-alt"),L=$t.svg(u),A=e.rx||e.ry?L.path(Ag(k,E,v,x,10),{roughness:.7,fill:o,fillStyle:"solid",stroke:l,seed:i}):L.rectangle(k,E,v,x,{seed:i});S=u.insert(()=>A,":first-child");const N=L.rectangle(k,_,v,w,{fill:C?a:s,fillStyle:C?"hachure":"solid",stroke:l,seed:i});S=u.insert(()=>A,":first-child"),p=u.insert(()=>N)}else S=h.insert("rect",":first-child"),S.attr("class","outer").attr("x",k).attr("y",E).attr("width",v).attr("height",x).attr("data-look",e.look),p.attr("class","inner").attr("x",k).attr("y",_).attr("width",v).attr("height",w);d.attr("transform",`translate(${e.x-g.width/2}, ${E+1-(tn(r.flowchart.htmlLabels)?0:3)})`);const R=S.node().getBBox();return e.height=R.height,e.offsetX=0,e.offsetY=g.height-e.padding/2,e.labelBBox=g,e.intersect=function(C){return Ly(e,C)},{cluster:u,labelBBox:g}},"roundedWithTitle"),xxe=b((t,e)=>{const r=we(),{themeVariables:n,handDrawnSeed:i}=r,{nodeBorder:a}=n,s=t.insert("g").attr("class",e.cssClasses).attr("id",e.id).attr("data-look",e.look),o=s.insert("g",":first-child"),l=0*e.padding,u=e.width+l;e.diff=-e.padding;const h=e.height+l,d=e.x-u/2,p=e.y-h/2;e.width=u;let f;if(e.look==="handDrawn"){const y=$t.svg(s).rectangle(d,p,u,h,{fill:"lightgrey",roughness:.5,strokeLineDash:[5],stroke:a,seed:i});f=s.insert(()=>y,":first-child")}else f=o.insert("rect",":first-child"),f.attr("class","divider").attr("x",d).attr("y",p).attr("width",u).attr("height",h).attr("data-look",e.look);const g=f.node().getBBox();return e.height=g.height,e.offsetX=0,e.offsetY=0,e.intersect=function(m){return Ly(e,m)},{cluster:s,labelBBox:{}}},"divider"),bxe=fq,wxe={rect:fq,squareRect:bxe,roundedWithTitle:yxe,noteGroup:vxe,divider:xxe},pq=new Map,gq=b(async(t,e)=>{const r=e.shape||"rect",n=await wxe[r](t,e);return pq.set(e.id,n),n},"insertCluster"),kxe=b(()=>{pq=new Map},"clear"),Txe=b((t,e,r,n,i)=>{e.arrowTypeStart&&GI(t,"start",e.arrowTypeStart,r,n,i),e.arrowTypeEnd&&GI(t,"end",e.arrowTypeEnd,r,n,i)},"addEdgeMarkers"),Exe={arrow_cross:"cross",arrow_point:"point",arrow_barb:"barb",arrow_circle:"circle",aggregation:"aggregation",extension:"extension",composition:"composition",dependency:"dependency",lollipop:"lollipop"},GI=b((t,e,r,n,i,a)=>{const s=Exe[r];if(!s){q.warn(`Unknown arrow type: ${r}`);return}const o=e==="start"?"Start":"End";t.attr(`marker-${e}`,`url(${n}#${i}_${a}-${s}${o})`)},"addEdgeMarker"),n3=new Map,Bi=new Map,Sxe=b(()=>{n3.clear(),Bi.clear()},"clear"),C1=b(t=>t?t.reduce((r,n)=>r+";"+n,""):"","getLabelStyles"),mq=b(async(t,e)=>{let r=tn(we().flowchart.htmlLabels);const n=await Fl(t,e.label,{style:C1(e.labelStyle),useHtmlLabels:r,addSvgBackground:!0,isNode:!1});q.info("abc82",e,e.labelType);const i=t.insert("g").attr("class","edgeLabel"),a=i.insert("g").attr("class","label");a.node().appendChild(n);let s=n.getBBox();if(r){const l=n.children[0],u=Ke(n);s=l.getBoundingClientRect(),u.attr("width",s.width),u.attr("height",s.height)}a.attr("transform","translate("+-s.width/2+", "+-s.height/2+")"),n3.set(e.id,i),e.width=s.width,e.height=s.height;let o;if(e.startLabelLeft){const l=await sd(e.startLabelLeft,C1(e.labelStyle)),u=t.insert("g").attr("class","edgeTerminals"),h=u.insert("g").attr("class","inner");o=h.node().appendChild(l);const d=l.getBBox();h.attr("transform","translate("+-d.width/2+", "+-d.height/2+")"),Bi.get(e.id)||Bi.set(e.id,{}),Bi.get(e.id).startLeft=u,Z1(o,e.startLabelLeft)}if(e.startLabelRight){const l=await sd(e.startLabelRight,C1(e.labelStyle)),u=t.insert("g").attr("class","edgeTerminals"),h=u.insert("g").attr("class","inner");o=u.node().appendChild(l),h.node().appendChild(l);const d=l.getBBox();h.attr("transform","translate("+-d.width/2+", "+-d.height/2+")"),Bi.get(e.id)||Bi.set(e.id,{}),Bi.get(e.id).startRight=u,Z1(o,e.startLabelRight)}if(e.endLabelLeft){const l=await sd(e.endLabelLeft,C1(e.labelStyle)),u=t.insert("g").attr("class","edgeTerminals"),h=u.insert("g").attr("class","inner");o=h.node().appendChild(l);const d=l.getBBox();h.attr("transform","translate("+-d.width/2+", "+-d.height/2+")"),u.node().appendChild(l),Bi.get(e.id)||Bi.set(e.id,{}),Bi.get(e.id).endLeft=u,Z1(o,e.endLabelLeft)}if(e.endLabelRight){const l=await sd(e.endLabelRight,C1(e.labelStyle)),u=t.insert("g").attr("class","edgeTerminals"),h=u.insert("g").attr("class","inner");o=h.node().appendChild(l);const d=l.getBBox();h.attr("transform","translate("+-d.width/2+", "+-d.height/2+")"),u.node().appendChild(l),Bi.get(e.id)||Bi.set(e.id,{}),Bi.get(e.id).endRight=u,Z1(o,e.endLabelRight)}return n},"insertEdgeLabel");function Z1(t,e){we().flowchart.htmlLabels&&t&&(t.style.width=e.length*9+"px",t.style.height="12px")}b(Z1,"setTerminalWidth");var vq=b((t,e)=>{q.debug("Moving label abc88 ",t.id,t.label,n3.get(t.id),e);let r=e.updatedPath?e.updatedPath:e.originalPath;const n=we(),{subGraphTitleTotalMargin:i}=of(n);if(t.label){const a=n3.get(t.id);let s=t.x,o=t.y;if(r){const l=Jt.calcLabelPosition(r);q.debug("Moving label "+t.label+" from (",s,",",o,") to (",l.x,",",l.y,") abc88"),e.updatedPath&&(s=l.x,o=l.y)}a.attr("transform",`translate(${s}, ${o+i/2})`)}if(t.startLabelLeft){const a=Bi.get(t.id).startLeft;let s=t.x,o=t.y;if(r){const l=Jt.calcTerminalLabelPosition(t.arrowTypeStart?10:0,"start_left",r);s=l.x,o=l.y}a.attr("transform",`translate(${s}, ${o})`)}if(t.startLabelRight){const a=Bi.get(t.id).startRight;let s=t.x,o=t.y;if(r){const l=Jt.calcTerminalLabelPosition(t.arrowTypeStart?10:0,"start_right",r);s=l.x,o=l.y}a.attr("transform",`translate(${s}, ${o})`)}if(t.endLabelLeft){const a=Bi.get(t.id).endLeft;let s=t.x,o=t.y;if(r){const l=Jt.calcTerminalLabelPosition(t.arrowTypeEnd?10:0,"end_left",r);s=l.x,o=l.y}a.attr("transform",`translate(${s}, ${o})`)}if(t.endLabelRight){const a=Bi.get(t.id).endRight;let s=t.x,o=t.y;if(r){const l=Jt.calcTerminalLabelPosition(t.arrowTypeEnd?10:0,"end_right",r);s=l.x,o=l.y}a.attr("transform",`translate(${s}, ${o})`)}},"positionEdgeLabel"),Cxe=b((t,e)=>{const r=t.x,n=t.y,i=Math.abs(e.x-r),a=Math.abs(e.y-n),s=t.width/2,o=t.height/2;return i>=s||a>=o},"outsideNode"),Axe=b((t,e,r)=>{q.debug(`intersection calc abc89:
  outsidePoint: ${JSON.stringify(e)}
  insidePoint : ${JSON.stringify(r)}
  node        : x:${t.x} y:${t.y} w:${t.width} h:${t.height}`);const n=t.x,i=t.y,a=Math.abs(n-r.x),s=t.width/2;let o=r.x<e.x?s-a:s+a;const l=t.height/2,u=Math.abs(e.y-r.y),h=Math.abs(e.x-r.x);if(Math.abs(i-e.y)*s>Math.abs(n-e.x)*l){let d=r.y<e.y?e.y-l-i:i-l-e.y;o=h*d/u;const p={x:r.x<e.x?r.x+o:r.x-h+o,y:r.y<e.y?r.y+u-d:r.y-u+d};return o===0&&(p.x=e.x,p.y=e.y),h===0&&(p.x=e.x),u===0&&(p.y=e.y),q.debug(`abc89 top/bottom calc, Q ${u}, q ${d}, R ${h}, r ${o}`,p),p}else{r.x<e.x?o=e.x-s-n:o=n-s-e.x;let d=u*o/h,p=r.x<e.x?r.x+h-o:r.x-h+o,f=r.y<e.y?r.y+d:r.y-d;return q.debug(`sides calc abc89, Q ${u}, q ${d}, R ${h}, r ${o}`,{_x:p,_y:f}),o===0&&(p=e.x,f=e.y),h===0&&(p=e.x),u===0&&(f=e.y),{x:p,y:f}}},"intersection"),HI=b((t,e)=>{q.warn("abc88 cutPathAtIntersect",t,e);let r=[],n=t[0],i=!1;return t.forEach(a=>{if(q.info("abc88 checking point",a,e),!Cxe(e,a)&&!i){const s=Axe(e,n,a);q.debug("abc88 inside",a,n,s),q.debug("abc88 intersection",s,e);let o=!1;r.forEach(l=>{o=o||l.x===s.x&&l.y===s.y}),r.some(l=>l.x===s.x&&l.y===s.y)?q.warn("abc88 no intersect",s,r):r.push(s),i=!0}else q.warn("abc88 outside",a,n),n=a,i||r.push(a)}),q.debug("returning points",r),r},"cutPathAtIntersect");function yq(t){const e=[],r=[];for(let n=1;n<t.length-1;n++){const i=t[n-1],a=t[n],s=t[n+1];(i.x===a.x&&a.y===s.y&&Math.abs(a.x-s.x)>5&&Math.abs(a.y-i.y)>5||i.y===a.y&&a.x===s.x&&Math.abs(a.x-i.x)>5&&Math.abs(a.y-s.y)>5)&&(e.push(a),r.push(n))}return{cornerPoints:e,cornerPointPositions:r}}b(yq,"extractCornerPoints");var WI=b(function(t,e,r){const n=e.x-t.x,i=e.y-t.y,a=Math.sqrt(n*n+i*i),s=r/a;return{x:e.x-s*n,y:e.y-s*i}},"findAdjacentPoint"),_xe=b(function(t){const{cornerPointPositions:e}=yq(t),r=[];for(let n=0;n<t.length;n++)if(e.includes(n)){const i=t[n-1],a=t[n+1],s=t[n],o=WI(i,s,5),l=WI(a,s,5),u=l.x-o.x,h=l.y-o.y;r.push(o);const d=Math.sqrt(2)*2;let p={x:s.x,y:s.y};if(Math.abs(a.x-i.x)>10&&Math.abs(a.y-i.y)>=10){q.debug("Corner point fixing",Math.abs(a.x-i.x),Math.abs(a.y-i.y));const f=5;s.x===o.x?p={x:u<0?o.x-f+d:o.x+f-d,y:h<0?o.y-d:o.y+d}:p={x:u<0?o.x-d:o.x+d,y:h<0?o.y-f+d:o.y+f-d}}else q.debug("Corner point skipping fixing",Math.abs(a.x-i.x),Math.abs(a.y-i.y));r.push(p,l)}else r.push(t[n]);return r},"fixCorners"),xq=b(function(t,e,r,n,i,a,s){const{handDrawnSeed:o}=we();let l=e.points,u=!1;const h=i;var d=a;d.intersect&&h.intersect&&(l=l.slice(1,e.points.length-1),l.unshift(h.intersect(l[0])),q.debug("Last point APA12",e.start,"-->",e.end,l[l.length-1],d,d.intersect(l[l.length-1])),l.push(d.intersect(l[l.length-1]))),e.toCluster&&(q.info("to cluster abc88",r.get(e.toCluster)),l=HI(e.points,r.get(e.toCluster).node),u=!0),e.fromCluster&&(q.debug("from cluster abc88",r.get(e.fromCluster),JSON.stringify(l,null,2)),l=HI(l.reverse(),r.get(e.fromCluster).node).reverse(),u=!0);let p=l.filter(R=>!Number.isNaN(R.y));p=_xe(p);let f=p[p.length-1];if(p.length>1){f=p[p.length-1];const R=p[p.length-2],C=(f.x-R.x)/2,L=(f.y-R.y)/2,A={x:R.x+C,y:R.y+L};p.splice(-1,0,A)}let g=Tg;e.curve&&(g=e.curve);const{x:m,y}=QH(e),v=Xu().x(m).y(y).curve(g);let x;switch(e.thickness){case"normal":x="edge-thickness-normal";break;case"thick":x="edge-thickness-thick";break;case"invisible":x="edge-thickness-invisible";break;default:x="edge-thickness-normal"}switch(e.pattern){case"solid":x+=" edge-pattern-solid";break;case"dotted":x+=" edge-pattern-dotted";break;case"dashed":x+=" edge-pattern-dashed";break;default:x+=" edge-pattern-solid"}let w,k=v(p);const E=Array.isArray(e.style)?e.style:[e.style];if(e.look==="handDrawn"){const R=$t.svg(t);Object.assign([],p);const C=R.path(k,{roughness:.3,seed:o});x+=" transition",w=Ke(C).select("path").attr("id",e.id).attr("class"," "+x+(e.classes?" "+e.classes:"")).attr("style",E?E.reduce((A,N)=>A+";"+N,""):"");let L=w.attr("d");w.attr("d",L),t.node().appendChild(w.node())}else w=t.append("path").attr("d",k).attr("id",e.id).attr("class"," "+x+(e.classes?" "+e.classes:"")).attr("style",E?E.reduce((R,C)=>R+";"+C,""):"");let _="";(we().flowchart.arrowMarkerAbsolute||we().state.arrowMarkerAbsolute)&&(_=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,_=_.replace(/\(/g,"\\(").replace(/\)/g,"\\)")),q.info("arrowTypeStart",e.arrowTypeStart),q.info("arrowTypeEnd",e.arrowTypeEnd),Txe(w,e,_,s,n);let S={};return u&&(S.updatedPath=l),S.originalPath=e.points,S},"insertEdge"),Lxe=b((t,e,r,n)=>{e.forEach(i=>{$xe[i](t,r,n)})},"insertMarkers"),Nxe=b((t,e,r)=>{q.trace("Making markers for ",r),t.append("defs").append("marker").attr("id",r+"_"+e+"-extensionStart").attr("class","marker extension "+e).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 1,7 L18,13 V 1 Z"),t.append("defs").append("marker").attr("id",r+"_"+e+"-extensionEnd").attr("class","marker extension "+e).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 1,1 V 13 L18,7 Z")},"extension"),Rxe=b((t,e,r)=>{t.append("defs").append("marker").attr("id",r+"_"+e+"-compositionStart").attr("class","marker composition "+e).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),t.append("defs").append("marker").attr("id",r+"_"+e+"-compositionEnd").attr("class","marker composition "+e).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z")},"composition"),Mxe=b((t,e,r)=>{t.append("defs").append("marker").attr("id",r+"_"+e+"-aggregationStart").attr("class","marker aggregation "+e).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),t.append("defs").append("marker").attr("id",r+"_"+e+"-aggregationEnd").attr("class","marker aggregation "+e).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z")},"aggregation"),Ixe=b((t,e,r)=>{t.append("defs").append("marker").attr("id",r+"_"+e+"-dependencyStart").attr("class","marker dependency "+e).attr("refX",6).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 5,7 L9,13 L1,7 L9,1 Z"),t.append("defs").append("marker").attr("id",r+"_"+e+"-dependencyEnd").attr("class","marker dependency "+e).attr("refX",13).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L14,7 L9,1 Z")},"dependency"),Dxe=b((t,e,r)=>{t.append("defs").append("marker").attr("id",r+"_"+e+"-lollipopStart").attr("class","marker lollipop "+e).attr("refX",13).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("circle").attr("stroke","black").attr("fill","transparent").attr("cx",7).attr("cy",7).attr("r",6),t.append("defs").append("marker").attr("id",r+"_"+e+"-lollipopEnd").attr("class","marker lollipop "+e).attr("refX",1).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("circle").attr("stroke","black").attr("fill","transparent").attr("cx",7).attr("cy",7).attr("r",6)},"lollipop"),Oxe=b((t,e,r)=>{t.append("marker").attr("id",r+"_"+e+"-pointEnd").attr("class","marker "+e).attr("viewBox","0 0 10 10").attr("refX",5).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",8).attr("markerHeight",8).attr("orient","auto").append("path").attr("d","M 0 0 L 10 5 L 0 10 z").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0"),t.append("marker").attr("id",r+"_"+e+"-pointStart").attr("class","marker "+e).attr("viewBox","0 0 10 10").attr("refX",4.5).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",8).attr("markerHeight",8).attr("orient","auto").append("path").attr("d","M 0 5 L 10 10 L 10 0 z").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0")},"point"),Pxe=b((t,e,r)=>{t.append("marker").attr("id",r+"_"+e+"-circleEnd").attr("class","marker "+e).attr("viewBox","0 0 10 10").attr("refX",11).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("circle").attr("cx","5").attr("cy","5").attr("r","5").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0"),t.append("marker").attr("id",r+"_"+e+"-circleStart").attr("class","marker "+e).attr("viewBox","0 0 10 10").attr("refX",-1).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("circle").attr("cx","5").attr("cy","5").attr("r","5").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0")},"circle"),Fxe=b((t,e,r)=>{t.append("marker").attr("id",r+"_"+e+"-crossEnd").attr("class","marker cross "+e).attr("viewBox","0 0 11 11").attr("refX",12).attr("refY",5.2).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("path").attr("d","M 1,1 l 9,9 M 10,1 l -9,9").attr("class","arrowMarkerPath").style("stroke-width",2).style("stroke-dasharray","1,0"),t.append("marker").attr("id",r+"_"+e+"-crossStart").attr("class","marker cross "+e).attr("viewBox","0 0 11 11").attr("refX",-1).attr("refY",5.2).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("path").attr("d","M 1,1 l 9,9 M 10,1 l -9,9").attr("class","arrowMarkerPath").style("stroke-width",2).style("stroke-dasharray","1,0")},"cross"),Bxe=b((t,e,r)=>{t.append("defs").append("marker").attr("id",r+"_"+e+"-barbEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",14).attr("markerUnits","userSpaceOnUse").attr("orient","auto").append("path").attr("d","M 19,7 L9,13 L14,7 L9,1 Z")},"barb"),$xe={extension:Nxe,composition:Rxe,aggregation:Mxe,dependency:Ixe,lollipop:Dxe,point:Oxe,circle:Pxe,cross:Fxe,barb:Bxe},bq=Lxe,er=b(async(t,e,r)=>{let n;const i=e.useHtmlLabels||tn(we().flowchart.htmlLabels);r?n=r:n="node default";const a=t.insert("g").attr("class",n).attr("id",e.domId||e.id),s=a.insert("g").attr("class","label").attr("style",e.labelStyle);let o;e.label===void 0?o="":o=typeof e.label=="string"?e.label:e.label[0];let l;l=await Fl(s,Wn(Id(o),we()),{useHtmlLabels:i,width:e.width||we().flowchart.wrappingWidth,cssClasses:"markdown-node-label",style:e.labelStyle,addSvgBackground:!!e.icon||!!e.img});let u=l.getBBox();const h=e.padding/2;if(tn(we().flowchart.htmlLabels)){const d=l.children[0],p=Ke(l),f=d.getElementsByTagName("img");if(f){const g=o.replace(/<img[^>]*>/g,"").trim()==="";await Promise.all([...f].map(m=>new Promise(y=>{function v(){if(m.style.display="flex",m.style.flexDirection="column",g){const x=we().fontSize?we().fontSize:window.getComputedStyle(document.body).fontSize,k=parseInt(x,10)*5+"px";m.style.minWidth=k,m.style.maxWidth=k}else m.style.width="100%";y(m)}b(v,"setupImage"),setTimeout(()=>{m.complete&&v()}),m.addEventListener("error",v),m.addEventListener("load",v)})))}u=d.getBoundingClientRect(),p.attr("width",u.width),p.attr("height",u.height)}return i?s.attr("transform","translate("+-u.width/2+", "+-u.height/2+")"):s.attr("transform","translate(0, "+-u.height/2+")"),e.centerLabel&&s.attr("transform","translate("+-u.width/2+", "+-u.height/2+")"),s.insert("rect",":first-child"),{shapeSvg:a,bbox:u,halfPadding:h,label:s}},"labelHelper"),Ut=b((t,e)=>{const r=e.node().getBBox();t.width=r.width,t.height=r.height},"updateNodeBounds"),rr=b((t,e)=>(t.look==="handDrawn"?"rough-node":"node")+" "+t.cssClasses+" "+(e||""),"getNodeClasses");function yr(t){const e=t.map((r,n)=>`${n===0?"M":"L"}${r.x},${r.y}`);return e.push("Z"),e.join(" ")}b(yr,"createPathFromPoints");function Ju(t,e,r,n,i,a){const s=[],l=r-t,u=n-e,h=l/a,d=2*Math.PI/h,p=e+u/2;for(let f=0;f<=50;f++){const g=f/50,m=t+g*l,y=p+i*Math.sin(d*(m-t));s.push({x:m,y})}return s}b(Ju,"generateFullSineWavePoints");function __(t,e,r,n,i,a){const s=[],o=i*Math.PI/180,h=(a*Math.PI/180-o)/(n-1);for(let d=0;d<n;d++){const p=o+d*h,f=t+r*Math.cos(p),g=e+r*Math.sin(p);s.push({x:-f,y:-g})}return s}b(__,"generateCirclePoints");function wq(t,e){return t.intersect(e)}b(wq,"intersectNode");var zxe=wq;function kq(t,e,r,n){var i=t.x,a=t.y,s=i-n.x,o=a-n.y,l=Math.sqrt(e*e*o*o+r*r*s*s),u=Math.abs(e*r*s/l);n.x<i&&(u=-u);var h=Math.abs(e*r*o/l);return n.y<a&&(h=-h),{x:i+u,y:a+h}}b(kq,"intersectEllipse");var Tq=kq;function Eq(t,e,r){return Tq(t,e,e,r)}b(Eq,"intersectCircle");var Uxe=Eq;function Sq(t,e,r,n){var i,a,s,o,l,u,h,d,p,f,g,m,y,v,x;if(i=e.y-t.y,s=t.x-e.x,l=e.x*t.y-t.x*e.y,p=i*r.x+s*r.y+l,f=i*n.x+s*n.y+l,!(p!==0&&f!==0&&xS(p,f))&&(a=n.y-r.y,o=r.x-n.x,u=n.x*r.y-r.x*n.y,h=a*t.x+o*t.y+u,d=a*e.x+o*e.y+u,!(h!==0&&d!==0&&xS(h,d))&&(g=i*o-a*s,g!==0)))return m=Math.abs(g/2),y=s*u-o*l,v=y<0?(y-m)/g:(y+m)/g,y=a*l-i*u,x=y<0?(y-m)/g:(y+m)/g,{x:v,y:x}}b(Sq,"intersectLine");function xS(t,e){return t*e>0}b(xS,"sameSign");var Vxe=Sq;function Cq(t,e,r){let n=t.x,i=t.y,a=[],s=Number.POSITIVE_INFINITY,o=Number.POSITIVE_INFINITY;typeof e.forEach=="function"?e.forEach(function(h){s=Math.min(s,h.x),o=Math.min(o,h.y)}):(s=Math.min(s,e.x),o=Math.min(o,e.y));let l=n-t.width/2-s,u=i-t.height/2-o;for(let h=0;h<e.length;h++){let d=e[h],p=e[h<e.length-1?h+1:0],f=Vxe(t,r,{x:l+d.x,y:u+d.y},{x:l+p.x,y:u+p.y});f&&a.push(f)}return a.length?(a.length>1&&a.sort(function(h,d){let p=h.x-r.x,f=h.y-r.y,g=Math.sqrt(p*p+f*f),m=d.x-r.x,y=d.y-r.y,v=Math.sqrt(m*m+y*y);return g<v?-1:g===v?0:1}),a[0]):t}b(Cq,"intersectPolygon");var Gxe=Cq,It={node:zxe,circle:Uxe,ellipse:Tq,polygon:Gxe,rect:Ly},L_=b(async(t,e,r)=>{const{labelStyles:n,nodeStyles:i}=Wt(e);e.labelStyle=n;const{shapeSvg:a,bbox:s}=await er(t,e,rr(e)),o=Math.max(s.width+r.labelPaddingX*2,(e==null?void 0:e.width)||0),l=Math.max(s.height+r.labelPaddingY*2,(e==null?void 0:e.height)||0),u=-o/2,h=-l/2;let d,{rx:p,ry:f}=e;const{cssStyles:g}=e;if(r!=null&&r.rx&&r.ry&&(p=r.rx,f=r.ry),e.look==="handDrawn"){const m=$t.svg(a),y=zt(e,{}),v=p||f?m.path(Ag(u,h,o,l,p||0),y):m.rectangle(u,h,o,l,y);d=a.insert(()=>v,":first-child"),d.attr("class","basic label-container").attr("style",g)}else d=a.insert("rect",":first-child"),d.attr("class","basic label-container").attr("style",i).attr("rx",p).attr("ry",f).attr("x",u).attr("y",h).attr("width",o).attr("height",l);return Ut(e,d),e.intersect=function(m){return It.rect(e,m)},a},"drawRect"),Hxe=b(async(t,e)=>L_(t,e,{rx:5,ry:5,classes:"flowchart-node"}),"state"),Kk=b(async(t,e)=>{const r={rx:5,ry:5,classes:"",labelPaddingX:((e==null?void 0:e.padding)||0)*1,labelPaddingY:((e==null?void 0:e.padding)||0)*1};return L_(t,e,r)},"roundedRect"),A1=b(async(t,e)=>{const r={rx:0,ry:0,classes:"",labelPaddingX:((e==null?void 0:e.padding)||0)*2,labelPaddingY:((e==null?void 0:e.padding)||0)*1};return L_(t,e,r)},"squareRect"),Y2=b((t,e,{config:{themeVariables:r}})=>{const{lineColor:n}=r,i=t.insert("g").attr("class","node default").attr("id",e.domId||e.id);let a;if(e.look==="handDrawn"){const o=$t.svg(i).circle(0,0,14,gxe(n));a=i.insert(()=>o)}else a=i.insert("circle",":first-child");return a.attr("class","state-start").attr("r",7).attr("width",14).attr("height",14),Ut(e,a),e.intersect=function(s){return It.circle(e,7,s)},i},"stateStart"),q2=b((t,e,{config:{themeVariables:r}})=>{const{labelStyles:n,nodeStyles:i}=Wt(e);e.labelStyle=n;const{cssStyles:a}=e,{lineColor:s,stateBorder:o,nodeBorder:l}=r,u=t.insert("g").attr("class","node default").attr("id",e.domId||e.id),h=$t.svg(u),d=zt(e,{});e.look!=="handDrawn"&&(d.roughness=0,d.fillStyle="solid");const p=h.circle(0,0,14,{...d,stroke:s,strokeWidth:2}),f=o??l,g=h.circle(0,0,5,{...d,fill:f,stroke:f,strokeWidth:2,fillStyle:"solid"}),m=u.insert(()=>p,":first-child");return m.insert(()=>g),a&&m.selectAll("path").attr("style",a),i&&m.selectAll("path").attr("style",i),Ut(e,m),e.intersect=function(y){return It.circle(e,7,y)},u},"stateEnd"),Qk=b((t,e,{dir:r,config:{state:n,themeVariables:i}})=>{const{nodeStyles:a}=Wt(e);e.label="";const s=t.insert("g").attr("class",rr(e)).attr("id",e.domId??e.id),{cssStyles:o}=e;let l=Math.max(70,(e==null?void 0:e.width)??0),u=Math.max(10,(e==null?void 0:e.height)??0);r==="LR"&&(l=Math.max(10,(e==null?void 0:e.width)??0),u=Math.max(70,(e==null?void 0:e.height)??0));const h=-1*l/2,d=-1*u/2,p=$t.svg(s),f=zt(e,{stroke:i.lineColor,fill:i.lineColor});e.look!=="handDrawn"&&(f.roughness=0,f.fillStyle="solid");const g=p.rectangle(h,d,l,u,f),m=s.insert(()=>g,":first-child");o&&e.look!=="handDrawn"&&m.selectAll("path").attr("style",o),a&&e.look!=="handDrawn"&&m.selectAll("path").attr("style",a),Ut(e,m);const y=(n==null?void 0:n.padding)??0;return e.width&&e.height&&(e.width+=y/2||0,e.height+=y/2||0),e.intersect=function(v){return It.rect(e,v)},s},"forkJoin"),Wxe=b((t,e)=>{const{nodeStyles:r}=Wt(e);e.label="";const n=t.insert("g").attr("class",rr(e)).attr("id",e.domId??e.id),{cssStyles:i}=e,a=Math.max(28,e.width??0),s=[{x:0,y:a/2},{x:a/2,y:0},{x:0,y:-a/2},{x:-a/2,y:0}],o=$t.svg(n),l=zt(e,{});e.look!=="handDrawn"&&(l.roughness=0,l.fillStyle="solid");const u=yr(s),h=o.path(u,l),d=n.insert(()=>h,":first-child");return i&&e.look!=="handDrawn"&&d.selectAll("path").attr("style",i),r&&e.look!=="handDrawn"&&d.selectAll("path").attr("style",r),e.width=28,e.height=28,e.intersect=function(p){return It.polygon(e,s,p)},n},"choice"),Yxe=b(async(t,e,{config:{themeVariables:r}})=>{const{labelStyles:n,nodeStyles:i}=Wt(e);e.labelStyle=n;const{shapeSvg:a,bbox:s}=await er(t,e,rr(e)),o=Math.max(s.width+(e.padding??0)*2,(e==null?void 0:e.width)??0),l=Math.max(s.height+(e.padding??0)*2,(e==null?void 0:e.height)??0),u=-o/2,h=-l/2,{cssStyles:d}=e;e.useHtmlLabels||(e.centerLabel=!0);const f=$t.svg(a),g=zt(e,{fill:r.noteBkgColor,stroke:r.noteBorderColor});e.look!=="handDrawn"&&(g.roughness=0,g.fillStyle="solid");const m=f.rectangle(u,h,o,l,g),y=a.insert(()=>m,":first-child");return y.attr("class","basic label-container"),d&&e.look!=="handDrawn"&&y.selectAll("path").attr("style",d),i&&e.look!=="handDrawn"&&y.selectAll("path").attr("style",i),Ut(e,y),e.intersect=function(v){return It.rect(e,v)},a},"note"),Zk=b(async(t,e)=>{const{labelStyles:r,nodeStyles:n}=Wt(e);e.labelStyle=r;const{shapeSvg:i,bbox:a}=await er(t,e,rr(e)),s=a.height+e.padding,o=a.width+s/4+e.padding;let l;const{cssStyles:u}=e;if(e.look==="handDrawn"){const h=$t.svg(i),d=zt(e,{}),p=Ag(-o/2,-s/2,o,s,s/2),f=h.path(p,d);l=i.insert(()=>f,":first-child"),l.attr("class","basic label-container").attr("style",u)}else l=i.insert("rect",":first-child"),l.attr("class","basic label-container").attr("style",n).attr("rx",s/2).attr("ry",s/2).attr("x",-o/2).attr("y",-s/2).attr("width",o).attr("height",s);return Ut(e,l),e.intersect=function(h){return It.rect(e,h)},i},"stadium"),qxe=b(async(t,e)=>{var R,C;const{labelStyles:r,nodeStyles:n}=Wt(e);e.labelStyle=r;let i;e.cssClasses?i="node "+e.cssClasses:i="node default";const a=t.insert("g").attr("class",i).attr("id",e.domId||e.id),s=a.insert("g"),o=a.insert("g").attr("class","label").attr("style",n),l=e.description,u=e.label,h=o.node().appendChild(await sd(u,e.labelStyle,!0,!0));let d={width:0,height:0};if(tn((C=(R=we())==null?void 0:R.flowchart)==null?void 0:C.htmlLabels)){const L=h.children[0],A=Ke(h);d=L.getBoundingClientRect(),A.attr("width",d.width),A.attr("height",d.height)}q.info("Text 2",l);const p=l||[],f=h.getBBox(),g=o.node().appendChild(await sd(p.join?p.join("<br/>"):p,e.labelStyle,!0,!0)),m=g.children[0],y=Ke(g);d=m.getBoundingClientRect(),y.attr("width",d.width),y.attr("height",d.height);const v=(e.padding||0)/2;Ke(g).attr("transform","translate( "+(d.width>f.width?0:(f.width-d.width)/2)+", "+(f.height+v+5)+")"),Ke(h).attr("transform","translate( "+(d.width<f.width?0:-(f.width-d.width)/2)+", 0)"),d=o.node().getBBox(),o.attr("transform","translate("+-d.width/2+", "+(-d.height/2-v+3)+")");const x=d.width+(e.padding||0),w=d.height+(e.padding||0),k=-d.width/2-v,E=-d.height/2-v;let _,S;if(e.look==="handDrawn"){const L=$t.svg(a),A=zt(e,{}),N=L.path(Ag(k,E,x,w,e.rx||0),A),F=L.line(-d.width/2-v,-d.height/2-v+f.height+v,d.width/2+v,-d.height/2-v+f.height+v,A);S=a.insert(()=>(q.debug("Rough node insert CXC",N),F),":first-child"),_=a.insert(()=>(q.debug("Rough node insert CXC",N),N),":first-child")}else _=s.insert("rect",":first-child"),S=s.insert("line"),_.attr("class","outer title-state").attr("style",n).attr("x",-d.width/2-v).attr("y",-d.height/2-v).attr("width",d.width+(e.padding||0)).attr("height",d.height+(e.padding||0)),S.attr("class","divider").attr("x1",-d.width/2-v).attr("x2",d.width/2+v).attr("y1",-d.height/2-v+f.height+v).attr("y2",-d.height/2-v+f.height+v);return Ut(e,_),e.intersect=function(L){return It.rect(e,L)},a},"rectWithTitle");function Jc(t,e,r,n){return t.insert("polygon",":first-child").attr("points",n.map(function(i){return i.x+","+i.y}).join(" ")).attr("class","label-container").attr("transform","translate("+-e/2+","+r/2+")")}b(Jc,"insertPolygonShape");var _1=b(async(t,e)=>{const{labelStyles:r,nodeStyles:n}=Wt(e);e.labelStyle=r;const{shapeSvg:i,bbox:a}=await er(t,e,rr(e)),s=((e==null?void 0:e.padding)||0)/2,o=a.width+e.padding,l=a.height+e.padding,u=-a.width/2-s,h=-a.height/2-s,d=[{x:0,y:0},{x:o,y:0},{x:o,y:-l},{x:0,y:-l},{x:0,y:0},{x:-8,y:0},{x:o+8,y:0},{x:o+8,y:-l},{x:-8,y:-l},{x:-8,y:0}];if(e.look==="handDrawn"){const p=$t.svg(i),f=zt(e,{}),g=p.rectangle(u-8,h,o+16,l,f),m=p.line(u,h,u,h+l,f),y=p.line(u+o,h,u+o,h+l,f);i.insert(()=>m,":first-child"),i.insert(()=>y,":first-child");const v=i.insert(()=>g,":first-child"),{cssStyles:x}=e;v.attr("class","basic label-container").attr("style",x),Ut(e,v)}else{const p=Jc(i,o,l,d);n&&p.attr("style",n),Ut(e,p)}return e.intersect=function(p){return It.polygon(e,d,p)},i},"subroutine"),jxe=b((t,e,r,n,i,a)=>[`M${t},${e+a}`,`a${i},${a} 0,0,0 ${r},0`,`a${i},${a} 0,0,0 ${-r},0`,`l0,${n}`,`a${i},${a} 0,0,0 ${r},0`,`l0,${-n}`].join(" "),"createCylinderPathD"),Xxe=b((t,e,r,n,i,a)=>[`M${t},${e+a}`,`M${t+r},${e+a}`,`a${i},${a} 0,0,0 ${-r},0`,`l0,${n}`,`a${i},${a} 0,0,0 ${r},0`,`l0,${-n}`].join(" "),"createOuterCylinderPathD"),Kxe=b((t,e,r,n,i,a)=>[`M${t-r/2},${-n/2}`,`a${i},${a} 0,0,0 ${r},0`].join(" "),"createInnerCylinderPathD"),j2=b(async(t,e)=>{const{labelStyles:r,nodeStyles:n}=Wt(e);e.labelStyle=r;const{shapeSvg:i,bbox:a,label:s}=await er(t,e,rr(e)),o=Math.max(a.width+e.padding,e.width??0),l=o/2,u=l/(2.5+o/50),h=Math.max(a.height+u+e.padding,e.height??0);let d;const{cssStyles:p}=e;if(e.look==="handDrawn"){const f=$t.svg(i),g=Xxe(0,0,o,h,l,u),m=Kxe(0,u,o,h,l,u),y=f.path(g,zt(e,{})),v=f.path(m,zt(e,{fill:"none"}));d=i.insert(()=>v,":first-child"),d=i.insert(()=>y,":first-child"),d.attr("class","basic label-container"),p&&d.attr("style",p)}else{const f=jxe(0,0,o,h,l,u);d=i.insert("path",":first-child").attr("d",f).attr("class","basic label-container").attr("style",p).attr("style",n)}return d.attr("label-offset-y",u),d.attr("transform",`translate(${-o/2}, ${-(h/2+u)})`),Ut(e,d),s.attr("transform",`translate(${-(a.width/2)-(a.x-(a.left??0))}, ${-(a.height/2)+(e.padding??0)/1.5-(a.y-(a.top??0))})`),e.intersect=function(f){const g=It.rect(e,f),m=g.x-(e.x??0);if(l!=0&&(Math.abs(m)<(e.width??0)/2||Math.abs(m)==(e.width??0)/2&&Math.abs(g.y-(e.y??0))>(e.height??0)/2-u)){let y=u*u*(1-m*m/(l*l));y>0&&(y=Math.sqrt(y)),y=u-y,f.y-(e.y??0)>0&&(y=-y),g.y+=y}return g},i},"cylinder"),YI=b(async(t,e)=>{const{labelStyles:r,nodeStyles:n}=Wt(e);e.labelStyle=r;const{shapeSvg:i,bbox:a,halfPadding:s}=await er(t,e,rr(e)),o=a.width/2+s;let l;const{cssStyles:u}=e;if(e.look==="handDrawn"){const h=$t.svg(i),d=zt(e,{}),p=h.circle(0,0,o*2,d);l=i.insert(()=>p,":first-child"),l.attr("class","basic label-container").attr("style",u)}else l=i.insert("circle",":first-child").attr("class","basic label-container").attr("style",n).attr("r",o).attr("cx",0).attr("cy",0);return Ut(e,l),e.intersect=function(h){return q.info("Circle intersect",e,o,h),It.circle(e,o,h)},i},"circle"),Jk=b(async(t,e)=>{var p,f;const{labelStyles:r,nodeStyles:n}=Wt(e);e.labelStyle=r;const{shapeSvg:i,bbox:a,halfPadding:s}=await er(t,e,rr(e)),l=a.width/2+s+5,u=a.width/2+s;let h;const{cssStyles:d}=e;if(e.look==="handDrawn"){const g=$t.svg(i),m=zt(e,{roughness:.2,strokeWidth:2.5}),y=zt(e,{roughness:.2,strokeWidth:1.5}),v=g.circle(0,0,l*2,m),x=g.circle(0,0,u*2,y);h=i.insert("g",":first-child"),h.attr("class",e.cssClasses).attr("style",d),(p=h.node())==null||p.appendChild(v),(f=h.node())==null||f.appendChild(x)}else{h=i.insert("g",":first-child");const g=h.insert("circle",":first-child"),m=h.insert("circle");h.attr("class","basic label-container").attr("style",n),g.attr("class","outer-circle").attr("style",n).attr("r",l).attr("cx",0).attr("cy",0),m.attr("class","inner-circle").attr("style",n).attr("r",u).attr("cx",0).attr("cy",0)}return Ut(e,h),e.intersect=function(g){return q.info("DoubleCircle intersect",e,l,g),It.circle(e,l,g)},i},"doublecircle"),qI=b(async(t,e)=>{const{labelStyles:r,nodeStyles:n}=Wt(e);e.labelStyle=r;const{shapeSvg:i,bbox:a,label:s}=await er(t,e,rr(e)),o=Math.max(a.width+(e.padding??0),(e==null?void 0:e.width)??0),l=Math.max(a.height+(e.padding??0),(e==null?void 0:e.height)??0),u=-o/2,h=-l/2,d=h/2,p=[{x:u+d,y:h},{x:u,y:0},{x:u+d,y:-h},{x:-u,y:-h},{x:-u,y:h}],{cssStyles:f}=e,g=$t.svg(i),m=zt(e,{});e.look!=="handDrawn"&&(m.roughness=0,m.fillStyle="solid");const y=yr(p),v=g.path(y,m),x=i.insert(()=>v,":first-child");return x.attr("class","basic label-container"),f&&e.look!=="handDrawn"&&x.selectAll("path").attr("style",f),n&&e.look!=="handDrawn"&&x.selectAll("path").attr("style",n),x.attr("transform",`translate(${-d/2},0)`),s.attr("transform",`translate(${-d/2-a.width/2-(a.x-(a.left??0))}, ${-(a.height/2)-(a.y-(a.top??0))})`),Ut(e,x),e.intersect=function(w){return It.polygon(e,p,w)},i},"rect_left_inv_arrow"),Qxe=b((t,e,r)=>[`M${t+r/2},${e}`,`L${t+r},${e-r/2}`,`L${t+r/2},${e-r}`,`L${t},${e-r/2}`,"Z"].join(" "),"createDecisionBoxPathD"),X2=b(async(t,e)=>{const{labelStyles:r,nodeStyles:n}=Wt(e);e.labelStyle=r;const{shapeSvg:i,bbox:a}=await er(t,e,rr(e)),s=a.width+e.padding,o=a.height+e.padding,l=s+o,u=[{x:l/2,y:0},{x:l,y:-l/2},{x:l/2,y:-l},{x:0,y:-l/2}];let h;const{cssStyles:d}=e;if(e.look==="handDrawn"){const p=$t.svg(i),f=zt(e,{}),g=Qxe(0,0,l),m=p.path(g,f);h=i.insert(()=>m,":first-child").attr("transform",`translate(${-l/2}, ${l/2})`),d&&h.attr("style",d)}else h=Jc(i,l,l,u);return n&&h.attr("style",n),Ut(e,h),e.intersect=function(p){return q.debug(`APA12 Intersect called SPLIT
point:`,p,`
node:
`,e,`
res:`,It.polygon(e,u,p)),It.polygon(e,u,p)},i},"question"),Zxe=b((t,e,r,n,i)=>[`M${t+i},${e}`,`L${t+r-i},${e}`,`L${t+r},${e-n/2}`,`L${t+r-i},${e-n}`,`L${t+i},${e-n}`,`L${t},${e-n/2}`,"Z"].join(" "),"createHexagonPathD"),eT=b(async(t,e)=>{const{labelStyles:r,nodeStyles:n}=Wt(e);e.labelStyle=r;const{shapeSvg:i,bbox:a}=await er(t,e,rr(e)),s=4,o=a.height+e.padding,l=o/s,u=a.width+2*l+e.padding,h=[{x:l,y:0},{x:u-l,y:0},{x:u,y:-o/2},{x:u-l,y:-o},{x:l,y:-o},{x:0,y:-o/2}];let d;const{cssStyles:p}=e;if(e.look==="handDrawn"){const f=$t.svg(i),g=zt(e,{}),m=Zxe(0,0,u,o,l),y=f.path(m,g);d=i.insert(()=>y,":first-child").attr("transform",`translate(${-u/2}, ${o/2})`),p&&d.attr("style",p)}else d=Jc(i,u,o,h);return n&&d.attr("style",n),e.width=u,e.height=o,Ut(e,d),e.intersect=function(f){return It.polygon(e,h,f)},i},"hexagon");async function Aq(t,e){const{labelStyles:r,nodeStyles:n}=Wt(e);e.labelStyle=r;const{shapeSvg:i,bbox:a}=await er(t,e,rr(e)),s=Math.max(a.width+e.padding,(e==null?void 0:e.width)||0),o=Math.max(a.height+e.padding,(e==null?void 0:e.height)||0),l=-s/2,u=-o/2,h=i.insert("rect",":first-child");return h.attr("class","text").attr("style",n).attr("rx",0).attr("ry",0).attr("x",l).attr("y",u).attr("width",s).attr("height",o),Ut(e,h),e.intersect=function(d){return It.rect(e,d)},i}b(Aq,"text");async function db(t,e){const{labelStyles:r,nodeStyles:n}=Wt(e);e.labelStyle=r;const{shapeSvg:i,bbox:a}=await er(t,e,rr(e)),s=a.height+e.padding,o=12,l=a.width+e.padding+o,u=0,h=l,d=-s,p=0,f=[{x:u+o,y:d},{x:h,y:d},{x:h,y:p},{x:u,y:p},{x:u,y:d+o},{x:u+o,y:d}];let g;const{cssStyles:m}=e;if(e.look==="handDrawn"){const y=$t.svg(i),v=zt(e,{}),x=yr(f),w=y.path(x,v);g=i.insert(()=>w,":first-child").attr("transform",`translate(${-l/2}, ${s/2})`),m&&g.attr("style",m)}else g=Jc(i,l,s,f);return n&&g.attr("style",n),Ut(e,g),e.intersect=function(y){return It.polygon(e,f,y)},i}b(db,"card");var L1=b(async(t,e)=>{const{labelStyles:r,nodeStyles:n}=Wt(e);e.labelStyle=r;const{shapeSvg:i,bbox:a,label:s}=await er(t,e,rr(e)),o=(e==null?void 0:e.padding)??0,l=Math.max(a.width+(e.padding??0)*2,(e==null?void 0:e.width)??0),u=Math.max(a.height+(e.padding??0)*2,(e==null?void 0:e.height)??0),h=-a.width/2-o,d=-a.height/2-o,{cssStyles:p}=e,f=$t.svg(i),g=zt(e,{});e.look!=="handDrawn"&&(g.roughness=0,g.fillStyle="solid");const m=[{x:h,y:d},{x:h+l+8,y:d},{x:h+l+8,y:d+u},{x:h-8,y:d+u},{x:h-8,y:d},{x:h,y:d},{x:h,y:d+u}],y=f.polygon(m.map(x=>[x.x,x.y]),g),v=i.insert(()=>y,":first-child");return v.attr("class","basic label-container").attr("style",p),n&&e.look!=="handDrawn"&&v.selectAll("path").attr("style",n),p&&e.look!=="handDrawn"&&v.selectAll("path").attr("style",n),s.attr("transform",`translate(${-l/2+4+(e.padding??0)-(a.x-(a.left??0))},${-u/2+(e.padding??0)-(a.y-(a.top??0))})`),Ut(e,v),e.intersect=function(x){return It.rect(e,x)},i},"shadedProcess"),Jxe=b((t,e)=>{const{labelStyles:r}=Wt(e);e.labelStyle=r;const n=rr(e);let i=n;n||(i="anchor");const a=t.insert("g").attr("class",i).attr("id",e.domId||e.id),s=1,{cssStyles:o}=e,l=$t.svg(a),u=zt(e,{fill:"black",stroke:"none",fillStyle:"solid"});e.look!=="handDrawn"&&(u.roughness=0);const h=l.circle(0,0,s*2,u),d=a.insert(()=>h,":first-child");return d.attr("class","anchor").attr("style",o),Ut(e,d),e.intersect=function(p){return q.info("Circle intersect",e,s,p),It.circle(e,s,p)},a},"anchor"),K2=b(async(t,e)=>{const{labelStyles:r,nodeStyles:n}=Wt(e);e.labelStyle=r;const{shapeSvg:i,bbox:a}=await er(t,e,rr(e)),s=Math.max(a.width+(e.padding??0),(e==null?void 0:e.width)??0),o=Math.max(a.height+(e.padding??0),(e==null?void 0:e.height)??0),l=[{x:-3*o/6,y:0},{x:s,y:0},{x:s+3*o/6,y:-o},{x:0,y:-o}];let u;const{cssStyles:h}=e;if(e.look==="handDrawn"){const d=$t.svg(i),p=zt(e,{}),f=yr(l),g=d.path(f,p);u=i.insert(()=>g,":first-child").attr("transform",`translate(${-s/2}, ${o/2})`),h&&u.attr("style",h)}else u=Jc(i,s,o,l);return n&&u.attr("style",n),e.width=s,e.height=o,Ut(e,u),e.intersect=function(d){return It.polygon(e,l,d)},i},"lean_right"),Q2=b(async(t,e)=>{const{labelStyles:r,nodeStyles:n}=Wt(e);e.labelStyle=r;const{shapeSvg:i,bbox:a}=await er(t,e,rr(e)),s=Math.max(a.width+(e.padding??0),(e==null?void 0:e.width)??0),o=Math.max(a.height+(e.padding??0),(e==null?void 0:e.height)??0),l=[{x:0,y:0},{x:s+3*o/6,y:0},{x:s,y:-o},{x:-(3*o)/6,y:-o}];let u;const{cssStyles:h}=e;if(e.look==="handDrawn"){const d=$t.svg(i),p=zt(e,{}),f=yr(l),g=d.path(f,p);u=i.insert(()=>g,":first-child").attr("transform",`translate(${-s/2}, ${o/2})`),h&&u.attr("style",h)}else u=Jc(i,s,o,l);return n&&u.attr("style",n),e.width=s,e.height=o,Ut(e,u),e.intersect=function(d){return It.polygon(e,l,d)},i},"lean_left"),Z2=b(async(t,e)=>{const{labelStyles:r,nodeStyles:n}=Wt(e);e.labelStyle=r;const{shapeSvg:i,bbox:a}=await er(t,e,rr(e)),s=a.width+e.padding,o=a.height+e.padding,l=[{x:-3*o/6,y:0},{x:s+3*o/6,y:0},{x:s,y:-o},{x:0,y:-o}];let u;const{cssStyles:h}=e;if(e.look==="handDrawn"){const d=$t.svg(i),p=zt(e,{}),f=yr(l),g=d.path(f,p);u=i.insert(()=>g,":first-child").attr("transform",`translate(${-s/2}, ${o/2})`),h&&u.attr("style",h)}else u=Jc(i,s,o,l);return n&&u.attr("style",n),e.width=s,e.height=o,Ut(e,u),e.intersect=function(d){return It.polygon(e,l,d)},i},"trapezoid"),N1=b(async(t,e)=>{const{labelStyles:r,nodeStyles:n}=Wt(e);e.labelStyle=r;const{shapeSvg:i,bbox:a}=await er(t,e,rr(e)),s=Math.max(a.width+(e.padding??0)*2,(e==null?void 0:e.width)??0),o=Math.max(a.height+(e.padding??0)*2,(e==null?void 0:e.height)??0),l=[{x:0,y:0},{x:s,y:0},{x:s+3*o/6,y:-o},{x:-3*o/6,y:-o}];let u;const{cssStyles:h}=e;if(e.look==="handDrawn"){const d=$t.svg(i),p=zt(e,{}),f=yr(l),g=d.path(f,p);u=i.insert(()=>g,":first-child").attr("transform",`translate(${-s/2}, ${o/2})`),h&&u.attr("style",h)}else u=Jc(i,s,o,l);return n&&u.attr("style",n),e.width=s,e.height=o,Ut(e,u),e.intersect=function(d){return It.polygon(e,l,d)},i},"inv_trapezoid"),ebe=b(async(t,e)=>{const{shapeSvg:r,bbox:n,label:i}=await er(t,e,"label"),a=r.insert("rect",":first-child");return a.attr("width",.1).attr("height",.1),r.attr("class","label edgeLabel"),i.attr("transform",`translate(${-(n.width/2)-(n.x-(n.left??0))}, ${-(n.height/2)-(n.y-(n.top??0))})`),Ut(e,a),e.intersect=function(l){return It.rect(e,l)},r},"labelRect"),tT=b(async(t,e)=>{var x;const{labelStyles:r,nodeStyles:n}=Wt(e);e.labelStyle=r;const{shapeSvg:i,bbox:a,label:s}=await er(t,e,rr(e)),o=tn((x=we().flowchart)==null?void 0:x.htmlLabels),l=a.width+(e.padding??0),u=l+a.height,h=l+a.height,d=[{x:0,y:0},{x:h,y:0},{x:h/2,y:-u}],{cssStyles:p}=e,f=$t.svg(i),g=zt(e,{});e.look!=="handDrawn"&&(g.roughness=0,g.fillStyle="solid");const m=yr(d),y=f.path(m,g),v=i.insert(()=>y,":first-child").attr("transform",`translate(${-u/2}, ${u/2})`);return p&&e.look!=="handDrawn"&&v.selectChildren("path").attr("style",p),n&&e.look!=="handDrawn"&&v.selectChildren("path").attr("style",n),e.width=l,e.height=u,Ut(e,v),s.attr("transform",`translate(${-a.width/2-(a.x-(a.left??0))}, ${u/2-(a.height+(e.padding??0)/(o?2:1)-(a.y-(a.top??0)))})`),e.intersect=function(w){return q.info("Triangle intersect",e,d,w),It.polygon(e,d,w)},i},"triangle"),jI=b(async(t,e)=>{const{labelStyles:r,nodeStyles:n}=Wt(e);e.labelStyle=r;const i=80,a=50,{shapeSvg:s,bbox:o}=await er(t,e,rr(e)),l=Math.max(i,o.width+(e.padding??0)*2,(e==null?void 0:e.width)??0),u=Math.max(a,o.height+(e.padding??0)*2,(e==null?void 0:e.height)??0),h=u/2,{cssStyles:d}=e,p=$t.svg(s),f=zt(e,{});e.look!=="handDrawn"&&(f.roughness=0,f.fillStyle="solid");const g=[{x:-l/2,y:-u/2},{x:l/2-h,y:-u/2},...__(-l/2+h,0,h,50,90,270),{x:l/2-h,y:u/2},{x:-l/2,y:u/2}],m=yr(g),y=p.path(m,f),v=s.insert(()=>y,":first-child");return v.attr("class","basic label-container"),d&&e.look!=="handDrawn"&&v.selectChildren("path").attr("style",d),n&&e.look!=="handDrawn"&&v.selectChildren("path").attr("style",n),Ut(e,v),e.intersect=function(x){return q.info("Pill intersect",e,{radius:h,point:x}),It.polygon(e,g,x)},s},"halfRoundedRectangle"),rT=b(async(t,e)=>{const{labelStyles:r,nodeStyles:n}=Wt(e);e.labelStyle=r;const{shapeSvg:i,bbox:a}=await er(t,e,rr(e)),s=80,o=20,l=Math.max(s,(a.width+(e.padding??0)*2)*1.25,(e==null?void 0:e.width)??0),u=Math.max(o,a.height+(e.padding??0)*2,(e==null?void 0:e.height)??0),h=u/2,{cssStyles:d}=e,p=$t.svg(i),f=zt(e,{});e.look!=="handDrawn"&&(f.roughness=0,f.fillStyle="solid");const g=l,m=u,y=g-h,v=m/4,x=[{x:y,y:0},{x:v,y:0},{x:0,y:m/2},{x:v,y:m},{x:y,y:m},...__(-y,-m/2,h,50,270,90)],w=yr(x),k=p.path(w,f),E=i.insert(()=>k,":first-child");return E.attr("class","basic label-container"),d&&e.look!=="handDrawn"&&E.selectChildren("path").attr("style",d),n&&e.look!=="handDrawn"&&E.selectChildren("path").attr("style",n),E.attr("transform",`translate(${-l/2}, ${-u/2})`),Ut(e,E),e.intersect=function(_){return It.polygon(e,x,_)},i},"curvedTrapezoid"),nT=b(async(t,e)=>{const{labelStyles:r,nodeStyles:n}=Wt(e);e.labelStyle=r;const{shapeSvg:i,bbox:a,label:s}=await er(t,e,rr(e)),o=Math.max(a.width+(e.padding??0)*2,(e==null?void 0:e.width)??0),l=Math.max(a.height+(e.padding??0)*2,(e==null?void 0:e.height)??0),u=-o/2,h=-l/2,{cssStyles:d}=e,p=$t.svg(i),f=zt(e,{});e.look!=="handDrawn"&&(f.roughness=0,f.fillStyle="solid");const g=[{x:u,y:h},{x:u,y:h+l},{x:u+o,y:h+l},{x:u+o,y:h-l/2}],m=yr(g),y=p.path(m,f),v=i.insert(()=>y,":first-child");return v.attr("class","basic label-container"),d&&e.look!=="handDrawn"&&v.selectChildren("path").attr("style",d),n&&e.look!=="handDrawn"&&v.selectChildren("path").attr("style",n),v.attr("transform",`translate(0, ${l/4})`),s.attr("transform",`translate(${-o/2+(e.padding??0)-(a.x-(a.left??0))}, ${-l/4+(e.padding??0)-(a.y-(a.top??0))})`),Ut(e,v),e.intersect=function(x){return It.polygon(e,g,x)},i},"slopedRect");function bS(t,e,r,n,i,a,s){const l=(t+r)/2,u=(e+n)/2,h=Math.atan2(n-e,r-t),d=(r-t)/2,p=(n-e)/2,f=d/i,g=p/a,m=Math.sqrt(f**2+g**2);if(m>1)throw new Error("The given radii are too small to create an arc between the points.");const y=Math.sqrt(1-m**2),v=l+y*a*Math.sin(h)*(s?-1:1),x=u-y*i*Math.cos(h)*(s?-1:1),w=Math.atan2((e-x)/a,(t-v)/i);let E=Math.atan2((n-x)/a,(r-v)/i)-w;s&&E<0&&(E+=2*Math.PI),!s&&E>0&&(E-=2*Math.PI);const _=[];for(let S=0;S<20;S++){const R=S/19,C=w+R*E,L=v+i*Math.cos(C),A=x+a*Math.sin(C);_.push({x:L,y:A})}return _}b(bS,"generateArcPoints");var iT=b(async(t,e)=>{const{labelStyles:r,nodeStyles:n}=Wt(e);e.labelStyle=r;const{shapeSvg:i,bbox:a}=await er(t,e,rr(e)),s=a.width+e.padding+20,o=a.height+e.padding,l=o/2,u=l/(2.5+o/50),{cssStyles:h}=e,d=[{x:s/2,y:-o/2},{x:-s/2,y:-o/2},...bS(-s/2,-o/2,-s/2,o/2,u,l,!1),{x:s/2,y:o/2},...bS(s/2,o/2,s/2,-o/2,u,l,!0)],p=$t.svg(i),f=zt(e,{});e.look!=="handDrawn"&&(f.roughness=0,f.fillStyle="solid");const g=yr(d),m=p.path(g,f),y=i.insert(()=>m,":first-child");return y.attr("class","basic label-container"),h&&e.look!=="handDrawn"&&y.selectAll("path").attr("style",h),n&&e.look!=="handDrawn"&&y.selectAll("path").attr("style",n),y.attr("transform",`translate(${u/2}, 0)`),Ut(e,y),e.intersect=function(v){return It.polygon(e,d,v)},i},"bowTieRect"),J2=b(async(t,e)=>{const{labelStyles:r,nodeStyles:n}=Wt(e);e.labelStyle=r;const{shapeSvg:i,bbox:a,label:s}=await er(t,e,rr(e)),o=a.width+e.padding,l=a.height+e.padding,u=l*.2,h=-o/2,d=-l/2-u/2,{cssStyles:p}=e,f=$t.svg(i),g=zt(e,{});e.look!=="handDrawn"&&(g.roughness=0,g.fillStyle="solid");const m=[{x:h,y:d+u},{x:-h,y:d+u},{x:-h,y:-d},{x:h,y:-d},{x:h,y:d},{x:-h,y:d},{x:-h,y:d+u}],y=f.polygon(m.map(x=>[x.x,x.y]),g),v=i.insert(()=>y,":first-child");return v.attr("class","basic label-container"),p&&e.look!=="handDrawn"&&v.selectAll("path").attr("style",p),n&&e.look!=="handDrawn"&&v.selectAll("path").attr("style",n),s.attr("transform",`translate(${h+(e.padding??0)/2-(a.x-(a.left??0))}, ${d+u+(e.padding??0)/2-(a.y-(a.top??0))})`),Ut(e,v),e.intersect=function(x){return It.rect(e,x)},i},"dividedRectangle");function _q(t){const e=Math.cos(Math.PI/4),r=Math.sin(Math.PI/4),n=t*2,i={x:n/2*e,y:n/2*r},a={x:-(n/2)*e,y:n/2*r},s={x:-(n/2)*e,y:-(n/2)*r},o={x:n/2*e,y:-(n/2)*r};return`M ${a.x},${a.y} L ${o.x},${o.y}
                   M ${i.x},${i.y} L ${s.x},${s.y}`}b(_q,"createLine");var aT=b((t,e)=>{const{labelStyles:r,nodeStyles:n}=Wt(e);e.labelStyle=r,e.label="";const i=t.insert("g").attr("class",rr(e)).attr("id",e.domId??e.id),a=Math.max(30,(e==null?void 0:e.width)??0),{cssStyles:s}=e,o=$t.svg(i),l=zt(e,{});e.look!=="handDrawn"&&(l.roughness=0,l.fillStyle="solid");const u=o.circle(0,0,a*2,l),h=_q(a),d=o.path(h,l),p=i.insert(()=>u,":first-child");return p.insert(()=>d),s&&e.look!=="handDrawn"&&p.selectAll("path").attr("style",s),n&&e.look!=="handDrawn"&&p.selectAll("path").attr("style",n),Ut(e,p),e.intersect=function(f){return q.info("crossedCircle intersect",e,{radius:a,point:f}),It.circle(e,a,f)},i},"crossedCircle"),XI=b(async(t,e)=>{const{labelStyles:r,nodeStyles:n}=Wt(e);e.labelStyle=r;const{shapeSvg:i,bbox:a}=await er(t,e,rr(e)),s=100,o=50,l=Math.max(a.width+(e.padding??0)*2,(e==null?void 0:e.width)??0),u=Math.max(a.height+(e.padding??0)*2,(e==null?void 0:e.height)??0),h=l/u;let d=l,p=u;d>p*h?p=d/h:d=p*h,d=Math.max(d,s),p=Math.max(p,o);const f=Math.min(p*.2,p/4),g=p+f*2,{cssStyles:m}=e,y=$t.svg(i),v=zt(e,{});e.look!=="handDrawn"&&(v.roughness=0,v.fillStyle="solid");const x=[{x:-d/2,y:g/2},...Ju(-d/2,g/2,d/2,g/2,f,1),{x:d/2,y:-g/2},...Ju(d/2,-g/2,-d/2,-g/2,f,-1)],w=yr(x),k=y.path(w,v),E=i.insert(()=>k,":first-child");return E.attr("class","basic label-container"),m&&e.look!=="handDrawn"&&E.selectAll("path").attr("style",m),n&&e.look!=="handDrawn"&&E.selectAll("path").attr("style",n),Ut(e,E),e.intersect=function(_){return It.polygon(e,x,_)},i},"waveRectangle"),tbe=b((t,e,r,n,i,a)=>`M${t},${e}
    a${i},${a} 0,0,1 0,${-n}
    l${r},0
    a${i},${a} 0,0,1 0,${n}
    M${r},${-n}
    a${i},${a} 0,0,0 0,${n}
    l${-r},0`,"createCylinderPathD"),rbe=b((t,e,r,n,i,a)=>[`M${t},${e}`,`M${t+r},${e}`,`a${i},${a} 0,0,0 0,${-n}`,`l${-r},0`,`a${i},${a} 0,0,0 0,${n}`,`l${r},0`].join(" "),"createOuterCylinderPathD"),nbe=b((t,e,r,n,i,a)=>[`M${t+r/2},${-n/2}`,`a${i},${a} 0,0,0 0,${n}`].join(" "),"createInnerCylinderPathD"),sT=b(async(t,e)=>{const{labelStyles:r,nodeStyles:n}=Wt(e);e.labelStyle=r;const{shapeSvg:i,bbox:a,label:s,halfPadding:o}=await er(t,e,rr(e)),l=e.look==="neo"?o*2:o,u=a.height+l,h=u/2,d=h/(2.5+u/50),p=a.width+d+l,{cssStyles:f}=e;let g;if(e.look==="handDrawn"){const m=$t.svg(i),y=rbe(0,0,p,u,d,h),v=nbe(0,0,p,u,d,h),x=m.path(y,zt(e,{})),w=m.path(v,zt(e,{fill:"none"}));g=i.insert(()=>w,":first-child"),g=i.insert(()=>x,":first-child"),g.attr("class","basic label-container"),f&&g.attr("style",f)}else{const m=tbe(0,0,p,u,d,h);g=i.insert("path",":first-child").attr("d",m).attr("class","basic label-container").attr("style",f).attr("style",n)}return g.attr("class","basic label-container"),f&&e.look!=="handDrawn"&&g.selectAll("path").attr("style",f),n&&e.look!=="handDrawn"&&g.selectAll("path").attr("style",n),g.attr("label-offset-x",d),g.attr("transform",`translate(${-p/2}, ${u/2} )`),s.attr("transform",`translate(${-(a.width/2)-d-(a.x-(a.left??0))}, ${-(a.height/2)-(a.y-(a.top??0))})`),Ut(e,g),e.intersect=function(m){const y=It.rect(e,m),v=y.y-(e.y??0);if(h!=0&&(Math.abs(v)<(e.height??0)/2||Math.abs(v)==(e.height??0)/2&&Math.abs(y.x-(e.x??0))>(e.width??0)/2-d)){let x=d*d*(1-v*v/(h*h));x!=0&&(x=Math.sqrt(x)),x=d-x,m.x-(e.x??0)>0&&(x=-x),y.x+=x}return y},i},"tiltedCylinder"),oT=b(async(t,e)=>{const{labelStyles:r,nodeStyles:n}=Wt(e);e.labelStyle=r;const{shapeSvg:i,bbox:a}=await er(t,e,rr(e)),s=60,o=20,l=Math.max(s,a.width+(e.padding??0)*2,(e==null?void 0:e.width)??0),u=Math.max(o,a.height+(e.padding??0)*2,(e==null?void 0:e.height)??0),{cssStyles:h}=e,d=$t.svg(i),p=zt(e,{});e.look!=="handDrawn"&&(p.roughness=0,p.fillStyle="solid");const f=[{x:-l/2*.8,y:-u/2},{x:l/2*.8,y:-u/2},{x:l/2,y:-u/2*.6},{x:l/2,y:u/2},{x:-l/2,y:u/2},{x:-l/2,y:-u/2*.6}],g=yr(f),m=d.path(g,p),y=i.insert(()=>m,":first-child");return y.attr("class","basic label-container"),h&&e.look!=="handDrawn"&&y.selectChildren("path").attr("style",h),n&&e.look!=="handDrawn"&&y.selectChildren("path").attr("style",n),Ut(e,y),e.intersect=function(v){return It.polygon(e,f,v)},i},"trapezoidalPentagon"),lT=b(async(t,e)=>{const{labelStyles:r,nodeStyles:n}=Wt(e);e.labelStyle=r;const{shapeSvg:i,bbox:a,label:s}=await er(t,e,rr(e)),o=a.width+(e.padding??0),l=o+a.height,u=o+a.height,h=[{x:0,y:-l},{x:u,y:-l},{x:u/2,y:0}],{cssStyles:d}=e,p=$t.svg(i),f=zt(e,{});e.look!=="handDrawn"&&(f.roughness=0,f.fillStyle="solid");const g=yr(h),m=p.path(g,f),y=i.insert(()=>m,":first-child").attr("transform",`translate(${-l/2}, ${l/2})`);return d&&e.look!=="handDrawn"&&y.selectChildren("path").attr("style",d),n&&e.look!=="handDrawn"&&y.selectChildren("path").attr("style",n),e.width=o,e.height=l,Ut(e,y),s.attr("transform",`translate(${-a.width/2-(a.x-(a.left??0))}, ${-l/2+(e.padding??0)/2+(a.y-(a.top??0))})`),e.intersect=function(v){return q.info("Triangle intersect",e,h,v),It.polygon(e,h,v)},i},"flippedTriangle"),KI=b(async(t,e)=>{const{labelStyles:r,nodeStyles:n}=Wt(e);e.label="",e.labelStyle=r;const{shapeSvg:i}=await er(t,e,rr(e)),a=Math.max(30,(e==null?void 0:e.width)??0),s=Math.max(30,(e==null?void 0:e.height)??0),{cssStyles:o}=e,l=$t.svg(i),u=zt(e,{});e.look!=="handDrawn"&&(u.roughness=0,u.fillStyle="solid");const h=[{x:0,y:0},{x:a,y:0},{x:0,y:s},{x:a,y:s}],d=yr(h),p=l.path(d,u),f=i.insert(()=>p,":first-child");return f.attr("class","basic label-container"),o&&e.look!=="handDrawn"&&f.selectChildren("path").attr("style",o),n&&e.look!=="handDrawn"&&f.selectChildren("path").attr("style",n),f.attr("transform",`translate(${-a/2}, ${-s/2})`),Ut(e,f),e.intersect=function(g){return q.info("Pill intersect",e,{points:h}),It.polygon(e,h,g)},i},"hourglass"),ex=b(async(t,e)=>{const{labelStyles:r,nodeStyles:n}=Wt(e);e.labelStyle=r;const{shapeSvg:i,bbox:a}=await er(t,e,rr(e)),s=Math.max(a.width+(e.padding??0)*2,(e==null?void 0:e.width)??0),o=Math.max(a.height+(e.padding??0)*2,(e==null?void 0:e.height)??0),l=-s/2,u=-o/2,h=.2*o,d=.2*o,{cssStyles:p}=e,f=$t.svg(i),g=zt(e,{}),m=[{x:l-h/2,y:u},{x:l+s+h/2,y:u},{x:l+s+h/2,y:u+o},{x:l-h/2,y:u+o}],y=[{x:l+s-h/2,y:u+o},{x:l+s+h/2,y:u+o},{x:l+s+h/2,y:u+o-d}];e.look!=="handDrawn"&&(g.roughness=0,g.fillStyle="solid");const v=yr(m),x=f.path(v,g),w=yr(y),k=f.path(w,{...g,fillStyle:"solid"}),E=i.insert(()=>k,":first-child");return E.insert(()=>x,":first-child"),E.attr("class","basic label-container"),p&&e.look!=="handDrawn"&&E.selectAll("path").attr("style",p),n&&e.look!=="handDrawn"&&E.selectAll("path").attr("style",n),Ut(e,E),e.intersect=function(_){return It.polygon(e,m,_)},i},"taggedRect"),tx=b(async(t,e)=>{const{labelStyles:r,nodeStyles:n}=Wt(e);e.labelStyle=r;const{shapeSvg:i,bbox:a,label:s}=await er(t,e,rr(e)),o=Math.max(a.width+(e.padding??0)*2,(e==null?void 0:e.width)??0),l=Math.max(a.height+(e.padding??0)*2,(e==null?void 0:e.height)??0),u=5,h=-o/2,d=-l/2,{cssStyles:p}=e,f=$t.svg(i),g=zt(e,{}),m=[{x:h-u,y:d+u},{x:h-u,y:d+l+u},{x:h+o-u,y:d+l+u},{x:h+o-u,y:d+l},{x:h+o,y:d+l},{x:h+o,y:d+l-u},{x:h+o+u,y:d+l-u},{x:h+o+u,y:d-u},{x:h+u,y:d-u},{x:h+u,y:d},{x:h,y:d},{x:h,y:d+u}],y=[{x:h,y:d+u},{x:h+o-u,y:d+u},{x:h+o-u,y:d+l},{x:h+o,y:d+l},{x:h+o,y:d},{x:h,y:d}];e.look!=="handDrawn"&&(g.roughness=0,g.fillStyle="solid");const v=yr(m),x=f.path(v,g),w=yr(y),k=f.path(w,{...g,fill:"none"}),E=i.insert(()=>k,":first-child");return E.insert(()=>x,":first-child"),E.attr("class","basic label-container"),p&&e.look!=="handDrawn"&&E.selectAll("path").attr("style",p),n&&e.look!=="handDrawn"&&E.selectAll("path").attr("style",n),s.attr("transform",`translate(${-(a.width/2)-u-(a.x-(a.left??0))}, ${-(a.height/2)+u-(a.y-(a.top??0))})`),Ut(e,E),e.intersect=function(_){return It.polygon(e,m,_)},i},"multiRect"),ibe=b((t,e,r,n,i,a,s)=>[`M${t},${e+a}`,`a${i},${a} 0,0,0 ${r},0`,`a${i},${a} 0,0,0 ${-r},0`,`l0,${n}`,`a${i},${a} 0,0,0 ${r},0`,`l0,${-n}`,`M${t},${e+a+s}`,`a${i},${a} 0,0,0 ${r},0`].join(" "),"createCylinderPathD"),abe=b((t,e,r,n,i,a,s)=>[`M${t},${e+a}`,`M${t+r},${e+a}`,`a${i},${a} 0,0,0 ${-r},0`,`l0,${n}`,`a${i},${a} 0,0,0 ${r},0`,`l0,${-n}`,`M${t},${e+a+s}`,`a${i},${a} 0,0,0 ${r},0`].join(" "),"createOuterCylinderPathD"),sbe=b((t,e,r,n,i,a)=>[`M${t-r/2},${-n/2}`,`a${i},${a} 0,0,0 ${r},0`].join(" "),"createInnerCylinderPathD"),cT=b(async(t,e)=>{const{labelStyles:r,nodeStyles:n}=Wt(e);e.labelStyle=r;const{shapeSvg:i,bbox:a,label:s}=await er(t,e,rr(e)),o=Math.max(a.width+(e.padding??0),e.width??0),l=o/2,u=l/(2.5+o/50),h=Math.max(a.height+u+(e.padding??0),e.height??0),d=h*.1;let p;const{cssStyles:f}=e;if(e.look==="handDrawn"){const g=$t.svg(i),m=abe(0,0,o,h,l,u,d),y=sbe(0,u,o,h,l,u),v=zt(e,{}),x=g.path(m,v),w=g.path(y,v);i.insert(()=>w,":first-child").attr("class","line"),p=i.insert(()=>x,":first-child"),p.attr("class","basic label-container"),f&&p.attr("style",f)}else{const g=ibe(0,0,o,h,l,u,d);p=i.insert("path",":first-child").attr("d",g).attr("class","basic label-container").attr("style",f).attr("style",n)}return p.attr("label-offset-y",u),p.attr("transform",`translate(${-o/2}, ${-(h/2+u)})`),Ut(e,p),s.attr("transform",`translate(${-(a.width/2)-(a.x-(a.left??0))}, ${-(a.height/2)+u-(a.y-(a.top??0))})`),e.intersect=function(g){const m=It.rect(e,g),y=m.x-(e.x??0);if(l!=0&&(Math.abs(y)<(e.width??0)/2||Math.abs(y)==(e.width??0)/2&&Math.abs(m.y-(e.y??0))>(e.height??0)/2-u)){let v=u*u*(1-y*y/(l*l));v>0&&(v=Math.sqrt(v)),v=u-v,g.y-(e.y??0)>0&&(v=-v),m.y+=v}return m},i},"linedCylinder"),QI=b(async(t,e)=>{const{labelStyles:r,nodeStyles:n}=Wt(e);e.labelStyle=r;const{shapeSvg:i,bbox:a,label:s}=await er(t,e,rr(e)),o=Math.max(a.width+(e.padding??0)*2,(e==null?void 0:e.width)??0),l=Math.max(a.height+(e.padding??0)*2,(e==null?void 0:e.height)??0),u=l/8,h=l+u,{cssStyles:d}=e,f=70-o,g=f>0?f/2:0,m=$t.svg(i),y=zt(e,{});e.look!=="handDrawn"&&(y.roughness=0,y.fillStyle="solid");const v=[{x:-o/2-g,y:h/2},...Ju(-o/2-g,h/2,o/2+g,h/2,u,.8),{x:o/2+g,y:-h/2},{x:-o/2-g,y:-h/2}],x=yr(v),w=m.path(x,y),k=i.insert(()=>w,":first-child");return k.attr("class","basic label-container"),d&&e.look!=="handDrawn"&&k.selectAll("path").attr("style",d),n&&e.look!=="handDrawn"&&k.selectAll("path").attr("style",n),k.attr("transform",`translate(0,${-u/2})`),s.attr("transform",`translate(${-o/2+(e.padding??0)-(a.x-(a.left??0))},${-l/2+(e.padding??0)-u-(a.y-(a.top??0))})`),Ut(e,k),e.intersect=function(E){return It.polygon(e,v,E)},i},"waveEdgedRectangle"),uT=b((t,e)=>{const{labelStyles:r,nodeStyles:n}=Wt(e);e.label="",e.labelStyle=r;const i=t.insert("g").attr("class",rr(e)).attr("id",e.domId??e.id),{cssStyles:a}=e,s=Math.max(35,(e==null?void 0:e.width)??0),o=Math.max(35,(e==null?void 0:e.height)??0),l=7,u=[{x:s,y:0},{x:0,y:o+l/2},{x:s-2*l,y:o+l/2},{x:0,y:2*o},{x:s,y:o-l/2},{x:2*l,y:o-l/2}],h=$t.svg(i),d=zt(e,{});e.look!=="handDrawn"&&(d.roughness=0,d.fillStyle="solid");const p=yr(u),f=h.path(p,d),g=i.insert(()=>f,":first-child");return a&&e.look!=="handDrawn"&&g.selectAll("path").attr("style",a),n&&e.look!=="handDrawn"&&g.selectAll("path").attr("style",n),g.attr("transform",`translate(-${s/2},${-o})`),Ut(e,g),e.intersect=function(m){return q.info("lightningBolt intersect",e,m),It.polygon(e,u,m)},i},"lightningBolt"),hT=b((t,e,{config:{themeVariables:r}})=>{const{labelStyles:n,nodeStyles:i}=Wt(e);e.label="",e.labelStyle=n;const a=t.insert("g").attr("class",rr(e)).attr("id",e.domId??e.id),s=7,{cssStyles:o}=e,l=$t.svg(a),{nodeBorder:u}=r,h=zt(e,{fillStyle:"solid"});e.look!=="handDrawn"&&(h.roughness=0);const d=l.circle(0,0,s*2,h),p=a.insert(()=>d,":first-child");return p.selectAll("path").attr("style",`fill: ${u} !important;`),o&&o.length>0&&e.look!=="handDrawn"&&p.selectAll("path").attr("style",o),i&&e.look!=="handDrawn"&&p.selectAll("path").attr("style",i),Ut(e,p),e.intersect=function(f){return q.info("filledCircle intersect",e,{radius:s,point:f}),It.circle(e,s,f)},a},"filledCircle"),rx=b(async(t,e)=>{const{labelStyles:r,nodeStyles:n}=Wt(e);e.labelStyle=r;const{shapeSvg:i,bbox:a,label:s}=await er(t,e,rr(e)),o=Math.max(a.width+(e.padding??0)*2,(e==null?void 0:e.width)??0),l=Math.max(a.height+(e.padding??0)*2,(e==null?void 0:e.height)??0),u=l/4,h=l+u,d=-o/2,p=-h/2,f=5,{cssStyles:g}=e,m=Ju(d-f,p+h+f,d+o-f,p+h+f,u,.8),y=m==null?void 0:m[m.length-1],v=[{x:d-f,y:p+f},{x:d-f,y:p+h+f},...m,{x:d+o-f,y:y.y-f},{x:d+o,y:y.y-f},{x:d+o,y:y.y-2*f},{x:d+o+f,y:y.y-2*f},{x:d+o+f,y:p-f},{x:d+f,y:p-f},{x:d+f,y:p},{x:d,y:p},{x:d,y:p+f}],x=[{x:d,y:p+f},{x:d+o-f,y:p+f},{x:d+o-f,y:y.y-f},{x:d+o,y:y.y-f},{x:d+o,y:p},{x:d,y:p}],w=$t.svg(i),k=zt(e,{});e.look!=="handDrawn"&&(k.roughness=0,k.fillStyle="solid");const E=yr(v),_=w.path(E,k),S=yr(x),R=w.path(S,k),C=i.insert(()=>_,":first-child");return C.insert(()=>R),C.attr("class","basic label-container"),g&&e.look!=="handDrawn"&&C.selectAll("path").attr("style",g),n&&e.look!=="handDrawn"&&C.selectAll("path").attr("style",n),C.attr("transform",`translate(0,${-u/2})`),s.attr("transform",`translate(${-(a.width/2)-f-(a.x-(a.left??0))}, ${-(a.height/2)+f-u/2-(a.y-(a.top??0))})`),Ut(e,C),e.intersect=function(L){return It.polygon(e,v,L)},i},"multiWaveEdgedRectangle"),dT=b(async(t,e)=>{const{labelStyles:r,nodeStyles:n}=Wt(e);e.labelStyle=r;const{shapeSvg:i,bbox:a,label:s}=await er(t,e,rr(e)),o=Math.max(a.width+(e.padding??0)*2,(e==null?void 0:e.width)??0),l=Math.max(a.height+(e.padding??0)*2,(e==null?void 0:e.height)??0),u=5,h=-o/2,d=-l/2,{cssStyles:p}=e,f=$t.svg(i),g=zt(e,{}),m=[{x:h-u,y:d-u},{x:h-u,y:d+l},{x:h+o,y:d+l},{x:h+o,y:d-u}],y=`M${h-u},${d-u} L${h+o},${d-u} L${h+o},${d+l} L${h-u},${d+l} L${h-u},${d-u}
                M${h-u},${d} L${h+o},${d}
                M${h},${d-u} L${h},${d+l}`;e.look!=="handDrawn"&&(g.roughness=0,g.fillStyle="solid");const v=f.path(y,g),x=i.insert(()=>v,":first-child");return x.attr("transform",`translate(${u/2}, ${u/2})`),x.attr("class","basic label-container"),p&&e.look!=="handDrawn"&&x.selectAll("path").attr("style",p),n&&e.look!=="handDrawn"&&x.selectAll("path").attr("style",n),s.attr("transform",`translate(${-(a.width/2)+u/2-(a.x-(a.left??0))}, ${-(a.height/2)+u/2-(a.y-(a.top??0))})`),Ut(e,x),e.intersect=function(w){return It.polygon(e,m,w)},i},"windowPane"),ZI=b(async(t,e)=>{const{labelStyles:r,nodeStyles:n}=Wt(e);e.labelStyle=r;const{shapeSvg:i,bbox:a,label:s}=await er(t,e,rr(e)),o=Math.max(a.width+(e.padding??0)*2,(e==null?void 0:e.width)??0),l=Math.max(a.height+(e.padding??0)*2,(e==null?void 0:e.height)??0),u=l/4,h=l+u,{cssStyles:d}=e,p=$t.svg(i),f=zt(e,{});e.look!=="handDrawn"&&(f.roughness=0,f.fillStyle="solid");const g=[{x:-o/2-o/2*.1,y:-h/2},{x:-o/2-o/2*.1,y:h/2},...Ju(-o/2-o/2*.1,h/2,o/2+o/2*.1,h/2,u,.8),{x:o/2+o/2*.1,y:-h/2},{x:-o/2-o/2*.1,y:-h/2},{x:-o/2,y:-h/2},{x:-o/2,y:h/2*1.1},{x:-o/2,y:-h/2}],m=p.polygon(g.map(v=>[v.x,v.y]),f),y=i.insert(()=>m,":first-child");return y.attr("class","basic label-container"),d&&e.look!=="handDrawn"&&y.selectAll("path").attr("style",d),n&&e.look!=="handDrawn"&&y.selectAll("path").attr("style",n),y.attr("transform",`translate(0,${-u/2})`),s.attr("transform",`translate(${-o/2+(e.padding??0)+o/2*.1/2-(a.x-(a.left??0))},${-l/2+(e.padding??0)-u/2-(a.y-(a.top??0))})`),Ut(e,y),e.intersect=function(v){return It.polygon(e,g,v)},i},"linedWaveEdgedRect"),JI=b(async(t,e)=>{const{labelStyles:r,nodeStyles:n}=Wt(e);e.labelStyle=r;const{shapeSvg:i,bbox:a,label:s}=await er(t,e,rr(e)),o=Math.max(a.width+(e.padding??0)*2,(e==null?void 0:e.width)??0),l=Math.max(a.height+(e.padding??0)*2,(e==null?void 0:e.height)??0),u=l/4,h=.2*o,d=.2*l,p=l+u,{cssStyles:f}=e,g=$t.svg(i),m=zt(e,{});e.look!=="handDrawn"&&(m.roughness=0,m.fillStyle="solid");const y=[{x:-o/2-o/2*.1,y:p/2},...Ju(-o/2-o/2*.1,p/2,o/2+o/2*.1,p/2,u,.8),{x:o/2+o/2*.1,y:-p/2},{x:-o/2-o/2*.1,y:-p/2}],v=-o/2+o/2*.1,x=-p/2-d*.4,w=[{x:v+o-h,y:(x+l)*1.4},{x:v+o,y:x+l-d},{x:v+o,y:(x+l)*.9},...Ju(v+o,(x+l)*1.3,v+o-h,(x+l)*1.5,-l*.03,.5)],k=yr(y),E=g.path(k,m),_=yr(w),S=g.path(_,{...m,fillStyle:"solid"}),R=i.insert(()=>S,":first-child");return R.insert(()=>E,":first-child"),R.attr("class","basic label-container"),f&&e.look!=="handDrawn"&&R.selectAll("path").attr("style",f),n&&e.look!=="handDrawn"&&R.selectAll("path").attr("style",n),R.attr("transform",`translate(0,${-u/2})`),s.attr("transform",`translate(${-o/2+(e.padding??0)-(a.x-(a.left??0))},${-l/2+(e.padding??0)-u/2-(a.y-(a.top??0))})`),Ut(e,R),e.intersect=function(C){return It.polygon(e,y,C)},i},"taggedWaveEdgedRectangle");function Jl(t,e,r,n=100,i=0,a=180){const s=[],o=i*Math.PI/180,h=(a*Math.PI/180-o)/(n-1);for(let d=0;d<n;d++){const p=o+d*h,f=t+r*Math.cos(p),g=e+r*Math.sin(p);s.push({x:-f,y:-g})}return s}b(Jl,"generateCirclePoints");var fT=b(async(t,e)=>{const{labelStyles:r,nodeStyles:n}=Wt(e);e.labelStyle=r;const{shapeSvg:i,bbox:a,label:s}=await er(t,e,rr(e)),o=a.width+(e.padding??0),l=a.height+(e.padding??0),u=Math.max(5,l*.1),{cssStyles:h}=e,d=[...Jl(o/2,-l/2,u,30,-90,0),{x:-o/2-u,y:u},...Jl(o/2+u*2,-u,u,20,-180,-270),...Jl(o/2+u*2,u,u,20,-90,-180),{x:-o/2-u,y:-l/2},...Jl(o/2,l/2,u,20,0,90)],p=[{x:o/2,y:-l/2-u},{x:-o/2,y:-l/2-u},...Jl(o/2,-l/2,u,20,-90,0),{x:-o/2-u,y:-u},...Jl(o/2+o*.1,-u,u,20,-180,-270),...Jl(o/2+o*.1,u,u,20,-90,-180),{x:-o/2-u,y:l/2},...Jl(o/2,l/2,u,20,0,90),{x:-o/2,y:l/2+u},{x:o/2,y:l/2+u}],f=$t.svg(i),g=zt(e,{fill:"none"});e.look!=="handDrawn"&&(g.roughness=0,g.fillStyle="solid");const y=yr(d).replace("Z",""),v=f.path(y,g),x=yr(p),w=f.path(x,{...g}),k=i.insert("g",":first-child");return k.insert(()=>w,":first-child").attr("stroke-opacity",0),k.insert(()=>v,":first-child"),k.attr("class","text"),h&&e.look!=="handDrawn"&&k.selectAll("path").attr("style",h),n&&e.look!=="handDrawn"&&k.selectAll("path").attr("style",n),k.attr("transform",`translate(${u}, 0)`),s.attr("transform",`translate(${-o/2+u-(a.x-(a.left??0))},${-l/2+(e.padding??0)/2-(a.y-(a.top??0))})`),Ut(e,k),e.intersect=function(E){return It.polygon(e,p,E)},i},"curlyBraceLeft");function ec(t,e,r,n=100,i=0,a=180){const s=[],o=i*Math.PI/180,h=(a*Math.PI/180-o)/(n-1);for(let d=0;d<n;d++){const p=o+d*h,f=t+r*Math.cos(p),g=e+r*Math.sin(p);s.push({x:f,y:g})}return s}b(ec,"generateCirclePoints");var obe=b(async(t,e)=>{const{labelStyles:r,nodeStyles:n}=Wt(e);e.labelStyle=r;const{shapeSvg:i,bbox:a,label:s}=await er(t,e,rr(e)),o=a.width+(e.padding??0),l=a.height+(e.padding??0),u=Math.max(5,l*.1),{cssStyles:h}=e,d=[...ec(o/2,-l/2,u,20,-90,0),{x:o/2+u,y:-u},...ec(o/2+u*2,-u,u,20,-180,-270),...ec(o/2+u*2,u,u,20,-90,-180),{x:o/2+u,y:l/2},...ec(o/2,l/2,u,20,0,90)],p=[{x:-o/2,y:-l/2-u},{x:o/2,y:-l/2-u},...ec(o/2,-l/2,u,20,-90,0),{x:o/2+u,y:-u},...ec(o/2+u*2,-u,u,20,-180,-270),...ec(o/2+u*2,u,u,20,-90,-180),{x:o/2+u,y:l/2},...ec(o/2,l/2,u,20,0,90),{x:o/2,y:l/2+u},{x:-o/2,y:l/2+u}],f=$t.svg(i),g=zt(e,{fill:"none"});e.look!=="handDrawn"&&(g.roughness=0,g.fillStyle="solid");const y=yr(d).replace("Z",""),v=f.path(y,g),x=yr(p),w=f.path(x,{...g}),k=i.insert("g",":first-child");return k.insert(()=>w,":first-child").attr("stroke-opacity",0),k.insert(()=>v,":first-child"),k.attr("class","text"),h&&e.look!=="handDrawn"&&k.selectAll("path").attr("style",h),n&&e.look!=="handDrawn"&&k.selectAll("path").attr("style",n),k.attr("transform",`translate(${-u}, 0)`),s.attr("transform",`translate(${-o/2+(e.padding??0)/2-(a.x-(a.left??0))},${-l/2+(e.padding??0)/2-(a.y-(a.top??0))})`),Ut(e,k),e.intersect=function(E){return It.polygon(e,p,E)},i},"curlyBraceRight");function Di(t,e,r,n=100,i=0,a=180){const s=[],o=i*Math.PI/180,h=(a*Math.PI/180-o)/(n-1);for(let d=0;d<n;d++){const p=o+d*h,f=t+r*Math.cos(p),g=e+r*Math.sin(p);s.push({x:-f,y:-g})}return s}b(Di,"generateCirclePoints");var lbe=b(async(t,e)=>{const{labelStyles:r,nodeStyles:n}=Wt(e);e.labelStyle=r;const{shapeSvg:i,bbox:a,label:s}=await er(t,e,rr(e)),o=a.width+(e.padding??0),l=a.height+(e.padding??0),u=Math.max(5,l*.1),{cssStyles:h}=e,d=[...Di(o/2,-l/2,u,30,-90,0),{x:-o/2-u,y:u},...Di(o/2+u*2,-u,u,20,-180,-270),...Di(o/2+u*2,u,u,20,-90,-180),{x:-o/2-u,y:-l/2},...Di(o/2,l/2,u,20,0,90)],p=[...Di(-o/2+u+u/2,-l/2,u,20,-90,-180),{x:o/2-u/2,y:u},...Di(-o/2-u/2,-u,u,20,0,90),...Di(-o/2-u/2,u,u,20,-90,0),{x:o/2-u/2,y:-u},...Di(-o/2+u+u/2,l/2,u,30,-180,-270)],f=[{x:o/2,y:-l/2-u},{x:-o/2,y:-l/2-u},...Di(o/2,-l/2,u,20,-90,0),{x:-o/2-u,y:-u},...Di(o/2+u*2,-u,u,20,-180,-270),...Di(o/2+u*2,u,u,20,-90,-180),{x:-o/2-u,y:l/2},...Di(o/2,l/2,u,20,0,90),{x:-o/2,y:l/2+u},{x:o/2-u-u/2,y:l/2+u},...Di(-o/2+u+u/2,-l/2,u,20,-90,-180),{x:o/2-u/2,y:u},...Di(-o/2-u/2,-u,u,20,0,90),...Di(-o/2-u/2,u,u,20,-90,0),{x:o/2-u/2,y:-u},...Di(-o/2+u+u/2,l/2,u,30,-180,-270)],g=$t.svg(i),m=zt(e,{fill:"none"});e.look!=="handDrawn"&&(m.roughness=0,m.fillStyle="solid");const v=yr(d).replace("Z",""),x=g.path(v,m),k=yr(p).replace("Z",""),E=g.path(k,m),_=yr(f),S=g.path(_,{...m}),R=i.insert("g",":first-child");return R.insert(()=>S,":first-child").attr("stroke-opacity",0),R.insert(()=>x,":first-child"),R.insert(()=>E,":first-child"),R.attr("class","text"),h&&e.look!=="handDrawn"&&R.selectAll("path").attr("style",h),n&&e.look!=="handDrawn"&&R.selectAll("path").attr("style",n),R.attr("transform",`translate(${u-u/4}, 0)`),s.attr("transform",`translate(${-o/2+(e.padding??0)/2-(a.x-(a.left??0))},${-l/2+(e.padding??0)/2-(a.y-(a.top??0))})`),Ut(e,R),e.intersect=function(C){return It.polygon(e,f,C)},i},"curlyBraces"),cbe=b(async(t,e,{config:{themeVariables:r,flowchart:n}})=>{const{labelStyles:i}=Wt(e);e.labelStyle=i;const a=e.assetHeight??48,s=e.assetWidth??48,o=Math.max(a,s),l=n==null?void 0:n.wrappingWidth;e.width=Math.max(o,l??0);const{shapeSvg:u,bbox:h,halfPadding:d,label:p}=await er(t,e,"icon-shape default"),f=e.pos==="t",g=o+d*2,m=o+d*2,{nodeBorder:y,mainBkg:v}=r,{stylesMap:x}=_g(e),w=-m/2,k=-g/2,E=e.label?8:0,_=$t.svg(u),S=zt(e,{stroke:x.get("fill")||v});e.look!=="handDrawn"&&(S.roughness=0,S.fillStyle="solid");const R=_.rectangle(w,k,m,g,S),C=Math.max(m,h.width),L=g+h.height+E,A=_.rectangle(-C/2,-L/2,C,L,{...S,fill:"transparent",stroke:"none"}),N=u.insert(()=>R,":first-child"),F=u.insert(()=>A);if(e.icon){const T=u.append("g");T.html(`<g>${await Cd(e.icon,{height:o,width:o,fallbackPrefix:""})}</g>`);const D=T.node().getBBox(),M=D.width,O=D.height,I=D.x,P=D.y;T.attr("transform",`translate(${-M/2-I},${f?h.height/2+E/2-O/2-P:-h.height/2-E/2-O/2-P})`),T.selectAll("path").attr("fill",x.get("stroke")??y)}return p.attr("transform",`translate(${-h.width/2-(h.x-(h.left??0))},${f?-L/2:L/2-h.height})`),N.attr("transform",`translate(0,${f?h.height/2+E/2:-h.height/2-E/2})`),Ut(e,F),e.intersect=function(T){if(q.info("iconSquare intersect",e,T),!e.label)return It.rect(e,T);const D=e.x??0,M=e.y??0,O=e.height??0;let I=[];return f?I=[{x:D-h.width/2,y:M-O/2},{x:D+h.width/2,y:M-O/2},{x:D+h.width/2,y:M-O/2+h.height+E},{x:D+m/2,y:M-O/2+h.height+E},{x:D+m/2,y:M+O/2},{x:D-m/2,y:M+O/2},{x:D-m/2,y:M-O/2+h.height+E},{x:D-h.width/2,y:M-O/2+h.height+E}]:I=[{x:D-m/2,y:M-O/2},{x:D+m/2,y:M-O/2},{x:D+m/2,y:M-O/2+g},{x:D+h.width/2,y:M-O/2+g},{x:D+h.width/2/2,y:M+O/2},{x:D-h.width/2,y:M+O/2},{x:D-h.width/2,y:M-O/2+g},{x:D-m/2,y:M-O/2+g}],It.polygon(e,I,T)},u},"iconSquare"),ube=b(async(t,e,{config:{themeVariables:r,flowchart:n}})=>{const{labelStyles:i}=Wt(e);e.labelStyle=i;const a=e.assetHeight??48,s=e.assetWidth??48,o=Math.max(a,s),l=n==null?void 0:n.wrappingWidth;e.width=Math.max(o,l??0);const{shapeSvg:u,bbox:h,label:d}=await er(t,e,"icon-shape default"),p=20,f=e.label?8:0,g=e.pos==="t",{nodeBorder:m,mainBkg:y}=r,{stylesMap:v}=_g(e),x=$t.svg(u),w=zt(e,{stroke:v.get("fill")||y});e.look!=="handDrawn"&&(w.roughness=0,w.fillStyle="solid");const k=u.append("g");e.icon&&k.html(`<g>${await Cd(e.icon,{height:o,width:o,fallbackPrefix:""})}</g>`);const E=k.node().getBBox(),_=E.width,S=E.height,R=E.x,C=E.y,L=Math.max(_,S)*Math.SQRT2+p*2,A=x.circle(0,0,L,w),N=Math.max(L,h.width),F=L+h.height+f,T=x.rectangle(-N/2,-F/2,N,F,{...w,fill:"transparent",stroke:"none"}),D=u.insert(()=>A,":first-child"),M=u.insert(()=>T);return k.attr("transform",`translate(${-_/2-R},${g?h.height/2+f/2-S/2-C:-h.height/2-f/2-S/2-C})`),k.selectAll("path").attr("fill",v.get("stroke")||m),d.attr("transform",`translate(${-h.width/2-(h.x-(h.left??0))},${g?-F/2:F/2-h.height})`),D.attr("transform",`translate(0,${g?h.height/2+f/2:-h.height/2-f/2})`),Ut(e,M),e.intersect=function(O){return q.info("iconSquare intersect",e,O),It.rect(e,O)},u},"iconCircle"),hbe=b(async(t,e,{config:{themeVariables:r,flowchart:n}})=>{const{labelStyles:i}=Wt(e);e.labelStyle=i;const a=e.assetHeight??48,s=e.assetWidth??48,o=Math.max(a,s),l=n==null?void 0:n.wrappingWidth;e.width=Math.max(o,l??0);const{shapeSvg:u,bbox:h,label:d}=await er(t,e,"icon-shape default"),p=e.pos==="t",f=o,g=o,{nodeBorder:m}=r,{stylesMap:y}=_g(e),v=-g/2,x=-f/2,w=e.label?8:0,k=$t.svg(u),E=zt(e,{stroke:"none",fill:"none"});e.look!=="handDrawn"&&(E.roughness=0,E.fillStyle="solid");const _=k.rectangle(v,x,g,f,E),S=Math.max(g,h.width),R=f+h.height+w,C=k.rectangle(-S/2,-R/2,S,R,{...E,fill:"transparent",stroke:"none"}),L=u.insert(()=>_,":first-child"),A=u.insert(()=>C);if(e.icon){const N=u.append("g");N.html(`<g>${await Cd(e.icon,{height:o,width:o,fallbackPrefix:""})}</g>`);const F=N.node().getBBox(),T=F.width,D=F.height,M=F.x,O=F.y;N.attr("transform",`translate(${-T/2-M},${p?h.height/2+w/2-D/2-O:-h.height/2-w/2-D/2-O})`),N.selectAll("path").attr("fill",y.get("stroke")||m)}return d.attr("transform",`translate(${-h.width/2-(h.x-(h.left??0))},${p?-R/2:R/2-h.height})`),L.attr("transform",`translate(0,${p?h.height/2+w/2:-h.height/2-w/2})`),Ut(e,A),e.intersect=function(N){if(q.info("iconSquare intersect",e,N),!e.label)return It.rect(e,N);const F=e.x??0,T=e.y??0,D=e.height??0;let M=[];return p?M=[{x:F-h.width/2,y:T-D/2},{x:F+h.width/2,y:T-D/2},{x:F+h.width/2,y:T-D/2+h.height+w},{x:F+g/2,y:T-D/2+h.height+w},{x:F+g/2,y:T+D/2},{x:F-g/2,y:T+D/2},{x:F-g/2,y:T-D/2+h.height+w},{x:F-h.width/2,y:T-D/2+h.height+w}]:M=[{x:F-g/2,y:T-D/2},{x:F+g/2,y:T-D/2},{x:F+g/2,y:T-D/2+f},{x:F+h.width/2,y:T-D/2+f},{x:F+h.width/2/2,y:T+D/2},{x:F-h.width/2,y:T+D/2},{x:F-h.width/2,y:T-D/2+f},{x:F-g/2,y:T-D/2+f}],It.polygon(e,M,N)},u},"icon"),dbe=b(async(t,e,{config:{flowchart:r}})=>{const n=new Image;n.src=(e==null?void 0:e.img)??"",await n.decode();const i=Number(n.naturalWidth.toString().replace("px","")),a=Number(n.naturalHeight.toString().replace("px",""));e.imageAspectRatio=i/a;const{labelStyles:s}=Wt(e);e.labelStyle=s;const o=r==null?void 0:r.wrappingWidth;e.defaultWidth=r==null?void 0:r.wrappingWidth;const l=Math.max(e.label?o??0:0,(e==null?void 0:e.assetWidth)??i),u=e.constraint==="on"&&e!=null&&e.assetHeight?e.assetHeight*e.imageAspectRatio:l,h=e.constraint==="on"?u/e.imageAspectRatio:(e==null?void 0:e.assetHeight)??a;e.width=Math.max(u,o??0);const{shapeSvg:d,bbox:p,label:f}=await er(t,e,"image-shape default"),g=e.pos==="t",m=-u/2,y=-h/2,v=e.label?8:0,x=$t.svg(d),w=zt(e,{});e.look!=="handDrawn"&&(w.roughness=0,w.fillStyle="solid");const k=x.rectangle(m,y,u,h,w),E=Math.max(u,p.width),_=h+p.height+v,S=x.rectangle(-E/2,-_/2,E,_,{...w,fill:"none",stroke:"none"}),R=d.insert(()=>k,":first-child"),C=d.insert(()=>S);if(e.img){const L=d.append("image");L.attr("href",e.img),L.attr("width",u),L.attr("height",h),L.attr("preserveAspectRatio","none"),L.attr("transform",`translate(${-u/2},${g?_/2-h:-_/2})`)}return f.attr("transform",`translate(${-p.width/2-(p.x-(p.left??0))},${g?-h/2-p.height/2-v/2:h/2-p.height/2+v/2})`),R.attr("transform",`translate(0,${g?p.height/2+v/2:-p.height/2-v/2})`),Ut(e,C),e.intersect=function(L){if(q.info("iconSquare intersect",e,L),!e.label)return It.rect(e,L);const A=e.x??0,N=e.y??0,F=e.height??0;let T=[];return g?T=[{x:A-p.width/2,y:N-F/2},{x:A+p.width/2,y:N-F/2},{x:A+p.width/2,y:N-F/2+p.height+v},{x:A+u/2,y:N-F/2+p.height+v},{x:A+u/2,y:N+F/2},{x:A-u/2,y:N+F/2},{x:A-u/2,y:N-F/2+p.height+v},{x:A-p.width/2,y:N-F/2+p.height+v}]:T=[{x:A-u/2,y:N-F/2},{x:A+u/2,y:N-F/2},{x:A+u/2,y:N-F/2+h},{x:A+p.width/2,y:N-F/2+h},{x:A+p.width/2/2,y:N+F/2},{x:A-p.width/2,y:N+F/2},{x:A-p.width/2,y:N-F/2+h},{x:A-u/2,y:N-F/2+h}],It.polygon(e,T,L)},d},"imageSquare"),fbe=b(async(t,e,{config:{themeVariables:r,flowchart:n}})=>{const{labelStyles:i}=Wt(e);e.labelStyle=i;const a=e.assetHeight??48,s=e.assetWidth??48,o=Math.max(a,s),l=n==null?void 0:n.wrappingWidth;e.width=Math.max(o,l??0);const{shapeSvg:u,bbox:h,halfPadding:d,label:p}=await er(t,e,"icon-shape default"),f=e.pos==="t",g=o+d*2,m=o+d*2,{nodeBorder:y,mainBkg:v}=r,{stylesMap:x}=_g(e),w=-m/2,k=-g/2,E=e.label?8:0,_=$t.svg(u),S=zt(e,{stroke:x.get("fill")||v});e.look!=="handDrawn"&&(S.roughness=0,S.fillStyle="solid");const R=_.path(Ag(w,k,m,g,5),S),C=Math.max(m,h.width),L=g+h.height+E,A=_.rectangle(-C/2,-L/2,C,L,{...S,fill:"transparent",stroke:"none"}),N=u.insert(()=>R,":first-child"),F=u.insert(()=>A);if(e.icon){const T=u.append("g");T.html(`<g>${await Cd(e.icon,{height:o,width:o,fallbackPrefix:""})}</g>`);const D=T.node().getBBox(),M=D.width,O=D.height,I=D.x,P=D.y;T.attr("transform",`translate(${-M/2-I},${f?h.height/2+E/2-O/2-P:-h.height/2-E/2-O/2-P})`),T.selectAll("path").attr("fill",x.get("stroke")??y)}return p.attr("transform",`translate(${-h.width/2-(h.x-(h.left??0))},${f?-L/2:L/2-h.height})`),N.attr("transform",`translate(0,${f?h.height/2+E/2:-h.height/2-E/2})`),Ut(e,F),e.intersect=function(T){if(q.info("iconSquare intersect",e,T),!e.label)return It.rect(e,T);const D=e.x??0,M=e.y??0,O=e.height??0;let I=[];return f?I=[{x:D-h.width/2,y:M-O/2},{x:D+h.width/2,y:M-O/2},{x:D+h.width/2,y:M-O/2+h.height+E},{x:D+m/2,y:M-O/2+h.height+E},{x:D+m/2,y:M+O/2},{x:D-m/2,y:M+O/2},{x:D-m/2,y:M-O/2+h.height+E},{x:D-h.width/2,y:M-O/2+h.height+E}]:I=[{x:D-m/2,y:M-O/2},{x:D+m/2,y:M-O/2},{x:D+m/2,y:M-O/2+g},{x:D+h.width/2,y:M-O/2+g},{x:D+h.width/2/2,y:M+O/2},{x:D-h.width/2,y:M+O/2},{x:D-h.width/2,y:M-O/2+g},{x:D-m/2,y:M-O/2+g}],It.polygon(e,I,T)},u},"iconRounded"),pT={state:Hxe,stateStart:Y2,stateEnd:q2,forkJoin:Qk,choice:Wxe,note:Yxe,rectWithTitle:qxe,roundedRect:Kk,squareRect:A1,rectangle:A1,rect:A1,process:A1,proc:A1,rounded:Kk,event:Kk,stadium:Zk,pill:Zk,terminal:Zk,subroutine:_1,"framed-rectangle":_1,"fr-rect":_1,subprocess:_1,subproc:_1,cylinder:j2,db:j2,cyl:j2,database:j2,question:X2,diam:X2,diamond:X2,decision:X2,hexagon:eT,hex:eT,prepare:eT,lean_right:K2,"lean-r":K2,"lean-right":K2,"in-out":K2,lean_left:Q2,"lean-l":Q2,"lean-left":Q2,"out-in":Q2,trapezoid:Z2,"trap-b":Z2,"trapezoid-bottom":Z2,priority:Z2,inv_trapezoid:N1,"inv-trapezoid":N1,"trapezoid-top":N1,"trap-t":N1,manual:N1,doublecircle:Jk,"dbl-circ":Jk,"double-circle":Jk,circle:YI,circ:YI,rect_left_inv_arrow:qI,odd:qI,card:db,"notched-rectangle":db,"notch-rect":db,"lined-rectangle":L1,"lin-rect":L1,"lin-proc":L1,"lined-process":L1,"shaded-process":L1,"small-circle":Y2,"sm-circ":Y2,start:Y2,stop:q2,"framed-circle":q2,"fr-circ":q2,join:Qk,fork:Qk,comment:fT,"brace-l":fT,bolt:uT,"com-link":uT,"lightning-bolt":uT,doc:QI,document:QI,delay:jI,"half-rounded-rectangle":jI,"horizontal-cylinder":sT,"h-cyl":sT,das:sT,"lined-cylinder":cT,"lin-cyl":cT,disk:cT,"curved-trapezoid":rT,"curv-trap":rT,display:rT,"divided-rectangle":J2,"div-rect":J2,"div-proc":J2,"divided-process":J2,triangle:tT,tri:tT,extract:tT,"window-pane":dT,"win-pane":dT,"internal-storage":dT,"f-circ":hT,junction:hT,"filled-circle":hT,"lin-doc":ZI,"lined-document":ZI,"notched-pentagon":oT,"notch-pent":oT,"loop-limit":oT,"flipped-triangle":lT,"flip-tri":lT,"manual-file":lT,"sloped-rectangle":nT,"sl-rect":nT,"manual-input":nT,docs:rx,documents:rx,"st-doc":rx,"stacked-document":rx,processes:tx,procs:tx,"stacked-rectangle":tx,"st-rect":tx,flag:XI,"paper-tape":XI,"bow-tie-rectangle":iT,"bow-rect":iT,"stored-data":iT,"crossed-circle":aT,"cross-circ":aT,summary:aT,"tag-doc":JI,"tagged-document":JI,"tag-rect":ex,"tagged-rectangle":ex,"tag-proc":ex,"tagged-process":ex,hourglass:KI,collate:KI,text:Aq,anchor:Jxe,brace:fT,labelRect:ebe,"brace-r":obe,braces:lbe,iconSquare:cbe,iconCircle:ube,icon:hbe,iconRounded:fbe,imageSquare:dbe},E0=new Map,Lq=b(async(t,e,r)=>{let n,i;if(e.shape==="rect"&&(e.rx&&e.ry?e.shape="roundedRect":e.shape="squareRect"),!pT[e.shape])throw new Error(`No such shape: ${e.shape}. Please check your syntax.`);if(e.link){let a;r.config.securityLevel==="sandbox"?a="_top":e.linkTarget&&(a=e.linkTarget||"_blank"),n=t.insert("svg:a").attr("xlink:href",e.link).attr("target",a),i=await pT[e.shape](n,e,r)}else i=await pT[e.shape](t,e,r),n=i;return e.tooltip&&i.attr("title",e.tooltip),E0.set(e.id,n),e.haveCallback&&E0.get(e.id).attr("class",E0.get(e.id).attr("class")+" clickable"),n},"insertNode"),pbe=b((t,e)=>{E0.set(e.id,t)},"setNodeElem"),gbe=b(()=>{E0.clear()},"clear"),eD=b(t=>{const e=E0.get(t.id);q.trace("Transforming node",t.diff,t,"translate("+(t.x-t.width/2-5)+", "+t.width/2+")");const r=8,n=t.diff||0;return t.clusterNode?e.attr("transform","translate("+(t.x+n-t.width/2)+", "+(t.y-t.height/2-r)+")"):e.attr("transform","translate("+t.x+", "+t.y+")"),n},"positionNode"),mbe={common:et,getConfig:Dn,insertCluster:gq,insertEdge:xq,insertEdgeLabel:mq,insertMarkers:bq,insertNode:Lq,interpolateToCurve:Ey,labelHelper:er,log:q,positionEdgeLabel:vq},kv={},Nq=b(t=>{for(const e of t)kv[e.name]=e},"registerLayoutLoaders"),vbe=b(()=>{Nq([{name:"dagre",loader:b(async()=>await _r(()=>Promise.resolve().then(()=>w9e),void 0),"loader")}])},"registerDefaultLayoutLoaders");vbe();var Rq=b(async(t,e)=>{if(!(t.layoutAlgorithm in kv))throw new Error(`Unknown layout algorithm: ${t.layoutAlgorithm}`);const r=kv[t.layoutAlgorithm];return(await r.loader()).render(t,e,mbe,{algorithm:r.algorithm})},"render"),ybe=b((t="",{fallback:e="dagre"}={})=>{if(t in kv)return t;if(e in kv)return q.warn(`Layout algorithm ${t} is not registered. Using ${e} as fallback.`),e;throw new Error(`Both layout algorithms ${t} and ${e} are not registered.`)},"getRegisteredLayoutAlgorithm"),wS="11.3.0",mf=b(t=>{var i;const{securityLevel:e}=we();let r=Ke("body");if(e==="sandbox"){const s=((i=Ke(`#i${t}`).node())==null?void 0:i.contentDocument)??document;r=Ke(s.body)}return r.select(`#${t}`)},"selectSvgElement"),Mq="comm",Iq="rule",Dq="decl",xbe="@import",bbe="@keyframes",wbe="@layer",Oq=Math.abs,N_=String.fromCharCode;function Pq(t){return t.trim()}function fb(t,e,r){return t.replace(e,r)}function kbe(t,e,r){return t.indexOf(e,r)}function Tv(t,e){return t.charCodeAt(e)|0}function Wp(t,e,r){return t.slice(e,r)}function cl(t){return t.length}function Tbe(t){return t.length}function nx(t,e){return e.push(t),t}var bw=1,Yp=1,Fq=0,go=0,jn=0,Lg="";function R_(t,e,r,n,i,a,s,o){return{value:t,root:e,parent:r,type:n,props:i,children:a,line:bw,column:Yp,length:s,return:"",siblings:o}}function Ebe(){return jn}function Sbe(){return jn=go>0?Tv(Lg,--go):0,Yp--,jn===10&&(Yp=1,bw--),jn}function Vo(){return jn=go<Fq?Tv(Lg,go++):0,Yp++,jn===10&&(Yp=1,bw++),jn}function Au(){return Tv(Lg,go)}function pb(){return go}function ww(t,e){return Wp(Lg,t,e)}function Ev(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function Cbe(t){return bw=Yp=1,Fq=cl(Lg=t),go=0,[]}function Abe(t){return Lg="",t}function gT(t){return Pq(ww(go-1,kS(t===91?t+2:t===40?t+1:t)))}function _be(t){for(;(jn=Au())&&jn<33;)Vo();return Ev(t)>2||Ev(jn)>3?"":" "}function Lbe(t,e){for(;--e&&Vo()&&!(jn<48||jn>102||jn>57&&jn<65||jn>70&&jn<97););return ww(t,pb()+(e<6&&Au()==32&&Vo()==32))}function kS(t){for(;Vo();)switch(jn){case t:return go;case 34:case 39:t!==34&&t!==39&&kS(jn);break;case 40:t===41&&kS(t);break;case 92:Vo();break}return go}function Nbe(t,e){for(;Vo()&&t+jn!==57;)if(t+jn===84&&Au()===47)break;return"/*"+ww(e,go-1)+"*"+N_(t===47?t:Vo())}function Rbe(t){for(;!Ev(Au());)Vo();return ww(t,go)}function Mbe(t){return Abe(gb("",null,null,null,[""],t=Cbe(t),0,[0],t))}function gb(t,e,r,n,i,a,s,o,l){for(var u=0,h=0,d=s,p=0,f=0,g=0,m=1,y=1,v=1,x=0,w="",k=i,E=a,_=n,S=w;y;)switch(g=x,x=Vo()){case 40:if(g!=108&&Tv(S,d-1)==58){kbe(S+=fb(gT(x),"&","&\f"),"&\f",Oq(u?o[u-1]:0))!=-1&&(v=-1);break}case 34:case 39:case 91:S+=gT(x);break;case 9:case 10:case 13:case 32:S+=_be(g);break;case 92:S+=Lbe(pb()-1,7);continue;case 47:switch(Au()){case 42:case 47:nx(Ibe(Nbe(Vo(),pb()),e,r,l),l),(Ev(g||1)==5||Ev(Au()||1)==5)&&cl(S)&&Wp(S,-1,void 0)!==" "&&(S+=" ");break;default:S+="/"}break;case 123*m:o[u++]=cl(S)*v;case 125*m:case 59:case 0:switch(x){case 0:case 125:y=0;case 59+h:v==-1&&(S=fb(S,/\f/g,"")),f>0&&(cl(S)-d||m===0&&g===47)&&nx(f>32?rD(S+";",n,r,d-1,l):rD(fb(S," ","")+";",n,r,d-2,l),l);break;case 59:S+=";";default:if(nx(_=tD(S,e,r,u,h,i,o,w,k=[],E=[],d,a),a),x===123)if(h===0)gb(S,e,_,_,k,a,d,o,E);else switch(p===99&&Tv(S,3)===110?100:p){case 100:case 108:case 109:case 115:gb(t,_,_,n&&nx(tD(t,_,_,0,0,i,o,w,i,k=[],d,E),E),i,E,d,o,n?k:E);break;default:gb(S,_,_,_,[""],E,0,o,E)}}u=h=f=0,m=v=1,w=S="",d=s;break;case 58:d=1+cl(S),f=g;default:if(m<1){if(x==123)--m;else if(x==125&&m++==0&&Sbe()==125)continue}switch(S+=N_(x),x*m){case 38:v=h>0?1:(S+="\f",-1);break;case 44:o[u++]=(cl(S)-1)*v,v=1;break;case 64:Au()===45&&(S+=gT(Vo())),p=Au(),h=d=cl(w=S+=Rbe(pb())),x++;break;case 45:g===45&&cl(S)==2&&(m=0)}}return a}function tD(t,e,r,n,i,a,s,o,l,u,h,d){for(var p=i-1,f=i===0?a:[""],g=Tbe(f),m=0,y=0,v=0;m<n;++m)for(var x=0,w=Wp(t,p+1,p=Oq(y=s[m])),k=t;x<g;++x)(k=Pq(y>0?f[x]+" "+w:fb(w,/&\f/g,f[x])))&&(l[v++]=k);return R_(t,e,r,i===0?Iq:o,l,u,h,d)}function Ibe(t,e,r,n){return R_(t,e,r,Mq,N_(Ebe()),Wp(t,2,-2),0,n)}function rD(t,e,r,n,i){return R_(t,e,r,Dq,Wp(t,0,n),Wp(t,n+1,-1),n,i)}function TS(t,e){for(var r="",n=0;n<t.length;n++)r+=e(t[n],n,t,e)||"";return r}function Dbe(t,e,r,n){switch(t.type){case wbe:if(t.children.length)break;case xbe:case Dq:return t.return=t.return||t.value;case Mq:return"";case bbe:return t.return=t.value+"{"+TS(t.children,n)+"}";case Iq:if(!cl(t.value=t.props.join(",")))return""}return cl(r=TS(t.children,n))?t.return=t.value+"{"+r+"}":""}var Obe=pY(Object.keys,Object),Pbe=Object.prototype,Fbe=Pbe.hasOwnProperty;function Bq(t){if(!by(t))return Obe(t);var e=[];for(var r in Object(t))Fbe.call(t,r)&&r!="constructor"&&e.push(r);return e}var ES=df(Ol,"DataView"),SS=df(Ol,"Promise"),S0=df(Ol,"Set"),CS=df(Ol,"WeakMap"),nD="[object Map]",Bbe="[object Object]",iD="[object Promise]",aD="[object Set]",sD="[object WeakMap]",oD="[object DataView]",$be=hf(ES),zbe=hf(bv),Ube=hf(SS),Vbe=hf(S0),Gbe=hf(CS),Ks=Xc;(ES&&Ks(new ES(new ArrayBuffer(1)))!=oD||bv&&Ks(new bv)!=nD||SS&&Ks(SS.resolve())!=iD||S0&&Ks(new S0)!=aD||CS&&Ks(new CS)!=sD)&&(Ks=function(t){var e=Xc(t),r=e==Bbe?t.constructor:void 0,n=r?hf(r):"";if(n)switch(n){case $be:return oD;case zbe:return nD;case Ube:return iD;case Vbe:return aD;case Gbe:return sD}return e});var Hbe="[object Map]",Wbe="[object Set]",Ybe=Object.prototype,qbe=Ybe.hasOwnProperty;function Lr(t){if(t==null)return!0;if(Pl(t)&&(dr(t)||typeof t=="string"||typeof t.splice=="function"||Hp(t)||pw(t)||Gp(t)))return!t.length;var e=Ks(t);if(e==Hbe||e==Wbe)return!t.size;if(by(t))return!Bq(t).length;for(var r in t)if(qbe.call(t,r))return!1;return!0}var $q="c4",jbe=b(t=>/^\s*C4Context|C4Container|C4Component|C4Dynamic|C4Deployment/.test(t),"detector"),Xbe=b(async()=>{const{diagram:t}=await _r(async()=>{const{diagram:e}=await Promise.resolve().then(()=>xLe);return{diagram:e}},void 0);return{id:$q,diagram:t}},"loader"),Kbe={id:$q,detector:jbe,loader:Xbe},Qbe=Kbe,zq="flowchart",Zbe=b((t,e)=>{var r,n;return((r=e==null?void 0:e.flowchart)==null?void 0:r.defaultRenderer)==="dagre-wrapper"||((n=e==null?void 0:e.flowchart)==null?void 0:n.defaultRenderer)==="elk"?!1:/^\s*graph/.test(t)},"detector"),Jbe=b(async()=>{const{diagram:t}=await _r(async()=>{const{diagram:e}=await Promise.resolve().then(()=>Q9);return{diagram:e}},void 0);return{id:zq,diagram:t}},"loader"),e4e={id:zq,detector:Zbe,loader:Jbe},t4e=e4e,Uq="flowchart-v2",r4e=b((t,e)=>{var r,n,i;return((r=e==null?void 0:e.flowchart)==null?void 0:r.defaultRenderer)==="dagre-d3"?!1:(((n=e==null?void 0:e.flowchart)==null?void 0:n.defaultRenderer)==="elk"&&(e.layout="elk"),/^\s*graph/.test(t)&&((i=e==null?void 0:e.flowchart)==null?void 0:i.defaultRenderer)==="dagre-wrapper"?!0:/^\s*flowchart/.test(t))},"detector"),n4e=b(async()=>{const{diagram:t}=await _r(async()=>{const{diagram:e}=await Promise.resolve().then(()=>Q9);return{diagram:e}},void 0);return{id:Uq,diagram:t}},"loader"),i4e={id:Uq,detector:r4e,loader:n4e},a4e=i4e,Vq="er",s4e=b(t=>/^\s*erDiagram/.test(t),"detector"),o4e=b(async()=>{const{diagram:t}=await _r(async()=>{const{diagram:e}=await Promise.resolve().then(()=>VNe);return{diagram:e}},void 0);return{id:Vq,diagram:t}},"loader"),l4e={id:Vq,detector:s4e,loader:o4e},c4e=l4e,Gq="gitGraph",u4e=b(t=>/^\s*gitGraph/.test(t),"detector"),h4e=b(async()=>{const{diagram:t}=await _r(async()=>{const{diagram:e}=await Promise.resolve().then(()=>cBe);return{diagram:e}},void 0);return{id:Gq,diagram:t}},"loader"),d4e={id:Gq,detector:u4e,loader:h4e},f4e=d4e,Hq="gantt",p4e=b(t=>/^\s*gantt/.test(t),"detector"),g4e=b(async()=>{const{diagram:t}=await _r(async()=>{const{diagram:e}=await Promise.resolve().then(()=>s$e);return{diagram:e}},void 0);return{id:Hq,diagram:t}},"loader"),m4e={id:Hq,detector:p4e,loader:g4e},v4e=m4e,Wq="info",y4e=b(t=>/^\s*info/.test(t),"detector"),x4e=b(async()=>{const{diagram:t}=await _r(async()=>{const{diagram:e}=await Promise.resolve().then(()=>p$e);return{diagram:e}},void 0);return{id:Wq,diagram:t}},"loader"),b4e={id:Wq,detector:y4e,loader:x4e},Yq="pie",w4e=b(t=>/^\s*pie/.test(t),"detector"),k4e=b(async()=>{const{diagram:t}=await _r(async()=>{const{diagram:e}=await Promise.resolve().then(()=>N$e);return{diagram:e}},void 0);return{id:Yq,diagram:t}},"loader"),T4e={id:Yq,detector:w4e,loader:k4e},qq="quadrantChart",E4e=b(t=>/^\s*quadrantChart/.test(t),"detector"),S4e=b(async()=>{const{diagram:t}=await _r(async()=>{const{diagram:e}=await Promise.resolve().then(()=>$$e);return{diagram:e}},void 0);return{id:qq,diagram:t}},"loader"),C4e={id:qq,detector:E4e,loader:S4e},A4e=C4e,jq="xychart",_4e=b(t=>/^\s*xychart-beta/.test(t),"detector"),L4e=b(async()=>{const{diagram:t}=await _r(async()=>{const{diagram:e}=await Promise.resolve().then(()=>eze);return{diagram:e}},void 0);return{id:jq,diagram:t}},"loader"),N4e={id:jq,detector:_4e,loader:L4e},R4e=N4e,Xq="requirement",M4e=b(t=>/^\s*requirement(Diagram)?/.test(t),"detector"),I4e=b(async()=>{const{diagram:t}=await _r(async()=>{const{diagram:e}=await Promise.resolve().then(()=>Mze);return{diagram:e}},void 0);return{id:Xq,diagram:t}},"loader"),D4e={id:Xq,detector:M4e,loader:I4e},O4e=D4e,Kq="sequence",P4e=b(t=>/^\s*sequenceDiagram/.test(t),"detector"),F4e=b(async()=>{const{diagram:t}=await _r(async()=>{const{diagram:e}=await Promise.resolve().then(()=>IUe);return{diagram:e}},void 0);return{id:Kq,diagram:t}},"loader"),B4e={id:Kq,detector:P4e,loader:F4e},$4e=B4e,Qq="class",z4e=b((t,e)=>{var r;return((r=e==null?void 0:e.class)==null?void 0:r.defaultRenderer)==="dagre-wrapper"?!1:/^\s*classDiagram/.test(t)},"detector"),U4e=b(async()=>{const{diagram:t}=await _r(async()=>{const{diagram:e}=await Promise.resolve().then(()=>pVe);return{diagram:e}},void 0);return{id:Qq,diagram:t}},"loader"),V4e={id:Qq,detector:z4e,loader:U4e},G4e=V4e,Zq="classDiagram",H4e=b((t,e)=>{var r;return/^\s*classDiagram/.test(t)&&((r=e==null?void 0:e.class)==null?void 0:r.defaultRenderer)==="dagre-wrapper"?!0:/^\s*classDiagram-v2/.test(t)},"detector"),W4e=b(async()=>{const{diagram:t}=await _r(async()=>{const{diagram:e}=await Promise.resolve().then(()=>LGe);return{diagram:e}},void 0);return{id:Zq,diagram:t}},"loader"),Y4e={id:Zq,detector:H4e,loader:W4e},q4e=Y4e,Jq="state",j4e=b((t,e)=>{var r;return((r=e==null?void 0:e.state)==null?void 0:r.defaultRenderer)==="dagre-wrapper"?!1:/^\s*stateDiagram/.test(t)},"detector"),X4e=b(async()=>{const{diagram:t}=await _r(async()=>{const{diagram:e}=await Promise.resolve().then(()=>zHe);return{diagram:e}},void 0);return{id:Jq,diagram:t}},"loader"),K4e={id:Jq,detector:j4e,loader:X4e},Q4e=K4e,ej="stateDiagram",Z4e=b((t,e)=>{var r;return!!(/^\s*stateDiagram-v2/.test(t)||/^\s*stateDiagram/.test(t)&&((r=e==null?void 0:e.state)==null?void 0:r.defaultRenderer)==="dagre-wrapper")},"detector"),J4e=b(async()=>{const{diagram:t}=await _r(async()=>{const{diagram:e}=await Promise.resolve().then(()=>VHe);return{diagram:e}},void 0);return{id:ej,diagram:t}},"loader"),e3e={id:ej,detector:Z4e,loader:J4e},t3e=e3e,tj="journey",r3e=b(t=>/^\s*journey/.test(t),"detector"),n3e=b(async()=>{const{diagram:t}=await _r(async()=>{const{diagram:e}=await Promise.resolve().then(()=>uWe);return{diagram:e}},void 0);return{id:tj,diagram:t}},"loader"),i3e={id:tj,detector:r3e,loader:n3e},a3e=i3e,s3e=b((t,e,r)=>{q.debug(`rendering svg for syntax error
`);const n=mf(e),i=n.append("g");n.attr("viewBox","0 0 2412 512"),Ki(n,100,512,!0),i.append("path").attr("class","error-icon").attr("d","m411.313,123.313c6.25-6.25 6.25-16.375 0-22.625s-16.375-6.25-22.625,0l-32,32-9.375,9.375-20.688-20.688c-12.484-12.5-32.766-12.5-45.25,0l-16,16c-1.261,1.261-2.304,2.648-3.31,4.051-21.739-8.561-45.324-13.426-70.065-13.426-105.867,0-192,86.133-192,192s86.133,192 192,192 192-86.133 192-192c0-24.741-4.864-48.327-13.426-70.065 1.402-1.007 2.79-2.049 4.051-3.31l16-16c12.5-12.492 12.5-32.758 0-45.25l-20.688-20.688 9.375-9.375 32.001-31.999zm-219.313,100.687c-52.938,0-96,43.063-96,96 0,8.836-7.164,16-16,16s-16-7.164-16-16c0-70.578 57.422-128 128-128 8.836,0 16,7.164 16,16s-7.164,16-16,16z"),i.append("path").attr("class","error-icon").attr("d","m459.02,148.98c-6.25-6.25-16.375-6.25-22.625,0s-6.25,16.375 0,22.625l16,16c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688 6.25-6.25 6.25-16.375 0-22.625l-16.001-16z"),i.append("path").attr("class","error-icon").attr("d","m340.395,75.605c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688 6.25-6.25 6.25-16.375 0-22.625l-16-16c-6.25-6.25-16.375-6.25-22.625,0s-6.25,16.375 0,22.625l15.999,16z"),i.append("path").attr("class","error-icon").attr("d","m400,64c8.844,0 16-7.164 16-16v-32c0-8.836-7.156-16-16-16-8.844,0-16,7.164-16,16v32c0,8.836 7.156,16 16,16z"),i.append("path").attr("class","error-icon").attr("d","m496,96.586h-32c-8.844,0-16,7.164-16,16 0,8.836 7.156,16 16,16h32c8.844,0 16-7.164 16-16 0-8.836-7.156-16-16-16z"),i.append("path").attr("class","error-icon").attr("d","m436.98,75.605c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688l32-32c6.25-6.25 6.25-16.375 0-22.625s-16.375-6.25-22.625,0l-32,32c-6.251,6.25-6.251,16.375-0.001,22.625z"),i.append("text").attr("class","error-text").attr("x",1440).attr("y",250).attr("font-size","150px").style("text-anchor","middle").text("Syntax error in text"),i.append("text").attr("class","error-text").attr("x",1250).attr("y",400).attr("font-size","100px").style("text-anchor","middle").text(`mermaid version ${r}`)},"draw"),rj={draw:s3e},o3e=rj,l3e={db:{},renderer:rj,parser:{parse:b(()=>{},"parse")}},c3e=l3e,nj="flowchart-elk",u3e=b((t,e={})=>{var r;return/^\s*flowchart-elk/.test(t)||/^\s*flowchart|graph/.test(t)&&((r=e==null?void 0:e.flowchart)==null?void 0:r.defaultRenderer)==="elk"?(e.layout="elk",!0):!1},"detector"),h3e=b(async()=>{const{diagram:t}=await _r(async()=>{const{diagram:e}=await Promise.resolve().then(()=>Q9);return{diagram:e}},void 0);return{id:nj,diagram:t}},"loader"),d3e={id:nj,detector:u3e,loader:h3e},f3e=d3e,ij="timeline",p3e=b(t=>/^\s*timeline/.test(t),"detector"),g3e=b(async()=>{const{diagram:t}=await _r(async()=>{const{diagram:e}=await Promise.resolve().then(()=>MWe);return{diagram:e}},void 0);return{id:ij,diagram:t}},"loader"),m3e={id:ij,detector:p3e,loader:g3e},v3e=m3e,aj="mindmap",y3e=b(t=>/^\s*mindmap/.test(t),"detector"),x3e=b(async()=>{const{diagram:t}=await _r(async()=>{const{diagram:e}=await Promise.resolve().then(()=>WJe);return{diagram:e}},void 0);return{id:aj,diagram:t}},"loader"),b3e={id:aj,detector:y3e,loader:x3e},w3e=b3e,sj="sankey",k3e=b(t=>/^\s*sankey-beta/.test(t),"detector"),T3e=b(async()=>{const{diagram:t}=await _r(async()=>{const{diagram:e}=await Promise.resolve().then(()=>Let);return{diagram:e}},void 0);return{id:sj,diagram:t}},"loader"),E3e={id:sj,detector:k3e,loader:T3e},S3e=E3e,oj="packet",C3e=b(t=>/^\s*packet-beta/.test(t),"detector"),A3e=b(async()=>{const{diagram:t}=await _r(async()=>{const{diagram:e}=await Promise.resolve().then(()=>Wet);return{diagram:e}},void 0);return{id:oj,diagram:t}},"loader"),_3e={id:oj,detector:C3e,loader:A3e},lj="block",L3e=b(t=>/^\s*block-beta/.test(t),"detector"),N3e=b(async()=>{const{diagram:t}=await _r(async()=>{const{diagram:e}=await Promise.resolve().then(()=>xtt);return{diagram:e}},void 0);return{id:lj,diagram:t}},"loader"),R3e={id:lj,detector:L3e,loader:N3e},M3e=R3e,cj="architecture",I3e=b(t=>/^\s*architecture/.test(t),"detector"),D3e=b(async()=>{const{diagram:t}=await _r(async()=>{const{diagram:e}=await Promise.resolve().then(()=>rrt);return{diagram:e}},void 0);return{id:cj,diagram:t}},"loader"),O3e={id:cj,detector:I3e,loader:D3e},P3e=O3e,lD=!1,kw=b(()=>{lD||(lD=!0,y4("error",c3e,t=>t.toLowerCase().trim()==="error"),y4("---",{db:{clear:b(()=>{},"clear")},styles:{},renderer:{draw:b(()=>{},"draw")},parser:{parse:b(()=>{throw new Error("Diagrams beginning with --- are not valid. If you were trying to use a YAML front-matter, please ensure that you've correctly opened and closed the YAML front-matter with un-indented `---` blocks")},"parse")},init:b(()=>null,"init")},t=>t.toLowerCase().trimStart().startsWith("---")),XV(Qbe,q4e,G4e,c4e,v4e,b4e,T4e,O4e,$4e,f3e,a4e,t4e,w3e,v3e,f4e,t3e,Q4e,a3e,A4e,S3e,_3e,R4e,M3e,P3e))},"addDiagrams"),F3e=b(async()=>{q.debug("Loading registered diagrams");const e=(await Promise.allSettled(Object.entries(Rp).map(async([r,{detector:n,loader:i}])=>{if(i)try{I7(r)}catch{try{const{diagram:a,id:s}=await i();y4(s,a,n)}catch(a){throw q.error(`Failed to load external diagram with key ${r}. Removing from detectors.`),delete Rp[r],a}}}))).filter(r=>r.status==="rejected");if(e.length>0){q.error(`Failed to load ${e.length} external diagrams`);for(const r of e)q.error(r);throw new Error(`Failed to load ${e.length} external diagrams`)}},"loadRegisteredDiagrams"),B3e="graphics-document document";function uj(t,e){t.attr("role",B3e),e!==""&&t.attr("aria-roledescription",e)}b(uj,"setA11yDiagramInfo");function hj(t,e,r,n){if(t.insert!==void 0){if(r){const i=`chart-desc-${n}`;t.attr("aria-describedby",i),t.insert("desc",":first-child").attr("id",i).text(r)}if(e){const i=`chart-title-${n}`;t.attr("aria-labelledby",i),t.insert("title",":first-child").attr("id",i).text(e)}}}b(hj,"addSVGa11yTitleDescription");var xd,AS=(xd=class{constructor(e,r,n,i,a){this.type=e,this.text=r,this.db=n,this.parser=i,this.renderer=a}static async fromText(e,r={}){var u,h;const n=Dn(),i=DA(e,n);e=g2e(e)+`
`;try{I7(i)}catch{const d=bue(i);if(!d)throw new jV(`Diagram ${i} not found.`);const{id:p,diagram:f}=await d();y4(p,f)}const{db:a,parser:s,renderer:o,init:l}=I7(i);return s.parser&&(s.parser.yy=a),(u=a.clear)==null||u.call(a),l==null||l(n),r.title&&((h=a.setDiagramTitle)==null||h.call(a,r.title)),await s.parse(e),new xd(i,e,a,s,o)}async render(e,r){await this.renderer.draw(this.text,e,r,this)}getParser(){return this.parser}getType(){return this.type}},b(xd,"Diagram"),xd),cD=[],$3e=b(()=>{cD.forEach(t=>{t()}),cD=[]},"attachFunctions"),z3e=b(t=>t.replace(/^\s*%%(?!{)[^\n]+\n?/gm,"").trimStart(),"cleanupComments");function dj(t){const e=t.match(qV);if(!e)return{text:t,metadata:{}};let r=YH(e[1],{schema:WH})??{};r=typeof r=="object"&&!Array.isArray(r)?r:{};const n={};return r.displayMode&&(n.displayMode=r.displayMode.toString()),r.title&&(n.title=r.title.toString()),r.config&&(n.config=r.config),{text:t.slice(e[0].length),metadata:n}}b(dj,"extractFrontMatter");var U3e=b(t=>t.replace(/\r\n?/g,`
`).replace(/<(\w+)([^>]*)>/g,(e,r,n)=>"<"+r+n.replace(/="([^"]*)"/g,"='$1'")+">"),"cleanupText"),V3e=b(t=>{const{text:e,metadata:r}=dj(t),{displayMode:n,title:i,config:a={}}=r;return n&&(a.gantt||(a.gantt={}),a.gantt.displayMode=n),{title:i,config:a,text:e}},"processFrontmatter"),G3e=b(t=>{const e=Jt.detectInit(t)??{},r=Jt.detectDirective(t,"wrap");return Array.isArray(r)?e.wrap=r.some(({type:n})=>n==="wrap"):(r==null?void 0:r.type)==="wrap"&&(e.wrap=!0),{text:a2e(t),directive:e}},"processDirectives");function M_(t){const e=U3e(t),r=V3e(e),n=G3e(r.text),i=Zc(r.config,n.directive);return t=z3e(n.text),{code:t,title:r.title,config:i}}b(M_,"preprocessDiagram");function fj(t){const e=new TextEncoder().encode(t),r=Array.from(e,n=>String.fromCodePoint(n)).join("");return btoa(r)}b(fj,"toBase64");var H3e=5e4,W3e="graph TB;a[Maximum text size in diagram exceeded];style a fill:#faa",Y3e="sandbox",q3e="loose",j3e="http://www.w3.org/2000/svg",X3e="http://www.w3.org/1999/xlink",K3e="http://www.w3.org/1999/xhtml",Q3e="100%",Z3e="100%",J3e="border:0;margin:0;",e5e="margin:0",t5e="allow-top-navigation-by-user-activation allow-popups",r5e='The "iframe" tag is not supported by your browser.',n5e=["foreignobject"],i5e=["dominant-baseline"];function I_(t){const e=M_(t);return m4(),Oue(e.config??{}),e}b(I_,"processAndSetConfigs");async function pj(t,e){kw();try{const{code:r,config:n}=I_(t);return{diagramType:(await mj(r)).type,config:n}}catch(r){if(e!=null&&e.suppressErrors)return!1;throw r}}b(pj,"parse");var uD=b((t,e,r=[])=>`
.${t} ${e} { ${r.join(" !important; ")} !important; }`,"cssImportantStyles"),a5e=b((t,e=new Map)=>{var n;let r="";if(t.themeCSS!==void 0&&(r+=`
${t.themeCSS}`),t.fontFamily!==void 0&&(r+=`
:root { --mermaid-font-family: ${t.fontFamily}}`),t.altFontFamily!==void 0&&(r+=`
:root { --mermaid-alt-font-family: ${t.altFontFamily}}`),e instanceof Map){const o=t.htmlLabels??((n=t.flowchart)==null?void 0:n.htmlLabels)?["> *","span"]:["rect","polygon","ellipse","circle","path"];e.forEach(l=>{Lr(l.styles)||o.forEach(u=>{r+=uD(l.id,u,l.styles)}),Lr(l.textStyles)||(r+=uD(l.id,"tspan",((l==null?void 0:l.textStyles)||[]).map(u=>u.replace("color","fill"))))})}return r},"createCssStyles"),s5e=b((t,e,r,n)=>{const i=a5e(t,r),a=Jue(e,i,t.themeVariables);return TS(Mbe(`${n}{${a}}`),Dbe)},"createUserStyles"),o5e=b((t="",e,r)=>{let n=t;return!r&&!e&&(n=n.replace(/marker-end="url\([\d+./:=?A-Za-z-]*?#/g,'marker-end="url(#')),n=Id(n),n=n.replace(/<br>/g,"<br/>"),n},"cleanUpSvgCode"),l5e=b((t="",e)=>{var i,a;const r=(a=(i=e==null?void 0:e.viewBox)==null?void 0:i.baseVal)!=null&&a.height?e.viewBox.baseVal.height+"px":Z3e,n=fj(`<body style="${e5e}">${t}</body>`);return`<iframe style="width:${Q3e};height:${r};${J3e}" src="data:text/html;charset=UTF-8;base64,${n}" sandbox="${t5e}">
  ${r5e}
</iframe>`},"putIntoIFrame"),hD=b((t,e,r,n,i)=>{const a=t.append("div");a.attr("id",r),n&&a.attr("style",n);const s=a.append("svg").attr("id",e).attr("width","100%").attr("xmlns",j3e);return i&&s.attr("xmlns:xlink",i),s.append("g"),t},"appendDivSvgG");function _S(t,e){return t.append("iframe").attr("id",e).attr("style","width: 100%; height: 100%;").attr("sandbox","")}b(_S,"sandboxedIframe");var c5e=b((t,e,r,n)=>{var i,a,s;(i=t.getElementById(e))==null||i.remove(),(a=t.getElementById(r))==null||a.remove(),(s=t.getElementById(n))==null||s.remove()},"removeExistingElements"),u5e=b(async function(t,e,r){var N,F,T,D,M,O;kw();const n=I_(e);e=n.code;const i=Dn();q.debug(i),e.length>((i==null?void 0:i.maxTextSize)??H3e)&&(e=W3e);const a="#"+t,s="i"+t,o="#"+s,l="d"+t,u="#"+l,h=b(()=>{const P=Ke(p?o:u).node();P&&"remove"in P&&P.remove()},"removeTempElements");let d=Ke("body");const p=i.securityLevel===Y3e,f=i.securityLevel===q3e,g=i.fontFamily;if(r!==void 0){if(r&&(r.innerHTML=""),p){const I=_S(Ke(r),s);d=Ke(I.nodes()[0].contentDocument.body),d.node().style.margin=0}else d=Ke(r);hD(d,t,l,`font-family: ${g}`,X3e)}else{if(c5e(document,t,l,s),p){const I=_S(Ke("body"),s);d=Ke(I.nodes()[0].contentDocument.body),d.node().style.margin=0}else d=Ke("body");hD(d,t,l)}let m,y;try{m=await AS.fromText(e,{title:n.title})}catch(I){if(i.suppressErrorRendering)throw h(),I;m=await AS.fromText("error"),y=I}const v=d.select(u).node(),x=m.type,w=v.firstChild,k=w.firstChild,E=(F=(N=m.renderer).getClasses)==null?void 0:F.call(N,e,m),_=s5e(i,x,E,a),S=document.createElement("style");S.innerHTML=_,w.insertBefore(S,k);try{await m.renderer.draw(e,t,wS,m)}catch(I){throw i.suppressErrorRendering?h():o3e.draw(e,t,wS),I}const R=d.select(`${u} svg`),C=(D=(T=m.db).getAccTitle)==null?void 0:D.call(T),L=(O=(M=m.db).getAccDescription)==null?void 0:O.call(M);vj(x,R,C,L),d.select(`[id="${t}"]`).selectAll("foreignobject > *").attr("xmlns",K3e);let A=d.select(u).node().innerHTML;if(q.debug("config.arrowMarkerAbsolute",i.arrowMarkerAbsolute),A=o5e(A,p,tn(i.arrowMarkerAbsolute)),p){const I=d.select(u+" svg").node();A=l5e(A,I)}else f||(A=Np.sanitize(A,{ADD_TAGS:n5e,ADD_ATTR:i5e}));if($3e(),y)throw y;return h(),{diagramType:x,svg:A,bindFunctions:m.db.bindFunctions}},"render");function gj(t={}){var n;const e=ci({},t);e!=null&&e.fontFamily&&!((n=e.themeVariables)!=null&&n.fontFamily)&&(e.themeVariables||(e.themeVariables={}),e.themeVariables.fontFamily=e.fontFamily),Iue(e),e!=null&&e.theme&&e.theme in bc?e.themeVariables=bc[e.theme].getThemeVariables(e.themeVariables):e&&(e.themeVariables=bc.default.getThemeVariables(e.themeVariables));const r=typeof e=="object"?Mue(e):eG();IA(r.logLevel),kw()}b(gj,"initialize");var mj=b((t,e={})=>{const{code:r}=M_(t);return AS.fromText(r,e)},"getDiagramFromText");function vj(t,e,r,n){uj(e,t),hj(e,r,n,e.attr("id"))}b(vj,"addA11yInfo");var Od=Object.freeze({render:u5e,parse:pj,getDiagramFromText:mj,initialize:gj,getConfig:Dn,setConfig:tG,getSiteConfig:eG,updateSiteConfig:Due,reset:b(()=>{m4()},"reset"),globalReset:b(()=>{m4(Mp)},"globalReset"),defaultConfig:Mp});IA(Dn().logLevel);m4(Dn());var h5e=b((t,e,r)=>{q.warn(t),m_(t)?(r&&r(t.str,t.hash),e.push({...t,message:t.str,error:t})):(r&&r(t),t instanceof Error&&e.push({str:t.message,message:t.message,hash:t.name,error:t}))},"handleError"),yj=b(async function(t={querySelector:".mermaid"}){try{await d5e(t)}catch(e){if(m_(e)&&q.error(e.str),_s.parseError&&_s.parseError(e),!t.suppressErrors)throw q.error("Use the suppressErrors option to suppress these errors"),e}},"run"),d5e=b(async function({postRenderCallback:t,querySelector:e,nodes:r}={querySelector:".mermaid"}){const n=Od.getConfig();q.debug(`${t?"":"No "}Callback function found`);let i;if(r)i=r;else if(e)i=document.querySelectorAll(e);else throw new Error("Nodes and querySelector are both undefined");q.debug(`Found ${i.length} diagrams`),(n==null?void 0:n.startOnLoad)!==void 0&&(q.debug("Start On Load: "+(n==null?void 0:n.startOnLoad)),Od.updateSiteConfig({startOnLoad:n==null?void 0:n.startOnLoad}));const a=new Jt.InitIDGenerator(n.deterministicIds,n.deterministicIDSeed);let s;const o=[];for(const l of Array.from(i)){if(q.info("Rendering diagram: "+l.id),l.getAttribute("data-processed"))continue;l.setAttribute("data-processed","true");const u=`mermaid-${a.next()}`;s=l.innerHTML,s=jY(Jt.entityDecode(s)).trim().replace(/<br\s*\/?>/gi,"<br/>");const h=Jt.detectInit(s);h&&q.debug("Detected early reinit: ",h);try{const{svg:d,bindFunctions:p}=await kj(u,s,l);l.innerHTML=d,t&&await t(u),p&&p(l)}catch(d){h5e(d,o,_s.parseError)}}if(o.length>0)throw o[0]},"runThrowsErrors"),xj=b(function(t){Od.initialize(t)},"initialize"),f5e=b(async function(t,e,r){q.warn("mermaid.init is deprecated. Please use run instead."),t&&xj(t);const n={postRenderCallback:r,querySelector:".mermaid"};typeof e=="string"?n.querySelector=e:e&&(e instanceof HTMLElement?n.nodes=[e]:n.nodes=e),await yj(n)},"init"),p5e=b(async(t,{lazyLoad:e=!0}={})=>{kw(),XV(...t),e===!1&&await F3e()},"registerExternalDiagrams"),bj=b(function(){if(_s.startOnLoad){const{startOnLoad:t}=Od.getConfig();t&&_s.run().catch(e=>q.error("Mermaid failed to initialize",e))}},"contentLoaded");typeof document<"u"&&window.addEventListener("load",bj,!1);var g5e=b(function(t){_s.parseError=t},"setParseErrorHandler"),i3=[],mT=!1,wj=b(async()=>{if(!mT){for(mT=!0;i3.length>0;){const t=i3.shift();if(t)try{await t()}catch(e){q.error("Error executing queue",e)}}mT=!1}},"executeQueue"),m5e=b(async(t,e)=>new Promise((r,n)=>{const i=b(()=>new Promise((a,s)=>{Od.parse(t,e).then(o=>{a(o),r(o)},o=>{var l;q.error("Error parsing",o),(l=_s.parseError)==null||l.call(_s,o),s(o),n(o)})}),"performCall");i3.push(i),wj().catch(n)}),"parse"),kj=b((t,e,r)=>new Promise((n,i)=>{const a=b(()=>new Promise((s,o)=>{Od.render(t,e,r).then(l=>{s(l),n(l)},l=>{var u;q.error("Error parsing",l),(u=_s.parseError)==null||u.call(_s,l),o(l),i(l)})}),"performCall");i3.push(a),wj().catch(i)}),"render"),_s={startOnLoad:!0,mermaidAPI:Od,parse:m5e,render:kj,init:f5e,run:yj,registerExternalDiagrams:p5e,registerLayoutLoaders:Nq,initialize:xj,parseError:void 0,contentLoaded:bj,setParseErrorHandler:g5e,detectType:DA,registerIconPacks:KH},dD=_s;/*! Check if previously processed *//*!
 * Wait for document loaded before starting the execution
 */const v5e=({text:t,container:e})=>{const[r,n]=fe.useState(),[i,a]=fe.useState(),s=`${e||"d"+Date.now()}-mermaid`;fe.useEffect(()=>{dD.initialize({startOnLoad:!0,securityLevel:"loose",theme:"forest",logLevel:5})},[]);const o=fe.useCallback(l=>{l&&n(l)},[]);return fe.useEffect(()=>{var l;r&&i!=null&&i.svg&&(r.innerHTML=i.svg,(l=i.bindFunctions)==null||l.call(i,r))},[r,i]),fe.useEffect(()=>{(async()=>{try{const l=await dD.render(`mermaid_${e}`,t);a(l)}catch(l){console.error("Fehler beim Rendern des Diagramms: ",l)}})()},[e,t]),se.jsx("div",{id:s,ref:o},e)};var Tj={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},fD=yc.createContext&&yc.createContext(Tj),y5e=["attr","size","title"];function x5e(t,e){if(t==null)return{};var r=b5e(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function b5e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function a3(){return a3=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},a3.apply(this,arguments)}function pD(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function s3(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?pD(Object(r),!0).forEach(function(n){w5e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):pD(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function w5e(t,e,r){return e=k5e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function k5e(t){var e=T5e(t,"string");return typeof e=="symbol"?e:e+""}function T5e(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ej(t){return t&&t.map((e,r)=>yc.createElement(e.tag,s3({key:r},e.attr),Ej(e.child)))}function xi(t){return e=>yc.createElement(E5e,a3({attr:s3({},t.attr)},e),Ej(t.child))}function E5e(t){var e=r=>{var{attr:n,size:i,title:a}=t,s=x5e(t,y5e),o=i||r.size||"1em",l;return r.className&&(l=r.className),t.className&&(l=(l?l+" ":"")+t.className),yc.createElement("svg",a3({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},r.attr,n,s,{className:l,style:s3(s3({color:t.color||r.color},r.style),t.style),height:o,width:o,xmlns:"http://www.w3.org/2000/svg"}),a&&yc.createElement("title",null,a),t.children)};return fD!==void 0?yc.createElement(fD.Consumer,null,r=>e(r)):e(Tj)}function S5e(t){return xi({tag:"svg",attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M9.707 16.707a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414l6-6a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l4.293 4.293a1 1 0 010 1.414z",clipRule:"evenodd"},child:[]}]})(t)}function C5e(t){return xi({tag:"svg",attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M10.293 3.293a1 1 0 011.414 0l6 6a1 1 0 010 1.414l-6 6a1 1 0 01-1.414-1.414L14.586 11H3a1 1 0 110-2h11.586l-4.293-4.293a1 1 0 010-1.414z",clipRule:"evenodd"},child:[]}]})(t)}function A5e(t){return xi({tag:"svg",attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z",clipRule:"evenodd"},child:[]}]})(t)}function Sj(t){return xi({tag:"svg",attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"},child:[]}]})(t)}function _5e(t){return xi({tag:"svg",attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z",clipRule:"evenodd"},child:[]}]})(t)}function L5e(t){return xi({tag:"svg",attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"},child:[]}]})(t)}function N5e(t){return xi({tag:"svg",attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"},child:[]}]})(t)}function Cj(t){return xi({tag:"svg",attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"},child:[]}]})(t)}function Aj(t){return xi({tag:"svg",attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 9l-7 7-7-7"},child:[]}]})(t)}function R5e(t){return xi({tag:"svg",attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 19l-7-7 7-7"},child:[]}]})(t)}function _j(t){return xi({tag:"svg",attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 5l7 7-7 7"},child:[]}]})(t)}function M5e(t){return xi({tag:"svg",attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 15l7-7 7 7"},child:[]}]})(t)}function I5e(t){return xi({tag:"svg",attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"},child:[]}]})(t)}const D_="-";function D5e(t){const e=P5e(t),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=t;function i(s){const o=s.split(D_);return o[0]===""&&o.length!==1&&o.shift(),Lj(o,e)||O5e(s)}function a(s,o){const l=r[s]||[];return o&&n[s]?[...l,...n[s]]:l}return{getClassGroupId:i,getConflictingClassGroupIds:a}}function Lj(t,e){var s;if(t.length===0)return e.classGroupId;const r=t[0],n=e.nextPart.get(r),i=n?Lj(t.slice(1),n):void 0;if(i)return i;if(e.validators.length===0)return;const a=t.join(D_);return(s=e.validators.find(({validator:o})=>o(a)))==null?void 0:s.classGroupId}const gD=/^\[(.+)\]$/;function O5e(t){if(gD.test(t)){const e=gD.exec(t)[1],r=e==null?void 0:e.substring(0,e.indexOf(":"));if(r)return"arbitrary.."+r}}function P5e(t){const{theme:e,prefix:r}=t,n={nextPart:new Map,validators:[]};return B5e(Object.entries(t.classGroups),r).forEach(([a,s])=>{LS(s,n,a,e)}),n}function LS(t,e,r,n){t.forEach(i=>{if(typeof i=="string"){const a=i===""?e:mD(e,i);a.classGroupId=r;return}if(typeof i=="function"){if(F5e(i)){LS(i(n),e,r,n);return}e.validators.push({validator:i,classGroupId:r});return}Object.entries(i).forEach(([a,s])=>{LS(s,mD(e,a),r,n)})})}function mD(t,e){let r=t;return e.split(D_).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r}function F5e(t){return t.isThemeGetter}function B5e(t,e){return e?t.map(([r,n])=>{const i=n.map(a=>typeof a=="string"?e+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(([s,o])=>[e+s,o])):a);return[r,i]}):t}function $5e(t){if(t<1)return{get:()=>{},set:()=>{}};let e=0,r=new Map,n=new Map;function i(a,s){r.set(a,s),e++,e>t&&(e=0,n=r,r=new Map)}return{get(a){let s=r.get(a);if(s!==void 0)return s;if((s=n.get(a))!==void 0)return i(a,s),s},set(a,s){r.has(a)?r.set(a,s):i(a,s)}}}const Nj="!";function z5e(t){const e=t.separator,r=e.length===1,n=e[0],i=e.length;return function(s){const o=[];let l=0,u=0,h;for(let m=0;m<s.length;m++){let y=s[m];if(l===0){if(y===n&&(r||s.slice(m,m+i)===e)){o.push(s.slice(u,m)),u=m+i;continue}if(y==="/"){h=m;continue}}y==="["?l++:y==="]"&&l--}const d=o.length===0?s:s.substring(u),p=d.startsWith(Nj),f=p?d.substring(1):d,g=h&&h>u?h-u:void 0;return{modifiers:o,hasImportantModifier:p,baseClassName:f,maybePostfixModifierPosition:g}}}function U5e(t){if(t.length<=1)return t;const e=[];let r=[];return t.forEach(n=>{n[0]==="["?(e.push(...r.sort(),n),r=[]):r.push(n)}),e.push(...r.sort()),e}function V5e(t){return{cache:$5e(t.cacheSize),splitModifiers:z5e(t),...D5e(t)}}const G5e=/\s+/;function H5e(t,e){const{splitModifiers:r,getClassGroupId:n,getConflictingClassGroupIds:i}=e,a=new Set;return t.trim().split(G5e).map(s=>{const{modifiers:o,hasImportantModifier:l,baseClassName:u,maybePostfixModifierPosition:h}=r(s);let d=n(h?u.substring(0,h):u),p=!!h;if(!d){if(!h)return{isTailwindClass:!1,originalClassName:s};if(d=n(u),!d)return{isTailwindClass:!1,originalClassName:s};p=!1}const f=U5e(o).join(":");return{isTailwindClass:!0,modifierId:l?f+Nj:f,classGroupId:d,originalClassName:s,hasPostfixModifier:p}}).reverse().filter(s=>{if(!s.isTailwindClass)return!0;const{modifierId:o,classGroupId:l,hasPostfixModifier:u}=s,h=o+l;return a.has(h)?!1:(a.add(h),i(l,u).forEach(d=>a.add(o+d)),!0)}).reverse().map(s=>s.originalClassName).join(" ")}function W5e(){let t=0,e,r,n="";for(;t<arguments.length;)(e=arguments[t++])&&(r=Rj(e))&&(n&&(n+=" "),n+=r);return n}function Rj(t){if(typeof t=="string")return t;let e,r="";for(let n=0;n<t.length;n++)t[n]&&(e=Rj(t[n]))&&(r&&(r+=" "),r+=e);return r}function Y5e(t,...e){let r,n,i,a=s;function s(l){const u=e.reduce((h,d)=>d(h),t());return r=V5e(u),n=r.cache.get,i=r.cache.set,a=o,o(l)}function o(l){const u=n(l);if(u)return u;const h=H5e(l,r);return i(l,h),h}return function(){return a(W5e.apply(null,arguments))}}function ln(t){const e=r=>r[t]||[];return e.isThemeGetter=!0,e}const Mj=/^\[(?:([a-z-]+):)?(.+)\]$/i,q5e=/^\d+\/\d+$/,j5e=new Set(["px","full","screen"]),X5e=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,K5e=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Q5e=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Z5e=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,J5e=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/;function Xl(t){return od(t)||j5e.has(t)||q5e.test(t)}function su(t){return Ng(t,"length",owe)}function od(t){return!!t&&!Number.isNaN(Number(t))}function ix(t){return Ng(t,"number",od)}function R1(t){return!!t&&Number.isInteger(Number(t))}function ewe(t){return t.endsWith("%")&&od(t.slice(0,-1))}function or(t){return Mj.test(t)}function ou(t){return X5e.test(t)}const twe=new Set(["length","size","percentage"]);function rwe(t){return Ng(t,twe,Ij)}function nwe(t){return Ng(t,"position",Ij)}const iwe=new Set(["image","url"]);function awe(t){return Ng(t,iwe,cwe)}function swe(t){return Ng(t,"",lwe)}function M1(){return!0}function Ng(t,e,r){const n=Mj.exec(t);return n?n[1]?typeof e=="string"?n[1]===e:e.has(n[1]):r(n[2]):!1}function owe(t){return K5e.test(t)&&!Q5e.test(t)}function Ij(){return!1}function lwe(t){return Z5e.test(t)}function cwe(t){return J5e.test(t)}function uwe(){const t=ln("colors"),e=ln("spacing"),r=ln("blur"),n=ln("brightness"),i=ln("borderColor"),a=ln("borderRadius"),s=ln("borderSpacing"),o=ln("borderWidth"),l=ln("contrast"),u=ln("grayscale"),h=ln("hueRotate"),d=ln("invert"),p=ln("gap"),f=ln("gradientColorStops"),g=ln("gradientColorStopPositions"),m=ln("inset"),y=ln("margin"),v=ln("opacity"),x=ln("padding"),w=ln("saturate"),k=ln("scale"),E=ln("sepia"),_=ln("skew"),S=ln("space"),R=ln("translate"),C=()=>["auto","contain","none"],L=()=>["auto","hidden","clip","visible","scroll"],A=()=>["auto",or,e],N=()=>[or,e],F=()=>["",Xl,su],T=()=>["auto",od,or],D=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],M=()=>["solid","dashed","dotted","double","none"],O=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],I=()=>["start","end","center","between","around","evenly","stretch"],P=()=>["","0",or],B=()=>["auto","avoid","all","avoid-page","page","left","right","column"],$=()=>[od,ix],V=()=>[od,or];return{cacheSize:500,separator:":",theme:{colors:[M1],spacing:[Xl,su],blur:["none","",ou,or],brightness:$(),borderColor:[t],borderRadius:["none","","full",ou,or],borderSpacing:N(),borderWidth:F(),contrast:$(),grayscale:P(),hueRotate:V(),invert:P(),gap:N(),gradientColorStops:[t],gradientColorStopPositions:[ewe,su],inset:A(),margin:A(),opacity:$(),padding:N(),saturate:$(),scale:$(),sepia:P(),skew:V(),space:N(),translate:N()},classGroups:{aspect:[{aspect:["auto","square","video",or]}],container:["container"],columns:[{columns:[ou]}],"break-after":[{"break-after":B()}],"break-before":[{"break-before":B()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...D(),or]}],overflow:[{overflow:L()}],"overflow-x":[{"overflow-x":L()}],"overflow-y":[{"overflow-y":L()}],overscroll:[{overscroll:C()}],"overscroll-x":[{"overscroll-x":C()}],"overscroll-y":[{"overscroll-y":C()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[m]}],"inset-x":[{"inset-x":[m]}],"inset-y":[{"inset-y":[m]}],start:[{start:[m]}],end:[{end:[m]}],top:[{top:[m]}],right:[{right:[m]}],bottom:[{bottom:[m]}],left:[{left:[m]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",R1,or]}],basis:[{basis:A()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",or]}],grow:[{grow:P()}],shrink:[{shrink:P()}],order:[{order:["first","last","none",R1,or]}],"grid-cols":[{"grid-cols":[M1]}],"col-start-end":[{col:["auto",{span:["full",R1,or]},or]}],"col-start":[{"col-start":T()}],"col-end":[{"col-end":T()}],"grid-rows":[{"grid-rows":[M1]}],"row-start-end":[{row:["auto",{span:[R1,or]},or]}],"row-start":[{"row-start":T()}],"row-end":[{"row-end":T()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",or]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",or]}],gap:[{gap:[p]}],"gap-x":[{"gap-x":[p]}],"gap-y":[{"gap-y":[p]}],"justify-content":[{justify:["normal",...I()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...I(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...I(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[x]}],px:[{px:[x]}],py:[{py:[x]}],ps:[{ps:[x]}],pe:[{pe:[x]}],pt:[{pt:[x]}],pr:[{pr:[x]}],pb:[{pb:[x]}],pl:[{pl:[x]}],m:[{m:[y]}],mx:[{mx:[y]}],my:[{my:[y]}],ms:[{ms:[y]}],me:[{me:[y]}],mt:[{mt:[y]}],mr:[{mr:[y]}],mb:[{mb:[y]}],ml:[{ml:[y]}],"space-x":[{"space-x":[S]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[S]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",or,e]}],"min-w":[{"min-w":[or,e,"min","max","fit"]}],"max-w":[{"max-w":[or,e,"none","full","min","max","fit","prose",{screen:[ou]},ou]}],h:[{h:[or,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[or,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[or,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[or,e,"auto","min","max","fit"]}],"font-size":[{text:["base",ou,su]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",ix]}],"font-family":[{font:[M1]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",or]}],"line-clamp":[{"line-clamp":["none",od,ix]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Xl,or]}],"list-image":[{"list-image":["none",or]}],"list-style-type":[{list:["none","disc","decimal",or]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[v]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[v]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...M(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Xl,su]}],"underline-offset":[{"underline-offset":["auto",Xl,or]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:N()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",or]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",or]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[v]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...D(),nwe]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",rwe]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},awe]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[g]}],"gradient-via-pos":[{via:[g]}],"gradient-to-pos":[{to:[g]}],"gradient-from":[{from:[f]}],"gradient-via":[{via:[f]}],"gradient-to":[{to:[f]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[o]}],"border-w-x":[{"border-x":[o]}],"border-w-y":[{"border-y":[o]}],"border-w-s":[{"border-s":[o]}],"border-w-e":[{"border-e":[o]}],"border-w-t":[{"border-t":[o]}],"border-w-r":[{"border-r":[o]}],"border-w-b":[{"border-b":[o]}],"border-w-l":[{"border-l":[o]}],"border-opacity":[{"border-opacity":[v]}],"border-style":[{border:[...M(),"hidden"]}],"divide-x":[{"divide-x":[o]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[o]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[v]}],"divide-style":[{divide:M()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...M()]}],"outline-offset":[{"outline-offset":[Xl,or]}],"outline-w":[{outline:[Xl,su]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:F()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[v]}],"ring-offset-w":[{"ring-offset":[Xl,su]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",ou,swe]}],"shadow-color":[{shadow:[M1]}],opacity:[{opacity:[v]}],"mix-blend":[{"mix-blend":[...O(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":O()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",ou,or]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[h]}],invert:[{invert:[d]}],saturate:[{saturate:[w]}],sepia:[{sepia:[E]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[h]}],"backdrop-invert":[{"backdrop-invert":[d]}],"backdrop-opacity":[{"backdrop-opacity":[v]}],"backdrop-saturate":[{"backdrop-saturate":[w]}],"backdrop-sepia":[{"backdrop-sepia":[E]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[s]}],"border-spacing-x":[{"border-spacing-x":[s]}],"border-spacing-y":[{"border-spacing-y":[s]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",or]}],duration:[{duration:V()}],ease:[{ease:["linear","in","out","in-out",or]}],delay:[{delay:V()}],animate:[{animate:["none","spin","ping","pulse","bounce",or]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[k]}],"scale-x":[{"scale-x":[k]}],"scale-y":[{"scale-y":[k]}],rotate:[{rotate:[R1,or]}],"translate-x":[{"translate-x":[R]}],"translate-y":[{"translate-y":[R]}],"skew-x":[{"skew-x":[_]}],"skew-y":[{"skew-y":[_]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",or]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",or]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":N()}],"scroll-mx":[{"scroll-mx":N()}],"scroll-my":[{"scroll-my":N()}],"scroll-ms":[{"scroll-ms":N()}],"scroll-me":[{"scroll-me":N()}],"scroll-mt":[{"scroll-mt":N()}],"scroll-mr":[{"scroll-mr":N()}],"scroll-mb":[{"scroll-mb":N()}],"scroll-ml":[{"scroll-ml":N()}],"scroll-p":[{"scroll-p":N()}],"scroll-px":[{"scroll-px":N()}],"scroll-py":[{"scroll-py":N()}],"scroll-ps":[{"scroll-ps":N()}],"scroll-pe":[{"scroll-pe":N()}],"scroll-pt":[{"scroll-pt":N()}],"scroll-pr":[{"scroll-pr":N()}],"scroll-pb":[{"scroll-pb":N()}],"scroll-pl":[{"scroll-pl":N()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",or]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Xl,su,ix]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}}const ze=Y5e(uwe);function Uh(t){return t!==null&&typeof t=="object"&&t.constructor===Object}function Sv(t){if(!Uh(t))return t;const e={};for(const r in t)e[r]=Sv(t[r]);return e}function it(t,e){if(Uh(e)&&Object.keys(e).length===0)return Sv({...t,...e});const r={...t,...e};if(Uh(e)&&Uh(t))for(const n in e)Uh(e[n])&&n in t&&Uh(t[n])?r[n]=it(t[n],e[n]):r[n]=Uh(e[n])?Sv(e[n]):e[n];return r}const hwe={root:{base:"divide-y divide-gray-200 border-gray-200 dark:divide-gray-700 dark:border-gray-700",flush:{off:"rounded-lg border",on:"border-b"}},content:{base:"p-5 first:rounded-t-lg last:rounded-b-lg dark:bg-gray-900"},title:{arrow:{base:"h-6 w-6 shrink-0",open:{off:"",on:"rotate-180"}},base:"flex w-full items-center justify-between p-5 text-left font-medium text-gray-500 first:rounded-t-lg last:rounded-b-lg dark:text-gray-400",flush:{off:"hover:bg-gray-100 focus:ring-4 focus:ring-gray-200 dark:hover:bg-gray-800 dark:focus:ring-gray-800",on:"bg-transparent dark:bg-transparent"},heading:"",open:{off:"",on:"bg-gray-100 text-gray-900 dark:bg-gray-800 dark:text-white"}}},dwe={base:"flex flex-col gap-2 p-4 text-sm",borderAccent:"border-t-4",closeButton:{base:"-m-1.5 ml-auto inline-flex h-8 w-8 rounded-lg p-1.5 focus:ring-2",icon:"h-5 w-5",color:{info:"bg-cyan-100 text-cyan-500 hover:bg-cyan-200 focus:ring-cyan-400 dark:bg-cyan-200 dark:text-cyan-600 dark:hover:bg-cyan-300",gray:"bg-gray-100 text-gray-500 hover:bg-gray-200 focus:ring-gray-400 dark:bg-gray-700 dark:text-gray-300 dark:hover:bg-gray-800 dark:hover:text-white",failure:"bg-red-100 text-red-500 hover:bg-red-200 focus:ring-red-400 dark:bg-red-200 dark:text-red-600 dark:hover:bg-red-300",success:"bg-green-100 text-green-500 hover:bg-green-200 focus:ring-green-400 dark:bg-green-200 dark:text-green-600 dark:hover:bg-green-300",warning:"bg-yellow-100 text-yellow-500 hover:bg-yellow-200 focus:ring-yellow-400 dark:bg-yellow-200 dark:text-yellow-600 dark:hover:bg-yellow-300",red:"bg-red-100 text-red-500 hover:bg-red-200 focus:ring-red-400 dark:bg-red-200 dark:text-red-600 dark:hover:bg-red-300",green:"bg-green-100 text-green-500 hover:bg-green-200 focus:ring-green-400 dark:bg-green-200 dark:text-green-600 dark:hover:bg-green-300",yellow:"bg-yellow-100 text-yellow-500 hover:bg-yellow-200 focus:ring-yellow-400 dark:bg-yellow-200 dark:text-yellow-600 dark:hover:bg-yellow-300",blue:"bg-blue-100 text-blue-500 hover:bg-blue-200 focus:ring-blue-400 dark:bg-blue-200 dark:text-blue-600 dark:hover:bg-blue-300",cyan:"bg-cyan-100 text-cyan-500 hover:bg-cyan-200 focus:ring-cyan-400 dark:bg-cyan-200 dark:text-cyan-600 dark:hover:bg-cyan-300",pink:"bg-pink-100 text-pink-500 hover:bg-pink-200 focus:ring-pink-400 dark:bg-pink-200 dark:text-pink-600 dark:hover:bg-pink-300",lime:"bg-lime-100 text-lime-500 hover:bg-lime-200 focus:ring-lime-400 dark:bg-lime-200 dark:text-lime-600 dark:hover:bg-lime-300",dark:"bg-gray-100 text-gray-500 hover:bg-gray-200 focus:ring-gray-400 dark:bg-gray-200 dark:text-gray-600 dark:hover:bg-gray-300",indigo:"bg-indigo-100 text-indigo-500 hover:bg-indigo-200 focus:ring-indigo-400 dark:bg-indigo-200 dark:text-indigo-600 dark:hover:bg-indigo-300",purple:"bg-purple-100 text-purple-500 hover:bg-purple-200 focus:ring-purple-400 dark:bg-purple-200 dark:text-purple-600 dark:hover:bg-purple-300",teal:"bg-teal-100 text-teal-500 hover:bg-teal-200 focus:ring-teal-400 dark:bg-teal-200 dark:text-teal-600 dark:hover:bg-teal-300",light:"bg-gray-50 text-gray-500 hover:bg-gray-100 focus:ring-gray-200 dark:bg-gray-600 dark:text-gray-200 dark:hover:bg-gray-700 dark:hover:text-white"}},color:{info:"border-cyan-500 bg-cyan-100 text-cyan-700 dark:bg-cyan-200 dark:text-cyan-800",gray:"border-gray-500 bg-gray-100 text-gray-700 dark:bg-gray-700 dark:text-gray-300",failure:"border-red-500 bg-red-100 text-red-700 dark:bg-red-200 dark:text-red-800",success:"border-green-500 bg-green-100 text-green-700 dark:bg-green-200 dark:text-green-800",warning:"border-yellow-500 bg-yellow-100 text-yellow-700 dark:bg-yellow-200 dark:text-yellow-800",red:"border-red-500 bg-red-100 text-red-700 dark:bg-red-200 dark:text-red-800",green:"border-green-500 bg-green-100 text-green-700 dark:bg-green-200 dark:text-green-800",yellow:"border-yellow-500 bg-yellow-100 text-yellow-700 dark:bg-yellow-200 dark:text-yellow-800",blue:"border-blue-500 bg-blue-100 text-blue-700 dark:bg-blue-200 dark:text-blue-800",cyan:"border-cyan-500 bg-cyan-100 text-cyan-700 dark:bg-cyan-200 dark:text-cyan-800",pink:"border-pink-500 bg-pink-100 text-pink-700 dark:bg-pink-200 dark:text-pink-800",lime:"border-lime-500 bg-lime-100 text-lime-700 dark:bg-lime-200 dark:text-lime-800",dark:"border-gray-600 bg-gray-800 text-gray-200 dark:bg-gray-900 dark:text-gray-300",indigo:"border-indigo-500 bg-indigo-100 text-indigo-700 dark:bg-indigo-200 dark:text-indigo-800",purple:"border-purple-500 bg-purple-100 text-purple-700 dark:bg-purple-200 dark:text-purple-800",teal:"border-teal-500 bg-teal-100 text-teal-700 dark:bg-teal-200 dark:text-teal-800",light:"border-gray-400 bg-gray-50 text-gray-600 dark:bg-gray-500 dark:text-gray-200"},icon:"mr-3 inline h-5 w-5 flex-shrink-0",rounded:"rounded-lg",wrapper:"flex items-center"},fwe={root:{base:"flex items-center justify-center space-x-4 rounded",bordered:"p-1 ring-2",rounded:"rounded-full",color:{dark:"ring-gray-800 dark:ring-gray-800",failure:"ring-red-500 dark:ring-red-700",gray:"ring-gray-500 dark:ring-gray-400",info:"ring-cyan-400 dark:ring-cyan-800",light:"ring-gray-300 dark:ring-gray-500",purple:"ring-purple-500 dark:ring-purple-600",success:"ring-green-500 dark:ring-green-500",warning:"ring-yellow-300 dark:ring-yellow-500",pink:"ring-pink-500 dark:ring-pink-500"},img:{base:"rounded",off:"relative overflow-hidden bg-gray-100 dark:bg-gray-600",on:"",placeholder:"absolute -bottom-1 h-auto w-auto text-gray-400"},size:{xs:"h-6 w-6",sm:"h-8 w-8",md:"h-10 w-10",lg:"h-20 w-20",xl:"h-36 w-36"},stacked:"ring-2 ring-gray-300 dark:ring-gray-500",statusPosition:{"bottom-left":"-bottom-1 -left-1","bottom-center":"-bottom-1","bottom-right":"-bottom-1 -right-1","top-left":"-left-1 -top-1","top-center":"-top-1","top-right":"-right-1 -top-1","center-right":"-right-1",center:"","center-left":"-left-1"},status:{away:"bg-yellow-400",base:"absolute h-3.5 w-3.5 rounded-full border-2 border-white dark:border-gray-800",busy:"bg-red-400",offline:"bg-gray-400",online:"bg-green-400"},initials:{text:"font-medium text-gray-600 dark:text-gray-300",base:"relative inline-flex items-center justify-center overflow-hidden bg-gray-100 dark:bg-gray-600"}},group:{base:"flex -space-x-4"},groupCounter:{base:"relative flex h-10 w-10 items-center justify-center rounded-full bg-gray-700 text-xs font-medium text-white ring-2 ring-gray-300 hover:bg-gray-600 dark:ring-gray-500"}},pwe={root:{base:"flex h-fit items-center gap-1 font-semibold",color:{info:"bg-cyan-100 text-cyan-800 group-hover:bg-cyan-200 dark:bg-cyan-200 dark:text-cyan-800 dark:group-hover:bg-cyan-300",gray:"bg-gray-100 text-gray-800 group-hover:bg-gray-200 dark:bg-gray-700 dark:text-gray-300 dark:group-hover:bg-gray-600",failure:"bg-red-100 text-red-800 group-hover:bg-red-200 dark:bg-red-200 dark:text-red-900 dark:group-hover:bg-red-300",success:"bg-green-100 text-green-800 group-hover:bg-green-200 dark:bg-green-200 dark:text-green-900 dark:group-hover:bg-green-300",warning:"bg-yellow-100 text-yellow-800 group-hover:bg-yellow-200 dark:bg-yellow-200 dark:text-yellow-900 dark:group-hover:bg-yellow-300",indigo:"bg-indigo-100 text-indigo-800 group-hover:bg-indigo-200 dark:bg-indigo-200 dark:text-indigo-900 dark:group-hover:bg-indigo-300",purple:"bg-purple-100 text-purple-800 group-hover:bg-purple-200 dark:bg-purple-200 dark:text-purple-900 dark:group-hover:bg-purple-300",pink:"bg-pink-100 text-pink-800 group-hover:bg-pink-200 dark:bg-pink-200 dark:text-pink-900 dark:group-hover:bg-pink-300",blue:"bg-blue-100 text-blue-800 group-hover:bg-blue-200 dark:bg-blue-200 dark:text-blue-900 dark:group-hover:bg-blue-300",cyan:"bg-cyan-100 text-cyan-800 group-hover:bg-cyan-200 dark:bg-cyan-200 dark:text-cyan-900 dark:group-hover:bg-cyan-300",dark:"bg-gray-600 text-gray-100 group-hover:bg-gray-500 dark:bg-gray-900 dark:text-gray-200 dark:group-hover:bg-gray-700",light:"bg-gray-200 text-gray-800 group-hover:bg-gray-300 dark:bg-gray-400 dark:text-gray-900 dark:group-hover:bg-gray-500",green:"bg-green-100 text-green-800 group-hover:bg-green-200 dark:bg-green-200 dark:text-green-900 dark:group-hover:bg-green-300",lime:"bg-lime-100 text-lime-800 group-hover:bg-lime-200 dark:bg-lime-200 dark:text-lime-900 dark:group-hover:bg-lime-300",red:"bg-red-100 text-red-800 group-hover:bg-red-200 dark:bg-red-200 dark:text-red-900 dark:group-hover:bg-red-300",teal:"bg-teal-100 text-teal-800 group-hover:bg-teal-200 dark:bg-teal-200 dark:text-teal-900 dark:group-hover:bg-teal-300",yellow:"bg-yellow-100 text-yellow-800 group-hover:bg-yellow-200 dark:bg-yellow-200 dark:text-yellow-900 dark:group-hover:bg-yellow-300"},href:"group",size:{xs:"p-1 text-xs",sm:"p-1.5 text-sm"}},icon:{off:"rounded px-2 py-0.5",on:"rounded-full p-1.5",size:{xs:"h-3 w-3",sm:"h-3.5 w-3.5"}}},gwe={root:{base:"text-xl font-semibold italic text-gray-900 dark:text-white"}},mwe={root:{base:"",list:"flex items-center"},item:{base:"group flex items-center",chevron:"mx-1 h-4 w-4 text-gray-400 group-first:hidden md:mx-2",href:{off:"flex items-center text-sm font-medium text-gray-500 dark:text-gray-400",on:"flex items-center text-sm font-medium text-gray-700 hover:text-gray-900 dark:text-gray-400 dark:hover:text-white"},icon:"mr-2 h-4 w-4"}},vwe={base:"group relative flex items-stretch justify-center p-0.5 text-center font-medium transition-[color,background-color,border-color,text-decoration-color,fill,stroke,box-shadow] focus:z-10 focus:outline-none",fullSized:"w-full",color:{dark:"border border-transparent bg-gray-800 text-white focus:ring-4 focus:ring-gray-300 enabled:hover:bg-gray-900 dark:border-gray-700 dark:bg-gray-800 dark:focus:ring-gray-800 dark:enabled:hover:bg-gray-700",failure:"border border-transparent bg-red-700 text-white focus:ring-4 focus:ring-red-300 enabled:hover:bg-red-800 dark:bg-red-600 dark:focus:ring-red-900 dark:enabled:hover:bg-red-700",gray:":ring-cyan-700 border border-gray-200 bg-white text-gray-900 focus:text-cyan-700 focus:ring-4 enabled:hover:bg-gray-100 enabled:hover:text-cyan-700 dark:border-gray-600 dark:bg-transparent dark:text-gray-400 dark:enabled:hover:bg-gray-700 dark:enabled:hover:text-white",info:"border border-transparent bg-cyan-700 text-white focus:ring-4 focus:ring-cyan-300 enabled:hover:bg-cyan-800 dark:bg-cyan-600 dark:focus:ring-cyan-800 dark:enabled:hover:bg-cyan-700",light:"border border-gray-300 bg-white text-gray-900 focus:ring-4 focus:ring-cyan-300 enabled:hover:bg-gray-100 dark:border-gray-600 dark:bg-gray-600 dark:text-white dark:focus:ring-gray-700 dark:enabled:hover:border-gray-700 dark:enabled:hover:bg-gray-700",purple:"border border-transparent bg-purple-700 text-white focus:ring-4 focus:ring-purple-300 enabled:hover:bg-purple-800 dark:bg-purple-600 dark:focus:ring-purple-900 dark:enabled:hover:bg-purple-700",success:"border border-transparent bg-green-700 text-white focus:ring-4 focus:ring-green-300 enabled:hover:bg-green-800 dark:bg-green-600 dark:focus:ring-green-800 dark:enabled:hover:bg-green-700",warning:"border border-transparent bg-yellow-400 text-white focus:ring-4 focus:ring-yellow-300 enabled:hover:bg-yellow-500 dark:focus:ring-yellow-900",blue:"border border-transparent bg-blue-700 text-white focus:ring-4 focus:ring-blue-300 enabled:hover:bg-blue-800 dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800",cyan:"border border-cyan-300 bg-white text-cyan-900 focus:ring-4 focus:ring-cyan-300 enabled:hover:bg-cyan-100 dark:border-cyan-600 dark:bg-cyan-600 dark:text-white dark:focus:ring-cyan-700 dark:enabled:hover:border-cyan-700 dark:enabled:hover:bg-cyan-700",green:"border border-green-300 bg-white text-green-900 focus:ring-4 focus:ring-green-300 enabled:hover:bg-green-100 dark:border-green-600 dark:bg-green-600 dark:text-white dark:focus:ring-green-700 dark:enabled:hover:border-green-700 dark:enabled:hover:bg-green-700",indigo:"border border-indigo-300 bg-white text-indigo-900 focus:ring-4 focus:ring-indigo-300 enabled:hover:bg-indigo-100 dark:border-indigo-600 dark:bg-indigo-600 dark:text-white dark:focus:ring-indigo-700 dark:enabled:hover:border-indigo-700 dark:enabled:hover:bg-indigo-700",lime:"border border-lime-300 bg-white text-lime-900 focus:ring-4 focus:ring-lime-300 enabled:hover:bg-lime-100 dark:border-lime-600 dark:bg-lime-600 dark:text-white dark:focus:ring-lime-700 dark:enabled:hover:border-lime-700 dark:enabled:hover:bg-lime-700",pink:"border border-pink-300 bg-white text-pink-900 focus:ring-4 focus:ring-pink-300 enabled:hover:bg-pink-100 dark:border-pink-600 dark:bg-pink-600 dark:text-white dark:focus:ring-pink-700 dark:enabled:hover:border-pink-700 dark:enabled:hover:bg-pink-700",red:"border border-red-300 bg-white text-red-900 focus:ring-4 focus:ring-red-300 enabled:hover:bg-red-100 dark:border-red-600 dark:bg-red-600 dark:text-white dark:focus:ring-red-700 dark:enabled:hover:border-red-700 dark:enabled:hover:bg-red-700",teal:"border border-teal-300 bg-white text-teal-900 focus:ring-4 focus:ring-teal-300 enabled:hover:bg-teal-100 dark:border-teal-600 dark:bg-teal-600 dark:text-white dark:focus:ring-teal-700 dark:enabled:hover:border-teal-700 dark:enabled:hover:bg-teal-700",yellow:"border border-yellow-300 bg-white text-yellow-900 focus:ring-4 focus:ring-yellow-300 enabled:hover:bg-yellow-100 dark:border-yellow-600 dark:bg-yellow-600 dark:text-white dark:focus:ring-yellow-700 dark:enabled:hover:border-yellow-700 dark:enabled:hover:bg-yellow-700"},disabled:"cursor-not-allowed opacity-50",isProcessing:"cursor-wait",spinnerSlot:"absolute top-0 flex h-full items-center",spinnerLeftPosition:{xs:"left-2",sm:"left-3",md:"left-4",lg:"left-5",xl:"left-6"},gradient:{cyan:"bg-gradient-to-r from-cyan-400 via-cyan-500 to-cyan-600 text-white focus:ring-4 focus:ring-cyan-300 enabled:hover:bg-gradient-to-br dark:focus:ring-cyan-800",failure:"bg-gradient-to-r from-red-400 via-red-500 to-red-600 text-white focus:ring-4 focus:ring-red-300 enabled:hover:bg-gradient-to-br dark:focus:ring-red-800",info:"bg-gradient-to-r from-cyan-500 via-cyan-600 to-cyan-700 text-white focus:ring-4 focus:ring-cyan-300 enabled:hover:bg-gradient-to-br dark:focus:ring-cyan-800",lime:"bg-gradient-to-r from-lime-200 via-lime-400 to-lime-500 text-gray-900 focus:ring-4 focus:ring-lime-300 enabled:hover:bg-gradient-to-br dark:focus:ring-lime-800",pink:"bg-gradient-to-r from-pink-400 via-pink-500 to-pink-600 text-white focus:ring-4 focus:ring-pink-300 enabled:hover:bg-gradient-to-br dark:focus:ring-pink-800",purple:"bg-gradient-to-r from-purple-500 via-purple-600 to-purple-700 text-white focus:ring-4 focus:ring-purple-300 enabled:hover:bg-gradient-to-br dark:focus:ring-purple-800",success:"bg-gradient-to-r from-green-400 via-green-500 to-green-600 text-white focus:ring-4 focus:ring-green-300 enabled:hover:bg-gradient-to-br dark:focus:ring-green-800",teal:"bg-gradient-to-r from-teal-400 via-teal-500 to-teal-600 text-white focus:ring-4 focus:ring-teal-300 enabled:hover:bg-gradient-to-br dark:focus:ring-teal-800"},gradientDuoTone:{cyanToBlue:"bg-gradient-to-r from-cyan-500 to-cyan-500 text-white focus:ring-4 focus:ring-cyan-300 enabled:hover:bg-gradient-to-bl dark:focus:ring-cyan-800",greenToBlue:"bg-gradient-to-br from-green-400 to-cyan-600 text-white focus:ring-4 focus:ring-green-200 enabled:hover:bg-gradient-to-bl dark:focus:ring-green-800",pinkToOrange:"bg-gradient-to-br from-pink-500 to-orange-400 text-white focus:ring-4 focus:ring-pink-200 enabled:hover:bg-gradient-to-bl dark:focus:ring-pink-800",purpleToBlue:"bg-gradient-to-br from-purple-600 to-cyan-500 text-white focus:ring-4 focus:ring-cyan-300 enabled:hover:bg-gradient-to-bl dark:focus:ring-cyan-800",purpleToPink:"bg-gradient-to-r from-purple-500 to-pink-500 text-white focus:ring-4 focus:ring-purple-200 enabled:hover:bg-gradient-to-l dark:focus:ring-purple-800",redToYellow:"bg-gradient-to-r from-red-200 via-red-300 to-yellow-200 text-gray-900 focus:ring-4 focus:ring-red-100 enabled:hover:bg-gradient-to-bl dark:focus:ring-red-400",tealToLime:"bg-gradient-to-r from-teal-200 to-lime-200 text-gray-900 focus:ring-4 focus:ring-lime-200 enabled:hover:bg-gradient-to-l enabled:hover:from-teal-200 enabled:hover:to-lime-200 enabled:hover:text-gray-900 dark:focus:ring-teal-700"},inner:{base:"flex items-stretch transition-all duration-200",position:{none:"",start:"rounded-r-none",middle:"rounded-none",end:"rounded-l-none"},outline:"border border-transparent",isProcessingPadding:{xs:"pl-8",sm:"pl-10",md:"pl-12",lg:"pl-16",xl:"pl-20"}},label:"ml-2 inline-flex h-4 w-4 items-center justify-center rounded-full bg-cyan-200 text-xs font-semibold text-cyan-800",outline:{color:{gray:"border border-gray-900 dark:border-white",default:"border-0",light:""},off:"",on:"flex w-full justify-center bg-white text-gray-900 transition-all duration-75 ease-in group-enabled:group-hover:bg-opacity-0 group-enabled:group-hover:text-inherit dark:bg-gray-900 dark:text-white",pill:{off:"rounded-md",on:"rounded-full"}},pill:{off:"rounded-lg",on:"rounded-full"},size:{xs:"px-2 py-1 text-xs",sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-sm",lg:"px-5 py-2.5 text-base",xl:"px-6 py-3 text-base"}},ywe={base:"inline-flex",position:{none:"",start:"rounded-r-none focus:ring-2",middle:"rounded-none border-l-0 pl-0 focus:ring-2",end:"rounded-l-none border-l-0 pl-0 focus:ring-2"}},xwe={root:{base:"flex rounded-lg border border-gray-200 bg-white shadow-md dark:border-gray-700 dark:bg-gray-800",children:"flex h-full flex-col justify-center gap-4 p-6",horizontal:{off:"flex-col",on:"flex-col md:max-w-xl md:flex-row"},href:"hover:bg-gray-100 dark:hover:bg-gray-700"},img:{base:"",horizontal:{off:"rounded-t-lg",on:"h-96 w-full rounded-t-lg object-cover md:h-auto md:w-48 md:rounded-none md:rounded-l-lg"}}},bwe={root:{base:"relative h-full w-full",leftControl:"absolute left-0 top-0 flex h-full items-center justify-center px-4 focus:outline-none",rightControl:"absolute right-0 top-0 flex h-full items-center justify-center px-4 focus:outline-none"},indicators:{active:{off:"bg-white/50 hover:bg-white dark:bg-gray-800/50 dark:hover:bg-gray-800",on:"bg-white dark:bg-gray-800"},base:"h-3 w-3 rounded-full",wrapper:"absolute bottom-5 left-1/2 flex -translate-x-1/2 space-x-3"},item:{base:"absolute left-1/2 top-1/2 block w-full -translate-x-1/2 -translate-y-1/2",wrapper:{off:"w-full flex-shrink-0 transform cursor-default snap-center",on:"w-full flex-shrink-0 transform cursor-grab snap-center"}},control:{base:"inline-flex h-8 w-8 items-center justify-center rounded-full bg-white/30 group-hover:bg-white/50 group-focus:outline-none group-focus:ring-4 group-focus:ring-white dark:bg-gray-800/30 dark:group-hover:bg-gray-800/60 dark:group-focus:ring-gray-800/70 sm:h-10 sm:w-10",icon:"h-5 w-5 text-white dark:text-gray-800 sm:h-6 sm:w-6"},scrollContainer:{base:"flex h-full snap-mandatory overflow-y-hidden overflow-x-scroll scroll-smooth rounded-lg",snap:"snap-x"}},wwe={root:{base:"h-4 w-4 rounded border border-gray-300 bg-gray-100 focus:ring-2 dark:border-gray-600 dark:bg-gray-700",color:{default:"text-cyan-600 focus:ring-cyan-600 dark:ring-offset-gray-800 dark:focus:ring-cyan-600",dark:"text-gray-800 focus:ring-gray-800 dark:ring-offset-gray-800 dark:focus:ring-gray-800",failure:"text-red-900 focus:ring-red-900 dark:ring-offset-red-900 dark:focus:ring-red-900",gray:"text-gray-900 focus:ring-gray-900 dark:ring-offset-gray-900 dark:focus:ring-gray-900",info:"text-cyan-800 focus:ring-cyan-800 dark:ring-offset-gray-800 dark:focus:ring-cyan-800",light:"text-gray-900 focus:ring-gray-900 dark:ring-offset-gray-900 dark:focus:ring-gray-900",purple:"text-purple-600 focus:ring-purple-600 dark:ring-offset-purple-600 dark:focus:ring-purple-600",success:"text-green-800 focus:ring-green-800 dark:ring-offset-green-800 dark:focus:ring-green-800",warning:"text-yellow-400 focus:ring-yellow-400 dark:ring-offset-yellow-400 dark:focus:ring-yellow-400",blue:"text-blue-700 focus:ring-blue-600 dark:ring-offset-blue-700 dark:focus:ring-blue-700",cyan:"text-cyan-600 focus:ring-cyan-600 dark:ring-offset-cyan-600 dark:focus:ring-cyan-600",green:"text-green-600 focus:ring-green-600 dark:ring-offset-green-600 dark:focus:ring-green-600",indigo:"text-indigo-700 focus:ring-indigo-700 dark:ring-offset-indigo-700 dark:focus:ring-indigo-700",lime:"text-lime-700 focus:ring-lime-700 dark:ring-offset-lime-700 dark:focus:ring-lime-700",pink:"text-pink-600 focus:ring-pink-600 dark:ring-offset-pink-600 dark:focus:ring-pink-600",red:"text-red-600 focus:ring-red-600 dark:ring-offset-red-600 dark:focus:ring-red-600",teal:"text-teal-600 focus:ring-teal-600 dark:ring-offset-teal-600 dark:focus:ring-teal-600",yellow:"text-yellow-400 focus:ring-yellow-400 dark:ring-offset-yellow-400 dark:focus:ring-yellow-400"}}},kwe={button:{base:"inline-flex w-full items-center justify-center rounded-lg bg-blue-700 px-5 py-3 hover:bg-blue-800 focus:outline-none focus:ring-4 focus:ring-blue-300 dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800",label:"text-center text-sm font-medium text-white sm:w-auto"},withIcon:{base:"absolute end-2 top-1/2 inline-flex -translate-y-1/2 items-center justify-center rounded-lg p-2 text-gray-500 hover:bg-gray-100 dark:text-gray-400 dark:hover:bg-gray-800",icon:{defaultIcon:"h-4 w-4",successIcon:"h-4 w-4 text-blue-700 dark:text-blue-500"}},withIconText:{base:"absolute end-2.5 top-1/2 inline-flex -translate-y-1/2 items-center justify-center rounded-lg border border-gray-200 bg-white px-2.5 py-2 text-gray-900 hover:bg-gray-100 dark:border-gray-600 dark:bg-gray-800 dark:text-gray-400 dark:hover:bg-gray-700",icon:{defaultIcon:"me-1.5 h-3 w-3",successIcon:"me-1.5 h-3 w-3 text-blue-700 dark:text-blue-500"},label:{base:"inline-flex items-center",defaultText:"text-xs font-semibold",successText:"text-xs font-semibold text-blue-700 dark:text-blue-500"}}},Twe={root:{base:"rounded-lg p-2.5 text-sm text-gray-500 hover:bg-gray-100 focus:outline-none focus:ring-4 focus:ring-gray-200 dark:text-gray-400 dark:hover:bg-gray-700 dark:focus:ring-gray-700",icon:"h-5 w-5"}},Ewe={root:{base:"relative"},popup:{root:{base:"absolute top-10 z-50 block pt-2",inline:"relative top-0 z-auto",inner:"inline-block rounded-lg bg-white p-4 shadow-lg dark:bg-gray-700"},header:{base:"",title:"px-2 py-3 text-center font-semibold text-gray-900 dark:text-white",selectors:{base:"mb-2 flex justify-between",button:{base:"rounded-lg bg-white px-5 py-2.5 text-sm font-semibold text-gray-900 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-gray-200 dark:bg-gray-700 dark:text-white dark:hover:bg-gray-600",prev:"",next:"",view:""}}},view:{base:"p-1"},footer:{base:"mt-2 flex space-x-2",button:{base:"w-full rounded-lg px-5 py-2 text-center text-sm font-medium focus:ring-4 focus:ring-cyan-300",today:"bg-cyan-700 text-white hover:bg-cyan-800 dark:bg-cyan-600 dark:hover:bg-cyan-700",clear:"border border-gray-300 bg-white text-gray-900 hover:bg-gray-100 dark:border-gray-600 dark:bg-gray-700 dark:text-white dark:hover:bg-gray-600"}}},views:{days:{header:{base:"mb-1 grid grid-cols-7",title:"h-6 text-center text-sm font-medium leading-6 text-gray-500 dark:text-gray-400"},items:{base:"grid w-64 grid-cols-7",item:{base:"block flex-1 cursor-pointer rounded-lg border-0 text-center text-sm font-semibold leading-9 text-gray-900 hover:bg-gray-100 dark:text-white dark:hover:bg-gray-600",selected:"bg-cyan-700 text-white hover:bg-cyan-600",disabled:"text-gray-500"}}},months:{items:{base:"grid w-64 grid-cols-4",item:{base:"block flex-1 cursor-pointer rounded-lg border-0 text-center text-sm font-semibold leading-9 text-gray-900 hover:bg-gray-100 dark:text-white dark:hover:bg-gray-600",selected:"bg-cyan-700 text-white hover:bg-cyan-600",disabled:"text-gray-500"}}},years:{items:{base:"grid w-64 grid-cols-4",item:{base:"block flex-1 cursor-pointer rounded-lg border-0 text-center text-sm font-semibold leading-9 text-gray-900 hover:bg-gray-100 dark:text-white dark:hover:bg-gray-600",selected:"bg-cyan-700 text-white hover:bg-cyan-600",disabled:"text-gray-500"}}},decades:{items:{base:"grid w-64 grid-cols-4",item:{base:"block flex-1 cursor-pointer rounded-lg border-0 text-center text-sm font-semibold leading-9 text-gray-900 hover:bg-gray-100 dark:text-white dark:hover:bg-gray-600",selected:"bg-cyan-700 text-white hover:bg-cyan-600",disabled:"text-gray-500"}}}}},Swe={root:{base:"fixed z-40 overflow-y-auto bg-white p-4 transition-transform dark:bg-gray-800",backdrop:"fixed inset-0 z-30 bg-gray-900/50 dark:bg-gray-900/80",edge:"bottom-16",position:{top:{on:"left-0 right-0 top-0 w-full transform-none",off:"left-0 right-0 top-0 w-full -translate-y-full"},right:{on:"right-0 top-0 h-screen w-80 transform-none",off:"right-0 top-0 h-screen w-80 translate-x-full"},bottom:{on:"bottom-0 left-0 right-0 w-full transform-none",off:"bottom-0 left-0 right-0 w-full translate-y-full"},left:{on:"left-0 top-0 h-screen w-80 transform-none",off:"left-0 top-0 h-screen w-80 -translate-x-full"}}},header:{inner:{closeButton:"absolute end-2.5 top-2.5 flex h-8 w-8 items-center justify-center rounded-lg bg-transparent text-sm text-gray-400 hover:bg-gray-200 hover:text-gray-900 dark:hover:bg-gray-600 dark:hover:text-white",closeIcon:"h-4 w-4",titleIcon:"me-2.5 h-4 w-4",titleText:"mb-4 inline-flex items-center text-base font-semibold text-gray-500 dark:text-gray-400"},collapsed:{on:"hidden",off:"block"}},items:{base:""}},fu={arrowIcon:"ml-2 h-4 w-4",content:"py-1 focus:outline-none",floating:{animation:"transition-opacity",arrow:{base:"absolute z-10 h-2 w-2 rotate-45",style:{dark:"bg-gray-900 dark:bg-gray-700",light:"bg-white",auto:"bg-white dark:bg-gray-700"},placement:"-4px"},base:"z-10 w-fit divide-y divide-gray-100 rounded shadow focus:outline-none",content:"py-1 text-sm text-gray-700 dark:text-gray-200",divider:"my-1 h-px bg-gray-100 dark:bg-gray-600",header:"block px-4 py-2 text-sm text-gray-700 dark:text-gray-200",hidden:"invisible opacity-0",item:{container:"",base:"flex w-full cursor-pointer items-center justify-start px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 focus:bg-gray-100 focus:outline-none dark:text-gray-200 dark:hover:bg-gray-600 dark:hover:text-white dark:focus:bg-gray-600 dark:focus:text-white",icon:"mr-2 h-4 w-4"},style:{dark:"bg-gray-900 text-white dark:bg-gray-700",light:"border border-gray-200 bg-white text-gray-900",auto:"border border-gray-200 bg-white text-gray-900 dark:border-none dark:bg-gray-700 dark:text-white"},target:"w-fit"},inlineWrapper:"flex items-center"},Cwe={root:{base:"flex"},field:{base:"relative w-full",input:{base:"block w-full overflow-hidden rounded-lg border disabled:cursor-not-allowed disabled:opacity-50",sizes:{sm:"sm:text-xs",md:"text-sm",lg:"sm:text-base"},colors:{gray:"border-gray-300 bg-gray-50 text-gray-900 focus:border-cyan-500 focus:ring-cyan-500 dark:border-gray-600 dark:bg-gray-700 dark:text-white dark:placeholder-gray-400 dark:focus:border-cyan-500 dark:focus:ring-cyan-500",info:"border-cyan-500 bg-cyan-50 text-cyan-900 placeholder-cyan-700 focus:border-cyan-500 focus:ring-cyan-500 dark:border-cyan-400 dark:bg-cyan-100 dark:focus:border-cyan-500 dark:focus:ring-cyan-500",failure:"border-red-500 bg-red-50 text-red-900 placeholder-red-700 focus:border-red-500 focus:ring-red-500 dark:border-red-400 dark:bg-red-100 dark:focus:border-red-500 dark:focus:ring-red-500",warning:"border-yellow-500 bg-yellow-50 text-yellow-900 placeholder-yellow-700 focus:border-yellow-500 focus:ring-yellow-500 dark:border-yellow-400 dark:bg-yellow-100 dark:focus:border-yellow-500 dark:focus:ring-yellow-500",success:"border-green-500 bg-green-50 text-green-900 placeholder-green-700 focus:border-green-500 focus:ring-green-500 dark:border-green-400 dark:bg-green-100 dark:focus:border-green-500 dark:focus:ring-green-500"}}}},Awe={input:{default:{filled:{sm:"peer block w-full appearance-none rounded-t-lg border-0 border-b-2 border-gray-300 bg-gray-50 px-2.5 pb-2.5 pt-5 text-xs text-gray-900 focus:border-blue-600 focus:outline-none focus:ring-0 dark:border-gray-600 dark:bg-gray-700 dark:text-white dark:focus:border-blue-500",md:"peer block w-full appearance-none rounded-t-lg border-0 border-b-2 border-gray-300 bg-gray-50 px-2.5 pb-2.5 pt-5 text-sm text-gray-900 focus:border-blue-600 focus:outline-none focus:ring-0 dark:border-gray-600 dark:bg-gray-700 dark:text-white dark:focus:border-blue-500"},outlined:{sm:"peer block w-full appearance-none rounded-lg border border-gray-300 bg-transparent px-2.5 pb-2.5 pt-4 text-xs text-gray-900 focus:border-blue-600 focus:outline-none focus:ring-0 dark:border-gray-600 dark:text-white dark:focus:border-blue-500",md:"peer block w-full appearance-none rounded-lg border border-gray-300 bg-transparent px-2.5 pb-2.5 pt-4 text-sm text-gray-900 focus:border-blue-600 focus:outline-none focus:ring-0 dark:border-gray-600 dark:text-white dark:focus:border-blue-500"},standard:{sm:"peer block w-full appearance-none border-0 border-b-2 border-gray-300 bg-transparent px-0 py-2.5 text-xs text-gray-900 focus:border-blue-600 focus:outline-none focus:ring-0 dark:border-gray-600 dark:text-white dark:focus:border-blue-500",md:"peer block w-full appearance-none border-0 border-b-2 border-gray-300 bg-transparent px-0 py-2.5 text-sm text-gray-900 focus:border-blue-600 focus:outline-none focus:ring-0 dark:border-gray-600 dark:text-white dark:focus:border-blue-500"}},success:{filled:{sm:"peer block w-full appearance-none rounded-t-lg border-0 border-b-2 border-green-600 bg-gray-50 px-2.5 pb-2.5 pt-5 text-xs text-gray-900 focus:border-green-600 focus:outline-none focus:ring-0 dark:border-green-500 dark:bg-gray-700 dark:text-white dark:focus:border-green-500",md:"peer block w-full appearance-none rounded-t-lg border-0 border-b-2 border-green-600 bg-gray-50 px-2.5 pb-2.5 pt-5 text-sm text-gray-900 focus:border-green-600 focus:outline-none focus:ring-0 dark:border-green-500 dark:bg-gray-700 dark:text-white dark:focus:border-green-500"},outlined:{sm:"peer block w-full appearance-none rounded-lg border border-green-600 bg-transparent px-2.5 pb-2.5 pt-4 text-xs text-gray-900 focus:border-green-600 focus:outline-none focus:ring-0 dark:border-green-500 dark:text-white dark:focus:border-green-500",md:"peer block w-full appearance-none rounded-lg border border-green-600 bg-transparent px-2.5 pb-2.5 pt-4 text-sm text-gray-900 focus:border-green-600 focus:outline-none focus:ring-0 dark:border-green-500 dark:text-white dark:focus:border-green-500"},standard:{sm:"peer block w-full appearance-none border-0 border-b-2 border-green-600 bg-transparent px-0 py-2.5 text-xs text-gray-900 focus:border-green-600 focus:outline-none focus:ring-0 dark:border-green-500 dark:text-white dark:focus:border-green-500",md:"peer block w-full appearance-none border-0 border-b-2 border-green-600 bg-transparent px-0 py-2.5 text-sm text-gray-900 focus:border-green-600 focus:outline-none focus:ring-0 dark:border-green-500 dark:text-white dark:focus:border-green-500"}},error:{filled:{sm:"peer block w-full appearance-none rounded-t-lg border-0 border-b-2 border-red-600 bg-gray-50 px-2.5 pb-2.5 pt-5 text-xs text-gray-900 focus:border-red-600 focus:outline-none focus:ring-0 dark:border-red-500 dark:bg-gray-700 dark:text-white dark:focus:border-red-500",md:"peer block w-full appearance-none rounded-t-lg border-0 border-b-2 border-red-600 bg-gray-50 px-2.5 pb-2.5 pt-5 text-sm text-gray-900 focus:border-red-600 focus:outline-none focus:ring-0 dark:border-red-500 dark:bg-gray-700 dark:text-white dark:focus:border-red-500"},outlined:{sm:"peer block w-full appearance-none rounded-lg border border-red-600 bg-transparent px-2.5 pb-2.5 pt-4 text-xs text-gray-900 focus:border-red-600 focus:outline-none focus:ring-0 dark:border-red-500 dark:text-white dark:focus:border-red-500",md:"peer block w-full appearance-none rounded-lg border border-red-600 bg-transparent px-2.5 pb-2.5 pt-4 text-sm text-gray-900 focus:border-red-600 focus:outline-none focus:ring-0 dark:border-red-500 dark:text-white dark:focus:border-red-500"},standard:{sm:"peer block w-full appearance-none border-0 border-b-2 border-red-600 bg-transparent px-0 py-2.5 text-xs text-gray-900 focus:border-red-600 focus:outline-none focus:ring-0 dark:border-red-500 dark:text-white dark:focus:border-red-500",md:"peer block w-full appearance-none border-0 border-b-2 border-red-600 bg-transparent px-0 py-2.5 text-sm text-gray-900 focus:border-red-600 focus:outline-none focus:ring-0 dark:border-red-500 dark:text-white dark:focus:border-red-500"}}},label:{default:{filled:{sm:"absolute left-2.5 top-4 z-10 origin-[0] -translate-y-4 scale-75 text-xs text-gray-500 transition-transform duration-300 peer-placeholder-shown:translate-y-0 peer-placeholder-shown:scale-100 peer-focus:-translate-y-4 peer-focus:scale-75 peer-focus:text-blue-600 dark:text-gray-400 peer-focus:dark:text-blue-500",md:"absolute left-2.5 top-4 z-10 origin-[0] -translate-y-4 scale-75 text-sm text-gray-500 transition-transform duration-300 peer-placeholder-shown:translate-y-0 peer-placeholder-shown:scale-100 peer-focus:-translate-y-4 peer-focus:scale-75 peer-focus:text-blue-600 dark:text-gray-400 peer-focus:dark:text-blue-500"},outlined:{sm:"absolute left-1 top-2 z-10 origin-[0] -translate-y-4 scale-75 bg-white px-2 text-xs text-gray-500 transition-transform duration-300 peer-placeholder-shown:top-1/2 peer-placeholder-shown:-translate-y-1/2 peer-placeholder-shown:scale-100 peer-focus:top-2 peer-focus:-translate-y-4 peer-focus:scale-75 peer-focus:px-2 peer-focus:text-blue-600 dark:bg-gray-900 dark:text-gray-400 peer-focus:dark:text-blue-500",md:"absolute left-1 top-2 z-10 origin-[0] -translate-y-4 scale-75 bg-white px-2 text-sm text-gray-500 transition-transform duration-300 peer-placeholder-shown:top-1/2 peer-placeholder-shown:-translate-y-1/2 peer-placeholder-shown:scale-100 peer-focus:top-2 peer-focus:-translate-y-4 peer-focus:scale-75 peer-focus:px-2 peer-focus:text-blue-600 dark:bg-gray-900 dark:text-gray-400 peer-focus:dark:text-blue-500"},standard:{sm:"absolute top-3 -z-10 origin-[0] -translate-y-6 scale-75 text-xs text-gray-500 transition-transform duration-300 peer-placeholder-shown:translate-y-0 peer-placeholder-shown:scale-100 peer-focus:left-0 peer-focus:-translate-y-6 peer-focus:scale-75 peer-focus:text-blue-600 dark:text-gray-400 peer-focus:dark:text-blue-500",md:"absolute top-3 -z-10 origin-[0] -translate-y-6 scale-75 text-sm text-gray-500 transition-transform duration-300 peer-placeholder-shown:translate-y-0 peer-placeholder-shown:scale-100 peer-focus:left-0 peer-focus:-translate-y-6 peer-focus:scale-75 peer-focus:text-blue-600 dark:text-gray-400 peer-focus:dark:text-blue-500"}},success:{filled:{sm:"absolute left-2.5 top-4 z-10 origin-[0] -translate-y-4 scale-75 text-sm text-green-600 transition-transform duration-300 peer-placeholder-shown:translate-y-0 peer-placeholder-shown:scale-100 peer-focus:-translate-y-4 peer-focus:scale-75 dark:text-green-500",md:"absolute left-2.5 top-4 z-10 origin-[0] -translate-y-4 scale-75 text-sm text-green-600 transition-transform duration-300 peer-placeholder-shown:translate-y-0 peer-placeholder-shown:scale-100 peer-focus:-translate-y-4 peer-focus:scale-75 dark:text-green-500"},outlined:{sm:"absolute left-1 top-2 z-10 origin-[0] -translate-y-4 scale-75 bg-white px-2 text-sm text-green-600 transition-transform duration-300 peer-placeholder-shown:top-1/2 peer-placeholder-shown:-translate-y-1/2 peer-placeholder-shown:scale-100 peer-focus:top-2 peer-focus:-translate-y-4 peer-focus:scale-75 peer-focus:px-2 dark:bg-gray-900 dark:text-green-500",md:"absolute left-1 top-2 z-10 origin-[0] -translate-y-4 scale-75 bg-white px-2 text-sm text-green-600 transition-transform duration-300 peer-placeholder-shown:top-1/2 peer-placeholder-shown:-translate-y-1/2 peer-placeholder-shown:scale-100 peer-focus:top-2 peer-focus:-translate-y-4 peer-focus:scale-75 peer-focus:px-2 dark:bg-gray-900 dark:text-green-500"},standard:{sm:"absolute top-3 -z-10 origin-[0] -translate-y-6 scale-75 text-xs text-green-600 transition-transform duration-300 peer-placeholder-shown:translate-y-0 peer-placeholder-shown:scale-100 peer-focus:left-0 peer-focus:-translate-y-6 peer-focus:scale-75 dark:text-green-500",md:"absolute top-3 -z-10 origin-[0] -translate-y-6 scale-75 text-sm text-green-600 transition-transform duration-300 peer-placeholder-shown:translate-y-0 peer-placeholder-shown:scale-100 peer-focus:left-0 peer-focus:-translate-y-6 peer-focus:scale-75 dark:text-green-500"}},error:{filled:{sm:"absolute left-2.5 top-4 z-10 origin-[0] -translate-y-4 scale-75 text-xs text-red-600 transition-transform duration-300 peer-placeholder-shown:translate-y-0 peer-placeholder-shown:scale-100 peer-focus:-translate-y-4 peer-focus:scale-75 dark:text-red-500",md:"absolute left-2.5 top-4 z-10 origin-[0] -translate-y-4 scale-75 text-xs text-red-600 transition-transform duration-300 peer-placeholder-shown:translate-y-0 peer-placeholder-shown:scale-100 peer-focus:-translate-y-4 peer-focus:scale-75 dark:text-red-500"},outlined:{sm:"absolute left-1 top-2 z-10 origin-[0] -translate-y-4 scale-75 bg-white px-2 text-xs text-red-600 transition-transform duration-300 peer-placeholder-shown:top-1/2 peer-placeholder-shown:-translate-y-1/2 peer-placeholder-shown:scale-100 peer-focus:top-2 peer-focus:-translate-y-4 peer-focus:scale-75 peer-focus:px-2 dark:bg-gray-900 dark:text-red-500",md:"absolute left-1 top-2 z-10 origin-[0] -translate-y-4 scale-75 bg-white px-2 text-xs text-red-600 transition-transform duration-300 peer-placeholder-shown:top-1/2 peer-placeholder-shown:-translate-y-1/2 peer-placeholder-shown:scale-100 peer-focus:top-2 peer-focus:-translate-y-4 peer-focus:scale-75 peer-focus:px-2 dark:bg-gray-900 dark:text-red-500"},standard:{sm:"absolute top-3 -z-10 origin-[0] -translate-y-6 scale-75 text-xs text-red-600 transition-transform duration-300 peer-placeholder-shown:translate-y-0 peer-placeholder-shown:scale-100 peer-focus:left-0 peer-focus:-translate-y-6 peer-focus:scale-75 dark:text-red-500",md:"absolute top-3 -z-10 origin-[0] -translate-y-6 scale-75 text-sm text-red-600 transition-transform duration-300 peer-placeholder-shown:translate-y-0 peer-placeholder-shown:scale-100 peer-focus:left-0 peer-focus:-translate-y-6 peer-focus:scale-75 dark:text-red-500"}}},helperText:{default:"mt-2 text-xs text-gray-600 dark:text-gray-400",success:"mt-2 text-xs text-green-600 dark:text-green-400",error:"mt-2 text-xs text-red-600 dark:text-red-400"}},_we={root:{base:"w-full rounded-lg bg-white shadow dark:bg-gray-800 md:flex md:items-center md:justify-between",container:"w-full p-6",bgDark:"bg-gray-800"},groupLink:{base:"flex flex-wrap text-sm text-gray-500 dark:text-white",link:{base:"me-4 last:mr-0 md:mr-6",href:"hover:underline"},col:"flex-col space-y-4"},icon:{base:"text-gray-500 dark:hover:text-white",size:"h-5 w-5"},title:{base:"mb-6 text-sm font-semibold uppercase text-gray-500 dark:text-white"},divider:{base:"my-6 w-full border-gray-200 dark:border-gray-700 sm:mx-auto lg:my-8"},copyright:{base:"text-sm text-gray-500 dark:text-gray-400 sm:text-center",href:"ml-1 hover:underline",span:"ml-1"},brand:{base:"mb-4 flex items-center sm:mb-0",img:"mr-3 h-8",span:"self-center whitespace-nowrap text-2xl font-semibold text-gray-800 dark:text-white"}},Lwe={root:{base:"mt-2 text-sm",colors:{gray:"text-gray-500 dark:text-gray-400",info:"text-cyan-700 dark:text-cyan-800",success:"text-green-600 dark:text-green-500",failure:"text-red-600 dark:text-red-500",warning:"text-yellow-500 dark:text-yellow-600"}}},Nwe={root:{base:"my-8 h-px border-0 bg-gray-200 dark:bg-gray-700"},trimmed:{base:"mx-auto my-4 h-1 w-48 rounded border-0 bg-gray-100 dark:bg-gray-700 md:my-10"},icon:{base:"inline-flex w-full items-center justify-center",hrLine:"my-8 h-1 w-64 rounded border-0 bg-gray-200 dark:bg-gray-700",icon:{base:"absolute left-1/2 -translate-x-1/2 bg-white px-4 dark:bg-gray-900",icon:"h-4 w-4 text-gray-700 dark:text-gray-300"}},text:{base:"inline-flex w-full items-center justify-center",hrLine:"my-8 h-px w-64 border-0 bg-gray-200 dark:bg-gray-700",text:"absolute left-1/2 -translate-x-1/2 bg-white px-3 font-medium text-gray-900 dark:bg-gray-900 dark:text-white"},square:{base:"mx-auto my-8 h-8 w-8 rounded border-0 bg-gray-200 dark:bg-gray-700 md:my-12"}},Rwe={root:{base:"rounded-lg border border-gray-200 bg-gray-100 px-2 py-1.5 text-xs font-semibold text-gray-800 dark:border-gray-500 dark:bg-gray-600 dark:text-gray-100",icon:"inline-block"}},Mwe={root:{base:"text-sm font-medium",disabled:"opacity-50",colors:{default:"text-gray-900 dark:text-white",info:"text-cyan-500 dark:text-cyan-600",failure:"text-red-700 dark:text-red-500",warning:"text-yellow-500 dark:text-yellow-600",success:"text-green-700 dark:text-green-500"}}},Iwe={root:{base:"list-inside space-y-1 text-gray-500 dark:text-gray-400",ordered:{off:"list-disc",on:"list-decimal"},horizontal:"flex list-none flex-wrap items-center justify-center space-x-4 space-y-0",unstyled:"list-none",nested:"mt-2 ps-5"},item:{withIcon:{off:"",on:"flex items-center"},icon:"me-2 h-3.5 w-3.5 flex-shrink-0"}},Dwe={root:{base:"list-none rounded-lg border border-gray-200 bg-white text-left text-sm font-medium text-gray-900 dark:border-gray-600 dark:bg-gray-700 dark:text-white"},item:{base:"[&>*]:first:rounded-t-lg [&>*]:last:rounded-b-lg [&>*]:last:border-b-0",link:{base:"flex w-full items-center border-b border-gray-200 px-4 py-2 dark:border-gray-600",active:{off:"hover:bg-gray-100 hover:text-cyan-700 focus:text-cyan-700 focus:outline-none focus:ring-2 focus:ring-cyan-700 dark:border-gray-600 dark:hover:bg-gray-600 dark:hover:text-white dark:focus:text-white dark:focus:ring-gray-500",on:"bg-cyan-700 text-white dark:bg-gray-800"},disabled:{off:"",on:"cursor-not-allowed bg-gray-100 text-gray-900 hover:bg-gray-100 hover:text-gray-900 focus:text-gray-900"},href:{off:"",on:""},icon:"mr-2 h-4 w-4 fill-current"}}},mb={root:{base:"bg-white px-2 py-2.5 dark:border-gray-700 dark:bg-gray-800 sm:px-4",rounded:{on:"rounded",off:""},bordered:{on:"border",off:""},inner:{base:"mx-auto flex flex-wrap items-center justify-between",fluid:{on:"",off:"container"}}},brand:{base:"flex items-center"},collapse:{base:"w-full md:block md:w-auto",list:"mt-4 flex flex-col md:mt-0 md:flex-row md:space-x-8 md:text-sm md:font-medium",hidden:{on:"hidden",off:""}},link:{base:"block py-2 pl-3 pr-4 md:p-0",active:{on:"bg-cyan-700 text-white dark:text-white md:bg-transparent md:text-cyan-700",off:"border-b border-gray-100 text-gray-700 hover:bg-gray-50 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white md:border-0 md:hover:bg-transparent md:hover:text-cyan-700 md:dark:hover:bg-transparent md:dark:hover:text-white"},disabled:{on:"text-gray-400 hover:cursor-not-allowed dark:text-gray-600",off:""}},toggle:{base:"inline-flex items-center rounded-lg p-2 text-sm text-gray-500 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-gray-200 dark:text-gray-400 dark:hover:bg-gray-700 dark:focus:ring-gray-600 md:hidden",icon:"h-6 w-6 shrink-0"}},Owe={...mb,dropdown:{base:"",toggle:{...fu,floating:{...fu.floating,base:ze(fu.floating.base,"mt-2 block"),content:ze(fu.floating.content,"text-gray-500 dark:text-gray-400"),style:{...fu.floating.style,auto:ze(fu.floating.style.auto,"text-gray-500 dark:text-gray-400")}},inlineWrapper:ze(fu.inlineWrapper,"flex w-full items-center justify-between")}},dropdownToggle:{base:ze(mb.link.base,mb.link.active.off,"flex w-full items-center justify-between")}},Pwe={root:{base:"fixed inset-x-0 top-0 z-50 h-screen overflow-y-auto overflow-x-hidden md:inset-0 md:h-full",show:{on:"flex bg-gray-900 bg-opacity-50 dark:bg-opacity-80",off:"hidden"},sizes:{sm:"max-w-sm",md:"max-w-md",lg:"max-w-lg",xl:"max-w-xl","2xl":"max-w-2xl","3xl":"max-w-3xl","4xl":"max-w-4xl","5xl":"max-w-5xl","6xl":"max-w-6xl","7xl":"max-w-7xl"},positions:{"top-left":"items-start justify-start","top-center":"items-start justify-center","top-right":"items-start justify-end","center-left":"items-center justify-start",center:"items-center justify-center","center-right":"items-center justify-end","bottom-right":"items-end justify-end","bottom-center":"items-end justify-center","bottom-left":"items-end justify-start"}},content:{base:"relative h-full w-full p-4 md:h-auto",inner:"relative flex max-h-[90dvh] flex-col rounded-lg bg-white shadow dark:bg-gray-700"},body:{base:"flex-1 overflow-auto p-6",popup:"pt-0"},header:{base:"flex items-start justify-between rounded-t border-b p-5 dark:border-gray-600",popup:"border-b-0 p-2",title:"text-xl font-medium text-gray-900 dark:text-white",close:{base:"ml-auto inline-flex items-center rounded-lg bg-transparent p-1.5 text-sm text-gray-400 hover:bg-gray-200 hover:text-gray-900 dark:hover:bg-gray-600 dark:hover:text-white",icon:"h-5 w-5"}},footer:{base:"flex items-center space-x-2 rounded-b border-gray-200 p-6 dark:border-gray-600",popup:"border-t"}},Fwe={base:"",layout:{table:{base:"text-sm text-gray-700 dark:text-gray-400",span:"font-semibold text-gray-900 dark:text-white"}},pages:{base:"xs:mt-0 mt-2 inline-flex items-center -space-x-px",showIcon:"inline-flex",previous:{base:"ml-0 rounded-l-lg border border-gray-300 bg-white px-3 py-2 leading-tight text-gray-500 enabled:hover:bg-gray-100 enabled:hover:text-gray-700 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-400 enabled:dark:hover:bg-gray-700 enabled:dark:hover:text-white",icon:"h-5 w-5"},next:{base:"rounded-r-lg border border-gray-300 bg-white px-3 py-2 leading-tight text-gray-500 enabled:hover:bg-gray-100 enabled:hover:text-gray-700 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-400 enabled:dark:hover:bg-gray-700 enabled:dark:hover:text-white",icon:"h-5 w-5"},selector:{base:"w-12 border border-gray-300 bg-white py-2 leading-tight text-gray-500 enabled:hover:bg-gray-100 enabled:hover:text-gray-700 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-400 enabled:dark:hover:bg-gray-700 enabled:dark:hover:text-white",active:"bg-cyan-50 text-cyan-600 hover:bg-cyan-100 hover:text-cyan-700 dark:border-gray-700 dark:bg-gray-700 dark:text-white",disabled:"cursor-not-allowed opacity-50"}}},Bwe={base:"absolute z-20 inline-block w-max max-w-[100vw] bg-white outline-none border border-gray-200 rounded-lg shadow-sm dark:border-gray-600 dark:bg-gray-800",content:"z-10 overflow-hidden rounded-[7px]",arrow:{base:"absolute h-2 w-2 z-0 rotate-45 mix-blend-lighten bg-white border border-gray-200 dark:border-gray-600 dark:bg-gray-800 dark:mix-blend-color",placement:"-4px"}},$we={base:"w-full overflow-hidden rounded-full bg-gray-200 dark:bg-gray-700",label:"mb-1 flex justify-between font-medium dark:text-white",bar:"space-x-2 rounded-full text-center font-medium leading-none text-cyan-300 dark:text-cyan-100",color:{dark:"bg-gray-600 dark:bg-gray-300",blue:"bg-blue-600",red:"bg-red-600 dark:bg-red-500",green:"bg-green-600 dark:bg-green-500",yellow:"bg-yellow-400",indigo:"bg-indigo-600 dark:bg-indigo-500",purple:"bg-purple-600 dark:bg-purple-500",cyan:"bg-cyan-600",gray:"bg-gray-500",lime:"bg-lime-600",pink:"bg-pink-500",teal:"bg-teal-600"},size:{sm:"h-1.5",md:"h-2.5",lg:"h-4",xl:"h-6"}},zwe={root:{base:"h-4 w-4 border border-gray-300 text-cyan-600 focus:ring-2 focus:ring-cyan-500 dark:border-gray-600 dark:bg-gray-700 dark:focus:bg-cyan-600 dark:focus:ring-cyan-600"}},Uwe={root:{base:"flex"},field:{base:"relative w-full",input:{base:"w-full cursor-pointer appearance-none rounded-lg bg-gray-200 dark:bg-gray-700",sizes:{sm:"h-1",md:"h-2",lg:"h-3"}}}},Vwe={root:{base:"flex items-center"},star:{empty:"text-gray-300 dark:text-gray-500",filled:"text-yellow-400",sizes:{sm:"h-5 w-5",md:"h-7 w-7",lg:"h-10 w-10"}}},Gwe={base:"flex items-center",label:"text-sm font-medium text-cyan-600 dark:text-cyan-500",progress:{base:"mx-4 h-5 w-2/4 rounded bg-gray-200 dark:bg-gray-700",fill:"h-5 rounded bg-yellow-400",label:"text-sm font-medium text-cyan-600 dark:text-cyan-500"}},Hwe={base:"flex",addon:"inline-flex items-center rounded-l-md border border-r-0 border-gray-300 bg-gray-200 px-3 text-sm text-gray-900 dark:border-gray-600 dark:bg-gray-600 dark:text-gray-400",field:{base:"relative w-full",icon:{base:"pointer-events-none absolute inset-y-0 left-0 flex items-center pl-3",svg:"h-5 w-5 text-gray-500 dark:text-gray-400"},select:{base:"block w-full border disabled:cursor-not-allowed disabled:opacity-50",withIcon:{on:"pl-10",off:""},withAddon:{on:"rounded-r-lg",off:"rounded-lg"},withShadow:{on:"shadow-sm dark:shadow-sm-light",off:""},sizes:{sm:"p-2 sm:text-xs",md:"p-2.5 text-sm",lg:"p-4 sm:text-base"},colors:{gray:"border-gray-300 bg-gray-50 text-gray-900 focus:border-cyan-500 focus:ring-cyan-500 dark:border-gray-600 dark:bg-gray-700 dark:text-white dark:placeholder-gray-400 dark:focus:border-cyan-500 dark:focus:ring-cyan-500",info:"border-cyan-500 bg-cyan-50 text-cyan-900 placeholder-cyan-700 focus:border-cyan-500 focus:ring-cyan-500 dark:border-cyan-400 dark:bg-cyan-100 dark:focus:border-cyan-500 dark:focus:ring-cyan-500",failure:"border-red-500 bg-red-50 text-red-900 placeholder-red-700 focus:border-red-500 focus:ring-red-500 dark:border-red-400 dark:bg-red-100 dark:focus:border-red-500 dark:focus:ring-red-500",warning:"border-yellow-500 bg-yellow-50 text-yellow-900 placeholder-yellow-700 focus:border-yellow-500 focus:ring-yellow-500 dark:border-yellow-400 dark:bg-yellow-100 dark:focus:border-yellow-500 dark:focus:ring-yellow-500",success:"border-green-500 bg-green-50 text-green-900 placeholder-green-700 focus:border-green-500 focus:ring-green-500 dark:border-green-400 dark:bg-green-100 dark:focus:border-green-500 dark:focus:ring-green-500"}}}},Wwe={root:{base:"h-full",collapsed:{on:"w-16",off:"w-64"},inner:"h-full overflow-y-auto overflow-x-hidden rounded bg-gray-50 px-3 py-4 dark:bg-gray-800"},collapse:{button:"group flex w-full items-center rounded-lg p-2 text-base font-normal text-gray-900 transition duration-75 hover:bg-gray-100 dark:text-white dark:hover:bg-gray-700",icon:{base:"h-6 w-6 text-gray-500 transition duration-75 group-hover:text-gray-900 dark:text-gray-400 dark:group-hover:text-white",open:{off:"",on:"text-gray-900"}},label:{base:"ml-3 flex-1 whitespace-nowrap text-left",icon:{base:"h-6 w-6 transition delay-0 ease-in-out",open:{on:"rotate-180",off:""}}},list:"space-y-2 py-2"},cta:{base:"mt-6 rounded-lg bg-gray-100 p-4 dark:bg-gray-700",color:{blue:"bg-cyan-50 dark:bg-cyan-900",dark:"bg-dark-50 dark:bg-dark-900",failure:"bg-red-50 dark:bg-red-900",gray:"bg-alternative-50 dark:bg-alternative-900",green:"bg-green-50 dark:bg-green-900",light:"bg-light-50 dark:bg-light-900",red:"bg-red-50 dark:bg-red-900",purple:"bg-purple-50 dark:bg-purple-900",success:"bg-green-50 dark:bg-green-900",yellow:"bg-yellow-50 dark:bg-yellow-900",warning:"bg-yellow-50 dark:bg-yellow-900"}},item:{base:"flex items-center justify-center rounded-lg p-2 text-base font-normal text-gray-900 hover:bg-gray-100 dark:text-white dark:hover:bg-gray-700",active:"bg-gray-100 dark:bg-gray-700",collapsed:{insideCollapse:"group w-full pl-8 transition duration-75",noIcon:"font-bold"},content:{base:"flex-1 whitespace-nowrap px-3"},icon:{base:"h-6 w-6 flex-shrink-0 text-gray-500 transition duration-75 group-hover:text-gray-900 dark:text-gray-400 dark:group-hover:text-white",active:"text-gray-700 dark:text-gray-100"},label:"",listItem:""},items:{base:""},itemGroup:{base:"mt-4 space-y-2 border-t border-gray-200 pt-4 first:mt-0 first:border-t-0 first:pt-0 dark:border-gray-700"},logo:{base:"mb-5 flex items-center pl-2.5",collapsed:{on:"hidden",off:"self-center whitespace-nowrap text-xl font-semibold dark:text-white"},img:"mr-3 h-6 sm:h-7"}},Ywe={base:"inline animate-spin text-gray-200",color:{failure:"fill-red-600",gray:"fill-gray-600",info:"fill-cyan-600",pink:"fill-pink-600",purple:"fill-purple-600",success:"fill-green-500",warning:"fill-yellow-400"},light:{off:{base:"dark:text-gray-600",color:{failure:"",gray:"dark:fill-gray-300",info:"",pink:"",purple:"",success:"",warning:""}},on:{base:"",color:{failure:"",gray:"",info:"",pink:"",purple:"",success:"",warning:""}}},size:{xs:"h-3 w-3",sm:"h-4 w-4",md:"h-6 w-6",lg:"h-8 w-8",xl:"h-10 w-10"}},qwe={root:{base:"w-full text-left text-sm text-gray-500 dark:text-gray-400",shadow:"absolute left-0 top-0 -z-10 h-full w-full rounded-lg bg-white drop-shadow-md dark:bg-black",wrapper:"relative"},body:{base:"group/body",cell:{base:"px-6 py-4 group-first/body:group-first/row:first:rounded-tl-lg group-first/body:group-first/row:last:rounded-tr-lg group-last/body:group-last/row:first:rounded-bl-lg group-last/body:group-last/row:last:rounded-br-lg"}},head:{base:"group/head text-xs uppercase text-gray-700 dark:text-gray-400",cell:{base:"bg-gray-50 px-6 py-3 group-first/head:first:rounded-tl-lg group-first/head:last:rounded-tr-lg dark:bg-gray-700"}},row:{base:"group/row",hovered:"hover:bg-gray-50 dark:hover:bg-gray-600",striped:"odd:bg-white even:bg-gray-50 odd:dark:bg-gray-800 even:dark:bg-gray-700"}},jwe={base:"flex flex-col gap-2",tablist:{base:"flex text-center",variant:{default:"flex-wrap border-b border-gray-200 dark:border-gray-700",underline:"-mb-px flex-wrap border-b border-gray-200 dark:border-gray-700",pills:"flex-wrap space-x-2 text-sm font-medium text-gray-500 dark:text-gray-400",fullWidth:"grid w-full grid-flow-col divide-x divide-gray-200 rounded-none text-sm font-medium shadow dark:divide-gray-700 dark:text-gray-400"},tabitem:{base:"flex items-center justify-center rounded-t-lg p-4 text-sm font-medium first:ml-0 focus:outline-none focus:ring-4 focus:ring-cyan-300 disabled:cursor-not-allowed disabled:text-gray-400 disabled:dark:text-gray-500",variant:{default:{base:"rounded-t-lg",active:{on:"bg-gray-100 text-cyan-600 dark:bg-gray-800 dark:text-cyan-500",off:"text-gray-500 hover:bg-gray-50 hover:text-gray-600 dark:text-gray-400 dark:hover:bg-gray-800 dark:hover:text-gray-300"}},underline:{base:"rounded-t-lg",active:{on:"active rounded-t-lg border-b-2 border-cyan-600 text-cyan-600 dark:border-cyan-500 dark:text-cyan-500",off:"border-b-2 border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-600 dark:text-gray-400 dark:hover:text-gray-300"}},pills:{base:"",active:{on:"rounded-lg bg-cyan-600 text-white",off:"rounded-lg hover:bg-gray-100 hover:text-gray-900 dark:hover:bg-gray-800 dark:hover:text-white"}},fullWidth:{base:"ml-0 flex w-full rounded-none first:ml-0",active:{on:"active rounded-none bg-gray-100 p-4 text-gray-900 dark:bg-gray-700 dark:text-white",off:"rounded-none bg-white hover:bg-gray-50 hover:text-gray-700 dark:bg-gray-800 dark:hover:bg-gray-700 dark:hover:text-white"}}},icon:"mr-2 h-5 w-5"}},tabitemcontainer:{base:"",variant:{default:"",underline:"",pills:"",fullWidth:""}},tabpanel:"py-3"},Xwe={base:"block w-full rounded-lg border text-sm disabled:cursor-not-allowed disabled:opacity-50",colors:{gray:"border-gray-300 bg-gray-50 text-gray-900 focus:border-cyan-500 focus:ring-cyan-500 dark:border-gray-600 dark:bg-gray-700 dark:text-white dark:placeholder-gray-400 dark:focus:border-cyan-500 dark:focus:ring-cyan-500",info:"border-cyan-500 bg-cyan-50 text-cyan-900 placeholder-cyan-700 focus:border-cyan-500 focus:ring-cyan-500 dark:border-cyan-400 dark:bg-cyan-100 dark:focus:border-cyan-500 dark:focus:ring-cyan-500",failure:"border-red-500 bg-red-50 text-red-900 placeholder-red-700 focus:border-red-500 focus:ring-red-500 dark:border-red-400 dark:bg-red-100 dark:focus:border-red-500 dark:focus:ring-red-500",warning:"border-yellow-500 bg-yellow-50 text-yellow-900 placeholder-yellow-700 focus:border-yellow-500 focus:ring-yellow-500 dark:border-yellow-400 dark:bg-yellow-100 dark:focus:border-yellow-500 dark:focus:ring-yellow-500",success:"border-green-500 bg-green-50 text-green-900 placeholder-green-700 focus:border-green-500 focus:ring-green-500 dark:border-green-400 dark:bg-green-100 dark:focus:border-green-500 dark:focus:ring-green-500"},withShadow:{on:"shadow-sm dark:shadow-sm-light",off:""}},Kwe={base:"flex",addon:"inline-flex items-center rounded-l-md border border-r-0 border-gray-300 bg-gray-200 px-3 text-sm text-gray-900 dark:border-gray-600 dark:bg-gray-600 dark:text-gray-400",field:{base:"relative w-full",icon:{base:"pointer-events-none absolute inset-y-0 left-0 flex items-center pl-3",svg:"h-5 w-5 text-gray-500 dark:text-gray-400"},rightIcon:{base:"pointer-events-none absolute inset-y-0 right-0 flex items-center pr-3",svg:"h-5 w-5 text-gray-500 dark:text-gray-400"},input:{base:"block w-full border disabled:cursor-not-allowed disabled:opacity-50",sizes:{sm:"p-2 sm:text-xs",md:"p-2.5 text-sm",lg:"p-4 sm:text-base"},colors:{gray:"border-gray-300 bg-gray-50 text-gray-900 focus:border-cyan-500 focus:ring-cyan-500 dark:border-gray-600 dark:bg-gray-700 dark:text-white dark:placeholder-gray-400 dark:focus:border-cyan-500 dark:focus:ring-cyan-500",info:"border-cyan-500 bg-cyan-50 text-cyan-900 placeholder-cyan-700 focus:border-cyan-500 focus:ring-cyan-500 dark:border-cyan-400 dark:bg-cyan-100 dark:focus:border-cyan-500 dark:focus:ring-cyan-500",failure:"border-red-500 bg-red-50 text-red-900 placeholder-red-700 focus:border-red-500 focus:ring-red-500 dark:border-red-400 dark:bg-red-100 dark:focus:border-red-500 dark:focus:ring-red-500",warning:"border-yellow-500 bg-yellow-50 text-yellow-900 placeholder-yellow-700 focus:border-yellow-500 focus:ring-yellow-500 dark:border-yellow-400 dark:bg-yellow-100 dark:focus:border-yellow-500 dark:focus:ring-yellow-500",success:"border-green-500 bg-green-50 text-green-900 placeholder-green-700 focus:border-green-500 focus:ring-green-500 dark:border-green-400 dark:bg-green-100 dark:focus:border-green-500 dark:focus:ring-green-500"},withRightIcon:{on:"pr-10",off:""},withIcon:{on:"pl-10",off:""},withAddon:{on:"rounded-r-lg",off:"rounded-lg"},withShadow:{on:"shadow-sm dark:shadow-sm-light",off:""}}}},Qwe={root:{direction:{horizontal:"sm:flex",vertical:"relative border-l border-gray-200 dark:border-gray-700"}},item:{root:{horizontal:"relative mb-6 sm:mb-0",vertical:"mb-10 ml-6"},content:{root:{base:"",horizontal:"mt-3 sm:pr-8",vertical:""},body:{base:"mb-4 text-base font-normal text-gray-500 dark:text-gray-400"},time:{base:"mb-1 text-sm font-normal leading-none text-gray-400 dark:text-gray-500"},title:{base:"text-lg font-semibold text-gray-900 dark:text-white"}},point:{horizontal:"flex items-center",line:"hidden h-0.5 w-full bg-gray-200 dark:bg-gray-700 sm:flex",marker:{base:{horizontal:"absolute -left-1.5 h-3 w-3 rounded-full border border-white bg-gray-200 dark:border-gray-900 dark:bg-gray-700",vertical:"absolute -left-1.5 mt-1.5 h-3 w-3 rounded-full border border-white bg-gray-200 dark:border-gray-900 dark:bg-gray-700"},icon:{base:"h-3 w-3 text-cyan-600 dark:text-cyan-300",wrapper:"absolute -left-3 flex h-6 w-6 items-center justify-center rounded-full bg-cyan-200 ring-8 ring-white dark:bg-cyan-900 dark:ring-gray-900"}},vertical:""}}},Zwe={root:{base:"flex w-full max-w-xs items-center rounded-lg bg-white p-4 text-gray-500 shadow dark:bg-gray-800 dark:text-gray-400",closed:"opacity-0 ease-out"},toggle:{base:"-m-1.5 ml-auto inline-flex h-8 w-8 rounded-lg bg-white p-1.5 text-gray-400 hover:bg-gray-100 hover:text-gray-900 focus:ring-2 focus:ring-gray-300 dark:bg-gray-800 dark:text-gray-500 dark:hover:bg-gray-700 dark:hover:text-white",icon:"h-5 w-5 shrink-0"}},Jwe={root:{base:"group flex rounded-lg focus:outline-none",active:{on:"cursor-pointer",off:"cursor-not-allowed opacity-50"},label:"ms-3 mt-0.5 text-start text-sm font-medium text-gray-900 dark:text-gray-300"},toggle:{base:"relative rounded-full border after:absolute after:rounded-full after:bg-white after:transition-all group-focus:ring-4 group-focus:ring-cyan-500/25",checked:{on:"after:translate-x-full after:border-white rtl:after:-translate-x-full",off:"border-gray-200 bg-gray-200 dark:border-gray-600 dark:bg-gray-700",color:{blue:"border-cyan-700 bg-cyan-700",dark:"bg-dark-700 border-dark-900",failure:"border-red-900 bg-red-700",gray:"border-gray-600 bg-gray-500",green:"border-green-700 bg-green-600",light:"bg-light-700 border-light-900",red:"border-red-900 bg-red-700",purple:"border-purple-900 bg-purple-700",success:"border-green-500 bg-green-500",yellow:"border-yellow-400 bg-yellow-400",warning:"border-yellow-600 bg-yellow-600",cyan:"border-cyan-500 bg-cyan-500",lime:"border-lime-400 bg-lime-400",indigo:"border-indigo-400 bg-indigo-400",teal:"bg-gradient-to-r from-teal-400 via-teal-500 to-teal-600 hover:bg-gradient-to-br focus:ring-4",info:"border-cyan-600 bg-cyan-600",pink:"border-pink-600 bg-pink-600"}},sizes:{sm:"h-5 w-9 min-w-9 after:left-px after:top-px after:h-4 after:w-4 rtl:after:right-px",md:"h-6 w-11 min-w-11 after:left-px after:top-px after:h-5 after:w-5 rtl:after:right-px",lg:"h-7 w-14 min-w-14 after:left-1 after:top-0.5 after:h-6 after:w-6 rtl:after:right-1"}}},e6e={target:"w-fit",animation:"transition-opacity",arrow:{base:"absolute z-10 h-2 w-2 rotate-45",style:{dark:"bg-gray-900 dark:bg-gray-700",light:"bg-white",auto:"bg-white dark:bg-gray-700"},placement:"-4px"},base:"absolute z-10 inline-block rounded-lg px-3 py-2 text-sm font-medium shadow-sm",hidden:"invisible opacity-0",style:{dark:"bg-gray-900 text-white dark:bg-gray-700",light:"border border-gray-200 bg-white text-gray-900",auto:"border border-gray-200 bg-white text-gray-900 dark:border-none dark:bg-gray-700 dark:text-white"},content:"relative z-20"},t6e={accordion:hwe,alert:dwe,avatar:fwe,badge:pwe,blockquote:gwe,breadcrumb:mwe,button:vwe,buttonGroup:ywe,card:xwe,carousel:bwe,checkbox:wwe,clipboard:kwe,datepicker:Ewe,darkThemeToggle:Twe,drawer:Swe,dropdown:fu,fileInput:Cwe,floatingLabel:Awe,footer:_we,helperText:Lwe,hr:Nwe,kbd:Rwe,label:Mwe,listGroup:Dwe,list:Iwe,megaMenu:Owe,modal:Pwe,navbar:mb,pagination:Fwe,popover:Bwe,progress:$we,radio:zwe,rangeSlider:Uwe,rating:Vwe,ratingAdvanced:Gwe,select:Hwe,textInput:Kwe,textarea:Xwe,toggleSwitch:Jwe,sidebar:Wwe,spinner:Ywe,table:qwe,tabs:jwe,timeline:Qwe,toast:Zwe,tooltip:e6e},r6e={theme:Sv(t6e)};function Lt(){return Sv(r6e.theme)}const Dj=fe.createContext(void 0);function Oj(){const t=fe.useContext(Dj);if(!t)throw new Error("useAccordionContext should be used within the AccordionPanelContext provider!");return t}const Pj=({children:t,className:e,theme:r={},...n})=>{const{isOpen:i}=Oj(),a=it(Lt().accordion.content,r);return se.jsx("div",{className:ze(a.base,e),"data-testid":"flowbite-accordion-content",hidden:!i,...n,children:t})},Fj=({children:t,...e})=>{const{alwaysOpen:r}=e,[n,i]=fe.useState(e.isOpen),a=r?{...e,isOpen:n,setOpen:()=>i(!n)}:e;return se.jsx(Dj.Provider,{value:a,children:t})},Bj=({as:t="h2",children:e,className:r,theme:n={},...i})=>{const{arrowIcon:a,flush:s,isOpen:o,setOpen:l}=Oj(),u=()=>typeof l<"u"&&l(),h=it(Lt().accordion.title,n);return se.jsxs("button",{className:ze(h.base,h.flush[s?"on":"off"],h.open[o?"on":"off"],r),onClick:u,type:"button",...i,children:[se.jsx(t,{className:h.heading,"data-testid":"flowbite-accordion-heading",children:e}),a&&se.jsx(a,{"aria-hidden":!0,className:ze(h.arrow.base,h.arrow.open[o?"on":"off"]),"data-testid":"flowbite-accordion-arrow"})]})},$j=({alwaysOpen:t=!1,arrowIcon:e=Sj,children:r,flush:n=!1,collapseAll:i=!1,className:a,theme:s={},...o})=>{const[l,u]=fe.useState(i?-1:0),h=fe.useMemo(()=>fe.Children.map(r,(p,f)=>fe.cloneElement(p,{alwaysOpen:t,arrowIcon:e,flush:n,isOpen:l===f,setOpen:()=>u(l===f?-1:f)})),[t,e,r,n,l]),d=it(Lt().accordion.root,s);return se.jsx("div",{className:ze(d.base,d.flush[n?"on":"off"],a),"data-testid":"flowbite-accordion",...o,children:h})};$j.displayName="Accordion";Fj.displayName="Accordion.Panel";Bj.displayName="Accordion.Title";Pj.displayName="Accordion.Content";Object.assign($j,{Panel:Fj,Title:Bj,Content:Pj});const NS=({additionalContent:t,children:e,className:r,color:n="info",icon:i,onDismiss:a,rounded:s=!0,theme:o={},withBorderAccent:l,...u})=>{const h=it(Lt().alert,o);return se.jsxs("div",{className:ze(h.base,h.color[n],s&&h.rounded,l&&h.borderAccent,r),role:"alert",...u,children:[se.jsxs("div",{className:h.wrapper,"data-testid":"flowbite-alert-wrapper",children:[i&&se.jsx(i,{className:h.icon,"data-testid":"flowbite-alert-icon"}),se.jsx("div",{children:e}),typeof a=="function"&&se.jsx("button",{"aria-label":"Dismiss",className:ze(h.closeButton.base,h.closeButton.color[n]),onClick:a,type:"button",children:se.jsx(Cj,{"aria-hidden":!0,className:h.closeButton.icon})})]}),t&&se.jsx("div",{children:t})]})};NS.displayName="Alert";const zj=({children:t,className:e,theme:r={},...n})=>{const i=it(Lt().avatar.group,r);return se.jsx("div",{"data-testid":"avatar-group-element",className:ze(i.base,e),...n,children:t})};zj.displayName="Avatar.Group";const Uj=({className:t,href:e,theme:r={},total:n,...i})=>{const a=it(Lt().avatar.groupCounter,r);return se.jsxs("a",{href:e,className:ze(a.base,t),...i,children:["+",n]})};Uj.displayName="Avatar.GroupCounter";const Vj=({alt:t="",bordered:e=!1,children:r,className:n,color:i="light",img:a,placeholderInitials:s="",rounded:o=!1,size:l="md",stacked:u=!1,status:h,statusPosition:d="top-left",theme:p={},...f})=>{const g=it(Lt().avatar,p),m=ze(g.root.img.base,e&&g.root.bordered,e&&g.root.color[i],o&&g.root.rounded,u&&g.root.stacked,g.root.img.on,g.root.size[l]),y={className:ze(m,g.root.img.on),"data-testid":"flowbite-avatar-img"};return se.jsxs("div",{className:ze(g.root.base,n),"data-testid":"flowbite-avatar",...f,children:[se.jsxs("div",{className:"relative",children:[a?typeof a=="string"?se.jsx("img",{alt:t,src:a,...y}):a({alt:t,...y}):s?se.jsx("div",{className:ze(g.root.img.off,g.root.initials.base,u&&g.root.stacked,e&&g.root.bordered,e&&g.root.color[i],g.root.size[l],o&&g.root.rounded),"data-testid":"flowbite-avatar-initials-placeholder",children:se.jsx("span",{className:ze(g.root.initials.text),"data-testid":"flowbite-avatar-initials-placeholder-text",children:s})}):se.jsx("div",{className:ze(m,g.root.img.off),"data-testid":"flowbite-avatar-img",children:se.jsx("svg",{className:g.root.img.placeholder,fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:se.jsx("path",{fillRule:"evenodd",d:"M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z",clipRule:"evenodd"})})}),h&&se.jsx("span",{"data-testid":"flowbite-avatar-status",className:ze(g.root.status.base,g.root.status[h],g.root.statusPosition[d])})]}),r&&se.jsx("div",{children:r})]})};Vj.displayName="Avatar";Object.assign(Vj,{Group:zj,Counter:Uj});const s0=({children:t,color:e="info",href:r,icon:n,size:i="xs",className:a,theme:s={},...o})=>{const l=it(Lt().badge,s),u=()=>se.jsxs("span",{className:ze(l.root.base,l.root.color[e],l.root.size[i],l.icon[n?"on":"off"],a),"data-testid":"flowbite-badge",...o,children:[n&&se.jsx(n,{"aria-hidden":!0,className:l.icon.size[i],"data-testid":"flowbite-badge-icon"}),t&&se.jsx("span",{children:t})]});return r?se.jsx("a",{className:l.root.href,href:r,children:se.jsx(u,{})}):se.jsx(u,{})};s0.displayName="Badge";const Gj=({className:t,color:e="info",light:r,size:n="md",theme:i={},...a})=>{const s=it(Lt().spinner,i);return se.jsx("span",{role:"status",...a,children:se.jsxs("svg",{fill:"none",viewBox:"0 0 100 101",className:ze(s.base,s.color[e],s.light[r?"on":"off"].base,s.light[r?"on":"off"].color[e],s.size[n],t),children:[se.jsx("path",{d:"M100 50.5908C100 78.2051 77.6142 100.591 50 100.591C22.3858 100.591 0 78.2051 0 50.5908C0 22.9766 22.3858 0.59082 50 0.59082C77.6142 0.59082 100 22.9766 100 50.5908ZM9.08144 50.5908C9.08144 73.1895 27.4013 91.5094 50 91.5094C72.5987 91.5094 90.9186 73.1895 90.9186 50.5908C90.9186 27.9921 72.5987 9.67226 50 9.67226C27.4013 9.67226 9.08144 27.9921 9.08144 50.5908Z",fill:"currentColor"}),se.jsx("path",{d:"M93.9676 39.0409C96.393 38.4038 97.8624 35.9116 97.0079 33.5539C95.2932 28.8227 92.871 24.3692 89.8167 20.348C85.8452 15.1192 80.8826 10.7238 75.2124 7.41289C69.5422 4.10194 63.2754 1.94025 56.7698 1.05124C51.7666 0.367541 46.6976 0.446843 41.7345 1.27873C39.2613 1.69328 37.813 4.19778 38.4501 6.62326C39.0873 9.04874 41.5694 10.4717 44.0505 10.1071C47.8511 9.54855 51.7191 9.52689 55.5402 10.0491C60.8642 10.7766 65.9928 12.5457 70.6331 15.2552C75.2735 17.9648 79.3347 21.5619 82.5849 25.841C84.9175 28.9121 86.7997 32.2913 88.1811 35.8758C89.083 38.2158 91.5421 39.6781 93.9676 39.0409Z",fill:"currentFill"})]})})};Gj.displayName="Spinner";const O_=fe.forwardRef(({children:t,as:e,href:r,type:n="button",...i},a)=>{const s=e||(r?"a":"button");return fe.createElement(s,{ref:a,href:r,type:n,...i},t)});O_.displayName="ButtonBaseComponent";const Hj=(t,e,r)=>fe.Children.map(t,(n,i)=>{if(fe.isValidElement(n)){const a=n.type==xu?{positionInGroup:n6e(i,fe.Children.count(t))}:{};return n.props.children?fe.cloneElement(n,{...n.props,children:Hj(n.props.children,e,r),...a}):fe.cloneElement(n,{outline:e,pill:r,...a})}return n}),n6e=(t,e)=>t===0?"start":t===e-1?"end":"middle",Wj=({children:t,className:e,outline:r,pill:n,theme:i={},...a})=>{const s=fe.useMemo(()=>Hj(t,r,n),[t,r,n]),o=it(Lt().buttonGroup,i);return se.jsx("div",{className:ze(o.base,e),role:"group",...a,children:s})};Wj.displayName="Button.Group";const Yj=fe.forwardRef(({children:t,className:e,color:r="info",disabled:n,fullSized:i,isProcessing:a=!1,processingLabel:s="Loading...",processingSpinner:o,gradientDuoTone:l,gradientMonochrome:u,label:h,outline:d=!1,pill:p=!1,positionInGroup:f="none",size:g="md",theme:m={},...y},v)=>{const{buttonGroup:x,button:w}=Lt(),k=it(w,m),E=y;return se.jsx(O_,{ref:v,disabled:n,className:ze(k.base,n&&k.disabled,!l&&!u&&k.color[r],l&&!u&&k.gradientDuoTone[l],!l&&u&&k.gradient[u],d&&(k.outline.color[r]??k.outline.color.default),k.pill[p?"on":"off"],i&&k.fullSized,x.position[f],e),...E,children:se.jsx("span",{className:ze(k.inner.base,k.outline[d?"on":"off"],k.outline.pill[d&&p?"on":"off"],k.size[g],d&&!k.outline.color[r]&&k.inner.outline,a&&k.isProcessing,a&&k.inner.isProcessingPadding[g],k.inner.position[f]),children:se.jsxs(se.Fragment,{children:[a&&se.jsx("span",{className:ze(k.spinnerSlot,k.spinnerLeftPosition[g]),children:o||se.jsx(Gj,{size:g})}),typeof t<"u"?t:se.jsx("span",{"data-testid":"flowbite-button-label",className:ze(k.label),children:a?s:h})]})})})});Yj.displayName="Button";const xu=Object.assign(Yj,{Group:Wj}),qj=({children:t,...e})=>{const r=n=>{const a=n.target.closest('[role="banner"]');a==null||a.remove()};return se.jsx(xu,{onClick:r,...e,children:t})};qj.displayName="Banner.CollapseButton";const jj=({children:t,...e})=>se.jsx("div",{"data-testid":"flowbite-banner",role:"banner",tabIndex:-1,...e,children:t});jj.displayName="Banner";Object.assign(jj,{CollapseButton:qj});const Xj=fe.forwardRef(({children:t,className:e,href:r,icon:n,theme:i={},...a},s)=>{const o=typeof r<"u",l=o?"a":"span",u=it(Lt().breadcrumb.item,i);return se.jsxs("li",{className:ze(u.base,e),...a,children:[se.jsx(_j,{"aria-hidden":!0,className:u.chevron,"data-testid":"flowbite-breadcrumb-separator"}),se.jsxs(l,{ref:s,className:u.href[o?"on":"off"],"data-testid":"flowbite-breadcrumb-item",href:r,children:[n&&se.jsx(n,{"aria-hidden":!0,className:u.icon}),t]})]})});Xj.displayName="Breadcrumb.Item";const Kj=({children:t,className:e,theme:r={},...n})=>{const i=it(Lt().breadcrumb.root,r);return se.jsx("nav",{"aria-label":"Breadcrumb",className:ze(i.base,e),...n,children:se.jsx("ol",{className:i.list,children:t})})};Kj.displayName="Breadcrumb";Object.assign(Kj,{Item:Xj});var Qj={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(t){(function(){var e={}.hasOwnProperty;function r(){for(var a="",s=0;s<arguments.length;s++){var o=arguments[s];o&&(a=i(a,n(o)))}return a}function n(a){if(typeof a=="string"||typeof a=="number")return a;if(typeof a!="object")return"";if(Array.isArray(a))return r.apply(null,a);if(a.toString!==Object.prototype.toString&&!a.toString.toString().includes("[native code]"))return a.toString();var s="";for(var o in a)e.call(a,o)&&a[o]&&(s=i(s,o));return s}function i(a,s){return s?a?a+" "+s:a+s:a}t.exports?(r.default=r,t.exports=r):window.classNames=r})()})(Qj);var i6e=Qj.exports;const a6e=qc(i6e);var P_={exports:{}};function Zj(t,e=100,r={}){if(typeof t!="function")throw new TypeError(`Expected the first parameter to be a function, got \`${typeof t}\`.`);if(e<0)throw new RangeError("`wait` must not be negative.");const{immediate:n}=typeof r=="boolean"?{immediate:r}:r;let i,a,s,o,l;function u(){const p=i,f=a;return i=void 0,a=void 0,l=t.apply(p,f),l}function h(){const p=Date.now()-o;p<e&&p>=0?s=setTimeout(h,e-p):(s=void 0,n||(l=u()))}const d=function(...p){if(i&&this!==i)throw new Error("Debounced method called with different contexts.");i=this,a=p,o=Date.now();const f=n&&!s;return s||(s=setTimeout(h,e)),f&&(l=u()),l};return d.clear=()=>{s&&(clearTimeout(s),s=void 0)},d.flush=()=>{s&&d.trigger()},d.trigger=()=>{l=u(),d.clear()},d}P_.exports.debounce=Zj;P_.exports=Zj;var s6e=P_.exports;const o6e=qc(s6e);var l6e=Object.defineProperty,c6e=(t,e,r)=>e in t?l6e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,ti=(t,e,r)=>c6e(t,typeof e!="symbol"?e+"":e,r);const u6e=300,h6e=0;class d6e extends fe.PureComponent{constructor(e){super(e),ti(this,"container"),ti(this,"scrolling"),ti(this,"started"),ti(this,"pressed"),ti(this,"isMobile",!1),ti(this,"internal"),ti(this,"scrollLeft"),ti(this,"scrollTop"),ti(this,"clientX"),ti(this,"clientY"),ti(this,"onEndScroll",()=>{this.scrolling=!1,!this.pressed&&this.started&&this.processEnd()}),ti(this,"onScroll",()=>{const r=this.container.current;(r.scrollLeft!==this.scrollLeft||r.scrollTop!==this.scrollTop)&&(this.scrolling=!0,this.processScroll(),this.onEndScroll())}),ti(this,"onTouchStart",r=>{const{nativeMobileScroll:n}=this.props;if(this.isDraggable(r.target))if(this.internal=!0,n&&this.scrolling)this.pressed=!0;else{const i=r.touches[0];this.processClick(i.clientX,i.clientY),!n&&this.props.stopPropagation&&r.stopPropagation()}}),ti(this,"onTouchEnd",()=>{const{nativeMobileScroll:r}=this.props;this.pressed&&(this.started&&(!this.scrolling||!r)?this.processEnd():this.pressed=!1,this.forceUpdate())}),ti(this,"onTouchMove",r=>{const{nativeMobileScroll:n}=this.props;if(this.pressed&&(!n||!this.isMobile)){const i=r.touches[0];i&&this.processMove(i.clientX,i.clientY),r.preventDefault(),this.props.stopPropagation&&r.stopPropagation()}}),ti(this,"onMouseDown",r=>{var n,i;this.isDraggable(r.target)&&this.isScrollable()&&(this.internal=!0,((i=(n=this.props)==null?void 0:n.buttons)==null?void 0:i.indexOf(r.button))!==-1&&(this.processClick(r.clientX,r.clientY),r.preventDefault(),this.props.stopPropagation&&r.stopPropagation()))}),ti(this,"onMouseMove",r=>{this.pressed&&(this.processMove(r.clientX,r.clientY),r.preventDefault(),this.props.stopPropagation&&r.stopPropagation())}),ti(this,"onMouseUp",r=>{this.pressed&&(this.started?this.processEnd():(this.internal=!1,this.pressed=!1,this.forceUpdate(),this.props.onClick&&this.props.onClick(r)),r.preventDefault(),this.props.stopPropagation&&r.stopPropagation())}),this.container=yc.createRef(),this.onEndScroll=o6e(this.onEndScroll,u6e),this.scrolling=!1,this.started=!1,this.pressed=!1,this.internal=!1,this.getRef=this.getRef.bind(this)}componentDidMount(){const{nativeMobileScroll:e}=this.props,r=this.container.current;window.addEventListener("mouseup",this.onMouseUp),window.addEventListener("mousemove",this.onMouseMove),window.addEventListener("touchmove",this.onTouchMove,{passive:!1}),window.addEventListener("touchend",this.onTouchEnd),r.addEventListener("touchstart",this.onTouchStart,{passive:!1}),r.addEventListener("mousedown",this.onMouseDown,{passive:!1}),e&&(this.isMobile=this.isMobileDevice(),this.isMobile&&this.forceUpdate())}componentWillUnmount(){window.removeEventListener("mouseup",this.onMouseUp),window.removeEventListener("mousemove",this.onMouseMove),window.removeEventListener("touchmove",this.onTouchMove),window.removeEventListener("touchend",this.onTouchEnd)}getElement(){return this.container.current}isMobileDevice(){return typeof window.orientation<"u"||navigator.userAgent.indexOf("IEMobile")!==-1}isDraggable(e){const r=this.props.ignoreElements;if(r){const n=e.closest(r);return n===null||n.contains(this.getElement())}else return!0}isScrollable(){const e=this.container.current;return e&&(e.scrollWidth>e.clientWidth||e.scrollHeight>e.clientHeight)}processClick(e,r){const n=this.container.current;this.scrollLeft=n==null?void 0:n.scrollLeft,this.scrollTop=n==null?void 0:n.scrollTop,this.clientX=e,this.clientY=r,this.pressed=!0}processStart(e=!0){const{onStartScroll:r}=this.props;this.started=!0,e&&document.body.classList.add("cursor-grab"),r&&r({external:!this.internal}),this.forceUpdate()}processScroll(){if(this.started){const{onScroll:e}=this.props;e&&e({external:!this.internal})}else this.processStart(!1)}processMove(e,r){const{horizontal:n,vertical:i,activationDistance:a,onScroll:s}=this.props,o=this.container.current;this.started?(n&&(o.scrollLeft-=e-this.clientX),i&&(o.scrollTop-=r-this.clientY),s&&s({external:!this.internal}),this.clientX=e,this.clientY=r,this.scrollLeft=o.scrollLeft,this.scrollTop=o.scrollTop):(n&&Math.abs(e-this.clientX)>a||i&&Math.abs(r-this.clientY)>a)&&(this.clientX=e,this.clientY=r,this.processStart())}processEnd(){const{onEndScroll:e}=this.props;this.container.current&&e&&e({external:!this.internal}),this.pressed=!1,this.started=!1,this.scrolling=!1,this.internal=!1,document.body.classList.remove("cursor-grab"),this.forceUpdate()}getRef(e){[this.container,this.props.innerRef].forEach(r=>{r&&(typeof r=="function"?r(e):r.current=e)})}render(){const{children:e,draggingClassName:r,className:n,style:i,hideScrollbars:a}=this.props;return se.jsx("div",{className:a6e(n,this.pressed&&r,{"!scroll-auto [&>*]:pointer-events-none [&>*]:cursor-grab":this.pressed,"overflow-auto":this.isMobile,"overflow-hidden !overflow-x-hidden [overflow:-moz-scrollbars-none] [scrollbar-width:none]":a,"[&::-webkit-scrollbar]:[-webkit-appearance:none !important] [&::-webkit-scrollbar]:!hidden [&::-webkit-scrollbar]:!h-0 [&::-webkit-scrollbar]:!w-0 [&::-webkit-scrollbar]:!bg-transparent":a}),style:i,ref:this.getRef,onScroll:this.onScroll,children:e})}}ti(d6e,"defaultProps",{nativeMobileScroll:!0,hideScrollbars:!0,activationDistance:10,vertical:!0,horizontal:!0,stopPropagation:!1,style:{},buttons:[h6e]});const f6e=fe.forwardRef(({className:t,color:e="default",theme:r={},...n},i)=>{const a=it(Lt().checkbox,r);return se.jsx("input",{ref:i,type:"checkbox",className:ze(a.root.base,a.root.color[e],t),...n})});f6e.displayName="Checkbox";function Tw(){return typeof window<"u"}function wh(t){return Jj(t)?(t.nodeName||"").toLowerCase():"#document"}function os(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Bl(t){var e;return(e=(Jj(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function Jj(t){return Tw()?t instanceof Node||t instanceof os(t).Node:!1}function jr(t){return Tw()?t instanceof Element||t instanceof os(t).Element:!1}function Qn(t){return Tw()?t instanceof HTMLElement||t instanceof os(t).HTMLElement:!1}function RS(t){return!Tw()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof os(t).ShadowRoot}function Ny(t){const{overflow:e,overflowX:r,overflowY:n,display:i}=mo(t);return/auto|scroll|overlay|hidden|clip/.test(e+n+r)&&!["inline","contents"].includes(i)}function p6e(t){return["table","td","th"].includes(wh(t))}function Ew(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function F_(t){const e=B_(),r=jr(t)?mo(t):t;return r.transform!=="none"||r.perspective!=="none"||(r.containerType?r.containerType!=="normal":!1)||!e&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!e&&(r.filter?r.filter!=="none":!1)||["transform","perspective","filter"].some(n=>(r.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(r.contain||"").includes(n))}function g6e(t){let e=Ic(t);for(;Qn(e)&&!eh(e);){if(F_(e))return e;if(Ew(e))return null;e=Ic(e)}return null}function B_(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function eh(t){return["html","body","#document"].includes(wh(t))}function mo(t){return os(t).getComputedStyle(t)}function Sw(t){return jr(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Ic(t){if(wh(t)==="html")return t;const e=t.assignedSlot||t.parentNode||RS(t)&&t.host||Bl(t);return RS(e)?e.host:e}function eX(t){const e=Ic(t);return eh(e)?t.ownerDocument?t.ownerDocument.body:t.body:Qn(e)&&Ny(e)?e:eX(e)}function Uu(t,e,r){var n;e===void 0&&(e=[]),r===void 0&&(r=!0);const i=eX(t),a=i===((n=t.ownerDocument)==null?void 0:n.body),s=os(i);if(a){const o=MS(s);return e.concat(s,s.visualViewport||[],Ny(i)?i:[],o&&r?Uu(o):[])}return e.concat(i,Uu(i,[],r))}function MS(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function Io(t){let e=t.activeElement;for(;((r=e)==null||(r=r.shadowRoot)==null?void 0:r.activeElement)!=null;){var r;e=e.shadowRoot.activeElement}return e}function Yn(t,e){if(!t||!e)return!1;const r=e.getRootNode==null?void 0:e.getRootNode();if(t.contains(e))return!0;if(r&&RS(r)){let n=e;for(;n;){if(t===n)return!0;n=n.parentNode||n.host}}return!1}function $_(){const t=navigator.userAgentData;return t!=null&&t.platform?t.platform:navigator.platform}function tX(){const t=navigator.userAgentData;return t&&Array.isArray(t.brands)?t.brands.map(e=>{let{brand:r,version:n}=e;return r+"/"+n}).join(" "):navigator.userAgent}function rX(t){return t.mozInputSource===0&&t.isTrusted?!0:IS()&&t.pointerType?t.type==="click"&&t.buttons===1:t.detail===0&&!t.pointerType}function z_(t){return m6e()?!1:!IS()&&t.width===0&&t.height===0||IS()&&t.width===1&&t.height===1&&t.pressure===0&&t.detail===0&&t.pointerType==="mouse"||t.width<1&&t.height<1&&t.pressure===0&&t.detail===0&&t.pointerType==="touch"}function U_(){return/apple/i.test(navigator.vendor)}function IS(){const t=/android/i;return t.test($_())||t.test(tX())}function nX(){return $_().toLowerCase().startsWith("mac")&&!navigator.maxTouchPoints}function m6e(){return tX().includes("jsdom/")}function Cv(t,e){const r=["mouse","pen"];return e||r.push("",void 0),r.includes(t)}function v6e(t){return"nativeEvent"in t}function y6e(t){return t.matches("html,body")}function Vi(t){return(t==null?void 0:t.ownerDocument)||document}function vT(t,e){if(e==null)return!1;if("composedPath"in t)return t.composedPath().includes(e);const r=t;return r.target!=null&&e.contains(r.target)}function oc(t){return"composedPath"in t?t.composedPath()[0]:t.target}const x6e="input:not([type='hidden']):not([disabled]),[contenteditable]:not([contenteditable='false']),textarea:not([disabled])";function V_(t){return Qn(t)&&t.matches(x6e)}function Ui(t){t.preventDefault(),t.stopPropagation()}function iX(t){return t?t.getAttribute("role")==="combobox"&&V_(t):!1}const b6e=["top","right","bottom","left"],vD=["start","end"],yD=b6e.reduce((t,e)=>t.concat(e,e+"-"+vD[0],e+"-"+vD[1]),[]),qp=Math.min,md=Math.max,o3=Math.round,o0=Math.floor,th=t=>({x:t,y:t}),w6e={left:"right",right:"left",bottom:"top",top:"bottom"},k6e={start:"end",end:"start"};function DS(t,e,r){return md(t,qp(e,r))}function Rg(t,e){return typeof t=="function"?t(e):t}function Dc(t){return t.split("-")[0]}function Cl(t){return t.split("-")[1]}function aX(t){return t==="x"?"y":"x"}function G_(t){return t==="y"?"height":"width"}function Cw(t){return["top","bottom"].includes(Dc(t))?"y":"x"}function H_(t){return aX(Cw(t))}function sX(t,e,r){r===void 0&&(r=!1);const n=Cl(t),i=H_(t),a=G_(i);let s=i==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return e.reference[a]>e.floating[a]&&(s=c3(s)),[s,c3(s)]}function T6e(t){const e=c3(t);return[l3(t),e,l3(e)]}function l3(t){return t.replace(/start|end/g,e=>k6e[e])}function E6e(t,e,r){const n=["left","right"],i=["right","left"],a=["top","bottom"],s=["bottom","top"];switch(t){case"top":case"bottom":return r?e?i:n:e?n:i;case"left":case"right":return e?a:s;default:return[]}}function S6e(t,e,r,n){const i=Cl(t);let a=E6e(Dc(t),r==="start",n);return i&&(a=a.map(s=>s+"-"+i),e&&(a=a.concat(a.map(l3)))),a}function c3(t){return t.replace(/left|right|bottom|top/g,e=>w6e[e])}function C6e(t){return{top:0,right:0,bottom:0,left:0,...t}}function oX(t){return typeof t!="number"?C6e(t):{top:t,right:t,bottom:t,left:t}}function u3(t){const{x:e,y:r,width:n,height:i}=t;return{width:n,height:i,top:r,left:e,right:e+n,bottom:r+i,x:e,y:r}}function xD(t,e,r){let{reference:n,floating:i}=t;const a=Cw(e),s=H_(e),o=G_(s),l=Dc(e),u=a==="y",h=n.x+n.width/2-i.width/2,d=n.y+n.height/2-i.height/2,p=n[o]/2-i[o]/2;let f;switch(l){case"top":f={x:h,y:n.y-i.height};break;case"bottom":f={x:h,y:n.y+n.height};break;case"right":f={x:n.x+n.width,y:d};break;case"left":f={x:n.x-i.width,y:d};break;default:f={x:n.x,y:n.y}}switch(Cl(e)){case"start":f[s]-=p*(r&&u?-1:1);break;case"end":f[s]+=p*(r&&u?-1:1);break}return f}const A6e=async(t,e,r)=>{const{placement:n="bottom",strategy:i="absolute",middleware:a=[],platform:s}=r,o=a.filter(Boolean),l=await(s.isRTL==null?void 0:s.isRTL(e));let u=await s.getElementRects({reference:t,floating:e,strategy:i}),{x:h,y:d}=xD(u,n,l),p=n,f={},g=0;for(let m=0;m<o.length;m++){const{name:y,fn:v}=o[m],{x,y:w,data:k,reset:E}=await v({x:h,y:d,initialPlacement:n,placement:p,strategy:i,middlewareData:f,rects:u,platform:s,elements:{reference:t,floating:e}});h=x??h,d=w??d,f={...f,[y]:{...f[y],...k}},E&&g<=50&&(g++,typeof E=="object"&&(E.placement&&(p=E.placement),E.rects&&(u=E.rects===!0?await s.getElementRects({reference:t,floating:e,strategy:i}):E.rects),{x:h,y:d}=xD(u,p,l)),m=-1)}return{x:h,y:d,placement:p,strategy:i,middlewareData:f}};async function W_(t,e){var r;e===void 0&&(e={});const{x:n,y:i,platform:a,rects:s,elements:o,strategy:l}=t,{boundary:u="clippingAncestors",rootBoundary:h="viewport",elementContext:d="floating",altBoundary:p=!1,padding:f=0}=Rg(e,t),g=oX(f),y=o[p?d==="floating"?"reference":"floating":d],v=u3(await a.getClippingRect({element:(r=await(a.isElement==null?void 0:a.isElement(y)))==null||r?y:y.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(o.floating)),boundary:u,rootBoundary:h,strategy:l})),x=d==="floating"?{x:n,y:i,width:s.floating.width,height:s.floating.height}:s.reference,w=await(a.getOffsetParent==null?void 0:a.getOffsetParent(o.floating)),k=await(a.isElement==null?void 0:a.isElement(w))?await(a.getScale==null?void 0:a.getScale(w))||{x:1,y:1}:{x:1,y:1},E=u3(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:o,rect:x,offsetParent:w,strategy:l}):x);return{top:(v.top-E.top+g.top)/k.y,bottom:(E.bottom-v.bottom+g.bottom)/k.y,left:(v.left-E.left+g.left)/k.x,right:(E.right-v.right+g.right)/k.x}}const _6e=t=>({name:"arrow",options:t,async fn(e){const{x:r,y:n,placement:i,rects:a,platform:s,elements:o,middlewareData:l}=e,{element:u,padding:h=0}=Rg(t,e)||{};if(u==null)return{};const d=oX(h),p={x:r,y:n},f=H_(i),g=G_(f),m=await s.getDimensions(u),y=f==="y",v=y?"top":"left",x=y?"bottom":"right",w=y?"clientHeight":"clientWidth",k=a.reference[g]+a.reference[f]-p[f]-a.floating[g],E=p[f]-a.reference[f],_=await(s.getOffsetParent==null?void 0:s.getOffsetParent(u));let S=_?_[w]:0;(!S||!await(s.isElement==null?void 0:s.isElement(_)))&&(S=o.floating[w]||a.floating[g]);const R=k/2-E/2,C=S/2-m[g]/2-1,L=qp(d[v],C),A=qp(d[x],C),N=L,F=S-m[g]-A,T=S/2-m[g]/2+R,D=DS(N,T,F),M=!l.arrow&&Cl(i)!=null&&T!==D&&a.reference[g]/2-(T<N?L:A)-m[g]/2<0,O=M?T<N?T-N:T-F:0;return{[f]:p[f]+O,data:{[f]:D,centerOffset:T-D-O,...M&&{alignmentOffset:O}},reset:M}}});function L6e(t,e,r){return(t?[...r.filter(i=>Cl(i)===t),...r.filter(i=>Cl(i)!==t)]:r.filter(i=>Dc(i)===i)).filter(i=>t?Cl(i)===t||(e?l3(i)!==i:!1):!0)}const N6e=function(t){return t===void 0&&(t={}),{name:"autoPlacement",options:t,async fn(e){var r,n,i;const{rects:a,middlewareData:s,placement:o,platform:l,elements:u}=e,{crossAxis:h=!1,alignment:d,allowedPlacements:p=yD,autoAlignment:f=!0,...g}=Rg(t,e),m=d!==void 0||p===yD?L6e(d||null,f,p):p,y=await W_(e,g),v=((r=s.autoPlacement)==null?void 0:r.index)||0,x=m[v];if(x==null)return{};const w=sX(x,a,await(l.isRTL==null?void 0:l.isRTL(u.floating)));if(o!==x)return{reset:{placement:m[0]}};const k=[y[Dc(x)],y[w[0]],y[w[1]]],E=[...((n=s.autoPlacement)==null?void 0:n.overflows)||[],{placement:x,overflows:k}],_=m[v+1];if(_)return{data:{index:v+1,overflows:E},reset:{placement:_}};const S=E.map(L=>{const A=Cl(L.placement);return[L.placement,A&&h?L.overflows.slice(0,2).reduce((N,F)=>N+F,0):L.overflows[0],L.overflows]}).sort((L,A)=>L[1]-A[1]),C=((i=S.filter(L=>L[2].slice(0,Cl(L[0])?2:3).every(A=>A<=0))[0])==null?void 0:i[0])||S[0][0];return C!==o?{data:{index:v+1,overflows:E},reset:{placement:C}}:{}}}},R6e=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var r,n;const{placement:i,middlewareData:a,rects:s,initialPlacement:o,platform:l,elements:u}=e,{mainAxis:h=!0,crossAxis:d=!0,fallbackPlacements:p,fallbackStrategy:f="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:m=!0,...y}=Rg(t,e);if((r=a.arrow)!=null&&r.alignmentOffset)return{};const v=Dc(i),x=Dc(o)===o,w=await(l.isRTL==null?void 0:l.isRTL(u.floating)),k=p||(x||!m?[c3(o)]:T6e(o));!p&&g!=="none"&&k.push(...S6e(o,m,g,w));const E=[o,...k],_=await W_(e,y),S=[];let R=((n=a.flip)==null?void 0:n.overflows)||[];if(h&&S.push(_[v]),d){const N=sX(i,s,w);S.push(_[N[0]],_[N[1]])}if(R=[...R,{placement:i,overflows:S}],!S.every(N=>N<=0)){var C,L;const N=(((C=a.flip)==null?void 0:C.index)||0)+1,F=E[N];if(F)return{data:{index:N,overflows:R},reset:{placement:F}};let T=(L=R.filter(D=>D.overflows[0]<=0).sort((D,M)=>D.overflows[1]-M.overflows[1])[0])==null?void 0:L.placement;if(!T)switch(f){case"bestFit":{var A;const D=(A=R.map(M=>[M.placement,M.overflows.filter(O=>O>0).reduce((O,I)=>O+I,0)]).sort((M,O)=>M[1]-O[1])[0])==null?void 0:A[0];D&&(T=D);break}case"initialPlacement":T=o;break}if(i!==T)return{reset:{placement:T}}}return{}}}};async function M6e(t,e){const{placement:r,platform:n,elements:i}=t,a=await(n.isRTL==null?void 0:n.isRTL(i.floating)),s=Dc(r),o=Cl(r),l=Cw(r)==="y",u=["left","top"].includes(s)?-1:1,h=a&&l?-1:1,d=Rg(e,t);let{mainAxis:p,crossAxis:f,alignmentAxis:g}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...d};return o&&typeof g=="number"&&(f=o==="end"?g*-1:g),l?{x:f*h,y:p*u}:{x:p*u,y:f*h}}const I6e=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var r,n;const{x:i,y:a,placement:s,middlewareData:o}=e,l=await M6e(e,t);return s===((r=o.offset)==null?void 0:r.placement)&&(n=o.arrow)!=null&&n.alignmentOffset?{}:{x:i+l.x,y:a+l.y,data:{...l,placement:s}}}}},D6e=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:r,y:n,placement:i}=e,{mainAxis:a=!0,crossAxis:s=!1,limiter:o={fn:y=>{let{x:v,y:x}=y;return{x:v,y:x}}},...l}=Rg(t,e),u={x:r,y:n},h=await W_(e,l),d=Cw(Dc(i)),p=aX(d);let f=u[p],g=u[d];if(a){const y=p==="y"?"top":"left",v=p==="y"?"bottom":"right",x=f+h[y],w=f-h[v];f=DS(x,f,w)}if(s){const y=d==="y"?"top":"left",v=d==="y"?"bottom":"right",x=g+h[y],w=g-h[v];g=DS(x,g,w)}const m=o.fn({...e,[p]:f,[d]:g});return{...m,data:{x:m.x-r,y:m.y-n}}}}};function lX(t){const e=mo(t);let r=parseFloat(e.width)||0,n=parseFloat(e.height)||0;const i=Qn(t),a=i?t.offsetWidth:r,s=i?t.offsetHeight:n,o=o3(r)!==a||o3(n)!==s;return o&&(r=a,n=s),{width:r,height:n,$:o}}function Y_(t){return jr(t)?t:t.contextElement}function C0(t){const e=Y_(t);if(!Qn(e))return th(1);const r=e.getBoundingClientRect(),{width:n,height:i,$:a}=lX(e);let s=(a?o3(r.width):r.width)/n,o=(a?o3(r.height):r.height)/i;return(!s||!Number.isFinite(s))&&(s=1),(!o||!Number.isFinite(o))&&(o=1),{x:s,y:o}}const O6e=th(0);function cX(t){const e=os(t);return!B_()||!e.visualViewport?O6e:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function P6e(t,e,r){return e===void 0&&(e=!1),!r||e&&r!==os(t)?!1:e}function Pd(t,e,r,n){e===void 0&&(e=!1),r===void 0&&(r=!1);const i=t.getBoundingClientRect(),a=Y_(t);let s=th(1);e&&(n?jr(n)&&(s=C0(n)):s=C0(t));const o=P6e(a,r,n)?cX(a):th(0);let l=(i.left+o.x)/s.x,u=(i.top+o.y)/s.y,h=i.width/s.x,d=i.height/s.y;if(a){const p=os(a),f=n&&jr(n)?os(n):n;let g=p,m=MS(g);for(;m&&n&&f!==g;){const y=C0(m),v=m.getBoundingClientRect(),x=mo(m),w=v.left+(m.clientLeft+parseFloat(x.paddingLeft))*y.x,k=v.top+(m.clientTop+parseFloat(x.paddingTop))*y.y;l*=y.x,u*=y.y,h*=y.x,d*=y.y,l+=w,u+=k,g=os(m),m=MS(g)}}return u3({width:h,height:d,x:l,y:u})}function F6e(t){let{elements:e,rect:r,offsetParent:n,strategy:i}=t;const a=i==="fixed",s=Bl(n),o=e?Ew(e.floating):!1;if(n===s||o&&a)return r;let l={scrollLeft:0,scrollTop:0},u=th(1);const h=th(0),d=Qn(n);if((d||!d&&!a)&&((wh(n)!=="body"||Ny(s))&&(l=Sw(n)),Qn(n))){const p=Pd(n);u=C0(n),h.x=p.x+n.clientLeft,h.y=p.y+n.clientTop}return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-l.scrollLeft*u.x+h.x,y:r.y*u.y-l.scrollTop*u.y+h.y}}function B6e(t){return Array.from(t.getClientRects())}function OS(t,e){const r=Sw(t).scrollLeft;return e?e.left+r:Pd(Bl(t)).left+r}function $6e(t){const e=Bl(t),r=Sw(t),n=t.ownerDocument.body,i=md(e.scrollWidth,e.clientWidth,n.scrollWidth,n.clientWidth),a=md(e.scrollHeight,e.clientHeight,n.scrollHeight,n.clientHeight);let s=-r.scrollLeft+OS(t);const o=-r.scrollTop;return mo(n).direction==="rtl"&&(s+=md(e.clientWidth,n.clientWidth)-i),{width:i,height:a,x:s,y:o}}function z6e(t,e){const r=os(t),n=Bl(t),i=r.visualViewport;let a=n.clientWidth,s=n.clientHeight,o=0,l=0;if(i){a=i.width,s=i.height;const u=B_();(!u||u&&e==="fixed")&&(o=i.offsetLeft,l=i.offsetTop)}return{width:a,height:s,x:o,y:l}}function U6e(t,e){const r=Pd(t,!0,e==="fixed"),n=r.top+t.clientTop,i=r.left+t.clientLeft,a=Qn(t)?C0(t):th(1),s=t.clientWidth*a.x,o=t.clientHeight*a.y,l=i*a.x,u=n*a.y;return{width:s,height:o,x:l,y:u}}function bD(t,e,r){let n;if(e==="viewport")n=z6e(t,r);else if(e==="document")n=$6e(Bl(t));else if(jr(e))n=U6e(e,r);else{const i=cX(t);n={...e,x:e.x-i.x,y:e.y-i.y}}return u3(n)}function uX(t,e){const r=Ic(t);return r===e||!jr(r)||eh(r)?!1:mo(r).position==="fixed"||uX(r,e)}function V6e(t,e){const r=e.get(t);if(r)return r;let n=Uu(t,[],!1).filter(o=>jr(o)&&wh(o)!=="body"),i=null;const a=mo(t).position==="fixed";let s=a?Ic(t):t;for(;jr(s)&&!eh(s);){const o=mo(s),l=F_(s);!l&&o.position==="fixed"&&(i=null),(a?!l&&!i:!l&&o.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||Ny(s)&&!l&&uX(t,s))?n=n.filter(h=>h!==s):i=o,s=Ic(s)}return e.set(t,n),n}function G6e(t){let{element:e,boundary:r,rootBoundary:n,strategy:i}=t;const s=[...r==="clippingAncestors"?Ew(e)?[]:V6e(e,this._c):[].concat(r),n],o=s[0],l=s.reduce((u,h)=>{const d=bD(e,h,i);return u.top=md(d.top,u.top),u.right=qp(d.right,u.right),u.bottom=qp(d.bottom,u.bottom),u.left=md(d.left,u.left),u},bD(e,o,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function H6e(t){const{width:e,height:r}=lX(t);return{width:e,height:r}}function W6e(t,e,r){const n=Qn(e),i=Bl(e),a=r==="fixed",s=Pd(t,!0,a,e);let o={scrollLeft:0,scrollTop:0};const l=th(0);if(n||!n&&!a)if((wh(e)!=="body"||Ny(i))&&(o=Sw(e)),n){const f=Pd(e,!0,a,e);l.x=f.x+e.clientLeft,l.y=f.y+e.clientTop}else i&&(l.x=OS(i));let u=0,h=0;if(i&&!n&&!a){const f=i.getBoundingClientRect();h=f.top+o.scrollTop,u=f.left+o.scrollLeft-OS(i,f)}const d=s.left+o.scrollLeft-l.x-u,p=s.top+o.scrollTop-l.y-h;return{x:d,y:p,width:s.width,height:s.height}}function yT(t){return mo(t).position==="static"}function wD(t,e){if(!Qn(t)||mo(t).position==="fixed")return null;if(e)return e(t);let r=t.offsetParent;return Bl(t)===r&&(r=r.ownerDocument.body),r}function hX(t,e){const r=os(t);if(Ew(t))return r;if(!Qn(t)){let i=Ic(t);for(;i&&!eh(i);){if(jr(i)&&!yT(i))return i;i=Ic(i)}return r}let n=wD(t,e);for(;n&&p6e(n)&&yT(n);)n=wD(n,e);return n&&eh(n)&&yT(n)&&!F_(n)?r:n||g6e(t)||r}const Y6e=async function(t){const e=this.getOffsetParent||hX,r=this.getDimensions,n=await r(t.floating);return{reference:W6e(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function q6e(t){return mo(t).direction==="rtl"}const j6e={convertOffsetParentRelativeRectToViewportRelativeRect:F6e,getDocumentElement:Bl,getClippingRect:G6e,getOffsetParent:hX,getElementRects:Y6e,getClientRects:B6e,getDimensions:H6e,getScale:C0,isElement:jr,isRTL:q6e};function X6e(t,e){let r=null,n;const i=Bl(t);function a(){var o;clearTimeout(n),(o=r)==null||o.disconnect(),r=null}function s(o,l){o===void 0&&(o=!1),l===void 0&&(l=1),a();const{left:u,top:h,width:d,height:p}=t.getBoundingClientRect();if(o||e(),!d||!p)return;const f=o0(h),g=o0(i.clientWidth-(u+d)),m=o0(i.clientHeight-(h+p)),y=o0(u),x={rootMargin:-f+"px "+-g+"px "+-m+"px "+-y+"px",threshold:md(0,qp(1,l))||1};let w=!0;function k(E){const _=E[0].intersectionRatio;if(_!==l){if(!w)return s();_?s(!1,_):n=setTimeout(()=>{s(!1,1e-7)},1e3)}w=!1}try{r=new IntersectionObserver(k,{...x,root:i.ownerDocument})}catch{r=new IntersectionObserver(k,x)}r.observe(t)}return s(!0),a}function dX(t,e,r,n){n===void 0&&(n={});const{ancestorScroll:i=!0,ancestorResize:a=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:o=typeof IntersectionObserver=="function",animationFrame:l=!1}=n,u=Y_(t),h=i||a?[...u?Uu(u):[],...Uu(e)]:[];h.forEach(v=>{i&&v.addEventListener("scroll",r,{passive:!0}),a&&v.addEventListener("resize",r)});const d=u&&o?X6e(u,r):null;let p=-1,f=null;s&&(f=new ResizeObserver(v=>{let[x]=v;x&&x.target===u&&f&&(f.unobserve(e),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var w;(w=f)==null||w.observe(e)})),r()}),u&&!l&&f.observe(u),f.observe(e));let g,m=l?Pd(t):null;l&&y();function y(){const v=Pd(t);m&&(v.x!==m.x||v.y!==m.y||v.width!==m.width||v.height!==m.height)&&r(),m=v,g=requestAnimationFrame(y)}return r(),()=>{var v;h.forEach(x=>{i&&x.removeEventListener("scroll",r),a&&x.removeEventListener("resize",r)}),d==null||d(),(v=f)==null||v.disconnect(),f=null,l&&cancelAnimationFrame(g)}}const K6e=I6e,Q6e=N6e,Z6e=D6e,J6e=R6e,kD=_6e,eke=(t,e,r)=>{const n=new Map,i={platform:j6e,...r},a={...i.platform,_c:n};return A6e(t,e,{...i,platform:a})};var vb=typeof document<"u"?fe.useLayoutEffect:fe.useEffect;function h3(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let r,n,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(r=t.length,r!==e.length)return!1;for(n=r;n--!==0;)if(!h3(t[n],e[n]))return!1;return!0}if(i=Object.keys(t),r=i.length,r!==Object.keys(e).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(e,i[n]))return!1;for(n=r;n--!==0;){const a=i[n];if(!(a==="_owner"&&t.$$typeof)&&!h3(t[a],e[a]))return!1}return!0}return t!==t&&e!==e}function fX(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function TD(t,e){const r=fX(t);return Math.round(e*r)/r}function xT(t){const e=fe.useRef(t);return vb(()=>{e.current=t}),e}function tke(t){t===void 0&&(t={});const{placement:e="bottom",strategy:r="absolute",middleware:n=[],platform:i,elements:{reference:a,floating:s}={},transform:o=!0,whileElementsMounted:l,open:u}=t,[h,d]=fe.useState({x:0,y:0,strategy:r,placement:e,middlewareData:{},isPositioned:!1}),[p,f]=fe.useState(n);h3(p,n)||f(n);const[g,m]=fe.useState(null),[y,v]=fe.useState(null),x=fe.useCallback(I=>{I!==_.current&&(_.current=I,m(I))},[]),w=fe.useCallback(I=>{I!==S.current&&(S.current=I,v(I))},[]),k=a||g,E=s||y,_=fe.useRef(null),S=fe.useRef(null),R=fe.useRef(h),C=l!=null,L=xT(l),A=xT(i),N=xT(u),F=fe.useCallback(()=>{if(!_.current||!S.current)return;const I={placement:e,strategy:r,middleware:p};A.current&&(I.platform=A.current),eke(_.current,S.current,I).then(P=>{const B={...P,isPositioned:N.current!==!1};T.current&&!h3(R.current,B)&&(R.current=B,MA.flushSync(()=>{d(B)}))})},[p,e,r,A,N]);vb(()=>{u===!1&&R.current.isPositioned&&(R.current.isPositioned=!1,d(I=>({...I,isPositioned:!1})))},[u]);const T=fe.useRef(!1);vb(()=>(T.current=!0,()=>{T.current=!1}),[]),vb(()=>{if(k&&(_.current=k),E&&(S.current=E),k&&E){if(L.current)return L.current(k,E,F);F()}},[k,E,F,L,C]);const D=fe.useMemo(()=>({reference:_,floating:S,setReference:x,setFloating:w}),[x,w]),M=fe.useMemo(()=>({reference:k,floating:E}),[k,E]),O=fe.useMemo(()=>{const I={position:r,left:0,top:0};if(!M.floating)return I;const P=TD(M.floating,h.x),B=TD(M.floating,h.y);return o?{...I,transform:"translate("+P+"px, "+B+"px)",...fX(M.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:P,top:B}},[r,o,M.floating,h.x,h.y]);return fe.useMemo(()=>({...h,update:F,refs:D,elements:M,floatingStyles:O}),[h,F,D,M,O])}const rke=t=>{function e(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:t,fn(r){const{element:n,padding:i}=typeof t=="function"?t(r):t;return n&&e(n)?n.current!=null?kD({element:n.current,padding:i}).fn(r):{}:n?kD({element:n,padding:i}).fn(r):{}}}},nke=(t,e)=>({...K6e(t),options:[t,e]}),ike=(t,e)=>({...Z6e(t),options:[t,e]}),ake=(t,e)=>({...J6e(t),options:[t,e]}),ske=(t,e)=>({...Q6e(t),options:[t,e]}),oke=(t,e)=>({...rke(t),options:[t,e]});/*!
* tabbable 6.2.0
* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
*/var lke=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],d3=lke.join(","),pX=typeof Element>"u",jp=pX?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,f3=!pX&&Element.prototype.getRootNode?function(t){var e;return t==null||(e=t.getRootNode)===null||e===void 0?void 0:e.call(t)}:function(t){return t==null?void 0:t.ownerDocument},p3=function t(e,r){var n;r===void 0&&(r=!0);var i=e==null||(n=e.getAttribute)===null||n===void 0?void 0:n.call(e,"inert"),a=i===""||i==="true",s=a||r&&e&&t(e.parentNode);return s},cke=function(e){var r,n=e==null||(r=e.getAttribute)===null||r===void 0?void 0:r.call(e,"contenteditable");return n===""||n==="true"},uke=function(e,r,n){if(p3(e))return[];var i=Array.prototype.slice.apply(e.querySelectorAll(d3));return r&&jp.call(e,d3)&&i.unshift(e),i=i.filter(n),i},hke=function t(e,r,n){for(var i=[],a=Array.from(e);a.length;){var s=a.shift();if(!p3(s,!1))if(s.tagName==="SLOT"){var o=s.assignedElements(),l=o.length?o:s.children,u=t(l,!0,n);n.flatten?i.push.apply(i,u):i.push({scopeParent:s,candidates:u})}else{var h=jp.call(s,d3);h&&n.filter(s)&&(r||!e.includes(s))&&i.push(s);var d=s.shadowRoot||typeof n.getShadowRoot=="function"&&n.getShadowRoot(s),p=!p3(d,!1)&&(!n.shadowRootFilter||n.shadowRootFilter(s));if(d&&p){var f=t(d===!0?s.children:d.children,!0,n);n.flatten?i.push.apply(i,f):i.push({scopeParent:s,candidates:f})}else a.unshift.apply(a,s.children)}}return i},gX=function(e){return!isNaN(parseInt(e.getAttribute("tabindex"),10))},mX=function(e){if(!e)throw new Error("No node provided");return e.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(e.tagName)||cke(e))&&!gX(e)?0:e.tabIndex},dke=function(e,r){var n=mX(e);return n<0&&r&&!gX(e)?0:n},fke=function(e,r){return e.tabIndex===r.tabIndex?e.documentOrder-r.documentOrder:e.tabIndex-r.tabIndex},vX=function(e){return e.tagName==="INPUT"},pke=function(e){return vX(e)&&e.type==="hidden"},gke=function(e){var r=e.tagName==="DETAILS"&&Array.prototype.slice.apply(e.children).some(function(n){return n.tagName==="SUMMARY"});return r},mke=function(e,r){for(var n=0;n<e.length;n++)if(e[n].checked&&e[n].form===r)return e[n]},vke=function(e){if(!e.name)return!0;var r=e.form||f3(e),n=function(o){return r.querySelectorAll('input[type="radio"][name="'+o+'"]')},i;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")i=n(window.CSS.escape(e.name));else try{i=n(e.name)}catch(s){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",s.message),!1}var a=mke(i,e.form);return!a||a===e},yke=function(e){return vX(e)&&e.type==="radio"},xke=function(e){return yke(e)&&!vke(e)},bke=function(e){var r,n=e&&f3(e),i=(r=n)===null||r===void 0?void 0:r.host,a=!1;if(n&&n!==e){var s,o,l;for(a=!!((s=i)!==null&&s!==void 0&&(o=s.ownerDocument)!==null&&o!==void 0&&o.contains(i)||e!=null&&(l=e.ownerDocument)!==null&&l!==void 0&&l.contains(e));!a&&i;){var u,h,d;n=f3(i),i=(u=n)===null||u===void 0?void 0:u.host,a=!!((h=i)!==null&&h!==void 0&&(d=h.ownerDocument)!==null&&d!==void 0&&d.contains(i))}}return a},ED=function(e){var r=e.getBoundingClientRect(),n=r.width,i=r.height;return n===0&&i===0},wke=function(e,r){var n=r.displayCheck,i=r.getShadowRoot;if(getComputedStyle(e).visibility==="hidden")return!0;var a=jp.call(e,"details>summary:first-of-type"),s=a?e.parentElement:e;if(jp.call(s,"details:not([open]) *"))return!0;if(!n||n==="full"||n==="legacy-full"){if(typeof i=="function"){for(var o=e;e;){var l=e.parentElement,u=f3(e);if(l&&!l.shadowRoot&&i(l)===!0)return ED(e);e.assignedSlot?e=e.assignedSlot:!l&&u!==e.ownerDocument?e=u.host:e=l}e=o}if(bke(e))return!e.getClientRects().length;if(n!=="legacy-full")return!0}else if(n==="non-zero-area")return ED(e);return!1},kke=function(e){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(e.tagName))for(var r=e.parentElement;r;){if(r.tagName==="FIELDSET"&&r.disabled){for(var n=0;n<r.children.length;n++){var i=r.children.item(n);if(i.tagName==="LEGEND")return jp.call(r,"fieldset[disabled] *")?!0:!i.contains(e)}return!0}r=r.parentElement}return!1},Tke=function(e,r){return!(r.disabled||p3(r)||pke(r)||wke(r,e)||gke(r)||kke(r))},PS=function(e,r){return!(xke(r)||mX(r)<0||!Tke(e,r))},Eke=function(e){var r=parseInt(e.getAttribute("tabindex"),10);return!!(isNaN(r)||r>=0)},Ske=function t(e){var r=[],n=[];return e.forEach(function(i,a){var s=!!i.scopeParent,o=s?i.scopeParent:i,l=dke(o,s),u=s?t(i.candidates):o;l===0?s?r.push.apply(r,u):r.push(o):n.push({documentOrder:a,tabIndex:l,item:i,isScope:s,content:u})}),n.sort(fke).reduce(function(i,a){return a.isScope?i.push.apply(i,a.content):i.push(a.content),i},[]).concat(r)},Aw=function(e,r){r=r||{};var n;return r.getShadowRoot?n=hke([e],r.includeContainer,{filter:PS.bind(null,r),flatten:!1,getShadowRoot:r.getShadowRoot,shadowRootFilter:Eke}):n=uke(e,r.includeContainer,PS.bind(null,r)),Ske(n)},Cke=function(e,r){if(r=r||{},!e)throw new Error("No node provided");return jp.call(e,d3)===!1?!1:PS(r,e)};function yX(t){return fe.useMemo(()=>t.every(e=>e==null)?null:e=>{t.forEach(r=>{typeof r=="function"?r(e):r!=null&&(r.current=e)})},t)}const xX={...Toe},Ake=xX.useInsertionEffect,_ke=Ake||(t=>t());function Ja(t){const e=fe.useRef(()=>{});return _ke(()=>{e.current=t}),fe.useCallback(function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return e.current==null?void 0:e.current(...n)},[])}const q_="ArrowUp",Ry="ArrowDown",Xp="ArrowLeft",Mg="ArrowRight";function ax(t,e,r){return Math.floor(t/e)!==r}function Im(t,e){return e<0||e>=t.current.length}function bT(t,e){return ca(t,{disabledIndices:e})}function SD(t,e){return ca(t,{decrement:!0,startingIndex:t.current.length,disabledIndices:e})}function ca(t,e){let{startingIndex:r=-1,decrement:n=!1,disabledIndices:i,amount:a=1}=e===void 0?{}:e;const s=t.current;let o=r;do o+=n?-a:a;while(o>=0&&o<=s.length-1&&yb(s,o,i));return o}function Lke(t,e){let{event:r,orientation:n,loop:i,cols:a,disabledIndices:s,minIndex:o,maxIndex:l,prevIndex:u,stopEvent:h=!1}=e,d=u;if(r.key===q_){if(h&&Ui(r),u===-1)d=l;else if(d=ca(t,{startingIndex:d,amount:a,decrement:!0,disabledIndices:s}),i&&(u-a<o||d<0)){const p=u%a,f=l%a,g=l-(f-p);f===p?d=l:d=f>p?g:g-a}Im(t,d)&&(d=u)}if(r.key===Ry&&(h&&Ui(r),u===-1?d=o:(d=ca(t,{startingIndex:u,amount:a,disabledIndices:s}),i&&u+a>l&&(d=ca(t,{startingIndex:u%a-a,amount:a,disabledIndices:s}))),Im(t,d)&&(d=u)),n==="both"){const p=o0(u/a);r.key===Mg&&(h&&Ui(r),u%a!==a-1?(d=ca(t,{startingIndex:u,disabledIndices:s}),i&&ax(d,a,p)&&(d=ca(t,{startingIndex:u-u%a-1,disabledIndices:s}))):i&&(d=ca(t,{startingIndex:u-u%a-1,disabledIndices:s})),ax(d,a,p)&&(d=u)),r.key===Xp&&(h&&Ui(r),u%a!==0?(d=ca(t,{startingIndex:u,decrement:!0,disabledIndices:s}),i&&ax(d,a,p)&&(d=ca(t,{startingIndex:u+(a-u%a),decrement:!0,disabledIndices:s}))):i&&(d=ca(t,{startingIndex:u+(a-u%a),decrement:!0,disabledIndices:s})),ax(d,a,p)&&(d=u));const f=o0(l/a)===p;Im(t,d)&&(i&&f?d=r.key===Xp?l:ca(t,{startingIndex:u-u%a-1,disabledIndices:s}):d=u)}return d}function Nke(t,e,r){const n=[];let i=0;return t.forEach((a,s)=>{let{width:o,height:l}=a,u=!1;for(r&&(i=0);!u;){const h=[];for(let d=0;d<o;d++)for(let p=0;p<l;p++)h.push(i+d+p*e);i%e+o<=e&&h.every(d=>n[d]==null)?(h.forEach(d=>{n[d]=s}),u=!0):i++}}),[...n]}function Rke(t,e,r,n,i){if(t===-1)return-1;const a=r.indexOf(t),s=e[t];switch(i){case"tl":return a;case"tr":return s?a+s.width-1:a;case"bl":return s?a+(s.height-1)*n:a;case"br":return r.lastIndexOf(t)}}function Mke(t,e){return e.flatMap((r,n)=>t.includes(r)?[n]:[])}function yb(t,e,r){if(r)return r.includes(e);const n=t[e];return n==null||n.hasAttribute("disabled")||n.getAttribute("aria-disabled")==="true"}let CD=0;function rc(t,e){e===void 0&&(e={});const{preventScroll:r=!1,cancelPrevious:n=!0,sync:i=!1}=e;n&&cancelAnimationFrame(CD);const a=()=>t==null?void 0:t.focus({preventScroll:r});i?a():CD=requestAnimationFrame(a)}var qr=typeof document<"u"?fe.useLayoutEffect:fe.useEffect;function Ike(t,e){const r=t.compareDocumentPosition(e);return r&Node.DOCUMENT_POSITION_FOLLOWING||r&Node.DOCUMENT_POSITION_CONTAINED_BY?-1:r&Node.DOCUMENT_POSITION_PRECEDING||r&Node.DOCUMENT_POSITION_CONTAINS?1:0}function Dke(t,e){if(t.size!==e.size)return!1;for(const[r,n]of t.entries())if(n!==e.get(r))return!1;return!0}const bX=fe.createContext({register:()=>{},unregister:()=>{},map:new Map,elementsRef:{current:[]}});function Oke(t){const{children:e,elementsRef:r,labelsRef:n}=t,[i,a]=fe.useState(()=>new Map),s=fe.useCallback(l=>{a(u=>new Map(u).set(l,null))},[]),o=fe.useCallback(l=>{a(u=>{const h=new Map(u);return h.delete(l),h})},[]);return qr(()=>{const l=new Map(i);Array.from(l.keys()).sort(Ike).forEach((h,d)=>{l.set(h,d)}),Dke(i,l)||a(l)},[i]),fe.createElement(bX.Provider,{value:fe.useMemo(()=>({register:s,unregister:o,map:i,elementsRef:r,labelsRef:n}),[s,o,i,r,n])},e)}function Pke(t){t===void 0&&(t={});const{label:e}=t,{register:r,unregister:n,map:i,elementsRef:a,labelsRef:s}=fe.useContext(bX),[o,l]=fe.useState(null),u=fe.useRef(null),h=fe.useCallback(d=>{if(u.current=d,o!==null&&(a.current[o]=d,s)){var p;const f=e!==void 0;s.current[o]=f?e:(p=d==null?void 0:d.textContent)!=null?p:null}},[o,a,s,e]);return qr(()=>{const d=u.current;if(d)return r(d),()=>{n(d)}},[r,n]),qr(()=>{const d=u.current?i.get(u.current):null;d!=null&&l(d)},[i]),fe.useMemo(()=>({ref:h,index:o??-1}),[o,h])}function Av(){return Av=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Av.apply(this,arguments)}let AD=!1,Fke=0;const _D=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+Fke++;function Bke(){const[t,e]=fe.useState(()=>AD?_D():void 0);return qr(()=>{t==null&&e(_D())},[]),fe.useEffect(()=>{AD=!0},[]),t}const $ke=xX.useId,_w=$ke||Bke;function zke(){const t=new Map;return{emit(e,r){var n;(n=t.get(e))==null||n.forEach(i=>i(r))},on(e,r){t.set(e,[...t.get(e)||[],r])},off(e,r){var n;t.set(e,((n=t.get(e))==null?void 0:n.filter(i=>i!==r))||[])}}}const Uke=fe.createContext(null),Vke=fe.createContext(null),Lw=()=>{var t;return((t=fe.useContext(Uke))==null?void 0:t.id)||null},My=()=>fe.useContext(Vke);function Fd(t){return"data-floating-ui-"+t}function Js(t){const e=fe.useRef(t);return qr(()=>{e.current=t}),e}const LD=Fd("safe-polygon");function wT(t,e,r){return r&&!Cv(r)?0:typeof t=="number"?t:t==null?void 0:t[e]}function Gke(t,e){e===void 0&&(e={});const{open:r,onOpenChange:n,dataRef:i,events:a,elements:{domReference:s,floating:o}}=t,{enabled:l=!0,delay:u=0,handleClose:h=null,mouseOnly:d=!1,restMs:p=0,move:f=!0}=e,g=My(),m=Lw(),y=Js(h),v=Js(u),x=fe.useRef(),w=fe.useRef(-1),k=fe.useRef(),E=fe.useRef(-1),_=fe.useRef(!0),S=fe.useRef(!1),R=fe.useRef(()=>{}),C=fe.useCallback(()=>{var F;const T=(F=i.current.openEvent)==null?void 0:F.type;return(T==null?void 0:T.includes("mouse"))&&T!=="mousedown"},[i]);fe.useEffect(()=>{if(!l)return;function F(T){let{open:D}=T;D||(clearTimeout(w.current),clearTimeout(E.current),_.current=!0)}return a.on("openchange",F),()=>{a.off("openchange",F)}},[l,a]),fe.useEffect(()=>{if(!l||!y.current||!r)return;function F(D){C()&&n(!1,D,"hover")}const T=Vi(o).documentElement;return T.addEventListener("mouseleave",F),()=>{T.removeEventListener("mouseleave",F)}},[o,r,n,l,y,C]);const L=fe.useCallback(function(F,T,D){T===void 0&&(T=!0),D===void 0&&(D="hover");const M=wT(v.current,"close",x.current);M&&!k.current?(clearTimeout(w.current),w.current=window.setTimeout(()=>n(!1,F,D),M)):T&&(clearTimeout(w.current),n(!1,F,D))},[v,n]),A=Ja(()=>{R.current(),k.current=void 0}),N=Ja(()=>{if(S.current){const F=Vi(o).body;F.style.pointerEvents="",F.removeAttribute(LD),S.current=!1}});return fe.useEffect(()=>{if(!l)return;function F(){return i.current.openEvent?["click","mousedown"].includes(i.current.openEvent.type):!1}function T(O){if(clearTimeout(w.current),_.current=!1,d&&!Cv(x.current)||p>0&&!wT(v.current,"open"))return;const I=wT(v.current,"open",x.current);I?w.current=window.setTimeout(()=>{n(!0,O,"hover")},I):n(!0,O,"hover")}function D(O){if(F())return;R.current();const I=Vi(o);if(clearTimeout(E.current),y.current&&i.current.floatingContext){r||clearTimeout(w.current),k.current=y.current({...i.current.floatingContext,tree:g,x:O.clientX,y:O.clientY,onClose(){N(),A(),L(O,!0,"safe-polygon")}});const B=k.current;I.addEventListener("mousemove",B),R.current=()=>{I.removeEventListener("mousemove",B)};return}(x.current==="touch"?!Yn(o,O.relatedTarget):!0)&&L(O)}function M(O){F()||i.current.floatingContext&&(y.current==null||y.current({...i.current.floatingContext,tree:g,x:O.clientX,y:O.clientY,onClose(){N(),A(),L(O)}})(O))}if(jr(s)){const O=s;return r&&O.addEventListener("mouseleave",M),o==null||o.addEventListener("mouseleave",M),f&&O.addEventListener("mousemove",T,{once:!0}),O.addEventListener("mouseenter",T),O.addEventListener("mouseleave",D),()=>{r&&O.removeEventListener("mouseleave",M),o==null||o.removeEventListener("mouseleave",M),f&&O.removeEventListener("mousemove",T),O.removeEventListener("mouseenter",T),O.removeEventListener("mouseleave",D)}}},[s,o,l,t,d,p,f,L,A,N,n,r,g,v,y,i]),qr(()=>{var F;if(l&&r&&(F=y.current)!=null&&F.__options.blockPointerEvents&&C()){const D=Vi(o).body;if(D.setAttribute(LD,""),D.style.pointerEvents="none",S.current=!0,jr(s)&&o){var T;const M=s,O=g==null||(T=g.nodesRef.current.find(I=>I.id===m))==null||(T=T.context)==null?void 0:T.elements.floating;return O&&(O.style.pointerEvents=""),M.style.pointerEvents="auto",o.style.pointerEvents="auto",()=>{M.style.pointerEvents="",o.style.pointerEvents=""}}}},[l,r,m,o,s,g,y,C]),qr(()=>{r||(x.current=void 0,A(),N())},[r,A,N]),fe.useEffect(()=>()=>{A(),clearTimeout(w.current),clearTimeout(E.current),N()},[l,s,A,N]),fe.useMemo(()=>{if(!l)return{};function F(T){x.current=T.pointerType}return{reference:{onPointerDown:F,onPointerEnter:F,onMouseMove(T){const{nativeEvent:D}=T;function M(){_.current||n(!0,D,"hover")}d&&!Cv(x.current)||r||p===0||(clearTimeout(E.current),x.current==="touch"?M():E.current=window.setTimeout(M,p))}},floating:{onMouseEnter(){clearTimeout(w.current)},onMouseLeave(T){L(T.nativeEvent,!1)}}}},[l,d,r,p,n,L])}function Hke(t,e){var r;let n=[],i=(r=t.find(a=>a.id===e))==null?void 0:r.parentId;for(;i;){const a=t.find(s=>s.id===i);i=a==null?void 0:a.parentId,a&&(n=n.concat(a))}return n}function vd(t,e){let r=t.filter(i=>{var a;return i.parentId===e&&((a=i.context)==null?void 0:a.open)}),n=r;for(;n.length;)n=t.filter(i=>{var a;return(a=n)==null?void 0:a.some(s=>{var o;return i.parentId===s.id&&((o=i.context)==null?void 0:o.open)})}),r=r.concat(n);return r}function Wke(t,e){let r,n=-1;function i(a,s){s>n&&(r=a,n=s),vd(t,a).forEach(l=>{i(l.id,s+1)})}return i(e,0),t.find(a=>a.id===r)}let Rf=new WeakMap,sx=new WeakSet,ox={},kT=0;const Yke=()=>typeof HTMLElement<"u"&&"inert"in HTMLElement.prototype,wX=t=>t&&(t.host||wX(t.parentNode)),qke=(t,e)=>e.map(r=>{if(t.contains(r))return r;const n=wX(r);return t.contains(n)?n:null}).filter(r=>r!=null);function jke(t,e,r,n){const i="data-floating-ui-inert",a=n?"inert":r?"aria-hidden":null,s=qke(e,t),o=new Set,l=new Set(s),u=[];ox[i]||(ox[i]=new WeakMap);const h=ox[i];s.forEach(d),p(e),o.clear();function d(f){!f||o.has(f)||(o.add(f),f.parentNode&&d(f.parentNode))}function p(f){!f||l.has(f)||[].forEach.call(f.children,g=>{if(wh(g)!=="script")if(o.has(g))p(g);else{const m=a?g.getAttribute(a):null,y=m!==null&&m!=="false",v=(Rf.get(g)||0)+1,x=(h.get(g)||0)+1;Rf.set(g,v),h.set(g,x),u.push(g),v===1&&y&&sx.add(g),x===1&&g.setAttribute(i,""),!y&&a&&g.setAttribute(a,"true")}})}return kT++,()=>{u.forEach(f=>{const g=(Rf.get(f)||0)-1,m=(h.get(f)||0)-1;Rf.set(f,g),h.set(f,m),g||(!sx.has(f)&&a&&f.removeAttribute(a),sx.delete(f)),m||f.removeAttribute(i)}),kT--,kT||(Rf=new WeakMap,Rf=new WeakMap,sx=new WeakSet,ox={})}}function ND(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!1);const n=Vi(t[0]).body;return jke(t.concat(Array.from(n.querySelectorAll("[aria-live]"))),n,e,r)}const _v=()=>({getShadowRoot:!0,displayCheck:typeof ResizeObserver=="function"&&ResizeObserver.toString().includes("[native code]")?"full":"none"});function kX(t,e){const r=Aw(t,_v());e==="prev"&&r.reverse();const n=r.indexOf(Io(Vi(t)));return r.slice(n+1)[0]}function TX(){return kX(document.body,"next")}function EX(){return kX(document.body,"prev")}function Dm(t,e){const r=e||t.currentTarget,n=t.relatedTarget;return!n||!Yn(r,n)}function Xke(t){Aw(t,_v()).forEach(r=>{r.dataset.tabindex=r.getAttribute("tabindex")||"",r.setAttribute("tabindex","-1")})}function Kke(t){t.querySelectorAll("[data-tabindex]").forEach(r=>{const n=r.dataset.tabindex;delete r.dataset.tabindex,n?r.setAttribute("tabindex",n):r.removeAttribute("tabindex")})}const j_={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"fixed",whiteSpace:"nowrap",width:"1px",top:0,left:0};let Qke;function RD(t){t.key==="Tab"&&(t.target,clearTimeout(Qke))}const g3=fe.forwardRef(function(e,r){const[n,i]=fe.useState();qr(()=>(U_()&&i("button"),document.addEventListener("keydown",RD),()=>{document.removeEventListener("keydown",RD)}),[]);const a={ref:r,tabIndex:0,role:n,"aria-hidden":n?void 0:!0,[Fd("focus-guard")]:"",style:j_};return fe.createElement("span",Av({},e,a))}),SX=fe.createContext(null),MD=Fd("portal");function Zke(t){t===void 0&&(t={});const{id:e,root:r}=t,n=_w(),i=CX(),[a,s]=fe.useState(null),o=fe.useRef(null);return qr(()=>()=>{a==null||a.remove(),queueMicrotask(()=>{o.current=null})},[a]),qr(()=>{if(!n||o.current)return;const l=e?document.getElementById(e):null;if(!l)return;const u=document.createElement("div");u.id=n,u.setAttribute(MD,""),l.appendChild(u),o.current=u,s(u)},[e,n]),qr(()=>{if(!n||o.current)return;let l=r||(i==null?void 0:i.portalNode);l&&!jr(l)&&(l=l.current),l=l||document.body;let u=null;e&&(u=document.createElement("div"),u.id=e,l.appendChild(u));const h=document.createElement("div");h.id=n,h.setAttribute(MD,""),l=u||l,l.appendChild(h),o.current=h,s(h)},[e,r,n,i]),a}function Jke(t){const{children:e,id:r,root:n=null,preserveTabOrder:i=!0}=t,a=Zke({id:r,root:n}),[s,o]=fe.useState(null),l=fe.useRef(null),u=fe.useRef(null),h=fe.useRef(null),d=fe.useRef(null),p=!!s&&!s.modal&&s.open&&i&&!!(n||a);return fe.useEffect(()=>{if(!a||!i||s!=null&&s.modal)return;function f(g){a&&Dm(g)&&(g.type==="focusin"?Kke:Xke)(a)}return a.addEventListener("focusin",f,!0),a.addEventListener("focusout",f,!0),()=>{a.removeEventListener("focusin",f,!0),a.removeEventListener("focusout",f,!0)}},[a,i,s==null?void 0:s.modal]),fe.createElement(SX.Provider,{value:fe.useMemo(()=>({preserveTabOrder:i,beforeOutsideRef:l,afterOutsideRef:u,beforeInsideRef:h,afterInsideRef:d,portalNode:a,setFocusManagerState:o}),[i,a])},p&&a&&fe.createElement(g3,{"data-type":"outside",ref:l,onFocus:f=>{if(Dm(f,a)){var g;(g=h.current)==null||g.focus()}else{const m=EX()||(s==null?void 0:s.refs.domReference.current);m==null||m.focus()}}}),p&&a&&fe.createElement("span",{"aria-owns":a.id,style:j_}),a&&MA.createPortal(e,a),p&&a&&fe.createElement(g3,{"data-type":"outside",ref:u,onFocus:f=>{if(Dm(f,a)){var g;(g=d.current)==null||g.focus()}else{const m=TX()||(s==null?void 0:s.refs.domReference.current);m==null||m.focus(),s!=null&&s.closeOnFocusOut&&(s==null||s.onOpenChange(!1,f.nativeEvent))}}}))}const CX=()=>fe.useContext(SX),ID=20;let Vh=[];function TT(t){Vh=Vh.filter(r=>r.isConnected);let e=t;if(!(!e||wh(e)==="body")){if(!Cke(e,_v())){const r=Aw(e,_v())[0];r&&(e=r)}Vh.push(e),Vh.length>ID&&(Vh=Vh.slice(-ID))}}function DD(){return Vh.slice().reverse().find(t=>t.isConnected)}const eTe=fe.forwardRef(function(e,r){return fe.createElement("button",Av({},e,{type:"button",ref:r,tabIndex:-1,style:j_}))});function AX(t){const{context:e,children:r,disabled:n=!1,order:i=["content"],guards:a=!0,initialFocus:s=0,returnFocus:o=!0,restoreFocus:l=!1,modal:u=!0,visuallyHiddenDismiss:h=!1,closeOnFocusOut:d=!0}=t,{open:p,refs:f,nodeId:g,onOpenChange:m,events:y,dataRef:v,floatingId:x,elements:{domReference:w,floating:k}}=e,E=typeof s=="number"&&s<0,_=iX(w)&&E,S=Yke()?a:!0,R=Js(i),C=Js(s),L=Js(o),A=My(),N=CX(),F=fe.useRef(null),T=fe.useRef(null),D=fe.useRef(!1),M=fe.useRef(!1),O=fe.useRef(-1),I=N!=null,P=k==null?void 0:k.firstElementChild,B=(P==null?void 0:P.id)===x?P:k,$=Ja(function(Z){return Z===void 0&&(Z=B),Z?Aw(Z,_v()):[]}),V=Ja(Z=>{const H=$(Z);return R.current.map(ee=>w&&ee==="reference"?w:B&&ee==="floating"?B:H).filter(Boolean).flat()});fe.useEffect(()=>{if(n||!u)return;function Z(ee){if(ee.key==="Tab"){Yn(B,Io(Vi(B)))&&$().length===0&&!_&&Ui(ee);const te=V(),U=oc(ee);R.current[0]==="reference"&&U===w&&(Ui(ee),ee.shiftKey?rc(te[te.length-1]):rc(te[1])),R.current[1]==="floating"&&U===B&&ee.shiftKey&&(Ui(ee),rc(te[0]))}}const H=Vi(B);return H.addEventListener("keydown",Z),()=>{H.removeEventListener("keydown",Z)}},[n,w,B,u,R,_,$,V]),fe.useEffect(()=>{if(n||!k)return;function Z(H){const ee=oc(H),U=$().indexOf(ee);U!==-1&&(O.current=U)}return k.addEventListener("focusin",Z),()=>{k.removeEventListener("focusin",Z)}},[n,k,$]),fe.useEffect(()=>{if(n||!d)return;function Z(){M.current=!0,setTimeout(()=>{M.current=!1})}function H(ee){const te=ee.relatedTarget;queueMicrotask(()=>{const U=!(Yn(w,te)||Yn(k,te)||Yn(te,k)||Yn(N==null?void 0:N.portalNode,te)||te!=null&&te.hasAttribute(Fd("focus-guard"))||A&&(vd(A.nodesRef.current,g).find(j=>{var Y,Q;return Yn((Y=j.context)==null?void 0:Y.elements.floating,te)||Yn((Q=j.context)==null?void 0:Q.elements.domReference,te)})||Hke(A.nodesRef.current,g).find(j=>{var Y,Q;return((Y=j.context)==null?void 0:Y.elements.floating)===te||((Q=j.context)==null?void 0:Q.elements.domReference)===te})));if(l&&U&&Io(Vi(B))===Vi(B).body){Qn(B)&&(B==null||B.focus());const j=O.current,Y=$(),Q=Y[j]||Y[Y.length-1]||B;Qn(Q)&&Q.focus()}!u&&te&&U&&!M.current&&te!==DD()&&(D.current=!0,m(!1,ee))})}if(k&&Qn(w))return w.addEventListener("focusout",H),w.addEventListener("pointerdown",Z),k.addEventListener("focusout",H),()=>{w.removeEventListener("focusout",H),w.removeEventListener("pointerdown",Z),k.removeEventListener("focusout",H)}},[n,w,k,B,u,g,A,N,m,d,l,$]),fe.useEffect(()=>{var Z;if(n)return;const H=Array.from((N==null||(Z=N.portalNode)==null?void 0:Z.querySelectorAll("["+Fd("portal")+"]"))||[]);if(k){const ee=[k,...H,F.current,T.current,R.current.includes("reference")||_?w:null].filter(U=>U!=null),te=u||_?ND(ee,S,!S):ND(ee);return()=>{te()}}},[n,w,k,u,R,N,_,S]),qr(()=>{if(n||!Qn(B))return;const Z=Vi(B),H=Io(Z);queueMicrotask(()=>{const ee=V(B),te=C.current,U=(typeof te=="number"?ee[te]:te.current)||B,j=Yn(B,H);!E&&!j&&p&&rc(U,{preventScroll:U===B})})},[n,p,B,E,V,C]),qr(()=>{if(n||!B)return;let Z=!1;const H=Vi(B),ee=Io(H);let U=v.current.openEvent;TT(ee);function j(Y){let{open:Q,reason:ae,event:ie,nested:J}=Y;Q&&(U=ie),ae==="escape-key"&&f.domReference.current&&TT(f.domReference.current),ae==="hover"&&ie.type==="mouseleave"&&(D.current=!0),ae==="outside-press"&&(J?(D.current=!1,Z=!0):D.current=!(rX(ie)||z_(ie)))}return y.on("openchange",j),()=>{y.off("openchange",j);const Y=Io(H),Q=Yn(k,Y)||A&&vd(A.nodesRef.current,g).some(J=>{var _e;return Yn((_e=J.context)==null?void 0:_e.elements.floating,Y)});(Q||U&&["click","mousedown"].includes(U.type))&&f.domReference.current&&TT(f.domReference.current);const ie=DD();L.current&&!D.current&&Qn(ie)&&(!(ie!==Y&&Y!==H.body)||Q)&&rc(ie,{cancelPrevious:!1,preventScroll:Z})}},[n,k,B,L,v,f,y,A,g]),qr(()=>{if(!n&&N)return N.setFocusManagerState({modal:u,closeOnFocusOut:d,open:p,onOpenChange:m,refs:f}),()=>{N.setFocusManagerState(null)}},[n,N,u,p,m,f,d]),qr(()=>{if(n||!B||typeof MutationObserver!="function"||E)return;const Z=()=>{const ee=B.getAttribute("tabindex"),te=$(),U=Io(Vi(k)),j=te.indexOf(U);j!==-1&&(O.current=j),R.current.includes("floating")||U!==f.domReference.current&&te.length===0?ee!=="0"&&B.setAttribute("tabindex","0"):ee!=="-1"&&B.setAttribute("tabindex","-1")};Z();const H=new MutationObserver(Z);return H.observe(B,{childList:!0,subtree:!0,attributes:!0}),()=>{H.disconnect()}},[n,k,B,f,R,$,E]);function W(Z){return n||!h||!u?null:fe.createElement(eTe,{ref:Z==="start"?F:T,onClick:H=>m(!1,H.nativeEvent)},typeof h=="string"?h:"Dismiss")}const K=!n&&S&&(I||u);return fe.createElement(fe.Fragment,null,K&&fe.createElement(g3,{"data-type":"inside",ref:N==null?void 0:N.beforeInsideRef,onFocus:Z=>{if(u){const ee=V();rc(i[0]==="reference"?ee[0]:ee[ee.length-1])}else if(N!=null&&N.preserveTabOrder&&N.portalNode)if(D.current=!1,Dm(Z,N.portalNode)){const ee=TX()||w;ee==null||ee.focus()}else{var H;(H=N.beforeOutsideRef.current)==null||H.focus()}}}),!_&&W("start"),r,W("end"),K&&fe.createElement(g3,{"data-type":"inside",ref:N==null?void 0:N.afterInsideRef,onFocus:Z=>{if(u)rc(V()[0]);else if(N!=null&&N.preserveTabOrder&&N.portalNode)if(d&&(D.current=!0),Dm(Z,N.portalNode)){const ee=EX()||w;ee==null||ee.focus()}else{var H;(H=N.afterOutsideRef.current)==null||H.focus()}}}))}const ET=new Set,tTe=fe.forwardRef(function(e,r){const{lockScroll:n=!1,...i}=e,a=_w();return qr(()=>{if(!n)return;ET.add(a);const s=/iP(hone|ad|od)|iOS/.test($_()),o=document.body.style,u=Math.round(document.documentElement.getBoundingClientRect().left)+document.documentElement.scrollLeft?"paddingLeft":"paddingRight",h=window.innerWidth-document.documentElement.clientWidth,d=o.left?parseFloat(o.left):window.pageXOffset,p=o.top?parseFloat(o.top):window.pageYOffset;if(o.overflow="hidden",h&&(o[u]=h+"px"),s){var f,g;const m=((f=window.visualViewport)==null?void 0:f.offsetLeft)||0,y=((g=window.visualViewport)==null?void 0:g.offsetTop)||0;Object.assign(o,{position:"fixed",top:-(p-Math.floor(y))+"px",left:-(d-Math.floor(m))+"px",right:"0"})}return()=>{ET.delete(a),ET.size===0&&(Object.assign(o,{overflow:"",[u]:""}),s&&(Object.assign(o,{position:"",top:"",left:"",right:""}),window.scrollTo(d,p)))}},[a,n]),fe.createElement("div",Av({ref:r},i,{style:{position:"fixed",overflow:"auto",top:0,right:0,bottom:0,left:0,...i.style}}))});function OD(t){return Qn(t.target)&&t.target.tagName==="BUTTON"}function PD(t){return V_(t)}function _X(t,e){e===void 0&&(e={});const{open:r,onOpenChange:n,dataRef:i,elements:{domReference:a}}=t,{enabled:s=!0,event:o="click",toggle:l=!0,ignoreMouse:u=!1,keyboardHandlers:h=!0}=e,d=fe.useRef(),p=fe.useRef(!1);return fe.useMemo(()=>s?{reference:{onPointerDown(f){d.current=f.pointerType},onMouseDown(f){f.button===0&&(Cv(d.current,!0)&&u||o!=="click"&&(r&&l&&(!i.current.openEvent||i.current.openEvent.type==="mousedown")?n(!1,f.nativeEvent,"click"):(f.preventDefault(),n(!0,f.nativeEvent,"click"))))},onClick(f){if(o==="mousedown"&&d.current){d.current=void 0;return}Cv(d.current,!0)&&u||(r&&l&&(!i.current.openEvent||i.current.openEvent.type==="click")?n(!1,f.nativeEvent,"click"):n(!0,f.nativeEvent,"click"))},onKeyDown(f){d.current=void 0,!(f.defaultPrevented||!h||OD(f))&&(f.key===" "&&!PD(a)&&(f.preventDefault(),p.current=!0),f.key==="Enter"&&n(!(r&&l),f.nativeEvent,"click"))},onKeyUp(f){f.defaultPrevented||!h||OD(f)||PD(a)||f.key===" "&&p.current&&(p.current=!1,n(!(r&&l),f.nativeEvent,"click"))}}}:{},[s,i,o,u,h,a,l,r,n])}const rTe={pointerdown:"onPointerDown",mousedown:"onMouseDown",click:"onClick"},nTe={pointerdown:"onPointerDownCapture",mousedown:"onMouseDownCapture",click:"onClickCapture"},FD=t=>{var e,r;return{escapeKey:typeof t=="boolean"?t:(e=t==null?void 0:t.escapeKey)!=null?e:!1,outsidePress:typeof t=="boolean"?t:(r=t==null?void 0:t.outsidePress)!=null?r:!0}};function LX(t,e){e===void 0&&(e={});const{open:r,onOpenChange:n,elements:{reference:i,domReference:a,floating:s},dataRef:o}=t,{enabled:l=!0,escapeKey:u=!0,outsidePress:h=!0,outsidePressEvent:d="pointerdown",referencePress:p=!1,referencePressEvent:f="pointerdown",ancestorScroll:g=!1,bubbles:m,capture:y}=e,v=My(),x=Ja(typeof h=="function"?h:()=>!1),w=typeof h=="function"?x:h,k=fe.useRef(!1),E=fe.useRef(!1),{escapeKey:_,outsidePress:S}=FD(m),{escapeKey:R,outsidePress:C}=FD(y),L=Ja(T=>{var D;if(!r||!l||!u||T.key!=="Escape")return;const M=(D=o.current.floatingContext)==null?void 0:D.nodeId,O=v?vd(v.nodesRef.current,M):[];if(!_&&(T.stopPropagation(),O.length>0)){let I=!0;if(O.forEach(P=>{var B;if((B=P.context)!=null&&B.open&&!P.context.dataRef.current.__escapeKeyBubbles){I=!1;return}}),!I)return}n(!1,v6e(T)?T.nativeEvent:T,"escape-key")}),A=Ja(T=>{var D;const M=()=>{var O;L(T),(O=oc(T))==null||O.removeEventListener("keydown",M)};(D=oc(T))==null||D.addEventListener("keydown",M)}),N=Ja(T=>{var D;const M=k.current;k.current=!1;const O=E.current;if(E.current=!1,d==="click"&&O||M||typeof w=="function"&&!w(T))return;const I=oc(T),P="["+Fd("inert")+"]",B=Vi(s).querySelectorAll(P);let $=jr(I)?I:null;for(;$&&!eh($);){const Z=Ic($);if(eh(Z)||!jr(Z))break;$=Z}if(B.length&&jr(I)&&!y6e(I)&&!Yn(I,s)&&Array.from(B).every(Z=>!Yn($,Z)))return;if(Qn(I)&&s){const Z=I.clientWidth>0&&I.scrollWidth>I.clientWidth,H=I.clientHeight>0&&I.scrollHeight>I.clientHeight;let ee=H&&T.offsetX>I.clientWidth;if(H&&mo(I).direction==="rtl"&&(ee=T.offsetX<=I.offsetWidth-I.clientWidth),ee||Z&&T.offsetY>I.clientHeight)return}const V=(D=o.current.floatingContext)==null?void 0:D.nodeId,W=v&&vd(v.nodesRef.current,V).some(Z=>{var H;return vT(T,(H=Z.context)==null?void 0:H.elements.floating)});if(vT(T,s)||vT(T,a)||W)return;const K=v?vd(v.nodesRef.current,V):[];if(K.length>0){let Z=!0;if(K.forEach(H=>{var ee;if((ee=H.context)!=null&&ee.open&&!H.context.dataRef.current.__outsidePressBubbles){Z=!1;return}}),!Z)return}n(!1,T,"outside-press")}),F=Ja(T=>{var D;const M=()=>{var O;N(T),(O=oc(T))==null||O.removeEventListener(d,M)};(D=oc(T))==null||D.addEventListener(d,M)});return fe.useEffect(()=>{if(!r||!l)return;o.current.__escapeKeyBubbles=_,o.current.__outsidePressBubbles=S;function T(O){n(!1,O,"ancestor-scroll")}const D=Vi(s);u&&D.addEventListener("keydown",R?A:L,R),w&&D.addEventListener(d,C?F:N,C);let M=[];return g&&(jr(a)&&(M=Uu(a)),jr(s)&&(M=M.concat(Uu(s))),!jr(i)&&i&&i.contextElement&&(M=M.concat(Uu(i.contextElement)))),M=M.filter(O=>{var I;return O!==((I=D.defaultView)==null?void 0:I.visualViewport)}),M.forEach(O=>{O.addEventListener("scroll",T,{passive:!0})}),()=>{u&&D.removeEventListener("keydown",R?A:L,R),w&&D.removeEventListener(d,C?F:N,C),M.forEach(O=>{O.removeEventListener("scroll",T)})}},[o,s,a,i,u,w,d,r,n,g,l,_,S,L,R,A,N,C,F]),fe.useEffect(()=>{k.current=!1},[w,d]),fe.useMemo(()=>l?{reference:{onKeyDown:L,[rTe[f]]:T=>{p&&n(!1,T.nativeEvent,"reference-press")}},floating:{onKeyDown:L,onMouseDown(){E.current=!0},onMouseUp(){E.current=!0},[nTe[d]]:()=>{k.current=!0}}}:{},[l,p,d,f,n,L])}function iTe(t){const{open:e=!1,onOpenChange:r,elements:n}=t,i=_w(),a=fe.useRef({}),[s]=fe.useState(()=>zke()),o=Lw()!=null,[l,u]=fe.useState(n.reference),h=Ja((f,g,m)=>{a.current.openEvent=f?g:void 0,s.emit("openchange",{open:f,event:g,reason:m,nested:o}),r==null||r(f,g,m)}),d=fe.useMemo(()=>({setPositionReference:u}),[]),p=fe.useMemo(()=>({reference:l||n.reference||null,floating:n.floating||null,domReference:n.reference}),[l,n.reference,n.floating]);return fe.useMemo(()=>({dataRef:a,open:e,onOpenChange:h,elements:p,events:s,floatingId:i,refs:d}),[e,h,p,s,i,d])}function NX(t){t===void 0&&(t={});const{nodeId:e}=t,r=iTe({...t,elements:{reference:null,floating:null,...t.elements}}),n=t.rootContext||r,i=n.elements,[a,s]=fe.useState(null),[o,l]=fe.useState(null),h=(i==null?void 0:i.reference)||a,d=fe.useRef(null),p=My();qr(()=>{h&&(d.current=h)},[h]);const f=tke({...t,elements:{...i,...o&&{reference:o}}}),g=fe.useCallback(w=>{const k=jr(w)?{getBoundingClientRect:()=>w.getBoundingClientRect(),contextElement:w}:w;l(k),f.refs.setReference(k)},[f.refs]),m=fe.useCallback(w=>{(jr(w)||w===null)&&(d.current=w,s(w)),(jr(f.refs.reference.current)||f.refs.reference.current===null||w!==null&&!jr(w))&&f.refs.setReference(w)},[f.refs]),y=fe.useMemo(()=>({...f.refs,setReference:m,setPositionReference:g,domReference:d}),[f.refs,m,g]),v=fe.useMemo(()=>({...f.elements,domReference:h}),[f.elements,h]),x=fe.useMemo(()=>({...f,...n,refs:y,elements:v,nodeId:e}),[f,y,v,e,n]);return qr(()=>{n.dataRef.current.floatingContext=x;const w=p==null?void 0:p.nodesRef.current.find(k=>k.id===e);w&&(w.context=x)}),fe.useMemo(()=>({...f,context:x,refs:y,elements:v}),[f,y,v,x])}function aTe(t,e){e===void 0&&(e={});const{open:r,onOpenChange:n,events:i,dataRef:a,elements:{domReference:s}}=t,{enabled:o=!0,visibleOnly:l=!0}=e,u=fe.useRef(!1),h=fe.useRef(),d=fe.useRef(!0);return fe.useEffect(()=>{if(!o)return;const p=os(s);function f(){!r&&Qn(s)&&s===Io(Vi(s))&&(u.current=!0)}function g(){d.current=!0}return p.addEventListener("blur",f),p.addEventListener("keydown",g,!0),()=>{p.removeEventListener("blur",f),p.removeEventListener("keydown",g,!0)}},[s,r,o]),fe.useEffect(()=>{if(!o)return;function p(f){let{reason:g}=f;(g==="reference-press"||g==="escape-key")&&(u.current=!0)}return i.on("openchange",p),()=>{i.off("openchange",p)}},[i,o]),fe.useEffect(()=>()=>{clearTimeout(h.current)},[]),fe.useMemo(()=>o?{reference:{onPointerDown(p){z_(p.nativeEvent)||(d.current=!1)},onMouseLeave(){u.current=!1},onFocus(p){if(u.current)return;const f=oc(p.nativeEvent);if(l&&jr(f))try{if(U_()&&nX())throw Error();if(!f.matches(":focus-visible"))return}catch{if(!d.current&&!V_(f))return}n(!0,p.nativeEvent,"focus")},onBlur(p){u.current=!1;const f=p.relatedTarget,g=jr(f)&&f.hasAttribute(Fd("focus-guard"))&&f.getAttribute("data-type")==="outside";h.current=window.setTimeout(()=>{var m;const y=Io(s?s.ownerDocument:document);!f&&y===s||Yn((m=a.current.floatingContext)==null?void 0:m.refs.floating.current,y)||Yn(s,y)||g||n(!1,p.nativeEvent,"focus")})}}}:{},[o,l,a,s,n])}const BD="active",$D="selected";function ST(t,e,r){const n=new Map,i=r==="item";let a=t;if(i&&t){const{[BD]:s,[$D]:o,...l}=t;a=l}return{...r==="floating"&&{tabIndex:-1},...a,...e.map(s=>{const o=s?s[r]:null;return typeof o=="function"?t?o(t):null:o}).concat(t).reduce((s,o)=>(o&&Object.entries(o).forEach(l=>{let[u,h]=l;if(!(i&&[BD,$D].includes(u)))if(u.indexOf("on")===0){if(n.has(u)||n.set(u,[]),typeof h=="function"){var d;(d=n.get(u))==null||d.push(h),s[u]=function(){for(var p,f=arguments.length,g=new Array(f),m=0;m<f;m++)g[m]=arguments[m];return(p=n.get(u))==null?void 0:p.map(y=>y(...g)).find(y=>y!==void 0)}}}else s[u]=h}),s),{})}}function RX(t){t===void 0&&(t=[]);const e=t,r=fe.useCallback(a=>ST(a,t,"reference"),e),n=fe.useCallback(a=>ST(a,t,"floating"),e),i=fe.useCallback(a=>ST(a,t,"item"),t.map(a=>a==null?void 0:a.item));return fe.useMemo(()=>({getReferenceProps:r,getFloatingProps:n,getItemProps:i}),[r,n,i])}let zD=!1;function Nw(t,e,r){switch(t){case"vertical":return e;case"horizontal":return r;default:return e||r}}function UD(t,e){return Nw(e,t===q_||t===Ry,t===Xp||t===Mg)}function CT(t,e,r){return Nw(e,t===Ry,r?t===Xp:t===Mg)||t==="Enter"||t===" "||t===""}function sTe(t,e,r){return Nw(e,r?t===Xp:t===Mg,t===Ry)}function VD(t,e,r){return Nw(e,r?t===Mg:t===Xp,t===q_)}function oTe(t,e){const{open:r,onOpenChange:n,elements:{domReference:i,floating:a}}=t,{listRef:s,activeIndex:o,onNavigate:l=()=>{},enabled:u=!0,selectedIndex:h=null,allowEscape:d=!1,loop:p=!1,nested:f=!1,rtl:g=!1,virtual:m=!1,focusItemOnOpen:y="auto",focusItemOnHover:v=!0,openOnArrowKeyDown:x=!0,disabledIndices:w=void 0,orientation:k="vertical",cols:E=1,scrollItemIntoView:_=!0,virtualItemRef:S,itemSizes:R,dense:C=!1}=e,L=Lw(),A=My(),N=Ja(l),F=fe.useRef(y),T=fe.useRef(h??-1),D=fe.useRef(null),M=fe.useRef(!0),O=fe.useRef(N),I=fe.useRef(!!a),P=fe.useRef(!1),B=fe.useRef(!1),$=Js(w),V=Js(r),W=Js(_),K=Js(a),Z=Js(h),[H,ee]=fe.useState(),[te,U]=fe.useState(),j=Ja(function(ae,ie,J){J===void 0&&(J=!1);function _e(Te){m?(ee(Te.id),A==null||A.events.emit("virtualfocus",Te),S&&(S.current=Te)):rc(Te,{preventScroll:!0,sync:nX()&&U_()?zD||P.current:!1})}const ce=ae.current[ie.current];ce&&_e(ce),requestAnimationFrame(()=>{const Te=ae.current[ie.current]||ce;if(!Te)return;ce||_e(Te);const be=W.current;be&&Q&&(J||!M.current)&&(Te.scrollIntoView==null||Te.scrollIntoView(typeof be=="boolean"?{block:"nearest",inline:"nearest"}:be))})});qr(()=>{document.createElement("div").focus({get preventScroll(){return zD=!0,!1}})},[]),qr(()=>{u&&(r&&a?F.current&&h!=null&&(B.current=!0,T.current=h,N(h)):I.current&&(T.current=-1,O.current(null)))},[u,r,a,h,N]),qr(()=>{if(u&&r&&a)if(o==null){if(P.current=!1,Z.current!=null)return;if(I.current&&(T.current=-1,j(s,T)),!I.current&&F.current&&(D.current!=null||F.current===!0&&D.current==null)){let ae=0;const ie=()=>{s.current[0]==null?(ae<2&&(ae?requestAnimationFrame:queueMicrotask)(ie),ae++):(T.current=D.current==null||CT(D.current,k,g)||f?bT(s,$.current):SD(s,$.current),D.current=null,N(T.current))};ie()}}else Im(s,o)||(T.current=o,j(s,T,B.current),B.current=!1)},[u,r,a,o,Z,f,s,k,g,N,j,$]),qr(()=>{var ae;if(!u||a||!A||m||!I.current)return;const ie=A.nodesRef.current,J=(ae=ie.find(Te=>Te.id===L))==null||(ae=ae.context)==null?void 0:ae.elements.floating,_e=Io(Vi(a)),ce=ie.some(Te=>Te.context&&Yn(Te.context.elements.floating,_e));J&&!ce&&M.current&&J.focus({preventScroll:!0})},[u,a,A,L,m]),qr(()=>{if(!u||!A||!m||L)return;function ae(ie){U(ie.id),S&&(S.current=ie)}return A.events.on("virtualfocus",ae),()=>{A.events.off("virtualfocus",ae)}},[u,A,m,L,S]),qr(()=>{O.current=N,I.current=!!a}),qr(()=>{r||(D.current=null)},[r]);const Y=o!=null,Q=fe.useMemo(()=>{function ae(J){if(!r)return;const _e=s.current.indexOf(J);_e!==-1&&N(_e)}return{onFocus(J){let{currentTarget:_e}=J;ae(_e)},onClick:J=>{let{currentTarget:_e}=J;return _e.focus({preventScroll:!0})},...v&&{onMouseMove(J){let{currentTarget:_e}=J;ae(_e)},onPointerLeave(J){let{pointerType:_e}=J;!M.current||_e==="touch"||(T.current=-1,j(s,T),N(null),m||rc(K.current,{preventScroll:!0}))}}}},[r,K,j,v,s,N,m]);return fe.useMemo(()=>{if(!u)return{};const ae=$.current;function ie(be){if(M.current=!1,P.current=!0,!V.current&&be.currentTarget===K.current)return;if(f&&VD(be.key,k,g)){Ui(be),n(!1,be.nativeEvent,"list-navigation"),Qn(i)&&!m&&i.focus();return}const Ue=T.current,He=bT(s,ae),Ve=SD(s,ae);if(be.key==="Home"&&(Ui(be),T.current=He,N(T.current)),be.key==="End"&&(Ui(be),T.current=Ve,N(T.current)),E>1){const Re=R||Array.from({length:s.current.length},()=>({width:1,height:1})),de=Nke(Re,E,C),X=de.findIndex(me=>me!=null&&!yb(s.current,me,ae)),oe=de.reduce((me,ne,ue)=>ne!=null&&!yb(s.current,ne,ae)?ue:me,-1);if(T.current=de[Lke({current:de.map(me=>me!=null?s.current[me]:null)},{event:be,orientation:k,loop:p,cols:E,disabledIndices:Mke([...ae||s.current.map((me,ne)=>yb(s.current,ne)?ne:void 0),void 0],de),minIndex:X,maxIndex:oe,prevIndex:Rke(T.current>Ve?He:T.current,Re,de,E,be.key===Ry?"bl":be.key===Mg?"tr":"tl"),stopEvent:!0})],N(T.current),k==="both")return}if(UD(be.key,k)){if(Ui(be),r&&!m&&Io(be.currentTarget.ownerDocument)===be.currentTarget){T.current=CT(be.key,k,g)?He:Ve,N(T.current);return}CT(be.key,k,g)?p?T.current=Ue>=Ve?d&&Ue!==s.current.length?-1:He:ca(s,{startingIndex:Ue,disabledIndices:ae}):T.current=Math.min(Ve,ca(s,{startingIndex:Ue,disabledIndices:ae})):p?T.current=Ue<=He?d&&Ue!==-1?s.current.length:Ve:ca(s,{startingIndex:Ue,decrement:!0,disabledIndices:ae}):T.current=Math.max(He,ca(s,{startingIndex:Ue,decrement:!0,disabledIndices:ae})),Im(s,T.current)?N(null):N(T.current)}}function J(be){y==="auto"&&rX(be.nativeEvent)&&(F.current=!0)}function _e(be){F.current=y,y==="auto"&&z_(be.nativeEvent)&&(F.current=!0)}const ce=m&&r&&Y&&{"aria-activedescendant":te||H},Te=s.current.find(be=>(be==null?void 0:be.id)===H);return{reference:{...ce,onKeyDown(be){M.current=!1;const Ue=be.key.indexOf("Arrow")===0,He=sTe(be.key,k,g),Ve=VD(be.key,k,g),Re=UD(be.key,k),de=(f?He:Re)||be.key==="Enter"||be.key.trim()==="";if(m&&r){const ne=A==null?void 0:A.nodesRef.current.find(pe=>pe.parentId==null),ue=A&&ne?Wke(A.nodesRef.current,ne.id):null;if(Ue&&ue&&S){const pe=new KeyboardEvent("keydown",{key:be.key,bubbles:!0});if(He||Ve){var X,oe;const ge=((X=ue.context)==null?void 0:X.elements.domReference)===be.currentTarget,ve=Ve&&!ge?(oe=ue.context)==null?void 0:oe.elements.domReference:He?Te:null;ve&&(Ui(be),ve.dispatchEvent(pe),U(void 0))}if(Re&&ue.context&&ue.context.open&&ue.parentId&&be.currentTarget!==ue.context.elements.domReference){var me;Ui(be),(me=ue.context.elements.domReference)==null||me.dispatchEvent(pe);return}}return ie(be)}if(!(!r&&!x&&Ue)){if(de&&(D.current=f&&Re?null:be.key),f){He&&(Ui(be),r?(T.current=bT(s,ae),N(T.current)):n(!0,be.nativeEvent,"list-navigation"));return}Re&&(h!=null&&(T.current=h),Ui(be),!r&&x?n(!0,be.nativeEvent,"list-navigation"):ie(be),r&&N(T.current))}},onFocus(){r&&!m&&N(null)},onPointerDown:_e,onMouseDown:J,onClick:J},floating:{"aria-orientation":k==="both"?void 0:k,...!iX(i)&&ce,onKeyDown:ie,onPointerMove(){M.current=!0}},item:Q}},[i,K,H,te,$,V,s,u,k,g,m,r,Y,f,h,x,d,E,p,y,N,n,Q,A,S,R,C])}const lTe=new Map([["select","listbox"],["combobox","listbox"],["label",!1]]);function MX(t,e){var r;e===void 0&&(e={});const{open:n,floatingId:i}=t,{enabled:a=!0,role:s="dialog"}=e,o=(r=lTe.get(s))!=null?r:s,l=_w(),h=Lw()!=null;return fe.useMemo(()=>{if(!a)return{};const d={id:i,...o&&{role:o}};return o==="tooltip"||s==="label"?{reference:{["aria-"+(s==="label"?"labelledby":"describedby")]:n?i:void 0},floating:d}:{reference:{"aria-expanded":n?"true":"false","aria-haspopup":o==="alertdialog"?"dialog":o,"aria-controls":n?i:void 0,...o==="listbox"&&{role:"combobox"},...o==="menu"&&{id:l},...o==="menu"&&h&&{role:"menuitem"},...s==="select"&&{"aria-autocomplete":"none"},...s==="combobox"&&{"aria-autocomplete":"list"}},floating:{...d,...o==="menu"&&{"aria-labelledby":l}},item(p){let{active:f,selected:g}=p;const m={role:"option",...f&&{id:i+"-option"}};switch(s){case"select":return{...m,"aria-selected":f&&g};case"combobox":return{...m,...f&&{"aria-selected":!0}}}return{}}}},[a,s,o,n,i,l,h])}function cTe(t,e){var r;const{open:n,dataRef:i}=t,{listRef:a,activeIndex:s,onMatch:o,onTypingChange:l,enabled:u=!0,findMatch:h=null,resetMs:d=750,ignoreKeys:p=[],selectedIndex:f=null}=e,g=fe.useRef(),m=fe.useRef(""),y=fe.useRef((r=f??s)!=null?r:-1),v=fe.useRef(null),x=Ja(o),w=Ja(l),k=Js(h),E=Js(p);return qr(()=>{n&&(clearTimeout(g.current),v.current=null,m.current="")},[n]),qr(()=>{if(n&&m.current===""){var _;y.current=(_=f??s)!=null?_:-1}},[n,f,s]),fe.useMemo(()=>{if(!u)return{};function _(C){C?i.current.typing||(i.current.typing=C,w(C)):i.current.typing&&(i.current.typing=C,w(C))}function S(C,L,A){const N=k.current?k.current(L,A):L.find(F=>(F==null?void 0:F.toLocaleLowerCase().indexOf(A.toLocaleLowerCase()))===0);return N?C.indexOf(N):-1}function R(C){const L=a.current;if(m.current.length>0&&m.current[0]!==" "&&(S(L,L,m.current)===-1?_(!1):C.key===" "&&Ui(C)),L==null||E.current.includes(C.key)||C.key.length!==1||C.ctrlKey||C.metaKey||C.altKey)return;n&&C.key!==" "&&(Ui(C),_(!0)),L.every(T=>{var D,M;return T?((D=T[0])==null?void 0:D.toLocaleLowerCase())!==((M=T[1])==null?void 0:M.toLocaleLowerCase()):!0})&&m.current===C.key&&(m.current="",y.current=v.current),m.current+=C.key,clearTimeout(g.current),g.current=setTimeout(()=>{m.current="",y.current=v.current,_(!1)},d);const N=y.current,F=S(L,[...L.slice((N||0)+1),...L.slice(0,(N||0)+1)],m.current);F!==-1?(x(F),v.current=F):C.key!==" "&&(m.current="",_(!1))}return{reference:{onKeyDown:R},floating:{onKeyDown:R,onKeyUp(C){C.key===" "&&_(!1)}}}},[u,n,i,a,d,E,k,x,w])}function GD(t,e){const[r,n]=t;let i=!1;const a=e.length;for(let s=0,o=a-1;s<a;o=s++){const[l,u]=e[s]||[0,0],[h,d]=e[o]||[0,0];u>=n!=d>=n&&r<=(h-l)*(n-u)/(d-u)+l&&(i=!i)}return i}function uTe(t,e){return t[0]>=e.x&&t[0]<=e.x+e.width&&t[1]>=e.y&&t[1]<=e.y+e.height}function hTe(t){t===void 0&&(t={});const{buffer:e=.5,blockPointerEvents:r=!1,requireIntent:n=!0}=t;let i,a=!1,s=null,o=null,l=performance.now();function u(d,p){const f=performance.now(),g=f-l;if(s===null||o===null||g===0)return s=d,o=p,l=f,null;const m=d-s,y=p-o,x=Math.sqrt(m*m+y*y)/g;return s=d,o=p,l=f,x}const h=d=>{let{x:p,y:f,placement:g,elements:m,onClose:y,nodeId:v,tree:x}=d;return function(k){function E(){clearTimeout(i),y()}if(clearTimeout(i),!m.domReference||!m.floating||g==null||p==null||f==null)return;const{clientX:_,clientY:S}=k,R=[_,S],C=oc(k),L=k.type==="mouseleave",A=Yn(m.floating,C),N=Yn(m.domReference,C),F=m.domReference.getBoundingClientRect(),T=m.floating.getBoundingClientRect(),D=g.split("-")[0],M=p>T.right-T.width/2,O=f>T.bottom-T.height/2,I=uTe(R,F),P=T.width>F.width,B=T.height>F.height,$=(P?F:T).left,V=(P?F:T).right,W=(B?F:T).top,K=(B?F:T).bottom;if(A&&(a=!0,!L))return;if(N&&(a=!1),N&&!L){a=!0;return}if(L&&jr(k.relatedTarget)&&Yn(m.floating,k.relatedTarget)||x&&vd(x.nodesRef.current,v).some(ee=>{let{context:te}=ee;return te==null?void 0:te.open}))return;if(D==="top"&&f>=F.bottom-1||D==="bottom"&&f<=F.top+1||D==="left"&&p>=F.right-1||D==="right"&&p<=F.left+1)return E();let Z=[];switch(D){case"top":Z=[[$,F.top+1],[$,T.bottom-1],[V,T.bottom-1],[V,F.top+1]];break;case"bottom":Z=[[$,T.top+1],[$,F.bottom-1],[V,F.bottom-1],[V,T.top+1]];break;case"left":Z=[[T.right-1,K],[T.right-1,W],[F.left+1,W],[F.left+1,K]];break;case"right":Z=[[F.right-1,K],[F.right-1,W],[T.left+1,W],[T.left+1,K]];break}function H(ee){let[te,U]=ee;switch(D){case"top":{const j=[P?te+e/2:M?te+e*4:te-e*4,U+e+1],Y=[P?te-e/2:M?te+e*4:te-e*4,U+e+1],Q=[[T.left,M||P?T.bottom-e:T.top],[T.right,M?P?T.bottom-e:T.top:T.bottom-e]];return[j,Y,...Q]}case"bottom":{const j=[P?te+e/2:M?te+e*4:te-e*4,U-e],Y=[P?te-e/2:M?te+e*4:te-e*4,U-e],Q=[[T.left,M||P?T.top+e:T.bottom],[T.right,M?P?T.top+e:T.bottom:T.top+e]];return[j,Y,...Q]}case"left":{const j=[te+e+1,B?U+e/2:O?U+e*4:U-e*4],Y=[te+e+1,B?U-e/2:O?U+e*4:U-e*4];return[...[[O||B?T.right-e:T.left,T.top],[O?B?T.right-e:T.left:T.right-e,T.bottom]],j,Y]}case"right":{const j=[te-e,B?U+e/2:O?U+e*4:U-e*4],Y=[te-e,B?U-e/2:O?U+e*4:U-e*4],Q=[[O||B?T.left+e:T.right,T.top],[O?B?T.left+e:T.right:T.left+e,T.bottom]];return[j,Y,...Q]}}}if(!GD([_,S],Z)){if(a&&!I)return E();if(!L&&n){const ee=u(k.clientX,k.clientY);if(ee!==null&&ee<.1)return E()}GD([_,S],H([p,f]))?!a&&n&&(i=window.setTimeout(E,40)):E()}}};return h.__options={blockPointerEvents:r},h}const dTe=({arrowRef:t,placement:e})=>{const r=[];return r.push(nke(8)),r.push(e==="auto"?ske():ake()),r.push(ike({padding:8})),t!=null&&t.current&&r.push(oke({element:t.current})),r},fTe=({placement:t})=>t==="auto"?void 0:t,pTe=({placement:t})=>({top:"bottom",right:"left",bottom:"top",left:"right"})[t.split("-")[0]],IX=({open:t,arrowRef:e,placement:r="top",setOpen:n})=>NX({placement:fTe({placement:r}),open:t,onOpenChange:n,whileElementsMounted:dX,middleware:dTe({placement:r,arrowRef:e})}),DX=({context:t,trigger:e,role:r="tooltip",interactions:n=[]})=>RX([_X(t,{enabled:e==="click"}),Gke(t,{enabled:e==="hover",handleClose:hTe()}),LX(t),MX(t,{role:r}),...n]),gTe=({animation:t="duration-300",arrow:e=!0,children:r,className:n,content:i,placement:a="top",style:s="dark",theme:o,trigger:l="hover",minWidth:u,...h})=>{const d=fe.useRef(null),[p,f]=fe.useState(!1),g=IX({open:p,placement:a,arrowRef:d,setOpen:f}),{context:m,middlewareData:{arrow:{x:y,y:v}={}},refs:x,strategy:w,update:k,x:E,y:_}=g,S=aTe(m),{getFloatingProps:R,getReferenceProps:C}=DX({context:m,role:"tooltip",trigger:l,interactions:[S]});return fe.useEffect(()=>{if(x.reference.current&&x.floating.current&&p)return dX(x.reference.current,x.floating.current,k)},[p,x.floating,x.reference,k]),se.jsxs(se.Fragment,{children:[se.jsx("div",{ref:x.setReference,className:o.target,"data-testid":"flowbite-tooltip-target",...C(),children:r}),se.jsxs("div",{ref:x.setFloating,"data-testid":"flowbite-tooltip",...R({className:ze(o.base,t&&`${o.animation} ${t}`,!p&&o.hidden,o.style[s],n),style:{position:w,top:_??" ",left:E??" ",minWidth:u},...h}),children:[se.jsx("div",{className:o.content,children:i}),e&&se.jsx("div",{className:ze(o.arrow.base,s==="dark"&&o.arrow.style.dark,s==="light"&&o.arrow.style.light,s==="auto"&&o.arrow.style.auto),"data-testid":"flowbite-tooltip-arrow",ref:d,style:{top:v??" ",left:y??" ",right:" ",bottom:" ",[pTe({placement:g.placement})]:o.arrow.placement},children:" "})]})]})},Rw=({animation:t="duration-300",arrow:e=!0,children:r,className:n,content:i,placement:a="top",style:s="dark",theme:o={},trigger:l="hover",...u})=>{const h=it(Lt().tooltip,o);return se.jsx(gTe,{animation:t,arrow:e,content:i,placement:a,style:s,theme:h,trigger:l,className:n,...u,children:r})};Rw.displayName="Tooltip";function OX(t){return xi({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M438.6 105.4c12.5 12.5 12.5 32.8 0 45.3l-256 256c-12.5 12.5-32.8 12.5-45.3 0l-128-128c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0L160 338.7 393.4 105.4c12.5-12.5 32.8-12.5 45.3 0z"},child:[]}]})(t)}function PX(t){return xi({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M192 0c-41.8 0-77.4 26.7-90.5 64H64C28.7 64 0 92.7 0 128V448c0 35.3 28.7 64 64 64H320c35.3 0 64-28.7 64-64V128c0-35.3-28.7-64-64-64H282.5C269.4 26.7 233.8 0 192 0zm0 64a32 32 0 1 1 0 64 32 32 0 1 1 0-64zM72 272a24 24 0 1 1 48 0 24 24 0 1 1 -48 0zm104-16H304c8.8 0 16 7.2 16 16s-7.2 16-16 16H176c-8.8 0-16-7.2-16-16s7.2-16 16-16zM72 368a24 24 0 1 1 48 0 24 24 0 1 1 -48 0zm88 0c0-8.8 7.2-16 16-16H304c8.8 0 16 7.2 16 16s-7.2 16-16 16H176c-8.8 0-16-7.2-16-16z"},child:[]}]})(t)}function mTe(t){return xi({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M448 296c0 66.3-53.7 120-120 120h-8c-17.7 0-32-14.3-32-32s14.3-32 32-32h8c30.9 0 56-25.1 56-56v-8H320c-35.3 0-64-28.7-64-64V160c0-35.3 28.7-64 64-64h64c35.3 0 64 28.7 64 64v32 32 72zm-256 0c0 66.3-53.7 120-120 120H64c-17.7 0-32-14.3-32-32s14.3-32 32-32h8c30.9 0 56-25.1 56-56v-8H64c-35.3 0-64-28.7-64-64V160c0-35.3 28.7-64 64-64h64c35.3 0 64 28.7 64 64v32 32 72z"},child:[]}]})(t)}const X_=(t,e)=>{var r;e(!0),(r=navigator==null?void 0:navigator.clipboard)==null||r.writeText(t).then(()=>{console.log("Copy Successfull")}).catch(n=>{console.error("Failed to Copy text: ",n),e(!1)}),setTimeout(()=>e(!1),4e3)},FX=fe.forwardRef(({valueToCopy:t,icon:e=PX,theme:r={},className:n,...i},a)=>{const[s,o]=fe.useState(!1),l=it(Lt().clipboard.withIcon,r);return se.jsx("button",{className:ze(l.base,n),onClick:()=>X_(t,o),...i,ref:a,children:s?se.jsx(OX,{"aria-hidden":!0,className:l.icon.successIcon}):se.jsx(e,{"aria-hidden":!0,className:l.icon.defaultIcon})})}),BX=fe.forwardRef(({valueToCopy:t,icon:e=PX,label:r="Copy",theme:n={},className:i,...a},s)=>{const[o,l]=fe.useState(!1),u=it(Lt().clipboard.withIconText,n);return se.jsx("button",{className:ze(u.base,i),onClick:()=>X_(t,l),...a,ref:s,children:o?se.jsxs("span",{className:u.label.base,children:[se.jsx(OX,{"aria-hidden":!0,className:u.icon.successIcon}),se.jsx("span",{className:u.label.successText,children:"Copied"})]}):se.jsxs("span",{className:u.label.base,children:[se.jsx(e,{"aria-hidden":!0,className:u.icon.defaultIcon}),se.jsx("span",{className:u.label.defaultText,children:r})]})})}),$X=fe.forwardRef(({className:t,valueToCopy:e,label:r,theme:n={},...i},a)=>{const[s,o]=fe.useState(!1),l=it(Lt().clipboard.button,n);return se.jsx(Rw,{content:s?"Copied":"Copy to clipboard",className:"[&_*]:cursor-pointer",children:se.jsx("button",{className:ze(l.base,t),onClick:()=>X_(e,o),...i,ref:a,children:se.jsx("span",{className:l.label,children:r})})})});$X.displayName="Clipboard";FX.displayName="Clipboard.WithIcon";BX.displayName="Clipboard.WithIconText";Object.assign($X,{WithIcon:FX,WithIconText:BX});const Iy=({children:t,className:e,color:r="default",theme:n={},value:i,...a})=>{const s=it(Lt().helperText,n);return se.jsx("p",{className:ze(s.root.base,s.root.colors[r],e),...a,children:i??t??""})};Iy.displayName="HelperText";const zX=fe.forwardRef(({addon:t,className:e,color:r="gray",helperText:n,icon:i,rightIcon:a,shadow:s,sizing:o="md",theme:l={},type:u="text",...h},d)=>{const p=it(Lt().textInput,l);return se.jsxs(se.Fragment,{children:[se.jsxs("div",{className:ze(p.base,e),children:[t&&se.jsx("span",{className:p.addon,children:t}),se.jsxs("div",{className:p.field.base,children:[i&&se.jsx("div",{className:p.field.icon.base,children:se.jsx(i,{className:p.field.icon.svg})}),a&&se.jsx("div",{"data-testid":"right-icon",className:p.field.rightIcon.base,children:se.jsx(a,{className:p.field.rightIcon.svg})}),se.jsx("input",{className:ze(p.field.input.base,p.field.input.colors[r],p.field.input.sizes[o],p.field.input.withIcon[i?"on":"off"],p.field.input.withRightIcon[a?"on":"off"],p.field.input.withAddon[t?"on":"off"],p.field.input.withShadow[s?"on":"off"]),type:u,...h,ref:d})]})]}),n&&se.jsx(Iy,{color:r,children:n})]})});zX.displayName="TextInput";const UX=fe.createContext(void 0);function Mw(){const t=fe.useContext(UX);if(!t)throw new Error("useDatePickerContext should be used within the DatePickerContext provider!");return t}var pn=(t=>(t[t.Days=0]="Days",t[t.Months=1]="Months",t[t.Years=2]="Years",t[t.Decades=3]="Decades",t))(pn||{}),VX=(t=>(t[t.Sunday=0]="Sunday",t[t.Monday=1]="Monday",t[t.Tuesday=2]="Tuesday",t[t.Wednesday=3]="Wednesday",t[t.Thursday=4]="Thursday",t[t.Friday=5]="Friday",t[t.Saturday=6]="Saturday",t))(VX||{});const Dy=(t,e,r)=>{const n=new Date(t.getFullYear(),t.getMonth(),t.getDate()).getTime();if(e&&r){const i=new Date(e.getFullYear(),e.getMonth(),e.getDate()).getTime(),a=new Date(r.getFullYear(),r.getMonth(),r.getDate()).getTime();return n>=i&&n<=a}if(e){const i=new Date(e.getFullYear(),e.getMonth(),e.getDate()).getTime();return n>=i}if(r){const i=new Date(r.getFullYear(),r.getMonth(),r.getDate()).getTime();return n<=i}return!0},Iw=(t,e)=>(t=new Date(t.getFullYear(),t.getMonth(),t.getDate()),e=new Date(e.getFullYear(),e.getMonth(),e.getDate()),t.getTime()===e.getTime()),vTe=(t,e,r)=>(Dy(t,e,r)||(e&&t<e?t=e:r&&t>r&&(t=r)),t),yTe=(t,e)=>{const r=new Date(t.getFullYear(),t.getMonth(),1);let i=r.getDay()-e;return i<0&&(i+=7),K_(r,-i)},xTe=(t,e)=>{const r=[],n=new Date(0);n.setDate(n.getDate()-n.getDay()+e);const i=new Intl.DateTimeFormat(t,{weekday:"short"});for(let a=0;a<7;a++)r.push(i.format(K_(n,a)));return r},K_=(t,e)=>{const r=new Date(t);return r.setDate(r.getDate()+e),r},bTe=(t,e)=>{const r=new Date(t);return r.setMonth(r.getMonth()+e),r},l0=(t,e)=>{const r=new Date(t);return r.setFullYear(r.getFullYear()+e),r},Om=(t,e,r)=>{let n={day:"numeric",month:"long",year:"numeric"};return r&&(n=r),new Intl.DateTimeFormat(t,n).format(e)},c0=(t,e)=>{const r=t.getFullYear();return Math.floor(r/e)*e},wTe=(t,e)=>{const r=t.getFullYear(),n=e+9;return r>=e&&r<=n},kTe=({theme:t={}})=>{const{theme:e,weekStart:r,minDate:n,maxDate:i,viewDate:a,selectedDate:s,changeSelectedDate:o,language:l}=Mw(),u=it(e.views.days,t),h=xTe(l,r),d=yTe(a,r);return se.jsxs(se.Fragment,{children:[se.jsx("div",{className:u.header.base,children:h.map((p,f)=>se.jsx("span",{className:u.header.title,children:p},f))}),se.jsx("div",{className:u.items.base,children:[...Array(42)].map((p,f)=>{const g=K_(d,f),m=Om(l,g,{day:"numeric"}),y=Iw(s,g),v=!Dy(g,n,i);return se.jsx("button",{disabled:v,type:"button",className:ze(u.items.item.base,y&&u.items.item.selected,v&&u.items.item.disabled),onClick:()=>{v||o(g,!0)},children:m},f)})})]})},TTe=({theme:t={}})=>{const{theme:e,selectedDate:r,viewDate:n,setViewDate:i,setView:a}=Mw(),s=it(e.views.decades,t);return se.jsx("div",{className:s.items.base,children:[...Array(12)].map((o,l)=>{const h=c0(n,100)-10+l*10,d=new Date(h,0,1),p=l0(d,9),f=wTe(n,h),g=!Dy(n,d,p);return se.jsx("button",{disabled:g,type:"button",className:ze(s.items.item.base,f&&s.items.item.selected,g&&s.items.item.disabled),onClick:()=>{g||(i(l0(n,h-r.getFullYear())),a(pn.Years))},children:h},l)})})},ETe=({theme:t={}})=>{const{theme:e,minDate:r,maxDate:n,selectedDate:i,viewDate:a,language:s,setViewDate:o,setView:l}=Mw(),u=it(e.views.months,t);return se.jsx("div",{className:u.items.base,children:[...Array(12)].map((h,d)=>{const p=new Date(a.getTime());p.setMonth(d);const f=Om(s,p,{month:"short"}),g=Iw(i,p),m=!Dy(p,r,n);return se.jsx("button",{disabled:m,type:"button",className:ze(u.items.item.base,g&&u.items.item.selected,m&&u.items.item.disabled),onClick:()=>{m||(o(p),l(pn.Days))},children:f},d)})})},STe=({theme:t={}})=>{const{theme:e,selectedDate:r,minDate:n,maxDate:i,viewDate:a,setViewDate:s,setView:o}=Mw(),l=it(e.views.years,t);return se.jsx("div",{className:l.items.base,children:[...Array(12)].map((u,h)=>{const p=c0(a,10)-1+h*1,f=new Date(a.getTime());f.setFullYear(p);const g=Iw(r,f),m=!Dy(f,n,i);return se.jsx("button",{disabled:m,type:"button",className:ze(l.items.item.base,g&&l.items.item.selected,m&&l.items.item.disabled),onClick:()=>{m||(s(f),o(pn.Months))},children:p},h)})})},CTe=({title:t,open:e,inline:r=!1,autoHide:n=!0,showClearButton:i=!0,labelClearButton:a="Clear",showTodayButton:s=!0,labelTodayButton:o="Today",defaultDate:l=new Date,minDate:u,maxDate:h,language:d="en",weekStart:p=VX.Sunday,className:f,theme:g={},onSelectedDateChanged:m,...y},v)=>{const x=it(Lt().datepicker,g);l=vTe(l,u,h);const[w,k]=fe.useState(e),[E,_]=fe.useState(pn.Days),[S,R]=fe.useState(l),[C,L]=fe.useState(l),A=fe.useRef(null),N=fe.useRef(null),F=(P,B)=>{R(P),m&&m(P),n&&E===pn.Days&&B==!0&&!r&&k(!1)},T=()=>{F(l,!0),l&&L(l)};fe.useImperativeHandle(v,()=>({focus(){var P;(P=A.current)==null||P.focus()},clear(){T()}}));const D=P=>{switch(P){case pn.Decades:return se.jsx(TTe,{theme:x.views.decades});case pn.Years:return se.jsx(STe,{theme:x.views.years});case pn.Months:return se.jsx(ETe,{theme:x.views.months});case pn.Days:default:return se.jsx(kTe,{theme:x.views.days})}},M=()=>{switch(E){case pn.Days:return pn.Months;case pn.Months:return pn.Years;case pn.Years:return pn.Decades}return E},O=()=>{switch(E){case pn.Decades:return`${c0(C,100)} - ${c0(C,100)+90}`;case pn.Years:return`${c0(C,10)} - ${c0(C,10)+9}`;case pn.Months:return Om(d,C,{year:"numeric"});case pn.Days:default:return Om(d,C,{month:"long",year:"numeric"})}},I=(P,B,$)=>{switch(P){case pn.Days:return new Date(bTe(B,$));case pn.Months:return new Date(l0(B,$));case pn.Years:return new Date(l0(B,$*10));case pn.Decades:return new Date(l0(B,$*100));default:return new Date(l0(B,$*10))}};return fe.useEffect(()=>{const P=B=>{var W,K;const $=(W=N==null?void 0:N.current)==null?void 0:W.contains(B.target),V=(K=A==null?void 0:A.current)==null?void 0:K.contains(B.target);!$&&!V&&k(!1)};return document.addEventListener("mousedown",P),()=>{document.removeEventListener("mousedown",P)}},[A,N,k]),se.jsx(UX.Provider,{value:{theme:x,language:d,minDate:u,maxDate:h,weekStart:p,isOpen:w,setIsOpen:k,view:E,setView:_,viewDate:C,setViewDate:L,selectedDate:S,setSelectedDate:R,changeSelectedDate:F},children:se.jsxs("div",{className:ze(x.root.base,f),children:[!r&&se.jsx(zX,{theme:x.root.input,icon:A5e,ref:A,onFocus:()=>{Iw(C,S)||L(S),k(!0)},value:S&&Om(d,S),readOnly:!0,...y}),(w||r)&&se.jsx("div",{ref:N,className:ze(x.popup.root.base,r&&x.popup.root.inline),children:se.jsxs("div",{className:x.popup.root.inner,children:[se.jsxs("div",{className:x.popup.header.base,children:[t&&se.jsx("div",{className:x.popup.header.title,children:t}),se.jsxs("div",{className:x.popup.header.selectors.base,children:[se.jsx("button",{type:"button",className:ze(x.popup.header.selectors.button.base,x.popup.header.selectors.button.prev),onClick:()=>L(I(E,C,-1)),children:se.jsx(S5e,{})}),se.jsx("button",{type:"button",className:ze(x.popup.header.selectors.button.base,x.popup.header.selectors.button.view),onClick:()=>_(M()),children:O()}),se.jsx("button",{type:"button",className:ze(x.popup.header.selectors.button.base,x.popup.header.selectors.button.next),onClick:()=>L(I(E,C,1)),children:se.jsx(C5e,{})})]})]}),se.jsx("div",{className:x.popup.view.base,children:D(E)}),(i||s)&&se.jsxs("div",{className:x.popup.footer.base,children:[s&&se.jsx("button",{type:"button",className:ze(x.popup.footer.button.base,x.popup.footer.button.today),onClick:()=>{const P=new Date;F(P,!0),L(P)},children:o}),i&&se.jsx("button",{type:"button",className:ze(x.popup.footer.button.base,x.popup.footer.button.clear),onClick:()=>{F(l,!0),l&&L(l)},children:a})]})]})})]})})},ATe=fe.forwardRef(CTe);ATe.displayName="Datepicker";const GX=fe.createContext(void 0);function HX(){const t=fe.useContext(GX);if(!t)throw new Error("useDrawerContext should be used within the DrawerContext provider!");return t}function _Te(t){return xi({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"},child:[]}]})(t)}function LTe(t){return xi({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"},child:[]}]})(t)}const WX=({children:t,className:e,closeIcon:r=LTe,theme:n={},title:i,titleIcon:a=_Te,...s})=>{const o=fe.useId(),{id:l,isOpen:u,onClose:h,theme:d}=HX(),p=it(d.header,n);return se.jsxs("div",{className:e,...s,children:[se.jsxs("h5",{className:p.inner.titleText,id:l,children:[se.jsx(a,{"aria-hidden":!0,className:p.inner.titleIcon}),i]}),se.jsxs("button",{onClick:h,"data-testid":"close-drawer",className:p.inner.closeButton,children:[se.jsx(r,{"aria-hidden":!0,className:p.inner.closeIcon}),se.jsx("span",{className:"sr-only",children:"Close menu"})]}),se.jsx("span",{className:p.collapsed[u?"on":"off"],id:`flowbite-drawer-header-${o}`,children:t})]})};WX.displayName="Drawer.Header";const YX=({children:t,className:e,theme:r={},...n})=>{const{theme:i}=HX(),a=it(i.items,r);return se.jsx("div",{"data-testid":"flowbite-drawer-items",className:ze(a.base,e),...n,children:t})};YX.displayName="Drawer.Items";const qX=({backdrop:t=!0,children:e,className:r,edge:n=!1,position:i="left",onClose:a,open:s=!1,theme:o={},...l})=>{const u=fe.useId(),h=it(Lt().drawer,o);return fe.useEffect(()=>{const d=p=>{p.key==="Escape"&&s&&a&&a()};return document.addEventListener("keydown",d),()=>document.removeEventListener("keydown",d)},[a,s]),se.jsxs(GX.Provider,{value:{theme:h,onClose:a,isOpen:s,id:u},children:[se.jsx("div",{"aria-modal":!0,"aria-describedby":`drawer-dialog-${u}`,role:"dialog",tabIndex:-1,"data-testid":"flowbite-drawer",className:ze(h.root.base,h.root.position[i][s?"on":"off"],n&&!s&&h.root.edge,r),...l,children:e}),s&&t&&se.jsx("div",{onClick:()=>a(),className:h.root.backdrop})]})};qX.displayName="Drawer";Object.assign(qX,{Header:WX,Items:YX});const jX=fe.createContext(void 0);function Q_(){const t=fe.useContext(jX);if(!t)throw new Error("useDropdownContext should be used within the DropdownContext provider!");return t}const Z_=({className:t,theme:e={},...r})=>{const{theme:n}=Q_(),i=e.divider??n.floating.divider;return se.jsx("div",{className:ze(i,t),...r})},XX=({children:t,className:e,theme:r={},...n})=>{const{theme:i}=Q_(),a=r.header??i.floating.header;return se.jsxs(se.Fragment,{children:[se.jsx("div",{className:ze(a,e),...n,children:t}),se.jsx(Z_,{})]})},KX=fe.forwardRef(({children:t,className:e,icon:r,onClick:n,theme:i={},...a},s)=>{const{ref:o,index:l}=Pke({label:typeof t=="string"?t:void 0}),u=yX([s,o]),{theme:h,activeIndex:d,dismissOnClick:p,getItemProps:f,handleSelect:g}=Q_(),m=d===l,y=it(h.floating.item,i),v=a;return se.jsx("li",{role:"menuitem",className:y.container,children:se.jsxs(O_,{ref:u,className:ze(y.base,e),...v,...f({onClick:()=>{n==null||n(),p&&g(null)}}),tabIndex:m?0:-1,children:[r&&se.jsx(r,{className:y.icon}),t]})})});KX.displayName="DropdownItem";const NTe={top:M5e,right:_j,bottom:Aj,left:R5e},RTe=({refs:t,children:e,inline:r,theme:n,disabled:i,setButtonWidth:a,getReferenceProps:s,renderTrigger:o,...l})=>{const u=t.reference,h=s();if(fe.useEffect(()=>{u.current&&(a==null||a(u.current.clientWidth))},[u,a]),o){const d=o(n);return fe.cloneElement(d,{ref:t.setReference,disabled:i,...h,...d.props})}return r?se.jsx("button",{type:"button",ref:t.setReference,className:n==null?void 0:n.inlineWrapper,disabled:i,...h,children:e}):se.jsx(xu,{...l,disabled:i,type:"button",ref:t.setReference,...h,children:e})},QX=({children:t,className:e,dismissOnClick:r=!0,theme:n={},enableTypeAhead:i=!0,renderTrigger:a,...s})=>{const[o,l]=fe.useState(!1),[u,h]=fe.useState(null),[d,p]=fe.useState(null),[f,g]=fe.useState(void 0),m=fe.useRef([]),y=fe.useRef([]),v=it(Lt().dropdown,n),x=s,w=s["data-testid"]||"flowbite-dropdown-target",{placement:k=s.inline?"bottom-start":"bottom",trigger:E="click",label:_,inline:S,arrowIcon:R=!0,...C}=x,L=fe.useCallback($=>{p($),l(!1)},[]),A=fe.useCallback($=>{o?h($):L($)},[o,L]),{context:N,floatingStyles:F,refs:T}=IX({open:o,setOpen:l,placement:k}),D=oTe(N,{listRef:m,activeIndex:u,selectedIndex:d,onNavigate:h}),M=cTe(N,{listRef:y,activeIndex:u,selectedIndex:d,onMatch:A,enabled:i}),{getReferenceProps:O,getFloatingProps:I,getItemProps:P}=DX({context:N,role:"menu",trigger:E,interactions:[D,M]}),B=fe.useMemo(()=>{const[$]=k.split("-");return NTe[$]??Aj},[k]);return se.jsxs(jX.Provider,{value:{theme:v,activeIndex:u,dismissOnClick:r,getItemProps:P,handleSelect:L},children:[se.jsxs(RTe,{...C,refs:T,inline:S,theme:v,"data-testid":w,className:ze(v.floating.target,C.className),setButtonWidth:g,getReferenceProps:O,renderTrigger:a,children:[_,R&&se.jsx(B,{className:v.arrowIcon})]}),o&&se.jsx(AX,{context:N,modal:!1,children:se.jsx("div",{ref:T.setFloating,style:{...F,minWidth:f},"data-testid":"flowbite-dropdown","aria-expanded":o,...I({className:ze(v.floating.base,v.floating.animation,"duration-100",!o&&v.floating.hidden,v.floating.style.auto,e)}),children:se.jsx(Oke,{elementsRef:m,labelsRef:y,children:se.jsx("ul",{className:v.content,tabIndex:-1,children:t})})})})]})};QX.displayName="Dropdown";XX.displayName="Dropdown.Header";Z_.displayName="Dropdown.Divider";const MTe=Object.assign(QX,{Item:KX,Header:XX,Divider:Z_}),ITe=fe.forwardRef(({className:t,color:e="gray",helperText:r,sizing:n="md",theme:i={},...a},s)=>{const o=it(Lt().fileInput,i);return se.jsxs(se.Fragment,{children:[se.jsx("div",{className:ze(o.root.base,t),children:se.jsx("div",{className:o.field.base,children:se.jsx("input",{className:ze(o.field.input.base,o.field.input.colors[e],o.field.input.sizes[n]),...a,type:"file",ref:s})})}),r&&se.jsx(Iy,{color:e,children:r})]})});ITe.displayName="FileInput";const DTe=fe.forwardRef(({label:t,helperText:e,color:r="default",sizing:n="md",variant:i,disabled:a=!1,theme:s={},className:o,...l},u)=>{const h=fe.useId(),d=it(Lt().floatingLabel,s);return se.jsxs("div",{children:[se.jsxs("div",{className:ze("relative",i==="standard"?"z-0":""),children:[se.jsx("input",{type:"text",id:l.id?l.id:"floatingLabel"+h,"aria-describedby":"outlined_success_help",className:ze(d.input[r][i][n],o),placeholder:" ","data-testid":"floating-label",disabled:a,...l,ref:u}),se.jsx("label",{htmlFor:l.id?l.id:"floatingLabel"+h,className:ze(d.label[r][i][n],o),children:t})]}),se.jsx("p",{id:"outlined_helper_text"+h,className:ze(d.helperText[r],o),children:e})]})});DTe.displayName="FloatingLabel";const ZX=({alt:t,className:e,children:r,href:n,name:i,src:a,theme:s={},...o})=>{const l=it(Lt().footer.brand,s);return se.jsx("div",{children:n?se.jsxs("a",{"data-testid":"flowbite-footer-brand",href:n,className:ze(l.base,e),...o,children:[se.jsx("img",{alt:t,src:a,className:l.img}),se.jsx("span",{"data-testid":"flowbite-footer-brand-span",className:l.span,children:i}),r]}):se.jsx("img",{alt:t,"data-testid":"flowbite-footer-brand",src:a,className:ze(l.img,e),...o})})},JX=({by:t,className:e,href:r,theme:n={},year:i,...a})=>{const s=it(Lt().footer.copyright,n);return se.jsxs("div",{"data-testid":"flowbite-footer-copyright",className:ze(s.base,e),...a,children:["© ",i,r?se.jsx("a",{href:r,className:s.href,children:t}):se.jsx("span",{"data-testid":"flowbite-footer-copyright-span",className:s.span,children:t})]})},eK=({className:t,theme:e={},...r})=>{const n=it(Lt().footer.divider,e);return se.jsx("hr",{"data-testid":"footer-divider",className:ze(n.base,t),...r})},tK=({ariaLabel:t,className:e,href:r,icon:n,theme:i={},...a})=>{const s=it(Lt().footer.icon,i);return se.jsx("div",{children:r?se.jsx("a",{"aria-label":t,"data-testid":"flowbite-footer-icon",href:r,className:ze(s.base,e),...a,children:se.jsx(n,{className:s.size})}):se.jsx(n,{"data-testid":"flowbite-footer-icon",className:s.size,...a})})},rK=({as:t="a",children:e,className:r,href:n,theme:i={},...a})=>{const s=it(Lt().footer.groupLink.link,i);return se.jsx("li",{className:ze(s.base,r),children:se.jsx(t,{href:n,className:s.href,...a,children:e})})},nK=({children:t,className:e,col:r=!1,theme:n={},...i})=>{const a=it(Lt().footer.groupLink,n);return se.jsx("ul",{"data-testid":"footer-groupLink",className:ze(a.base,r&&a.col,e),...i,children:t})},iK=({as:t="h2",className:e,theme:r={},title:n,...i})=>{const a=it(Lt().footer.title,r);return se.jsx(t,{"data-testid":"flowbite-footer-title",className:ze(a.base,e),...i,children:n})},aK=({bgDark:t=!1,children:e,className:r,container:n=!1,theme:i={},...a})=>{const s=it(Lt().footer,i);return se.jsx("footer",{"data-testid":"flowbite-footer",className:ze(s.root.base,t&&s.root.bgDark,n&&s.root.container,r),...a,children:e})};aK.displayName="Footer";JX.displayName="Footer.Copyright";rK.displayName="Footer.Link";ZX.displayName="Footer.Brand";nK.displayName="Footer.LinkGroup";tK.displayName="Footer.Icon";iK.displayName="Footer.Title";eK.displayName="Footer.Divider";Object.assign(aK,{Copyright:JX,Link:rK,LinkGroup:nK,Brand:ZX,Icon:tK,Title:iK,Divider:eK});const sK=fe.forwardRef(({theme:t={},icon:e=mTe,className:r,...n},i)=>{const a=it(Lt().hr.icon,t);return se.jsxs("div",{className:a.base,children:[se.jsx("hr",{className:ze(a.hrLine,r),role:"separator","data-testid":"flowbite-hr-icon",ref:i,...n}),se.jsx("div",{className:a.icon.base,children:se.jsx(e,{"aria-hidden":!0,className:a.icon.icon})})]})}),oK=fe.forwardRef(({theme:t={},className:e,...r},n)=>{const i=it(Lt().hr.square,t);return se.jsx("hr",{className:ze(i.base,e),role:"separator","data-testid":"flowbite-hr-square",ref:n,...r})}),lK=fe.forwardRef(({theme:t={},text:e,className:r,...n},i)=>{const a=it(Lt().hr.text,t);return se.jsxs("div",{className:a.base,children:[se.jsx("hr",{className:ze(a.hrLine,r),"data-testid":"flowbite-hr-text",role:"separator",ref:i,...n}),se.jsx("span",{className:a.text,children:e})]})}),cK=fe.forwardRef(({theme:t={},className:e,...r},n)=>{const i=it(Lt().hr.trimmed,t);return se.jsx("hr",{className:ze(i.base,e),role:"separator","data-testid":"flowbite-hr-trimmed",ref:n,...r})}),uK=fe.forwardRef(({theme:t={},className:e,...r},n)=>{const i=it(Lt().hr.root,t);return se.jsx("hr",{className:ze(i.base,e),role:"separator","data-testid":"flowbite-hr",ref:n,...r})});uK.displayName="HR";cK.displayName="HR.Trimmed";sK.displayName="HR.Icon";lK.displayName="HR.Text";oK.displayName="HR.Square";Object.assign(uK,{Trimmed:cK,Icon:sK,Text:lK,Square:oK});const hK=({children:t,className:e,icon:r,theme:n={},...i})=>{const a=it(Lt().list.item,n);return se.jsxs("li",{className:ze(a.withIcon[r?"on":"off"],e),...i,children:[r&&se.jsx(r,{className:ze(a.icon)}),t]})},dK=({children:t,className:e,unstyled:r,nested:n,ordered:i,horizontal:a,theme:s={},...o})=>{const l=it(Lt().list,s),u=i?"ol":"ul";return se.jsx(u,{className:ze(l.root.base,l.root.ordered[i?"on":"off"],r&&l.root.unstyled,n&&l.root.nested,a&&l.root.horizontal,e),...o,children:t})};dK.displayName="List";hK.displayName="List.Item";Object.assign(dK,{Item:hK});const fK=({active:t,children:e,className:r,href:n,icon:i,onClick:a,theme:s={},disabled:o,...l})=>{const u=it(Lt().listGroup.item,s),h=typeof n<"u",d=h?"a":"button";return se.jsx("li",{className:ze(u.base,r),children:se.jsxs(d,{href:n,onClick:a,type:h?void 0:"button",disabled:o,className:ze(u.link.active[t?"on":"off"],u.link.disabled[o?"on":"off"],u.link.base,u.link.href[h?"on":"off"]),...l,children:[i&&se.jsx(i,{"aria-hidden":!0,"data-testid":"flowbite-list-group-item-icon",className:u.link.icon}),e]})})},pK=({children:t,className:e,theme:r={},...n})=>{const i=it(Lt().listGroup,r);return se.jsx("ul",{className:ze(i.root.base,e),...n,children:t})};pK.displayName="ListGroup";fK.displayName="ListGroup.Item";Object.assign(pK,{Item:fK});const gK=fe.createContext(void 0);function Dw(){const t=fe.useContext(gK);if(!t)throw new Error("useNavBarContext should be used within the NavbarContext provider!");return t}const mK=({as:t="a",children:e,className:r,theme:n={},...i})=>{const{theme:a}=Dw(),s=it(a.brand,n);return se.jsx(t,{className:ze(s.base,r),...i,children:e})},vK=({children:t,className:e,theme:r={},...n})=>{const{theme:i,isOpen:a}=Dw(),s=it(i.collapse,r);return se.jsx("div",{"data-testid":"flowbite-navbar-collapse",className:ze(s.base,s.hidden[a?"off":"on"],e),...n,children:se.jsx("ul",{className:s.list,children:t})})},yK=({active:t,as:e="a",disabled:r,children:n,className:i,theme:a={},onClick:s,...o})=>{const{theme:l,setIsOpen:u}=Dw(),h=it(l.link,a),d=p=>{u(!1),s==null||s(p)};return se.jsx("li",{children:se.jsx(e,{className:ze(h.base,t&&h.active.on,!t&&!r&&h.active.off,h.disabled[r?"on":"off"],i),onClick:d,...o,children:n})})};function OTe(t){return xi({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"},child:[]}]})(t)}const xK=({barIcon:t=OTe,className:e,theme:r={},...n})=>{const{theme:i,isOpen:a,setIsOpen:s}=Dw(),o=it(i.toggle,r),l=()=>{s(!a)};return se.jsxs("button",{"data-testid":"flowbite-navbar-toggle",onClick:l,className:ze(o.base,e),...n,children:[se.jsx("span",{className:"sr-only",children:"Open main menu"}),se.jsx(t,{"aria-hidden":!0,className:o.icon})]})},bK=({border:t,children:e,className:r,fluid:n=!1,menuOpen:i,rounded:a,theme:s={},...o})=>{const[l,u]=fe.useState(i),h=it(Lt().navbar,s);return se.jsx(gK.Provider,{value:{theme:h,isOpen:l,setIsOpen:u},children:se.jsx("nav",{className:ze(h.root.base,h.root.bordered[t?"on":"off"],h.root.rounded[a?"on":"off"],r),...o,children:se.jsx("div",{className:ze(h.root.inner.base,h.root.inner.fluid[n?"on":"off"]),children:e})})})};bK.displayName="Navbar";mK.displayName="Navbar.Brand";vK.displayName="Navbar.Collapse";yK.displayName="Navbar.Link";xK.displayName="Navbar.Toggle";const PTe=Object.assign(bK,{Brand:mK,Collapse:vK,Link:yK,Toggle:xK}),wK=({children:t,className:e,theme:r={},toggle:n,...i})=>{const[a,s]=fe.useState(void 0),o=it(Lt().megaMenu.dropdown,r);if(n)return se.jsx(MTe,{inline:!0,label:n,placement:"bottom",theme:o.toggle,className:ze(o.base,e),children:t});const l=fe.useId(),u=fe.useRef(null);return fe.useEffect(()=>{var d;s((d=function(){var f;const p=(f=u.current)==null?void 0:f.closest("nav");return p==null?void 0:p.querySelector('[aria-haspopup="menu"]')}())==null?void 0:d.id)},[]),se.jsx("div",{"aria-labelledby":a,id:l,ref:u,role:"menu",className:ze(o.base,e),...i,children:t})};wK.displayName="MegaMenu.Dropdown";const kK=({children:t,className:e,theme:r={},...n})=>{const i=fe.useId(),a=fe.useRef(null),[s,o]=fe.useState(void 0),[l,u]=fe.useState(void 0),h=it(Lt().megaMenu.dropdownToggle,r),d=function(){var g;const f=(g=a.current)==null?void 0:g.closest("nav");return f==null?void 0:f.querySelector('[role="menu"]')},p=function(){var f;(f=d())==null||f.classList.toggle("hidden"),u(!l)};return fe.useEffect(()=>{const f=d(),g=f==null?void 0:f.classList.contains("hidden");o(f==null?void 0:f.id),u(!g)},[]),se.jsx("button",{"aria-controls":s,"aria-expanded":l,"aria-haspopup":"menu",id:i,onClick:p,ref:a,className:ze(h.base,e),...n,children:t})};kK.displayName="MegaMenu.DropdownToggle";const TK=({children:t,theme:e={},...r})=>{const n=it(Lt().megaMenu,e);return se.jsx(PTe,{fluid:!0,theme:n,...r,children:t})};Object.assign(TK,{Dropdown:wK,DropdownToggle:kK});TK.displayName="MegaMenu";const EK=fe.createContext(void 0);function J_(){const t=fe.useContext(EK);if(!t)throw new Error("useModalContext should be used within the ModalContext provider!");return t}const SK=({children:t,className:e,theme:r={},...n})=>{const{theme:i,popup:a}=J_(),s=it(i.body,r);return se.jsx("div",{className:ze(s.base,a&&[s.popup],e),...n,children:t})},CK=({children:t,className:e,theme:r={},...n})=>{const{theme:i,popup:a}=J_(),s=it(i.footer,r);return se.jsx("div",{className:ze(s.base,!a&&s.popup,e),...n,children:t})},AK=({as:t="h3",children:e,className:r,theme:n={},id:i,...a})=>{const s=fe.useId(),o=i||s,{theme:l,popup:u,onClose:h,setHeaderId:d}=J_(),p=it(l.header,n);return fe.useLayoutEffect(()=>(d(o),()=>d(void 0)),[o,d]),se.jsxs("div",{className:ze(p.base,u&&p.popup,r),...a,children:[se.jsx(t,{id:o,className:p.title,children:e}),se.jsx("button",{"aria-label":"Close",className:p.close.base,type:"button",onClick:h,children:se.jsx(I5e,{"aria-hidden":!0,className:p.close.icon})})]})},_K=fe.forwardRef(({children:t,className:e,dismissible:r=!1,onClose:n,popup:i,position:a="center",root:s,show:o,size:l="2xl",theme:u={},initialFocus:h,...d},p)=>{const[f,g]=fe.useState(void 0),m=it(Lt().modal,u),{context:y}=NX({open:o,onOpenChange:()=>n&&n()}),v=yX([y.refs.setFloating,p]),x=_X(y),w=LX(y,{outsidePressEvent:"mousedown",enabled:r}),k=MX(y),{getFloatingProps:E}=RX([x,w,k]);return o?se.jsx(EK.Provider,{value:{theme:m,popup:i,onClose:n,setHeaderId:g},children:se.jsx(Jke,{root:s,children:se.jsx(tTe,{lockScroll:!0,"data-testid":"modal-overlay",className:ze(m.root.base,m.root.positions[a],o?m.root.show.on:m.root.show.off,e),...d,children:se.jsx(AX,{context:y,initialFocus:h,children:se.jsx("div",{ref:v,...E(d),"aria-labelledby":f,className:ze(m.content.base,m.root.sizes[l]),children:se.jsx("div",{className:m.content.inner,children:t})})})})})}):null});_K.displayName="Modal";AK.displayName="Modal.Header";SK.displayName="Modal.Body";CK.displayName="Modal.Footer";Object.assign(_K,{Header:AK,Body:SK,Footer:CK});const FTe=(t,e)=>t>=e?[]:[...Array(e-t+1).keys()].map(r=>r+t),e9=({active:t,children:e,className:r,onClick:n,theme:i={},...a})=>{const s=it(Lt().pagination,i);return se.jsx("button",{type:"button",className:ze(t&&s.pages.selector.active,r),onClick:n,...a,children:e})};e9.displayName="Pagination.Button";const FS=({children:t,className:e,onClick:r,theme:n={},disabled:i=!1,...a})=>{const s=it(Lt().pagination,n);return se.jsx("button",{type:"button",className:ze(i&&s.pages.selector.disabled,e),disabled:i,onClick:r,...a,children:t})};FS.displayName="Pagination.Navigation";const LK=({className:t,currentPage:e,layout:r="pagination",nextLabel:n="Next",onPageChange:i,previousLabel:a="Previous",renderPaginationButton:s=d=>se.jsx(e9,{...d}),showIcons:o=!1,theme:l={},totalPages:u,...h})=>{const d=it(Lt().pagination,l),p=Math.min(Math.max(r==="pagination"?e+2:e+4,5),u),f=Math.max(1,p-4),g=()=>{i(Math.min(e+1,u))},m=()=>{i(Math.max(e-1,1))};return se.jsxs("nav",{className:ze(d.base,t),...h,children:[r==="table"&&se.jsxs("div",{className:d.layout.table.base,children:["Showing ",se.jsx("span",{className:d.layout.table.span,children:f})," to ",se.jsx("span",{className:d.layout.table.span,children:p})," of ",se.jsx("span",{className:d.layout.table.span,children:u})," Entries"]}),se.jsxs("ul",{className:d.pages.base,children:[se.jsx("li",{children:se.jsxs(FS,{className:ze(d.pages.previous.base,o&&d.pages.showIcon),onClick:m,disabled:e===1,children:[o&&se.jsx(_5e,{"aria-hidden":!0,className:d.pages.previous.icon}),a]})}),r==="pagination"&&FTe(f,p).map(y=>se.jsx("li",{"aria-current":y===e?"page":void 0,children:s({className:ze(d.pages.selector.base,e===y&&d.pages.selector.active),active:y===e,onClick:()=>i(y),children:y})},y)),se.jsx("li",{children:se.jsxs(FS,{className:ze(d.pages.next.base,o&&d.pages.showIcon),onClick:g,disabled:e===u,children:[n,o&&se.jsx(L5e,{"aria-hidden":!0,className:d.pages.next.icon})]})})]})]})};LK.displayName="Pagination";Object.assign(LK,{Button:e9});const BTe=fe.forwardRef(({className:t,theme:e={},...r},n)=>{const i=it(Lt().radio,e);return se.jsx("input",{ref:n,type:"radio",className:ze(i.root.base,t),...r})});BTe.displayName="Radio";const $Te=fe.forwardRef(({className:t,sizing:e="md",theme:r={},...n},i)=>{const a=it(Lt().rangeSlider,r);return se.jsx(se.Fragment,{children:se.jsx("div",{"data-testid":"flowbite-range-slider",className:ze(a.root.base,t),children:se.jsx("div",{className:a.field.base,children:se.jsx("input",{ref:i,type:"range",className:ze(a.field.input.base,a.field.input.sizes[e]),...n})})})})});$Te.displayName="RangeSlider";const NK=({children:t,className:e,percentFilled:r=0,theme:n={},...i})=>{const a=it(Lt().ratingAdvanced,n);return se.jsxs("div",{className:ze(a.base,e),...i,children:[se.jsx("span",{className:a.label,children:t}),se.jsx("div",{className:a.progress.base,children:se.jsx("div",{className:a.progress.fill,"data-testid":"flowbite-rating-fill",style:{width:`${r}%`}})}),se.jsx("span",{className:a.progress.label,children:`${r}%`})]})},RK=fe.createContext(void 0);function zTe(){const t=fe.useContext(RK);if(!t)throw new Error("useRatingContext should be used within the RatingContext provider!");return t}const MK=({className:t,filled:e=!0,starIcon:r=N5e,theme:n={},...i})=>{const{theme:a,size:s="sm"}=zTe(),o=it(a.star,n);return se.jsx(r,{"data-testid":"flowbite-rating-star",className:ze(o.sizes[s],o[e?"filled":"empty"],t),...i})},IK=({children:t,className:e,size:r="sm",theme:n={},...i})=>{const a=it(Lt().rating,n);return se.jsx(RK.Provider,{value:{theme:a,size:r},children:se.jsx("div",{className:ze(a.root.base,e),...i,children:t})})};IK.displayName="Rating";MK.displayName="Rating.Star";NK.displayName="Rating.Advanced";Object.assign(IK,{Star:MK,Advanced:NK});const UTe=fe.forwardRef(({addon:t,children:e,className:r,color:n="gray",helperText:i,icon:a,shadow:s,sizing:o="md",theme:l={},...u},h)=>{const d=it(Lt().select,l);return se.jsxs("div",{className:ze(d.base,r),children:[t&&se.jsx("span",{className:d.addon,children:t}),se.jsxs("div",{className:d.field.base,children:[a&&se.jsx("div",{className:d.field.icon.base,children:se.jsx(a,{className:d.field.icon.svg})}),se.jsx("select",{className:ze(d.field.select.base,d.field.select.colors[n],d.field.select.sizes[o],d.field.select.withIcon[a?"on":"off"],d.field.select.withAddon[t?"on":"off"],d.field.select.withShadow[s?"on":"off"]),...u,ref:h,children:e}),i&&se.jsx(Iy,{color:n,children:i})]})]})});UTe.displayName="Select";const DK=fe.createContext(void 0);function Ig(){const t=fe.useContext(DK);if(!t)throw new Error("useSidebarContext should be used within the SidebarContext provider!");return t}const t9=fe.createContext(void 0);function VTe(){const t=fe.useContext(t9);if(!t)throw new Error("useSidebarItemContext should be used within the SidebarItemContext provider!");return t}const OK=({children:t,className:e,icon:r,label:n,chevronIcon:i=Sj,renderChevronIcon:a,open:s=!1,theme:o={},...l})=>{const u=fe.useId(),[h,d]=fe.useState(s),{theme:p,isCollapsed:f}=Ig(),g=it(p.collapse,o);fe.useEffect(()=>d(s),[s]);const m=({children:y})=>se.jsx("li",{children:f&&!h?se.jsx(Rw,{content:n,placement:"right",children:y}):y});return se.jsxs(m,{children:[se.jsxs("button",{id:`flowbite-sidebar-collapse-${u}`,onClick:()=>d(!h),title:n,type:"button",className:ze(g.button,e),...l,children:[r&&se.jsx(r,{"aria-hidden":!0,"data-testid":"flowbite-sidebar-collapse-icon",className:ze(g.icon.base,g.icon.open[h?"on":"off"])}),f?se.jsx("span",{className:"sr-only",children:n}):se.jsxs(se.Fragment,{children:[se.jsx("span",{"data-testid":"flowbite-sidebar-collapse-label",className:g.label.base,children:n}),a?a(g,h):se.jsx(i,{"aria-hidden":!0,className:ze(g.label.icon.base,g.label.icon.open[h?"on":"off"])})]})]}),se.jsx("ul",{"aria-labelledby":`flowbite-sidebar-collapse-${u}`,hidden:!h,className:g.list,children:se.jsx(t9.Provider,{value:{isInsideCollapse:!0},children:t})})]})};OK.displayName="Sidebar.Collapse";const PK=({children:t,color:e="info",className:r,theme:n={},...i})=>{const{theme:a,isCollapsed:s}=Ig(),o=it(a.cta,n);return se.jsx("div",{"data-testid":"sidebar-cta",hidden:s,className:ze(o.base,o.color[e],r),...i,children:t})};PK.displayName="Sidebar.CTA";const GTe=({id:t,theme:e,isCollapsed:r,tooltipChildren:n,children:i,...a})=>se.jsx("li",{...a,children:r?se.jsx(Rw,{content:se.jsx(FK,{id:t,theme:e,children:n}),placement:"right",children:i}):i}),FK=({id:t,theme:e,children:r})=>se.jsx("span",{"data-testid":"flowbite-sidebar-item-content",id:`flowbite-sidebar-item-${t}`,className:ze(e.content.base),children:r}),BK=fe.forwardRef(({active:t,as:e="a",children:r,className:n,icon:i,label:a,labelColor:s="info",theme:o={},...l},u)=>{var m,y,v,x;const h=fe.useId(),{theme:d,isCollapsed:p}=Ig(),{isInsideCollapse:f}=VTe(),g=it(d.item,o);return se.jsx(GTe,{theme:g,className:g.listItem,id:h,isCollapsed:p,tooltipChildren:r,children:se.jsxs(e,{"aria-labelledby":`flowbite-sidebar-item-${h}`,ref:u,className:ze(g.base,t&&g.active,!p&&f&&((m=g.collapsed)==null?void 0:m.insideCollapse),n),...l,children:[i&&se.jsx(i,{"aria-hidden":!0,"data-testid":"flowbite-sidebar-item-icon",className:ze((y=g.icon)==null?void 0:y.base,t&&((v=g.icon)==null?void 0:v.active))}),p&&!i&&se.jsx("span",{className:(x=g.collapsed)==null?void 0:x.noIcon,children:r.charAt(0).toLocaleUpperCase()??"?"}),!p&&se.jsx(FK,{id:h,theme:g,children:r}),!p&&a&&se.jsx(s0,{color:s,"data-testid":"flowbite-sidebar-label",hidden:p,className:g.label,children:a})]})})});BK.displayName="Sidebar.Item";const $K=({children:t,className:e,theme:r={},...n})=>{const{theme:i}=Ig(),a=it(i.itemGroup,r);return se.jsx("ul",{"data-testid":"flowbite-sidebar-item-group",className:ze(a.base,e),...n,children:se.jsx(t9.Provider,{value:{isInsideCollapse:!1},children:t})})};$K.displayName="Sidebar.ItemGroup";const zK=({children:t,className:e,theme:r={},...n})=>{const{theme:i}=Ig(),a=it(i.items,r);return se.jsx("div",{className:ze(a.base,e),"data-testid":"flowbite-sidebar-items",...n,children:t})};zK.displayName="Sidebar.Items";const UK=({children:t,className:e,href:r,img:n,imgAlt:i="",theme:a={},...s})=>{const o=fe.useId(),{theme:l,isCollapsed:u}=Ig(),h=it(l.logo,a);return se.jsxs("a",{"aria-labelledby":`flowbite-sidebar-logo-${o}`,href:r,className:ze(h.base,e),...s,children:[se.jsx("img",{alt:i,src:n,className:h.img}),se.jsx("span",{className:h.collapsed[u?"on":"off"],id:`flowbite-sidebar-logo-${o}`,children:t})]})};UK.displayName="Sidebar.Logo";const VK=({children:t,as:e="nav",collapseBehavior:r="collapse",collapsed:n=!1,theme:i={},className:a,...s})=>{const o=it(Lt().sidebar,i);return se.jsx(DK.Provider,{value:{theme:o,isCollapsed:n},children:se.jsx(e,{"aria-label":"Sidebar",hidden:n&&r==="hide",className:ze(o.root.base,o.root.collapsed[n?"on":"off"],a),...s,children:se.jsx("div",{className:o.root.inner,children:t})})})};VK.displayName="Sidebar";Object.assign(VK,{Collapse:OK,CTA:PK,Item:BK,Items:zK,ItemGroup:$K,Logo:UK});const GK=fe.createContext(void 0);function HTe(){const t=fe.useContext(GK);if(!t)throw new Error("useTableBodyContext should be used within the TableBodyContext provider!");return t}const HK=fe.createContext(void 0);function r9(){const t=fe.useContext(HK);if(!t)throw new Error("useTableContext should be used within the TableContext provider!");return t}const WK=fe.forwardRef(({children:t,className:e,theme:r={},...n},i)=>{const{theme:a}=r9(),s=it(a.body,r);return se.jsx(GK.Provider,{value:{theme:s},children:se.jsx("tbody",{className:ze(s.base,e),ref:i,...n,children:t})})});WK.displayName="Table.Body";const YK=fe.forwardRef(({children:t,className:e,theme:r={},...n},i)=>{const{theme:a}=HTe(),s=it(a.cell,r);return se.jsx("td",{className:ze(s.base,e),ref:i,...n,children:t})});YK.displayName="Table.Cell";const qK=fe.createContext(void 0);function WTe(){const t=fe.useContext(qK);if(!t)throw new Error("useTableHeadContext should be used within the TableHeadContext provider!");return t}const jK=fe.forwardRef(({children:t,className:e,theme:r={},...n},i)=>{const{theme:a}=r9(),s=it(a.head,r);return se.jsx(qK.Provider,{value:{theme:s},children:se.jsx("thead",{className:ze(s.base,e),ref:i,...n,children:se.jsx("tr",{children:t})})})});jK.displayName="Table.Head";const XK=fe.forwardRef(({children:t,className:e,theme:r={},...n},i)=>{const{theme:a}=WTe(),s=it(a.cell,r);return se.jsx("th",{className:ze(s.base,e),ref:i,...n,children:t})});XK.displayName="Table.HeadCell";const KK=fe.forwardRef(({children:t,className:e,theme:r={},...n},i)=>{const{theme:a,hoverable:s,striped:o}=r9(),l=it(a.row,r);return se.jsx("tr",{ref:i,"data-testid":"table-row-element",className:ze(l.base,o&&l.striped,s&&l.hovered,e),...n,children:t})});KK.displayName="Table.Row";const QK=fe.forwardRef(({children:t,className:e,striped:r,hoverable:n,theme:i={},...a},s)=>{const o=it(Lt().table,i);return se.jsx("div",{"data-testid":"table-element",className:ze(o.root.wrapper),children:se.jsxs(HK.Provider,{value:{theme:o,striped:r,hoverable:n},children:[se.jsx("div",{className:ze(o.root.shadow,e)}),se.jsx("table",{className:ze(o.root.base,e),...a,ref:s,children:t})]})})});QK.displayName="Table";Object.assign(QK,{Head:jK,Body:WK,Row:KK,Cell:YK,HeadCell:XK});const ZK=({children:t,className:e})=>se.jsx("div",{className:e,children:t});ZK.displayName="Tabs.Item";const JK=fe.forwardRef(({children:t,className:e,onActiveTabChange:r,variant:n="default",theme:i={},...a},s)=>{const o=it(Lt().tabs,i),l=fe.useId(),u=fe.useMemo(()=>fe.Children.map(fe.Children.toArray(t),({props:k})=>k),[t]),h=fe.useRef([]),[d,p]=fe.useState(Math.max(0,u.findIndex(k=>k.active))),[f,g]=fe.useState(-1),m=k=>{p(k),r&&r(k)},y=({target:k})=>{m(k),g(k)},v=({event:k,target:E})=>{k.key==="ArrowLeft"&&g(Math.max(0,f-1)),k.key==="ArrowRight"&&g(Math.min(u.length-1,f+1)),k.key==="Enter"&&(m(E),g(E))},x=o.tablist.tabitem.variant[n],w=o.tabitemcontainer.variant[n];return fe.useEffect(()=>{var k;(k=h.current[f])==null||k.focus()},[f]),fe.useImperativeHandle(s,()=>({setActiveTab:m})),se.jsxs("div",{className:ze(o.base,e),children:[se.jsx("div",{"aria-label":"Tabs",role:"tablist",className:ze(o.tablist.base,o.tablist.variant[n],e),...a,children:u.map((k,E)=>se.jsxs("button",{type:"button","aria-controls":`${l}-tabpanel-${E}`,"aria-selected":E===d,className:ze(o.tablist.tabitem.base,x.base,E===d&&x.active.on,E!==d&&!k.disabled&&x.active.off),disabled:k.disabled,id:`${l}-tab-${E}`,onClick:()=>y({target:E}),onKeyDown:_=>v({event:_,target:E}),ref:_=>h.current[E]=_,role:"tab",tabIndex:E===f?0:-1,style:{zIndex:E===f?2:1},children:[k.icon&&se.jsx(k.icon,{className:o.tablist.tabitem.icon}),k.title]},E))}),se.jsx("div",{className:ze(o.tabitemcontainer.base,w),children:u.map((k,E)=>se.jsx("div",{"aria-labelledby":`${l}-tab-${E}`,className:o.tabpanel,hidden:E!==d,id:`${l}-tabpanel-${E}`,role:"tabpanel",tabIndex:0,children:k.children},E))})]})});JK.displayName="Tabs";Object.assign(JK,{Item:ZK});const YTe=fe.forwardRef(({className:t,color:e="gray",helperText:r,shadow:n,theme:i={},...a},s)=>{const o=it(Lt().textarea,i);return se.jsxs(se.Fragment,{children:[se.jsx("textarea",{ref:s,className:ze(o.base,o.colors[e],o.withShadow[n?"on":"off"],t),...a}),r&&se.jsx(Iy,{color:e,children:r})]})});YTe.displayName="Textarea";const eQ=fe.createContext(void 0);function n9(){const t=fe.useContext(eQ);if(!t)throw new Error("useTimelineContentContext should be used within the TimelineContentContext provider!");return t}const tQ=({children:t,className:e,theme:r={},...n})=>{const{theme:i}=n9(),a=it(i.body,r);return se.jsx("div",{className:ze(a.base,e),...n,children:t})},rQ=fe.createContext(void 0);function i9(){const t=fe.useContext(rQ);if(!t)throw new Error("useTimelineContext should be used within the TimelineContext provider!");return t}const nQ=fe.createContext(void 0);function iQ(){const t=fe.useContext(nQ);if(!t)throw new Error("useTimelineItemContext should be used within the TimelineItemContext provider!");return t}const aQ=({children:t,className:e,theme:r={},...n})=>{const{horizontal:i}=i9(),{theme:a}=iQ(),s=it(a.content,r);return se.jsx(eQ.Provider,{value:{theme:s},children:se.jsx("div",{"data-testid":"timeline-content",className:ze(s.root.base,i?s.root.horizontal:s.root.vertical,e),...n,children:t})})},sQ=({children:t,className:e,theme:r={},...n})=>{const{theme:i,horizontal:a}=i9(),s=it(i.item,r);return se.jsx(nQ.Provider,{value:{theme:s},children:se.jsx("li",{"data-testid":"timeline-item",className:ze(a&&s.root.horizontal,!a&&s.root.vertical,e),...n,children:t})})},oQ=({children:t,className:e,icon:r,theme:n={},...i})=>{const{horizontal:a}=i9(),{theme:s}=iQ(),o=it(s.point,n);return se.jsxs("div",{"data-testid":"timeline-point",className:ze(a&&o.horizontal,!a&&o.vertical,e),...i,children:[t,r?se.jsx("span",{className:ze(o.marker.icon.wrapper),children:se.jsx(r,{"aria-hidden":!0,className:ze(o.marker.icon.base)})}):se.jsx("div",{className:ze(a&&o.marker.base.horizontal,!a&&o.marker.base.vertical)}),a&&se.jsx("div",{className:ze(o.line)})]})},lQ=({children:t,className:e,theme:r={},...n})=>{const{theme:i}=n9(),a=it(i.time,r);return se.jsx("time",{className:ze(a.base,e),...n,children:t})},cQ=({as:t="h3",children:e,className:r,theme:n={},...i})=>{const{theme:a}=n9(),s=it(a.title,n);return se.jsx(t,{className:ze(s.base,r),...i,children:e})},uQ=({children:t,className:e,horizontal:r,theme:n={},...i})=>{const a=it(Lt().timeline,n);return se.jsx(rQ.Provider,{value:{theme:a,horizontal:r},children:se.jsx("ol",{"data-testid":"timeline-component",className:ze(r&&a.root.direction.horizontal,!r&&a.root.direction.vertical,e),...i,children:t})})};uQ.displayName="Timeline";sQ.displayName="Timeline.Item";oQ.displayName="Timeline.Point";aQ.displayName="Timeline.Content";lQ.displayName="Timeline.Time";cQ.displayName="Timeline.Title";tQ.displayName="Timeline.Body";Object.assign(uQ,{Item:sQ,Point:oQ,Content:aQ,Time:lQ,Title:cQ,Body:tQ});const hQ=fe.createContext(void 0);function qTe(){const t=fe.useContext(hQ);if(!t)throw new Error("useToastContext should be used within the ToastContext provider!");return t}const dQ=({className:t,onClick:e,theme:r={},xIcon:n=Cj,onDismiss:i,...a})=>{const{theme:s,duration:o,isClosed:l,isRemoved:u,setIsClosed:h,setIsRemoved:d}=qTe(),p=it(s.toggle,r),f=g=>{if(e&&e(g),i){i();return}h(!l),setTimeout(()=>d(!u),o)};return se.jsx("button",{"aria-label":"Close",onClick:f,type:"button",className:ze(p.base,t),...a,children:se.jsx(n,{"aria-hidden":!0,className:p.icon})})},jTe={75:"duration-75",100:"duration-100",150:"duration-150",200:"duration-200",300:"duration-300",500:"duration-500",700:"duration-700",1e3:"duration-1000"},fQ=({children:t,className:e,duration:r=300,theme:n={},...i})=>{const[a,s]=fe.useState(!1),[o,l]=fe.useState(!1),u=it(Lt().toast,n);return o?null:se.jsx(hQ.Provider,{value:{theme:u,duration:r,isClosed:a,isRemoved:o,setIsClosed:s,setIsRemoved:l},children:se.jsx("div",{"data-testid":"flowbite-toast",role:"alert",className:ze(u.root.base,jTe[r],a&&u.root.closed,e),...i,children:t})})};fQ.displayName="Toast";dQ.displayName="Toast.Toggle";Object.assign(fQ,{Toggle:dQ});const XTe=fe.forwardRef(({checked:t,className:e,color:r="blue",sizing:n="md",disabled:i,label:a,name:s,onChange:o,theme:l={},...u},h)=>{const d=fe.useId(),p=it(Lt().toggleSwitch,l),f=()=>o(!t),g=()=>{f()},m=y=>{y.code=="Enter"&&y.preventDefault()};return se.jsxs(se.Fragment,{children:[s&&t?se.jsx("input",{ref:h,checked:t,hidden:!0,name:s,readOnly:!0,type:"checkbox",className:"sr-only"}):null,se.jsxs("button",{"aria-checked":t,"aria-labelledby":`${d}-flowbite-toggleswitch-label`,disabled:i,id:`${d}-flowbite-toggleswitch`,onClick:g,onKeyDown:m,role:"switch",tabIndex:0,type:"button",className:ze(p.root.base,p.root.active[i?"off":"on"],e),...u,children:[se.jsx("div",{"data-testid":"flowbite-toggleswitch-toggle",className:ze(p.toggle.base,p.toggle.checked[t?"on":"off"],t&&p.toggle.checked.color[r],p.toggle.sizes[n])}),a!=null&&a.length?se.jsx("span",{"data-testid":"flowbite-toggleswitch-label",id:`${d}-flowbite-toggleswitch-label`,className:p.root.label,children:a}):null]})]})});XTe.displayName="ToggleSwitch";const KTe=({toggle:t,count:e,status:r})=>se.jsxs(xu.Group,{className:"mb-3",children:[se.jsxs(xu,{color:r.notStarted?"blue":"light",onClick:t.notStarted,children:["Nicht begonnen",se.jsx(s0,{color:"blue",className:"ml-2 rounded-full",children:e.notStarted})]}),se.jsxs(xu,{color:r.active?void 0:"light",onClick:t.active,children:["Aktiv",se.jsx(s0,{className:"ml-2 rounded-full",children:e.active})]}),se.jsxs(xu,{color:r.crit?"failure":"light",onClick:t.crit,children:["Kritisch",se.jsx(s0,{color:"red",className:"ml-2 rounded-full",children:e.crit})]}),se.jsxs(xu,{color:r.done?"success":"light",onClick:t.done,children:["Erledigt",se.jsx(s0,{color:"green",className:"ml-2 rounded-full",children:e.done})]})]}),QTe=(t,e)=>{const r=Object.keys(t).reduce((i,a)=>{const s=t[a].filter(o=>e.includes(o.status));return i[a]=s,i},{});return{count:Object.values(r).reduce((i,a)=>i+a.length,0),results:r}},ZTe=t=>{const e=[];return t.notStarted&&e.push(Yr.NOT_STARTED),t.active&&e.push(Yr.ACTIVE),t.crit&&e.push(Yr.CRIT),t.done&&e.push(Yr.DONE),e},HD=({options:t})=>{const[e,r]=fe.useState(t.initialFilter||{notStarted:!0,active:!0,crit:!0,done:!1}),[n,i]=fe.useState(null),a=zce(t.tableNodes),s=a&&Uce(a),o=s&&QTe(s,ZTe(e)),l=(o==null?void 0:o.count)&&o.count>0&&Gce(`${t.title} (${o.count} Einträge)`||`GANTT-Chart (${o.count} Einträge)`,o.results);fe.useEffect(()=>{l&&i(l)},[l]);const u=h=>{let d;switch(h){case Yr.NOT_STARTED:d={...e,notStarted:!e.notStarted};break;case Yr.ACTIVE:d={...e,active:!e.active};break;case Yr.CRIT:d={...e,crit:!e.crit};break;case Yr.DONE:d={...e,done:!e.done};break}r(d)};return window.CGDebug={extractedData:a,groupedData:s,markdown:l||void 0},a?se.jsxs(se.Fragment,{children:[se.jsx(KTe,{toggle:{notStarted:()=>u(Yr.NOT_STARTED),active:()=>u(Yr.ACTIVE),crit:()=>u(Yr.CRIT),done:()=>u(Yr.DONE)},count:{notStarted:M2(s,Yr.NOT_STARTED),active:M2(s,Yr.ACTIVE),crit:M2(s,Yr.CRIT),done:M2(s,Yr.DONE)},status:e}),o!=null&&o.count&&o.count>0?n?se.jsx(v5e,{text:n,container:t.container}):null:se.jsx(NS,{color:"warning",rounded:!0,children:"Der gewählte Filter gibt keine Ergebnisse zurück."})]}):se.jsx(NS,{color:"warning",rounded:!0,children:"Die in der Konfiguration hinterlegten Tabellen existieren nicht oder enthalten keine verwertbaren Daten."})},JTe=()=>{const t=document.createElement("style");t.type="text/css",t.appendChild(document.createTextNode(`
  @keyframes blink {
    0% {
      background-color: #cff0cf;
    }
    50% {
      background-color: #fff; 
    }
    100% {
      background-color: #cff0cf;
    }
  }

  .custom-gantt-jumped {
    background-color: #cff0cf;
    animation: blink 500ms ease-in-out infinite;
  }
`)),document.head.appendChild(t)},eEe=t=>{var n;const e=document.querySelector(`[data-jump-mark="${t}"]`),r=((n=document.querySelector("#header"))==null?void 0:n.offsetHeight)||0;e?(e.scrollIntoView({block:"start"}),window.scrollBy(0,-r),e.classList.add("custom-gantt-jumped"),setTimeout(()=>{e.classList.remove("custom-gantt-jumped")},1500)):console.error(`Kein Element mit dem data-jump-mark-Wert "${t}" gefunden.`)},tEe=window.CGOptions;let pQ=!1;const J1=tEe;Array.isArray(J1)&&(pQ=!0);J1?(JTe(),window.jumpToEntry=eEe,pQ?J1.forEach(t=>{A7(document.getElementById(t.container)).render(se.jsx(fe.StrictMode,{children:se.jsx(HD,{options:t})}))}):A7(document.getElementById(J1.container)).render(se.jsx(fe.StrictMode,{children:se.jsx(HD,{options:J1})}))):console.warn("In order to use `confluence-gantt` you have to define a global Variable called `CGOptions` which is either of type object or object-array and it must include a existing `container` as string.");class ks{constructor(e,r,n){this.lexer=void 0,this.start=void 0,this.end=void 0,this.lexer=e,this.start=r,this.end=n}static range(e,r){return r?!e||!e.loc||!r.loc||e.loc.lexer!==r.loc.lexer?null:new ks(e.loc.lexer,e.loc.start,r.loc.end):e&&e.loc}}class oo{constructor(e,r){this.text=void 0,this.loc=void 0,this.noexpand=void 0,this.treatAsRelax=void 0,this.text=e,this.loc=r}range(e,r){return new oo(r,ks.range(this,e))}}class lt{constructor(e,r){this.name=void 0,this.position=void 0,this.length=void 0,this.rawMessage=void 0;var n="KaTeX parse error: "+e,i,a,s=r&&r.loc;if(s&&s.start<=s.end){var o=s.lexer.input;i=s.start,a=s.end,i===o.length?n+=" at end of input: ":n+=" at position "+(i+1)+": ";var l=o.slice(i,a).replace(/[^]/g,"$&̲"),u;i>15?u="…"+o.slice(i-15,i):u=o.slice(0,i);var h;a+15<o.length?h=o.slice(a,a+15)+"…":h=o.slice(a),n+=u+l+h}var d=new Error(n);return d.name="ParseError",d.__proto__=lt.prototype,d.position=i,i!=null&&a!=null&&(d.length=a-i),d.rawMessage=e,d}}lt.prototype.__proto__=Error.prototype;var rEe=function(e,r){return e.indexOf(r)!==-1},nEe=function(e,r){return e===void 0?r:e},iEe=/([A-Z])/g,aEe=function(e){return e.replace(iEe,"-$1").toLowerCase()},sEe={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"},oEe=/[&><"']/g;function lEe(t){return String(t).replace(oEe,e=>sEe[e])}var gQ=function t(e){return e.type==="ordgroup"||e.type==="color"?e.body.length===1?t(e.body[0]):e:e.type==="font"?t(e.body):e},cEe=function(e){var r=gQ(e);return r.type==="mathord"||r.type==="textord"||r.type==="atom"},uEe=function(e){if(!e)throw new Error("Expected non-null, but got "+String(e));return e},hEe=function(e){var r=/^[\x00-\x20]*([^\\/#?]*?)(:|&#0*58|&#x0*3a|&colon)/i.exec(e);return r?r[2]!==":"||!/^[a-zA-Z][a-zA-Z0-9+\-.]*$/.test(r[1])?null:r[1].toLowerCase():"_relative"},Ht={contains:rEe,deflt:nEe,escape:lEe,hyphenate:aEe,getBaseElem:gQ,isCharacterBox:cEe,protocolFromUrl:hEe},xb={displayMode:{type:"boolean",description:"Render math in display mode, which puts the math in display style (so \\int and \\sum are large, for example), and centers the math on the page on its own line.",cli:"-d, --display-mode"},output:{type:{enum:["htmlAndMathml","html","mathml"]},description:"Determines the markup language of the output.",cli:"-F, --format <type>"},leqno:{type:"boolean",description:"Render display math in leqno style (left-justified tags)."},fleqn:{type:"boolean",description:"Render display math flush left."},throwOnError:{type:"boolean",default:!0,cli:"-t, --no-throw-on-error",cliDescription:"Render errors (in the color given by --error-color) instead of throwing a ParseError exception when encountering an error."},errorColor:{type:"string",default:"#cc0000",cli:"-c, --error-color <color>",cliDescription:"A color string given in the format 'rgb' or 'rrggbb' (no #). This option determines the color of errors rendered by the -t option.",cliProcessor:t=>"#"+t},macros:{type:"object",cli:"-m, --macro <def>",cliDescription:"Define custom macro of the form '\\foo:expansion' (use multiple -m arguments for multiple macros).",cliDefault:[],cliProcessor:(t,e)=>(e.push(t),e)},minRuleThickness:{type:"number",description:"Specifies a minimum thickness, in ems, for fraction lines, `\\sqrt` top lines, `{array}` vertical lines, `\\hline`, `\\hdashline`, `\\underline`, `\\overline`, and the borders of `\\fbox`, `\\boxed`, and `\\fcolorbox`.",processor:t=>Math.max(0,t),cli:"--min-rule-thickness <size>",cliProcessor:parseFloat},colorIsTextColor:{type:"boolean",description:"Makes \\color behave like LaTeX's 2-argument \\textcolor, instead of LaTeX's one-argument \\color mode change.",cli:"-b, --color-is-text-color"},strict:{type:[{enum:["warn","ignore","error"]},"boolean","function"],description:"Turn on strict / LaTeX faithfulness mode, which throws an error if the input uses features that are not supported by LaTeX.",cli:"-S, --strict",cliDefault:!1},trust:{type:["boolean","function"],description:"Trust the input, enabling all HTML features such as \\url.",cli:"-T, --trust"},maxSize:{type:"number",default:1/0,description:"If non-zero, all user-specified sizes, e.g. in \\rule{500em}{500em}, will be capped to maxSize ems. Otherwise, elements and spaces can be arbitrarily large",processor:t=>Math.max(0,t),cli:"-s, --max-size <n>",cliProcessor:parseInt},maxExpand:{type:"number",default:1e3,description:"Limit the number of macro expansions to the specified number, to prevent e.g. infinite macro loops. If set to Infinity, the macro expander will try to fully expand as in LaTeX.",processor:t=>Math.max(0,t),cli:"-e, --max-expand <n>",cliProcessor:t=>t==="Infinity"?1/0:parseInt(t)},globalGroup:{type:"boolean",cli:!1}};function dEe(t){if(t.default)return t.default;var e=t.type,r=Array.isArray(e)?e[0]:e;if(typeof r!="string")return r.enum[0];switch(r){case"boolean":return!1;case"string":return"";case"number":return 0;case"object":return{}}}class a9{constructor(e){this.displayMode=void 0,this.output=void 0,this.leqno=void 0,this.fleqn=void 0,this.throwOnError=void 0,this.errorColor=void 0,this.macros=void 0,this.minRuleThickness=void 0,this.colorIsTextColor=void 0,this.strict=void 0,this.trust=void 0,this.maxSize=void 0,this.maxExpand=void 0,this.globalGroup=void 0,e=e||{};for(var r in xb)if(xb.hasOwnProperty(r)){var n=xb[r];this[r]=e[r]!==void 0?n.processor?n.processor(e[r]):e[r]:dEe(n)}}reportNonstrict(e,r,n){var i=this.strict;if(typeof i=="function"&&(i=i(e,r,n)),!(!i||i==="ignore")){if(i===!0||i==="error")throw new lt("LaTeX-incompatible input and strict mode is set to 'error': "+(r+" ["+e+"]"),n);i==="warn"?typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(r+" ["+e+"]")):typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+i+"': "+r+" ["+e+"]"))}}useStrictBehavior(e,r,n){var i=this.strict;if(typeof i=="function")try{i=i(e,r,n)}catch{i="error"}return!i||i==="ignore"?!1:i===!0||i==="error"?!0:i==="warn"?(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(r+" ["+e+"]")),!1):(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+i+"': "+r+" ["+e+"]")),!1)}isTrusted(e){if(e.url&&!e.protocol){var r=Ht.protocolFromUrl(e.url);if(r==null)return!1;e.protocol=r}var n=typeof this.trust=="function"?this.trust(e):this.trust;return!!n}}let lu=class{constructor(e,r,n){this.id=void 0,this.size=void 0,this.cramped=void 0,this.id=e,this.size=r,this.cramped=n}sup(){return hl[fEe[this.id]]}sub(){return hl[pEe[this.id]]}fracNum(){return hl[gEe[this.id]]}fracDen(){return hl[mEe[this.id]]}cramp(){return hl[vEe[this.id]]}text(){return hl[yEe[this.id]]}isTight(){return this.size>=2}};var s9=0,m3=1,A0=2,kc=3,Lv=4,no=5,Kp=6,Ra=7,hl=[new lu(s9,0,!1),new lu(m3,0,!0),new lu(A0,1,!1),new lu(kc,1,!0),new lu(Lv,2,!1),new lu(no,2,!0),new lu(Kp,3,!1),new lu(Ra,3,!0)],fEe=[Lv,no,Lv,no,Kp,Ra,Kp,Ra],pEe=[no,no,no,no,Ra,Ra,Ra,Ra],gEe=[A0,kc,Lv,no,Kp,Ra,Kp,Ra],mEe=[kc,kc,no,no,Ra,Ra,Ra,Ra],vEe=[m3,m3,kc,kc,no,no,Ra,Ra],yEe=[s9,m3,A0,kc,A0,kc,A0,kc],qt={DISPLAY:hl[s9],TEXT:hl[A0],SCRIPT:hl[Lv],SCRIPTSCRIPT:hl[Kp]},BS=[{name:"latin",blocks:[[256,591],[768,879]]},{name:"cyrillic",blocks:[[1024,1279]]},{name:"armenian",blocks:[[1328,1423]]},{name:"brahmic",blocks:[[2304,4255]]},{name:"georgian",blocks:[[4256,4351]]},{name:"cjk",blocks:[[12288,12543],[19968,40879],[65280,65376]]},{name:"hangul",blocks:[[44032,55215]]}];function xEe(t){for(var e=0;e<BS.length;e++)for(var r=BS[e],n=0;n<r.blocks.length;n++){var i=r.blocks[n];if(t>=i[0]&&t<=i[1])return r.name}return null}var bb=[];BS.forEach(t=>t.blocks.forEach(e=>bb.push(...e)));function mQ(t){for(var e=0;e<bb.length;e+=2)if(t>=bb[e]&&t<=bb[e+1])return!0;return!1}var Mf=80,bEe=function(e,r){return"M95,"+(622+e+r)+`
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l`+e/2.075+" -"+e+`
c5.3,-9.3,12,-14,20,-14
H400000v`+(40+e)+`H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M`+(834+e)+" "+r+"h400000v"+(40+e)+"h-400000z"},wEe=function(e,r){return"M263,"+(601+e+r)+`c0.7,0,18,39.7,52,119
c34,79.3,68.167,158.7,102.5,238c34.3,79.3,51.8,119.3,52.5,120
c340,-704.7,510.7,-1060.3,512,-1067
l`+e/2.084+" -"+e+`
c4.7,-7.3,11,-11,19,-11
H40000v`+(40+e)+`H1012.3
s-271.3,567,-271.3,567c-38.7,80.7,-84,175,-136,283c-52,108,-89.167,185.3,-111.5,232
c-22.3,46.7,-33.8,70.3,-34.5,71c-4.7,4.7,-12.3,7,-23,7s-12,-1,-12,-1
s-109,-253,-109,-253c-72.7,-168,-109.3,-252,-110,-252c-10.7,8,-22,16.7,-34,26
c-22,17.3,-33.3,26,-34,26s-26,-26,-26,-26s76,-59,76,-59s76,-60,76,-60z
M`+(1001+e)+" "+r+"h400000v"+(40+e)+"h-400000z"},kEe=function(e,r){return"M983 "+(10+e+r)+`
l`+e/3.13+" -"+e+`
c4,-6.7,10,-10,18,-10 H400000v`+(40+e)+`
H1013.1s-83.4,268,-264.1,840c-180.7,572,-277,876.3,-289,913c-4.7,4.7,-12.7,7,-24,7
s-12,0,-12,0c-1.3,-3.3,-3.7,-11.7,-7,-25c-35.3,-125.3,-106.7,-373.3,-214,-744
c-10,12,-21,25,-33,39s-32,39,-32,39c-6,-5.3,-15,-14,-27,-26s25,-30,25,-30
c26.7,-32.7,52,-63,76,-91s52,-60,52,-60s208,722,208,722
c56,-175.3,126.3,-397.3,211,-666c84.7,-268.7,153.8,-488.2,207.5,-658.5
c53.7,-170.3,84.5,-266.8,92.5,-289.5z
M`+(1001+e)+" "+r+"h400000v"+(40+e)+"h-400000z"},TEe=function(e,r){return"M424,"+(2398+e+r)+`
c-1.3,-0.7,-38.5,-172,-111.5,-514c-73,-342,-109.8,-513.3,-110.5,-514
c0,-2,-10.7,14.3,-32,49c-4.7,7.3,-9.8,15.7,-15.5,25c-5.7,9.3,-9.8,16,-12.5,20
s-5,7,-5,7c-4,-3.3,-8.3,-7.7,-13,-13s-13,-13,-13,-13s76,-122,76,-122s77,-121,77,-121
s209,968,209,968c0,-2,84.7,-361.7,254,-1079c169.3,-717.3,254.7,-1077.7,256,-1081
l`+e/4.223+" -"+e+`c4,-6.7,10,-10,18,-10 H400000
v`+(40+e)+`H1014.6
s-87.3,378.7,-272.6,1166c-185.3,787.3,-279.3,1182.3,-282,1185
c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2z M`+(1001+e)+" "+r+`
h400000v`+(40+e)+"h-400000z"},EEe=function(e,r){return"M473,"+(2713+e+r)+`
c339.3,-1799.3,509.3,-2700,510,-2702 l`+e/5.298+" -"+e+`
c3.3,-7.3,9.3,-11,18,-11 H400000v`+(40+e)+`H1017.7
s-90.5,478,-276.2,1466c-185.7,988,-279.5,1483,-281.5,1485c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2c0,-1.3,-5.3,-32,-16,-92c-50.7,-293.3,-119.7,-693.3,-207,-1200
c0,-1.3,-5.3,8.7,-16,30c-10.7,21.3,-21.3,42.7,-32,64s-16,33,-16,33s-26,-26,-26,-26
s76,-153,76,-153s77,-151,77,-151c0.7,0.7,35.7,202,105,604c67.3,400.7,102,602.7,104,
606zM`+(1001+e)+" "+r+"h400000v"+(40+e)+"H1017.7z"},SEe=function(e){var r=e/2;return"M400000 "+e+" H0 L"+r+" 0 l65 45 L145 "+(e-80)+" H400000z"},CEe=function(e,r,n){var i=n-54-r-e;return"M702 "+(e+r)+"H400000"+(40+e)+`
H742v`+i+`l-4 4-4 4c-.667.7 -2 1.5-4 2.5s-4.167 1.833-6.5 2.5-5.5 1-9.5 1
h-12l-28-84c-16.667-52-96.667 -294.333-240-727l-212 -643 -85 170
c-4-3.333-8.333-7.667-13 -13l-13-13l77-155 77-156c66 199.333 139 419.667
219 661 l218 661zM702 `+r+"H400000v"+(40+e)+"H742z"},AEe=function(e,r,n){r=1e3*r;var i="";switch(e){case"sqrtMain":i=bEe(r,Mf);break;case"sqrtSize1":i=wEe(r,Mf);break;case"sqrtSize2":i=kEe(r,Mf);break;case"sqrtSize3":i=TEe(r,Mf);break;case"sqrtSize4":i=EEe(r,Mf);break;case"sqrtTall":i=CEe(r,Mf,n)}return i},_Ee=function(e,r){switch(e){case"⎜":return"M291 0 H417 V"+r+" H291z M291 0 H417 V"+r+" H291z";case"∣":return"M145 0 H188 V"+r+" H145z M145 0 H188 V"+r+" H145z";case"∥":return"M145 0 H188 V"+r+" H145z M145 0 H188 V"+r+" H145z"+("M367 0 H410 V"+r+" H367z M367 0 H410 V"+r+" H367z");case"⎟":return"M457 0 H583 V"+r+" H457z M457 0 H583 V"+r+" H457z";case"⎢":return"M319 0 H403 V"+r+" H319z M319 0 H403 V"+r+" H319z";case"⎥":return"M263 0 H347 V"+r+" H263z M263 0 H347 V"+r+" H263z";case"⎪":return"M384 0 H504 V"+r+" H384z M384 0 H504 V"+r+" H384z";case"⏐":return"M312 0 H355 V"+r+" H312z M312 0 H355 V"+r+" H312z";case"‖":return"M257 0 H300 V"+r+" H257z M257 0 H300 V"+r+" H257z"+("M478 0 H521 V"+r+" H478z M478 0 H521 V"+r+" H478z");default:return""}},WD={doubleleftarrow:`M262 157
l10-10c34-36 62.7-77 86-123 3.3-8 5-13.3 5-16 0-5.3-6.7-8-20-8-7.3
 0-12.2.5-14.5 1.5-2.3 1-4.8 4.5-7.5 10.5-49.3 97.3-121.7 169.3-217 216-28
 14-57.3 25-88 33-6.7 2-11 3.8-13 5.5-2 1.7-3 4.2-3 7.5s1 5.8 3 7.5
c2 1.7 6.3 3.5 13 5.5 68 17.3 128.2 47.8 180.5 91.5 52.3 43.7 93.8 96.2 124.5
 157.5 9.3 8 15.3 12.3 18 13h6c12-.7 18-4 18-10 0-2-1.7-7-5-15-23.3-46-52-87
-86-123l-10-10h399738v-40H218c328 0 0 0 0 0l-10-8c-26.7-20-65.7-43-117-69 2.7
-2 6-3.7 10-5 36.7-16 72.3-37.3 107-64l10-8h399782v-40z
m8 0v40h399730v-40zm0 194v40h399730v-40z`,doublerightarrow:`M399738 392l
-10 10c-34 36-62.7 77-86 123-3.3 8-5 13.3-5 16 0 5.3 6.7 8 20 8 7.3 0 12.2-.5
 14.5-1.5 2.3-1 4.8-4.5 7.5-10.5 49.3-97.3 121.7-169.3 217-216 28-14 57.3-25 88
-33 6.7-2 11-3.8 13-5.5 2-1.7 3-4.2 3-7.5s-1-5.8-3-7.5c-2-1.7-6.3-3.5-13-5.5-68
-17.3-128.2-47.8-180.5-91.5-52.3-43.7-93.8-96.2-124.5-157.5-9.3-8-15.3-12.3-18
-13h-6c-12 .7-18 4-18 10 0 2 1.7 7 5 15 23.3 46 52 87 86 123l10 10H0v40h399782
c-328 0 0 0 0 0l10 8c26.7 20 65.7 43 117 69-2.7 2-6 3.7-10 5-36.7 16-72.3 37.3
-107 64l-10 8H0v40zM0 157v40h399730v-40zm0 194v40h399730v-40z`,leftarrow:`M400000 241H110l3-3c68.7-52.7 113.7-120
 135-202 4-14.7 6-23 6-25 0-7.3-7-11-21-11-8 0-13.2.8-15.5 2.5-2.3 1.7-4.2 5.8
-5.5 12.5-1.3 4.7-2.7 10.3-4 17-12 48.7-34.8 92-68.5 130S65.3 228.3 18 247
c-10 4-16 7.7-18 11 0 8.7 6 14.3 18 17 47.3 18.7 87.8 47 121.5 85S196 441.3 208
 490c.7 2 1.3 5 2 9s1.2 6.7 1.5 8c.3 1.3 1 3.3 2 6s2.2 4.5 3.5 5.5c1.3 1 3.3
 1.8 6 2.5s6 1 10 1c14 0 21-3.7 21-11 0-2-2-10.3-6-25-20-79.3-65-146.7-135-202
 l-3-3h399890zM100 241v40h399900v-40z`,leftbrace:`M6 548l-6-6v-35l6-11c56-104 135.3-181.3 238-232 57.3-28.7 117
-45 179-50h399577v120H403c-43.3 7-81 15-113 26-100.7 33-179.7 91-237 174-2.7
 5-6 9-10 13-.7 1-7.3 1-20 1H6z`,leftbraceunder:`M0 6l6-6h17c12.688 0 19.313.3 20 1 4 4 7.313 8.3 10 13
 35.313 51.3 80.813 93.8 136.5 127.5 55.688 33.7 117.188 55.8 184.5 66.5.688
 0 2 .3 4 1 18.688 2.7 76 4.3 172 5h399450v120H429l-6-1c-124.688-8-235-61.7
-331-161C60.687 138.7 32.312 99.3 7 54L0 41V6z`,leftgroup:`M400000 80
H435C64 80 168.3 229.4 21 260c-5.9 1.2-18 0-18 0-2 0-3-1-3-3v-38C76 61 257 0
 435 0h399565z`,leftgroupunder:`M400000 262
H435C64 262 168.3 112.6 21 82c-5.9-1.2-18 0-18 0-2 0-3 1-3 3v38c76 158 257 219
 435 219h399565z`,leftharpoon:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3
-3.3 10.2-9.5 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5
-18.3 3-21-1.3-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7
-196 228-6.7 4.7-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40z`,leftharpoonplus:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3-3.3 10.2-9.5
 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5-18.3 3-21-1.3
-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7-196 228-6.7 4.7
-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40zM0 435v40h400000v-40z
m0 0v40h400000v-40z`,leftharpoondown:`M7 241c-4 4-6.333 8.667-7 14 0 5.333.667 9 2 11s5.333
 5.333 12 10c90.667 54 156 130 196 228 3.333 10.667 6.333 16.333 9 17 2 .667 5
 1 9 1h5c10.667 0 16.667-2 18-6 2-2.667 1-9.667-3-21-32-87.333-82.667-157.667
-152-211l-3-3h399907v-40zM93 281 H400000 v-40L7 241z`,leftharpoondownplus:`M7 435c-4 4-6.3 8.7-7 14 0 5.3.7 9 2 11s5.3 5.3 12
 10c90.7 54 156 130 196 228 3.3 10.7 6.3 16.3 9 17 2 .7 5 1 9 1h5c10.7 0 16.7
-2 18-6 2-2.7 1-9.7-3-21-32-87.3-82.7-157.7-152-211l-3-3h399907v-40H7zm93 0
v40h399900v-40zM0 241v40h399900v-40zm0 0v40h399900v-40z`,lefthook:`M400000 281 H103s-33-11.2-61-33.5S0 197.3 0 164s14.2-61.2 42.5
-83.5C70.8 58.2 104 47 142 47 c16.7 0 25 6.7 25 20 0 12-8.7 18.7-26 20-40 3.3
-68.7 15.7-86 37-10 12-15 25.3-15 40 0 22.7 9.8 40.7 29.5 54 19.7 13.3 43.5 21
 71.5 23h399859zM103 281v-40h399897v40z`,leftlinesegment:`M40 281 V428 H0 V94 H40 V241 H400000 v40z
M40 281 V428 H0 V94 H40 V241 H400000 v40z`,leftmapsto:`M40 281 V448H0V74H40V241H400000v40z
M40 281 V448H0V74H40V241H400000v40z`,leftToFrom:`M0 147h400000v40H0zm0 214c68 40 115.7 95.7 143 167h22c15.3 0 23
-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69-70-101l-7-8h399905v-40H95l7-8
c28.7-32 52-65.7 70-101 10.7-23.3 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 265.3
 68 321 0 361zm0-174v-40h399900v40zm100 154v40h399900v-40z`,longequal:`M0 50 h400000 v40H0z m0 194h40000v40H0z
M0 50 h400000 v40H0z m0 194h40000v40H0z`,midbrace:`M200428 334
c-100.7-8.3-195.3-44-280-108-55.3-42-101.7-93-139-153l-9-14c-2.7 4-5.7 8.7-9 14
-53.3 86.7-123.7 153-211 199-66.7 36-137.3 56.3-212 62H0V214h199568c178.3-11.7
 311.7-78.3 403-201 6-8 9.7-12 11-12 .7-.7 6.7-1 18-1s17.3.3 18 1c1.3 0 5 4 11
 12 44.7 59.3 101.3 106.3 170 141s145.3 54.3 229 60h199572v120z`,midbraceunder:`M199572 214
c100.7 8.3 195.3 44 280 108 55.3 42 101.7 93 139 153l9 14c2.7-4 5.7-8.7 9-14
 53.3-86.7 123.7-153 211-199 66.7-36 137.3-56.3 212-62h199568v120H200432c-178.3
 11.7-311.7 78.3-403 201-6 8-9.7 12-11 12-.7.7-6.7 1-18 1s-17.3-.3-18-1c-1.3 0
-5-4-11-12-44.7-59.3-101.3-106.3-170-141s-145.3-54.3-229-60H0V214z`,oiintSize1:`M512.6 71.6c272.6 0 320.3 106.8 320.3 178.2 0 70.8-47.7 177.6
-320.3 177.6S193.1 320.6 193.1 249.8c0-71.4 46.9-178.2 319.5-178.2z
m368.1 178.2c0-86.4-60.9-215.4-368.1-215.4-306.4 0-367.3 129-367.3 215.4 0 85.8
60.9 214.8 367.3 214.8 307.2 0 368.1-129 368.1-214.8z`,oiintSize2:`M757.8 100.1c384.7 0 451.1 137.6 451.1 230 0 91.3-66.4 228.8
-451.1 228.8-386.3 0-452.7-137.5-452.7-228.8 0-92.4 66.4-230 452.7-230z
m502.4 230c0-111.2-82.4-277.2-502.4-277.2s-504 166-504 277.2
c0 110 84 276 504 276s502.4-166 502.4-276z`,oiiintSize1:`M681.4 71.6c408.9 0 480.5 106.8 480.5 178.2 0 70.8-71.6 177.6
-480.5 177.6S202.1 320.6 202.1 249.8c0-71.4 70.5-178.2 479.3-178.2z
m525.8 178.2c0-86.4-86.8-215.4-525.7-215.4-437.9 0-524.7 129-524.7 215.4 0
85.8 86.8 214.8 524.7 214.8 438.9 0 525.7-129 525.7-214.8z`,oiiintSize2:`M1021.2 53c603.6 0 707.8 165.8 707.8 277.2 0 110-104.2 275.8
-707.8 275.8-606 0-710.2-165.8-710.2-275.8C311 218.8 415.2 53 1021.2 53z
m770.4 277.1c0-131.2-126.4-327.6-770.5-327.6S248.4 198.9 248.4 330.1
c0 130 128.8 326.4 772.7 326.4s770.5-196.4 770.5-326.4z`,rightarrow:`M0 241v40h399891c-47.3 35.3-84 78-110 128
-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20
 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7
 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85
-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
 151.7 139 205zm0 0v40h399900v-40z`,rightbrace:`M400000 542l
-6 6h-17c-12.7 0-19.3-.3-20-1-4-4-7.3-8.3-10-13-35.3-51.3-80.8-93.8-136.5-127.5
s-117.2-55.8-184.5-66.5c-.7 0-2-.3-4-1-18.7-2.7-76-4.3-172-5H0V214h399571l6 1
c124.7 8 235 61.7 331 161 31.3 33.3 59.7 72.7 85 118l7 13v35z`,rightbraceunder:`M399994 0l6 6v35l-6 11c-56 104-135.3 181.3-238 232-57.3
 28.7-117 45-179 50H-300V214h399897c43.3-7 81-15 113-26 100.7-33 179.7-91 237
-174 2.7-5 6-9 10-13 .7-1 7.3-1 20-1h17z`,rightgroup:`M0 80h399565c371 0 266.7 149.4 414 180 5.9 1.2 18 0 18 0 2 0
 3-1 3-3v-38c-76-158-257-219-435-219H0z`,rightgroupunder:`M0 262h399565c371 0 266.7-149.4 414-180 5.9-1.2 18 0 18
 0 2 0 3 1 3 3v38c-76 158-257 219-435 219H0z`,rightharpoon:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3
-3.7-15.3-11-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2
-10.7 0-16.7 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58
 69.2 92 94.5zm0 0v40h399900v-40z`,rightharpoonplus:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3-3.7-15.3-11
-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2-10.7 0-16.7
 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58 69.2 92 94.5z
m0 0v40h399900v-40z m100 194v40h399900v-40zm0 0v40h399900v-40z`,rightharpoondown:`M399747 511c0 7.3 6.7 11 20 11 8 0 13-.8 15-2.5s4.7-6.8
 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3 8.5-5.8 9.5
-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3-64.7 57-92 95
-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 241v40h399900v-40z`,rightharpoondownplus:`M399747 705c0 7.3 6.7 11 20 11 8 0 13-.8
 15-2.5s4.7-6.8 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3
 8.5-5.8 9.5-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3
-64.7 57-92 95-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 435v40h399900v-40z
m0-194v40h400000v-40zm0 0v40h400000v-40z`,righthook:`M399859 241c-764 0 0 0 0 0 40-3.3 68.7-15.7 86-37 10-12 15-25.3
 15-40 0-22.7-9.8-40.7-29.5-54-19.7-13.3-43.5-21-71.5-23-17.3-1.3-26-8-26-20 0
-13.3 8.7-20 26-20 38 0 71 11.2 99 33.5 0 0 7 5.6 21 16.7 14 11.2 21 33.5 21
 66.8s-14 61.2-42 83.5c-28 22.3-61 33.5-99 33.5L0 241z M0 281v-40h399859v40z`,rightlinesegment:`M399960 241 V94 h40 V428 h-40 V281 H0 v-40z
M399960 241 V94 h40 V428 h-40 V281 H0 v-40z`,rightToFrom:`M400000 167c-70.7-42-118-97.7-142-167h-23c-15.3 0-23 .3-23
 1 0 1.3 5.3 13.7 16 37 18 35.3 41.3 69 70 101l7 8H0v40h399905l-7 8c-28.7 32
-52 65.7-70 101-10.7 23.3-16 35.7-16 37 0 .7 7.7 1 23 1h23c24-69.3 71.3-125 142
-167z M100 147v40h399900v-40zM0 341v40h399900v-40z`,twoheadleftarrow:`M0 167c68 40
 115.7 95.7 143 167h22c15.3 0 23-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69
-70-101l-7-8h125l9 7c50.7 39.3 85 86 103 140h46c0-4.7-6.3-18.7-19-42-18-35.3
-40-67.3-66-96l-9-9h399716v-40H284l9-9c26-28.7 48-60.7 66-96 12.7-23.333 19
-37.333 19-42h-46c-18 54-52.3 100.7-103 140l-9 7H95l7-8c28.7-32 52-65.7 70-101
 10.7-23.333 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 71.3 68 127 0 167z`,twoheadrightarrow:`M400000 167
c-68-40-115.7-95.7-143-167h-22c-15.3 0-23 .3-23 1 0 1.3 5.3 13.7 16 37 18 35.3
 41.3 69 70 101l7 8h-125l-9-7c-50.7-39.3-85-86-103-140h-46c0 4.7 6.3 18.7 19 42
 18 35.3 40 67.3 66 96l9 9H0v40h399716l-9 9c-26 28.7-48 60.7-66 96-12.7 23.333
-19 37.333-19 42h46c18-54 52.3-100.7 103-140l9-7h125l-7 8c-28.7 32-52 65.7-70
 101-10.7 23.333-16 35.7-16 37 0 .7 7.7 1 23 1h22c27.3-71.3 75-127 143-167z`,tilde1:`M200 55.538c-77 0-168 73.953-177 73.953-3 0-7
-2.175-9-5.437L2 97c-1-2-2-4-2-6 0-4 2-7 5-9l20-12C116 12 171 0 207 0c86 0
 114 68 191 68 78 0 168-68 177-68 4 0 7 2 9 5l12 19c1 2.175 2 4.35 2 6.525 0
 4.35-2 7.613-5 9.788l-19 13.05c-92 63.077-116.937 75.308-183 76.128
-68.267.847-113-73.952-191-73.952z`,tilde2:`M344 55.266c-142 0-300.638 81.316-311.5 86.418
-8.01 3.762-22.5 10.91-23.5 5.562L1 120c-1-2-1-3-1-4 0-5 3-9 8-10l18.4-9C160.9
 31.9 283 0 358 0c148 0 188 122 331 122s314-97 326-97c4 0 8 2 10 7l7 21.114
c1 2.14 1 3.21 1 4.28 0 5.347-3 9.626-7 10.696l-22.3 12.622C852.6 158.372 751
 181.476 676 181.476c-149 0-189-126.21-332-126.21z`,tilde3:`M786 59C457 59 32 175.242 13 175.242c-6 0-10-3.457
-11-10.37L.15 138c-1-7 3-12 10-13l19.2-6.4C378.4 40.7 634.3 0 804.3 0c337 0
 411.8 157 746.8 157 328 0 754-112 773-112 5 0 10 3 11 9l1 14.075c1 8.066-.697
 16.595-6.697 17.492l-21.052 7.31c-367.9 98.146-609.15 122.696-778.15 122.696
 -338 0-409-156.573-744-156.573z`,tilde4:`M786 58C457 58 32 177.487 13 177.487c-6 0-10-3.345
-11-10.035L.15 143c-1-7 3-12 10-13l22-6.7C381.2 35 637.15 0 807.15 0c337 0 409
 177 744 177 328 0 754-127 773-127 5 0 10 3 11 9l1 14.794c1 7.805-3 13.38-9
 14.495l-20.7 5.574c-366.85 99.79-607.3 139.372-776.3 139.372-338 0-409
 -175.236-744-175.236z`,vec:`M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z`,widehat1:`M529 0h5l519 115c5 1 9 5 9 10 0 1-1 2-1 3l-4 22
c-1 5-5 9-11 9h-2L532 67 19 159h-2c-5 0-9-4-11-9l-5-22c-1-6 2-12 8-13z`,widehat2:`M1181 0h2l1171 176c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 220h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat3:`M1181 0h2l1171 236c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 280h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat4:`M1181 0h2l1171 296c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 340h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widecheck1:`M529,159h5l519,-115c5,-1,9,-5,9,-10c0,-1,-1,-2,-1,-3l-4,-22c-1,
-5,-5,-9,-11,-9h-2l-512,92l-513,-92h-2c-5,0,-9,4,-11,9l-5,22c-1,6,2,12,8,13z`,widecheck2:`M1181,220h2l1171,-176c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,153l-1167,-153h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck3:`M1181,280h2l1171,-236c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,213l-1167,-213h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck4:`M1181,340h2l1171,-296c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,273l-1167,-273h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,baraboveleftarrow:`M400000 620h-399890l3 -3c68.7 -52.7 113.7 -120 135 -202
c4 -14.7 6 -23 6 -25c0 -7.3 -7 -11 -21 -11c-8 0 -13.2 0.8 -15.5 2.5
c-2.3 1.7 -4.2 5.8 -5.5 12.5c-1.3 4.7 -2.7 10.3 -4 17c-12 48.7 -34.8 92 -68.5 130
s-74.2 66.3 -121.5 85c-10 4 -16 7.7 -18 11c0 8.7 6 14.3 18 17c47.3 18.7 87.8 47
121.5 85s56.5 81.3 68.5 130c0.7 2 1.3 5 2 9s1.2 6.7 1.5 8c0.3 1.3 1 3.3 2 6
s2.2 4.5 3.5 5.5c1.3 1 3.3 1.8 6 2.5s6 1 10 1c14 0 21 -3.7 21 -11
c0 -2 -2 -10.3 -6 -25c-20 -79.3 -65 -146.7 -135 -202l-3 -3h399890z
M100 620v40h399900v-40z M0 241v40h399900v-40zM0 241v40h399900v-40z`,rightarrowabovebar:`M0 241v40h399891c-47.3 35.3-84 78-110 128-16.7 32
-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20 11 8 0
13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7 39
-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85-40.5
-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
151.7 139 205zm96 379h399894v40H0zm0 0h399904v40H0z`,baraboveshortleftharpoon:`M507,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17
c2,0.7,5,1,9,1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21
c-32,-87.3,-82.7,-157.7,-152,-211c0,0,-3,-3,-3,-3l399351,0l0,-40
c-398570,0,-399437,0,-399437,0z M593 435 v40 H399500 v-40z
M0 281 v-40 H399908 v40z M0 281 v-40 H399908 v40z`,rightharpoonaboveshortbar:`M0,241 l0,40c399126,0,399993,0,399993,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M0 241 v40 H399908 v-40z M0 475 v-40 H399500 v40z M0 475 v-40 H399500 v40z`,shortbaraboveleftharpoon:`M7,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17c2,0.7,5,1,9,
1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21c-32,-87.3,-82.7,-157.7,
-152,-211c0,0,-3,-3,-3,-3l399907,0l0,-40c-399126,0,-399993,0,-399993,0z
M93 435 v40 H400000 v-40z M500 241 v40 H400000 v-40z M500 241 v40 H400000 v-40z`,shortrightharpoonabovebar:`M53,241l0,40c398570,0,399437,0,399437,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M500 241 v40 H399408 v-40z M500 435 v40 H400000 v-40z`},LEe=function(e,r){switch(e){case"lbrack":return"M403 1759 V84 H666 V0 H319 V1759 v"+r+` v1759 h347 v-84
H403z M403 1759 V0 H319 V1759 v`+r+" v1759 h84z";case"rbrack":return"M347 1759 V0 H0 V84 H263 V1759 v"+r+` v1759 H0 v84 H347z
M347 1759 V0 H263 V1759 v`+r+" v1759 h84z";case"vert":return"M145 15 v585 v"+r+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-r+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+r+" v585 h43z";case"doublevert":return"M145 15 v585 v"+r+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-r+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+r+` v585 h43z
M367 15 v585 v`+r+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-r+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M410 15 H367 v585 v`+r+" v585 h43z";case"lfloor":return"M319 602 V0 H403 V602 v"+r+` v1715 h263 v84 H319z
MM319 602 V0 H403 V602 v`+r+" v1715 H319z";case"rfloor":return"M319 602 V0 H403 V602 v"+r+` v1799 H0 v-84 H319z
MM319 602 V0 H403 V602 v`+r+" v1715 H319z";case"lceil":return"M403 1759 V84 H666 V0 H319 V1759 v"+r+` v602 h84z
M403 1759 V0 H319 V1759 v`+r+" v602 h84z";case"rceil":return"M347 1759 V0 H0 V84 H263 V1759 v"+r+` v602 h84z
M347 1759 V0 h-84 V1759 v`+r+" v602 h84z";case"lparen":return`M863,9c0,-2,-2,-5,-6,-9c0,0,-17,0,-17,0c-12.7,0,-19.3,0.3,-20,1
c-5.3,5.3,-10.3,11,-15,17c-242.7,294.7,-395.3,682,-458,1162c-21.3,163.3,-33.3,349,
-36,557 l0,`+(r+84)+`c0.2,6,0,26,0,60c2,159.3,10,310.7,24,454c53.3,528,210,
949.7,470,1265c4.7,6,9.7,11.7,15,17c0.7,0.7,7,1,19,1c0,0,18,0,18,0c4,-4,6,-7,6,-9
c0,-2.7,-3.3,-8.7,-10,-18c-135.3,-192.7,-235.5,-414.3,-300.5,-665c-65,-250.7,-102.5,
-544.7,-112.5,-882c-2,-104,-3,-167,-3,-189
l0,-`+(r+92)+`c0,-162.7,5.7,-314,17,-454c20.7,-272,63.7,-513,129,-723c65.3,
-210,155.3,-396.3,270,-559c6.7,-9.3,10,-15.3,10,-18z`;case"rparen":return`M76,0c-16.7,0,-25,3,-25,9c0,2,2,6.3,6,13c21.3,28.7,42.3,60.3,
63,95c96.7,156.7,172.8,332.5,228.5,527.5c55.7,195,92.8,416.5,111.5,664.5
c11.3,139.3,17,290.7,17,454c0,28,1.7,43,3.3,45l0,`+(r+9)+`
c-3,4,-3.3,16.7,-3.3,38c0,162,-5.7,313.7,-17,455c-18.7,248,-55.8,469.3,-111.5,664
c-55.7,194.7,-131.8,370.3,-228.5,527c-20.7,34.7,-41.7,66.3,-63,95c-2,3.3,-4,7,-6,11
c0,7.3,5.7,11,17,11c0,0,11,0,11,0c9.3,0,14.3,-0.3,15,-1c5.3,-5.3,10.3,-11,15,-17
c242.7,-294.7,395.3,-681.7,458,-1161c21.3,-164.7,33.3,-350.7,36,-558
l0,-`+(r+144)+`c-2,-159.3,-10,-310.7,-24,-454c-53.3,-528,-210,-949.7,
-470,-1265c-4.7,-6,-9.7,-11.7,-15,-17c-0.7,-0.7,-6.7,-1,-18,-1z`;default:throw new Error("Unknown stretchy delimiter.")}};class Oy{constructor(e){this.children=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.children=e,this.classes=[],this.height=0,this.depth=0,this.maxFontSize=0,this.style={}}hasClass(e){return Ht.contains(this.classes,e)}toNode(){for(var e=document.createDocumentFragment(),r=0;r<this.children.length;r++)e.appendChild(this.children[r].toNode());return e}toMarkup(){for(var e="",r=0;r<this.children.length;r++)e+=this.children[r].toMarkup();return e}toText(){var e=r=>r.toText();return this.children.map(e).join("")}}var vl={"AMS-Regular":{32:[0,0,0,0,.25],65:[0,.68889,0,0,.72222],66:[0,.68889,0,0,.66667],67:[0,.68889,0,0,.72222],68:[0,.68889,0,0,.72222],69:[0,.68889,0,0,.66667],70:[0,.68889,0,0,.61111],71:[0,.68889,0,0,.77778],72:[0,.68889,0,0,.77778],73:[0,.68889,0,0,.38889],74:[.16667,.68889,0,0,.5],75:[0,.68889,0,0,.77778],76:[0,.68889,0,0,.66667],77:[0,.68889,0,0,.94445],78:[0,.68889,0,0,.72222],79:[.16667,.68889,0,0,.77778],80:[0,.68889,0,0,.61111],81:[.16667,.68889,0,0,.77778],82:[0,.68889,0,0,.72222],83:[0,.68889,0,0,.55556],84:[0,.68889,0,0,.66667],85:[0,.68889,0,0,.72222],86:[0,.68889,0,0,.72222],87:[0,.68889,0,0,1],88:[0,.68889,0,0,.72222],89:[0,.68889,0,0,.72222],90:[0,.68889,0,0,.66667],107:[0,.68889,0,0,.55556],160:[0,0,0,0,.25],165:[0,.675,.025,0,.75],174:[.15559,.69224,0,0,.94666],240:[0,.68889,0,0,.55556],295:[0,.68889,0,0,.54028],710:[0,.825,0,0,2.33334],732:[0,.9,0,0,2.33334],770:[0,.825,0,0,2.33334],771:[0,.9,0,0,2.33334],989:[.08167,.58167,0,0,.77778],1008:[0,.43056,.04028,0,.66667],8245:[0,.54986,0,0,.275],8463:[0,.68889,0,0,.54028],8487:[0,.68889,0,0,.72222],8498:[0,.68889,0,0,.55556],8502:[0,.68889,0,0,.66667],8503:[0,.68889,0,0,.44445],8504:[0,.68889,0,0,.66667],8513:[0,.68889,0,0,.63889],8592:[-.03598,.46402,0,0,.5],8594:[-.03598,.46402,0,0,.5],8602:[-.13313,.36687,0,0,1],8603:[-.13313,.36687,0,0,1],8606:[.01354,.52239,0,0,1],8608:[.01354,.52239,0,0,1],8610:[.01354,.52239,0,0,1.11111],8611:[.01354,.52239,0,0,1.11111],8619:[0,.54986,0,0,1],8620:[0,.54986,0,0,1],8621:[-.13313,.37788,0,0,1.38889],8622:[-.13313,.36687,0,0,1],8624:[0,.69224,0,0,.5],8625:[0,.69224,0,0,.5],8630:[0,.43056,0,0,1],8631:[0,.43056,0,0,1],8634:[.08198,.58198,0,0,.77778],8635:[.08198,.58198,0,0,.77778],8638:[.19444,.69224,0,0,.41667],8639:[.19444,.69224,0,0,.41667],8642:[.19444,.69224,0,0,.41667],8643:[.19444,.69224,0,0,.41667],8644:[.1808,.675,0,0,1],8646:[.1808,.675,0,0,1],8647:[.1808,.675,0,0,1],8648:[.19444,.69224,0,0,.83334],8649:[.1808,.675,0,0,1],8650:[.19444,.69224,0,0,.83334],8651:[.01354,.52239,0,0,1],8652:[.01354,.52239,0,0,1],8653:[-.13313,.36687,0,0,1],8654:[-.13313,.36687,0,0,1],8655:[-.13313,.36687,0,0,1],8666:[.13667,.63667,0,0,1],8667:[.13667,.63667,0,0,1],8669:[-.13313,.37788,0,0,1],8672:[-.064,.437,0,0,1.334],8674:[-.064,.437,0,0,1.334],8705:[0,.825,0,0,.5],8708:[0,.68889,0,0,.55556],8709:[.08167,.58167,0,0,.77778],8717:[0,.43056,0,0,.42917],8722:[-.03598,.46402,0,0,.5],8724:[.08198,.69224,0,0,.77778],8726:[.08167,.58167,0,0,.77778],8733:[0,.69224,0,0,.77778],8736:[0,.69224,0,0,.72222],8737:[0,.69224,0,0,.72222],8738:[.03517,.52239,0,0,.72222],8739:[.08167,.58167,0,0,.22222],8740:[.25142,.74111,0,0,.27778],8741:[.08167,.58167,0,0,.38889],8742:[.25142,.74111,0,0,.5],8756:[0,.69224,0,0,.66667],8757:[0,.69224,0,0,.66667],8764:[-.13313,.36687,0,0,.77778],8765:[-.13313,.37788,0,0,.77778],8769:[-.13313,.36687,0,0,.77778],8770:[-.03625,.46375,0,0,.77778],8774:[.30274,.79383,0,0,.77778],8776:[-.01688,.48312,0,0,.77778],8778:[.08167,.58167,0,0,.77778],8782:[.06062,.54986,0,0,.77778],8783:[.06062,.54986,0,0,.77778],8785:[.08198,.58198,0,0,.77778],8786:[.08198,.58198,0,0,.77778],8787:[.08198,.58198,0,0,.77778],8790:[0,.69224,0,0,.77778],8791:[.22958,.72958,0,0,.77778],8796:[.08198,.91667,0,0,.77778],8806:[.25583,.75583,0,0,.77778],8807:[.25583,.75583,0,0,.77778],8808:[.25142,.75726,0,0,.77778],8809:[.25142,.75726,0,0,.77778],8812:[.25583,.75583,0,0,.5],8814:[.20576,.70576,0,0,.77778],8815:[.20576,.70576,0,0,.77778],8816:[.30274,.79383,0,0,.77778],8817:[.30274,.79383,0,0,.77778],8818:[.22958,.72958,0,0,.77778],8819:[.22958,.72958,0,0,.77778],8822:[.1808,.675,0,0,.77778],8823:[.1808,.675,0,0,.77778],8828:[.13667,.63667,0,0,.77778],8829:[.13667,.63667,0,0,.77778],8830:[.22958,.72958,0,0,.77778],8831:[.22958,.72958,0,0,.77778],8832:[.20576,.70576,0,0,.77778],8833:[.20576,.70576,0,0,.77778],8840:[.30274,.79383,0,0,.77778],8841:[.30274,.79383,0,0,.77778],8842:[.13597,.63597,0,0,.77778],8843:[.13597,.63597,0,0,.77778],8847:[.03517,.54986,0,0,.77778],8848:[.03517,.54986,0,0,.77778],8858:[.08198,.58198,0,0,.77778],8859:[.08198,.58198,0,0,.77778],8861:[.08198,.58198,0,0,.77778],8862:[0,.675,0,0,.77778],8863:[0,.675,0,0,.77778],8864:[0,.675,0,0,.77778],8865:[0,.675,0,0,.77778],8872:[0,.69224,0,0,.61111],8873:[0,.69224,0,0,.72222],8874:[0,.69224,0,0,.88889],8876:[0,.68889,0,0,.61111],8877:[0,.68889,0,0,.61111],8878:[0,.68889,0,0,.72222],8879:[0,.68889,0,0,.72222],8882:[.03517,.54986,0,0,.77778],8883:[.03517,.54986,0,0,.77778],8884:[.13667,.63667,0,0,.77778],8885:[.13667,.63667,0,0,.77778],8888:[0,.54986,0,0,1.11111],8890:[.19444,.43056,0,0,.55556],8891:[.19444,.69224,0,0,.61111],8892:[.19444,.69224,0,0,.61111],8901:[0,.54986,0,0,.27778],8903:[.08167,.58167,0,0,.77778],8905:[.08167,.58167,0,0,.77778],8906:[.08167,.58167,0,0,.77778],8907:[0,.69224,0,0,.77778],8908:[0,.69224,0,0,.77778],8909:[-.03598,.46402,0,0,.77778],8910:[0,.54986,0,0,.76042],8911:[0,.54986,0,0,.76042],8912:[.03517,.54986,0,0,.77778],8913:[.03517,.54986,0,0,.77778],8914:[0,.54986,0,0,.66667],8915:[0,.54986,0,0,.66667],8916:[0,.69224,0,0,.66667],8918:[.0391,.5391,0,0,.77778],8919:[.0391,.5391,0,0,.77778],8920:[.03517,.54986,0,0,1.33334],8921:[.03517,.54986,0,0,1.33334],8922:[.38569,.88569,0,0,.77778],8923:[.38569,.88569,0,0,.77778],8926:[.13667,.63667,0,0,.77778],8927:[.13667,.63667,0,0,.77778],8928:[.30274,.79383,0,0,.77778],8929:[.30274,.79383,0,0,.77778],8934:[.23222,.74111,0,0,.77778],8935:[.23222,.74111,0,0,.77778],8936:[.23222,.74111,0,0,.77778],8937:[.23222,.74111,0,0,.77778],8938:[.20576,.70576,0,0,.77778],8939:[.20576,.70576,0,0,.77778],8940:[.30274,.79383,0,0,.77778],8941:[.30274,.79383,0,0,.77778],8994:[.19444,.69224,0,0,.77778],8995:[.19444,.69224,0,0,.77778],9416:[.15559,.69224,0,0,.90222],9484:[0,.69224,0,0,.5],9488:[0,.69224,0,0,.5],9492:[0,.37788,0,0,.5],9496:[0,.37788,0,0,.5],9585:[.19444,.68889,0,0,.88889],9586:[.19444,.74111,0,0,.88889],9632:[0,.675,0,0,.77778],9633:[0,.675,0,0,.77778],9650:[0,.54986,0,0,.72222],9651:[0,.54986,0,0,.72222],9654:[.03517,.54986,0,0,.77778],9660:[0,.54986,0,0,.72222],9661:[0,.54986,0,0,.72222],9664:[.03517,.54986,0,0,.77778],9674:[.11111,.69224,0,0,.66667],9733:[.19444,.69224,0,0,.94445],10003:[0,.69224,0,0,.83334],10016:[0,.69224,0,0,.83334],10731:[.11111,.69224,0,0,.66667],10846:[.19444,.75583,0,0,.61111],10877:[.13667,.63667,0,0,.77778],10878:[.13667,.63667,0,0,.77778],10885:[.25583,.75583,0,0,.77778],10886:[.25583,.75583,0,0,.77778],10887:[.13597,.63597,0,0,.77778],10888:[.13597,.63597,0,0,.77778],10889:[.26167,.75726,0,0,.77778],10890:[.26167,.75726,0,0,.77778],10891:[.48256,.98256,0,0,.77778],10892:[.48256,.98256,0,0,.77778],10901:[.13667,.63667,0,0,.77778],10902:[.13667,.63667,0,0,.77778],10933:[.25142,.75726,0,0,.77778],10934:[.25142,.75726,0,0,.77778],10935:[.26167,.75726,0,0,.77778],10936:[.26167,.75726,0,0,.77778],10937:[.26167,.75726,0,0,.77778],10938:[.26167,.75726,0,0,.77778],10949:[.25583,.75583,0,0,.77778],10950:[.25583,.75583,0,0,.77778],10955:[.28481,.79383,0,0,.77778],10956:[.28481,.79383,0,0,.77778],57350:[.08167,.58167,0,0,.22222],57351:[.08167,.58167,0,0,.38889],57352:[.08167,.58167,0,0,.77778],57353:[0,.43056,.04028,0,.66667],57356:[.25142,.75726,0,0,.77778],57357:[.25142,.75726,0,0,.77778],57358:[.41951,.91951,0,0,.77778],57359:[.30274,.79383,0,0,.77778],57360:[.30274,.79383,0,0,.77778],57361:[.41951,.91951,0,0,.77778],57366:[.25142,.75726,0,0,.77778],57367:[.25142,.75726,0,0,.77778],57368:[.25142,.75726,0,0,.77778],57369:[.25142,.75726,0,0,.77778],57370:[.13597,.63597,0,0,.77778],57371:[.13597,.63597,0,0,.77778]},"Caligraphic-Regular":{32:[0,0,0,0,.25],65:[0,.68333,0,.19445,.79847],66:[0,.68333,.03041,.13889,.65681],67:[0,.68333,.05834,.13889,.52653],68:[0,.68333,.02778,.08334,.77139],69:[0,.68333,.08944,.11111,.52778],70:[0,.68333,.09931,.11111,.71875],71:[.09722,.68333,.0593,.11111,.59487],72:[0,.68333,.00965,.11111,.84452],73:[0,.68333,.07382,0,.54452],74:[.09722,.68333,.18472,.16667,.67778],75:[0,.68333,.01445,.05556,.76195],76:[0,.68333,0,.13889,.68972],77:[0,.68333,0,.13889,1.2009],78:[0,.68333,.14736,.08334,.82049],79:[0,.68333,.02778,.11111,.79611],80:[0,.68333,.08222,.08334,.69556],81:[.09722,.68333,0,.11111,.81667],82:[0,.68333,0,.08334,.8475],83:[0,.68333,.075,.13889,.60556],84:[0,.68333,.25417,0,.54464],85:[0,.68333,.09931,.08334,.62583],86:[0,.68333,.08222,0,.61278],87:[0,.68333,.08222,.08334,.98778],88:[0,.68333,.14643,.13889,.7133],89:[.09722,.68333,.08222,.08334,.66834],90:[0,.68333,.07944,.13889,.72473],160:[0,0,0,0,.25]},"Fraktur-Regular":{32:[0,0,0,0,.25],33:[0,.69141,0,0,.29574],34:[0,.69141,0,0,.21471],38:[0,.69141,0,0,.73786],39:[0,.69141,0,0,.21201],40:[.24982,.74947,0,0,.38865],41:[.24982,.74947,0,0,.38865],42:[0,.62119,0,0,.27764],43:[.08319,.58283,0,0,.75623],44:[0,.10803,0,0,.27764],45:[.08319,.58283,0,0,.75623],46:[0,.10803,0,0,.27764],47:[.24982,.74947,0,0,.50181],48:[0,.47534,0,0,.50181],49:[0,.47534,0,0,.50181],50:[0,.47534,0,0,.50181],51:[.18906,.47534,0,0,.50181],52:[.18906,.47534,0,0,.50181],53:[.18906,.47534,0,0,.50181],54:[0,.69141,0,0,.50181],55:[.18906,.47534,0,0,.50181],56:[0,.69141,0,0,.50181],57:[.18906,.47534,0,0,.50181],58:[0,.47534,0,0,.21606],59:[.12604,.47534,0,0,.21606],61:[-.13099,.36866,0,0,.75623],63:[0,.69141,0,0,.36245],65:[0,.69141,0,0,.7176],66:[0,.69141,0,0,.88397],67:[0,.69141,0,0,.61254],68:[0,.69141,0,0,.83158],69:[0,.69141,0,0,.66278],70:[.12604,.69141,0,0,.61119],71:[0,.69141,0,0,.78539],72:[.06302,.69141,0,0,.7203],73:[0,.69141,0,0,.55448],74:[.12604,.69141,0,0,.55231],75:[0,.69141,0,0,.66845],76:[0,.69141,0,0,.66602],77:[0,.69141,0,0,1.04953],78:[0,.69141,0,0,.83212],79:[0,.69141,0,0,.82699],80:[.18906,.69141,0,0,.82753],81:[.03781,.69141,0,0,.82699],82:[0,.69141,0,0,.82807],83:[0,.69141,0,0,.82861],84:[0,.69141,0,0,.66899],85:[0,.69141,0,0,.64576],86:[0,.69141,0,0,.83131],87:[0,.69141,0,0,1.04602],88:[0,.69141,0,0,.71922],89:[.18906,.69141,0,0,.83293],90:[.12604,.69141,0,0,.60201],91:[.24982,.74947,0,0,.27764],93:[.24982,.74947,0,0,.27764],94:[0,.69141,0,0,.49965],97:[0,.47534,0,0,.50046],98:[0,.69141,0,0,.51315],99:[0,.47534,0,0,.38946],100:[0,.62119,0,0,.49857],101:[0,.47534,0,0,.40053],102:[.18906,.69141,0,0,.32626],103:[.18906,.47534,0,0,.5037],104:[.18906,.69141,0,0,.52126],105:[0,.69141,0,0,.27899],106:[0,.69141,0,0,.28088],107:[0,.69141,0,0,.38946],108:[0,.69141,0,0,.27953],109:[0,.47534,0,0,.76676],110:[0,.47534,0,0,.52666],111:[0,.47534,0,0,.48885],112:[.18906,.52396,0,0,.50046],113:[.18906,.47534,0,0,.48912],114:[0,.47534,0,0,.38919],115:[0,.47534,0,0,.44266],116:[0,.62119,0,0,.33301],117:[0,.47534,0,0,.5172],118:[0,.52396,0,0,.5118],119:[0,.52396,0,0,.77351],120:[.18906,.47534,0,0,.38865],121:[.18906,.47534,0,0,.49884],122:[.18906,.47534,0,0,.39054],160:[0,0,0,0,.25],8216:[0,.69141,0,0,.21471],8217:[0,.69141,0,0,.21471],58112:[0,.62119,0,0,.49749],58113:[0,.62119,0,0,.4983],58114:[.18906,.69141,0,0,.33328],58115:[.18906,.69141,0,0,.32923],58116:[.18906,.47534,0,0,.50343],58117:[0,.69141,0,0,.33301],58118:[0,.62119,0,0,.33409],58119:[0,.47534,0,0,.50073]},"Main-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.35],34:[0,.69444,0,0,.60278],35:[.19444,.69444,0,0,.95833],36:[.05556,.75,0,0,.575],37:[.05556,.75,0,0,.95833],38:[0,.69444,0,0,.89444],39:[0,.69444,0,0,.31944],40:[.25,.75,0,0,.44722],41:[.25,.75,0,0,.44722],42:[0,.75,0,0,.575],43:[.13333,.63333,0,0,.89444],44:[.19444,.15556,0,0,.31944],45:[0,.44444,0,0,.38333],46:[0,.15556,0,0,.31944],47:[.25,.75,0,0,.575],48:[0,.64444,0,0,.575],49:[0,.64444,0,0,.575],50:[0,.64444,0,0,.575],51:[0,.64444,0,0,.575],52:[0,.64444,0,0,.575],53:[0,.64444,0,0,.575],54:[0,.64444,0,0,.575],55:[0,.64444,0,0,.575],56:[0,.64444,0,0,.575],57:[0,.64444,0,0,.575],58:[0,.44444,0,0,.31944],59:[.19444,.44444,0,0,.31944],60:[.08556,.58556,0,0,.89444],61:[-.10889,.39111,0,0,.89444],62:[.08556,.58556,0,0,.89444],63:[0,.69444,0,0,.54305],64:[0,.69444,0,0,.89444],65:[0,.68611,0,0,.86944],66:[0,.68611,0,0,.81805],67:[0,.68611,0,0,.83055],68:[0,.68611,0,0,.88194],69:[0,.68611,0,0,.75555],70:[0,.68611,0,0,.72361],71:[0,.68611,0,0,.90416],72:[0,.68611,0,0,.9],73:[0,.68611,0,0,.43611],74:[0,.68611,0,0,.59444],75:[0,.68611,0,0,.90138],76:[0,.68611,0,0,.69166],77:[0,.68611,0,0,1.09166],78:[0,.68611,0,0,.9],79:[0,.68611,0,0,.86388],80:[0,.68611,0,0,.78611],81:[.19444,.68611,0,0,.86388],82:[0,.68611,0,0,.8625],83:[0,.68611,0,0,.63889],84:[0,.68611,0,0,.8],85:[0,.68611,0,0,.88472],86:[0,.68611,.01597,0,.86944],87:[0,.68611,.01597,0,1.18888],88:[0,.68611,0,0,.86944],89:[0,.68611,.02875,0,.86944],90:[0,.68611,0,0,.70277],91:[.25,.75,0,0,.31944],92:[.25,.75,0,0,.575],93:[.25,.75,0,0,.31944],94:[0,.69444,0,0,.575],95:[.31,.13444,.03194,0,.575],97:[0,.44444,0,0,.55902],98:[0,.69444,0,0,.63889],99:[0,.44444,0,0,.51111],100:[0,.69444,0,0,.63889],101:[0,.44444,0,0,.52708],102:[0,.69444,.10903,0,.35139],103:[.19444,.44444,.01597,0,.575],104:[0,.69444,0,0,.63889],105:[0,.69444,0,0,.31944],106:[.19444,.69444,0,0,.35139],107:[0,.69444,0,0,.60694],108:[0,.69444,0,0,.31944],109:[0,.44444,0,0,.95833],110:[0,.44444,0,0,.63889],111:[0,.44444,0,0,.575],112:[.19444,.44444,0,0,.63889],113:[.19444,.44444,0,0,.60694],114:[0,.44444,0,0,.47361],115:[0,.44444,0,0,.45361],116:[0,.63492,0,0,.44722],117:[0,.44444,0,0,.63889],118:[0,.44444,.01597,0,.60694],119:[0,.44444,.01597,0,.83055],120:[0,.44444,0,0,.60694],121:[.19444,.44444,.01597,0,.60694],122:[0,.44444,0,0,.51111],123:[.25,.75,0,0,.575],124:[.25,.75,0,0,.31944],125:[.25,.75,0,0,.575],126:[.35,.34444,0,0,.575],160:[0,0,0,0,.25],163:[0,.69444,0,0,.86853],168:[0,.69444,0,0,.575],172:[0,.44444,0,0,.76666],176:[0,.69444,0,0,.86944],177:[.13333,.63333,0,0,.89444],184:[.17014,0,0,0,.51111],198:[0,.68611,0,0,1.04166],215:[.13333,.63333,0,0,.89444],216:[.04861,.73472,0,0,.89444],223:[0,.69444,0,0,.59722],230:[0,.44444,0,0,.83055],247:[.13333,.63333,0,0,.89444],248:[.09722,.54167,0,0,.575],305:[0,.44444,0,0,.31944],338:[0,.68611,0,0,1.16944],339:[0,.44444,0,0,.89444],567:[.19444,.44444,0,0,.35139],710:[0,.69444,0,0,.575],711:[0,.63194,0,0,.575],713:[0,.59611,0,0,.575],714:[0,.69444,0,0,.575],715:[0,.69444,0,0,.575],728:[0,.69444,0,0,.575],729:[0,.69444,0,0,.31944],730:[0,.69444,0,0,.86944],732:[0,.69444,0,0,.575],733:[0,.69444,0,0,.575],915:[0,.68611,0,0,.69166],916:[0,.68611,0,0,.95833],920:[0,.68611,0,0,.89444],923:[0,.68611,0,0,.80555],926:[0,.68611,0,0,.76666],928:[0,.68611,0,0,.9],931:[0,.68611,0,0,.83055],933:[0,.68611,0,0,.89444],934:[0,.68611,0,0,.83055],936:[0,.68611,0,0,.89444],937:[0,.68611,0,0,.83055],8211:[0,.44444,.03194,0,.575],8212:[0,.44444,.03194,0,1.14999],8216:[0,.69444,0,0,.31944],8217:[0,.69444,0,0,.31944],8220:[0,.69444,0,0,.60278],8221:[0,.69444,0,0,.60278],8224:[.19444,.69444,0,0,.51111],8225:[.19444,.69444,0,0,.51111],8242:[0,.55556,0,0,.34444],8407:[0,.72444,.15486,0,.575],8463:[0,.69444,0,0,.66759],8465:[0,.69444,0,0,.83055],8467:[0,.69444,0,0,.47361],8472:[.19444,.44444,0,0,.74027],8476:[0,.69444,0,0,.83055],8501:[0,.69444,0,0,.70277],8592:[-.10889,.39111,0,0,1.14999],8593:[.19444,.69444,0,0,.575],8594:[-.10889,.39111,0,0,1.14999],8595:[.19444,.69444,0,0,.575],8596:[-.10889,.39111,0,0,1.14999],8597:[.25,.75,0,0,.575],8598:[.19444,.69444,0,0,1.14999],8599:[.19444,.69444,0,0,1.14999],8600:[.19444,.69444,0,0,1.14999],8601:[.19444,.69444,0,0,1.14999],8636:[-.10889,.39111,0,0,1.14999],8637:[-.10889,.39111,0,0,1.14999],8640:[-.10889,.39111,0,0,1.14999],8641:[-.10889,.39111,0,0,1.14999],8656:[-.10889,.39111,0,0,1.14999],8657:[.19444,.69444,0,0,.70277],8658:[-.10889,.39111,0,0,1.14999],8659:[.19444,.69444,0,0,.70277],8660:[-.10889,.39111,0,0,1.14999],8661:[.25,.75,0,0,.70277],8704:[0,.69444,0,0,.63889],8706:[0,.69444,.06389,0,.62847],8707:[0,.69444,0,0,.63889],8709:[.05556,.75,0,0,.575],8711:[0,.68611,0,0,.95833],8712:[.08556,.58556,0,0,.76666],8715:[.08556,.58556,0,0,.76666],8722:[.13333,.63333,0,0,.89444],8723:[.13333,.63333,0,0,.89444],8725:[.25,.75,0,0,.575],8726:[.25,.75,0,0,.575],8727:[-.02778,.47222,0,0,.575],8728:[-.02639,.47361,0,0,.575],8729:[-.02639,.47361,0,0,.575],8730:[.18,.82,0,0,.95833],8733:[0,.44444,0,0,.89444],8734:[0,.44444,0,0,1.14999],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.31944],8741:[.25,.75,0,0,.575],8743:[0,.55556,0,0,.76666],8744:[0,.55556,0,0,.76666],8745:[0,.55556,0,0,.76666],8746:[0,.55556,0,0,.76666],8747:[.19444,.69444,.12778,0,.56875],8764:[-.10889,.39111,0,0,.89444],8768:[.19444,.69444,0,0,.31944],8771:[.00222,.50222,0,0,.89444],8773:[.027,.638,0,0,.894],8776:[.02444,.52444,0,0,.89444],8781:[.00222,.50222,0,0,.89444],8801:[.00222,.50222,0,0,.89444],8804:[.19667,.69667,0,0,.89444],8805:[.19667,.69667,0,0,.89444],8810:[.08556,.58556,0,0,1.14999],8811:[.08556,.58556,0,0,1.14999],8826:[.08556,.58556,0,0,.89444],8827:[.08556,.58556,0,0,.89444],8834:[.08556,.58556,0,0,.89444],8835:[.08556,.58556,0,0,.89444],8838:[.19667,.69667,0,0,.89444],8839:[.19667,.69667,0,0,.89444],8846:[0,.55556,0,0,.76666],8849:[.19667,.69667,0,0,.89444],8850:[.19667,.69667,0,0,.89444],8851:[0,.55556,0,0,.76666],8852:[0,.55556,0,0,.76666],8853:[.13333,.63333,0,0,.89444],8854:[.13333,.63333,0,0,.89444],8855:[.13333,.63333,0,0,.89444],8856:[.13333,.63333,0,0,.89444],8857:[.13333,.63333,0,0,.89444],8866:[0,.69444,0,0,.70277],8867:[0,.69444,0,0,.70277],8868:[0,.69444,0,0,.89444],8869:[0,.69444,0,0,.89444],8900:[-.02639,.47361,0,0,.575],8901:[-.02639,.47361,0,0,.31944],8902:[-.02778,.47222,0,0,.575],8968:[.25,.75,0,0,.51111],8969:[.25,.75,0,0,.51111],8970:[.25,.75,0,0,.51111],8971:[.25,.75,0,0,.51111],8994:[-.13889,.36111,0,0,1.14999],8995:[-.13889,.36111,0,0,1.14999],9651:[.19444,.69444,0,0,1.02222],9657:[-.02778,.47222,0,0,.575],9661:[.19444,.69444,0,0,1.02222],9667:[-.02778,.47222,0,0,.575],9711:[.19444,.69444,0,0,1.14999],9824:[.12963,.69444,0,0,.89444],9825:[.12963,.69444,0,0,.89444],9826:[.12963,.69444,0,0,.89444],9827:[.12963,.69444,0,0,.89444],9837:[0,.75,0,0,.44722],9838:[.19444,.69444,0,0,.44722],9839:[.19444,.69444,0,0,.44722],10216:[.25,.75,0,0,.44722],10217:[.25,.75,0,0,.44722],10815:[0,.68611,0,0,.9],10927:[.19667,.69667,0,0,.89444],10928:[.19667,.69667,0,0,.89444],57376:[.19444,.69444,0,0,0]},"Main-BoldItalic":{32:[0,0,0,0,.25],33:[0,.69444,.11417,0,.38611],34:[0,.69444,.07939,0,.62055],35:[.19444,.69444,.06833,0,.94444],37:[.05556,.75,.12861,0,.94444],38:[0,.69444,.08528,0,.88555],39:[0,.69444,.12945,0,.35555],40:[.25,.75,.15806,0,.47333],41:[.25,.75,.03306,0,.47333],42:[0,.75,.14333,0,.59111],43:[.10333,.60333,.03306,0,.88555],44:[.19444,.14722,0,0,.35555],45:[0,.44444,.02611,0,.41444],46:[0,.14722,0,0,.35555],47:[.25,.75,.15806,0,.59111],48:[0,.64444,.13167,0,.59111],49:[0,.64444,.13167,0,.59111],50:[0,.64444,.13167,0,.59111],51:[0,.64444,.13167,0,.59111],52:[.19444,.64444,.13167,0,.59111],53:[0,.64444,.13167,0,.59111],54:[0,.64444,.13167,0,.59111],55:[.19444,.64444,.13167,0,.59111],56:[0,.64444,.13167,0,.59111],57:[0,.64444,.13167,0,.59111],58:[0,.44444,.06695,0,.35555],59:[.19444,.44444,.06695,0,.35555],61:[-.10889,.39111,.06833,0,.88555],63:[0,.69444,.11472,0,.59111],64:[0,.69444,.09208,0,.88555],65:[0,.68611,0,0,.86555],66:[0,.68611,.0992,0,.81666],67:[0,.68611,.14208,0,.82666],68:[0,.68611,.09062,0,.87555],69:[0,.68611,.11431,0,.75666],70:[0,.68611,.12903,0,.72722],71:[0,.68611,.07347,0,.89527],72:[0,.68611,.17208,0,.8961],73:[0,.68611,.15681,0,.47166],74:[0,.68611,.145,0,.61055],75:[0,.68611,.14208,0,.89499],76:[0,.68611,0,0,.69777],77:[0,.68611,.17208,0,1.07277],78:[0,.68611,.17208,0,.8961],79:[0,.68611,.09062,0,.85499],80:[0,.68611,.0992,0,.78721],81:[.19444,.68611,.09062,0,.85499],82:[0,.68611,.02559,0,.85944],83:[0,.68611,.11264,0,.64999],84:[0,.68611,.12903,0,.7961],85:[0,.68611,.17208,0,.88083],86:[0,.68611,.18625,0,.86555],87:[0,.68611,.18625,0,1.15999],88:[0,.68611,.15681,0,.86555],89:[0,.68611,.19803,0,.86555],90:[0,.68611,.14208,0,.70888],91:[.25,.75,.1875,0,.35611],93:[.25,.75,.09972,0,.35611],94:[0,.69444,.06709,0,.59111],95:[.31,.13444,.09811,0,.59111],97:[0,.44444,.09426,0,.59111],98:[0,.69444,.07861,0,.53222],99:[0,.44444,.05222,0,.53222],100:[0,.69444,.10861,0,.59111],101:[0,.44444,.085,0,.53222],102:[.19444,.69444,.21778,0,.4],103:[.19444,.44444,.105,0,.53222],104:[0,.69444,.09426,0,.59111],105:[0,.69326,.11387,0,.35555],106:[.19444,.69326,.1672,0,.35555],107:[0,.69444,.11111,0,.53222],108:[0,.69444,.10861,0,.29666],109:[0,.44444,.09426,0,.94444],110:[0,.44444,.09426,0,.64999],111:[0,.44444,.07861,0,.59111],112:[.19444,.44444,.07861,0,.59111],113:[.19444,.44444,.105,0,.53222],114:[0,.44444,.11111,0,.50167],115:[0,.44444,.08167,0,.48694],116:[0,.63492,.09639,0,.385],117:[0,.44444,.09426,0,.62055],118:[0,.44444,.11111,0,.53222],119:[0,.44444,.11111,0,.76777],120:[0,.44444,.12583,0,.56055],121:[.19444,.44444,.105,0,.56166],122:[0,.44444,.13889,0,.49055],126:[.35,.34444,.11472,0,.59111],160:[0,0,0,0,.25],168:[0,.69444,.11473,0,.59111],176:[0,.69444,0,0,.94888],184:[.17014,0,0,0,.53222],198:[0,.68611,.11431,0,1.02277],216:[.04861,.73472,.09062,0,.88555],223:[.19444,.69444,.09736,0,.665],230:[0,.44444,.085,0,.82666],248:[.09722,.54167,.09458,0,.59111],305:[0,.44444,.09426,0,.35555],338:[0,.68611,.11431,0,1.14054],339:[0,.44444,.085,0,.82666],567:[.19444,.44444,.04611,0,.385],710:[0,.69444,.06709,0,.59111],711:[0,.63194,.08271,0,.59111],713:[0,.59444,.10444,0,.59111],714:[0,.69444,.08528,0,.59111],715:[0,.69444,0,0,.59111],728:[0,.69444,.10333,0,.59111],729:[0,.69444,.12945,0,.35555],730:[0,.69444,0,0,.94888],732:[0,.69444,.11472,0,.59111],733:[0,.69444,.11472,0,.59111],915:[0,.68611,.12903,0,.69777],916:[0,.68611,0,0,.94444],920:[0,.68611,.09062,0,.88555],923:[0,.68611,0,0,.80666],926:[0,.68611,.15092,0,.76777],928:[0,.68611,.17208,0,.8961],931:[0,.68611,.11431,0,.82666],933:[0,.68611,.10778,0,.88555],934:[0,.68611,.05632,0,.82666],936:[0,.68611,.10778,0,.88555],937:[0,.68611,.0992,0,.82666],8211:[0,.44444,.09811,0,.59111],8212:[0,.44444,.09811,0,1.18221],8216:[0,.69444,.12945,0,.35555],8217:[0,.69444,.12945,0,.35555],8220:[0,.69444,.16772,0,.62055],8221:[0,.69444,.07939,0,.62055]},"Main-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.12417,0,.30667],34:[0,.69444,.06961,0,.51444],35:[.19444,.69444,.06616,0,.81777],37:[.05556,.75,.13639,0,.81777],38:[0,.69444,.09694,0,.76666],39:[0,.69444,.12417,0,.30667],40:[.25,.75,.16194,0,.40889],41:[.25,.75,.03694,0,.40889],42:[0,.75,.14917,0,.51111],43:[.05667,.56167,.03694,0,.76666],44:[.19444,.10556,0,0,.30667],45:[0,.43056,.02826,0,.35778],46:[0,.10556,0,0,.30667],47:[.25,.75,.16194,0,.51111],48:[0,.64444,.13556,0,.51111],49:[0,.64444,.13556,0,.51111],50:[0,.64444,.13556,0,.51111],51:[0,.64444,.13556,0,.51111],52:[.19444,.64444,.13556,0,.51111],53:[0,.64444,.13556,0,.51111],54:[0,.64444,.13556,0,.51111],55:[.19444,.64444,.13556,0,.51111],56:[0,.64444,.13556,0,.51111],57:[0,.64444,.13556,0,.51111],58:[0,.43056,.0582,0,.30667],59:[.19444,.43056,.0582,0,.30667],61:[-.13313,.36687,.06616,0,.76666],63:[0,.69444,.1225,0,.51111],64:[0,.69444,.09597,0,.76666],65:[0,.68333,0,0,.74333],66:[0,.68333,.10257,0,.70389],67:[0,.68333,.14528,0,.71555],68:[0,.68333,.09403,0,.755],69:[0,.68333,.12028,0,.67833],70:[0,.68333,.13305,0,.65277],71:[0,.68333,.08722,0,.77361],72:[0,.68333,.16389,0,.74333],73:[0,.68333,.15806,0,.38555],74:[0,.68333,.14028,0,.525],75:[0,.68333,.14528,0,.76888],76:[0,.68333,0,0,.62722],77:[0,.68333,.16389,0,.89666],78:[0,.68333,.16389,0,.74333],79:[0,.68333,.09403,0,.76666],80:[0,.68333,.10257,0,.67833],81:[.19444,.68333,.09403,0,.76666],82:[0,.68333,.03868,0,.72944],83:[0,.68333,.11972,0,.56222],84:[0,.68333,.13305,0,.71555],85:[0,.68333,.16389,0,.74333],86:[0,.68333,.18361,0,.74333],87:[0,.68333,.18361,0,.99888],88:[0,.68333,.15806,0,.74333],89:[0,.68333,.19383,0,.74333],90:[0,.68333,.14528,0,.61333],91:[.25,.75,.1875,0,.30667],93:[.25,.75,.10528,0,.30667],94:[0,.69444,.06646,0,.51111],95:[.31,.12056,.09208,0,.51111],97:[0,.43056,.07671,0,.51111],98:[0,.69444,.06312,0,.46],99:[0,.43056,.05653,0,.46],100:[0,.69444,.10333,0,.51111],101:[0,.43056,.07514,0,.46],102:[.19444,.69444,.21194,0,.30667],103:[.19444,.43056,.08847,0,.46],104:[0,.69444,.07671,0,.51111],105:[0,.65536,.1019,0,.30667],106:[.19444,.65536,.14467,0,.30667],107:[0,.69444,.10764,0,.46],108:[0,.69444,.10333,0,.25555],109:[0,.43056,.07671,0,.81777],110:[0,.43056,.07671,0,.56222],111:[0,.43056,.06312,0,.51111],112:[.19444,.43056,.06312,0,.51111],113:[.19444,.43056,.08847,0,.46],114:[0,.43056,.10764,0,.42166],115:[0,.43056,.08208,0,.40889],116:[0,.61508,.09486,0,.33222],117:[0,.43056,.07671,0,.53666],118:[0,.43056,.10764,0,.46],119:[0,.43056,.10764,0,.66444],120:[0,.43056,.12042,0,.46389],121:[.19444,.43056,.08847,0,.48555],122:[0,.43056,.12292,0,.40889],126:[.35,.31786,.11585,0,.51111],160:[0,0,0,0,.25],168:[0,.66786,.10474,0,.51111],176:[0,.69444,0,0,.83129],184:[.17014,0,0,0,.46],198:[0,.68333,.12028,0,.88277],216:[.04861,.73194,.09403,0,.76666],223:[.19444,.69444,.10514,0,.53666],230:[0,.43056,.07514,0,.71555],248:[.09722,.52778,.09194,0,.51111],338:[0,.68333,.12028,0,.98499],339:[0,.43056,.07514,0,.71555],710:[0,.69444,.06646,0,.51111],711:[0,.62847,.08295,0,.51111],713:[0,.56167,.10333,0,.51111],714:[0,.69444,.09694,0,.51111],715:[0,.69444,0,0,.51111],728:[0,.69444,.10806,0,.51111],729:[0,.66786,.11752,0,.30667],730:[0,.69444,0,0,.83129],732:[0,.66786,.11585,0,.51111],733:[0,.69444,.1225,0,.51111],915:[0,.68333,.13305,0,.62722],916:[0,.68333,0,0,.81777],920:[0,.68333,.09403,0,.76666],923:[0,.68333,0,0,.69222],926:[0,.68333,.15294,0,.66444],928:[0,.68333,.16389,0,.74333],931:[0,.68333,.12028,0,.71555],933:[0,.68333,.11111,0,.76666],934:[0,.68333,.05986,0,.71555],936:[0,.68333,.11111,0,.76666],937:[0,.68333,.10257,0,.71555],8211:[0,.43056,.09208,0,.51111],8212:[0,.43056,.09208,0,1.02222],8216:[0,.69444,.12417,0,.30667],8217:[0,.69444,.12417,0,.30667],8220:[0,.69444,.1685,0,.51444],8221:[0,.69444,.06961,0,.51444],8463:[0,.68889,0,0,.54028]},"Main-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.27778],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.77778],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.19444,.10556,0,0,.27778],45:[0,.43056,0,0,.33333],46:[0,.10556,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.64444,0,0,.5],49:[0,.64444,0,0,.5],50:[0,.64444,0,0,.5],51:[0,.64444,0,0,.5],52:[0,.64444,0,0,.5],53:[0,.64444,0,0,.5],54:[0,.64444,0,0,.5],55:[0,.64444,0,0,.5],56:[0,.64444,0,0,.5],57:[0,.64444,0,0,.5],58:[0,.43056,0,0,.27778],59:[.19444,.43056,0,0,.27778],60:[.0391,.5391,0,0,.77778],61:[-.13313,.36687,0,0,.77778],62:[.0391,.5391,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.77778],65:[0,.68333,0,0,.75],66:[0,.68333,0,0,.70834],67:[0,.68333,0,0,.72222],68:[0,.68333,0,0,.76389],69:[0,.68333,0,0,.68056],70:[0,.68333,0,0,.65278],71:[0,.68333,0,0,.78472],72:[0,.68333,0,0,.75],73:[0,.68333,0,0,.36111],74:[0,.68333,0,0,.51389],75:[0,.68333,0,0,.77778],76:[0,.68333,0,0,.625],77:[0,.68333,0,0,.91667],78:[0,.68333,0,0,.75],79:[0,.68333,0,0,.77778],80:[0,.68333,0,0,.68056],81:[.19444,.68333,0,0,.77778],82:[0,.68333,0,0,.73611],83:[0,.68333,0,0,.55556],84:[0,.68333,0,0,.72222],85:[0,.68333,0,0,.75],86:[0,.68333,.01389,0,.75],87:[0,.68333,.01389,0,1.02778],88:[0,.68333,0,0,.75],89:[0,.68333,.025,0,.75],90:[0,.68333,0,0,.61111],91:[.25,.75,0,0,.27778],92:[.25,.75,0,0,.5],93:[.25,.75,0,0,.27778],94:[0,.69444,0,0,.5],95:[.31,.12056,.02778,0,.5],97:[0,.43056,0,0,.5],98:[0,.69444,0,0,.55556],99:[0,.43056,0,0,.44445],100:[0,.69444,0,0,.55556],101:[0,.43056,0,0,.44445],102:[0,.69444,.07778,0,.30556],103:[.19444,.43056,.01389,0,.5],104:[0,.69444,0,0,.55556],105:[0,.66786,0,0,.27778],106:[.19444,.66786,0,0,.30556],107:[0,.69444,0,0,.52778],108:[0,.69444,0,0,.27778],109:[0,.43056,0,0,.83334],110:[0,.43056,0,0,.55556],111:[0,.43056,0,0,.5],112:[.19444,.43056,0,0,.55556],113:[.19444,.43056,0,0,.52778],114:[0,.43056,0,0,.39167],115:[0,.43056,0,0,.39445],116:[0,.61508,0,0,.38889],117:[0,.43056,0,0,.55556],118:[0,.43056,.01389,0,.52778],119:[0,.43056,.01389,0,.72222],120:[0,.43056,0,0,.52778],121:[.19444,.43056,.01389,0,.52778],122:[0,.43056,0,0,.44445],123:[.25,.75,0,0,.5],124:[.25,.75,0,0,.27778],125:[.25,.75,0,0,.5],126:[.35,.31786,0,0,.5],160:[0,0,0,0,.25],163:[0,.69444,0,0,.76909],167:[.19444,.69444,0,0,.44445],168:[0,.66786,0,0,.5],172:[0,.43056,0,0,.66667],176:[0,.69444,0,0,.75],177:[.08333,.58333,0,0,.77778],182:[.19444,.69444,0,0,.61111],184:[.17014,0,0,0,.44445],198:[0,.68333,0,0,.90278],215:[.08333,.58333,0,0,.77778],216:[.04861,.73194,0,0,.77778],223:[0,.69444,0,0,.5],230:[0,.43056,0,0,.72222],247:[.08333,.58333,0,0,.77778],248:[.09722,.52778,0,0,.5],305:[0,.43056,0,0,.27778],338:[0,.68333,0,0,1.01389],339:[0,.43056,0,0,.77778],567:[.19444,.43056,0,0,.30556],710:[0,.69444,0,0,.5],711:[0,.62847,0,0,.5],713:[0,.56778,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.66786,0,0,.27778],730:[0,.69444,0,0,.75],732:[0,.66786,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.68333,0,0,.625],916:[0,.68333,0,0,.83334],920:[0,.68333,0,0,.77778],923:[0,.68333,0,0,.69445],926:[0,.68333,0,0,.66667],928:[0,.68333,0,0,.75],931:[0,.68333,0,0,.72222],933:[0,.68333,0,0,.77778],934:[0,.68333,0,0,.72222],936:[0,.68333,0,0,.77778],937:[0,.68333,0,0,.72222],8211:[0,.43056,.02778,0,.5],8212:[0,.43056,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5],8224:[.19444,.69444,0,0,.44445],8225:[.19444,.69444,0,0,.44445],8230:[0,.123,0,0,1.172],8242:[0,.55556,0,0,.275],8407:[0,.71444,.15382,0,.5],8463:[0,.68889,0,0,.54028],8465:[0,.69444,0,0,.72222],8467:[0,.69444,0,.11111,.41667],8472:[.19444,.43056,0,.11111,.63646],8476:[0,.69444,0,0,.72222],8501:[0,.69444,0,0,.61111],8592:[-.13313,.36687,0,0,1],8593:[.19444,.69444,0,0,.5],8594:[-.13313,.36687,0,0,1],8595:[.19444,.69444,0,0,.5],8596:[-.13313,.36687,0,0,1],8597:[.25,.75,0,0,.5],8598:[.19444,.69444,0,0,1],8599:[.19444,.69444,0,0,1],8600:[.19444,.69444,0,0,1],8601:[.19444,.69444,0,0,1],8614:[.011,.511,0,0,1],8617:[.011,.511,0,0,1.126],8618:[.011,.511,0,0,1.126],8636:[-.13313,.36687,0,0,1],8637:[-.13313,.36687,0,0,1],8640:[-.13313,.36687,0,0,1],8641:[-.13313,.36687,0,0,1],8652:[.011,.671,0,0,1],8656:[-.13313,.36687,0,0,1],8657:[.19444,.69444,0,0,.61111],8658:[-.13313,.36687,0,0,1],8659:[.19444,.69444,0,0,.61111],8660:[-.13313,.36687,0,0,1],8661:[.25,.75,0,0,.61111],8704:[0,.69444,0,0,.55556],8706:[0,.69444,.05556,.08334,.5309],8707:[0,.69444,0,0,.55556],8709:[.05556,.75,0,0,.5],8711:[0,.68333,0,0,.83334],8712:[.0391,.5391,0,0,.66667],8715:[.0391,.5391,0,0,.66667],8722:[.08333,.58333,0,0,.77778],8723:[.08333,.58333,0,0,.77778],8725:[.25,.75,0,0,.5],8726:[.25,.75,0,0,.5],8727:[-.03472,.46528,0,0,.5],8728:[-.05555,.44445,0,0,.5],8729:[-.05555,.44445,0,0,.5],8730:[.2,.8,0,0,.83334],8733:[0,.43056,0,0,.77778],8734:[0,.43056,0,0,1],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.27778],8741:[.25,.75,0,0,.5],8743:[0,.55556,0,0,.66667],8744:[0,.55556,0,0,.66667],8745:[0,.55556,0,0,.66667],8746:[0,.55556,0,0,.66667],8747:[.19444,.69444,.11111,0,.41667],8764:[-.13313,.36687,0,0,.77778],8768:[.19444,.69444,0,0,.27778],8771:[-.03625,.46375,0,0,.77778],8773:[-.022,.589,0,0,.778],8776:[-.01688,.48312,0,0,.77778],8781:[-.03625,.46375,0,0,.77778],8784:[-.133,.673,0,0,.778],8801:[-.03625,.46375,0,0,.77778],8804:[.13597,.63597,0,0,.77778],8805:[.13597,.63597,0,0,.77778],8810:[.0391,.5391,0,0,1],8811:[.0391,.5391,0,0,1],8826:[.0391,.5391,0,0,.77778],8827:[.0391,.5391,0,0,.77778],8834:[.0391,.5391,0,0,.77778],8835:[.0391,.5391,0,0,.77778],8838:[.13597,.63597,0,0,.77778],8839:[.13597,.63597,0,0,.77778],8846:[0,.55556,0,0,.66667],8849:[.13597,.63597,0,0,.77778],8850:[.13597,.63597,0,0,.77778],8851:[0,.55556,0,0,.66667],8852:[0,.55556,0,0,.66667],8853:[.08333,.58333,0,0,.77778],8854:[.08333,.58333,0,0,.77778],8855:[.08333,.58333,0,0,.77778],8856:[.08333,.58333,0,0,.77778],8857:[.08333,.58333,0,0,.77778],8866:[0,.69444,0,0,.61111],8867:[0,.69444,0,0,.61111],8868:[0,.69444,0,0,.77778],8869:[0,.69444,0,0,.77778],8872:[.249,.75,0,0,.867],8900:[-.05555,.44445,0,0,.5],8901:[-.05555,.44445,0,0,.27778],8902:[-.03472,.46528,0,0,.5],8904:[.005,.505,0,0,.9],8942:[.03,.903,0,0,.278],8943:[-.19,.313,0,0,1.172],8945:[-.1,.823,0,0,1.282],8968:[.25,.75,0,0,.44445],8969:[.25,.75,0,0,.44445],8970:[.25,.75,0,0,.44445],8971:[.25,.75,0,0,.44445],8994:[-.14236,.35764,0,0,1],8995:[-.14236,.35764,0,0,1],9136:[.244,.744,0,0,.412],9137:[.244,.745,0,0,.412],9651:[.19444,.69444,0,0,.88889],9657:[-.03472,.46528,0,0,.5],9661:[.19444,.69444,0,0,.88889],9667:[-.03472,.46528,0,0,.5],9711:[.19444,.69444,0,0,1],9824:[.12963,.69444,0,0,.77778],9825:[.12963,.69444,0,0,.77778],9826:[.12963,.69444,0,0,.77778],9827:[.12963,.69444,0,0,.77778],9837:[0,.75,0,0,.38889],9838:[.19444,.69444,0,0,.38889],9839:[.19444,.69444,0,0,.38889],10216:[.25,.75,0,0,.38889],10217:[.25,.75,0,0,.38889],10222:[.244,.744,0,0,.412],10223:[.244,.745,0,0,.412],10229:[.011,.511,0,0,1.609],10230:[.011,.511,0,0,1.638],10231:[.011,.511,0,0,1.859],10232:[.024,.525,0,0,1.609],10233:[.024,.525,0,0,1.638],10234:[.024,.525,0,0,1.858],10236:[.011,.511,0,0,1.638],10815:[0,.68333,0,0,.75],10927:[.13597,.63597,0,0,.77778],10928:[.13597,.63597,0,0,.77778],57376:[.19444,.69444,0,0,0]},"Math-BoldItalic":{32:[0,0,0,0,.25],48:[0,.44444,0,0,.575],49:[0,.44444,0,0,.575],50:[0,.44444,0,0,.575],51:[.19444,.44444,0,0,.575],52:[.19444,.44444,0,0,.575],53:[.19444,.44444,0,0,.575],54:[0,.64444,0,0,.575],55:[.19444,.44444,0,0,.575],56:[0,.64444,0,0,.575],57:[.19444,.44444,0,0,.575],65:[0,.68611,0,0,.86944],66:[0,.68611,.04835,0,.8664],67:[0,.68611,.06979,0,.81694],68:[0,.68611,.03194,0,.93812],69:[0,.68611,.05451,0,.81007],70:[0,.68611,.15972,0,.68889],71:[0,.68611,0,0,.88673],72:[0,.68611,.08229,0,.98229],73:[0,.68611,.07778,0,.51111],74:[0,.68611,.10069,0,.63125],75:[0,.68611,.06979,0,.97118],76:[0,.68611,0,0,.75555],77:[0,.68611,.11424,0,1.14201],78:[0,.68611,.11424,0,.95034],79:[0,.68611,.03194,0,.83666],80:[0,.68611,.15972,0,.72309],81:[.19444,.68611,0,0,.86861],82:[0,.68611,.00421,0,.87235],83:[0,.68611,.05382,0,.69271],84:[0,.68611,.15972,0,.63663],85:[0,.68611,.11424,0,.80027],86:[0,.68611,.25555,0,.67778],87:[0,.68611,.15972,0,1.09305],88:[0,.68611,.07778,0,.94722],89:[0,.68611,.25555,0,.67458],90:[0,.68611,.06979,0,.77257],97:[0,.44444,0,0,.63287],98:[0,.69444,0,0,.52083],99:[0,.44444,0,0,.51342],100:[0,.69444,0,0,.60972],101:[0,.44444,0,0,.55361],102:[.19444,.69444,.11042,0,.56806],103:[.19444,.44444,.03704,0,.5449],104:[0,.69444,0,0,.66759],105:[0,.69326,0,0,.4048],106:[.19444,.69326,.0622,0,.47083],107:[0,.69444,.01852,0,.6037],108:[0,.69444,.0088,0,.34815],109:[0,.44444,0,0,1.0324],110:[0,.44444,0,0,.71296],111:[0,.44444,0,0,.58472],112:[.19444,.44444,0,0,.60092],113:[.19444,.44444,.03704,0,.54213],114:[0,.44444,.03194,0,.5287],115:[0,.44444,0,0,.53125],116:[0,.63492,0,0,.41528],117:[0,.44444,0,0,.68102],118:[0,.44444,.03704,0,.56666],119:[0,.44444,.02778,0,.83148],120:[0,.44444,0,0,.65903],121:[.19444,.44444,.03704,0,.59028],122:[0,.44444,.04213,0,.55509],160:[0,0,0,0,.25],915:[0,.68611,.15972,0,.65694],916:[0,.68611,0,0,.95833],920:[0,.68611,.03194,0,.86722],923:[0,.68611,0,0,.80555],926:[0,.68611,.07458,0,.84125],928:[0,.68611,.08229,0,.98229],931:[0,.68611,.05451,0,.88507],933:[0,.68611,.15972,0,.67083],934:[0,.68611,0,0,.76666],936:[0,.68611,.11653,0,.71402],937:[0,.68611,.04835,0,.8789],945:[0,.44444,0,0,.76064],946:[.19444,.69444,.03403,0,.65972],947:[.19444,.44444,.06389,0,.59003],948:[0,.69444,.03819,0,.52222],949:[0,.44444,0,0,.52882],950:[.19444,.69444,.06215,0,.50833],951:[.19444,.44444,.03704,0,.6],952:[0,.69444,.03194,0,.5618],953:[0,.44444,0,0,.41204],954:[0,.44444,0,0,.66759],955:[0,.69444,0,0,.67083],956:[.19444,.44444,0,0,.70787],957:[0,.44444,.06898,0,.57685],958:[.19444,.69444,.03021,0,.50833],959:[0,.44444,0,0,.58472],960:[0,.44444,.03704,0,.68241],961:[.19444,.44444,0,0,.6118],962:[.09722,.44444,.07917,0,.42361],963:[0,.44444,.03704,0,.68588],964:[0,.44444,.13472,0,.52083],965:[0,.44444,.03704,0,.63055],966:[.19444,.44444,0,0,.74722],967:[.19444,.44444,0,0,.71805],968:[.19444,.69444,.03704,0,.75833],969:[0,.44444,.03704,0,.71782],977:[0,.69444,0,0,.69155],981:[.19444,.69444,0,0,.7125],982:[0,.44444,.03194,0,.975],1009:[.19444,.44444,0,0,.6118],1013:[0,.44444,0,0,.48333],57649:[0,.44444,0,0,.39352],57911:[.19444,.44444,0,0,.43889]},"Math-Italic":{32:[0,0,0,0,.25],48:[0,.43056,0,0,.5],49:[0,.43056,0,0,.5],50:[0,.43056,0,0,.5],51:[.19444,.43056,0,0,.5],52:[.19444,.43056,0,0,.5],53:[.19444,.43056,0,0,.5],54:[0,.64444,0,0,.5],55:[.19444,.43056,0,0,.5],56:[0,.64444,0,0,.5],57:[.19444,.43056,0,0,.5],65:[0,.68333,0,.13889,.75],66:[0,.68333,.05017,.08334,.75851],67:[0,.68333,.07153,.08334,.71472],68:[0,.68333,.02778,.05556,.82792],69:[0,.68333,.05764,.08334,.7382],70:[0,.68333,.13889,.08334,.64306],71:[0,.68333,0,.08334,.78625],72:[0,.68333,.08125,.05556,.83125],73:[0,.68333,.07847,.11111,.43958],74:[0,.68333,.09618,.16667,.55451],75:[0,.68333,.07153,.05556,.84931],76:[0,.68333,0,.02778,.68056],77:[0,.68333,.10903,.08334,.97014],78:[0,.68333,.10903,.08334,.80347],79:[0,.68333,.02778,.08334,.76278],80:[0,.68333,.13889,.08334,.64201],81:[.19444,.68333,0,.08334,.79056],82:[0,.68333,.00773,.08334,.75929],83:[0,.68333,.05764,.08334,.6132],84:[0,.68333,.13889,.08334,.58438],85:[0,.68333,.10903,.02778,.68278],86:[0,.68333,.22222,0,.58333],87:[0,.68333,.13889,0,.94445],88:[0,.68333,.07847,.08334,.82847],89:[0,.68333,.22222,0,.58056],90:[0,.68333,.07153,.08334,.68264],97:[0,.43056,0,0,.52859],98:[0,.69444,0,0,.42917],99:[0,.43056,0,.05556,.43276],100:[0,.69444,0,.16667,.52049],101:[0,.43056,0,.05556,.46563],102:[.19444,.69444,.10764,.16667,.48959],103:[.19444,.43056,.03588,.02778,.47697],104:[0,.69444,0,0,.57616],105:[0,.65952,0,0,.34451],106:[.19444,.65952,.05724,0,.41181],107:[0,.69444,.03148,0,.5206],108:[0,.69444,.01968,.08334,.29838],109:[0,.43056,0,0,.87801],110:[0,.43056,0,0,.60023],111:[0,.43056,0,.05556,.48472],112:[.19444,.43056,0,.08334,.50313],113:[.19444,.43056,.03588,.08334,.44641],114:[0,.43056,.02778,.05556,.45116],115:[0,.43056,0,.05556,.46875],116:[0,.61508,0,.08334,.36111],117:[0,.43056,0,.02778,.57246],118:[0,.43056,.03588,.02778,.48472],119:[0,.43056,.02691,.08334,.71592],120:[0,.43056,0,.02778,.57153],121:[.19444,.43056,.03588,.05556,.49028],122:[0,.43056,.04398,.05556,.46505],160:[0,0,0,0,.25],915:[0,.68333,.13889,.08334,.61528],916:[0,.68333,0,.16667,.83334],920:[0,.68333,.02778,.08334,.76278],923:[0,.68333,0,.16667,.69445],926:[0,.68333,.07569,.08334,.74236],928:[0,.68333,.08125,.05556,.83125],931:[0,.68333,.05764,.08334,.77986],933:[0,.68333,.13889,.05556,.58333],934:[0,.68333,0,.08334,.66667],936:[0,.68333,.11,.05556,.61222],937:[0,.68333,.05017,.08334,.7724],945:[0,.43056,.0037,.02778,.6397],946:[.19444,.69444,.05278,.08334,.56563],947:[.19444,.43056,.05556,0,.51773],948:[0,.69444,.03785,.05556,.44444],949:[0,.43056,0,.08334,.46632],950:[.19444,.69444,.07378,.08334,.4375],951:[.19444,.43056,.03588,.05556,.49653],952:[0,.69444,.02778,.08334,.46944],953:[0,.43056,0,.05556,.35394],954:[0,.43056,0,0,.57616],955:[0,.69444,0,0,.58334],956:[.19444,.43056,0,.02778,.60255],957:[0,.43056,.06366,.02778,.49398],958:[.19444,.69444,.04601,.11111,.4375],959:[0,.43056,0,.05556,.48472],960:[0,.43056,.03588,0,.57003],961:[.19444,.43056,0,.08334,.51702],962:[.09722,.43056,.07986,.08334,.36285],963:[0,.43056,.03588,0,.57141],964:[0,.43056,.1132,.02778,.43715],965:[0,.43056,.03588,.02778,.54028],966:[.19444,.43056,0,.08334,.65417],967:[.19444,.43056,0,.05556,.62569],968:[.19444,.69444,.03588,.11111,.65139],969:[0,.43056,.03588,0,.62245],977:[0,.69444,0,.08334,.59144],981:[.19444,.69444,0,.08334,.59583],982:[0,.43056,.02778,0,.82813],1009:[.19444,.43056,0,.08334,.51702],1013:[0,.43056,0,.05556,.4059],57649:[0,.43056,0,.02778,.32246],57911:[.19444,.43056,0,.08334,.38403]},"SansSerif-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.36667],34:[0,.69444,0,0,.55834],35:[.19444,.69444,0,0,.91667],36:[.05556,.75,0,0,.55],37:[.05556,.75,0,0,1.02912],38:[0,.69444,0,0,.83056],39:[0,.69444,0,0,.30556],40:[.25,.75,0,0,.42778],41:[.25,.75,0,0,.42778],42:[0,.75,0,0,.55],43:[.11667,.61667,0,0,.85556],44:[.10556,.13056,0,0,.30556],45:[0,.45833,0,0,.36667],46:[0,.13056,0,0,.30556],47:[.25,.75,0,0,.55],48:[0,.69444,0,0,.55],49:[0,.69444,0,0,.55],50:[0,.69444,0,0,.55],51:[0,.69444,0,0,.55],52:[0,.69444,0,0,.55],53:[0,.69444,0,0,.55],54:[0,.69444,0,0,.55],55:[0,.69444,0,0,.55],56:[0,.69444,0,0,.55],57:[0,.69444,0,0,.55],58:[0,.45833,0,0,.30556],59:[.10556,.45833,0,0,.30556],61:[-.09375,.40625,0,0,.85556],63:[0,.69444,0,0,.51945],64:[0,.69444,0,0,.73334],65:[0,.69444,0,0,.73334],66:[0,.69444,0,0,.73334],67:[0,.69444,0,0,.70278],68:[0,.69444,0,0,.79445],69:[0,.69444,0,0,.64167],70:[0,.69444,0,0,.61111],71:[0,.69444,0,0,.73334],72:[0,.69444,0,0,.79445],73:[0,.69444,0,0,.33056],74:[0,.69444,0,0,.51945],75:[0,.69444,0,0,.76389],76:[0,.69444,0,0,.58056],77:[0,.69444,0,0,.97778],78:[0,.69444,0,0,.79445],79:[0,.69444,0,0,.79445],80:[0,.69444,0,0,.70278],81:[.10556,.69444,0,0,.79445],82:[0,.69444,0,0,.70278],83:[0,.69444,0,0,.61111],84:[0,.69444,0,0,.73334],85:[0,.69444,0,0,.76389],86:[0,.69444,.01528,0,.73334],87:[0,.69444,.01528,0,1.03889],88:[0,.69444,0,0,.73334],89:[0,.69444,.0275,0,.73334],90:[0,.69444,0,0,.67223],91:[.25,.75,0,0,.34306],93:[.25,.75,0,0,.34306],94:[0,.69444,0,0,.55],95:[.35,.10833,.03056,0,.55],97:[0,.45833,0,0,.525],98:[0,.69444,0,0,.56111],99:[0,.45833,0,0,.48889],100:[0,.69444,0,0,.56111],101:[0,.45833,0,0,.51111],102:[0,.69444,.07639,0,.33611],103:[.19444,.45833,.01528,0,.55],104:[0,.69444,0,0,.56111],105:[0,.69444,0,0,.25556],106:[.19444,.69444,0,0,.28611],107:[0,.69444,0,0,.53056],108:[0,.69444,0,0,.25556],109:[0,.45833,0,0,.86667],110:[0,.45833,0,0,.56111],111:[0,.45833,0,0,.55],112:[.19444,.45833,0,0,.56111],113:[.19444,.45833,0,0,.56111],114:[0,.45833,.01528,0,.37222],115:[0,.45833,0,0,.42167],116:[0,.58929,0,0,.40417],117:[0,.45833,0,0,.56111],118:[0,.45833,.01528,0,.5],119:[0,.45833,.01528,0,.74445],120:[0,.45833,0,0,.5],121:[.19444,.45833,.01528,0,.5],122:[0,.45833,0,0,.47639],126:[.35,.34444,0,0,.55],160:[0,0,0,0,.25],168:[0,.69444,0,0,.55],176:[0,.69444,0,0,.73334],180:[0,.69444,0,0,.55],184:[.17014,0,0,0,.48889],305:[0,.45833,0,0,.25556],567:[.19444,.45833,0,0,.28611],710:[0,.69444,0,0,.55],711:[0,.63542,0,0,.55],713:[0,.63778,0,0,.55],728:[0,.69444,0,0,.55],729:[0,.69444,0,0,.30556],730:[0,.69444,0,0,.73334],732:[0,.69444,0,0,.55],733:[0,.69444,0,0,.55],915:[0,.69444,0,0,.58056],916:[0,.69444,0,0,.91667],920:[0,.69444,0,0,.85556],923:[0,.69444,0,0,.67223],926:[0,.69444,0,0,.73334],928:[0,.69444,0,0,.79445],931:[0,.69444,0,0,.79445],933:[0,.69444,0,0,.85556],934:[0,.69444,0,0,.79445],936:[0,.69444,0,0,.85556],937:[0,.69444,0,0,.79445],8211:[0,.45833,.03056,0,.55],8212:[0,.45833,.03056,0,1.10001],8216:[0,.69444,0,0,.30556],8217:[0,.69444,0,0,.30556],8220:[0,.69444,0,0,.55834],8221:[0,.69444,0,0,.55834]},"SansSerif-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.05733,0,.31945],34:[0,.69444,.00316,0,.5],35:[.19444,.69444,.05087,0,.83334],36:[.05556,.75,.11156,0,.5],37:[.05556,.75,.03126,0,.83334],38:[0,.69444,.03058,0,.75834],39:[0,.69444,.07816,0,.27778],40:[.25,.75,.13164,0,.38889],41:[.25,.75,.02536,0,.38889],42:[0,.75,.11775,0,.5],43:[.08333,.58333,.02536,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,.01946,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,.13164,0,.5],48:[0,.65556,.11156,0,.5],49:[0,.65556,.11156,0,.5],50:[0,.65556,.11156,0,.5],51:[0,.65556,.11156,0,.5],52:[0,.65556,.11156,0,.5],53:[0,.65556,.11156,0,.5],54:[0,.65556,.11156,0,.5],55:[0,.65556,.11156,0,.5],56:[0,.65556,.11156,0,.5],57:[0,.65556,.11156,0,.5],58:[0,.44444,.02502,0,.27778],59:[.125,.44444,.02502,0,.27778],61:[-.13,.37,.05087,0,.77778],63:[0,.69444,.11809,0,.47222],64:[0,.69444,.07555,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,.08293,0,.66667],67:[0,.69444,.11983,0,.63889],68:[0,.69444,.07555,0,.72223],69:[0,.69444,.11983,0,.59722],70:[0,.69444,.13372,0,.56945],71:[0,.69444,.11983,0,.66667],72:[0,.69444,.08094,0,.70834],73:[0,.69444,.13372,0,.27778],74:[0,.69444,.08094,0,.47222],75:[0,.69444,.11983,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,.08094,0,.875],78:[0,.69444,.08094,0,.70834],79:[0,.69444,.07555,0,.73611],80:[0,.69444,.08293,0,.63889],81:[.125,.69444,.07555,0,.73611],82:[0,.69444,.08293,0,.64584],83:[0,.69444,.09205,0,.55556],84:[0,.69444,.13372,0,.68056],85:[0,.69444,.08094,0,.6875],86:[0,.69444,.1615,0,.66667],87:[0,.69444,.1615,0,.94445],88:[0,.69444,.13372,0,.66667],89:[0,.69444,.17261,0,.66667],90:[0,.69444,.11983,0,.61111],91:[.25,.75,.15942,0,.28889],93:[.25,.75,.08719,0,.28889],94:[0,.69444,.0799,0,.5],95:[.35,.09444,.08616,0,.5],97:[0,.44444,.00981,0,.48056],98:[0,.69444,.03057,0,.51667],99:[0,.44444,.08336,0,.44445],100:[0,.69444,.09483,0,.51667],101:[0,.44444,.06778,0,.44445],102:[0,.69444,.21705,0,.30556],103:[.19444,.44444,.10836,0,.5],104:[0,.69444,.01778,0,.51667],105:[0,.67937,.09718,0,.23889],106:[.19444,.67937,.09162,0,.26667],107:[0,.69444,.08336,0,.48889],108:[0,.69444,.09483,0,.23889],109:[0,.44444,.01778,0,.79445],110:[0,.44444,.01778,0,.51667],111:[0,.44444,.06613,0,.5],112:[.19444,.44444,.0389,0,.51667],113:[.19444,.44444,.04169,0,.51667],114:[0,.44444,.10836,0,.34167],115:[0,.44444,.0778,0,.38333],116:[0,.57143,.07225,0,.36111],117:[0,.44444,.04169,0,.51667],118:[0,.44444,.10836,0,.46111],119:[0,.44444,.10836,0,.68334],120:[0,.44444,.09169,0,.46111],121:[.19444,.44444,.10836,0,.46111],122:[0,.44444,.08752,0,.43472],126:[.35,.32659,.08826,0,.5],160:[0,0,0,0,.25],168:[0,.67937,.06385,0,.5],176:[0,.69444,0,0,.73752],184:[.17014,0,0,0,.44445],305:[0,.44444,.04169,0,.23889],567:[.19444,.44444,.04169,0,.26667],710:[0,.69444,.0799,0,.5],711:[0,.63194,.08432,0,.5],713:[0,.60889,.08776,0,.5],714:[0,.69444,.09205,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,.09483,0,.5],729:[0,.67937,.07774,0,.27778],730:[0,.69444,0,0,.73752],732:[0,.67659,.08826,0,.5],733:[0,.69444,.09205,0,.5],915:[0,.69444,.13372,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,.07555,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,.12816,0,.66667],928:[0,.69444,.08094,0,.70834],931:[0,.69444,.11983,0,.72222],933:[0,.69444,.09031,0,.77778],934:[0,.69444,.04603,0,.72222],936:[0,.69444,.09031,0,.77778],937:[0,.69444,.08293,0,.72222],8211:[0,.44444,.08616,0,.5],8212:[0,.44444,.08616,0,1],8216:[0,.69444,.07816,0,.27778],8217:[0,.69444,.07816,0,.27778],8220:[0,.69444,.14205,0,.5],8221:[0,.69444,.00316,0,.5]},"SansSerif-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.31945],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.75834],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,0,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.65556,0,0,.5],49:[0,.65556,0,0,.5],50:[0,.65556,0,0,.5],51:[0,.65556,0,0,.5],52:[0,.65556,0,0,.5],53:[0,.65556,0,0,.5],54:[0,.65556,0,0,.5],55:[0,.65556,0,0,.5],56:[0,.65556,0,0,.5],57:[0,.65556,0,0,.5],58:[0,.44444,0,0,.27778],59:[.125,.44444,0,0,.27778],61:[-.13,.37,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,0,0,.66667],67:[0,.69444,0,0,.63889],68:[0,.69444,0,0,.72223],69:[0,.69444,0,0,.59722],70:[0,.69444,0,0,.56945],71:[0,.69444,0,0,.66667],72:[0,.69444,0,0,.70834],73:[0,.69444,0,0,.27778],74:[0,.69444,0,0,.47222],75:[0,.69444,0,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,0,0,.875],78:[0,.69444,0,0,.70834],79:[0,.69444,0,0,.73611],80:[0,.69444,0,0,.63889],81:[.125,.69444,0,0,.73611],82:[0,.69444,0,0,.64584],83:[0,.69444,0,0,.55556],84:[0,.69444,0,0,.68056],85:[0,.69444,0,0,.6875],86:[0,.69444,.01389,0,.66667],87:[0,.69444,.01389,0,.94445],88:[0,.69444,0,0,.66667],89:[0,.69444,.025,0,.66667],90:[0,.69444,0,0,.61111],91:[.25,.75,0,0,.28889],93:[.25,.75,0,0,.28889],94:[0,.69444,0,0,.5],95:[.35,.09444,.02778,0,.5],97:[0,.44444,0,0,.48056],98:[0,.69444,0,0,.51667],99:[0,.44444,0,0,.44445],100:[0,.69444,0,0,.51667],101:[0,.44444,0,0,.44445],102:[0,.69444,.06944,0,.30556],103:[.19444,.44444,.01389,0,.5],104:[0,.69444,0,0,.51667],105:[0,.67937,0,0,.23889],106:[.19444,.67937,0,0,.26667],107:[0,.69444,0,0,.48889],108:[0,.69444,0,0,.23889],109:[0,.44444,0,0,.79445],110:[0,.44444,0,0,.51667],111:[0,.44444,0,0,.5],112:[.19444,.44444,0,0,.51667],113:[.19444,.44444,0,0,.51667],114:[0,.44444,.01389,0,.34167],115:[0,.44444,0,0,.38333],116:[0,.57143,0,0,.36111],117:[0,.44444,0,0,.51667],118:[0,.44444,.01389,0,.46111],119:[0,.44444,.01389,0,.68334],120:[0,.44444,0,0,.46111],121:[.19444,.44444,.01389,0,.46111],122:[0,.44444,0,0,.43472],126:[.35,.32659,0,0,.5],160:[0,0,0,0,.25],168:[0,.67937,0,0,.5],176:[0,.69444,0,0,.66667],184:[.17014,0,0,0,.44445],305:[0,.44444,0,0,.23889],567:[.19444,.44444,0,0,.26667],710:[0,.69444,0,0,.5],711:[0,.63194,0,0,.5],713:[0,.60889,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.67937,0,0,.27778],730:[0,.69444,0,0,.66667],732:[0,.67659,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.69444,0,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,0,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,0,0,.66667],928:[0,.69444,0,0,.70834],931:[0,.69444,0,0,.72222],933:[0,.69444,0,0,.77778],934:[0,.69444,0,0,.72222],936:[0,.69444,0,0,.77778],937:[0,.69444,0,0,.72222],8211:[0,.44444,.02778,0,.5],8212:[0,.44444,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5]},"Script-Regular":{32:[0,0,0,0,.25],65:[0,.7,.22925,0,.80253],66:[0,.7,.04087,0,.90757],67:[0,.7,.1689,0,.66619],68:[0,.7,.09371,0,.77443],69:[0,.7,.18583,0,.56162],70:[0,.7,.13634,0,.89544],71:[0,.7,.17322,0,.60961],72:[0,.7,.29694,0,.96919],73:[0,.7,.19189,0,.80907],74:[.27778,.7,.19189,0,1.05159],75:[0,.7,.31259,0,.91364],76:[0,.7,.19189,0,.87373],77:[0,.7,.15981,0,1.08031],78:[0,.7,.3525,0,.9015],79:[0,.7,.08078,0,.73787],80:[0,.7,.08078,0,1.01262],81:[0,.7,.03305,0,.88282],82:[0,.7,.06259,0,.85],83:[0,.7,.19189,0,.86767],84:[0,.7,.29087,0,.74697],85:[0,.7,.25815,0,.79996],86:[0,.7,.27523,0,.62204],87:[0,.7,.27523,0,.80532],88:[0,.7,.26006,0,.94445],89:[0,.7,.2939,0,.70961],90:[0,.7,.24037,0,.8212],160:[0,0,0,0,.25]},"Size1-Regular":{32:[0,0,0,0,.25],40:[.35001,.85,0,0,.45834],41:[.35001,.85,0,0,.45834],47:[.35001,.85,0,0,.57778],91:[.35001,.85,0,0,.41667],92:[.35001,.85,0,0,.57778],93:[.35001,.85,0,0,.41667],123:[.35001,.85,0,0,.58334],125:[.35001,.85,0,0,.58334],160:[0,0,0,0,.25],710:[0,.72222,0,0,.55556],732:[0,.72222,0,0,.55556],770:[0,.72222,0,0,.55556],771:[0,.72222,0,0,.55556],8214:[-99e-5,.601,0,0,.77778],8593:[1e-5,.6,0,0,.66667],8595:[1e-5,.6,0,0,.66667],8657:[1e-5,.6,0,0,.77778],8659:[1e-5,.6,0,0,.77778],8719:[.25001,.75,0,0,.94445],8720:[.25001,.75,0,0,.94445],8721:[.25001,.75,0,0,1.05556],8730:[.35001,.85,0,0,1],8739:[-.00599,.606,0,0,.33333],8741:[-.00599,.606,0,0,.55556],8747:[.30612,.805,.19445,0,.47222],8748:[.306,.805,.19445,0,.47222],8749:[.306,.805,.19445,0,.47222],8750:[.30612,.805,.19445,0,.47222],8896:[.25001,.75,0,0,.83334],8897:[.25001,.75,0,0,.83334],8898:[.25001,.75,0,0,.83334],8899:[.25001,.75,0,0,.83334],8968:[.35001,.85,0,0,.47222],8969:[.35001,.85,0,0,.47222],8970:[.35001,.85,0,0,.47222],8971:[.35001,.85,0,0,.47222],9168:[-99e-5,.601,0,0,.66667],10216:[.35001,.85,0,0,.47222],10217:[.35001,.85,0,0,.47222],10752:[.25001,.75,0,0,1.11111],10753:[.25001,.75,0,0,1.11111],10754:[.25001,.75,0,0,1.11111],10756:[.25001,.75,0,0,.83334],10758:[.25001,.75,0,0,.83334]},"Size2-Regular":{32:[0,0,0,0,.25],40:[.65002,1.15,0,0,.59722],41:[.65002,1.15,0,0,.59722],47:[.65002,1.15,0,0,.81111],91:[.65002,1.15,0,0,.47222],92:[.65002,1.15,0,0,.81111],93:[.65002,1.15,0,0,.47222],123:[.65002,1.15,0,0,.66667],125:[.65002,1.15,0,0,.66667],160:[0,0,0,0,.25],710:[0,.75,0,0,1],732:[0,.75,0,0,1],770:[0,.75,0,0,1],771:[0,.75,0,0,1],8719:[.55001,1.05,0,0,1.27778],8720:[.55001,1.05,0,0,1.27778],8721:[.55001,1.05,0,0,1.44445],8730:[.65002,1.15,0,0,1],8747:[.86225,1.36,.44445,0,.55556],8748:[.862,1.36,.44445,0,.55556],8749:[.862,1.36,.44445,0,.55556],8750:[.86225,1.36,.44445,0,.55556],8896:[.55001,1.05,0,0,1.11111],8897:[.55001,1.05,0,0,1.11111],8898:[.55001,1.05,0,0,1.11111],8899:[.55001,1.05,0,0,1.11111],8968:[.65002,1.15,0,0,.52778],8969:[.65002,1.15,0,0,.52778],8970:[.65002,1.15,0,0,.52778],8971:[.65002,1.15,0,0,.52778],10216:[.65002,1.15,0,0,.61111],10217:[.65002,1.15,0,0,.61111],10752:[.55001,1.05,0,0,1.51112],10753:[.55001,1.05,0,0,1.51112],10754:[.55001,1.05,0,0,1.51112],10756:[.55001,1.05,0,0,1.11111],10758:[.55001,1.05,0,0,1.11111]},"Size3-Regular":{32:[0,0,0,0,.25],40:[.95003,1.45,0,0,.73611],41:[.95003,1.45,0,0,.73611],47:[.95003,1.45,0,0,1.04445],91:[.95003,1.45,0,0,.52778],92:[.95003,1.45,0,0,1.04445],93:[.95003,1.45,0,0,.52778],123:[.95003,1.45,0,0,.75],125:[.95003,1.45,0,0,.75],160:[0,0,0,0,.25],710:[0,.75,0,0,1.44445],732:[0,.75,0,0,1.44445],770:[0,.75,0,0,1.44445],771:[0,.75,0,0,1.44445],8730:[.95003,1.45,0,0,1],8968:[.95003,1.45,0,0,.58334],8969:[.95003,1.45,0,0,.58334],8970:[.95003,1.45,0,0,.58334],8971:[.95003,1.45,0,0,.58334],10216:[.95003,1.45,0,0,.75],10217:[.95003,1.45,0,0,.75]},"Size4-Regular":{32:[0,0,0,0,.25],40:[1.25003,1.75,0,0,.79167],41:[1.25003,1.75,0,0,.79167],47:[1.25003,1.75,0,0,1.27778],91:[1.25003,1.75,0,0,.58334],92:[1.25003,1.75,0,0,1.27778],93:[1.25003,1.75,0,0,.58334],123:[1.25003,1.75,0,0,.80556],125:[1.25003,1.75,0,0,.80556],160:[0,0,0,0,.25],710:[0,.825,0,0,1.8889],732:[0,.825,0,0,1.8889],770:[0,.825,0,0,1.8889],771:[0,.825,0,0,1.8889],8730:[1.25003,1.75,0,0,1],8968:[1.25003,1.75,0,0,.63889],8969:[1.25003,1.75,0,0,.63889],8970:[1.25003,1.75,0,0,.63889],8971:[1.25003,1.75,0,0,.63889],9115:[.64502,1.155,0,0,.875],9116:[1e-5,.6,0,0,.875],9117:[.64502,1.155,0,0,.875],9118:[.64502,1.155,0,0,.875],9119:[1e-5,.6,0,0,.875],9120:[.64502,1.155,0,0,.875],9121:[.64502,1.155,0,0,.66667],9122:[-99e-5,.601,0,0,.66667],9123:[.64502,1.155,0,0,.66667],9124:[.64502,1.155,0,0,.66667],9125:[-99e-5,.601,0,0,.66667],9126:[.64502,1.155,0,0,.66667],9127:[1e-5,.9,0,0,.88889],9128:[.65002,1.15,0,0,.88889],9129:[.90001,0,0,0,.88889],9130:[0,.3,0,0,.88889],9131:[1e-5,.9,0,0,.88889],9132:[.65002,1.15,0,0,.88889],9133:[.90001,0,0,0,.88889],9143:[.88502,.915,0,0,1.05556],10216:[1.25003,1.75,0,0,.80556],10217:[1.25003,1.75,0,0,.80556],57344:[-.00499,.605,0,0,1.05556],57345:[-.00499,.605,0,0,1.05556],57680:[0,.12,0,0,.45],57681:[0,.12,0,0,.45],57682:[0,.12,0,0,.45],57683:[0,.12,0,0,.45]},"Typewriter-Regular":{32:[0,0,0,0,.525],33:[0,.61111,0,0,.525],34:[0,.61111,0,0,.525],35:[0,.61111,0,0,.525],36:[.08333,.69444,0,0,.525],37:[.08333,.69444,0,0,.525],38:[0,.61111,0,0,.525],39:[0,.61111,0,0,.525],40:[.08333,.69444,0,0,.525],41:[.08333,.69444,0,0,.525],42:[0,.52083,0,0,.525],43:[-.08056,.53055,0,0,.525],44:[.13889,.125,0,0,.525],45:[-.08056,.53055,0,0,.525],46:[0,.125,0,0,.525],47:[.08333,.69444,0,0,.525],48:[0,.61111,0,0,.525],49:[0,.61111,0,0,.525],50:[0,.61111,0,0,.525],51:[0,.61111,0,0,.525],52:[0,.61111,0,0,.525],53:[0,.61111,0,0,.525],54:[0,.61111,0,0,.525],55:[0,.61111,0,0,.525],56:[0,.61111,0,0,.525],57:[0,.61111,0,0,.525],58:[0,.43056,0,0,.525],59:[.13889,.43056,0,0,.525],60:[-.05556,.55556,0,0,.525],61:[-.19549,.41562,0,0,.525],62:[-.05556,.55556,0,0,.525],63:[0,.61111,0,0,.525],64:[0,.61111,0,0,.525],65:[0,.61111,0,0,.525],66:[0,.61111,0,0,.525],67:[0,.61111,0,0,.525],68:[0,.61111,0,0,.525],69:[0,.61111,0,0,.525],70:[0,.61111,0,0,.525],71:[0,.61111,0,0,.525],72:[0,.61111,0,0,.525],73:[0,.61111,0,0,.525],74:[0,.61111,0,0,.525],75:[0,.61111,0,0,.525],76:[0,.61111,0,0,.525],77:[0,.61111,0,0,.525],78:[0,.61111,0,0,.525],79:[0,.61111,0,0,.525],80:[0,.61111,0,0,.525],81:[.13889,.61111,0,0,.525],82:[0,.61111,0,0,.525],83:[0,.61111,0,0,.525],84:[0,.61111,0,0,.525],85:[0,.61111,0,0,.525],86:[0,.61111,0,0,.525],87:[0,.61111,0,0,.525],88:[0,.61111,0,0,.525],89:[0,.61111,0,0,.525],90:[0,.61111,0,0,.525],91:[.08333,.69444,0,0,.525],92:[.08333,.69444,0,0,.525],93:[.08333,.69444,0,0,.525],94:[0,.61111,0,0,.525],95:[.09514,0,0,0,.525],96:[0,.61111,0,0,.525],97:[0,.43056,0,0,.525],98:[0,.61111,0,0,.525],99:[0,.43056,0,0,.525],100:[0,.61111,0,0,.525],101:[0,.43056,0,0,.525],102:[0,.61111,0,0,.525],103:[.22222,.43056,0,0,.525],104:[0,.61111,0,0,.525],105:[0,.61111,0,0,.525],106:[.22222,.61111,0,0,.525],107:[0,.61111,0,0,.525],108:[0,.61111,0,0,.525],109:[0,.43056,0,0,.525],110:[0,.43056,0,0,.525],111:[0,.43056,0,0,.525],112:[.22222,.43056,0,0,.525],113:[.22222,.43056,0,0,.525],114:[0,.43056,0,0,.525],115:[0,.43056,0,0,.525],116:[0,.55358,0,0,.525],117:[0,.43056,0,0,.525],118:[0,.43056,0,0,.525],119:[0,.43056,0,0,.525],120:[0,.43056,0,0,.525],121:[.22222,.43056,0,0,.525],122:[0,.43056,0,0,.525],123:[.08333,.69444,0,0,.525],124:[.08333,.69444,0,0,.525],125:[.08333,.69444,0,0,.525],126:[0,.61111,0,0,.525],127:[0,.61111,0,0,.525],160:[0,0,0,0,.525],176:[0,.61111,0,0,.525],184:[.19445,0,0,0,.525],305:[0,.43056,0,0,.525],567:[.22222,.43056,0,0,.525],711:[0,.56597,0,0,.525],713:[0,.56555,0,0,.525],714:[0,.61111,0,0,.525],715:[0,.61111,0,0,.525],728:[0,.61111,0,0,.525],730:[0,.61111,0,0,.525],770:[0,.61111,0,0,.525],771:[0,.61111,0,0,.525],776:[0,.61111,0,0,.525],915:[0,.61111,0,0,.525],916:[0,.61111,0,0,.525],920:[0,.61111,0,0,.525],923:[0,.61111,0,0,.525],926:[0,.61111,0,0,.525],928:[0,.61111,0,0,.525],931:[0,.61111,0,0,.525],933:[0,.61111,0,0,.525],934:[0,.61111,0,0,.525],936:[0,.61111,0,0,.525],937:[0,.61111,0,0,.525],8216:[0,.61111,0,0,.525],8217:[0,.61111,0,0,.525],8242:[0,.61111,0,0,.525],9251:[.11111,.21944,0,0,.525]}},lx={slant:[.25,.25,.25],space:[0,0,0],stretch:[0,0,0],shrink:[0,0,0],xHeight:[.431,.431,.431],quad:[1,1.171,1.472],extraSpace:[0,0,0],num1:[.677,.732,.925],num2:[.394,.384,.387],num3:[.444,.471,.504],denom1:[.686,.752,1.025],denom2:[.345,.344,.532],sup1:[.413,.503,.504],sup2:[.363,.431,.404],sup3:[.289,.286,.294],sub1:[.15,.143,.2],sub2:[.247,.286,.4],supDrop:[.386,.353,.494],subDrop:[.05,.071,.1],delim1:[2.39,1.7,1.98],delim2:[1.01,1.157,1.42],axisHeight:[.25,.25,.25],defaultRuleThickness:[.04,.049,.049],bigOpSpacing1:[.111,.111,.111],bigOpSpacing2:[.166,.166,.166],bigOpSpacing3:[.2,.2,.2],bigOpSpacing4:[.6,.611,.611],bigOpSpacing5:[.1,.143,.143],sqrtRuleThickness:[.04,.04,.04],ptPerEm:[10,10,10],doubleRuleSep:[.2,.2,.2],arrayRuleWidth:[.04,.04,.04],fboxsep:[.3,.3,.3],fboxrule:[.04,.04,.04]},YD={Å:"A",Ð:"D",Þ:"o",å:"a",ð:"d",þ:"o",А:"A",Б:"B",В:"B",Г:"F",Д:"A",Е:"E",Ж:"K",З:"3",И:"N",Й:"N",К:"K",Л:"N",М:"M",Н:"H",О:"O",П:"N",Р:"P",С:"C",Т:"T",У:"y",Ф:"O",Х:"X",Ц:"U",Ч:"h",Ш:"W",Щ:"W",Ъ:"B",Ы:"X",Ь:"B",Э:"3",Ю:"X",Я:"R",а:"a",б:"b",в:"a",г:"r",д:"y",е:"e",ж:"m",з:"e",и:"n",й:"n",к:"n",л:"n",м:"m",н:"n",о:"o",п:"n",р:"p",с:"c",т:"o",у:"y",ф:"b",х:"x",ц:"n",ч:"n",ш:"w",щ:"w",ъ:"a",ы:"m",ь:"a",э:"e",ю:"m",я:"r"};function NEe(t,e){vl[t]=e}function o9(t,e,r){if(!vl[e])throw new Error("Font metrics not found for font: "+e+".");var n=t.charCodeAt(0),i=vl[e][n];if(!i&&t[0]in YD&&(n=YD[t[0]].charCodeAt(0),i=vl[e][n]),!i&&r==="text"&&mQ(n)&&(i=vl[e][77]),i)return{depth:i[0],height:i[1],italic:i[2],skew:i[3],width:i[4]}}var AT={};function REe(t){var e;if(t>=5?e=0:t>=3?e=1:e=2,!AT[e]){var r=AT[e]={cssEmPerMu:lx.quad[e]/18};for(var n in lx)lx.hasOwnProperty(n)&&(r[n]=lx[n][e])}return AT[e]}var MEe=[[1,1,1],[2,1,1],[3,1,1],[4,2,1],[5,2,1],[6,3,1],[7,4,2],[8,6,3],[9,7,6],[10,8,7],[11,10,9]],qD=[.5,.6,.7,.8,.9,1,1.2,1.44,1.728,2.074,2.488],jD=function(e,r){return r.size<2?e:MEe[e-1][r.size-1]};class ac{constructor(e){this.style=void 0,this.color=void 0,this.size=void 0,this.textSize=void 0,this.phantom=void 0,this.font=void 0,this.fontFamily=void 0,this.fontWeight=void 0,this.fontShape=void 0,this.sizeMultiplier=void 0,this.maxSize=void 0,this.minRuleThickness=void 0,this._fontMetrics=void 0,this.style=e.style,this.color=e.color,this.size=e.size||ac.BASESIZE,this.textSize=e.textSize||this.size,this.phantom=!!e.phantom,this.font=e.font||"",this.fontFamily=e.fontFamily||"",this.fontWeight=e.fontWeight||"",this.fontShape=e.fontShape||"",this.sizeMultiplier=qD[this.size-1],this.maxSize=e.maxSize,this.minRuleThickness=e.minRuleThickness,this._fontMetrics=void 0}extend(e){var r={style:this.style,size:this.size,textSize:this.textSize,color:this.color,phantom:this.phantom,font:this.font,fontFamily:this.fontFamily,fontWeight:this.fontWeight,fontShape:this.fontShape,maxSize:this.maxSize,minRuleThickness:this.minRuleThickness};for(var n in e)e.hasOwnProperty(n)&&(r[n]=e[n]);return new ac(r)}havingStyle(e){return this.style===e?this:this.extend({style:e,size:jD(this.textSize,e)})}havingCrampedStyle(){return this.havingStyle(this.style.cramp())}havingSize(e){return this.size===e&&this.textSize===e?this:this.extend({style:this.style.text(),size:e,textSize:e,sizeMultiplier:qD[e-1]})}havingBaseStyle(e){e=e||this.style.text();var r=jD(ac.BASESIZE,e);return this.size===r&&this.textSize===ac.BASESIZE&&this.style===e?this:this.extend({style:e,size:r})}havingBaseSizing(){var e;switch(this.style.id){case 4:case 5:e=3;break;case 6:case 7:e=1;break;default:e=6}return this.extend({style:this.style.text(),size:e})}withColor(e){return this.extend({color:e})}withPhantom(){return this.extend({phantom:!0})}withFont(e){return this.extend({font:e})}withTextFontFamily(e){return this.extend({fontFamily:e,font:""})}withTextFontWeight(e){return this.extend({fontWeight:e,font:""})}withTextFontShape(e){return this.extend({fontShape:e,font:""})}sizingClasses(e){return e.size!==this.size?["sizing","reset-size"+e.size,"size"+this.size]:[]}baseSizingClasses(){return this.size!==ac.BASESIZE?["sizing","reset-size"+this.size,"size"+ac.BASESIZE]:[]}fontMetrics(){return this._fontMetrics||(this._fontMetrics=REe(this.size)),this._fontMetrics}getColor(){return this.phantom?"transparent":this.color}}ac.BASESIZE=6;var $S={pt:1,mm:7227/2540,cm:7227/254,in:72.27,bp:803/800,pc:12,dd:1238/1157,cc:14856/1157,nd:685/642,nc:1370/107,sp:1/65536,px:803/800},IEe={ex:!0,em:!0,mu:!0},vQ=function(e){return typeof e!="string"&&(e=e.unit),e in $S||e in IEe||e==="ex"},wn=function(e,r){var n;if(e.unit in $S)n=$S[e.unit]/r.fontMetrics().ptPerEm/r.sizeMultiplier;else if(e.unit==="mu")n=r.fontMetrics().cssEmPerMu;else{var i;if(r.style.isTight()?i=r.havingStyle(r.style.text()):i=r,e.unit==="ex")n=i.fontMetrics().xHeight;else if(e.unit==="em")n=i.fontMetrics().quad;else throw new lt("Invalid unit: '"+e.unit+"'");i!==r&&(n*=i.sizeMultiplier/r.sizeMultiplier)}return Math.min(e.number*n,r.maxSize)},ft=function(e){return+e.toFixed(4)+"em"},rh=function(e){return e.filter(r=>r).join(" ")},yQ=function(e,r,n){if(this.classes=e||[],this.attributes={},this.height=0,this.depth=0,this.maxFontSize=0,this.style=n||{},r){r.style.isTight()&&this.classes.push("mtight");var i=r.getColor();i&&(this.style.color=i)}},xQ=function(e){var r=document.createElement(e);r.className=rh(this.classes);for(var n in this.style)this.style.hasOwnProperty(n)&&(r.style[n]=this.style[n]);for(var i in this.attributes)this.attributes.hasOwnProperty(i)&&r.setAttribute(i,this.attributes[i]);for(var a=0;a<this.children.length;a++)r.appendChild(this.children[a].toNode());return r},bQ=function(e){var r="<"+e;this.classes.length&&(r+=' class="'+Ht.escape(rh(this.classes))+'"');var n="";for(var i in this.style)this.style.hasOwnProperty(i)&&(n+=Ht.hyphenate(i)+":"+this.style[i]+";");n&&(r+=' style="'+Ht.escape(n)+'"');for(var a in this.attributes)this.attributes.hasOwnProperty(a)&&(r+=" "+a+'="'+Ht.escape(this.attributes[a])+'"');r+=">";for(var s=0;s<this.children.length;s++)r+=this.children[s].toMarkup();return r+="</"+e+">",r};class Py{constructor(e,r,n,i){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.width=void 0,this.maxFontSize=void 0,this.style=void 0,yQ.call(this,e,n,i),this.children=r||[]}setAttribute(e,r){this.attributes[e]=r}hasClass(e){return Ht.contains(this.classes,e)}toNode(){return xQ.call(this,"span")}toMarkup(){return bQ.call(this,"span")}}class l9{constructor(e,r,n,i){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,yQ.call(this,r,i),this.children=n||[],this.setAttribute("href",e)}setAttribute(e,r){this.attributes[e]=r}hasClass(e){return Ht.contains(this.classes,e)}toNode(){return xQ.call(this,"a")}toMarkup(){return bQ.call(this,"a")}}class DEe{constructor(e,r,n){this.src=void 0,this.alt=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.alt=r,this.src=e,this.classes=["mord"],this.style=n}hasClass(e){return Ht.contains(this.classes,e)}toNode(){var e=document.createElement("img");e.src=this.src,e.alt=this.alt,e.className="mord";for(var r in this.style)this.style.hasOwnProperty(r)&&(e.style[r]=this.style[r]);return e}toMarkup(){var e='<img src="'+Ht.escape(this.src)+'"'+(' alt="'+Ht.escape(this.alt)+'"'),r="";for(var n in this.style)this.style.hasOwnProperty(n)&&(r+=Ht.hyphenate(n)+":"+this.style[n]+";");return r&&(e+=' style="'+Ht.escape(r)+'"'),e+="'/>",e}}var OEe={î:"ı̂",ï:"ı̈",í:"ı́",ì:"ı̀"};class vo{constructor(e,r,n,i,a,s,o,l){this.text=void 0,this.height=void 0,this.depth=void 0,this.italic=void 0,this.skew=void 0,this.width=void 0,this.maxFontSize=void 0,this.classes=void 0,this.style=void 0,this.text=e,this.height=r||0,this.depth=n||0,this.italic=i||0,this.skew=a||0,this.width=s||0,this.classes=o||[],this.style=l||{},this.maxFontSize=0;var u=xEe(this.text.charCodeAt(0));u&&this.classes.push(u+"_fallback"),/[îïíì]/.test(this.text)&&(this.text=OEe[this.text])}hasClass(e){return Ht.contains(this.classes,e)}toNode(){var e=document.createTextNode(this.text),r=null;this.italic>0&&(r=document.createElement("span"),r.style.marginRight=ft(this.italic)),this.classes.length>0&&(r=r||document.createElement("span"),r.className=rh(this.classes));for(var n in this.style)this.style.hasOwnProperty(n)&&(r=r||document.createElement("span"),r.style[n]=this.style[n]);return r?(r.appendChild(e),r):e}toMarkup(){var e=!1,r="<span";this.classes.length&&(e=!0,r+=' class="',r+=Ht.escape(rh(this.classes)),r+='"');var n="";this.italic>0&&(n+="margin-right:"+this.italic+"em;");for(var i in this.style)this.style.hasOwnProperty(i)&&(n+=Ht.hyphenate(i)+":"+this.style[i]+";");n&&(e=!0,r+=' style="'+Ht.escape(n)+'"');var a=Ht.escape(this.text);return e?(r+=">",r+=a,r+="</span>",r):a}}class Oc{constructor(e,r){this.children=void 0,this.attributes=void 0,this.children=e||[],this.attributes=r||{}}toNode(){var e="http://www.w3.org/2000/svg",r=document.createElementNS(e,"svg");for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&r.setAttribute(n,this.attributes[n]);for(var i=0;i<this.children.length;i++)r.appendChild(this.children[i].toNode());return r}toMarkup(){var e='<svg xmlns="http://www.w3.org/2000/svg"';for(var r in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,r)&&(e+=" "+r+'="'+Ht.escape(this.attributes[r])+'"');e+=">";for(var n=0;n<this.children.length;n++)e+=this.children[n].toMarkup();return e+="</svg>",e}}class nh{constructor(e,r){this.pathName=void 0,this.alternate=void 0,this.pathName=e,this.alternate=r}toNode(){var e="http://www.w3.org/2000/svg",r=document.createElementNS(e,"path");return this.alternate?r.setAttribute("d",this.alternate):r.setAttribute("d",WD[this.pathName]),r}toMarkup(){return this.alternate?'<path d="'+Ht.escape(this.alternate)+'"/>':'<path d="'+Ht.escape(WD[this.pathName])+'"/>'}}class zS{constructor(e){this.attributes=void 0,this.attributes=e||{}}toNode(){var e="http://www.w3.org/2000/svg",r=document.createElementNS(e,"line");for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&r.setAttribute(n,this.attributes[n]);return r}toMarkup(){var e="<line";for(var r in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,r)&&(e+=" "+r+'="'+Ht.escape(this.attributes[r])+'"');return e+="/>",e}}function XD(t){if(t instanceof vo)return t;throw new Error("Expected symbolNode but got "+String(t)+".")}function PEe(t){if(t instanceof Py)return t;throw new Error("Expected span<HtmlDomNode> but got "+String(t)+".")}var FEe={bin:1,close:1,inner:1,open:1,punct:1,rel:1},BEe={"accent-token":1,mathord:1,"op-token":1,spacing:1,textord:1},rn={math:{},text:{}};function z(t,e,r,n,i,a){rn[t][i]={font:e,group:r,replace:n},a&&n&&(rn[t][n]=rn[t][i])}var G="math",Je="text",re="main",xe="ams",vn="accent-token",St="bin",Ua="close",Dg="inner",Yt="mathord",ei="op-token",Fs="open",Ow="punct",ke="rel",eu="spacing",Me="textord";z(G,re,ke,"≡","\\equiv",!0);z(G,re,ke,"≺","\\prec",!0);z(G,re,ke,"≻","\\succ",!0);z(G,re,ke,"∼","\\sim",!0);z(G,re,ke,"⊥","\\perp");z(G,re,ke,"⪯","\\preceq",!0);z(G,re,ke,"⪰","\\succeq",!0);z(G,re,ke,"≃","\\simeq",!0);z(G,re,ke,"∣","\\mid",!0);z(G,re,ke,"≪","\\ll",!0);z(G,re,ke,"≫","\\gg",!0);z(G,re,ke,"≍","\\asymp",!0);z(G,re,ke,"∥","\\parallel");z(G,re,ke,"⋈","\\bowtie",!0);z(G,re,ke,"⌣","\\smile",!0);z(G,re,ke,"⊑","\\sqsubseteq",!0);z(G,re,ke,"⊒","\\sqsupseteq",!0);z(G,re,ke,"≐","\\doteq",!0);z(G,re,ke,"⌢","\\frown",!0);z(G,re,ke,"∋","\\ni",!0);z(G,re,ke,"∝","\\propto",!0);z(G,re,ke,"⊢","\\vdash",!0);z(G,re,ke,"⊣","\\dashv",!0);z(G,re,ke,"∋","\\owns");z(G,re,Ow,".","\\ldotp");z(G,re,Ow,"⋅","\\cdotp");z(G,re,Me,"#","\\#");z(Je,re,Me,"#","\\#");z(G,re,Me,"&","\\&");z(Je,re,Me,"&","\\&");z(G,re,Me,"ℵ","\\aleph",!0);z(G,re,Me,"∀","\\forall",!0);z(G,re,Me,"ℏ","\\hbar",!0);z(G,re,Me,"∃","\\exists",!0);z(G,re,Me,"∇","\\nabla",!0);z(G,re,Me,"♭","\\flat",!0);z(G,re,Me,"ℓ","\\ell",!0);z(G,re,Me,"♮","\\natural",!0);z(G,re,Me,"♣","\\clubsuit",!0);z(G,re,Me,"℘","\\wp",!0);z(G,re,Me,"♯","\\sharp",!0);z(G,re,Me,"♢","\\diamondsuit",!0);z(G,re,Me,"ℜ","\\Re",!0);z(G,re,Me,"♡","\\heartsuit",!0);z(G,re,Me,"ℑ","\\Im",!0);z(G,re,Me,"♠","\\spadesuit",!0);z(G,re,Me,"§","\\S",!0);z(Je,re,Me,"§","\\S");z(G,re,Me,"¶","\\P",!0);z(Je,re,Me,"¶","\\P");z(G,re,Me,"†","\\dag");z(Je,re,Me,"†","\\dag");z(Je,re,Me,"†","\\textdagger");z(G,re,Me,"‡","\\ddag");z(Je,re,Me,"‡","\\ddag");z(Je,re,Me,"‡","\\textdaggerdbl");z(G,re,Ua,"⎱","\\rmoustache",!0);z(G,re,Fs,"⎰","\\lmoustache",!0);z(G,re,Ua,"⟯","\\rgroup",!0);z(G,re,Fs,"⟮","\\lgroup",!0);z(G,re,St,"∓","\\mp",!0);z(G,re,St,"⊖","\\ominus",!0);z(G,re,St,"⊎","\\uplus",!0);z(G,re,St,"⊓","\\sqcap",!0);z(G,re,St,"∗","\\ast");z(G,re,St,"⊔","\\sqcup",!0);z(G,re,St,"◯","\\bigcirc",!0);z(G,re,St,"∙","\\bullet",!0);z(G,re,St,"‡","\\ddagger");z(G,re,St,"≀","\\wr",!0);z(G,re,St,"⨿","\\amalg");z(G,re,St,"&","\\And");z(G,re,ke,"⟵","\\longleftarrow",!0);z(G,re,ke,"⇐","\\Leftarrow",!0);z(G,re,ke,"⟸","\\Longleftarrow",!0);z(G,re,ke,"⟶","\\longrightarrow",!0);z(G,re,ke,"⇒","\\Rightarrow",!0);z(G,re,ke,"⟹","\\Longrightarrow",!0);z(G,re,ke,"↔","\\leftrightarrow",!0);z(G,re,ke,"⟷","\\longleftrightarrow",!0);z(G,re,ke,"⇔","\\Leftrightarrow",!0);z(G,re,ke,"⟺","\\Longleftrightarrow",!0);z(G,re,ke,"↦","\\mapsto",!0);z(G,re,ke,"⟼","\\longmapsto",!0);z(G,re,ke,"↗","\\nearrow",!0);z(G,re,ke,"↩","\\hookleftarrow",!0);z(G,re,ke,"↪","\\hookrightarrow",!0);z(G,re,ke,"↘","\\searrow",!0);z(G,re,ke,"↼","\\leftharpoonup",!0);z(G,re,ke,"⇀","\\rightharpoonup",!0);z(G,re,ke,"↙","\\swarrow",!0);z(G,re,ke,"↽","\\leftharpoondown",!0);z(G,re,ke,"⇁","\\rightharpoondown",!0);z(G,re,ke,"↖","\\nwarrow",!0);z(G,re,ke,"⇌","\\rightleftharpoons",!0);z(G,xe,ke,"≮","\\nless",!0);z(G,xe,ke,"","\\@nleqslant");z(G,xe,ke,"","\\@nleqq");z(G,xe,ke,"⪇","\\lneq",!0);z(G,xe,ke,"≨","\\lneqq",!0);z(G,xe,ke,"","\\@lvertneqq");z(G,xe,ke,"⋦","\\lnsim",!0);z(G,xe,ke,"⪉","\\lnapprox",!0);z(G,xe,ke,"⊀","\\nprec",!0);z(G,xe,ke,"⋠","\\npreceq",!0);z(G,xe,ke,"⋨","\\precnsim",!0);z(G,xe,ke,"⪹","\\precnapprox",!0);z(G,xe,ke,"≁","\\nsim",!0);z(G,xe,ke,"","\\@nshortmid");z(G,xe,ke,"∤","\\nmid",!0);z(G,xe,ke,"⊬","\\nvdash",!0);z(G,xe,ke,"⊭","\\nvDash",!0);z(G,xe,ke,"⋪","\\ntriangleleft");z(G,xe,ke,"⋬","\\ntrianglelefteq",!0);z(G,xe,ke,"⊊","\\subsetneq",!0);z(G,xe,ke,"","\\@varsubsetneq");z(G,xe,ke,"⫋","\\subsetneqq",!0);z(G,xe,ke,"","\\@varsubsetneqq");z(G,xe,ke,"≯","\\ngtr",!0);z(G,xe,ke,"","\\@ngeqslant");z(G,xe,ke,"","\\@ngeqq");z(G,xe,ke,"⪈","\\gneq",!0);z(G,xe,ke,"≩","\\gneqq",!0);z(G,xe,ke,"","\\@gvertneqq");z(G,xe,ke,"⋧","\\gnsim",!0);z(G,xe,ke,"⪊","\\gnapprox",!0);z(G,xe,ke,"⊁","\\nsucc",!0);z(G,xe,ke,"⋡","\\nsucceq",!0);z(G,xe,ke,"⋩","\\succnsim",!0);z(G,xe,ke,"⪺","\\succnapprox",!0);z(G,xe,ke,"≆","\\ncong",!0);z(G,xe,ke,"","\\@nshortparallel");z(G,xe,ke,"∦","\\nparallel",!0);z(G,xe,ke,"⊯","\\nVDash",!0);z(G,xe,ke,"⋫","\\ntriangleright");z(G,xe,ke,"⋭","\\ntrianglerighteq",!0);z(G,xe,ke,"","\\@nsupseteqq");z(G,xe,ke,"⊋","\\supsetneq",!0);z(G,xe,ke,"","\\@varsupsetneq");z(G,xe,ke,"⫌","\\supsetneqq",!0);z(G,xe,ke,"","\\@varsupsetneqq");z(G,xe,ke,"⊮","\\nVdash",!0);z(G,xe,ke,"⪵","\\precneqq",!0);z(G,xe,ke,"⪶","\\succneqq",!0);z(G,xe,ke,"","\\@nsubseteqq");z(G,xe,St,"⊴","\\unlhd");z(G,xe,St,"⊵","\\unrhd");z(G,xe,ke,"↚","\\nleftarrow",!0);z(G,xe,ke,"↛","\\nrightarrow",!0);z(G,xe,ke,"⇍","\\nLeftarrow",!0);z(G,xe,ke,"⇏","\\nRightarrow",!0);z(G,xe,ke,"↮","\\nleftrightarrow",!0);z(G,xe,ke,"⇎","\\nLeftrightarrow",!0);z(G,xe,ke,"△","\\vartriangle");z(G,xe,Me,"ℏ","\\hslash");z(G,xe,Me,"▽","\\triangledown");z(G,xe,Me,"◊","\\lozenge");z(G,xe,Me,"Ⓢ","\\circledS");z(G,xe,Me,"®","\\circledR");z(Je,xe,Me,"®","\\circledR");z(G,xe,Me,"∡","\\measuredangle",!0);z(G,xe,Me,"∄","\\nexists");z(G,xe,Me,"℧","\\mho");z(G,xe,Me,"Ⅎ","\\Finv",!0);z(G,xe,Me,"⅁","\\Game",!0);z(G,xe,Me,"‵","\\backprime");z(G,xe,Me,"▲","\\blacktriangle");z(G,xe,Me,"▼","\\blacktriangledown");z(G,xe,Me,"■","\\blacksquare");z(G,xe,Me,"⧫","\\blacklozenge");z(G,xe,Me,"★","\\bigstar");z(G,xe,Me,"∢","\\sphericalangle",!0);z(G,xe,Me,"∁","\\complement",!0);z(G,xe,Me,"ð","\\eth",!0);z(Je,re,Me,"ð","ð");z(G,xe,Me,"╱","\\diagup");z(G,xe,Me,"╲","\\diagdown");z(G,xe,Me,"□","\\square");z(G,xe,Me,"□","\\Box");z(G,xe,Me,"◊","\\Diamond");z(G,xe,Me,"¥","\\yen",!0);z(Je,xe,Me,"¥","\\yen",!0);z(G,xe,Me,"✓","\\checkmark",!0);z(Je,xe,Me,"✓","\\checkmark");z(G,xe,Me,"ℶ","\\beth",!0);z(G,xe,Me,"ℸ","\\daleth",!0);z(G,xe,Me,"ℷ","\\gimel",!0);z(G,xe,Me,"ϝ","\\digamma",!0);z(G,xe,Me,"ϰ","\\varkappa");z(G,xe,Fs,"┌","\\@ulcorner",!0);z(G,xe,Ua,"┐","\\@urcorner",!0);z(G,xe,Fs,"└","\\@llcorner",!0);z(G,xe,Ua,"┘","\\@lrcorner",!0);z(G,xe,ke,"≦","\\leqq",!0);z(G,xe,ke,"⩽","\\leqslant",!0);z(G,xe,ke,"⪕","\\eqslantless",!0);z(G,xe,ke,"≲","\\lesssim",!0);z(G,xe,ke,"⪅","\\lessapprox",!0);z(G,xe,ke,"≊","\\approxeq",!0);z(G,xe,St,"⋖","\\lessdot");z(G,xe,ke,"⋘","\\lll",!0);z(G,xe,ke,"≶","\\lessgtr",!0);z(G,xe,ke,"⋚","\\lesseqgtr",!0);z(G,xe,ke,"⪋","\\lesseqqgtr",!0);z(G,xe,ke,"≑","\\doteqdot");z(G,xe,ke,"≓","\\risingdotseq",!0);z(G,xe,ke,"≒","\\fallingdotseq",!0);z(G,xe,ke,"∽","\\backsim",!0);z(G,xe,ke,"⋍","\\backsimeq",!0);z(G,xe,ke,"⫅","\\subseteqq",!0);z(G,xe,ke,"⋐","\\Subset",!0);z(G,xe,ke,"⊏","\\sqsubset",!0);z(G,xe,ke,"≼","\\preccurlyeq",!0);z(G,xe,ke,"⋞","\\curlyeqprec",!0);z(G,xe,ke,"≾","\\precsim",!0);z(G,xe,ke,"⪷","\\precapprox",!0);z(G,xe,ke,"⊲","\\vartriangleleft");z(G,xe,ke,"⊴","\\trianglelefteq");z(G,xe,ke,"⊨","\\vDash",!0);z(G,xe,ke,"⊪","\\Vvdash",!0);z(G,xe,ke,"⌣","\\smallsmile");z(G,xe,ke,"⌢","\\smallfrown");z(G,xe,ke,"≏","\\bumpeq",!0);z(G,xe,ke,"≎","\\Bumpeq",!0);z(G,xe,ke,"≧","\\geqq",!0);z(G,xe,ke,"⩾","\\geqslant",!0);z(G,xe,ke,"⪖","\\eqslantgtr",!0);z(G,xe,ke,"≳","\\gtrsim",!0);z(G,xe,ke,"⪆","\\gtrapprox",!0);z(G,xe,St,"⋗","\\gtrdot");z(G,xe,ke,"⋙","\\ggg",!0);z(G,xe,ke,"≷","\\gtrless",!0);z(G,xe,ke,"⋛","\\gtreqless",!0);z(G,xe,ke,"⪌","\\gtreqqless",!0);z(G,xe,ke,"≖","\\eqcirc",!0);z(G,xe,ke,"≗","\\circeq",!0);z(G,xe,ke,"≜","\\triangleq",!0);z(G,xe,ke,"∼","\\thicksim");z(G,xe,ke,"≈","\\thickapprox");z(G,xe,ke,"⫆","\\supseteqq",!0);z(G,xe,ke,"⋑","\\Supset",!0);z(G,xe,ke,"⊐","\\sqsupset",!0);z(G,xe,ke,"≽","\\succcurlyeq",!0);z(G,xe,ke,"⋟","\\curlyeqsucc",!0);z(G,xe,ke,"≿","\\succsim",!0);z(G,xe,ke,"⪸","\\succapprox",!0);z(G,xe,ke,"⊳","\\vartriangleright");z(G,xe,ke,"⊵","\\trianglerighteq");z(G,xe,ke,"⊩","\\Vdash",!0);z(G,xe,ke,"∣","\\shortmid");z(G,xe,ke,"∥","\\shortparallel");z(G,xe,ke,"≬","\\between",!0);z(G,xe,ke,"⋔","\\pitchfork",!0);z(G,xe,ke,"∝","\\varpropto");z(G,xe,ke,"◀","\\blacktriangleleft");z(G,xe,ke,"∴","\\therefore",!0);z(G,xe,ke,"∍","\\backepsilon");z(G,xe,ke,"▶","\\blacktriangleright");z(G,xe,ke,"∵","\\because",!0);z(G,xe,ke,"⋘","\\llless");z(G,xe,ke,"⋙","\\gggtr");z(G,xe,St,"⊲","\\lhd");z(G,xe,St,"⊳","\\rhd");z(G,xe,ke,"≂","\\eqsim",!0);z(G,re,ke,"⋈","\\Join");z(G,xe,ke,"≑","\\Doteq",!0);z(G,xe,St,"∔","\\dotplus",!0);z(G,xe,St,"∖","\\smallsetminus");z(G,xe,St,"⋒","\\Cap",!0);z(G,xe,St,"⋓","\\Cup",!0);z(G,xe,St,"⩞","\\doublebarwedge",!0);z(G,xe,St,"⊟","\\boxminus",!0);z(G,xe,St,"⊞","\\boxplus",!0);z(G,xe,St,"⋇","\\divideontimes",!0);z(G,xe,St,"⋉","\\ltimes",!0);z(G,xe,St,"⋊","\\rtimes",!0);z(G,xe,St,"⋋","\\leftthreetimes",!0);z(G,xe,St,"⋌","\\rightthreetimes",!0);z(G,xe,St,"⋏","\\curlywedge",!0);z(G,xe,St,"⋎","\\curlyvee",!0);z(G,xe,St,"⊝","\\circleddash",!0);z(G,xe,St,"⊛","\\circledast",!0);z(G,xe,St,"⋅","\\centerdot");z(G,xe,St,"⊺","\\intercal",!0);z(G,xe,St,"⋒","\\doublecap");z(G,xe,St,"⋓","\\doublecup");z(G,xe,St,"⊠","\\boxtimes",!0);z(G,xe,ke,"⇢","\\dashrightarrow",!0);z(G,xe,ke,"⇠","\\dashleftarrow",!0);z(G,xe,ke,"⇇","\\leftleftarrows",!0);z(G,xe,ke,"⇆","\\leftrightarrows",!0);z(G,xe,ke,"⇚","\\Lleftarrow",!0);z(G,xe,ke,"↞","\\twoheadleftarrow",!0);z(G,xe,ke,"↢","\\leftarrowtail",!0);z(G,xe,ke,"↫","\\looparrowleft",!0);z(G,xe,ke,"⇋","\\leftrightharpoons",!0);z(G,xe,ke,"↶","\\curvearrowleft",!0);z(G,xe,ke,"↺","\\circlearrowleft",!0);z(G,xe,ke,"↰","\\Lsh",!0);z(G,xe,ke,"⇈","\\upuparrows",!0);z(G,xe,ke,"↿","\\upharpoonleft",!0);z(G,xe,ke,"⇃","\\downharpoonleft",!0);z(G,re,ke,"⊶","\\origof",!0);z(G,re,ke,"⊷","\\imageof",!0);z(G,xe,ke,"⊸","\\multimap",!0);z(G,xe,ke,"↭","\\leftrightsquigarrow",!0);z(G,xe,ke,"⇉","\\rightrightarrows",!0);z(G,xe,ke,"⇄","\\rightleftarrows",!0);z(G,xe,ke,"↠","\\twoheadrightarrow",!0);z(G,xe,ke,"↣","\\rightarrowtail",!0);z(G,xe,ke,"↬","\\looparrowright",!0);z(G,xe,ke,"↷","\\curvearrowright",!0);z(G,xe,ke,"↻","\\circlearrowright",!0);z(G,xe,ke,"↱","\\Rsh",!0);z(G,xe,ke,"⇊","\\downdownarrows",!0);z(G,xe,ke,"↾","\\upharpoonright",!0);z(G,xe,ke,"⇂","\\downharpoonright",!0);z(G,xe,ke,"⇝","\\rightsquigarrow",!0);z(G,xe,ke,"⇝","\\leadsto");z(G,xe,ke,"⇛","\\Rrightarrow",!0);z(G,xe,ke,"↾","\\restriction");z(G,re,Me,"‘","`");z(G,re,Me,"$","\\$");z(Je,re,Me,"$","\\$");z(Je,re,Me,"$","\\textdollar");z(G,re,Me,"%","\\%");z(Je,re,Me,"%","\\%");z(G,re,Me,"_","\\_");z(Je,re,Me,"_","\\_");z(Je,re,Me,"_","\\textunderscore");z(G,re,Me,"∠","\\angle",!0);z(G,re,Me,"∞","\\infty",!0);z(G,re,Me,"′","\\prime");z(G,re,Me,"△","\\triangle");z(G,re,Me,"Γ","\\Gamma",!0);z(G,re,Me,"Δ","\\Delta",!0);z(G,re,Me,"Θ","\\Theta",!0);z(G,re,Me,"Λ","\\Lambda",!0);z(G,re,Me,"Ξ","\\Xi",!0);z(G,re,Me,"Π","\\Pi",!0);z(G,re,Me,"Σ","\\Sigma",!0);z(G,re,Me,"Υ","\\Upsilon",!0);z(G,re,Me,"Φ","\\Phi",!0);z(G,re,Me,"Ψ","\\Psi",!0);z(G,re,Me,"Ω","\\Omega",!0);z(G,re,Me,"A","Α");z(G,re,Me,"B","Β");z(G,re,Me,"E","Ε");z(G,re,Me,"Z","Ζ");z(G,re,Me,"H","Η");z(G,re,Me,"I","Ι");z(G,re,Me,"K","Κ");z(G,re,Me,"M","Μ");z(G,re,Me,"N","Ν");z(G,re,Me,"O","Ο");z(G,re,Me,"P","Ρ");z(G,re,Me,"T","Τ");z(G,re,Me,"X","Χ");z(G,re,Me,"¬","\\neg",!0);z(G,re,Me,"¬","\\lnot");z(G,re,Me,"⊤","\\top");z(G,re,Me,"⊥","\\bot");z(G,re,Me,"∅","\\emptyset");z(G,xe,Me,"∅","\\varnothing");z(G,re,Yt,"α","\\alpha",!0);z(G,re,Yt,"β","\\beta",!0);z(G,re,Yt,"γ","\\gamma",!0);z(G,re,Yt,"δ","\\delta",!0);z(G,re,Yt,"ϵ","\\epsilon",!0);z(G,re,Yt,"ζ","\\zeta",!0);z(G,re,Yt,"η","\\eta",!0);z(G,re,Yt,"θ","\\theta",!0);z(G,re,Yt,"ι","\\iota",!0);z(G,re,Yt,"κ","\\kappa",!0);z(G,re,Yt,"λ","\\lambda",!0);z(G,re,Yt,"μ","\\mu",!0);z(G,re,Yt,"ν","\\nu",!0);z(G,re,Yt,"ξ","\\xi",!0);z(G,re,Yt,"ο","\\omicron",!0);z(G,re,Yt,"π","\\pi",!0);z(G,re,Yt,"ρ","\\rho",!0);z(G,re,Yt,"σ","\\sigma",!0);z(G,re,Yt,"τ","\\tau",!0);z(G,re,Yt,"υ","\\upsilon",!0);z(G,re,Yt,"ϕ","\\phi",!0);z(G,re,Yt,"χ","\\chi",!0);z(G,re,Yt,"ψ","\\psi",!0);z(G,re,Yt,"ω","\\omega",!0);z(G,re,Yt,"ε","\\varepsilon",!0);z(G,re,Yt,"ϑ","\\vartheta",!0);z(G,re,Yt,"ϖ","\\varpi",!0);z(G,re,Yt,"ϱ","\\varrho",!0);z(G,re,Yt,"ς","\\varsigma",!0);z(G,re,Yt,"φ","\\varphi",!0);z(G,re,St,"∗","*",!0);z(G,re,St,"+","+");z(G,re,St,"−","-",!0);z(G,re,St,"⋅","\\cdot",!0);z(G,re,St,"∘","\\circ",!0);z(G,re,St,"÷","\\div",!0);z(G,re,St,"±","\\pm",!0);z(G,re,St,"×","\\times",!0);z(G,re,St,"∩","\\cap",!0);z(G,re,St,"∪","\\cup",!0);z(G,re,St,"∖","\\setminus",!0);z(G,re,St,"∧","\\land");z(G,re,St,"∨","\\lor");z(G,re,St,"∧","\\wedge",!0);z(G,re,St,"∨","\\vee",!0);z(G,re,Me,"√","\\surd");z(G,re,Fs,"⟨","\\langle",!0);z(G,re,Fs,"∣","\\lvert");z(G,re,Fs,"∥","\\lVert");z(G,re,Ua,"?","?");z(G,re,Ua,"!","!");z(G,re,Ua,"⟩","\\rangle",!0);z(G,re,Ua,"∣","\\rvert");z(G,re,Ua,"∥","\\rVert");z(G,re,ke,"=","=");z(G,re,ke,":",":");z(G,re,ke,"≈","\\approx",!0);z(G,re,ke,"≅","\\cong",!0);z(G,re,ke,"≥","\\ge");z(G,re,ke,"≥","\\geq",!0);z(G,re,ke,"←","\\gets");z(G,re,ke,">","\\gt",!0);z(G,re,ke,"∈","\\in",!0);z(G,re,ke,"","\\@not");z(G,re,ke,"⊂","\\subset",!0);z(G,re,ke,"⊃","\\supset",!0);z(G,re,ke,"⊆","\\subseteq",!0);z(G,re,ke,"⊇","\\supseteq",!0);z(G,xe,ke,"⊈","\\nsubseteq",!0);z(G,xe,ke,"⊉","\\nsupseteq",!0);z(G,re,ke,"⊨","\\models");z(G,re,ke,"←","\\leftarrow",!0);z(G,re,ke,"≤","\\le");z(G,re,ke,"≤","\\leq",!0);z(G,re,ke,"<","\\lt",!0);z(G,re,ke,"→","\\rightarrow",!0);z(G,re,ke,"→","\\to");z(G,xe,ke,"≱","\\ngeq",!0);z(G,xe,ke,"≰","\\nleq",!0);z(G,re,eu," ","\\ ");z(G,re,eu," ","\\space");z(G,re,eu," ","\\nobreakspace");z(Je,re,eu," ","\\ ");z(Je,re,eu," "," ");z(Je,re,eu," ","\\space");z(Je,re,eu," ","\\nobreakspace");z(G,re,eu,null,"\\nobreak");z(G,re,eu,null,"\\allowbreak");z(G,re,Ow,",",",");z(G,re,Ow,";",";");z(G,xe,St,"⊼","\\barwedge",!0);z(G,xe,St,"⊻","\\veebar",!0);z(G,re,St,"⊙","\\odot",!0);z(G,re,St,"⊕","\\oplus",!0);z(G,re,St,"⊗","\\otimes",!0);z(G,re,Me,"∂","\\partial",!0);z(G,re,St,"⊘","\\oslash",!0);z(G,xe,St,"⊚","\\circledcirc",!0);z(G,xe,St,"⊡","\\boxdot",!0);z(G,re,St,"△","\\bigtriangleup");z(G,re,St,"▽","\\bigtriangledown");z(G,re,St,"†","\\dagger");z(G,re,St,"⋄","\\diamond");z(G,re,St,"⋆","\\star");z(G,re,St,"◃","\\triangleleft");z(G,re,St,"▹","\\triangleright");z(G,re,Fs,"{","\\{");z(Je,re,Me,"{","\\{");z(Je,re,Me,"{","\\textbraceleft");z(G,re,Ua,"}","\\}");z(Je,re,Me,"}","\\}");z(Je,re,Me,"}","\\textbraceright");z(G,re,Fs,"{","\\lbrace");z(G,re,Ua,"}","\\rbrace");z(G,re,Fs,"[","\\lbrack",!0);z(Je,re,Me,"[","\\lbrack",!0);z(G,re,Ua,"]","\\rbrack",!0);z(Je,re,Me,"]","\\rbrack",!0);z(G,re,Fs,"(","\\lparen",!0);z(G,re,Ua,")","\\rparen",!0);z(Je,re,Me,"<","\\textless",!0);z(Je,re,Me,">","\\textgreater",!0);z(G,re,Fs,"⌊","\\lfloor",!0);z(G,re,Ua,"⌋","\\rfloor",!0);z(G,re,Fs,"⌈","\\lceil",!0);z(G,re,Ua,"⌉","\\rceil",!0);z(G,re,Me,"\\","\\backslash");z(G,re,Me,"∣","|");z(G,re,Me,"∣","\\vert");z(Je,re,Me,"|","\\textbar",!0);z(G,re,Me,"∥","\\|");z(G,re,Me,"∥","\\Vert");z(Je,re,Me,"∥","\\textbardbl");z(Je,re,Me,"~","\\textasciitilde");z(Je,re,Me,"\\","\\textbackslash");z(Je,re,Me,"^","\\textasciicircum");z(G,re,ke,"↑","\\uparrow",!0);z(G,re,ke,"⇑","\\Uparrow",!0);z(G,re,ke,"↓","\\downarrow",!0);z(G,re,ke,"⇓","\\Downarrow",!0);z(G,re,ke,"↕","\\updownarrow",!0);z(G,re,ke,"⇕","\\Updownarrow",!0);z(G,re,ei,"∐","\\coprod");z(G,re,ei,"⋁","\\bigvee");z(G,re,ei,"⋀","\\bigwedge");z(G,re,ei,"⨄","\\biguplus");z(G,re,ei,"⋂","\\bigcap");z(G,re,ei,"⋃","\\bigcup");z(G,re,ei,"∫","\\int");z(G,re,ei,"∫","\\intop");z(G,re,ei,"∬","\\iint");z(G,re,ei,"∭","\\iiint");z(G,re,ei,"∏","\\prod");z(G,re,ei,"∑","\\sum");z(G,re,ei,"⨂","\\bigotimes");z(G,re,ei,"⨁","\\bigoplus");z(G,re,ei,"⨀","\\bigodot");z(G,re,ei,"∮","\\oint");z(G,re,ei,"∯","\\oiint");z(G,re,ei,"∰","\\oiiint");z(G,re,ei,"⨆","\\bigsqcup");z(G,re,ei,"∫","\\smallint");z(Je,re,Dg,"…","\\textellipsis");z(G,re,Dg,"…","\\mathellipsis");z(Je,re,Dg,"…","\\ldots",!0);z(G,re,Dg,"…","\\ldots",!0);z(G,re,Dg,"⋯","\\@cdots",!0);z(G,re,Dg,"⋱","\\ddots",!0);z(G,re,Me,"⋮","\\varvdots");z(G,re,vn,"ˊ","\\acute");z(G,re,vn,"ˋ","\\grave");z(G,re,vn,"¨","\\ddot");z(G,re,vn,"~","\\tilde");z(G,re,vn,"ˉ","\\bar");z(G,re,vn,"˘","\\breve");z(G,re,vn,"ˇ","\\check");z(G,re,vn,"^","\\hat");z(G,re,vn,"⃗","\\vec");z(G,re,vn,"˙","\\dot");z(G,re,vn,"˚","\\mathring");z(G,re,Yt,"","\\@imath");z(G,re,Yt,"","\\@jmath");z(G,re,Me,"ı","ı");z(G,re,Me,"ȷ","ȷ");z(Je,re,Me,"ı","\\i",!0);z(Je,re,Me,"ȷ","\\j",!0);z(Je,re,Me,"ß","\\ss",!0);z(Je,re,Me,"æ","\\ae",!0);z(Je,re,Me,"œ","\\oe",!0);z(Je,re,Me,"ø","\\o",!0);z(Je,re,Me,"Æ","\\AE",!0);z(Je,re,Me,"Œ","\\OE",!0);z(Je,re,Me,"Ø","\\O",!0);z(Je,re,vn,"ˊ","\\'");z(Je,re,vn,"ˋ","\\`");z(Je,re,vn,"ˆ","\\^");z(Je,re,vn,"˜","\\~");z(Je,re,vn,"ˉ","\\=");z(Je,re,vn,"˘","\\u");z(Je,re,vn,"˙","\\.");z(Je,re,vn,"¸","\\c");z(Je,re,vn,"˚","\\r");z(Je,re,vn,"ˇ","\\v");z(Je,re,vn,"¨",'\\"');z(Je,re,vn,"˝","\\H");z(Je,re,vn,"◯","\\textcircled");var wQ={"--":!0,"---":!0,"``":!0,"''":!0};z(Je,re,Me,"–","--",!0);z(Je,re,Me,"–","\\textendash");z(Je,re,Me,"—","---",!0);z(Je,re,Me,"—","\\textemdash");z(Je,re,Me,"‘","`",!0);z(Je,re,Me,"‘","\\textquoteleft");z(Je,re,Me,"’","'",!0);z(Je,re,Me,"’","\\textquoteright");z(Je,re,Me,"“","``",!0);z(Je,re,Me,"“","\\textquotedblleft");z(Je,re,Me,"”","''",!0);z(Je,re,Me,"”","\\textquotedblright");z(G,re,Me,"°","\\degree",!0);z(Je,re,Me,"°","\\degree");z(Je,re,Me,"°","\\textdegree",!0);z(G,re,Me,"£","\\pounds");z(G,re,Me,"£","\\mathsterling",!0);z(Je,re,Me,"£","\\pounds");z(Je,re,Me,"£","\\textsterling",!0);z(G,xe,Me,"✠","\\maltese");z(Je,xe,Me,"✠","\\maltese");var KD='0123456789/@."';for(var _T=0;_T<KD.length;_T++){var QD=KD.charAt(_T);z(G,re,Me,QD,QD)}var ZD='0123456789!@*()-=+";:?/.,';for(var LT=0;LT<ZD.length;LT++){var JD=ZD.charAt(LT);z(Je,re,Me,JD,JD)}var v3="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";for(var NT=0;NT<v3.length;NT++){var cx=v3.charAt(NT);z(G,re,Yt,cx,cx),z(Je,re,Me,cx,cx)}z(G,xe,Me,"C","ℂ");z(Je,xe,Me,"C","ℂ");z(G,xe,Me,"H","ℍ");z(Je,xe,Me,"H","ℍ");z(G,xe,Me,"N","ℕ");z(Je,xe,Me,"N","ℕ");z(G,xe,Me,"P","ℙ");z(Je,xe,Me,"P","ℙ");z(G,xe,Me,"Q","ℚ");z(Je,xe,Me,"Q","ℚ");z(G,xe,Me,"R","ℝ");z(Je,xe,Me,"R","ℝ");z(G,xe,Me,"Z","ℤ");z(Je,xe,Me,"Z","ℤ");z(G,re,Yt,"h","ℎ");z(Je,re,Yt,"h","ℎ");var Kt="";for(var Sa=0;Sa<v3.length;Sa++){var An=v3.charAt(Sa);Kt=String.fromCharCode(55349,56320+Sa),z(G,re,Yt,An,Kt),z(Je,re,Me,An,Kt),Kt=String.fromCharCode(55349,56372+Sa),z(G,re,Yt,An,Kt),z(Je,re,Me,An,Kt),Kt=String.fromCharCode(55349,56424+Sa),z(G,re,Yt,An,Kt),z(Je,re,Me,An,Kt),Kt=String.fromCharCode(55349,56580+Sa),z(G,re,Yt,An,Kt),z(Je,re,Me,An,Kt),Kt=String.fromCharCode(55349,56684+Sa),z(G,re,Yt,An,Kt),z(Je,re,Me,An,Kt),Kt=String.fromCharCode(55349,56736+Sa),z(G,re,Yt,An,Kt),z(Je,re,Me,An,Kt),Kt=String.fromCharCode(55349,56788+Sa),z(G,re,Yt,An,Kt),z(Je,re,Me,An,Kt),Kt=String.fromCharCode(55349,56840+Sa),z(G,re,Yt,An,Kt),z(Je,re,Me,An,Kt),Kt=String.fromCharCode(55349,56944+Sa),z(G,re,Yt,An,Kt),z(Je,re,Me,An,Kt),Sa<26&&(Kt=String.fromCharCode(55349,56632+Sa),z(G,re,Yt,An,Kt),z(Je,re,Me,An,Kt),Kt=String.fromCharCode(55349,56476+Sa),z(G,re,Yt,An,Kt),z(Je,re,Me,An,Kt))}Kt="𝕜";z(G,re,Yt,"k",Kt);z(Je,re,Me,"k",Kt);for(var Mh=0;Mh<10;Mh++){var cu=Mh.toString();Kt=String.fromCharCode(55349,57294+Mh),z(G,re,Yt,cu,Kt),z(Je,re,Me,cu,Kt),Kt=String.fromCharCode(55349,57314+Mh),z(G,re,Yt,cu,Kt),z(Je,re,Me,cu,Kt),Kt=String.fromCharCode(55349,57324+Mh),z(G,re,Yt,cu,Kt),z(Je,re,Me,cu,Kt),Kt=String.fromCharCode(55349,57334+Mh),z(G,re,Yt,cu,Kt),z(Je,re,Me,cu,Kt)}var US="ÐÞþ";for(var RT=0;RT<US.length;RT++){var ux=US.charAt(RT);z(G,re,Yt,ux,ux),z(Je,re,Me,ux,ux)}var hx=[["mathbf","textbf","Main-Bold"],["mathbf","textbf","Main-Bold"],["mathnormal","textit","Math-Italic"],["mathnormal","textit","Math-Italic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["mathscr","textscr","Script-Regular"],["","",""],["","",""],["","",""],["mathfrak","textfrak","Fraktur-Regular"],["mathfrak","textfrak","Fraktur-Regular"],["mathbb","textbb","AMS-Regular"],["mathbb","textbb","AMS-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathitsf","textitsf","SansSerif-Italic"],["mathitsf","textitsf","SansSerif-Italic"],["","",""],["","",""],["mathtt","texttt","Typewriter-Regular"],["mathtt","texttt","Typewriter-Regular"]],eO=[["mathbf","textbf","Main-Bold"],["","",""],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathtt","texttt","Typewriter-Regular"]],$Ee=function(e,r){var n=e.charCodeAt(0),i=e.charCodeAt(1),a=(n-55296)*1024+(i-56320)+65536,s=r==="math"?0:1;if(119808<=a&&a<120484){var o=Math.floor((a-119808)/26);return[hx[o][2],hx[o][s]]}else if(120782<=a&&a<=120831){var l=Math.floor((a-120782)/10);return[eO[l][2],eO[l][s]]}else{if(a===120485||a===120486)return[hx[0][2],hx[0][s]];if(120486<a&&a<120782)return["",""];throw new lt("Unsupported character: "+e)}},Pw=function(e,r,n){return rn[n][e]&&rn[n][e].replace&&(e=rn[n][e].replace),{value:e,metrics:o9(e,r,n)}},Lo=function(e,r,n,i,a){var s=Pw(e,r,n),o=s.metrics;e=s.value;var l;if(o){var u=o.italic;(n==="text"||i&&i.font==="mathit")&&(u=0),l=new vo(e,o.height,o.depth,u,o.skew,o.width,a)}else typeof console<"u"&&console.warn("No character metrics "+("for '"+e+"' in style '"+r+"' and mode '"+n+"'")),l=new vo(e,0,0,0,0,0,a);if(i){l.maxFontSize=i.sizeMultiplier,i.style.isTight()&&l.classes.push("mtight");var h=i.getColor();h&&(l.style.color=h)}return l},zEe=function(e,r,n,i){return i===void 0&&(i=[]),n.font==="boldsymbol"&&Pw(e,"Main-Bold",r).metrics?Lo(e,"Main-Bold",r,n,i.concat(["mathbf"])):e==="\\"||rn[r][e].font==="main"?Lo(e,"Main-Regular",r,n,i):Lo(e,"AMS-Regular",r,n,i.concat(["amsrm"]))},UEe=function(e,r,n,i,a){return a!=="textord"&&Pw(e,"Math-BoldItalic",r).metrics?{fontName:"Math-BoldItalic",fontClass:"boldsymbol"}:{fontName:"Main-Bold",fontClass:"mathbf"}},VEe=function(e,r,n){var i=e.mode,a=e.text,s=["mord"],o=i==="math"||i==="text"&&r.font,l=o?r.font:r.fontFamily,u="",h="";if(a.charCodeAt(0)===55349&&([u,h]=$Ee(a,i)),u.length>0)return Lo(a,u,i,r,s.concat(h));if(l){var d,p;if(l==="boldsymbol"){var f=UEe(a,i,r,s,n);d=f.fontName,p=[f.fontClass]}else o?(d=EQ[l].fontName,p=[l]):(d=dx(l,r.fontWeight,r.fontShape),p=[l,r.fontWeight,r.fontShape]);if(Pw(a,d,i).metrics)return Lo(a,d,i,r,s.concat(p));if(wQ.hasOwnProperty(a)&&d.slice(0,10)==="Typewriter"){for(var g=[],m=0;m<a.length;m++)g.push(Lo(a[m],d,i,r,s.concat(p)));return TQ(g)}}if(n==="mathord")return Lo(a,"Math-Italic",i,r,s.concat(["mathnormal"]));if(n==="textord"){var y=rn[i][a]&&rn[i][a].font;if(y==="ams"){var v=dx("amsrm",r.fontWeight,r.fontShape);return Lo(a,v,i,r,s.concat("amsrm",r.fontWeight,r.fontShape))}else if(y==="main"||!y){var x=dx("textrm",r.fontWeight,r.fontShape);return Lo(a,x,i,r,s.concat(r.fontWeight,r.fontShape))}else{var w=dx(y,r.fontWeight,r.fontShape);return Lo(a,w,i,r,s.concat(w,r.fontWeight,r.fontShape))}}else throw new Error("unexpected type: "+n+" in makeOrd")},GEe=(t,e)=>{if(rh(t.classes)!==rh(e.classes)||t.skew!==e.skew||t.maxFontSize!==e.maxFontSize)return!1;if(t.classes.length===1){var r=t.classes[0];if(r==="mbin"||r==="mord")return!1}for(var n in t.style)if(t.style.hasOwnProperty(n)&&t.style[n]!==e.style[n])return!1;for(var i in e.style)if(e.style.hasOwnProperty(i)&&t.style[i]!==e.style[i])return!1;return!0},HEe=t=>{for(var e=0;e<t.length-1;e++){var r=t[e],n=t[e+1];r instanceof vo&&n instanceof vo&&GEe(r,n)&&(r.text+=n.text,r.height=Math.max(r.height,n.height),r.depth=Math.max(r.depth,n.depth),r.italic=n.italic,t.splice(e+1,1),e--)}return t},c9=function(e){for(var r=0,n=0,i=0,a=0;a<e.children.length;a++){var s=e.children[a];s.height>r&&(r=s.height),s.depth>n&&(n=s.depth),s.maxFontSize>i&&(i=s.maxFontSize)}e.height=r,e.depth=n,e.maxFontSize=i},Wa=function(e,r,n,i){var a=new Py(e,r,n,i);return c9(a),a},kQ=(t,e,r,n)=>new Py(t,e,r,n),WEe=function(e,r,n){var i=Wa([e],[],r);return i.height=Math.max(n||r.fontMetrics().defaultRuleThickness,r.minRuleThickness),i.style.borderBottomWidth=ft(i.height),i.maxFontSize=1,i},YEe=function(e,r,n,i){var a=new l9(e,r,n,i);return c9(a),a},TQ=function(e){var r=new Oy(e);return c9(r),r},qEe=function(e,r){return e instanceof Oy?Wa([],[e],r):e},jEe=function(e){if(e.positionType==="individualShift"){for(var r=e.children,n=[r[0]],i=-r[0].shift-r[0].elem.depth,a=i,s=1;s<r.length;s++){var o=-r[s].shift-a-r[s].elem.depth,l=o-(r[s-1].elem.height+r[s-1].elem.depth);a=a+o,n.push({type:"kern",size:l}),n.push(r[s])}return{children:n,depth:i}}var u;if(e.positionType==="top"){for(var h=e.positionData,d=0;d<e.children.length;d++){var p=e.children[d];h-=p.type==="kern"?p.size:p.elem.height+p.elem.depth}u=h}else if(e.positionType==="bottom")u=-e.positionData;else{var f=e.children[0];if(f.type!=="elem")throw new Error('First child must have type "elem".');if(e.positionType==="shift")u=-f.elem.depth-e.positionData;else if(e.positionType==="firstBaseline")u=-f.elem.depth;else throw new Error("Invalid positionType "+e.positionType+".")}return{children:e.children,depth:u}},XEe=function(e,r){for(var{children:n,depth:i}=jEe(e),a=0,s=0;s<n.length;s++){var o=n[s];if(o.type==="elem"){var l=o.elem;a=Math.max(a,l.maxFontSize,l.height)}}a+=2;var u=Wa(["pstrut"],[]);u.style.height=ft(a);for(var h=[],d=i,p=i,f=i,g=0;g<n.length;g++){var m=n[g];if(m.type==="kern")f+=m.size;else{var y=m.elem,v=m.wrapperClasses||[],x=m.wrapperStyle||{},w=Wa(v,[u,y],void 0,x);w.style.top=ft(-a-f-y.depth),m.marginLeft&&(w.style.marginLeft=m.marginLeft),m.marginRight&&(w.style.marginRight=m.marginRight),h.push(w),f+=y.height+y.depth}d=Math.min(d,f),p=Math.max(p,f)}var k=Wa(["vlist"],h);k.style.height=ft(p);var E;if(d<0){var _=Wa([],[]),S=Wa(["vlist"],[_]);S.style.height=ft(-d);var R=Wa(["vlist-s"],[new vo("​")]);E=[Wa(["vlist-r"],[k,R]),Wa(["vlist-r"],[S])]}else E=[Wa(["vlist-r"],[k])];var C=Wa(["vlist-t"],E);return E.length===2&&C.classes.push("vlist-t2"),C.height=p,C.depth=-d,C},KEe=(t,e)=>{var r=Wa(["mspace"],[],e),n=wn(t,e);return r.style.marginRight=ft(n),r},dx=function(e,r,n){var i="";switch(e){case"amsrm":i="AMS";break;case"textrm":i="Main";break;case"textsf":i="SansSerif";break;case"texttt":i="Typewriter";break;default:i=e}var a;return r==="textbf"&&n==="textit"?a="BoldItalic":r==="textbf"?a="Bold":r==="textit"?a="Italic":a="Regular",i+"-"+a},EQ={mathbf:{variant:"bold",fontName:"Main-Bold"},mathrm:{variant:"normal",fontName:"Main-Regular"},textit:{variant:"italic",fontName:"Main-Italic"},mathit:{variant:"italic",fontName:"Main-Italic"},mathnormal:{variant:"italic",fontName:"Math-Italic"},mathbb:{variant:"double-struck",fontName:"AMS-Regular"},mathcal:{variant:"script",fontName:"Caligraphic-Regular"},mathfrak:{variant:"fraktur",fontName:"Fraktur-Regular"},mathscr:{variant:"script",fontName:"Script-Regular"},mathsf:{variant:"sans-serif",fontName:"SansSerif-Regular"},mathtt:{variant:"monospace",fontName:"Typewriter-Regular"}},SQ={vec:["vec",.471,.714],oiintSize1:["oiintSize1",.957,.499],oiintSize2:["oiintSize2",1.472,.659],oiiintSize1:["oiiintSize1",1.304,.499],oiiintSize2:["oiiintSize2",1.98,.659]},QEe=function(e,r){var[n,i,a]=SQ[e],s=new nh(n),o=new Oc([s],{width:ft(i),height:ft(a),style:"width:"+ft(i),viewBox:"0 0 "+1e3*i+" "+1e3*a,preserveAspectRatio:"xMinYMin"}),l=kQ(["overlay"],[o],r);return l.height=a,l.style.height=ft(a),l.style.width=ft(i),l},Be={fontMap:EQ,makeSymbol:Lo,mathsym:zEe,makeSpan:Wa,makeSvgSpan:kQ,makeLineSpan:WEe,makeAnchor:YEe,makeFragment:TQ,wrapFragment:qEe,makeVList:XEe,makeOrd:VEe,makeGlue:KEe,staticSvg:QEe,svgData:SQ,tryCombineChars:HEe},xn={number:3,unit:"mu"},Ih={number:4,unit:"mu"},Kl={number:5,unit:"mu"},ZEe={mord:{mop:xn,mbin:Ih,mrel:Kl,minner:xn},mop:{mord:xn,mop:xn,mrel:Kl,minner:xn},mbin:{mord:Ih,mop:Ih,mopen:Ih,minner:Ih},mrel:{mord:Kl,mop:Kl,mopen:Kl,minner:Kl},mopen:{},mclose:{mop:xn,mbin:Ih,mrel:Kl,minner:xn},mpunct:{mord:xn,mop:xn,mrel:Kl,mopen:xn,mclose:xn,mpunct:xn,minner:xn},minner:{mord:xn,mop:xn,mbin:Ih,mrel:Kl,mopen:xn,mpunct:xn,minner:xn}},JEe={mord:{mop:xn},mop:{mord:xn,mop:xn},mbin:{},mrel:{},mopen:{},mclose:{mop:xn},mpunct:{},minner:{mop:xn}},CQ={},y3={},x3={};function wt(t){for(var{type:e,names:r,props:n,handler:i,htmlBuilder:a,mathmlBuilder:s}=t,o={type:e,numArgs:n.numArgs,argTypes:n.argTypes,allowedInArgument:!!n.allowedInArgument,allowedInText:!!n.allowedInText,allowedInMath:n.allowedInMath===void 0?!0:n.allowedInMath,numOptionalArgs:n.numOptionalArgs||0,infix:!!n.infix,primitive:!!n.primitive,handler:i},l=0;l<r.length;++l)CQ[r[l]]=o;e&&(a&&(y3[e]=a),s&&(x3[e]=s))}function vf(t){var{type:e,htmlBuilder:r,mathmlBuilder:n}=t;wt({type:e,names:[],props:{numArgs:0},handler(){throw new Error("Should never be called.")},htmlBuilder:r,mathmlBuilder:n})}var b3=function(e){return e.type==="ordgroup"&&e.body.length===1?e.body[0]:e},Hn=function(e){return e.type==="ordgroup"?e.body:[e]},Pc=Be.makeSpan,e7e=["leftmost","mbin","mopen","mrel","mop","mpunct"],t7e=["rightmost","mrel","mclose","mpunct"],r7e={display:qt.DISPLAY,text:qt.TEXT,script:qt.SCRIPT,scriptscript:qt.SCRIPTSCRIPT},n7e={mord:"mord",mop:"mop",mbin:"mbin",mrel:"mrel",mopen:"mopen",mclose:"mclose",mpunct:"mpunct",minner:"minner"},pi=function(e,r,n,i){i===void 0&&(i=[null,null]);for(var a=[],s=0;s<e.length;s++){var o=Er(e[s],r);if(o instanceof Oy){var l=o.children;a.push(...l)}else a.push(o)}if(Be.tryCombineChars(a),!n)return a;var u=r;if(e.length===1){var h=e[0];h.type==="sizing"?u=r.havingSize(h.size):h.type==="styling"&&(u=r.havingStyle(r7e[h.style]))}var d=Pc([i[0]||"leftmost"],[],r),p=Pc([i[1]||"rightmost"],[],r),f=n==="root";return tO(a,(g,m)=>{var y=m.classes[0],v=g.classes[0];y==="mbin"&&Ht.contains(t7e,v)?m.classes[0]="mord":v==="mbin"&&Ht.contains(e7e,y)&&(g.classes[0]="mord")},{node:d},p,f),tO(a,(g,m)=>{var y=VS(m),v=VS(g),x=y&&v?g.hasClass("mtight")?JEe[y][v]:ZEe[y][v]:null;if(x)return Be.makeGlue(x,u)},{node:d},p,f),a},tO=function t(e,r,n,i,a){i&&e.push(i);for(var s=0;s<e.length;s++){var o=e[s],l=AQ(o);if(l){t(l.children,r,n,null,a);continue}var u=!o.hasClass("mspace");if(u){var h=r(o,n.node);h&&(n.insertAfter?n.insertAfter(h):(e.unshift(h),s++))}u?n.node=o:a&&o.hasClass("newline")&&(n.node=Pc(["leftmost"])),n.insertAfter=(d=>p=>{e.splice(d+1,0,p),s++})(s)}i&&e.pop()},AQ=function(e){return e instanceof Oy||e instanceof l9||e instanceof Py&&e.hasClass("enclosing")?e:null},i7e=function t(e,r){var n=AQ(e);if(n){var i=n.children;if(i.length){if(r==="right")return t(i[i.length-1],"right");if(r==="left")return t(i[0],"left")}}return e},VS=function(e,r){return e?(r&&(e=i7e(e,r)),n7e[e.classes[0]]||null):null},Nv=function(e,r){var n=["nulldelimiter"].concat(e.baseSizingClasses());return Pc(r.concat(n))},Er=function(e,r,n){if(!e)return Pc();if(y3[e.type]){var i=y3[e.type](e,r);if(n&&r.size!==n.size){i=Pc(r.sizingClasses(n),[i],r);var a=r.sizeMultiplier/n.sizeMultiplier;i.height*=a,i.depth*=a}return i}else throw new lt("Got group of unknown type: '"+e.type+"'")};function fx(t,e){var r=Pc(["base"],t,e),n=Pc(["strut"]);return n.style.height=ft(r.height+r.depth),r.depth&&(n.style.verticalAlign=ft(-r.depth)),r.children.unshift(n),r}function GS(t,e){var r=null;t.length===1&&t[0].type==="tag"&&(r=t[0].tag,t=t[0].body);var n=pi(t,e,"root"),i;n.length===2&&n[1].hasClass("tag")&&(i=n.pop());for(var a=[],s=[],o=0;o<n.length;o++)if(s.push(n[o]),n[o].hasClass("mbin")||n[o].hasClass("mrel")||n[o].hasClass("allowbreak")){for(var l=!1;o<n.length-1&&n[o+1].hasClass("mspace")&&!n[o+1].hasClass("newline");)o++,s.push(n[o]),n[o].hasClass("nobreak")&&(l=!0);l||(a.push(fx(s,e)),s=[])}else n[o].hasClass("newline")&&(s.pop(),s.length>0&&(a.push(fx(s,e)),s=[]),a.push(n[o]));s.length>0&&a.push(fx(s,e));var u;r?(u=fx(pi(r,e,!0)),u.classes=["tag"],a.push(u)):i&&a.push(i);var h=Pc(["katex-html"],a);if(h.setAttribute("aria-hidden","true"),u){var d=u.children[0];d.style.height=ft(h.height+h.depth),h.depth&&(d.style.verticalAlign=ft(-h.depth))}return h}function _Q(t){return new Oy(t)}class eo{constructor(e,r,n){this.type=void 0,this.attributes=void 0,this.children=void 0,this.classes=void 0,this.type=e,this.attributes={},this.children=r||[],this.classes=n||[]}setAttribute(e,r){this.attributes[e]=r}getAttribute(e){return this.attributes[e]}toNode(){var e=document.createElementNS("http://www.w3.org/1998/Math/MathML",this.type);for(var r in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,r)&&e.setAttribute(r,this.attributes[r]);this.classes.length>0&&(e.className=rh(this.classes));for(var n=0;n<this.children.length;n++)e.appendChild(this.children[n].toNode());return e}toMarkup(){var e="<"+this.type;for(var r in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,r)&&(e+=" "+r+'="',e+=Ht.escape(this.attributes[r]),e+='"');this.classes.length>0&&(e+=' class ="'+Ht.escape(rh(this.classes))+'"'),e+=">";for(var n=0;n<this.children.length;n++)e+=this.children[n].toMarkup();return e+="</"+this.type+">",e}toText(){return this.children.map(e=>e.toText()).join("")}}class Pm{constructor(e){this.text=void 0,this.text=e}toNode(){return document.createTextNode(this.text)}toMarkup(){return Ht.escape(this.toText())}toText(){return this.text}}class a7e{constructor(e){this.width=void 0,this.character=void 0,this.width=e,e>=.05555&&e<=.05556?this.character=" ":e>=.1666&&e<=.1667?this.character=" ":e>=.2222&&e<=.2223?this.character=" ":e>=.2777&&e<=.2778?this.character="  ":e>=-.05556&&e<=-.05555?this.character=" ⁣":e>=-.1667&&e<=-.1666?this.character=" ⁣":e>=-.2223&&e<=-.2222?this.character=" ⁣":e>=-.2778&&e<=-.2777?this.character=" ⁣":this.character=null}toNode(){if(this.character)return document.createTextNode(this.character);var e=document.createElementNS("http://www.w3.org/1998/Math/MathML","mspace");return e.setAttribute("width",ft(this.width)),e}toMarkup(){return this.character?"<mtext>"+this.character+"</mtext>":'<mspace width="'+ft(this.width)+'"/>'}toText(){return this.character?this.character:" "}}var nt={MathNode:eo,TextNode:Pm,SpaceNode:a7e,newDocumentFragment:_Q},yo=function(e,r,n){return rn[r][e]&&rn[r][e].replace&&e.charCodeAt(0)!==55349&&!(wQ.hasOwnProperty(e)&&n&&(n.fontFamily&&n.fontFamily.slice(4,6)==="tt"||n.font&&n.font.slice(4,6)==="tt"))&&(e=rn[r][e].replace),new nt.TextNode(e)},u9=function(e){return e.length===1?e[0]:new nt.MathNode("mrow",e)},h9=function(e,r){if(r.fontFamily==="texttt")return"monospace";if(r.fontFamily==="textsf")return r.fontShape==="textit"&&r.fontWeight==="textbf"?"sans-serif-bold-italic":r.fontShape==="textit"?"sans-serif-italic":r.fontWeight==="textbf"?"bold-sans-serif":"sans-serif";if(r.fontShape==="textit"&&r.fontWeight==="textbf")return"bold-italic";if(r.fontShape==="textit")return"italic";if(r.fontWeight==="textbf")return"bold";var n=r.font;if(!n||n==="mathnormal")return null;var i=e.mode;if(n==="mathit")return"italic";if(n==="boldsymbol")return e.type==="textord"?"bold":"bold-italic";if(n==="mathbf")return"bold";if(n==="mathbb")return"double-struck";if(n==="mathfrak")return"fraktur";if(n==="mathscr"||n==="mathcal")return"script";if(n==="mathsf")return"sans-serif";if(n==="mathtt")return"monospace";var a=e.text;if(Ht.contains(["\\imath","\\jmath"],a))return null;rn[i][a]&&rn[i][a].replace&&(a=rn[i][a].replace);var s=Be.fontMap[n].fontName;return o9(a,s,i)?Be.fontMap[n].variant:null},ps=function(e,r,n){if(e.length===1){var i=Kr(e[0],r);return n&&i instanceof eo&&i.type==="mo"&&(i.setAttribute("lspace","0em"),i.setAttribute("rspace","0em")),[i]}for(var a=[],s,o=0;o<e.length;o++){var l=Kr(e[o],r);if(l instanceof eo&&s instanceof eo){if(l.type==="mtext"&&s.type==="mtext"&&l.getAttribute("mathvariant")===s.getAttribute("mathvariant")){s.children.push(...l.children);continue}else if(l.type==="mn"&&s.type==="mn"){s.children.push(...l.children);continue}else if(l.type==="mi"&&l.children.length===1&&s.type==="mn"){var u=l.children[0];if(u instanceof Pm&&u.text==="."){s.children.push(...l.children);continue}}else if(s.type==="mi"&&s.children.length===1){var h=s.children[0];if(h instanceof Pm&&h.text==="̸"&&(l.type==="mo"||l.type==="mi"||l.type==="mn")){var d=l.children[0];d instanceof Pm&&d.text.length>0&&(d.text=d.text.slice(0,1)+"̸"+d.text.slice(1),a.pop())}}}a.push(l),s=l}return a},ih=function(e,r,n){return u9(ps(e,r,n))},Kr=function(e,r){if(!e)return new nt.MathNode("mrow");if(x3[e.type]){var n=x3[e.type](e,r);return n}else throw new lt("Got group of unknown type: '"+e.type+"'")};function rO(t,e,r,n,i){var a=ps(t,r),s;a.length===1&&a[0]instanceof eo&&Ht.contains(["mrow","mtable"],a[0].type)?s=a[0]:s=new nt.MathNode("mrow",a);var o=new nt.MathNode("annotation",[new nt.TextNode(e)]);o.setAttribute("encoding","application/x-tex");var l=new nt.MathNode("semantics",[s,o]),u=new nt.MathNode("math",[l]);u.setAttribute("xmlns","http://www.w3.org/1998/Math/MathML"),n&&u.setAttribute("display","block");var h=i?"katex":"katex-mathml";return Be.makeSpan([h],[u])}var LQ=function(e){return new ac({style:e.displayMode?qt.DISPLAY:qt.TEXT,maxSize:e.maxSize,minRuleThickness:e.minRuleThickness})},NQ=function(e,r){if(r.displayMode){var n=["katex-display"];r.leqno&&n.push("leqno"),r.fleqn&&n.push("fleqn"),e=Be.makeSpan(n,[e])}return e},s7e=function(e,r,n){var i=LQ(n),a;if(n.output==="mathml")return rO(e,r,i,n.displayMode,!0);if(n.output==="html"){var s=GS(e,i);a=Be.makeSpan(["katex"],[s])}else{var o=rO(e,r,i,n.displayMode,!1),l=GS(e,i);a=Be.makeSpan(["katex"],[o,l])}return NQ(a,n)},o7e=function(e,r,n){var i=LQ(n),a=GS(e,i),s=Be.makeSpan(["katex"],[a]);return NQ(s,n)},l7e={widehat:"^",widecheck:"ˇ",widetilde:"~",utilde:"~",overleftarrow:"←",underleftarrow:"←",xleftarrow:"←",overrightarrow:"→",underrightarrow:"→",xrightarrow:"→",underbrace:"⏟",overbrace:"⏞",overgroup:"⏠",undergroup:"⏡",overleftrightarrow:"↔",underleftrightarrow:"↔",xleftrightarrow:"↔",Overrightarrow:"⇒",xRightarrow:"⇒",overleftharpoon:"↼",xleftharpoonup:"↼",overrightharpoon:"⇀",xrightharpoonup:"⇀",xLeftarrow:"⇐",xLeftrightarrow:"⇔",xhookleftarrow:"↩",xhookrightarrow:"↪",xmapsto:"↦",xrightharpoondown:"⇁",xleftharpoondown:"↽",xrightleftharpoons:"⇌",xleftrightharpoons:"⇋",xtwoheadleftarrow:"↞",xtwoheadrightarrow:"↠",xlongequal:"=",xtofrom:"⇄",xrightleftarrows:"⇄",xrightequilibrium:"⇌",xleftequilibrium:"⇋","\\cdrightarrow":"→","\\cdleftarrow":"←","\\cdlongequal":"="},c7e=function(e){var r=new nt.MathNode("mo",[new nt.TextNode(l7e[e.replace(/^\\/,"")])]);return r.setAttribute("stretchy","true"),r},u7e={overrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],overleftarrow:[["leftarrow"],.888,522,"xMinYMin"],underrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],underleftarrow:[["leftarrow"],.888,522,"xMinYMin"],xrightarrow:[["rightarrow"],1.469,522,"xMaxYMin"],"\\cdrightarrow":[["rightarrow"],3,522,"xMaxYMin"],xleftarrow:[["leftarrow"],1.469,522,"xMinYMin"],"\\cdleftarrow":[["leftarrow"],3,522,"xMinYMin"],Overrightarrow:[["doublerightarrow"],.888,560,"xMaxYMin"],xRightarrow:[["doublerightarrow"],1.526,560,"xMaxYMin"],xLeftarrow:[["doubleleftarrow"],1.526,560,"xMinYMin"],overleftharpoon:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoonup:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoondown:[["leftharpoondown"],.888,522,"xMinYMin"],overrightharpoon:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoonup:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoondown:[["rightharpoondown"],.888,522,"xMaxYMin"],xlongequal:[["longequal"],.888,334,"xMinYMin"],"\\cdlongequal":[["longequal"],3,334,"xMinYMin"],xtwoheadleftarrow:[["twoheadleftarrow"],.888,334,"xMinYMin"],xtwoheadrightarrow:[["twoheadrightarrow"],.888,334,"xMaxYMin"],overleftrightarrow:[["leftarrow","rightarrow"],.888,522],overbrace:[["leftbrace","midbrace","rightbrace"],1.6,548],underbrace:[["leftbraceunder","midbraceunder","rightbraceunder"],1.6,548],underleftrightarrow:[["leftarrow","rightarrow"],.888,522],xleftrightarrow:[["leftarrow","rightarrow"],1.75,522],xLeftrightarrow:[["doubleleftarrow","doublerightarrow"],1.75,560],xrightleftharpoons:[["leftharpoondownplus","rightharpoonplus"],1.75,716],xleftrightharpoons:[["leftharpoonplus","rightharpoondownplus"],1.75,716],xhookleftarrow:[["leftarrow","righthook"],1.08,522],xhookrightarrow:[["lefthook","rightarrow"],1.08,522],overlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],underlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],overgroup:[["leftgroup","rightgroup"],.888,342],undergroup:[["leftgroupunder","rightgroupunder"],.888,342],xmapsto:[["leftmapsto","rightarrow"],1.5,522],xtofrom:[["leftToFrom","rightToFrom"],1.75,528],xrightleftarrows:[["baraboveleftarrow","rightarrowabovebar"],1.75,901],xrightequilibrium:[["baraboveshortleftharpoon","rightharpoonaboveshortbar"],1.75,716],xleftequilibrium:[["shortbaraboveleftharpoon","shortrightharpoonabovebar"],1.75,716]},h7e=function(e){return e.type==="ordgroup"?e.body.length:1},d7e=function(e,r){function n(){var o=4e5,l=e.label.slice(1);if(Ht.contains(["widehat","widecheck","widetilde","utilde"],l)){var u=e,h=h7e(u.base),d,p,f;if(h>5)l==="widehat"||l==="widecheck"?(d=420,o=2364,f=.42,p=l+"4"):(d=312,o=2340,f=.34,p="tilde4");else{var g=[1,1,2,2,3,3][h];l==="widehat"||l==="widecheck"?(o=[0,1062,2364,2364,2364][g],d=[0,239,300,360,420][g],f=[0,.24,.3,.3,.36,.42][g],p=l+g):(o=[0,600,1033,2339,2340][g],d=[0,260,286,306,312][g],f=[0,.26,.286,.3,.306,.34][g],p="tilde"+g)}var m=new nh(p),y=new Oc([m],{width:"100%",height:ft(f),viewBox:"0 0 "+o+" "+d,preserveAspectRatio:"none"});return{span:Be.makeSvgSpan([],[y],r),minWidth:0,height:f}}else{var v=[],x=u7e[l],[w,k,E]=x,_=E/1e3,S=w.length,R,C;if(S===1){var L=x[3];R=["hide-tail"],C=[L]}else if(S===2)R=["halfarrow-left","halfarrow-right"],C=["xMinYMin","xMaxYMin"];else if(S===3)R=["brace-left","brace-center","brace-right"],C=["xMinYMin","xMidYMin","xMaxYMin"];else throw new Error(`Correct katexImagesData or update code here to support
                    `+S+" children.");for(var A=0;A<S;A++){var N=new nh(w[A]),F=new Oc([N],{width:"400em",height:ft(_),viewBox:"0 0 "+o+" "+E,preserveAspectRatio:C[A]+" slice"}),T=Be.makeSvgSpan([R[A]],[F],r);if(S===1)return{span:T,minWidth:k,height:_};T.style.height=ft(_),v.push(T)}return{span:Be.makeSpan(["stretchy"],v,r),minWidth:k,height:_}}}var{span:i,minWidth:a,height:s}=n();return i.height=s,i.style.height=ft(s),a>0&&(i.style.minWidth=ft(a)),i},f7e=function(e,r,n,i,a){var s,o=e.height+e.depth+n+i;if(/fbox|color|angl/.test(r)){if(s=Be.makeSpan(["stretchy",r],[],a),r==="fbox"){var l=a.color&&a.getColor();l&&(s.style.borderColor=l)}}else{var u=[];/^[bx]cancel$/.test(r)&&u.push(new zS({x1:"0",y1:"0",x2:"100%",y2:"100%","stroke-width":"0.046em"})),/^x?cancel$/.test(r)&&u.push(new zS({x1:"0",y1:"100%",x2:"100%",y2:"0","stroke-width":"0.046em"}));var h=new Oc(u,{width:"100%",height:ft(o)});s=Be.makeSvgSpan([],[h],a)}return s.height=o,s.style.height=ft(o),s},Fc={encloseSpan:f7e,mathMLnode:c7e,svgSpan:d7e};function lr(t,e){if(!t||t.type!==e)throw new Error("Expected node of type "+e+", but got "+(t?"node of type "+t.type:String(t)));return t}function d9(t){var e=Fw(t);if(!e)throw new Error("Expected node of symbol group type, but got "+(t?"node of type "+t.type:String(t)));return e}function Fw(t){return t&&(t.type==="atom"||BEe.hasOwnProperty(t.type))?t:null}var f9=(t,e)=>{var r,n,i;t&&t.type==="supsub"?(n=lr(t.base,"accent"),r=n.base,t.base=r,i=PEe(Er(t,e)),t.base=n):(n=lr(t,"accent"),r=n.base);var a=Er(r,e.havingCrampedStyle()),s=n.isShifty&&Ht.isCharacterBox(r),o=0;if(s){var l=Ht.getBaseElem(r),u=Er(l,e.havingCrampedStyle());o=XD(u).skew}var h=n.label==="\\c",d=h?a.height+a.depth:Math.min(a.height,e.fontMetrics().xHeight),p;if(n.isStretchy)p=Fc.svgSpan(n,e),p=Be.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:a},{type:"elem",elem:p,wrapperClasses:["svg-align"],wrapperStyle:o>0?{width:"calc(100% - "+ft(2*o)+")",marginLeft:ft(2*o)}:void 0}]},e);else{var f,g;n.label==="\\vec"?(f=Be.staticSvg("vec",e),g=Be.svgData.vec[1]):(f=Be.makeOrd({mode:n.mode,text:n.label},e,"textord"),f=XD(f),f.italic=0,g=f.width,h&&(d+=f.depth)),p=Be.makeSpan(["accent-body"],[f]);var m=n.label==="\\textcircled";m&&(p.classes.push("accent-full"),d=a.height);var y=o;m||(y-=g/2),p.style.left=ft(y),n.label==="\\textcircled"&&(p.style.top=".2em"),p=Be.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:a},{type:"kern",size:-d},{type:"elem",elem:p}]},e)}var v=Be.makeSpan(["mord","accent"],[p],e);return i?(i.children[0]=v,i.height=Math.max(v.height,i.height),i.classes[0]="mord",i):v},RQ=(t,e)=>{var r=t.isStretchy?Fc.mathMLnode(t.label):new nt.MathNode("mo",[yo(t.label,t.mode)]),n=new nt.MathNode("mover",[Kr(t.base,e),r]);return n.setAttribute("accent","true"),n},p7e=new RegExp(["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring"].map(t=>"\\"+t).join("|"));wt({type:"accent",names:["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring","\\widecheck","\\widehat","\\widetilde","\\overrightarrow","\\overleftarrow","\\Overrightarrow","\\overleftrightarrow","\\overgroup","\\overlinesegment","\\overleftharpoon","\\overrightharpoon"],props:{numArgs:1},handler:(t,e)=>{var r=b3(e[0]),n=!p7e.test(t.funcName),i=!n||t.funcName==="\\widehat"||t.funcName==="\\widetilde"||t.funcName==="\\widecheck";return{type:"accent",mode:t.parser.mode,label:t.funcName,isStretchy:n,isShifty:i,base:r}},htmlBuilder:f9,mathmlBuilder:RQ});wt({type:"accent",names:["\\'","\\`","\\^","\\~","\\=","\\u","\\.",'\\"',"\\c","\\r","\\H","\\v","\\textcircled"],props:{numArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["primitive"]},handler:(t,e)=>{var r=e[0],n=t.parser.mode;return n==="math"&&(t.parser.settings.reportNonstrict("mathVsTextAccents","LaTeX's accent "+t.funcName+" works only in text mode"),n="text"),{type:"accent",mode:n,label:t.funcName,isStretchy:!1,isShifty:!0,base:r}},htmlBuilder:f9,mathmlBuilder:RQ});wt({type:"accentUnder",names:["\\underleftarrow","\\underrightarrow","\\underleftrightarrow","\\undergroup","\\underlinesegment","\\utilde"],props:{numArgs:1},handler:(t,e)=>{var{parser:r,funcName:n}=t,i=e[0];return{type:"accentUnder",mode:r.mode,label:n,base:i}},htmlBuilder:(t,e)=>{var r=Er(t.base,e),n=Fc.svgSpan(t,e),i=t.label==="\\utilde"?.12:0,a=Be.makeVList({positionType:"top",positionData:r.height,children:[{type:"elem",elem:n,wrapperClasses:["svg-align"]},{type:"kern",size:i},{type:"elem",elem:r}]},e);return Be.makeSpan(["mord","accentunder"],[a],e)},mathmlBuilder:(t,e)=>{var r=Fc.mathMLnode(t.label),n=new nt.MathNode("munder",[Kr(t.base,e),r]);return n.setAttribute("accentunder","true"),n}});var px=t=>{var e=new nt.MathNode("mpadded",t?[t]:[]);return e.setAttribute("width","+0.6em"),e.setAttribute("lspace","0.3em"),e};wt({type:"xArrow",names:["\\xleftarrow","\\xrightarrow","\\xLeftarrow","\\xRightarrow","\\xleftrightarrow","\\xLeftrightarrow","\\xhookleftarrow","\\xhookrightarrow","\\xmapsto","\\xrightharpoondown","\\xrightharpoonup","\\xleftharpoondown","\\xleftharpoonup","\\xrightleftharpoons","\\xleftrightharpoons","\\xlongequal","\\xtwoheadrightarrow","\\xtwoheadleftarrow","\\xtofrom","\\xrightleftarrows","\\xrightequilibrium","\\xleftequilibrium","\\\\cdrightarrow","\\\\cdleftarrow","\\\\cdlongequal"],props:{numArgs:1,numOptionalArgs:1},handler(t,e,r){var{parser:n,funcName:i}=t;return{type:"xArrow",mode:n.mode,label:i,body:e[0],below:r[0]}},htmlBuilder(t,e){var r=e.style,n=e.havingStyle(r.sup()),i=Be.wrapFragment(Er(t.body,n,e),e),a=t.label.slice(0,2)==="\\x"?"x":"cd";i.classes.push(a+"-arrow-pad");var s;t.below&&(n=e.havingStyle(r.sub()),s=Be.wrapFragment(Er(t.below,n,e),e),s.classes.push(a+"-arrow-pad"));var o=Fc.svgSpan(t,e),l=-e.fontMetrics().axisHeight+.5*o.height,u=-e.fontMetrics().axisHeight-.5*o.height-.111;(i.depth>.25||t.label==="\\xleftequilibrium")&&(u-=i.depth);var h;if(s){var d=-e.fontMetrics().axisHeight+s.height+.5*o.height+.111;h=Be.makeVList({positionType:"individualShift",children:[{type:"elem",elem:i,shift:u},{type:"elem",elem:o,shift:l},{type:"elem",elem:s,shift:d}]},e)}else h=Be.makeVList({positionType:"individualShift",children:[{type:"elem",elem:i,shift:u},{type:"elem",elem:o,shift:l}]},e);return h.children[0].children[0].children[1].classes.push("svg-align"),Be.makeSpan(["mrel","x-arrow"],[h],e)},mathmlBuilder(t,e){var r=Fc.mathMLnode(t.label);r.setAttribute("minsize",t.label.charAt(0)==="x"?"1.75em":"3.0em");var n;if(t.body){var i=px(Kr(t.body,e));if(t.below){var a=px(Kr(t.below,e));n=new nt.MathNode("munderover",[r,a,i])}else n=new nt.MathNode("mover",[r,i])}else if(t.below){var s=px(Kr(t.below,e));n=new nt.MathNode("munder",[r,s])}else n=px(),n=new nt.MathNode("mover",[r,n]);return n}});var g7e=Be.makeSpan;function MQ(t,e){var r=pi(t.body,e,!0);return g7e([t.mclass],r,e)}function IQ(t,e){var r,n=ps(t.body,e);return t.mclass==="minner"?r=new nt.MathNode("mpadded",n):t.mclass==="mord"?t.isCharacterBox?(r=n[0],r.type="mi"):r=new nt.MathNode("mi",n):(t.isCharacterBox?(r=n[0],r.type="mo"):r=new nt.MathNode("mo",n),t.mclass==="mbin"?(r.attributes.lspace="0.22em",r.attributes.rspace="0.22em"):t.mclass==="mpunct"?(r.attributes.lspace="0em",r.attributes.rspace="0.17em"):t.mclass==="mopen"||t.mclass==="mclose"?(r.attributes.lspace="0em",r.attributes.rspace="0em"):t.mclass==="minner"&&(r.attributes.lspace="0.0556em",r.attributes.width="+0.1111em")),r}wt({type:"mclass",names:["\\mathord","\\mathbin","\\mathrel","\\mathopen","\\mathclose","\\mathpunct","\\mathinner"],props:{numArgs:1,primitive:!0},handler(t,e){var{parser:r,funcName:n}=t,i=e[0];return{type:"mclass",mode:r.mode,mclass:"m"+n.slice(5),body:Hn(i),isCharacterBox:Ht.isCharacterBox(i)}},htmlBuilder:MQ,mathmlBuilder:IQ});var Bw=t=>{var e=t.type==="ordgroup"&&t.body.length?t.body[0]:t;return e.type==="atom"&&(e.family==="bin"||e.family==="rel")?"m"+e.family:"mord"};wt({type:"mclass",names:["\\@binrel"],props:{numArgs:2},handler(t,e){var{parser:r}=t;return{type:"mclass",mode:r.mode,mclass:Bw(e[0]),body:Hn(e[1]),isCharacterBox:Ht.isCharacterBox(e[1])}}});wt({type:"mclass",names:["\\stackrel","\\overset","\\underset"],props:{numArgs:2},handler(t,e){var{parser:r,funcName:n}=t,i=e[1],a=e[0],s;n!=="\\stackrel"?s=Bw(i):s="mrel";var o={type:"op",mode:i.mode,limits:!0,alwaysHandleSupSub:!0,parentIsSupSub:!1,symbol:!1,suppressBaseShift:n!=="\\stackrel",body:Hn(i)},l={type:"supsub",mode:a.mode,base:o,sup:n==="\\underset"?null:a,sub:n==="\\underset"?a:null};return{type:"mclass",mode:r.mode,mclass:s,body:[l],isCharacterBox:Ht.isCharacterBox(l)}},htmlBuilder:MQ,mathmlBuilder:IQ});wt({type:"pmb",names:["\\pmb"],props:{numArgs:1,allowedInText:!0},handler(t,e){var{parser:r}=t;return{type:"pmb",mode:r.mode,mclass:Bw(e[0]),body:Hn(e[0])}},htmlBuilder(t,e){var r=pi(t.body,e,!0),n=Be.makeSpan([t.mclass],r,e);return n.style.textShadow="0.02em 0.01em 0.04px",n},mathmlBuilder(t,e){var r=ps(t.body,e),n=new nt.MathNode("mstyle",r);return n.setAttribute("style","text-shadow: 0.02em 0.01em 0.04px"),n}});var m7e={">":"\\\\cdrightarrow","<":"\\\\cdleftarrow","=":"\\\\cdlongequal",A:"\\uparrow",V:"\\downarrow","|":"\\Vert",".":"no arrow"},nO=()=>({type:"styling",body:[],mode:"math",style:"display"}),iO=t=>t.type==="textord"&&t.text==="@",v7e=(t,e)=>(t.type==="mathord"||t.type==="atom")&&t.text===e;function y7e(t,e,r){var n=m7e[t];switch(n){case"\\\\cdrightarrow":case"\\\\cdleftarrow":return r.callFunction(n,[e[0]],[e[1]]);case"\\uparrow":case"\\downarrow":{var i=r.callFunction("\\\\cdleft",[e[0]],[]),a={type:"atom",text:n,mode:"math",family:"rel"},s=r.callFunction("\\Big",[a],[]),o=r.callFunction("\\\\cdright",[e[1]],[]),l={type:"ordgroup",mode:"math",body:[i,s,o]};return r.callFunction("\\\\cdparent",[l],[])}case"\\\\cdlongequal":return r.callFunction("\\\\cdlongequal",[],[]);case"\\Vert":{var u={type:"textord",text:"\\Vert",mode:"math"};return r.callFunction("\\Big",[u],[])}default:return{type:"textord",text:" ",mode:"math"}}}function x7e(t){var e=[];for(t.gullet.beginGroup(),t.gullet.macros.set("\\cr","\\\\\\relax"),t.gullet.beginGroup();;){e.push(t.parseExpression(!1,"\\\\")),t.gullet.endGroup(),t.gullet.beginGroup();var r=t.fetch().text;if(r==="&"||r==="\\\\")t.consume();else if(r==="\\end"){e[e.length-1].length===0&&e.pop();break}else throw new lt("Expected \\\\ or \\cr or \\end",t.nextToken)}for(var n=[],i=[n],a=0;a<e.length;a++){for(var s=e[a],o=nO(),l=0;l<s.length;l++)if(!iO(s[l]))o.body.push(s[l]);else{n.push(o),l+=1;var u=d9(s[l]).text,h=new Array(2);if(h[0]={type:"ordgroup",mode:"math",body:[]},h[1]={type:"ordgroup",mode:"math",body:[]},!("=|.".indexOf(u)>-1))if("<>AV".indexOf(u)>-1)for(var d=0;d<2;d++){for(var p=!0,f=l+1;f<s.length;f++){if(v7e(s[f],u)){p=!1,l=f;break}if(iO(s[f]))throw new lt("Missing a "+u+" character to complete a CD arrow.",s[f]);h[d].body.push(s[f])}if(p)throw new lt("Missing a "+u+" character to complete a CD arrow.",s[l])}else throw new lt('Expected one of "<>AV=|." after @',s[l]);var g=y7e(u,h,t),m={type:"styling",body:[g],mode:"math",style:"display"};n.push(m),o=nO()}a%2===0?n.push(o):n.shift(),n=[],i.push(n)}t.gullet.endGroup(),t.gullet.endGroup();var y=new Array(i[0].length).fill({type:"align",align:"c",pregap:.25,postgap:.25});return{type:"array",mode:"math",body:i,arraystretch:1,addJot:!0,rowGaps:[null],cols:y,colSeparationType:"CD",hLinesBeforeRow:new Array(i.length+1).fill([])}}wt({type:"cdlabel",names:["\\\\cdleft","\\\\cdright"],props:{numArgs:1},handler(t,e){var{parser:r,funcName:n}=t;return{type:"cdlabel",mode:r.mode,side:n.slice(4),label:e[0]}},htmlBuilder(t,e){var r=e.havingStyle(e.style.sup()),n=Be.wrapFragment(Er(t.label,r,e),e);return n.classes.push("cd-label-"+t.side),n.style.bottom=ft(.8-n.depth),n.height=0,n.depth=0,n},mathmlBuilder(t,e){var r=new nt.MathNode("mrow",[Kr(t.label,e)]);return r=new nt.MathNode("mpadded",[r]),r.setAttribute("width","0"),t.side==="left"&&r.setAttribute("lspace","-1width"),r.setAttribute("voffset","0.7em"),r=new nt.MathNode("mstyle",[r]),r.setAttribute("displaystyle","false"),r.setAttribute("scriptlevel","1"),r}});wt({type:"cdlabelparent",names:["\\\\cdparent"],props:{numArgs:1},handler(t,e){var{parser:r}=t;return{type:"cdlabelparent",mode:r.mode,fragment:e[0]}},htmlBuilder(t,e){var r=Be.wrapFragment(Er(t.fragment,e),e);return r.classes.push("cd-vert-arrow"),r},mathmlBuilder(t,e){return new nt.MathNode("mrow",[Kr(t.fragment,e)])}});wt({type:"textord",names:["\\@char"],props:{numArgs:1,allowedInText:!0},handler(t,e){for(var{parser:r}=t,n=lr(e[0],"ordgroup"),i=n.body,a="",s=0;s<i.length;s++){var o=lr(i[s],"textord");a+=o.text}var l=parseInt(a),u;if(isNaN(l))throw new lt("\\@char has non-numeric argument "+a);if(l<0||l>=1114111)throw new lt("\\@char with invalid code point "+a);return l<=65535?u=String.fromCharCode(l):(l-=65536,u=String.fromCharCode((l>>10)+55296,(l&1023)+56320)),{type:"textord",mode:r.mode,text:u}}});var DQ=(t,e)=>{var r=pi(t.body,e.withColor(t.color),!1);return Be.makeFragment(r)},OQ=(t,e)=>{var r=ps(t.body,e.withColor(t.color)),n=new nt.MathNode("mstyle",r);return n.setAttribute("mathcolor",t.color),n};wt({type:"color",names:["\\textcolor"],props:{numArgs:2,allowedInText:!0,argTypes:["color","original"]},handler(t,e){var{parser:r}=t,n=lr(e[0],"color-token").color,i=e[1];return{type:"color",mode:r.mode,color:n,body:Hn(i)}},htmlBuilder:DQ,mathmlBuilder:OQ});wt({type:"color",names:["\\color"],props:{numArgs:1,allowedInText:!0,argTypes:["color"]},handler(t,e){var{parser:r,breakOnTokenText:n}=t,i=lr(e[0],"color-token").color;r.gullet.macros.set("\\current@color",i);var a=r.parseExpression(!0,n);return{type:"color",mode:r.mode,color:i,body:a}},htmlBuilder:DQ,mathmlBuilder:OQ});wt({type:"cr",names:["\\\\"],props:{numArgs:0,numOptionalArgs:0,allowedInText:!0},handler(t,e,r){var{parser:n}=t,i=n.gullet.future().text==="["?n.parseSizeGroup(!0):null,a=!n.settings.displayMode||!n.settings.useStrictBehavior("newLineInDisplayMode","In LaTeX, \\\\ or \\newline does nothing in display mode");return{type:"cr",mode:n.mode,newLine:a,size:i&&lr(i,"size").value}},htmlBuilder(t,e){var r=Be.makeSpan(["mspace"],[],e);return t.newLine&&(r.classes.push("newline"),t.size&&(r.style.marginTop=ft(wn(t.size,e)))),r},mathmlBuilder(t,e){var r=new nt.MathNode("mspace");return t.newLine&&(r.setAttribute("linebreak","newline"),t.size&&r.setAttribute("height",ft(wn(t.size,e)))),r}});var HS={"\\global":"\\global","\\long":"\\\\globallong","\\\\globallong":"\\\\globallong","\\def":"\\gdef","\\gdef":"\\gdef","\\edef":"\\xdef","\\xdef":"\\xdef","\\let":"\\\\globallet","\\futurelet":"\\\\globalfuture"},PQ=t=>{var e=t.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(e))throw new lt("Expected a control sequence",t);return e},b7e=t=>{var e=t.gullet.popToken();return e.text==="="&&(e=t.gullet.popToken(),e.text===" "&&(e=t.gullet.popToken())),e},FQ=(t,e,r,n)=>{var i=t.gullet.macros.get(r.text);i==null&&(r.noexpand=!0,i={tokens:[r],numArgs:0,unexpandable:!t.gullet.isExpandable(r.text)}),t.gullet.macros.set(e,i,n)};wt({type:"internal",names:["\\global","\\long","\\\\globallong"],props:{numArgs:0,allowedInText:!0},handler(t){var{parser:e,funcName:r}=t;e.consumeSpaces();var n=e.fetch();if(HS[n.text])return(r==="\\global"||r==="\\\\globallong")&&(n.text=HS[n.text]),lr(e.parseFunction(),"internal");throw new lt("Invalid token after macro prefix",n)}});wt({type:"internal",names:["\\def","\\gdef","\\edef","\\xdef"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(t){var{parser:e,funcName:r}=t,n=e.gullet.popToken(),i=n.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(i))throw new lt("Expected a control sequence",n);for(var a=0,s,o=[[]];e.gullet.future().text!=="{";)if(n=e.gullet.popToken(),n.text==="#"){if(e.gullet.future().text==="{"){s=e.gullet.future(),o[a].push("{");break}if(n=e.gullet.popToken(),!/^[1-9]$/.test(n.text))throw new lt('Invalid argument number "'+n.text+'"');if(parseInt(n.text)!==a+1)throw new lt('Argument number "'+n.text+'" out of order');a++,o.push([])}else{if(n.text==="EOF")throw new lt("Expected a macro definition");o[a].push(n.text)}var{tokens:l}=e.gullet.consumeArg();return s&&l.unshift(s),(r==="\\edef"||r==="\\xdef")&&(l=e.gullet.expandTokens(l),l.reverse()),e.gullet.macros.set(i,{tokens:l,numArgs:a,delimiters:o},r===HS[r]),{type:"internal",mode:e.mode}}});wt({type:"internal",names:["\\let","\\\\globallet"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(t){var{parser:e,funcName:r}=t,n=PQ(e.gullet.popToken());e.gullet.consumeSpaces();var i=b7e(e);return FQ(e,n,i,r==="\\\\globallet"),{type:"internal",mode:e.mode}}});wt({type:"internal",names:["\\futurelet","\\\\globalfuture"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(t){var{parser:e,funcName:r}=t,n=PQ(e.gullet.popToken()),i=e.gullet.popToken(),a=e.gullet.popToken();return FQ(e,n,a,r==="\\\\globalfuture"),e.gullet.pushToken(a),e.gullet.pushToken(i),{type:"internal",mode:e.mode}}});var em=function(e,r,n){var i=rn.math[e]&&rn.math[e].replace,a=o9(i||e,r,n);if(!a)throw new Error("Unsupported symbol "+e+" and font size "+r+".");return a},p9=function(e,r,n,i){var a=n.havingBaseStyle(r),s=Be.makeSpan(i.concat(a.sizingClasses(n)),[e],n),o=a.sizeMultiplier/n.sizeMultiplier;return s.height*=o,s.depth*=o,s.maxFontSize=a.sizeMultiplier,s},BQ=function(e,r,n){var i=r.havingBaseStyle(n),a=(1-r.sizeMultiplier/i.sizeMultiplier)*r.fontMetrics().axisHeight;e.classes.push("delimcenter"),e.style.top=ft(a),e.height-=a,e.depth+=a},w7e=function(e,r,n,i,a,s){var o=Be.makeSymbol(e,"Main-Regular",a,i),l=p9(o,r,i,s);return n&&BQ(l,i,r),l},k7e=function(e,r,n,i){return Be.makeSymbol(e,"Size"+r+"-Regular",n,i)},$Q=function(e,r,n,i,a,s){var o=k7e(e,r,a,i),l=p9(Be.makeSpan(["delimsizing","size"+r],[o],i),qt.TEXT,i,s);return n&&BQ(l,i,qt.TEXT),l},MT=function(e,r,n){var i;r==="Size1-Regular"?i="delim-size1":i="delim-size4";var a=Be.makeSpan(["delimsizinginner",i],[Be.makeSpan([],[Be.makeSymbol(e,r,n)])]);return{type:"elem",elem:a}},IT=function(e,r,n){var i=vl["Size4-Regular"][e.charCodeAt(0)]?vl["Size4-Regular"][e.charCodeAt(0)][4]:vl["Size1-Regular"][e.charCodeAt(0)][4],a=new nh("inner",_Ee(e,Math.round(1e3*r))),s=new Oc([a],{width:ft(i),height:ft(r),style:"width:"+ft(i),viewBox:"0 0 "+1e3*i+" "+Math.round(1e3*r),preserveAspectRatio:"xMinYMin"}),o=Be.makeSvgSpan([],[s],n);return o.height=r,o.style.height=ft(r),o.style.width=ft(i),{type:"elem",elem:o}},WS=.008,gx={type:"kern",size:-1*WS},T7e=["|","\\lvert","\\rvert","\\vert"],E7e=["\\|","\\lVert","\\rVert","\\Vert"],zQ=function(e,r,n,i,a,s){var o,l,u,h,d="",p=0;o=u=h=e,l=null;var f="Size1-Regular";e==="\\uparrow"?u=h="⏐":e==="\\Uparrow"?u=h="‖":e==="\\downarrow"?o=u="⏐":e==="\\Downarrow"?o=u="‖":e==="\\updownarrow"?(o="\\uparrow",u="⏐",h="\\downarrow"):e==="\\Updownarrow"?(o="\\Uparrow",u="‖",h="\\Downarrow"):Ht.contains(T7e,e)?(u="∣",d="vert",p=333):Ht.contains(E7e,e)?(u="∥",d="doublevert",p=556):e==="["||e==="\\lbrack"?(o="⎡",u="⎢",h="⎣",f="Size4-Regular",d="lbrack",p=667):e==="]"||e==="\\rbrack"?(o="⎤",u="⎥",h="⎦",f="Size4-Regular",d="rbrack",p=667):e==="\\lfloor"||e==="⌊"?(u=o="⎢",h="⎣",f="Size4-Regular",d="lfloor",p=667):e==="\\lceil"||e==="⌈"?(o="⎡",u=h="⎢",f="Size4-Regular",d="lceil",p=667):e==="\\rfloor"||e==="⌋"?(u=o="⎥",h="⎦",f="Size4-Regular",d="rfloor",p=667):e==="\\rceil"||e==="⌉"?(o="⎤",u=h="⎥",f="Size4-Regular",d="rceil",p=667):e==="("||e==="\\lparen"?(o="⎛",u="⎜",h="⎝",f="Size4-Regular",d="lparen",p=875):e===")"||e==="\\rparen"?(o="⎞",u="⎟",h="⎠",f="Size4-Regular",d="rparen",p=875):e==="\\{"||e==="\\lbrace"?(o="⎧",l="⎨",h="⎩",u="⎪",f="Size4-Regular"):e==="\\}"||e==="\\rbrace"?(o="⎫",l="⎬",h="⎭",u="⎪",f="Size4-Regular"):e==="\\lgroup"||e==="⟮"?(o="⎧",h="⎩",u="⎪",f="Size4-Regular"):e==="\\rgroup"||e==="⟯"?(o="⎫",h="⎭",u="⎪",f="Size4-Regular"):e==="\\lmoustache"||e==="⎰"?(o="⎧",h="⎭",u="⎪",f="Size4-Regular"):(e==="\\rmoustache"||e==="⎱")&&(o="⎫",h="⎩",u="⎪",f="Size4-Regular");var g=em(o,f,a),m=g.height+g.depth,y=em(u,f,a),v=y.height+y.depth,x=em(h,f,a),w=x.height+x.depth,k=0,E=1;if(l!==null){var _=em(l,f,a);k=_.height+_.depth,E=2}var S=m+w+k,R=Math.max(0,Math.ceil((r-S)/(E*v))),C=S+R*E*v,L=i.fontMetrics().axisHeight;n&&(L*=i.sizeMultiplier);var A=C/2-L,N=[];if(d.length>0){var F=C-m-w,T=Math.round(C*1e3),D=LEe(d,Math.round(F*1e3)),M=new nh(d,D),O=(p/1e3).toFixed(3)+"em",I=(T/1e3).toFixed(3)+"em",P=new Oc([M],{width:O,height:I,viewBox:"0 0 "+p+" "+T}),B=Be.makeSvgSpan([],[P],i);B.height=T/1e3,B.style.width=O,B.style.height=I,N.push({type:"elem",elem:B})}else{if(N.push(MT(h,f,a)),N.push(gx),l===null){var $=C-m-w+2*WS;N.push(IT(u,$,i))}else{var V=(C-m-w-k)/2+2*WS;N.push(IT(u,V,i)),N.push(gx),N.push(MT(l,f,a)),N.push(gx),N.push(IT(u,V,i))}N.push(gx),N.push(MT(o,f,a))}var W=i.havingBaseStyle(qt.TEXT),K=Be.makeVList({positionType:"bottom",positionData:A,children:N},W);return p9(Be.makeSpan(["delimsizing","mult"],[K],W),qt.TEXT,i,s)},DT=80,OT=.08,PT=function(e,r,n,i,a){var s=AEe(e,i,n),o=new nh(e,s),l=new Oc([o],{width:"400em",height:ft(r),viewBox:"0 0 400000 "+n,preserveAspectRatio:"xMinYMin slice"});return Be.makeSvgSpan(["hide-tail"],[l],a)},S7e=function(e,r){var n=r.havingBaseSizing(),i=HQ("\\surd",e*n.sizeMultiplier,GQ,n),a=n.sizeMultiplier,s=Math.max(0,r.minRuleThickness-r.fontMetrics().sqrtRuleThickness),o,l=0,u=0,h=0,d;return i.type==="small"?(h=1e3+1e3*s+DT,e<1?a=1:e<1.4&&(a=.7),l=(1+s+OT)/a,u=(1+s)/a,o=PT("sqrtMain",l,h,s,r),o.style.minWidth="0.853em",d=.833/a):i.type==="large"?(h=(1e3+DT)*Fm[i.size],u=(Fm[i.size]+s)/a,l=(Fm[i.size]+s+OT)/a,o=PT("sqrtSize"+i.size,l,h,s,r),o.style.minWidth="1.02em",d=1/a):(l=e+s+OT,u=e+s,h=Math.floor(1e3*e+s)+DT,o=PT("sqrtTall",l,h,s,r),o.style.minWidth="0.742em",d=1.056),o.height=u,o.style.height=ft(l),{span:o,advanceWidth:d,ruleWidth:(r.fontMetrics().sqrtRuleThickness+s)*a}},UQ=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","⌊","⌋","\\lceil","\\rceil","⌈","⌉","\\surd"],C7e=["\\uparrow","\\downarrow","\\updownarrow","\\Uparrow","\\Downarrow","\\Updownarrow","|","\\|","\\vert","\\Vert","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","⟮","⟯","\\lmoustache","\\rmoustache","⎰","⎱"],VQ=["<",">","\\langle","\\rangle","/","\\backslash","\\lt","\\gt"],Fm=[0,1.2,1.8,2.4,3],A7e=function(e,r,n,i,a){if(e==="<"||e==="\\lt"||e==="⟨"?e="\\langle":(e===">"||e==="\\gt"||e==="⟩")&&(e="\\rangle"),Ht.contains(UQ,e)||Ht.contains(VQ,e))return $Q(e,r,!1,n,i,a);if(Ht.contains(C7e,e))return zQ(e,Fm[r],!1,n,i,a);throw new lt("Illegal delimiter: '"+e+"'")},_7e=[{type:"small",style:qt.SCRIPTSCRIPT},{type:"small",style:qt.SCRIPT},{type:"small",style:qt.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4}],L7e=[{type:"small",style:qt.SCRIPTSCRIPT},{type:"small",style:qt.SCRIPT},{type:"small",style:qt.TEXT},{type:"stack"}],GQ=[{type:"small",style:qt.SCRIPTSCRIPT},{type:"small",style:qt.SCRIPT},{type:"small",style:qt.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4},{type:"stack"}],N7e=function(e){if(e.type==="small")return"Main-Regular";if(e.type==="large")return"Size"+e.size+"-Regular";if(e.type==="stack")return"Size4-Regular";throw new Error("Add support for delim type '"+e.type+"' here.")},HQ=function(e,r,n,i){for(var a=Math.min(2,3-i.style.size),s=a;s<n.length&&n[s].type!=="stack";s++){var o=em(e,N7e(n[s]),"math"),l=o.height+o.depth;if(n[s].type==="small"){var u=i.havingBaseStyle(n[s].style);l*=u.sizeMultiplier}if(l>r)return n[s]}return n[n.length-1]},WQ=function(e,r,n,i,a,s){e==="<"||e==="\\lt"||e==="⟨"?e="\\langle":(e===">"||e==="\\gt"||e==="⟩")&&(e="\\rangle");var o;Ht.contains(VQ,e)?o=_7e:Ht.contains(UQ,e)?o=GQ:o=L7e;var l=HQ(e,r,o,i);return l.type==="small"?w7e(e,l.style,n,i,a,s):l.type==="large"?$Q(e,l.size,n,i,a,s):zQ(e,r,n,i,a,s)},R7e=function(e,r,n,i,a,s){var o=i.fontMetrics().axisHeight*i.sizeMultiplier,l=901,u=5/i.fontMetrics().ptPerEm,h=Math.max(r-o,n+o),d=Math.max(h/500*l,2*h-u);return WQ(e,d,!0,i,a,s)},Tc={sqrtImage:S7e,sizedDelim:A7e,sizeToMaxHeight:Fm,customSizedDelim:WQ,leftRightDelim:R7e},aO={"\\bigl":{mclass:"mopen",size:1},"\\Bigl":{mclass:"mopen",size:2},"\\biggl":{mclass:"mopen",size:3},"\\Biggl":{mclass:"mopen",size:4},"\\bigr":{mclass:"mclose",size:1},"\\Bigr":{mclass:"mclose",size:2},"\\biggr":{mclass:"mclose",size:3},"\\Biggr":{mclass:"mclose",size:4},"\\bigm":{mclass:"mrel",size:1},"\\Bigm":{mclass:"mrel",size:2},"\\biggm":{mclass:"mrel",size:3},"\\Biggm":{mclass:"mrel",size:4},"\\big":{mclass:"mord",size:1},"\\Big":{mclass:"mord",size:2},"\\bigg":{mclass:"mord",size:3},"\\Bigg":{mclass:"mord",size:4}},M7e=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","⌊","⌋","\\lceil","\\rceil","⌈","⌉","<",">","\\langle","⟨","\\rangle","⟩","\\lt","\\gt","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","⟮","⟯","\\lmoustache","\\rmoustache","⎰","⎱","/","\\backslash","|","\\vert","\\|","\\Vert","\\uparrow","\\Uparrow","\\downarrow","\\Downarrow","\\updownarrow","\\Updownarrow","."];function $w(t,e){var r=Fw(t);if(r&&Ht.contains(M7e,r.text))return r;throw r?new lt("Invalid delimiter '"+r.text+"' after '"+e.funcName+"'",t):new lt("Invalid delimiter type '"+t.type+"'",t)}wt({type:"delimsizing",names:["\\bigl","\\Bigl","\\biggl","\\Biggl","\\bigr","\\Bigr","\\biggr","\\Biggr","\\bigm","\\Bigm","\\biggm","\\Biggm","\\big","\\Big","\\bigg","\\Bigg"],props:{numArgs:1,argTypes:["primitive"]},handler:(t,e)=>{var r=$w(e[0],t);return{type:"delimsizing",mode:t.parser.mode,size:aO[t.funcName].size,mclass:aO[t.funcName].mclass,delim:r.text}},htmlBuilder:(t,e)=>t.delim==="."?Be.makeSpan([t.mclass]):Tc.sizedDelim(t.delim,t.size,e,t.mode,[t.mclass]),mathmlBuilder:t=>{var e=[];t.delim!=="."&&e.push(yo(t.delim,t.mode));var r=new nt.MathNode("mo",e);t.mclass==="mopen"||t.mclass==="mclose"?r.setAttribute("fence","true"):r.setAttribute("fence","false"),r.setAttribute("stretchy","true");var n=ft(Tc.sizeToMaxHeight[t.size]);return r.setAttribute("minsize",n),r.setAttribute("maxsize",n),r}});function sO(t){if(!t.body)throw new Error("Bug: The leftright ParseNode wasn't fully parsed.")}wt({type:"leftright-right",names:["\\right"],props:{numArgs:1,primitive:!0},handler:(t,e)=>{var r=t.parser.gullet.macros.get("\\current@color");if(r&&typeof r!="string")throw new lt("\\current@color set to non-string in \\right");return{type:"leftright-right",mode:t.parser.mode,delim:$w(e[0],t).text,color:r}}});wt({type:"leftright",names:["\\left"],props:{numArgs:1,primitive:!0},handler:(t,e)=>{var r=$w(e[0],t),n=t.parser;++n.leftrightDepth;var i=n.parseExpression(!1);--n.leftrightDepth,n.expect("\\right",!1);var a=lr(n.parseFunction(),"leftright-right");return{type:"leftright",mode:n.mode,body:i,left:r.text,right:a.delim,rightColor:a.color}},htmlBuilder:(t,e)=>{sO(t);for(var r=pi(t.body,e,!0,["mopen","mclose"]),n=0,i=0,a=!1,s=0;s<r.length;s++)r[s].isMiddle?a=!0:(n=Math.max(r[s].height,n),i=Math.max(r[s].depth,i));n*=e.sizeMultiplier,i*=e.sizeMultiplier;var o;if(t.left==="."?o=Nv(e,["mopen"]):o=Tc.leftRightDelim(t.left,n,i,e,t.mode,["mopen"]),r.unshift(o),a)for(var l=1;l<r.length;l++){var u=r[l],h=u.isMiddle;h&&(r[l]=Tc.leftRightDelim(h.delim,n,i,h.options,t.mode,[]))}var d;if(t.right===".")d=Nv(e,["mclose"]);else{var p=t.rightColor?e.withColor(t.rightColor):e;d=Tc.leftRightDelim(t.right,n,i,p,t.mode,["mclose"])}return r.push(d),Be.makeSpan(["minner"],r,e)},mathmlBuilder:(t,e)=>{sO(t);var r=ps(t.body,e);if(t.left!=="."){var n=new nt.MathNode("mo",[yo(t.left,t.mode)]);n.setAttribute("fence","true"),r.unshift(n)}if(t.right!=="."){var i=new nt.MathNode("mo",[yo(t.right,t.mode)]);i.setAttribute("fence","true"),t.rightColor&&i.setAttribute("mathcolor",t.rightColor),r.push(i)}return u9(r)}});wt({type:"middle",names:["\\middle"],props:{numArgs:1,primitive:!0},handler:(t,e)=>{var r=$w(e[0],t);if(!t.parser.leftrightDepth)throw new lt("\\middle without preceding \\left",r);return{type:"middle",mode:t.parser.mode,delim:r.text}},htmlBuilder:(t,e)=>{var r;if(t.delim===".")r=Nv(e,[]);else{r=Tc.sizedDelim(t.delim,1,e,t.mode,[]);var n={delim:t.delim,options:e};r.isMiddle=n}return r},mathmlBuilder:(t,e)=>{var r=t.delim==="\\vert"||t.delim==="|"?yo("|","text"):yo(t.delim,t.mode),n=new nt.MathNode("mo",[r]);return n.setAttribute("fence","true"),n.setAttribute("lspace","0.05em"),n.setAttribute("rspace","0.05em"),n}});var g9=(t,e)=>{var r=Be.wrapFragment(Er(t.body,e),e),n=t.label.slice(1),i=e.sizeMultiplier,a,s=0,o=Ht.isCharacterBox(t.body);if(n==="sout")a=Be.makeSpan(["stretchy","sout"]),a.height=e.fontMetrics().defaultRuleThickness/i,s=-.5*e.fontMetrics().xHeight;else if(n==="phase"){var l=wn({number:.6,unit:"pt"},e),u=wn({number:.35,unit:"ex"},e),h=e.havingBaseSizing();i=i/h.sizeMultiplier;var d=r.height+r.depth+l+u;r.style.paddingLeft=ft(d/2+l);var p=Math.floor(1e3*d*i),f=SEe(p),g=new Oc([new nh("phase",f)],{width:"400em",height:ft(p/1e3),viewBox:"0 0 400000 "+p,preserveAspectRatio:"xMinYMin slice"});a=Be.makeSvgSpan(["hide-tail"],[g],e),a.style.height=ft(d),s=r.depth+l+u}else{/cancel/.test(n)?o||r.classes.push("cancel-pad"):n==="angl"?r.classes.push("anglpad"):r.classes.push("boxpad");var m=0,y=0,v=0;/box/.test(n)?(v=Math.max(e.fontMetrics().fboxrule,e.minRuleThickness),m=e.fontMetrics().fboxsep+(n==="colorbox"?0:v),y=m):n==="angl"?(v=Math.max(e.fontMetrics().defaultRuleThickness,e.minRuleThickness),m=4*v,y=Math.max(0,.25-r.depth)):(m=o?.2:0,y=m),a=Fc.encloseSpan(r,n,m,y,e),/fbox|boxed|fcolorbox/.test(n)?(a.style.borderStyle="solid",a.style.borderWidth=ft(v)):n==="angl"&&v!==.049&&(a.style.borderTopWidth=ft(v),a.style.borderRightWidth=ft(v)),s=r.depth+y,t.backgroundColor&&(a.style.backgroundColor=t.backgroundColor,t.borderColor&&(a.style.borderColor=t.borderColor))}var x;if(t.backgroundColor)x=Be.makeVList({positionType:"individualShift",children:[{type:"elem",elem:a,shift:s},{type:"elem",elem:r,shift:0}]},e);else{var w=/cancel|phase/.test(n)?["svg-align"]:[];x=Be.makeVList({positionType:"individualShift",children:[{type:"elem",elem:r,shift:0},{type:"elem",elem:a,shift:s,wrapperClasses:w}]},e)}return/cancel/.test(n)&&(x.height=r.height,x.depth=r.depth),/cancel/.test(n)&&!o?Be.makeSpan(["mord","cancel-lap"],[x],e):Be.makeSpan(["mord"],[x],e)},m9=(t,e)=>{var r=0,n=new nt.MathNode(t.label.indexOf("colorbox")>-1?"mpadded":"menclose",[Kr(t.body,e)]);switch(t.label){case"\\cancel":n.setAttribute("notation","updiagonalstrike");break;case"\\bcancel":n.setAttribute("notation","downdiagonalstrike");break;case"\\phase":n.setAttribute("notation","phasorangle");break;case"\\sout":n.setAttribute("notation","horizontalstrike");break;case"\\fbox":n.setAttribute("notation","box");break;case"\\angl":n.setAttribute("notation","actuarial");break;case"\\fcolorbox":case"\\colorbox":if(r=e.fontMetrics().fboxsep*e.fontMetrics().ptPerEm,n.setAttribute("width","+"+2*r+"pt"),n.setAttribute("height","+"+2*r+"pt"),n.setAttribute("lspace",r+"pt"),n.setAttribute("voffset",r+"pt"),t.label==="\\fcolorbox"){var i=Math.max(e.fontMetrics().fboxrule,e.minRuleThickness);n.setAttribute("style","border: "+i+"em solid "+String(t.borderColor))}break;case"\\xcancel":n.setAttribute("notation","updiagonalstrike downdiagonalstrike");break}return t.backgroundColor&&n.setAttribute("mathbackground",t.backgroundColor),n};wt({type:"enclose",names:["\\colorbox"],props:{numArgs:2,allowedInText:!0,argTypes:["color","text"]},handler(t,e,r){var{parser:n,funcName:i}=t,a=lr(e[0],"color-token").color,s=e[1];return{type:"enclose",mode:n.mode,label:i,backgroundColor:a,body:s}},htmlBuilder:g9,mathmlBuilder:m9});wt({type:"enclose",names:["\\fcolorbox"],props:{numArgs:3,allowedInText:!0,argTypes:["color","color","text"]},handler(t,e,r){var{parser:n,funcName:i}=t,a=lr(e[0],"color-token").color,s=lr(e[1],"color-token").color,o=e[2];return{type:"enclose",mode:n.mode,label:i,backgroundColor:s,borderColor:a,body:o}},htmlBuilder:g9,mathmlBuilder:m9});wt({type:"enclose",names:["\\fbox"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!0},handler(t,e){var{parser:r}=t;return{type:"enclose",mode:r.mode,label:"\\fbox",body:e[0]}}});wt({type:"enclose",names:["\\cancel","\\bcancel","\\xcancel","\\sout","\\phase"],props:{numArgs:1},handler(t,e){var{parser:r,funcName:n}=t,i=e[0];return{type:"enclose",mode:r.mode,label:n,body:i}},htmlBuilder:g9,mathmlBuilder:m9});wt({type:"enclose",names:["\\angl"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!1},handler(t,e){var{parser:r}=t;return{type:"enclose",mode:r.mode,label:"\\angl",body:e[0]}}});var YQ={};function $l(t){for(var{type:e,names:r,props:n,handler:i,htmlBuilder:a,mathmlBuilder:s}=t,o={type:e,numArgs:n.numArgs||0,allowedInText:!1,numOptionalArgs:0,handler:i},l=0;l<r.length;++l)YQ[r[l]]=o;a&&(y3[e]=a),s&&(x3[e]=s)}var qQ={};function le(t,e){qQ[t]=e}function oO(t){var e=[];t.consumeSpaces();var r=t.fetch().text;for(r==="\\relax"&&(t.consume(),t.consumeSpaces(),r=t.fetch().text);r==="\\hline"||r==="\\hdashline";)t.consume(),e.push(r==="\\hdashline"),t.consumeSpaces(),r=t.fetch().text;return e}var zw=t=>{var e=t.parser.settings;if(!e.displayMode)throw new lt("{"+t.envName+"} can be used only in display mode.")};function v9(t){if(t.indexOf("ed")===-1)return t.indexOf("*")===-1}function kh(t,e,r){var{hskipBeforeAndAfter:n,addJot:i,cols:a,arraystretch:s,colSeparationType:o,autoTag:l,singleRow:u,emptySingleRow:h,maxNumCols:d,leqno:p}=e;if(t.gullet.beginGroup(),u||t.gullet.macros.set("\\cr","\\\\\\relax"),!s){var f=t.gullet.expandMacroAsText("\\arraystretch");if(f==null)s=1;else if(s=parseFloat(f),!s||s<0)throw new lt("Invalid \\arraystretch: "+f)}t.gullet.beginGroup();var g=[],m=[g],y=[],v=[],x=l!=null?[]:void 0;function w(){l&&t.gullet.macros.set("\\@eqnsw","1",!0)}function k(){x&&(t.gullet.macros.get("\\df@tag")?(x.push(t.subparse([new oo("\\df@tag")])),t.gullet.macros.set("\\df@tag",void 0,!0)):x.push(!!l&&t.gullet.macros.get("\\@eqnsw")==="1"))}for(w(),v.push(oO(t));;){var E=t.parseExpression(!1,u?"\\end":"\\\\");t.gullet.endGroup(),t.gullet.beginGroup(),E={type:"ordgroup",mode:t.mode,body:E},r&&(E={type:"styling",mode:t.mode,style:r,body:[E]}),g.push(E);var _=t.fetch().text;if(_==="&"){if(d&&g.length===d){if(u||o)throw new lt("Too many tab characters: &",t.nextToken);t.settings.reportNonstrict("textEnv","Too few columns specified in the {array} column argument.")}t.consume()}else if(_==="\\end"){k(),g.length===1&&E.type==="styling"&&E.body[0].body.length===0&&(m.length>1||!h)&&m.pop(),v.length<m.length+1&&v.push([]);break}else if(_==="\\\\"){t.consume();var S=void 0;t.gullet.future().text!==" "&&(S=t.parseSizeGroup(!0)),y.push(S?S.value:null),k(),v.push(oO(t)),g=[],m.push(g),w()}else throw new lt("Expected & or \\\\ or \\cr or \\end",t.nextToken)}return t.gullet.endGroup(),t.gullet.endGroup(),{type:"array",mode:t.mode,addJot:i,arraystretch:s,body:m,cols:a,rowGaps:y,hskipBeforeAndAfter:n,hLinesBeforeRow:v,colSeparationType:o,tags:x,leqno:p}}function y9(t){return t.slice(0,1)==="d"?"display":"text"}var zl=function(e,r){var n,i,a=e.body.length,s=e.hLinesBeforeRow,o=0,l=new Array(a),u=[],h=Math.max(r.fontMetrics().arrayRuleWidth,r.minRuleThickness),d=1/r.fontMetrics().ptPerEm,p=5*d;if(e.colSeparationType&&e.colSeparationType==="small"){var f=r.havingStyle(qt.SCRIPT).sizeMultiplier;p=.2778*(f/r.sizeMultiplier)}var g=e.colSeparationType==="CD"?wn({number:3,unit:"ex"},r):12*d,m=3*d,y=e.arraystretch*g,v=.7*y,x=.3*y,w=0;function k(Te){for(var be=0;be<Te.length;++be)be>0&&(w+=.25),u.push({pos:w,isDashed:Te[be]})}for(k(s[0]),n=0;n<e.body.length;++n){var E=e.body[n],_=v,S=x;o<E.length&&(o=E.length);var R=new Array(E.length);for(i=0;i<E.length;++i){var C=Er(E[i],r);S<C.depth&&(S=C.depth),_<C.height&&(_=C.height),R[i]=C}var L=e.rowGaps[n],A=0;L&&(A=wn(L,r),A>0&&(A+=x,S<A&&(S=A),A=0)),e.addJot&&(S+=m),R.height=_,R.depth=S,w+=_,R.pos=w,w+=S+A,l[n]=R,k(s[n+1])}var N=w/2+r.fontMetrics().axisHeight,F=e.cols||[],T=[],D,M,O=[];if(e.tags&&e.tags.some(Te=>Te))for(n=0;n<a;++n){var I=l[n],P=I.pos-N,B=e.tags[n],$=void 0;B===!0?$=Be.makeSpan(["eqn-num"],[],r):B===!1?$=Be.makeSpan([],[],r):$=Be.makeSpan([],pi(B,r,!0),r),$.depth=I.depth,$.height=I.height,O.push({type:"elem",elem:$,shift:P})}for(i=0,M=0;i<o||M<F.length;++i,++M){for(var V=F[M]||{},W=!0;V.type==="separator";){if(W||(D=Be.makeSpan(["arraycolsep"],[]),D.style.width=ft(r.fontMetrics().doubleRuleSep),T.push(D)),V.separator==="|"||V.separator===":"){var K=V.separator==="|"?"solid":"dashed",Z=Be.makeSpan(["vertical-separator"],[],r);Z.style.height=ft(w),Z.style.borderRightWidth=ft(h),Z.style.borderRightStyle=K,Z.style.margin="0 "+ft(-h/2);var H=w-N;H&&(Z.style.verticalAlign=ft(-H)),T.push(Z)}else throw new lt("Invalid separator type: "+V.separator);M++,V=F[M]||{},W=!1}if(!(i>=o)){var ee=void 0;(i>0||e.hskipBeforeAndAfter)&&(ee=Ht.deflt(V.pregap,p),ee!==0&&(D=Be.makeSpan(["arraycolsep"],[]),D.style.width=ft(ee),T.push(D)));var te=[];for(n=0;n<a;++n){var U=l[n],j=U[i];if(j){var Y=U.pos-N;j.depth=U.depth,j.height=U.height,te.push({type:"elem",elem:j,shift:Y})}}te=Be.makeVList({positionType:"individualShift",children:te},r),te=Be.makeSpan(["col-align-"+(V.align||"c")],[te]),T.push(te),(i<o-1||e.hskipBeforeAndAfter)&&(ee=Ht.deflt(V.postgap,p),ee!==0&&(D=Be.makeSpan(["arraycolsep"],[]),D.style.width=ft(ee),T.push(D)))}}if(l=Be.makeSpan(["mtable"],T),u.length>0){for(var Q=Be.makeLineSpan("hline",r,h),ae=Be.makeLineSpan("hdashline",r,h),ie=[{type:"elem",elem:l,shift:0}];u.length>0;){var J=u.pop(),_e=J.pos-N;J.isDashed?ie.push({type:"elem",elem:ae,shift:_e}):ie.push({type:"elem",elem:Q,shift:_e})}l=Be.makeVList({positionType:"individualShift",children:ie},r)}if(O.length===0)return Be.makeSpan(["mord"],[l],r);var ce=Be.makeVList({positionType:"individualShift",children:O},r);return ce=Be.makeSpan(["tag"],[ce],r),Be.makeFragment([l,ce])},I7e={c:"center ",l:"left ",r:"right "},Ul=function(e,r){for(var n=[],i=new nt.MathNode("mtd",[],["mtr-glue"]),a=new nt.MathNode("mtd",[],["mml-eqn-num"]),s=0;s<e.body.length;s++){for(var o=e.body[s],l=[],u=0;u<o.length;u++)l.push(new nt.MathNode("mtd",[Kr(o[u],r)]));e.tags&&e.tags[s]&&(l.unshift(i),l.push(i),e.leqno?l.unshift(a):l.push(a)),n.push(new nt.MathNode("mtr",l))}var h=new nt.MathNode("mtable",n),d=e.arraystretch===.5?.1:.16+e.arraystretch-1+(e.addJot?.09:0);h.setAttribute("rowspacing",ft(d));var p="",f="";if(e.cols&&e.cols.length>0){var g=e.cols,m="",y=!1,v=0,x=g.length;g[0].type==="separator"&&(p+="top ",v=1),g[g.length-1].type==="separator"&&(p+="bottom ",x-=1);for(var w=v;w<x;w++)g[w].type==="align"?(f+=I7e[g[w].align],y&&(m+="none "),y=!0):g[w].type==="separator"&&y&&(m+=g[w].separator==="|"?"solid ":"dashed ",y=!1);h.setAttribute("columnalign",f.trim()),/[sd]/.test(m)&&h.setAttribute("columnlines",m.trim())}if(e.colSeparationType==="align"){for(var k=e.cols||[],E="",_=1;_<k.length;_++)E+=_%2?"0em ":"1em ";h.setAttribute("columnspacing",E.trim())}else e.colSeparationType==="alignat"||e.colSeparationType==="gather"?h.setAttribute("columnspacing","0em"):e.colSeparationType==="small"?h.setAttribute("columnspacing","0.2778em"):e.colSeparationType==="CD"?h.setAttribute("columnspacing","0.5em"):h.setAttribute("columnspacing","1em");var S="",R=e.hLinesBeforeRow;p+=R[0].length>0?"left ":"",p+=R[R.length-1].length>0?"right ":"";for(var C=1;C<R.length-1;C++)S+=R[C].length===0?"none ":R[C][0]?"dashed ":"solid ";return/[sd]/.test(S)&&h.setAttribute("rowlines",S.trim()),p!==""&&(h=new nt.MathNode("menclose",[h]),h.setAttribute("notation",p.trim())),e.arraystretch&&e.arraystretch<1&&(h=new nt.MathNode("mstyle",[h]),h.setAttribute("scriptlevel","1")),h},jQ=function(e,r){e.envName.indexOf("ed")===-1&&zw(e);var n=[],i=e.envName.indexOf("at")>-1?"alignat":"align",a=e.envName==="split",s=kh(e.parser,{cols:n,addJot:!0,autoTag:a?void 0:v9(e.envName),emptySingleRow:!0,colSeparationType:i,maxNumCols:a?2:void 0,leqno:e.parser.settings.leqno},"display"),o,l=0,u={type:"ordgroup",mode:e.mode,body:[]};if(r[0]&&r[0].type==="ordgroup"){for(var h="",d=0;d<r[0].body.length;d++){var p=lr(r[0].body[d],"textord");h+=p.text}o=Number(h),l=o*2}var f=!l;s.body.forEach(function(v){for(var x=1;x<v.length;x+=2){var w=lr(v[x],"styling"),k=lr(w.body[0],"ordgroup");k.body.unshift(u)}if(f)l<v.length&&(l=v.length);else{var E=v.length/2;if(o<E)throw new lt("Too many math in a row: "+("expected "+o+", but got "+E),v[0])}});for(var g=0;g<l;++g){var m="r",y=0;g%2===1?m="l":g>0&&f&&(y=1),n[g]={type:"align",align:m,pregap:y,postgap:0}}return s.colSeparationType=f?"align":"alignat",s};$l({type:"array",names:["array","darray"],props:{numArgs:1},handler(t,e){var r=Fw(e[0]),n=r?[e[0]]:lr(e[0],"ordgroup").body,i=n.map(function(s){var o=d9(s),l=o.text;if("lcr".indexOf(l)!==-1)return{type:"align",align:l};if(l==="|")return{type:"separator",separator:"|"};if(l===":")return{type:"separator",separator:":"};throw new lt("Unknown column alignment: "+l,s)}),a={cols:i,hskipBeforeAndAfter:!0,maxNumCols:i.length};return kh(t.parser,a,y9(t.envName))},htmlBuilder:zl,mathmlBuilder:Ul});$l({type:"array",names:["matrix","pmatrix","bmatrix","Bmatrix","vmatrix","Vmatrix","matrix*","pmatrix*","bmatrix*","Bmatrix*","vmatrix*","Vmatrix*"],props:{numArgs:0},handler(t){var e={matrix:null,pmatrix:["(",")"],bmatrix:["[","]"],Bmatrix:["\\{","\\}"],vmatrix:["|","|"],Vmatrix:["\\Vert","\\Vert"]}[t.envName.replace("*","")],r="c",n={hskipBeforeAndAfter:!1,cols:[{type:"align",align:r}]};if(t.envName.charAt(t.envName.length-1)==="*"){var i=t.parser;if(i.consumeSpaces(),i.fetch().text==="["){if(i.consume(),i.consumeSpaces(),r=i.fetch().text,"lcr".indexOf(r)===-1)throw new lt("Expected l or c or r",i.nextToken);i.consume(),i.consumeSpaces(),i.expect("]"),i.consume(),n.cols=[{type:"align",align:r}]}}var a=kh(t.parser,n,y9(t.envName)),s=Math.max(0,...a.body.map(o=>o.length));return a.cols=new Array(s).fill({type:"align",align:r}),e?{type:"leftright",mode:t.mode,body:[a],left:e[0],right:e[1],rightColor:void 0}:a},htmlBuilder:zl,mathmlBuilder:Ul});$l({type:"array",names:["smallmatrix"],props:{numArgs:0},handler(t){var e={arraystretch:.5},r=kh(t.parser,e,"script");return r.colSeparationType="small",r},htmlBuilder:zl,mathmlBuilder:Ul});$l({type:"array",names:["subarray"],props:{numArgs:1},handler(t,e){var r=Fw(e[0]),n=r?[e[0]]:lr(e[0],"ordgroup").body,i=n.map(function(s){var o=d9(s),l=o.text;if("lc".indexOf(l)!==-1)return{type:"align",align:l};throw new lt("Unknown column alignment: "+l,s)});if(i.length>1)throw new lt("{subarray} can contain only one column");var a={cols:i,hskipBeforeAndAfter:!1,arraystretch:.5};if(a=kh(t.parser,a,"script"),a.body.length>0&&a.body[0].length>1)throw new lt("{subarray} can contain only one column");return a},htmlBuilder:zl,mathmlBuilder:Ul});$l({type:"array",names:["cases","dcases","rcases","drcases"],props:{numArgs:0},handler(t){var e={arraystretch:1.2,cols:[{type:"align",align:"l",pregap:0,postgap:1},{type:"align",align:"l",pregap:0,postgap:0}]},r=kh(t.parser,e,y9(t.envName));return{type:"leftright",mode:t.mode,body:[r],left:t.envName.indexOf("r")>-1?".":"\\{",right:t.envName.indexOf("r")>-1?"\\}":".",rightColor:void 0}},htmlBuilder:zl,mathmlBuilder:Ul});$l({type:"array",names:["align","align*","aligned","split"],props:{numArgs:0},handler:jQ,htmlBuilder:zl,mathmlBuilder:Ul});$l({type:"array",names:["gathered","gather","gather*"],props:{numArgs:0},handler(t){Ht.contains(["gather","gather*"],t.envName)&&zw(t);var e={cols:[{type:"align",align:"c"}],addJot:!0,colSeparationType:"gather",autoTag:v9(t.envName),emptySingleRow:!0,leqno:t.parser.settings.leqno};return kh(t.parser,e,"display")},htmlBuilder:zl,mathmlBuilder:Ul});$l({type:"array",names:["alignat","alignat*","alignedat"],props:{numArgs:1},handler:jQ,htmlBuilder:zl,mathmlBuilder:Ul});$l({type:"array",names:["equation","equation*"],props:{numArgs:0},handler(t){zw(t);var e={autoTag:v9(t.envName),emptySingleRow:!0,singleRow:!0,maxNumCols:1,leqno:t.parser.settings.leqno};return kh(t.parser,e,"display")},htmlBuilder:zl,mathmlBuilder:Ul});$l({type:"array",names:["CD"],props:{numArgs:0},handler(t){return zw(t),x7e(t.parser)},htmlBuilder:zl,mathmlBuilder:Ul});le("\\nonumber","\\gdef\\@eqnsw{0}");le("\\notag","\\nonumber");wt({type:"text",names:["\\hline","\\hdashline"],props:{numArgs:0,allowedInText:!0,allowedInMath:!0},handler(t,e){throw new lt(t.funcName+" valid only within array environment")}});var lO=YQ;wt({type:"environment",names:["\\begin","\\end"],props:{numArgs:1,argTypes:["text"]},handler(t,e){var{parser:r,funcName:n}=t,i=e[0];if(i.type!=="ordgroup")throw new lt("Invalid environment name",i);for(var a="",s=0;s<i.body.length;++s)a+=lr(i.body[s],"textord").text;if(n==="\\begin"){if(!lO.hasOwnProperty(a))throw new lt("No such environment: "+a,i);var o=lO[a],{args:l,optArgs:u}=r.parseArguments("\\begin{"+a+"}",o),h={mode:r.mode,envName:a,parser:r},d=o.handler(h,l,u);r.expect("\\end",!1);var p=r.nextToken,f=lr(r.parseFunction(),"environment");if(f.name!==a)throw new lt("Mismatch: \\begin{"+a+"} matched by \\end{"+f.name+"}",p);return d}return{type:"environment",mode:r.mode,name:a,nameGroup:i}}});var XQ=(t,e)=>{var r=t.font,n=e.withFont(r);return Er(t.body,n)},KQ=(t,e)=>{var r=t.font,n=e.withFont(r);return Kr(t.body,n)},cO={"\\Bbb":"\\mathbb","\\bold":"\\mathbf","\\frak":"\\mathfrak","\\bm":"\\boldsymbol"};wt({type:"font",names:["\\mathrm","\\mathit","\\mathbf","\\mathnormal","\\mathbb","\\mathcal","\\mathfrak","\\mathscr","\\mathsf","\\mathtt","\\Bbb","\\bold","\\frak"],props:{numArgs:1,allowedInArgument:!0},handler:(t,e)=>{var{parser:r,funcName:n}=t,i=b3(e[0]),a=n;return a in cO&&(a=cO[a]),{type:"font",mode:r.mode,font:a.slice(1),body:i}},htmlBuilder:XQ,mathmlBuilder:KQ});wt({type:"mclass",names:["\\boldsymbol","\\bm"],props:{numArgs:1},handler:(t,e)=>{var{parser:r}=t,n=e[0],i=Ht.isCharacterBox(n);return{type:"mclass",mode:r.mode,mclass:Bw(n),body:[{type:"font",mode:r.mode,font:"boldsymbol",body:n}],isCharacterBox:i}}});wt({type:"font",names:["\\rm","\\sf","\\tt","\\bf","\\it","\\cal"],props:{numArgs:0,allowedInText:!0},handler:(t,e)=>{var{parser:r,funcName:n,breakOnTokenText:i}=t,{mode:a}=r,s=r.parseExpression(!0,i),o="math"+n.slice(1);return{type:"font",mode:a,font:o,body:{type:"ordgroup",mode:r.mode,body:s}}},htmlBuilder:XQ,mathmlBuilder:KQ});var QQ=(t,e)=>{var r=e;return t==="display"?r=r.id>=qt.SCRIPT.id?r.text():qt.DISPLAY:t==="text"&&r.size===qt.DISPLAY.size?r=qt.TEXT:t==="script"?r=qt.SCRIPT:t==="scriptscript"&&(r=qt.SCRIPTSCRIPT),r},x9=(t,e)=>{var r=QQ(t.size,e.style),n=r.fracNum(),i=r.fracDen(),a;a=e.havingStyle(n);var s=Er(t.numer,a,e);if(t.continued){var o=8.5/e.fontMetrics().ptPerEm,l=3.5/e.fontMetrics().ptPerEm;s.height=s.height<o?o:s.height,s.depth=s.depth<l?l:s.depth}a=e.havingStyle(i);var u=Er(t.denom,a,e),h,d,p;t.hasBarLine?(t.barSize?(d=wn(t.barSize,e),h=Be.makeLineSpan("frac-line",e,d)):h=Be.makeLineSpan("frac-line",e),d=h.height,p=h.height):(h=null,d=0,p=e.fontMetrics().defaultRuleThickness);var f,g,m;r.size===qt.DISPLAY.size||t.size==="display"?(f=e.fontMetrics().num1,d>0?g=3*p:g=7*p,m=e.fontMetrics().denom1):(d>0?(f=e.fontMetrics().num2,g=p):(f=e.fontMetrics().num3,g=3*p),m=e.fontMetrics().denom2);var y;if(h){var x=e.fontMetrics().axisHeight;f-s.depth-(x+.5*d)<g&&(f+=g-(f-s.depth-(x+.5*d))),x-.5*d-(u.height-m)<g&&(m+=g-(x-.5*d-(u.height-m)));var w=-(x-.5*d);y=Be.makeVList({positionType:"individualShift",children:[{type:"elem",elem:u,shift:m},{type:"elem",elem:h,shift:w},{type:"elem",elem:s,shift:-f}]},e)}else{var v=f-s.depth-(u.height-m);v<g&&(f+=.5*(g-v),m+=.5*(g-v)),y=Be.makeVList({positionType:"individualShift",children:[{type:"elem",elem:u,shift:m},{type:"elem",elem:s,shift:-f}]},e)}a=e.havingStyle(r),y.height*=a.sizeMultiplier/e.sizeMultiplier,y.depth*=a.sizeMultiplier/e.sizeMultiplier;var k;r.size===qt.DISPLAY.size?k=e.fontMetrics().delim1:r.size===qt.SCRIPTSCRIPT.size?k=e.havingStyle(qt.SCRIPT).fontMetrics().delim2:k=e.fontMetrics().delim2;var E,_;return t.leftDelim==null?E=Nv(e,["mopen"]):E=Tc.customSizedDelim(t.leftDelim,k,!0,e.havingStyle(r),t.mode,["mopen"]),t.continued?_=Be.makeSpan([]):t.rightDelim==null?_=Nv(e,["mclose"]):_=Tc.customSizedDelim(t.rightDelim,k,!0,e.havingStyle(r),t.mode,["mclose"]),Be.makeSpan(["mord"].concat(a.sizingClasses(e)),[E,Be.makeSpan(["mfrac"],[y]),_],e)},b9=(t,e)=>{var r=new nt.MathNode("mfrac",[Kr(t.numer,e),Kr(t.denom,e)]);if(!t.hasBarLine)r.setAttribute("linethickness","0px");else if(t.barSize){var n=wn(t.barSize,e);r.setAttribute("linethickness",ft(n))}var i=QQ(t.size,e.style);if(i.size!==e.style.size){r=new nt.MathNode("mstyle",[r]);var a=i.size===qt.DISPLAY.size?"true":"false";r.setAttribute("displaystyle",a),r.setAttribute("scriptlevel","0")}if(t.leftDelim!=null||t.rightDelim!=null){var s=[];if(t.leftDelim!=null){var o=new nt.MathNode("mo",[new nt.TextNode(t.leftDelim.replace("\\",""))]);o.setAttribute("fence","true"),s.push(o)}if(s.push(r),t.rightDelim!=null){var l=new nt.MathNode("mo",[new nt.TextNode(t.rightDelim.replace("\\",""))]);l.setAttribute("fence","true"),s.push(l)}return u9(s)}return r};wt({type:"genfrac",names:["\\dfrac","\\frac","\\tfrac","\\dbinom","\\binom","\\tbinom","\\\\atopfrac","\\\\bracefrac","\\\\brackfrac"],props:{numArgs:2,allowedInArgument:!0},handler:(t,e)=>{var{parser:r,funcName:n}=t,i=e[0],a=e[1],s,o=null,l=null,u="auto";switch(n){case"\\dfrac":case"\\frac":case"\\tfrac":s=!0;break;case"\\\\atopfrac":s=!1;break;case"\\dbinom":case"\\binom":case"\\tbinom":s=!1,o="(",l=")";break;case"\\\\bracefrac":s=!1,o="\\{",l="\\}";break;case"\\\\brackfrac":s=!1,o="[",l="]";break;default:throw new Error("Unrecognized genfrac command")}switch(n){case"\\dfrac":case"\\dbinom":u="display";break;case"\\tfrac":case"\\tbinom":u="text";break}return{type:"genfrac",mode:r.mode,continued:!1,numer:i,denom:a,hasBarLine:s,leftDelim:o,rightDelim:l,size:u,barSize:null}},htmlBuilder:x9,mathmlBuilder:b9});wt({type:"genfrac",names:["\\cfrac"],props:{numArgs:2},handler:(t,e)=>{var{parser:r,funcName:n}=t,i=e[0],a=e[1];return{type:"genfrac",mode:r.mode,continued:!0,numer:i,denom:a,hasBarLine:!0,leftDelim:null,rightDelim:null,size:"display",barSize:null}}});wt({type:"infix",names:["\\over","\\choose","\\atop","\\brace","\\brack"],props:{numArgs:0,infix:!0},handler(t){var{parser:e,funcName:r,token:n}=t,i;switch(r){case"\\over":i="\\frac";break;case"\\choose":i="\\binom";break;case"\\atop":i="\\\\atopfrac";break;case"\\brace":i="\\\\bracefrac";break;case"\\brack":i="\\\\brackfrac";break;default:throw new Error("Unrecognized infix genfrac command")}return{type:"infix",mode:e.mode,replaceWith:i,token:n}}});var uO=["display","text","script","scriptscript"],hO=function(e){var r=null;return e.length>0&&(r=e,r=r==="."?null:r),r};wt({type:"genfrac",names:["\\genfrac"],props:{numArgs:6,allowedInArgument:!0,argTypes:["math","math","size","text","math","math"]},handler(t,e){var{parser:r}=t,n=e[4],i=e[5],a=b3(e[0]),s=a.type==="atom"&&a.family==="open"?hO(a.text):null,o=b3(e[1]),l=o.type==="atom"&&o.family==="close"?hO(o.text):null,u=lr(e[2],"size"),h,d=null;u.isBlank?h=!0:(d=u.value,h=d.number>0);var p="auto",f=e[3];if(f.type==="ordgroup"){if(f.body.length>0){var g=lr(f.body[0],"textord");p=uO[Number(g.text)]}}else f=lr(f,"textord"),p=uO[Number(f.text)];return{type:"genfrac",mode:r.mode,numer:n,denom:i,continued:!1,hasBarLine:h,barSize:d,leftDelim:s,rightDelim:l,size:p}},htmlBuilder:x9,mathmlBuilder:b9});wt({type:"infix",names:["\\above"],props:{numArgs:1,argTypes:["size"],infix:!0},handler(t,e){var{parser:r,funcName:n,token:i}=t;return{type:"infix",mode:r.mode,replaceWith:"\\\\abovefrac",size:lr(e[0],"size").value,token:i}}});wt({type:"genfrac",names:["\\\\abovefrac"],props:{numArgs:3,argTypes:["math","size","math"]},handler:(t,e)=>{var{parser:r,funcName:n}=t,i=e[0],a=uEe(lr(e[1],"infix").size),s=e[2],o=a.number>0;return{type:"genfrac",mode:r.mode,numer:i,denom:s,continued:!1,hasBarLine:o,barSize:a,leftDelim:null,rightDelim:null,size:"auto"}},htmlBuilder:x9,mathmlBuilder:b9});var ZQ=(t,e)=>{var r=e.style,n,i;t.type==="supsub"?(n=t.sup?Er(t.sup,e.havingStyle(r.sup()),e):Er(t.sub,e.havingStyle(r.sub()),e),i=lr(t.base,"horizBrace")):i=lr(t,"horizBrace");var a=Er(i.base,e.havingBaseStyle(qt.DISPLAY)),s=Fc.svgSpan(i,e),o;if(i.isOver?(o=Be.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:a},{type:"kern",size:.1},{type:"elem",elem:s}]},e),o.children[0].children[0].children[1].classes.push("svg-align")):(o=Be.makeVList({positionType:"bottom",positionData:a.depth+.1+s.height,children:[{type:"elem",elem:s},{type:"kern",size:.1},{type:"elem",elem:a}]},e),o.children[0].children[0].children[0].classes.push("svg-align")),n){var l=Be.makeSpan(["mord",i.isOver?"mover":"munder"],[o],e);i.isOver?o=Be.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:l},{type:"kern",size:.2},{type:"elem",elem:n}]},e):o=Be.makeVList({positionType:"bottom",positionData:l.depth+.2+n.height+n.depth,children:[{type:"elem",elem:n},{type:"kern",size:.2},{type:"elem",elem:l}]},e)}return Be.makeSpan(["mord",i.isOver?"mover":"munder"],[o],e)},D7e=(t,e)=>{var r=Fc.mathMLnode(t.label);return new nt.MathNode(t.isOver?"mover":"munder",[Kr(t.base,e),r])};wt({type:"horizBrace",names:["\\overbrace","\\underbrace"],props:{numArgs:1},handler(t,e){var{parser:r,funcName:n}=t;return{type:"horizBrace",mode:r.mode,label:n,isOver:/^\\over/.test(n),base:e[0]}},htmlBuilder:ZQ,mathmlBuilder:D7e});wt({type:"href",names:["\\href"],props:{numArgs:2,argTypes:["url","original"],allowedInText:!0},handler:(t,e)=>{var{parser:r}=t,n=e[1],i=lr(e[0],"url").url;return r.settings.isTrusted({command:"\\href",url:i})?{type:"href",mode:r.mode,href:i,body:Hn(n)}:r.formatUnsupportedCmd("\\href")},htmlBuilder:(t,e)=>{var r=pi(t.body,e,!1);return Be.makeAnchor(t.href,[],r,e)},mathmlBuilder:(t,e)=>{var r=ih(t.body,e);return r instanceof eo||(r=new eo("mrow",[r])),r.setAttribute("href",t.href),r}});wt({type:"href",names:["\\url"],props:{numArgs:1,argTypes:["url"],allowedInText:!0},handler:(t,e)=>{var{parser:r}=t,n=lr(e[0],"url").url;if(!r.settings.isTrusted({command:"\\url",url:n}))return r.formatUnsupportedCmd("\\url");for(var i=[],a=0;a<n.length;a++){var s=n[a];s==="~"&&(s="\\textasciitilde"),i.push({type:"textord",mode:"text",text:s})}var o={type:"text",mode:r.mode,font:"\\texttt",body:i};return{type:"href",mode:r.mode,href:n,body:Hn(o)}}});wt({type:"hbox",names:["\\hbox"],props:{numArgs:1,argTypes:["text"],allowedInText:!0,primitive:!0},handler(t,e){var{parser:r}=t;return{type:"hbox",mode:r.mode,body:Hn(e[0])}},htmlBuilder(t,e){var r=pi(t.body,e,!1);return Be.makeFragment(r)},mathmlBuilder(t,e){return new nt.MathNode("mrow",ps(t.body,e))}});wt({type:"html",names:["\\htmlClass","\\htmlId","\\htmlStyle","\\htmlData"],props:{numArgs:2,argTypes:["raw","original"],allowedInText:!0},handler:(t,e)=>{var{parser:r,funcName:n,token:i}=t,a=lr(e[0],"raw").string,s=e[1];r.settings.strict&&r.settings.reportNonstrict("htmlExtension","HTML extension is disabled on strict mode");var o,l={};switch(n){case"\\htmlClass":l.class=a,o={command:"\\htmlClass",class:a};break;case"\\htmlId":l.id=a,o={command:"\\htmlId",id:a};break;case"\\htmlStyle":l.style=a,o={command:"\\htmlStyle",style:a};break;case"\\htmlData":{for(var u=a.split(","),h=0;h<u.length;h++){var d=u[h].split("=");if(d.length!==2)throw new lt("Error parsing key-value for \\htmlData");l["data-"+d[0].trim()]=d[1].trim()}o={command:"\\htmlData",attributes:l};break}default:throw new Error("Unrecognized html command")}return r.settings.isTrusted(o)?{type:"html",mode:r.mode,attributes:l,body:Hn(s)}:r.formatUnsupportedCmd(n)},htmlBuilder:(t,e)=>{var r=pi(t.body,e,!1),n=["enclosing"];t.attributes.class&&n.push(...t.attributes.class.trim().split(/\s+/));var i=Be.makeSpan(n,r,e);for(var a in t.attributes)a!=="class"&&t.attributes.hasOwnProperty(a)&&i.setAttribute(a,t.attributes[a]);return i},mathmlBuilder:(t,e)=>ih(t.body,e)});wt({type:"htmlmathml",names:["\\html@mathml"],props:{numArgs:2,allowedInText:!0},handler:(t,e)=>{var{parser:r}=t;return{type:"htmlmathml",mode:r.mode,html:Hn(e[0]),mathml:Hn(e[1])}},htmlBuilder:(t,e)=>{var r=pi(t.html,e,!1);return Be.makeFragment(r)},mathmlBuilder:(t,e)=>ih(t.mathml,e)});var FT=function(e){if(/^[-+]? *(\d+(\.\d*)?|\.\d+)$/.test(e))return{number:+e,unit:"bp"};var r=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(e);if(!r)throw new lt("Invalid size: '"+e+"' in \\includegraphics");var n={number:+(r[1]+r[2]),unit:r[3]};if(!vQ(n))throw new lt("Invalid unit: '"+n.unit+"' in \\includegraphics.");return n};wt({type:"includegraphics",names:["\\includegraphics"],props:{numArgs:1,numOptionalArgs:1,argTypes:["raw","url"],allowedInText:!1},handler:(t,e,r)=>{var{parser:n}=t,i={number:0,unit:"em"},a={number:.9,unit:"em"},s={number:0,unit:"em"},o="";if(r[0])for(var l=lr(r[0],"raw").string,u=l.split(","),h=0;h<u.length;h++){var d=u[h].split("=");if(d.length===2){var p=d[1].trim();switch(d[0].trim()){case"alt":o=p;break;case"width":i=FT(p);break;case"height":a=FT(p);break;case"totalheight":s=FT(p);break;default:throw new lt("Invalid key: '"+d[0]+"' in \\includegraphics.")}}}var f=lr(e[0],"url").url;return o===""&&(o=f,o=o.replace(/^.*[\\/]/,""),o=o.substring(0,o.lastIndexOf("."))),n.settings.isTrusted({command:"\\includegraphics",url:f})?{type:"includegraphics",mode:n.mode,alt:o,width:i,height:a,totalheight:s,src:f}:n.formatUnsupportedCmd("\\includegraphics")},htmlBuilder:(t,e)=>{var r=wn(t.height,e),n=0;t.totalheight.number>0&&(n=wn(t.totalheight,e)-r);var i=0;t.width.number>0&&(i=wn(t.width,e));var a={height:ft(r+n)};i>0&&(a.width=ft(i)),n>0&&(a.verticalAlign=ft(-n));var s=new DEe(t.src,t.alt,a);return s.height=r,s.depth=n,s},mathmlBuilder:(t,e)=>{var r=new nt.MathNode("mglyph",[]);r.setAttribute("alt",t.alt);var n=wn(t.height,e),i=0;if(t.totalheight.number>0&&(i=wn(t.totalheight,e)-n,r.setAttribute("valign",ft(-i))),r.setAttribute("height",ft(n+i)),t.width.number>0){var a=wn(t.width,e);r.setAttribute("width",ft(a))}return r.setAttribute("src",t.src),r}});wt({type:"kern",names:["\\kern","\\mkern","\\hskip","\\mskip"],props:{numArgs:1,argTypes:["size"],primitive:!0,allowedInText:!0},handler(t,e){var{parser:r,funcName:n}=t,i=lr(e[0],"size");if(r.settings.strict){var a=n[1]==="m",s=i.value.unit==="mu";a?(s||r.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+n+" supports only mu units, "+("not "+i.value.unit+" units")),r.mode!=="math"&&r.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+n+" works only in math mode")):s&&r.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+n+" doesn't support mu units")}return{type:"kern",mode:r.mode,dimension:i.value}},htmlBuilder(t,e){return Be.makeGlue(t.dimension,e)},mathmlBuilder(t,e){var r=wn(t.dimension,e);return new nt.SpaceNode(r)}});wt({type:"lap",names:["\\mathllap","\\mathrlap","\\mathclap"],props:{numArgs:1,allowedInText:!0},handler:(t,e)=>{var{parser:r,funcName:n}=t,i=e[0];return{type:"lap",mode:r.mode,alignment:n.slice(5),body:i}},htmlBuilder:(t,e)=>{var r;t.alignment==="clap"?(r=Be.makeSpan([],[Er(t.body,e)]),r=Be.makeSpan(["inner"],[r],e)):r=Be.makeSpan(["inner"],[Er(t.body,e)]);var n=Be.makeSpan(["fix"],[]),i=Be.makeSpan([t.alignment],[r,n],e),a=Be.makeSpan(["strut"]);return a.style.height=ft(i.height+i.depth),i.depth&&(a.style.verticalAlign=ft(-i.depth)),i.children.unshift(a),i=Be.makeSpan(["thinbox"],[i],e),Be.makeSpan(["mord","vbox"],[i],e)},mathmlBuilder:(t,e)=>{var r=new nt.MathNode("mpadded",[Kr(t.body,e)]);if(t.alignment!=="rlap"){var n=t.alignment==="llap"?"-1":"-0.5";r.setAttribute("lspace",n+"width")}return r.setAttribute("width","0px"),r}});wt({type:"styling",names:["\\(","$"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(t,e){var{funcName:r,parser:n}=t,i=n.mode;n.switchMode("math");var a=r==="\\("?"\\)":"$",s=n.parseExpression(!1,a);return n.expect(a),n.switchMode(i),{type:"styling",mode:n.mode,style:"text",body:s}}});wt({type:"text",names:["\\)","\\]"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(t,e){throw new lt("Mismatched "+t.funcName)}});var dO=(t,e)=>{switch(e.style.size){case qt.DISPLAY.size:return t.display;case qt.TEXT.size:return t.text;case qt.SCRIPT.size:return t.script;case qt.SCRIPTSCRIPT.size:return t.scriptscript;default:return t.text}};wt({type:"mathchoice",names:["\\mathchoice"],props:{numArgs:4,primitive:!0},handler:(t,e)=>{var{parser:r}=t;return{type:"mathchoice",mode:r.mode,display:Hn(e[0]),text:Hn(e[1]),script:Hn(e[2]),scriptscript:Hn(e[3])}},htmlBuilder:(t,e)=>{var r=dO(t,e),n=pi(r,e,!1);return Be.makeFragment(n)},mathmlBuilder:(t,e)=>{var r=dO(t,e);return ih(r,e)}});var JQ=(t,e,r,n,i,a,s)=>{t=Be.makeSpan([],[t]);var o=r&&Ht.isCharacterBox(r),l,u;if(e){var h=Er(e,n.havingStyle(i.sup()),n);u={elem:h,kern:Math.max(n.fontMetrics().bigOpSpacing1,n.fontMetrics().bigOpSpacing3-h.depth)}}if(r){var d=Er(r,n.havingStyle(i.sub()),n);l={elem:d,kern:Math.max(n.fontMetrics().bigOpSpacing2,n.fontMetrics().bigOpSpacing4-d.height)}}var p;if(u&&l){var f=n.fontMetrics().bigOpSpacing5+l.elem.height+l.elem.depth+l.kern+t.depth+s;p=Be.makeVList({positionType:"bottom",positionData:f,children:[{type:"kern",size:n.fontMetrics().bigOpSpacing5},{type:"elem",elem:l.elem,marginLeft:ft(-a)},{type:"kern",size:l.kern},{type:"elem",elem:t},{type:"kern",size:u.kern},{type:"elem",elem:u.elem,marginLeft:ft(a)},{type:"kern",size:n.fontMetrics().bigOpSpacing5}]},n)}else if(l){var g=t.height-s;p=Be.makeVList({positionType:"top",positionData:g,children:[{type:"kern",size:n.fontMetrics().bigOpSpacing5},{type:"elem",elem:l.elem,marginLeft:ft(-a)},{type:"kern",size:l.kern},{type:"elem",elem:t}]},n)}else if(u){var m=t.depth+s;p=Be.makeVList({positionType:"bottom",positionData:m,children:[{type:"elem",elem:t},{type:"kern",size:u.kern},{type:"elem",elem:u.elem,marginLeft:ft(a)},{type:"kern",size:n.fontMetrics().bigOpSpacing5}]},n)}else return t;var y=[p];if(l&&a!==0&&!o){var v=Be.makeSpan(["mspace"],[],n);v.style.marginRight=ft(a),y.unshift(v)}return Be.makeSpan(["mop","op-limits"],y,n)},eZ=["\\smallint"],Og=(t,e)=>{var r,n,i=!1,a;t.type==="supsub"?(r=t.sup,n=t.sub,a=lr(t.base,"op"),i=!0):a=lr(t,"op");var s=e.style,o=!1;s.size===qt.DISPLAY.size&&a.symbol&&!Ht.contains(eZ,a.name)&&(o=!0);var l;if(a.symbol){var u=o?"Size2-Regular":"Size1-Regular",h="";if((a.name==="\\oiint"||a.name==="\\oiiint")&&(h=a.name.slice(1),a.name=h==="oiint"?"\\iint":"\\iiint"),l=Be.makeSymbol(a.name,u,"math",e,["mop","op-symbol",o?"large-op":"small-op"]),h.length>0){var d=l.italic,p=Be.staticSvg(h+"Size"+(o?"2":"1"),e);l=Be.makeVList({positionType:"individualShift",children:[{type:"elem",elem:l,shift:0},{type:"elem",elem:p,shift:o?.08:0}]},e),a.name="\\"+h,l.classes.unshift("mop"),l.italic=d}}else if(a.body){var f=pi(a.body,e,!0);f.length===1&&f[0]instanceof vo?(l=f[0],l.classes[0]="mop"):l=Be.makeSpan(["mop"],f,e)}else{for(var g=[],m=1;m<a.name.length;m++)g.push(Be.mathsym(a.name[m],a.mode,e));l=Be.makeSpan(["mop"],g,e)}var y=0,v=0;return(l instanceof vo||a.name==="\\oiint"||a.name==="\\oiiint")&&!a.suppressBaseShift&&(y=(l.height-l.depth)/2-e.fontMetrics().axisHeight,v=l.italic),i?JQ(l,r,n,e,s,v,y):(y&&(l.style.position="relative",l.style.top=ft(y)),l)},Fy=(t,e)=>{var r;if(t.symbol)r=new eo("mo",[yo(t.name,t.mode)]),Ht.contains(eZ,t.name)&&r.setAttribute("largeop","false");else if(t.body)r=new eo("mo",ps(t.body,e));else{r=new eo("mi",[new Pm(t.name.slice(1))]);var n=new eo("mo",[yo("⁡","text")]);t.parentIsSupSub?r=new eo("mrow",[r,n]):r=_Q([r,n])}return r},O7e={"∏":"\\prod","∐":"\\coprod","∑":"\\sum","⋀":"\\bigwedge","⋁":"\\bigvee","⋂":"\\bigcap","⋃":"\\bigcup","⨀":"\\bigodot","⨁":"\\bigoplus","⨂":"\\bigotimes","⨄":"\\biguplus","⨆":"\\bigsqcup"};wt({type:"op",names:["\\coprod","\\bigvee","\\bigwedge","\\biguplus","\\bigcap","\\bigcup","\\intop","\\prod","\\sum","\\bigotimes","\\bigoplus","\\bigodot","\\bigsqcup","\\smallint","∏","∐","∑","⋀","⋁","⋂","⋃","⨀","⨁","⨂","⨄","⨆"],props:{numArgs:0},handler:(t,e)=>{var{parser:r,funcName:n}=t,i=n;return i.length===1&&(i=O7e[i]),{type:"op",mode:r.mode,limits:!0,parentIsSupSub:!1,symbol:!0,name:i}},htmlBuilder:Og,mathmlBuilder:Fy});wt({type:"op",names:["\\mathop"],props:{numArgs:1,primitive:!0},handler:(t,e)=>{var{parser:r}=t,n=e[0];return{type:"op",mode:r.mode,limits:!1,parentIsSupSub:!1,symbol:!1,body:Hn(n)}},htmlBuilder:Og,mathmlBuilder:Fy});var P7e={"∫":"\\int","∬":"\\iint","∭":"\\iiint","∮":"\\oint","∯":"\\oiint","∰":"\\oiiint"};wt({type:"op",names:["\\arcsin","\\arccos","\\arctan","\\arctg","\\arcctg","\\arg","\\ch","\\cos","\\cosec","\\cosh","\\cot","\\cotg","\\coth","\\csc","\\ctg","\\cth","\\deg","\\dim","\\exp","\\hom","\\ker","\\lg","\\ln","\\log","\\sec","\\sin","\\sinh","\\sh","\\tan","\\tanh","\\tg","\\th"],props:{numArgs:0},handler(t){var{parser:e,funcName:r}=t;return{type:"op",mode:e.mode,limits:!1,parentIsSupSub:!1,symbol:!1,name:r}},htmlBuilder:Og,mathmlBuilder:Fy});wt({type:"op",names:["\\det","\\gcd","\\inf","\\lim","\\max","\\min","\\Pr","\\sup"],props:{numArgs:0},handler(t){var{parser:e,funcName:r}=t;return{type:"op",mode:e.mode,limits:!0,parentIsSupSub:!1,symbol:!1,name:r}},htmlBuilder:Og,mathmlBuilder:Fy});wt({type:"op",names:["\\int","\\iint","\\iiint","\\oint","\\oiint","\\oiiint","∫","∬","∭","∮","∯","∰"],props:{numArgs:0},handler(t){var{parser:e,funcName:r}=t,n=r;return n.length===1&&(n=P7e[n]),{type:"op",mode:e.mode,limits:!1,parentIsSupSub:!1,symbol:!0,name:n}},htmlBuilder:Og,mathmlBuilder:Fy});var tZ=(t,e)=>{var r,n,i=!1,a;t.type==="supsub"?(r=t.sup,n=t.sub,a=lr(t.base,"operatorname"),i=!0):a=lr(t,"operatorname");var s;if(a.body.length>0){for(var o=a.body.map(d=>{var p=d.text;return typeof p=="string"?{type:"textord",mode:d.mode,text:p}:d}),l=pi(o,e.withFont("mathrm"),!0),u=0;u<l.length;u++){var h=l[u];h instanceof vo&&(h.text=h.text.replace(/\u2212/,"-").replace(/\u2217/,"*"))}s=Be.makeSpan(["mop"],l,e)}else s=Be.makeSpan(["mop"],[],e);return i?JQ(s,r,n,e,e.style,0,0):s},F7e=(t,e)=>{for(var r=ps(t.body,e.withFont("mathrm")),n=!0,i=0;i<r.length;i++){var a=r[i];if(!(a instanceof nt.SpaceNode))if(a instanceof nt.MathNode)switch(a.type){case"mi":case"mn":case"ms":case"mspace":case"mtext":break;case"mo":{var s=a.children[0];a.children.length===1&&s instanceof nt.TextNode?s.text=s.text.replace(/\u2212/,"-").replace(/\u2217/,"*"):n=!1;break}default:n=!1}else n=!1}if(n){var o=r.map(h=>h.toText()).join("");r=[new nt.TextNode(o)]}var l=new nt.MathNode("mi",r);l.setAttribute("mathvariant","normal");var u=new nt.MathNode("mo",[yo("⁡","text")]);return t.parentIsSupSub?new nt.MathNode("mrow",[l,u]):nt.newDocumentFragment([l,u])};wt({type:"operatorname",names:["\\operatorname@","\\operatornamewithlimits"],props:{numArgs:1},handler:(t,e)=>{var{parser:r,funcName:n}=t,i=e[0];return{type:"operatorname",mode:r.mode,body:Hn(i),alwaysHandleSupSub:n==="\\operatornamewithlimits",limits:!1,parentIsSupSub:!1}},htmlBuilder:tZ,mathmlBuilder:F7e});le("\\operatorname","\\@ifstar\\operatornamewithlimits\\operatorname@");vf({type:"ordgroup",htmlBuilder(t,e){return t.semisimple?Be.makeFragment(pi(t.body,e,!1)):Be.makeSpan(["mord"],pi(t.body,e,!0),e)},mathmlBuilder(t,e){return ih(t.body,e,!0)}});wt({type:"overline",names:["\\overline"],props:{numArgs:1},handler(t,e){var{parser:r}=t,n=e[0];return{type:"overline",mode:r.mode,body:n}},htmlBuilder(t,e){var r=Er(t.body,e.havingCrampedStyle()),n=Be.makeLineSpan("overline-line",e),i=e.fontMetrics().defaultRuleThickness,a=Be.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:r},{type:"kern",size:3*i},{type:"elem",elem:n},{type:"kern",size:i}]},e);return Be.makeSpan(["mord","overline"],[a],e)},mathmlBuilder(t,e){var r=new nt.MathNode("mo",[new nt.TextNode("‾")]);r.setAttribute("stretchy","true");var n=new nt.MathNode("mover",[Kr(t.body,e),r]);return n.setAttribute("accent","true"),n}});wt({type:"phantom",names:["\\phantom"],props:{numArgs:1,allowedInText:!0},handler:(t,e)=>{var{parser:r}=t,n=e[0];return{type:"phantom",mode:r.mode,body:Hn(n)}},htmlBuilder:(t,e)=>{var r=pi(t.body,e.withPhantom(),!1);return Be.makeFragment(r)},mathmlBuilder:(t,e)=>{var r=ps(t.body,e);return new nt.MathNode("mphantom",r)}});wt({type:"hphantom",names:["\\hphantom"],props:{numArgs:1,allowedInText:!0},handler:(t,e)=>{var{parser:r}=t,n=e[0];return{type:"hphantom",mode:r.mode,body:n}},htmlBuilder:(t,e)=>{var r=Be.makeSpan([],[Er(t.body,e.withPhantom())]);if(r.height=0,r.depth=0,r.children)for(var n=0;n<r.children.length;n++)r.children[n].height=0,r.children[n].depth=0;return r=Be.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:r}]},e),Be.makeSpan(["mord"],[r],e)},mathmlBuilder:(t,e)=>{var r=ps(Hn(t.body),e),n=new nt.MathNode("mphantom",r),i=new nt.MathNode("mpadded",[n]);return i.setAttribute("height","0px"),i.setAttribute("depth","0px"),i}});wt({type:"vphantom",names:["\\vphantom"],props:{numArgs:1,allowedInText:!0},handler:(t,e)=>{var{parser:r}=t,n=e[0];return{type:"vphantom",mode:r.mode,body:n}},htmlBuilder:(t,e)=>{var r=Be.makeSpan(["inner"],[Er(t.body,e.withPhantom())]),n=Be.makeSpan(["fix"],[]);return Be.makeSpan(["mord","rlap"],[r,n],e)},mathmlBuilder:(t,e)=>{var r=ps(Hn(t.body),e),n=new nt.MathNode("mphantom",r),i=new nt.MathNode("mpadded",[n]);return i.setAttribute("width","0px"),i}});wt({type:"raisebox",names:["\\raisebox"],props:{numArgs:2,argTypes:["size","hbox"],allowedInText:!0},handler(t,e){var{parser:r}=t,n=lr(e[0],"size").value,i=e[1];return{type:"raisebox",mode:r.mode,dy:n,body:i}},htmlBuilder(t,e){var r=Er(t.body,e),n=wn(t.dy,e);return Be.makeVList({positionType:"shift",positionData:-n,children:[{type:"elem",elem:r}]},e)},mathmlBuilder(t,e){var r=new nt.MathNode("mpadded",[Kr(t.body,e)]),n=t.dy.number+t.dy.unit;return r.setAttribute("voffset",n),r}});wt({type:"internal",names:["\\relax"],props:{numArgs:0,allowedInText:!0},handler(t){var{parser:e}=t;return{type:"internal",mode:e.mode}}});wt({type:"rule",names:["\\rule"],props:{numArgs:2,numOptionalArgs:1,argTypes:["size","size","size"]},handler(t,e,r){var{parser:n}=t,i=r[0],a=lr(e[0],"size"),s=lr(e[1],"size");return{type:"rule",mode:n.mode,shift:i&&lr(i,"size").value,width:a.value,height:s.value}},htmlBuilder(t,e){var r=Be.makeSpan(["mord","rule"],[],e),n=wn(t.width,e),i=wn(t.height,e),a=t.shift?wn(t.shift,e):0;return r.style.borderRightWidth=ft(n),r.style.borderTopWidth=ft(i),r.style.bottom=ft(a),r.width=n,r.height=i+a,r.depth=-a,r.maxFontSize=i*1.125*e.sizeMultiplier,r},mathmlBuilder(t,e){var r=wn(t.width,e),n=wn(t.height,e),i=t.shift?wn(t.shift,e):0,a=e.color&&e.getColor()||"black",s=new nt.MathNode("mspace");s.setAttribute("mathbackground",a),s.setAttribute("width",ft(r)),s.setAttribute("height",ft(n));var o=new nt.MathNode("mpadded",[s]);return i>=0?o.setAttribute("height",ft(i)):(o.setAttribute("height",ft(i)),o.setAttribute("depth",ft(-i))),o.setAttribute("voffset",ft(i)),o}});function rZ(t,e,r){for(var n=pi(t,e,!1),i=e.sizeMultiplier/r.sizeMultiplier,a=0;a<n.length;a++){var s=n[a].classes.indexOf("sizing");s<0?Array.prototype.push.apply(n[a].classes,e.sizingClasses(r)):n[a].classes[s+1]==="reset-size"+e.size&&(n[a].classes[s+1]="reset-size"+r.size),n[a].height*=i,n[a].depth*=i}return Be.makeFragment(n)}var fO=["\\tiny","\\sixptsize","\\scriptsize","\\footnotesize","\\small","\\normalsize","\\large","\\Large","\\LARGE","\\huge","\\Huge"],B7e=(t,e)=>{var r=e.havingSize(t.size);return rZ(t.body,r,e)};wt({type:"sizing",names:fO,props:{numArgs:0,allowedInText:!0},handler:(t,e)=>{var{breakOnTokenText:r,funcName:n,parser:i}=t,a=i.parseExpression(!1,r);return{type:"sizing",mode:i.mode,size:fO.indexOf(n)+1,body:a}},htmlBuilder:B7e,mathmlBuilder:(t,e)=>{var r=e.havingSize(t.size),n=ps(t.body,r),i=new nt.MathNode("mstyle",n);return i.setAttribute("mathsize",ft(r.sizeMultiplier)),i}});wt({type:"smash",names:["\\smash"],props:{numArgs:1,numOptionalArgs:1,allowedInText:!0},handler:(t,e,r)=>{var{parser:n}=t,i=!1,a=!1,s=r[0]&&lr(r[0],"ordgroup");if(s)for(var o="",l=0;l<s.body.length;++l){var u=s.body[l];if(o=u.text,o==="t")i=!0;else if(o==="b")a=!0;else{i=!1,a=!1;break}}else i=!0,a=!0;var h=e[0];return{type:"smash",mode:n.mode,body:h,smashHeight:i,smashDepth:a}},htmlBuilder:(t,e)=>{var r=Be.makeSpan([],[Er(t.body,e)]);if(!t.smashHeight&&!t.smashDepth)return r;if(t.smashHeight&&(r.height=0,r.children))for(var n=0;n<r.children.length;n++)r.children[n].height=0;if(t.smashDepth&&(r.depth=0,r.children))for(var i=0;i<r.children.length;i++)r.children[i].depth=0;var a=Be.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:r}]},e);return Be.makeSpan(["mord"],[a],e)},mathmlBuilder:(t,e)=>{var r=new nt.MathNode("mpadded",[Kr(t.body,e)]);return t.smashHeight&&r.setAttribute("height","0px"),t.smashDepth&&r.setAttribute("depth","0px"),r}});wt({type:"sqrt",names:["\\sqrt"],props:{numArgs:1,numOptionalArgs:1},handler(t,e,r){var{parser:n}=t,i=r[0],a=e[0];return{type:"sqrt",mode:n.mode,body:a,index:i}},htmlBuilder(t,e){var r=Er(t.body,e.havingCrampedStyle());r.height===0&&(r.height=e.fontMetrics().xHeight),r=Be.wrapFragment(r,e);var n=e.fontMetrics(),i=n.defaultRuleThickness,a=i;e.style.id<qt.TEXT.id&&(a=e.fontMetrics().xHeight);var s=i+a/4,o=r.height+r.depth+s+i,{span:l,ruleWidth:u,advanceWidth:h}=Tc.sqrtImage(o,e),d=l.height-u;d>r.height+r.depth+s&&(s=(s+d-r.height-r.depth)/2);var p=l.height-r.height-s-u;r.style.paddingLeft=ft(h);var f=Be.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:r,wrapperClasses:["svg-align"]},{type:"kern",size:-(r.height+p)},{type:"elem",elem:l},{type:"kern",size:u}]},e);if(t.index){var g=e.havingStyle(qt.SCRIPTSCRIPT),m=Er(t.index,g,e),y=.6*(f.height-f.depth),v=Be.makeVList({positionType:"shift",positionData:-y,children:[{type:"elem",elem:m}]},e),x=Be.makeSpan(["root"],[v]);return Be.makeSpan(["mord","sqrt"],[x,f],e)}else return Be.makeSpan(["mord","sqrt"],[f],e)},mathmlBuilder(t,e){var{body:r,index:n}=t;return n?new nt.MathNode("mroot",[Kr(r,e),Kr(n,e)]):new nt.MathNode("msqrt",[Kr(r,e)])}});var pO={display:qt.DISPLAY,text:qt.TEXT,script:qt.SCRIPT,scriptscript:qt.SCRIPTSCRIPT};wt({type:"styling",names:["\\displaystyle","\\textstyle","\\scriptstyle","\\scriptscriptstyle"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(t,e){var{breakOnTokenText:r,funcName:n,parser:i}=t,a=i.parseExpression(!0,r),s=n.slice(1,n.length-5);return{type:"styling",mode:i.mode,style:s,body:a}},htmlBuilder(t,e){var r=pO[t.style],n=e.havingStyle(r).withFont("");return rZ(t.body,n,e)},mathmlBuilder(t,e){var r=pO[t.style],n=e.havingStyle(r),i=ps(t.body,n),a=new nt.MathNode("mstyle",i),s={display:["0","true"],text:["0","false"],script:["1","false"],scriptscript:["2","false"]},o=s[t.style];return a.setAttribute("scriptlevel",o[0]),a.setAttribute("displaystyle",o[1]),a}});var $7e=function(e,r){var n=e.base;if(n)if(n.type==="op"){var i=n.limits&&(r.style.size===qt.DISPLAY.size||n.alwaysHandleSupSub);return i?Og:null}else if(n.type==="operatorname"){var a=n.alwaysHandleSupSub&&(r.style.size===qt.DISPLAY.size||n.limits);return a?tZ:null}else{if(n.type==="accent")return Ht.isCharacterBox(n.base)?f9:null;if(n.type==="horizBrace"){var s=!e.sub;return s===n.isOver?ZQ:null}else return null}else return null};vf({type:"supsub",htmlBuilder(t,e){var r=$7e(t,e);if(r)return r(t,e);var{base:n,sup:i,sub:a}=t,s=Er(n,e),o,l,u=e.fontMetrics(),h=0,d=0,p=n&&Ht.isCharacterBox(n);if(i){var f=e.havingStyle(e.style.sup());o=Er(i,f,e),p||(h=s.height-f.fontMetrics().supDrop*f.sizeMultiplier/e.sizeMultiplier)}if(a){var g=e.havingStyle(e.style.sub());l=Er(a,g,e),p||(d=s.depth+g.fontMetrics().subDrop*g.sizeMultiplier/e.sizeMultiplier)}var m;e.style===qt.DISPLAY?m=u.sup1:e.style.cramped?m=u.sup3:m=u.sup2;var y=e.sizeMultiplier,v=ft(.5/u.ptPerEm/y),x=null;if(l){var w=t.base&&t.base.type==="op"&&t.base.name&&(t.base.name==="\\oiint"||t.base.name==="\\oiiint");(s instanceof vo||w)&&(x=ft(-s.italic))}var k;if(o&&l){h=Math.max(h,m,o.depth+.25*u.xHeight),d=Math.max(d,u.sub2);var E=u.defaultRuleThickness,_=4*E;if(h-o.depth-(l.height-d)<_){d=_-(h-o.depth)+l.height;var S=.8*u.xHeight-(h-o.depth);S>0&&(h+=S,d-=S)}var R=[{type:"elem",elem:l,shift:d,marginRight:v,marginLeft:x},{type:"elem",elem:o,shift:-h,marginRight:v}];k=Be.makeVList({positionType:"individualShift",children:R},e)}else if(l){d=Math.max(d,u.sub1,l.height-.8*u.xHeight);var C=[{type:"elem",elem:l,marginLeft:x,marginRight:v}];k=Be.makeVList({positionType:"shift",positionData:d,children:C},e)}else if(o)h=Math.max(h,m,o.depth+.25*u.xHeight),k=Be.makeVList({positionType:"shift",positionData:-h,children:[{type:"elem",elem:o,marginRight:v}]},e);else throw new Error("supsub must have either sup or sub.");var L=VS(s,"right")||"mord";return Be.makeSpan([L],[s,Be.makeSpan(["msupsub"],[k])],e)},mathmlBuilder(t,e){var r=!1,n,i;t.base&&t.base.type==="horizBrace"&&(i=!!t.sup,i===t.base.isOver&&(r=!0,n=t.base.isOver)),t.base&&(t.base.type==="op"||t.base.type==="operatorname")&&(t.base.parentIsSupSub=!0);var a=[Kr(t.base,e)];t.sub&&a.push(Kr(t.sub,e)),t.sup&&a.push(Kr(t.sup,e));var s;if(r)s=n?"mover":"munder";else if(t.sub)if(t.sup){var u=t.base;u&&u.type==="op"&&u.limits&&e.style===qt.DISPLAY||u&&u.type==="operatorname"&&u.alwaysHandleSupSub&&(e.style===qt.DISPLAY||u.limits)?s="munderover":s="msubsup"}else{var l=t.base;l&&l.type==="op"&&l.limits&&(e.style===qt.DISPLAY||l.alwaysHandleSupSub)||l&&l.type==="operatorname"&&l.alwaysHandleSupSub&&(l.limits||e.style===qt.DISPLAY)?s="munder":s="msub"}else{var o=t.base;o&&o.type==="op"&&o.limits&&(e.style===qt.DISPLAY||o.alwaysHandleSupSub)||o&&o.type==="operatorname"&&o.alwaysHandleSupSub&&(o.limits||e.style===qt.DISPLAY)?s="mover":s="msup"}return new nt.MathNode(s,a)}});vf({type:"atom",htmlBuilder(t,e){return Be.mathsym(t.text,t.mode,e,["m"+t.family])},mathmlBuilder(t,e){var r=new nt.MathNode("mo",[yo(t.text,t.mode)]);if(t.family==="bin"){var n=h9(t,e);n==="bold-italic"&&r.setAttribute("mathvariant",n)}else t.family==="punct"?r.setAttribute("separator","true"):(t.family==="open"||t.family==="close")&&r.setAttribute("stretchy","false");return r}});var nZ={mi:"italic",mn:"normal",mtext:"normal"};vf({type:"mathord",htmlBuilder(t,e){return Be.makeOrd(t,e,"mathord")},mathmlBuilder(t,e){var r=new nt.MathNode("mi",[yo(t.text,t.mode,e)]),n=h9(t,e)||"italic";return n!==nZ[r.type]&&r.setAttribute("mathvariant",n),r}});vf({type:"textord",htmlBuilder(t,e){return Be.makeOrd(t,e,"textord")},mathmlBuilder(t,e){var r=yo(t.text,t.mode,e),n=h9(t,e)||"normal",i;return t.mode==="text"?i=new nt.MathNode("mtext",[r]):/[0-9]/.test(t.text)?i=new nt.MathNode("mn",[r]):t.text==="\\prime"?i=new nt.MathNode("mo",[r]):i=new nt.MathNode("mi",[r]),n!==nZ[i.type]&&i.setAttribute("mathvariant",n),i}});var BT={"\\nobreak":"nobreak","\\allowbreak":"allowbreak"},$T={" ":{},"\\ ":{},"~":{className:"nobreak"},"\\space":{},"\\nobreakspace":{className:"nobreak"}};vf({type:"spacing",htmlBuilder(t,e){if($T.hasOwnProperty(t.text)){var r=$T[t.text].className||"";if(t.mode==="text"){var n=Be.makeOrd(t,e,"textord");return n.classes.push(r),n}else return Be.makeSpan(["mspace",r],[Be.mathsym(t.text,t.mode,e)],e)}else{if(BT.hasOwnProperty(t.text))return Be.makeSpan(["mspace",BT[t.text]],[],e);throw new lt('Unknown type of space "'+t.text+'"')}},mathmlBuilder(t,e){var r;if($T.hasOwnProperty(t.text))r=new nt.MathNode("mtext",[new nt.TextNode(" ")]);else{if(BT.hasOwnProperty(t.text))return new nt.MathNode("mspace");throw new lt('Unknown type of space "'+t.text+'"')}return r}});var gO=()=>{var t=new nt.MathNode("mtd",[]);return t.setAttribute("width","50%"),t};vf({type:"tag",mathmlBuilder(t,e){var r=new nt.MathNode("mtable",[new nt.MathNode("mtr",[gO(),new nt.MathNode("mtd",[ih(t.body,e)]),gO(),new nt.MathNode("mtd",[ih(t.tag,e)])])]);return r.setAttribute("width","100%"),r}});var mO={"\\text":void 0,"\\textrm":"textrm","\\textsf":"textsf","\\texttt":"texttt","\\textnormal":"textrm"},vO={"\\textbf":"textbf","\\textmd":"textmd"},z7e={"\\textit":"textit","\\textup":"textup"},yO=(t,e)=>{var r=t.font;if(r){if(mO[r])return e.withTextFontFamily(mO[r]);if(vO[r])return e.withTextFontWeight(vO[r]);if(r==="\\emph")return e.fontShape==="textit"?e.withTextFontShape("textup"):e.withTextFontShape("textit")}else return e;return e.withTextFontShape(z7e[r])};wt({type:"text",names:["\\text","\\textrm","\\textsf","\\texttt","\\textnormal","\\textbf","\\textmd","\\textit","\\textup","\\emph"],props:{numArgs:1,argTypes:["text"],allowedInArgument:!0,allowedInText:!0},handler(t,e){var{parser:r,funcName:n}=t,i=e[0];return{type:"text",mode:r.mode,body:Hn(i),font:n}},htmlBuilder(t,e){var r=yO(t,e),n=pi(t.body,r,!0);return Be.makeSpan(["mord","text"],n,r)},mathmlBuilder(t,e){var r=yO(t,e);return ih(t.body,r)}});wt({type:"underline",names:["\\underline"],props:{numArgs:1,allowedInText:!0},handler(t,e){var{parser:r}=t;return{type:"underline",mode:r.mode,body:e[0]}},htmlBuilder(t,e){var r=Er(t.body,e),n=Be.makeLineSpan("underline-line",e),i=e.fontMetrics().defaultRuleThickness,a=Be.makeVList({positionType:"top",positionData:r.height,children:[{type:"kern",size:i},{type:"elem",elem:n},{type:"kern",size:3*i},{type:"elem",elem:r}]},e);return Be.makeSpan(["mord","underline"],[a],e)},mathmlBuilder(t,e){var r=new nt.MathNode("mo",[new nt.TextNode("‾")]);r.setAttribute("stretchy","true");var n=new nt.MathNode("munder",[Kr(t.body,e),r]);return n.setAttribute("accentunder","true"),n}});wt({type:"vcenter",names:["\\vcenter"],props:{numArgs:1,argTypes:["original"],allowedInText:!1},handler(t,e){var{parser:r}=t;return{type:"vcenter",mode:r.mode,body:e[0]}},htmlBuilder(t,e){var r=Er(t.body,e),n=e.fontMetrics().axisHeight,i=.5*(r.height-n-(r.depth+n));return Be.makeVList({positionType:"shift",positionData:i,children:[{type:"elem",elem:r}]},e)},mathmlBuilder(t,e){return new nt.MathNode("mpadded",[Kr(t.body,e)],["vcenter"])}});wt({type:"verb",names:["\\verb"],props:{numArgs:0,allowedInText:!0},handler(t,e,r){throw new lt("\\verb ended by end of line instead of matching delimiter")},htmlBuilder(t,e){for(var r=xO(t),n=[],i=e.havingStyle(e.style.text()),a=0;a<r.length;a++){var s=r[a];s==="~"&&(s="\\textasciitilde"),n.push(Be.makeSymbol(s,"Typewriter-Regular",t.mode,i,["mord","texttt"]))}return Be.makeSpan(["mord","text"].concat(i.sizingClasses(e)),Be.tryCombineChars(n),i)},mathmlBuilder(t,e){var r=new nt.TextNode(xO(t)),n=new nt.MathNode("mtext",[r]);return n.setAttribute("mathvariant","monospace"),n}});var xO=t=>t.body.replace(/ /g,t.star?"␣":" "),_u=CQ,iZ=`[ \r
	]`,U7e="\\\\[a-zA-Z@]+",V7e="\\\\[^\uD800-\uDFFF]",G7e="("+U7e+")"+iZ+"*",H7e=`\\\\(
|[ \r	]+
?)[ \r	]*`,YS="[̀-ͯ]",W7e=new RegExp(YS+"+$"),Y7e="("+iZ+"+)|"+(H7e+"|")+"([!-\\[\\]-‧‪-퟿豈-￿]"+(YS+"*")+"|[\uD800-\uDBFF][\uDC00-\uDFFF]"+(YS+"*")+"|\\\\verb\\*([^]).*?\\4|\\\\verb([^*a-zA-Z]).*?\\5"+("|"+G7e)+("|"+V7e+")");let bO=class{constructor(e,r){this.input=void 0,this.settings=void 0,this.tokenRegex=void 0,this.catcodes=void 0,this.input=e,this.settings=r,this.tokenRegex=new RegExp(Y7e,"g"),this.catcodes={"%":14,"~":13}}setCatcode(e,r){this.catcodes[e]=r}lex(){var e=this.input,r=this.tokenRegex.lastIndex;if(r===e.length)return new oo("EOF",new ks(this,r,r));var n=this.tokenRegex.exec(e);if(n===null||n.index!==r)throw new lt("Unexpected character: '"+e[r]+"'",new oo(e[r],new ks(this,r,r+1)));var i=n[6]||n[3]||(n[2]?"\\ ":" ");if(this.catcodes[i]===14){var a=e.indexOf(`
`,this.tokenRegex.lastIndex);return a===-1?(this.tokenRegex.lastIndex=e.length,this.settings.reportNonstrict("commentAtEnd","% comment has no terminating newline; LaTeX would fail because of commenting the end of math mode (e.g. $)")):this.tokenRegex.lastIndex=a+1,this.lex()}return new oo(i,new ks(this,r,this.tokenRegex.lastIndex))}};class q7e{constructor(e,r){e===void 0&&(e={}),r===void 0&&(r={}),this.current=void 0,this.builtins=void 0,this.undefStack=void 0,this.current=r,this.builtins=e,this.undefStack=[]}beginGroup(){this.undefStack.push({})}endGroup(){if(this.undefStack.length===0)throw new lt("Unbalanced namespace destruction: attempt to pop global namespace; please report this as a bug");var e=this.undefStack.pop();for(var r in e)e.hasOwnProperty(r)&&(e[r]==null?delete this.current[r]:this.current[r]=e[r])}endGroups(){for(;this.undefStack.length>0;)this.endGroup()}has(e){return this.current.hasOwnProperty(e)||this.builtins.hasOwnProperty(e)}get(e){return this.current.hasOwnProperty(e)?this.current[e]:this.builtins[e]}set(e,r,n){if(n===void 0&&(n=!1),n){for(var i=0;i<this.undefStack.length;i++)delete this.undefStack[i][e];this.undefStack.length>0&&(this.undefStack[this.undefStack.length-1][e]=r)}else{var a=this.undefStack[this.undefStack.length-1];a&&!a.hasOwnProperty(e)&&(a[e]=this.current[e])}r==null?delete this.current[e]:this.current[e]=r}}var j7e=qQ;le("\\noexpand",function(t){var e=t.popToken();return t.isExpandable(e.text)&&(e.noexpand=!0,e.treatAsRelax=!0),{tokens:[e],numArgs:0}});le("\\expandafter",function(t){var e=t.popToken();return t.expandOnce(!0),{tokens:[e],numArgs:0}});le("\\@firstoftwo",function(t){var e=t.consumeArgs(2);return{tokens:e[0],numArgs:0}});le("\\@secondoftwo",function(t){var e=t.consumeArgs(2);return{tokens:e[1],numArgs:0}});le("\\@ifnextchar",function(t){var e=t.consumeArgs(3);t.consumeSpaces();var r=t.future();return e[0].length===1&&e[0][0].text===r.text?{tokens:e[1],numArgs:0}:{tokens:e[2],numArgs:0}});le("\\@ifstar","\\@ifnextchar *{\\@firstoftwo{#1}}");le("\\TextOrMath",function(t){var e=t.consumeArgs(2);return t.mode==="text"?{tokens:e[0],numArgs:0}:{tokens:e[1],numArgs:0}});var wO={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15};le("\\char",function(t){var e=t.popToken(),r,n="";if(e.text==="'")r=8,e=t.popToken();else if(e.text==='"')r=16,e=t.popToken();else if(e.text==="`")if(e=t.popToken(),e.text[0]==="\\")n=e.text.charCodeAt(1);else{if(e.text==="EOF")throw new lt("\\char` missing argument");n=e.text.charCodeAt(0)}else r=10;if(r){if(n=wO[e.text],n==null||n>=r)throw new lt("Invalid base-"+r+" digit "+e.text);for(var i;(i=wO[t.future().text])!=null&&i<r;)n*=r,n+=i,t.popToken()}return"\\@char{"+n+"}"});var w9=(t,e,r)=>{var n=t.consumeArg().tokens;if(n.length!==1)throw new lt("\\newcommand's first argument must be a macro name");var i=n[0].text,a=t.isDefined(i);if(a&&!e)throw new lt("\\newcommand{"+i+"} attempting to redefine "+(i+"; use \\renewcommand"));if(!a&&!r)throw new lt("\\renewcommand{"+i+"} when command "+i+" does not yet exist; use \\newcommand");var s=0;if(n=t.consumeArg().tokens,n.length===1&&n[0].text==="["){for(var o="",l=t.expandNextToken();l.text!=="]"&&l.text!=="EOF";)o+=l.text,l=t.expandNextToken();if(!o.match(/^\s*[0-9]+\s*$/))throw new lt("Invalid number of arguments: "+o);s=parseInt(o),n=t.consumeArg().tokens}return t.macros.set(i,{tokens:n,numArgs:s}),""};le("\\newcommand",t=>w9(t,!1,!0));le("\\renewcommand",t=>w9(t,!0,!1));le("\\providecommand",t=>w9(t,!0,!0));le("\\message",t=>{var e=t.consumeArgs(1)[0];return console.log(e.reverse().map(r=>r.text).join("")),""});le("\\errmessage",t=>{var e=t.consumeArgs(1)[0];return console.error(e.reverse().map(r=>r.text).join("")),""});le("\\show",t=>{var e=t.popToken(),r=e.text;return console.log(e,t.macros.get(r),_u[r],rn.math[r],rn.text[r]),""});le("\\bgroup","{");le("\\egroup","}");le("~","\\nobreakspace");le("\\lq","`");le("\\rq","'");le("\\aa","\\r a");le("\\AA","\\r A");le("\\textcopyright","\\html@mathml{\\textcircled{c}}{\\char`©}");le("\\copyright","\\TextOrMath{\\textcopyright}{\\text{\\textcopyright}}");le("\\textregistered","\\html@mathml{\\textcircled{\\scriptsize R}}{\\char`®}");le("ℬ","\\mathscr{B}");le("ℰ","\\mathscr{E}");le("ℱ","\\mathscr{F}");le("ℋ","\\mathscr{H}");le("ℐ","\\mathscr{I}");le("ℒ","\\mathscr{L}");le("ℳ","\\mathscr{M}");le("ℛ","\\mathscr{R}");le("ℭ","\\mathfrak{C}");le("ℌ","\\mathfrak{H}");le("ℨ","\\mathfrak{Z}");le("\\Bbbk","\\Bbb{k}");le("·","\\cdotp");le("\\llap","\\mathllap{\\textrm{#1}}");le("\\rlap","\\mathrlap{\\textrm{#1}}");le("\\clap","\\mathclap{\\textrm{#1}}");le("\\mathstrut","\\vphantom{(}");le("\\underbar","\\underline{\\text{#1}}");le("\\not",'\\html@mathml{\\mathrel{\\mathrlap\\@not}}{\\char"338}');le("\\neq","\\html@mathml{\\mathrel{\\not=}}{\\mathrel{\\char`≠}}");le("\\ne","\\neq");le("≠","\\neq");le("\\notin","\\html@mathml{\\mathrel{{\\in}\\mathllap{/\\mskip1mu}}}{\\mathrel{\\char`∉}}");le("∉","\\notin");le("≘","\\html@mathml{\\mathrel{=\\kern{-1em}\\raisebox{0.4em}{$\\scriptsize\\frown$}}}{\\mathrel{\\char`≘}}");le("≙","\\html@mathml{\\stackrel{\\tiny\\wedge}{=}}{\\mathrel{\\char`≘}}");le("≚","\\html@mathml{\\stackrel{\\tiny\\vee}{=}}{\\mathrel{\\char`≚}}");le("≛","\\html@mathml{\\stackrel{\\scriptsize\\star}{=}}{\\mathrel{\\char`≛}}");le("≝","\\html@mathml{\\stackrel{\\tiny\\mathrm{def}}{=}}{\\mathrel{\\char`≝}}");le("≞","\\html@mathml{\\stackrel{\\tiny\\mathrm{m}}{=}}{\\mathrel{\\char`≞}}");le("≟","\\html@mathml{\\stackrel{\\tiny?}{=}}{\\mathrel{\\char`≟}}");le("⟂","\\perp");le("‼","\\mathclose{!\\mkern-0.8mu!}");le("∌","\\notni");le("⌜","\\ulcorner");le("⌝","\\urcorner");le("⌞","\\llcorner");le("⌟","\\lrcorner");le("©","\\copyright");le("®","\\textregistered");le("️","\\textregistered");le("\\ulcorner",'\\html@mathml{\\@ulcorner}{\\mathop{\\char"231c}}');le("\\urcorner",'\\html@mathml{\\@urcorner}{\\mathop{\\char"231d}}');le("\\llcorner",'\\html@mathml{\\@llcorner}{\\mathop{\\char"231e}}');le("\\lrcorner",'\\html@mathml{\\@lrcorner}{\\mathop{\\char"231f}}');le("\\vdots","\\mathord{\\varvdots\\rule{0pt}{15pt}}");le("⋮","\\vdots");le("\\varGamma","\\mathit{\\Gamma}");le("\\varDelta","\\mathit{\\Delta}");le("\\varTheta","\\mathit{\\Theta}");le("\\varLambda","\\mathit{\\Lambda}");le("\\varXi","\\mathit{\\Xi}");le("\\varPi","\\mathit{\\Pi}");le("\\varSigma","\\mathit{\\Sigma}");le("\\varUpsilon","\\mathit{\\Upsilon}");le("\\varPhi","\\mathit{\\Phi}");le("\\varPsi","\\mathit{\\Psi}");le("\\varOmega","\\mathit{\\Omega}");le("\\substack","\\begin{subarray}{c}#1\\end{subarray}");le("\\colon","\\nobreak\\mskip2mu\\mathpunct{}\\mathchoice{\\mkern-3mu}{\\mkern-3mu}{}{}{:}\\mskip6mu\\relax");le("\\boxed","\\fbox{$\\displaystyle{#1}$}");le("\\iff","\\DOTSB\\;\\Longleftrightarrow\\;");le("\\implies","\\DOTSB\\;\\Longrightarrow\\;");le("\\impliedby","\\DOTSB\\;\\Longleftarrow\\;");var kO={",":"\\dotsc","\\not":"\\dotsb","+":"\\dotsb","=":"\\dotsb","<":"\\dotsb",">":"\\dotsb","-":"\\dotsb","*":"\\dotsb",":":"\\dotsb","\\DOTSB":"\\dotsb","\\coprod":"\\dotsb","\\bigvee":"\\dotsb","\\bigwedge":"\\dotsb","\\biguplus":"\\dotsb","\\bigcap":"\\dotsb","\\bigcup":"\\dotsb","\\prod":"\\dotsb","\\sum":"\\dotsb","\\bigotimes":"\\dotsb","\\bigoplus":"\\dotsb","\\bigodot":"\\dotsb","\\bigsqcup":"\\dotsb","\\And":"\\dotsb","\\longrightarrow":"\\dotsb","\\Longrightarrow":"\\dotsb","\\longleftarrow":"\\dotsb","\\Longleftarrow":"\\dotsb","\\longleftrightarrow":"\\dotsb","\\Longleftrightarrow":"\\dotsb","\\mapsto":"\\dotsb","\\longmapsto":"\\dotsb","\\hookrightarrow":"\\dotsb","\\doteq":"\\dotsb","\\mathbin":"\\dotsb","\\mathrel":"\\dotsb","\\relbar":"\\dotsb","\\Relbar":"\\dotsb","\\xrightarrow":"\\dotsb","\\xleftarrow":"\\dotsb","\\DOTSI":"\\dotsi","\\int":"\\dotsi","\\oint":"\\dotsi","\\iint":"\\dotsi","\\iiint":"\\dotsi","\\iiiint":"\\dotsi","\\idotsint":"\\dotsi","\\DOTSX":"\\dotsx"};le("\\dots",function(t){var e="\\dotso",r=t.expandAfterFuture().text;return r in kO?e=kO[r]:(r.slice(0,4)==="\\not"||r in rn.math&&Ht.contains(["bin","rel"],rn.math[r].group))&&(e="\\dotsb"),e});var k9={")":!0,"]":!0,"\\rbrack":!0,"\\}":!0,"\\rbrace":!0,"\\rangle":!0,"\\rceil":!0,"\\rfloor":!0,"\\rgroup":!0,"\\rmoustache":!0,"\\right":!0,"\\bigr":!0,"\\biggr":!0,"\\Bigr":!0,"\\Biggr":!0,$:!0,";":!0,".":!0,",":!0};le("\\dotso",function(t){var e=t.future().text;return e in k9?"\\ldots\\,":"\\ldots"});le("\\dotsc",function(t){var e=t.future().text;return e in k9&&e!==","?"\\ldots\\,":"\\ldots"});le("\\cdots",function(t){var e=t.future().text;return e in k9?"\\@cdots\\,":"\\@cdots"});le("\\dotsb","\\cdots");le("\\dotsm","\\cdots");le("\\dotsi","\\!\\cdots");le("\\dotsx","\\ldots\\,");le("\\DOTSI","\\relax");le("\\DOTSB","\\relax");le("\\DOTSX","\\relax");le("\\tmspace","\\TextOrMath{\\kern#1#3}{\\mskip#1#2}\\relax");le("\\,","\\tmspace+{3mu}{.1667em}");le("\\thinspace","\\,");le("\\>","\\mskip{4mu}");le("\\:","\\tmspace+{4mu}{.2222em}");le("\\medspace","\\:");le("\\;","\\tmspace+{5mu}{.2777em}");le("\\thickspace","\\;");le("\\!","\\tmspace-{3mu}{.1667em}");le("\\negthinspace","\\!");le("\\negmedspace","\\tmspace-{4mu}{.2222em}");le("\\negthickspace","\\tmspace-{5mu}{.277em}");le("\\enspace","\\kern.5em ");le("\\enskip","\\hskip.5em\\relax");le("\\quad","\\hskip1em\\relax");le("\\qquad","\\hskip2em\\relax");le("\\tag","\\@ifstar\\tag@literal\\tag@paren");le("\\tag@paren","\\tag@literal{({#1})}");le("\\tag@literal",t=>{if(t.macros.get("\\df@tag"))throw new lt("Multiple \\tag");return"\\gdef\\df@tag{\\text{#1}}"});le("\\bmod","\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}\\mathbin{\\rm mod}\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}");le("\\pod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern8mu}{\\mkern8mu}{\\mkern8mu}(#1)");le("\\pmod","\\pod{{\\rm mod}\\mkern6mu#1}");le("\\mod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern12mu}{\\mkern12mu}{\\mkern12mu}{\\rm mod}\\,\\,#1");le("\\newline","\\\\\\relax");le("\\TeX","\\textrm{\\html@mathml{T\\kern-.1667em\\raisebox{-.5ex}{E}\\kern-.125emX}{TeX}}");var aZ=ft(vl["Main-Regular"][84][1]-.7*vl["Main-Regular"][65][1]);le("\\LaTeX","\\textrm{\\html@mathml{"+("L\\kern-.36em\\raisebox{"+aZ+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{LaTeX}}");le("\\KaTeX","\\textrm{\\html@mathml{"+("K\\kern-.17em\\raisebox{"+aZ+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{KaTeX}}");le("\\hspace","\\@ifstar\\@hspacer\\@hspace");le("\\@hspace","\\hskip #1\\relax");le("\\@hspacer","\\rule{0pt}{0pt}\\hskip #1\\relax");le("\\ordinarycolon",":");le("\\vcentcolon","\\mathrel{\\mathop\\ordinarycolon}");le("\\dblcolon",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-.9mu}\\vcentcolon}}{\\mathop{\\char"2237}}');le("\\coloneqq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2254}}');le("\\Coloneqq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2237\\char"3d}}');le("\\coloneq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"3a\\char"2212}}');le("\\Coloneq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"2237\\char"2212}}');le("\\eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2255}}');le("\\Eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"3d\\char"2237}}');le("\\eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2239}}');le("\\Eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"2212\\char"2237}}');le("\\colonapprox",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"3a\\char"2248}}');le("\\Colonapprox",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"2237\\char"2248}}');le("\\colonsim",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"3a\\char"223c}}');le("\\Colonsim",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"2237\\char"223c}}');le("∷","\\dblcolon");le("∹","\\eqcolon");le("≔","\\coloneqq");le("≕","\\eqqcolon");le("⩴","\\Coloneqq");le("\\ratio","\\vcentcolon");le("\\coloncolon","\\dblcolon");le("\\colonequals","\\coloneqq");le("\\coloncolonequals","\\Coloneqq");le("\\equalscolon","\\eqqcolon");le("\\equalscoloncolon","\\Eqqcolon");le("\\colonminus","\\coloneq");le("\\coloncolonminus","\\Coloneq");le("\\minuscolon","\\eqcolon");le("\\minuscoloncolon","\\Eqcolon");le("\\coloncolonapprox","\\Colonapprox");le("\\coloncolonsim","\\Colonsim");le("\\simcolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\vcentcolon}");le("\\simcoloncolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\dblcolon}");le("\\approxcolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\vcentcolon}");le("\\approxcoloncolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\dblcolon}");le("\\notni","\\html@mathml{\\not\\ni}{\\mathrel{\\char`∌}}");le("\\limsup","\\DOTSB\\operatorname*{lim\\,sup}");le("\\liminf","\\DOTSB\\operatorname*{lim\\,inf}");le("\\injlim","\\DOTSB\\operatorname*{inj\\,lim}");le("\\projlim","\\DOTSB\\operatorname*{proj\\,lim}");le("\\varlimsup","\\DOTSB\\operatorname*{\\overline{lim}}");le("\\varliminf","\\DOTSB\\operatorname*{\\underline{lim}}");le("\\varinjlim","\\DOTSB\\operatorname*{\\underrightarrow{lim}}");le("\\varprojlim","\\DOTSB\\operatorname*{\\underleftarrow{lim}}");le("\\gvertneqq","\\html@mathml{\\@gvertneqq}{≩}");le("\\lvertneqq","\\html@mathml{\\@lvertneqq}{≨}");le("\\ngeqq","\\html@mathml{\\@ngeqq}{≱}");le("\\ngeqslant","\\html@mathml{\\@ngeqslant}{≱}");le("\\nleqq","\\html@mathml{\\@nleqq}{≰}");le("\\nleqslant","\\html@mathml{\\@nleqslant}{≰}");le("\\nshortmid","\\html@mathml{\\@nshortmid}{∤}");le("\\nshortparallel","\\html@mathml{\\@nshortparallel}{∦}");le("\\nsubseteqq","\\html@mathml{\\@nsubseteqq}{⊈}");le("\\nsupseteqq","\\html@mathml{\\@nsupseteqq}{⊉}");le("\\varsubsetneq","\\html@mathml{\\@varsubsetneq}{⊊}");le("\\varsubsetneqq","\\html@mathml{\\@varsubsetneqq}{⫋}");le("\\varsupsetneq","\\html@mathml{\\@varsupsetneq}{⊋}");le("\\varsupsetneqq","\\html@mathml{\\@varsupsetneqq}{⫌}");le("\\imath","\\html@mathml{\\@imath}{ı}");le("\\jmath","\\html@mathml{\\@jmath}{ȷ}");le("\\llbracket","\\html@mathml{\\mathopen{[\\mkern-3.2mu[}}{\\mathopen{\\char`⟦}}");le("\\rrbracket","\\html@mathml{\\mathclose{]\\mkern-3.2mu]}}{\\mathclose{\\char`⟧}}");le("⟦","\\llbracket");le("⟧","\\rrbracket");le("\\lBrace","\\html@mathml{\\mathopen{\\{\\mkern-3.2mu[}}{\\mathopen{\\char`⦃}}");le("\\rBrace","\\html@mathml{\\mathclose{]\\mkern-3.2mu\\}}}{\\mathclose{\\char`⦄}}");le("⦃","\\lBrace");le("⦄","\\rBrace");le("\\minuso","\\mathbin{\\html@mathml{{\\mathrlap{\\mathchoice{\\kern{0.145em}}{\\kern{0.145em}}{\\kern{0.1015em}}{\\kern{0.0725em}}\\circ}{-}}}{\\char`⦵}}");le("⦵","\\minuso");le("\\darr","\\downarrow");le("\\dArr","\\Downarrow");le("\\Darr","\\Downarrow");le("\\lang","\\langle");le("\\rang","\\rangle");le("\\uarr","\\uparrow");le("\\uArr","\\Uparrow");le("\\Uarr","\\Uparrow");le("\\N","\\mathbb{N}");le("\\R","\\mathbb{R}");le("\\Z","\\mathbb{Z}");le("\\alef","\\aleph");le("\\alefsym","\\aleph");le("\\Alpha","\\mathrm{A}");le("\\Beta","\\mathrm{B}");le("\\bull","\\bullet");le("\\Chi","\\mathrm{X}");le("\\clubs","\\clubsuit");le("\\cnums","\\mathbb{C}");le("\\Complex","\\mathbb{C}");le("\\Dagger","\\ddagger");le("\\diamonds","\\diamondsuit");le("\\empty","\\emptyset");le("\\Epsilon","\\mathrm{E}");le("\\Eta","\\mathrm{H}");le("\\exist","\\exists");le("\\harr","\\leftrightarrow");le("\\hArr","\\Leftrightarrow");le("\\Harr","\\Leftrightarrow");le("\\hearts","\\heartsuit");le("\\image","\\Im");le("\\infin","\\infty");le("\\Iota","\\mathrm{I}");le("\\isin","\\in");le("\\Kappa","\\mathrm{K}");le("\\larr","\\leftarrow");le("\\lArr","\\Leftarrow");le("\\Larr","\\Leftarrow");le("\\lrarr","\\leftrightarrow");le("\\lrArr","\\Leftrightarrow");le("\\Lrarr","\\Leftrightarrow");le("\\Mu","\\mathrm{M}");le("\\natnums","\\mathbb{N}");le("\\Nu","\\mathrm{N}");le("\\Omicron","\\mathrm{O}");le("\\plusmn","\\pm");le("\\rarr","\\rightarrow");le("\\rArr","\\Rightarrow");le("\\Rarr","\\Rightarrow");le("\\real","\\Re");le("\\reals","\\mathbb{R}");le("\\Reals","\\mathbb{R}");le("\\Rho","\\mathrm{P}");le("\\sdot","\\cdot");le("\\sect","\\S");le("\\spades","\\spadesuit");le("\\sub","\\subset");le("\\sube","\\subseteq");le("\\supe","\\supseteq");le("\\Tau","\\mathrm{T}");le("\\thetasym","\\vartheta");le("\\weierp","\\wp");le("\\Zeta","\\mathrm{Z}");le("\\argmin","\\DOTSB\\operatorname*{arg\\,min}");le("\\argmax","\\DOTSB\\operatorname*{arg\\,max}");le("\\plim","\\DOTSB\\mathop{\\operatorname{plim}}\\limits");le("\\bra","\\mathinner{\\langle{#1}|}");le("\\ket","\\mathinner{|{#1}\\rangle}");le("\\braket","\\mathinner{\\langle{#1}\\rangle}");le("\\Bra","\\left\\langle#1\\right|");le("\\Ket","\\left|#1\\right\\rangle");var sZ=t=>e=>{var r=e.consumeArg().tokens,n=e.consumeArg().tokens,i=e.consumeArg().tokens,a=e.consumeArg().tokens,s=e.macros.get("|"),o=e.macros.get("\\|");e.macros.beginGroup();var l=d=>p=>{t&&(p.macros.set("|",s),i.length&&p.macros.set("\\|",o));var f=d;if(!d&&i.length){var g=p.future();g.text==="|"&&(p.popToken(),f=!0)}return{tokens:f?i:n,numArgs:0}};e.macros.set("|",l(!1)),i.length&&e.macros.set("\\|",l(!0));var u=e.consumeArg().tokens,h=e.expandTokens([...a,...u,...r]);return e.macros.endGroup(),{tokens:h.reverse(),numArgs:0}};le("\\bra@ket",sZ(!1));le("\\bra@set",sZ(!0));le("\\Braket","\\bra@ket{\\left\\langle}{\\,\\middle\\vert\\,}{\\,\\middle\\vert\\,}{\\right\\rangle}");le("\\Set","\\bra@set{\\left\\{\\:}{\\;\\middle\\vert\\;}{\\;\\middle\\Vert\\;}{\\:\\right\\}}");le("\\set","\\bra@set{\\{\\,}{\\mid}{}{\\,\\}}");le("\\angln","{\\angl n}");le("\\blue","\\textcolor{##6495ed}{#1}");le("\\orange","\\textcolor{##ffa500}{#1}");le("\\pink","\\textcolor{##ff00af}{#1}");le("\\red","\\textcolor{##df0030}{#1}");le("\\green","\\textcolor{##28ae7b}{#1}");le("\\gray","\\textcolor{gray}{#1}");le("\\purple","\\textcolor{##9d38bd}{#1}");le("\\blueA","\\textcolor{##ccfaff}{#1}");le("\\blueB","\\textcolor{##80f6ff}{#1}");le("\\blueC","\\textcolor{##63d9ea}{#1}");le("\\blueD","\\textcolor{##11accd}{#1}");le("\\blueE","\\textcolor{##0c7f99}{#1}");le("\\tealA","\\textcolor{##94fff5}{#1}");le("\\tealB","\\textcolor{##26edd5}{#1}");le("\\tealC","\\textcolor{##01d1c1}{#1}");le("\\tealD","\\textcolor{##01a995}{#1}");le("\\tealE","\\textcolor{##208170}{#1}");le("\\greenA","\\textcolor{##b6ffb0}{#1}");le("\\greenB","\\textcolor{##8af281}{#1}");le("\\greenC","\\textcolor{##74cf70}{#1}");le("\\greenD","\\textcolor{##1fab54}{#1}");le("\\greenE","\\textcolor{##0d923f}{#1}");le("\\goldA","\\textcolor{##ffd0a9}{#1}");le("\\goldB","\\textcolor{##ffbb71}{#1}");le("\\goldC","\\textcolor{##ff9c39}{#1}");le("\\goldD","\\textcolor{##e07d10}{#1}");le("\\goldE","\\textcolor{##a75a05}{#1}");le("\\redA","\\textcolor{##fca9a9}{#1}");le("\\redB","\\textcolor{##ff8482}{#1}");le("\\redC","\\textcolor{##f9685d}{#1}");le("\\redD","\\textcolor{##e84d39}{#1}");le("\\redE","\\textcolor{##bc2612}{#1}");le("\\maroonA","\\textcolor{##ffbde0}{#1}");le("\\maroonB","\\textcolor{##ff92c6}{#1}");le("\\maroonC","\\textcolor{##ed5fa6}{#1}");le("\\maroonD","\\textcolor{##ca337c}{#1}");le("\\maroonE","\\textcolor{##9e034e}{#1}");le("\\purpleA","\\textcolor{##ddd7ff}{#1}");le("\\purpleB","\\textcolor{##c6b9fc}{#1}");le("\\purpleC","\\textcolor{##aa87ff}{#1}");le("\\purpleD","\\textcolor{##7854ab}{#1}");le("\\purpleE","\\textcolor{##543b78}{#1}");le("\\mintA","\\textcolor{##f5f9e8}{#1}");le("\\mintB","\\textcolor{##edf2df}{#1}");le("\\mintC","\\textcolor{##e0e5cc}{#1}");le("\\grayA","\\textcolor{##f6f7f7}{#1}");le("\\grayB","\\textcolor{##f0f1f2}{#1}");le("\\grayC","\\textcolor{##e3e5e6}{#1}");le("\\grayD","\\textcolor{##d6d8da}{#1}");le("\\grayE","\\textcolor{##babec2}{#1}");le("\\grayF","\\textcolor{##888d93}{#1}");le("\\grayG","\\textcolor{##626569}{#1}");le("\\grayH","\\textcolor{##3b3e40}{#1}");le("\\grayI","\\textcolor{##21242c}{#1}");le("\\kaBlue","\\textcolor{##314453}{#1}");le("\\kaGreen","\\textcolor{##71B307}{#1}");var oZ={"^":!0,_:!0,"\\limits":!0,"\\nolimits":!0};class X7e{constructor(e,r,n){this.settings=void 0,this.expansionCount=void 0,this.lexer=void 0,this.macros=void 0,this.stack=void 0,this.mode=void 0,this.settings=r,this.expansionCount=0,this.feed(e),this.macros=new q7e(j7e,r.macros),this.mode=n,this.stack=[]}feed(e){this.lexer=new bO(e,this.settings)}switchMode(e){this.mode=e}beginGroup(){this.macros.beginGroup()}endGroup(){this.macros.endGroup()}endGroups(){this.macros.endGroups()}future(){return this.stack.length===0&&this.pushToken(this.lexer.lex()),this.stack[this.stack.length-1]}popToken(){return this.future(),this.stack.pop()}pushToken(e){this.stack.push(e)}pushTokens(e){this.stack.push(...e)}scanArgument(e){var r,n,i;if(e){if(this.consumeSpaces(),this.future().text!=="[")return null;r=this.popToken(),{tokens:i,end:n}=this.consumeArg(["]"])}else({tokens:i,start:r,end:n}=this.consumeArg());return this.pushToken(new oo("EOF",n.loc)),this.pushTokens(i),r.range(n,"")}consumeSpaces(){for(;;){var e=this.future();if(e.text===" ")this.stack.pop();else break}}consumeArg(e){var r=[],n=e&&e.length>0;n||this.consumeSpaces();var i=this.future(),a,s=0,o=0;do{if(a=this.popToken(),r.push(a),a.text==="{")++s;else if(a.text==="}"){if(--s,s===-1)throw new lt("Extra }",a)}else if(a.text==="EOF")throw new lt("Unexpected end of input in a macro argument, expected '"+(e&&n?e[o]:"}")+"'",a);if(e&&n)if((s===0||s===1&&e[o]==="{")&&a.text===e[o]){if(++o,o===e.length){r.splice(-o,o);break}}else o=0}while(s!==0||n);return i.text==="{"&&r[r.length-1].text==="}"&&(r.pop(),r.shift()),r.reverse(),{tokens:r,start:i,end:a}}consumeArgs(e,r){if(r){if(r.length!==e+1)throw new lt("The length of delimiters doesn't match the number of args!");for(var n=r[0],i=0;i<n.length;i++){var a=this.popToken();if(n[i]!==a.text)throw new lt("Use of the macro doesn't match its definition",a)}}for(var s=[],o=0;o<e;o++)s.push(this.consumeArg(r&&r[o+1]).tokens);return s}countExpansion(e){if(this.expansionCount+=e,this.expansionCount>this.settings.maxExpand)throw new lt("Too many expansions: infinite loop or need to increase maxExpand setting")}expandOnce(e){var r=this.popToken(),n=r.text,i=r.noexpand?null:this._getExpansion(n);if(i==null||e&&i.unexpandable){if(e&&i==null&&n[0]==="\\"&&!this.isDefined(n))throw new lt("Undefined control sequence: "+n);return this.pushToken(r),!1}this.countExpansion(1);var a=i.tokens,s=this.consumeArgs(i.numArgs,i.delimiters);if(i.numArgs){a=a.slice();for(var o=a.length-1;o>=0;--o){var l=a[o];if(l.text==="#"){if(o===0)throw new lt("Incomplete placeholder at end of macro body",l);if(l=a[--o],l.text==="#")a.splice(o+1,1);else if(/^[1-9]$/.test(l.text))a.splice(o,2,...s[+l.text-1]);else throw new lt("Not a valid argument number",l)}}}return this.pushTokens(a),a.length}expandAfterFuture(){return this.expandOnce(),this.future()}expandNextToken(){for(;;)if(this.expandOnce()===!1){var e=this.stack.pop();return e.treatAsRelax&&(e.text="\\relax"),e}throw new Error}expandMacro(e){return this.macros.has(e)?this.expandTokens([new oo(e)]):void 0}expandTokens(e){var r=[],n=this.stack.length;for(this.pushTokens(e);this.stack.length>n;)if(this.expandOnce(!0)===!1){var i=this.stack.pop();i.treatAsRelax&&(i.noexpand=!1,i.treatAsRelax=!1),r.push(i)}return this.countExpansion(r.length),r}expandMacroAsText(e){var r=this.expandMacro(e);return r&&r.map(n=>n.text).join("")}_getExpansion(e){var r=this.macros.get(e);if(r==null)return r;if(e.length===1){var n=this.lexer.catcodes[e];if(n!=null&&n!==13)return}var i=typeof r=="function"?r(this):r;if(typeof i=="string"){var a=0;if(i.indexOf("#")!==-1)for(var s=i.replace(/##/g,"");s.indexOf("#"+(a+1))!==-1;)++a;for(var o=new bO(i,this.settings),l=[],u=o.lex();u.text!=="EOF";)l.push(u),u=o.lex();l.reverse();var h={tokens:l,numArgs:a};return h}return i}isDefined(e){return this.macros.has(e)||_u.hasOwnProperty(e)||rn.math.hasOwnProperty(e)||rn.text.hasOwnProperty(e)||oZ.hasOwnProperty(e)}isExpandable(e){var r=this.macros.get(e);return r!=null?typeof r=="string"||typeof r=="function"||!r.unexpandable:_u.hasOwnProperty(e)&&!_u[e].primitive}}var TO=/^[₊₋₌₍₎₀₁₂₃₄₅₆₇₈₉ₐₑₕᵢⱼₖₗₘₙₒₚᵣₛₜᵤᵥₓᵦᵧᵨᵩᵪ]/,mx=Object.freeze({"₊":"+","₋":"-","₌":"=","₍":"(","₎":")","₀":"0","₁":"1","₂":"2","₃":"3","₄":"4","₅":"5","₆":"6","₇":"7","₈":"8","₉":"9","ₐ":"a","ₑ":"e","ₕ":"h","ᵢ":"i","ⱼ":"j","ₖ":"k","ₗ":"l","ₘ":"m","ₙ":"n","ₒ":"o","ₚ":"p","ᵣ":"r","ₛ":"s","ₜ":"t","ᵤ":"u","ᵥ":"v","ₓ":"x","ᵦ":"β","ᵧ":"γ","ᵨ":"ρ","ᵩ":"ϕ","ᵪ":"χ","⁺":"+","⁻":"-","⁼":"=","⁽":"(","⁾":")","⁰":"0","¹":"1","²":"2","³":"3","⁴":"4","⁵":"5","⁶":"6","⁷":"7","⁸":"8","⁹":"9","ᴬ":"A","ᴮ":"B","ᴰ":"D","ᴱ":"E","ᴳ":"G","ᴴ":"H","ᴵ":"I","ᴶ":"J","ᴷ":"K","ᴸ":"L","ᴹ":"M","ᴺ":"N","ᴼ":"O","ᴾ":"P","ᴿ":"R","ᵀ":"T","ᵁ":"U","ⱽ":"V","ᵂ":"W","ᵃ":"a","ᵇ":"b","ᶜ":"c","ᵈ":"d","ᵉ":"e","ᶠ":"f","ᵍ":"g",ʰ:"h","ⁱ":"i",ʲ:"j","ᵏ":"k",ˡ:"l","ᵐ":"m",ⁿ:"n","ᵒ":"o","ᵖ":"p",ʳ:"r",ˢ:"s","ᵗ":"t","ᵘ":"u","ᵛ":"v",ʷ:"w",ˣ:"x",ʸ:"y","ᶻ":"z","ᵝ":"β","ᵞ":"γ","ᵟ":"δ","ᵠ":"ϕ","ᵡ":"χ","ᶿ":"θ"}),zT={"́":{text:"\\'",math:"\\acute"},"̀":{text:"\\`",math:"\\grave"},"̈":{text:'\\"',math:"\\ddot"},"̃":{text:"\\~",math:"\\tilde"},"̄":{text:"\\=",math:"\\bar"},"̆":{text:"\\u",math:"\\breve"},"̌":{text:"\\v",math:"\\check"},"̂":{text:"\\^",math:"\\hat"},"̇":{text:"\\.",math:"\\dot"},"̊":{text:"\\r",math:"\\mathring"},"̋":{text:"\\H"},"̧":{text:"\\c"}},EO={á:"á",à:"à",ä:"ä",ǟ:"ǟ",ã:"ã",ā:"ā",ă:"ă",ắ:"ắ",ằ:"ằ",ẵ:"ẵ",ǎ:"ǎ",â:"â",ấ:"ấ",ầ:"ầ",ẫ:"ẫ",ȧ:"ȧ",ǡ:"ǡ",å:"å",ǻ:"ǻ",ḃ:"ḃ",ć:"ć",ḉ:"ḉ",č:"č",ĉ:"ĉ",ċ:"ċ",ç:"ç",ď:"ď",ḋ:"ḋ",ḑ:"ḑ",é:"é",è:"è",ë:"ë",ẽ:"ẽ",ē:"ē",ḗ:"ḗ",ḕ:"ḕ",ĕ:"ĕ",ḝ:"ḝ",ě:"ě",ê:"ê",ế:"ế",ề:"ề",ễ:"ễ",ė:"ė",ȩ:"ȩ",ḟ:"ḟ",ǵ:"ǵ",ḡ:"ḡ",ğ:"ğ",ǧ:"ǧ",ĝ:"ĝ",ġ:"ġ",ģ:"ģ",ḧ:"ḧ",ȟ:"ȟ",ĥ:"ĥ",ḣ:"ḣ",ḩ:"ḩ",í:"í",ì:"ì",ï:"ï",ḯ:"ḯ",ĩ:"ĩ",ī:"ī",ĭ:"ĭ",ǐ:"ǐ",î:"î",ǰ:"ǰ",ĵ:"ĵ",ḱ:"ḱ",ǩ:"ǩ",ķ:"ķ",ĺ:"ĺ",ľ:"ľ",ļ:"ļ",ḿ:"ḿ",ṁ:"ṁ",ń:"ń",ǹ:"ǹ",ñ:"ñ",ň:"ň",ṅ:"ṅ",ņ:"ņ",ó:"ó",ò:"ò",ö:"ö",ȫ:"ȫ",õ:"õ",ṍ:"ṍ",ṏ:"ṏ",ȭ:"ȭ",ō:"ō",ṓ:"ṓ",ṑ:"ṑ",ŏ:"ŏ",ǒ:"ǒ",ô:"ô",ố:"ố",ồ:"ồ",ỗ:"ỗ",ȯ:"ȯ",ȱ:"ȱ",ő:"ő",ṕ:"ṕ",ṗ:"ṗ",ŕ:"ŕ",ř:"ř",ṙ:"ṙ",ŗ:"ŗ",ś:"ś",ṥ:"ṥ",š:"š",ṧ:"ṧ",ŝ:"ŝ",ṡ:"ṡ",ş:"ş",ẗ:"ẗ",ť:"ť",ṫ:"ṫ",ţ:"ţ",ú:"ú",ù:"ù",ü:"ü",ǘ:"ǘ",ǜ:"ǜ",ǖ:"ǖ",ǚ:"ǚ",ũ:"ũ",ṹ:"ṹ",ū:"ū",ṻ:"ṻ",ŭ:"ŭ",ǔ:"ǔ",û:"û",ů:"ů",ű:"ű",ṽ:"ṽ",ẃ:"ẃ",ẁ:"ẁ",ẅ:"ẅ",ŵ:"ŵ",ẇ:"ẇ",ẘ:"ẘ",ẍ:"ẍ",ẋ:"ẋ",ý:"ý",ỳ:"ỳ",ÿ:"ÿ",ỹ:"ỹ",ȳ:"ȳ",ŷ:"ŷ",ẏ:"ẏ",ẙ:"ẙ",ź:"ź",ž:"ž",ẑ:"ẑ",ż:"ż",Á:"Á",À:"À",Ä:"Ä",Ǟ:"Ǟ",Ã:"Ã",Ā:"Ā",Ă:"Ă",Ắ:"Ắ",Ằ:"Ằ",Ẵ:"Ẵ",Ǎ:"Ǎ",Â:"Â",Ấ:"Ấ",Ầ:"Ầ",Ẫ:"Ẫ",Ȧ:"Ȧ",Ǡ:"Ǡ",Å:"Å",Ǻ:"Ǻ",Ḃ:"Ḃ",Ć:"Ć",Ḉ:"Ḉ",Č:"Č",Ĉ:"Ĉ",Ċ:"Ċ",Ç:"Ç",Ď:"Ď",Ḋ:"Ḋ",Ḑ:"Ḑ",É:"É",È:"È",Ë:"Ë",Ẽ:"Ẽ",Ē:"Ē",Ḗ:"Ḗ",Ḕ:"Ḕ",Ĕ:"Ĕ",Ḝ:"Ḝ",Ě:"Ě",Ê:"Ê",Ế:"Ế",Ề:"Ề",Ễ:"Ễ",Ė:"Ė",Ȩ:"Ȩ",Ḟ:"Ḟ",Ǵ:"Ǵ",Ḡ:"Ḡ",Ğ:"Ğ",Ǧ:"Ǧ",Ĝ:"Ĝ",Ġ:"Ġ",Ģ:"Ģ",Ḧ:"Ḧ",Ȟ:"Ȟ",Ĥ:"Ĥ",Ḣ:"Ḣ",Ḩ:"Ḩ",Í:"Í",Ì:"Ì",Ï:"Ï",Ḯ:"Ḯ",Ĩ:"Ĩ",Ī:"Ī",Ĭ:"Ĭ",Ǐ:"Ǐ",Î:"Î",İ:"İ",Ĵ:"Ĵ",Ḱ:"Ḱ",Ǩ:"Ǩ",Ķ:"Ķ",Ĺ:"Ĺ",Ľ:"Ľ",Ļ:"Ļ",Ḿ:"Ḿ",Ṁ:"Ṁ",Ń:"Ń",Ǹ:"Ǹ",Ñ:"Ñ",Ň:"Ň",Ṅ:"Ṅ",Ņ:"Ņ",Ó:"Ó",Ò:"Ò",Ö:"Ö",Ȫ:"Ȫ",Õ:"Õ",Ṍ:"Ṍ",Ṏ:"Ṏ",Ȭ:"Ȭ",Ō:"Ō",Ṓ:"Ṓ",Ṑ:"Ṑ",Ŏ:"Ŏ",Ǒ:"Ǒ",Ô:"Ô",Ố:"Ố",Ồ:"Ồ",Ỗ:"Ỗ",Ȯ:"Ȯ",Ȱ:"Ȱ",Ő:"Ő",Ṕ:"Ṕ",Ṗ:"Ṗ",Ŕ:"Ŕ",Ř:"Ř",Ṙ:"Ṙ",Ŗ:"Ŗ",Ś:"Ś",Ṥ:"Ṥ",Š:"Š",Ṧ:"Ṧ",Ŝ:"Ŝ",Ṡ:"Ṡ",Ş:"Ş",Ť:"Ť",Ṫ:"Ṫ",Ţ:"Ţ",Ú:"Ú",Ù:"Ù",Ü:"Ü",Ǘ:"Ǘ",Ǜ:"Ǜ",Ǖ:"Ǖ",Ǚ:"Ǚ",Ũ:"Ũ",Ṹ:"Ṹ",Ū:"Ū",Ṻ:"Ṻ",Ŭ:"Ŭ",Ǔ:"Ǔ",Û:"Û",Ů:"Ů",Ű:"Ű",Ṽ:"Ṽ",Ẃ:"Ẃ",Ẁ:"Ẁ",Ẅ:"Ẅ",Ŵ:"Ŵ",Ẇ:"Ẇ",Ẍ:"Ẍ",Ẋ:"Ẋ",Ý:"Ý",Ỳ:"Ỳ",Ÿ:"Ÿ",Ỹ:"Ỹ",Ȳ:"Ȳ",Ŷ:"Ŷ",Ẏ:"Ẏ",Ź:"Ź",Ž:"Ž",Ẑ:"Ẑ",Ż:"Ż",ά:"ά",ὰ:"ὰ",ᾱ:"ᾱ",ᾰ:"ᾰ",έ:"έ",ὲ:"ὲ",ή:"ή",ὴ:"ὴ",ί:"ί",ὶ:"ὶ",ϊ:"ϊ",ΐ:"ΐ",ῒ:"ῒ",ῑ:"ῑ",ῐ:"ῐ",ό:"ό",ὸ:"ὸ",ύ:"ύ",ὺ:"ὺ",ϋ:"ϋ",ΰ:"ΰ",ῢ:"ῢ",ῡ:"ῡ",ῠ:"ῠ",ώ:"ώ",ὼ:"ὼ",Ύ:"Ύ",Ὺ:"Ὺ",Ϋ:"Ϋ",Ῡ:"Ῡ",Ῠ:"Ῠ",Ώ:"Ώ",Ὼ:"Ὼ"};let lZ=class cZ{constructor(e,r){this.mode=void 0,this.gullet=void 0,this.settings=void 0,this.leftrightDepth=void 0,this.nextToken=void 0,this.mode="math",this.gullet=new X7e(e,r,this.mode),this.settings=r,this.leftrightDepth=0}expect(e,r){if(r===void 0&&(r=!0),this.fetch().text!==e)throw new lt("Expected '"+e+"', got '"+this.fetch().text+"'",this.fetch());r&&this.consume()}consume(){this.nextToken=null}fetch(){return this.nextToken==null&&(this.nextToken=this.gullet.expandNextToken()),this.nextToken}switchMode(e){this.mode=e,this.gullet.switchMode(e)}parse(){this.settings.globalGroup||this.gullet.beginGroup(),this.settings.colorIsTextColor&&this.gullet.macros.set("\\color","\\textcolor");try{var e=this.parseExpression(!1);return this.expect("EOF"),this.settings.globalGroup||this.gullet.endGroup(),e}finally{this.gullet.endGroups()}}subparse(e){var r=this.nextToken;this.consume(),this.gullet.pushToken(new oo("}")),this.gullet.pushTokens(e);var n=this.parseExpression(!1);return this.expect("}"),this.nextToken=r,n}parseExpression(e,r){for(var n=[];;){this.mode==="math"&&this.consumeSpaces();var i=this.fetch();if(cZ.endOfExpression.indexOf(i.text)!==-1||r&&i.text===r||e&&_u[i.text]&&_u[i.text].infix)break;var a=this.parseAtom(r);if(a){if(a.type==="internal")continue}else break;n.push(a)}return this.mode==="text"&&this.formLigatures(n),this.handleInfixNodes(n)}handleInfixNodes(e){for(var r=-1,n,i=0;i<e.length;i++)if(e[i].type==="infix"){if(r!==-1)throw new lt("only one infix operator per group",e[i].token);r=i,n=e[i].replaceWith}if(r!==-1&&n){var a,s,o=e.slice(0,r),l=e.slice(r+1);o.length===1&&o[0].type==="ordgroup"?a=o[0]:a={type:"ordgroup",mode:this.mode,body:o},l.length===1&&l[0].type==="ordgroup"?s=l[0]:s={type:"ordgroup",mode:this.mode,body:l};var u;return n==="\\\\abovefrac"?u=this.callFunction(n,[a,e[r],s],[]):u=this.callFunction(n,[a,s],[]),[u]}else return e}handleSupSubscript(e){var r=this.fetch(),n=r.text;this.consume(),this.consumeSpaces();var i=this.parseGroup(e);if(!i)throw new lt("Expected group after '"+n+"'",r);return i}formatUnsupportedCmd(e){for(var r=[],n=0;n<e.length;n++)r.push({type:"textord",mode:"text",text:e[n]});var i={type:"text",mode:this.mode,body:r},a={type:"color",mode:this.mode,color:this.settings.errorColor,body:[i]};return a}parseAtom(e){var r=this.parseGroup("atom",e);if(this.mode==="text")return r;for(var n,i;;){this.consumeSpaces();var a=this.fetch();if(a.text==="\\limits"||a.text==="\\nolimits"){if(r&&r.type==="op"){var s=a.text==="\\limits";r.limits=s,r.alwaysHandleSupSub=!0}else if(r&&r.type==="operatorname")r.alwaysHandleSupSub&&(r.limits=a.text==="\\limits");else throw new lt("Limit controls must follow a math operator",a);this.consume()}else if(a.text==="^"){if(n)throw new lt("Double superscript",a);n=this.handleSupSubscript("superscript")}else if(a.text==="_"){if(i)throw new lt("Double subscript",a);i=this.handleSupSubscript("subscript")}else if(a.text==="'"){if(n)throw new lt("Double superscript",a);var o={type:"textord",mode:this.mode,text:"\\prime"},l=[o];for(this.consume();this.fetch().text==="'";)l.push(o),this.consume();this.fetch().text==="^"&&l.push(this.handleSupSubscript("superscript")),n={type:"ordgroup",mode:this.mode,body:l}}else if(mx[a.text]){var u=TO.test(a.text),h=[];for(h.push(new oo(mx[a.text])),this.consume();;){var d=this.fetch().text;if(!mx[d]||TO.test(d)!==u)break;h.unshift(new oo(mx[d])),this.consume()}var p=this.subparse(h);u?i={type:"ordgroup",mode:"math",body:p}:n={type:"ordgroup",mode:"math",body:p}}else break}return n||i?{type:"supsub",mode:this.mode,base:r,sup:n,sub:i}:r}parseFunction(e,r){var n=this.fetch(),i=n.text,a=_u[i];if(!a)return null;if(this.consume(),r&&r!=="atom"&&!a.allowedInArgument)throw new lt("Got function '"+i+"' with no arguments"+(r?" as "+r:""),n);if(this.mode==="text"&&!a.allowedInText)throw new lt("Can't use function '"+i+"' in text mode",n);if(this.mode==="math"&&a.allowedInMath===!1)throw new lt("Can't use function '"+i+"' in math mode",n);var{args:s,optArgs:o}=this.parseArguments(i,a);return this.callFunction(i,s,o,n,e)}callFunction(e,r,n,i,a){var s={funcName:e,parser:this,token:i,breakOnTokenText:a},o=_u[e];if(o&&o.handler)return o.handler(s,r,n);throw new lt("No function handler for "+e)}parseArguments(e,r){var n=r.numArgs+r.numOptionalArgs;if(n===0)return{args:[],optArgs:[]};for(var i=[],a=[],s=0;s<n;s++){var o=r.argTypes&&r.argTypes[s],l=s<r.numOptionalArgs;(r.primitive&&o==null||r.type==="sqrt"&&s===1&&a[0]==null)&&(o="primitive");var u=this.parseGroupOfType("argument to '"+e+"'",o,l);if(l)a.push(u);else if(u!=null)i.push(u);else throw new lt("Null argument, please report this as a bug")}return{args:i,optArgs:a}}parseGroupOfType(e,r,n){switch(r){case"color":return this.parseColorGroup(n);case"size":return this.parseSizeGroup(n);case"url":return this.parseUrlGroup(n);case"math":case"text":return this.parseArgumentGroup(n,r);case"hbox":{var i=this.parseArgumentGroup(n,"text");return i!=null?{type:"styling",mode:i.mode,body:[i],style:"text"}:null}case"raw":{var a=this.parseStringGroup("raw",n);return a!=null?{type:"raw",mode:"text",string:a.text}:null}case"primitive":{if(n)throw new lt("A primitive argument cannot be optional");var s=this.parseGroup(e);if(s==null)throw new lt("Expected group as "+e,this.fetch());return s}case"original":case null:case void 0:return this.parseArgumentGroup(n);default:throw new lt("Unknown group type as "+e,this.fetch())}}consumeSpaces(){for(;this.fetch().text===" ";)this.consume()}parseStringGroup(e,r){var n=this.gullet.scanArgument(r);if(n==null)return null;for(var i="",a;(a=this.fetch()).text!=="EOF";)i+=a.text,this.consume();return this.consume(),n.text=i,n}parseRegexGroup(e,r){for(var n=this.fetch(),i=n,a="",s;(s=this.fetch()).text!=="EOF"&&e.test(a+s.text);)i=s,a+=i.text,this.consume();if(a==="")throw new lt("Invalid "+r+": '"+n.text+"'",n);return n.range(i,a)}parseColorGroup(e){var r=this.parseStringGroup("color",e);if(r==null)return null;var n=/^(#[a-f0-9]{3}|#?[a-f0-9]{6}|[a-z]+)$/i.exec(r.text);if(!n)throw new lt("Invalid color: '"+r.text+"'",r);var i=n[0];return/^[0-9a-f]{6}$/i.test(i)&&(i="#"+i),{type:"color-token",mode:this.mode,color:i}}parseSizeGroup(e){var r,n=!1;if(this.gullet.consumeSpaces(),!e&&this.gullet.future().text!=="{"?r=this.parseRegexGroup(/^[-+]? *(?:$|\d+|\d+\.\d*|\.\d*) *[a-z]{0,2} *$/,"size"):r=this.parseStringGroup("size",e),!r)return null;!e&&r.text.length===0&&(r.text="0pt",n=!0);var i=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(r.text);if(!i)throw new lt("Invalid size: '"+r.text+"'",r);var a={number:+(i[1]+i[2]),unit:i[3]};if(!vQ(a))throw new lt("Invalid unit: '"+a.unit+"'",r);return{type:"size",mode:this.mode,value:a,isBlank:n}}parseUrlGroup(e){this.gullet.lexer.setCatcode("%",13),this.gullet.lexer.setCatcode("~",12);var r=this.parseStringGroup("url",e);if(this.gullet.lexer.setCatcode("%",14),this.gullet.lexer.setCatcode("~",13),r==null)return null;var n=r.text.replace(/\\([#$%&~_^{}])/g,"$1");return{type:"url",mode:this.mode,url:n}}parseArgumentGroup(e,r){var n=this.gullet.scanArgument(e);if(n==null)return null;var i=this.mode;r&&this.switchMode(r),this.gullet.beginGroup();var a=this.parseExpression(!1,"EOF");this.expect("EOF"),this.gullet.endGroup();var s={type:"ordgroup",mode:this.mode,loc:n.loc,body:a};return r&&this.switchMode(i),s}parseGroup(e,r){var n=this.fetch(),i=n.text,a;if(i==="{"||i==="\\begingroup"){this.consume();var s=i==="{"?"}":"\\endgroup";this.gullet.beginGroup();var o=this.parseExpression(!1,s),l=this.fetch();this.expect(s),this.gullet.endGroup(),a={type:"ordgroup",mode:this.mode,loc:ks.range(n,l),body:o,semisimple:i==="\\begingroup"||void 0}}else if(a=this.parseFunction(r,e)||this.parseSymbol(),a==null&&i[0]==="\\"&&!oZ.hasOwnProperty(i)){if(this.settings.throwOnError)throw new lt("Undefined control sequence: "+i,n);a=this.formatUnsupportedCmd(i),this.consume()}return a}formLigatures(e){for(var r=e.length-1,n=0;n<r;++n){var i=e[n],a=i.text;a==="-"&&e[n+1].text==="-"&&(n+1<r&&e[n+2].text==="-"?(e.splice(n,3,{type:"textord",mode:"text",loc:ks.range(i,e[n+2]),text:"---"}),r-=2):(e.splice(n,2,{type:"textord",mode:"text",loc:ks.range(i,e[n+1]),text:"--"}),r-=1)),(a==="'"||a==="`")&&e[n+1].text===a&&(e.splice(n,2,{type:"textord",mode:"text",loc:ks.range(i,e[n+1]),text:a+a}),r-=1)}}parseSymbol(){var e=this.fetch(),r=e.text;if(/^\\verb[^a-zA-Z]/.test(r)){this.consume();var n=r.slice(5),i=n.charAt(0)==="*";if(i&&(n=n.slice(1)),n.length<2||n.charAt(0)!==n.slice(-1))throw new lt(`\\verb assertion failed --
                    please report what input caused this bug`);return n=n.slice(1,-1),{type:"verb",mode:"text",body:n,star:i}}EO.hasOwnProperty(r[0])&&!rn[this.mode][r[0]]&&(this.settings.strict&&this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Accented Unicode text character "'+r[0]+'" used in math mode',e),r=EO[r[0]]+r.slice(1));var a=W7e.exec(r);a&&(r=r.substring(0,a.index),r==="i"?r="ı":r==="j"&&(r="ȷ"));var s;if(rn[this.mode][r]){this.settings.strict&&this.mode==="math"&&US.indexOf(r)>=0&&this.settings.reportNonstrict("unicodeTextInMathMode",'Latin-1/Unicode text character "'+r[0]+'" used in math mode',e);var o=rn[this.mode][r].group,l=ks.range(e),u;if(FEe.hasOwnProperty(o)){var h=o;u={type:"atom",mode:this.mode,family:h,loc:l,text:r}}else u={type:o,mode:this.mode,loc:l,text:r};s=u}else if(r.charCodeAt(0)>=128)this.settings.strict&&(mQ(r.charCodeAt(0))?this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Unicode text character "'+r[0]+'" used in math mode',e):this.settings.reportNonstrict("unknownSymbol",'Unrecognized Unicode character "'+r[0]+'"'+(" ("+r.charCodeAt(0)+")"),e)),s={type:"textord",mode:"text",loc:ks.range(e),text:r};else return null;if(this.consume(),a)for(var d=0;d<a[0].length;d++){var p=a[0][d];if(!zT[p])throw new lt("Unknown accent ' "+p+"'",e);var f=zT[p][this.mode]||zT[p].text;if(!f)throw new lt("Accent "+p+" unsupported in "+this.mode+" mode",e);s={type:"accent",mode:this.mode,loc:ks.range(e),label:f,isStretchy:!1,isShifty:!0,base:s}}return s}};lZ.endOfExpression=["}","\\endgroup","\\end","\\right","&"];var T9=function(e,r){if(!(typeof e=="string"||e instanceof String))throw new TypeError("KaTeX can only parse string typed expression");var n=new lZ(e,r);delete n.gullet.macros.current["\\df@tag"];var i=n.parse();if(delete n.gullet.macros.current["\\current@color"],delete n.gullet.macros.current["\\color"],n.gullet.macros.get("\\df@tag")){if(!r.displayMode)throw new lt("\\tag works only in display equations");i=[{type:"tag",mode:"text",body:i,tag:n.subparse([new oo("\\df@tag")])}]}return i},uZ=function(e,r,n){r.textContent="";var i=E9(e,n).toNode();r.appendChild(i)};typeof document<"u"&&document.compatMode!=="CSS1Compat"&&(typeof console<"u"&&console.warn("Warning: KaTeX doesn't work in quirks mode. Make sure your website has a suitable doctype."),uZ=function(){throw new lt("KaTeX doesn't work in quirks mode.")});var K7e=function(e,r){var n=E9(e,r).toMarkup();return n},Q7e=function(e,r){var n=new a9(r);return T9(e,n)},hZ=function(e,r,n){if(n.throwOnError||!(e instanceof lt))throw e;var i=Be.makeSpan(["katex-error"],[new vo(r)]);return i.setAttribute("title",e.toString()),i.setAttribute("style","color:"+n.errorColor),i},E9=function(e,r){var n=new a9(r);try{var i=T9(e,n);return s7e(i,e,n)}catch(a){return hZ(a,e,n)}},Z7e=function(e,r){var n=new a9(r);try{var i=T9(e,n);return o7e(i,e,n)}catch(a){return hZ(a,e,n)}},J7e={version:"0.16.11",render:uZ,renderToString:K7e,ParseError:lt,SETTINGS_SCHEMA:xb,__parse:Q7e,__renderToDomTree:E9,__renderToHTMLTree:Z7e,__setFontMetrics:NEe,__defineSymbol:z,__defineFunction:wt,__defineMacro:le,__domTree:{Span:Py,Anchor:l9,SymbolNode:vo,SvgNode:Oc,PathNode:nh,LineNode:zS}};const eSe=Object.freeze(Object.defineProperty({__proto__:null,default:J7e},Symbol.toStringTag,{value:"Module"}));var tSe="[object Symbol]";function Bd(t){return typeof t=="symbol"||po(t)&&Xc(t)==tSe}function yd(t,e){for(var r=-1,n=t==null?0:t.length,i=Array(n);++r<n;)i[r]=e(t[r],r,t);return i}var rSe=1/0,SO=ho?ho.prototype:void 0,CO=SO?SO.toString:void 0;function dZ(t){if(typeof t=="string")return t;if(dr(t))return yd(t,dZ)+"";if(Bd(t))return CO?CO.call(t):"";var e=t+"";return e=="0"&&1/t==-rSe?"-0":e}var nSe=/\s/;function iSe(t){for(var e=t.length;e--&&nSe.test(t.charAt(e)););return e}var aSe=/^\s+/;function sSe(t){return t&&t.slice(0,iSe(t)+1).replace(aSe,"")}var AO=NaN,oSe=/^[-+]0x[0-9a-f]+$/i,lSe=/^0b[01]+$/i,cSe=/^0o[0-7]+$/i,uSe=parseInt;function hSe(t){if(typeof t=="number")return t;if(Bd(t))return AO;if(us(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=us(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=sSe(t);var r=lSe.test(t);return r||cSe.test(t)?uSe(t.slice(2),r?2:8):oSe.test(t)?AO:+t}var _O=1/0,dSe=17976931348623157e292;function wb(t){if(!t)return t===0?t:0;if(t=hSe(t),t===_O||t===-_O){var e=t<0?-1:1;return e*dSe}return t===t?t:0}function Uw(t){var e=wb(t),r=e%1;return e===e?r?e-r:e:0}function ri(){}function fZ(t,e){for(var r=-1,n=t==null?0:t.length;++r<n&&e(t[r],r,t)!==!1;);return t}function pZ(t,e,r,n){for(var i=t.length,a=r+-1;++a<i;)if(e(t[a],a,t))return a;return-1}function fSe(t){return t!==t}function pSe(t,e,r){for(var n=r-1,i=t.length;++n<i;)if(t[n]===e)return n;return-1}function S9(t,e,r){return e===e?pSe(t,e,r):pZ(t,fSe,r)}function gZ(t,e){var r=t==null?0:t.length;return!!r&&S9(t,e,0)>-1}function li(t){return Pl(t)?bY(t):Bq(t)}var gSe=Object.prototype,mSe=gSe.hasOwnProperty,Ds=EY(function(t,e){if(by(e)||Pl(e)){Cg(e,li(e),t);return}for(var r in e)mSe.call(e,r)&&ky(t,r,e[r])}),vSe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ySe=/^\w*$/;function C9(t,e){if(dr(t))return!1;var r=typeof t;return r=="number"||r=="symbol"||r=="boolean"||t==null||Bd(t)?!0:ySe.test(t)||!vSe.test(t)||e!=null&&t in Object(e)}var xSe=500;function bSe(t){var e=Sg(t,function(n){return r.size===xSe&&r.clear(),n}),r=e.cache;return e}var wSe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,kSe=/\\(\\)?/g,TSe=bSe(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(wSe,function(r,n,i,a){e.push(i?a.replace(kSe,"$1"):n||r)}),e});function mZ(t){return t==null?"":dZ(t)}function Vw(t,e){return dr(t)?t:C9(t,e)?[t]:TSe(mZ(t))}var ESe=1/0;function By(t){if(typeof t=="string"||Bd(t))return t;var e=t+"";return e=="0"&&1/t==-ESe?"-0":e}function Gw(t,e){e=Vw(e,t);for(var r=0,n=e.length;t!=null&&r<n;)t=t[By(e[r++])];return r&&r==n?t:void 0}function SSe(t,e,r){var n=t==null?void 0:Gw(t,e);return n===void 0?r:n}function A9(t,e){for(var r=-1,n=e.length,i=t.length;++r<n;)t[i+r]=e[r];return t}var LO=ho?ho.isConcatSpreadable:void 0;function CSe(t){return dr(t)||Gp(t)||!!(LO&&t&&t[LO])}function $y(t,e,r,n,i){var a=-1,s=t.length;for(r||(r=CSe),i||(i=[]);++a<s;){var o=t[a];r(o)?A9(i,o):n||(i[i.length]=o)}return i}function Ai(t){var e=t==null?0:t.length;return e?$y(t):[]}function ASe(t){return TY(kY(t,void 0,Ai),t+"")}function vZ(t,e,r){var n=-1,i=t.length;e<0&&(e=-e>i?0:i+e),r=r>i?i:r,r<0&&(r+=i),i=e>r?0:r-e>>>0,e>>>=0;for(var a=Array(i);++n<i;)a[n]=t[n+e];return a}function _Se(t,e,r,n){var i=-1,a=t==null?0:t.length;for(n&&a&&(r=t[++i]);++i<a;)r=e(r,t[i],i,t);return r}function LSe(t,e){return t&&Cg(e,li(e),t)}function NSe(t,e){return t&&Cg(e,ff(e),t)}function _9(t,e){for(var r=-1,n=t==null?0:t.length,i=0,a=[];++r<n;){var s=t[r];e(s,r,t)&&(a[i++]=s)}return a}function yZ(){return[]}var RSe=Object.prototype,MSe=RSe.propertyIsEnumerable,NO=Object.getOwnPropertySymbols,L9=NO?function(t){return t==null?[]:(t=Object(t),_9(NO(t),function(e){return MSe.call(t,e)}))}:yZ;function ISe(t,e){return Cg(t,L9(t),e)}var DSe=Object.getOwnPropertySymbols,xZ=DSe?function(t){for(var e=[];t;)A9(e,L9(t)),t=h_(t);return e}:yZ;function OSe(t,e){return Cg(t,xZ(t),e)}function bZ(t,e,r){var n=e(t);return dr(t)?n:A9(n,r(t))}function qS(t){return bZ(t,li,L9)}function wZ(t){return bZ(t,ff,xZ)}var PSe=Object.prototype,FSe=PSe.hasOwnProperty;function BSe(t){var e=t.length,r=new t.constructor(e);return e&&typeof t[0]=="string"&&FSe.call(t,"index")&&(r.index=t.index,r.input=t.input),r}function $Se(t,e){var r=e?u_(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.byteLength)}var zSe=/\w*$/;function USe(t){var e=new t.constructor(t.source,zSe.exec(t));return e.lastIndex=t.lastIndex,e}var RO=ho?ho.prototype:void 0,MO=RO?RO.valueOf:void 0;function VSe(t){return MO?Object(MO.call(t)):{}}var GSe="[object Boolean]",HSe="[object Date]",WSe="[object Map]",YSe="[object Number]",qSe="[object RegExp]",jSe="[object Set]",XSe="[object String]",KSe="[object Symbol]",QSe="[object ArrayBuffer]",ZSe="[object DataView]",JSe="[object Float32Array]",eCe="[object Float64Array]",tCe="[object Int8Array]",rCe="[object Int16Array]",nCe="[object Int32Array]",iCe="[object Uint8Array]",aCe="[object Uint8ClampedArray]",sCe="[object Uint16Array]",oCe="[object Uint32Array]";function lCe(t,e,r){var n=t.constructor;switch(e){case QSe:return u_(t);case GSe:case HSe:return new n(+t);case ZSe:return $Se(t,r);case JSe:case eCe:case tCe:case rCe:case nCe:case iCe:case aCe:case sCe:case oCe:return dY(t,r);case WSe:return new n;case YSe:case XSe:return new n(t);case qSe:return USe(t);case jSe:return new n;case KSe:return VSe(t)}}var cCe="[object Map]";function uCe(t){return po(t)&&Ks(t)==cCe}var IO=Qu&&Qu.isMap,hCe=IO?wy(IO):uCe,dCe="[object Set]";function fCe(t){return po(t)&&Ks(t)==dCe}var DO=Qu&&Qu.isSet,pCe=DO?wy(DO):fCe,gCe=1,mCe=2,vCe=4,kZ="[object Arguments]",yCe="[object Array]",xCe="[object Boolean]",bCe="[object Date]",wCe="[object Error]",TZ="[object Function]",kCe="[object GeneratorFunction]",TCe="[object Map]",ECe="[object Number]",EZ="[object Object]",SCe="[object RegExp]",CCe="[object Set]",ACe="[object String]",_Ce="[object Symbol]",LCe="[object WeakMap]",NCe="[object ArrayBuffer]",RCe="[object DataView]",MCe="[object Float32Array]",ICe="[object Float64Array]",DCe="[object Int8Array]",OCe="[object Int16Array]",PCe="[object Int32Array]",FCe="[object Uint8Array]",BCe="[object Uint8ClampedArray]",$Ce="[object Uint16Array]",zCe="[object Uint32Array]",Jr={};Jr[kZ]=Jr[yCe]=Jr[NCe]=Jr[RCe]=Jr[xCe]=Jr[bCe]=Jr[MCe]=Jr[ICe]=Jr[DCe]=Jr[OCe]=Jr[PCe]=Jr[TCe]=Jr[ECe]=Jr[EZ]=Jr[SCe]=Jr[CCe]=Jr[ACe]=Jr[_Ce]=Jr[FCe]=Jr[BCe]=Jr[$Ce]=Jr[zCe]=!0;Jr[wCe]=Jr[TZ]=Jr[LCe]=!1;function Bm(t,e,r,n,i,a){var s,o=e&gCe,l=e&mCe,u=e&vCe;if(s!==void 0)return s;if(!us(t))return t;var h=dr(t);if(h){if(s=BSe(t),!o)return fY(t,s)}else{var d=Ks(t),p=d==TZ||d==kCe;if(Hp(t))return hY(t,o);if(d==EZ||d==kZ||p&&!i){if(s=l||p?{}:gY(t),!o)return l?OSe(t,NSe(s,t)):ISe(t,LSe(s,t))}else{if(!Jr[d])return i?t:{};s=lCe(t,d,o)}}a||(a=new zo);var f=a.get(t);if(f)return f;a.set(t,s),pCe(t)?t.forEach(function(y){s.add(Bm(y,e,r,y,t,a))}):hCe(t)&&t.forEach(function(y,v){s.set(v,Bm(y,e,r,v,t,a))});var g=u?l?wZ:qS:l?ff:li,m=h?void 0:g(t);return fZ(m||t,function(y,v){m&&(v=y,y=t[v]),ky(s,v,Bm(y,e,r,v,t,a))}),s}var UCe=4;function gi(t){return Bm(t,UCe)}var VCe=1,GCe=4;function HCe(t){return Bm(t,VCe|GCe)}function zy(t){for(var e=-1,r=t==null?0:t.length,n=0,i=[];++e<r;){var a=t[e];a&&(i[n++]=a)}return i}var WCe="__lodash_hash_undefined__";function YCe(t){return this.__data__.set(t,WCe),this}function qCe(t){return this.__data__.has(t)}function Qp(t){var e=-1,r=t==null?0:t.length;for(this.__data__=new Qc;++e<r;)this.add(t[e])}Qp.prototype.add=Qp.prototype.push=YCe;Qp.prototype.has=qCe;function SZ(t,e){for(var r=-1,n=t==null?0:t.length;++r<n;)if(e(t[r],r,t))return!0;return!1}function N9(t,e){return t.has(e)}var jCe=1,XCe=2;function CZ(t,e,r,n,i,a){var s=r&jCe,o=t.length,l=e.length;if(o!=l&&!(s&&l>o))return!1;var u=a.get(t),h=a.get(e);if(u&&h)return u==e&&h==t;var d=-1,p=!0,f=r&XCe?new Qp:void 0;for(a.set(t,e),a.set(e,t);++d<o;){var g=t[d],m=e[d];if(n)var y=s?n(m,g,d,e,t,a):n(g,m,d,t,e,a);if(y!==void 0){if(y)continue;p=!1;break}if(f){if(!SZ(e,function(v,x){if(!N9(f,x)&&(g===v||i(g,v,r,n,a)))return f.push(x)})){p=!1;break}}else if(!(g===m||i(g,m,r,n,a))){p=!1;break}}return a.delete(t),a.delete(e),p}function KCe(t){var e=-1,r=Array(t.size);return t.forEach(function(n,i){r[++e]=[i,n]}),r}function R9(t){var e=-1,r=Array(t.size);return t.forEach(function(n){r[++e]=n}),r}var QCe=1,ZCe=2,JCe="[object Boolean]",e8e="[object Date]",t8e="[object Error]",r8e="[object Map]",n8e="[object Number]",i8e="[object RegExp]",a8e="[object Set]",s8e="[object String]",o8e="[object Symbol]",l8e="[object ArrayBuffer]",c8e="[object DataView]",OO=ho?ho.prototype:void 0,UT=OO?OO.valueOf:void 0;function u8e(t,e,r,n,i,a,s){switch(r){case c8e:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case l8e:return!(t.byteLength!=e.byteLength||!a(new W4(t),new W4(e)));case JCe:case e8e:case n8e:return Eg(+t,+e);case t8e:return t.name==e.name&&t.message==e.message;case i8e:case s8e:return t==e+"";case r8e:var o=KCe;case a8e:var l=n&QCe;if(o||(o=R9),t.size!=e.size&&!l)return!1;var u=s.get(t);if(u)return u==e;n|=ZCe,s.set(t,e);var h=CZ(o(t),o(e),n,i,a,s);return s.delete(t),h;case o8e:if(UT)return UT.call(t)==UT.call(e)}return!1}var h8e=1,d8e=Object.prototype,f8e=d8e.hasOwnProperty;function p8e(t,e,r,n,i,a){var s=r&h8e,o=qS(t),l=o.length,u=qS(e),h=u.length;if(l!=h&&!s)return!1;for(var d=l;d--;){var p=o[d];if(!(s?p in e:f8e.call(e,p)))return!1}var f=a.get(t),g=a.get(e);if(f&&g)return f==e&&g==t;var m=!0;a.set(t,e),a.set(e,t);for(var y=s;++d<l;){p=o[d];var v=t[p],x=e[p];if(n)var w=s?n(x,v,p,e,t,a):n(v,x,p,t,e,a);if(!(w===void 0?v===x||i(v,x,r,n,a):w)){m=!1;break}y||(y=p=="constructor")}if(m&&!y){var k=t.constructor,E=e.constructor;k!=E&&"constructor"in t&&"constructor"in e&&!(typeof k=="function"&&k instanceof k&&typeof E=="function"&&E instanceof E)&&(m=!1)}return a.delete(t),a.delete(e),m}var g8e=1,PO="[object Arguments]",FO="[object Array]",vx="[object Object]",m8e=Object.prototype,BO=m8e.hasOwnProperty;function v8e(t,e,r,n,i,a){var s=dr(t),o=dr(e),l=s?FO:Ks(t),u=o?FO:Ks(e);l=l==PO?vx:l,u=u==PO?vx:u;var h=l==vx,d=u==vx,p=l==u;if(p&&Hp(t)){if(!Hp(e))return!1;s=!0,h=!1}if(p&&!h)return a||(a=new zo),s||pw(t)?CZ(t,e,r,n,i,a):u8e(t,e,l,r,n,i,a);if(!(r&g8e)){var f=h&&BO.call(t,"__wrapped__"),g=d&&BO.call(e,"__wrapped__");if(f||g){var m=f?t.value():t,y=g?e.value():e;return a||(a=new zo),i(m,y,r,n,a)}}return p?(a||(a=new zo),p8e(t,e,r,n,i,a)):!1}function M9(t,e,r,n,i){return t===e?!0:t==null||e==null||!po(t)&&!po(e)?t!==t&&e!==e:v8e(t,e,r,n,M9,i)}var y8e=1,x8e=2;function b8e(t,e,r,n){var i=r.length,a=i;if(t==null)return!a;for(t=Object(t);i--;){var s=r[i];if(s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++i<a;){s=r[i];var o=s[0],l=t[o],u=s[1];if(s[2]){if(l===void 0&&!(o in t))return!1}else{var h=new zo,d;if(!(d===void 0?M9(u,l,y8e|x8e,n,h):d))return!1}}return!0}function AZ(t){return t===t&&!us(t)}function w8e(t){for(var e=li(t),r=e.length;r--;){var n=e[r],i=t[n];e[r]=[n,i,AZ(i)]}return e}function _Z(t,e){return function(r){return r==null?!1:r[t]===e&&(e!==void 0||t in Object(r))}}function k8e(t){var e=w8e(t);return e.length==1&&e[0][2]?_Z(e[0][0],e[0][1]):function(r){return r===t||b8e(r,t,e)}}function T8e(t,e){return t!=null&&e in Object(t)}function LZ(t,e,r){e=Vw(e,t);for(var n=-1,i=e.length,a=!1;++n<i;){var s=By(e[n]);if(!(a=t!=null&&r(t,s)))break;t=t[s]}return a||++n!=i?a:(i=t==null?0:t.length,!!i&&d_(i)&&gw(s,i)&&(dr(t)||Gp(t)))}function NZ(t,e){return t!=null&&LZ(t,e,T8e)}var E8e=1,S8e=2;function C8e(t,e){return C9(t)&&AZ(e)?_Z(By(t),e):function(r){var n=SSe(r,t);return n===void 0&&n===e?NZ(r,t):M9(e,n,E8e|S8e)}}function A8e(t){return function(e){return e==null?void 0:e[t]}}function _8e(t){return function(e){return Gw(e,t)}}function L8e(t){return C9(t)?A8e(By(t)):_8e(t)}function gs(t){return typeof t=="function"?t:t==null?Mc:typeof t=="object"?dr(t)?C8e(t[0],t[1]):k8e(t):L8e(t)}function N8e(t,e,r,n){for(var i=-1,a=t==null?0:t.length;++i<a;){var s=t[i];e(n,s,r(s),t)}return n}function I9(t,e){return t&&c_(t,e,li)}function R8e(t,e){return function(r,n){if(r==null)return r;if(!Pl(r))return t(r,n);for(var i=r.length,a=-1,s=Object(r);++a<i&&n(s[a],a,s)!==!1;);return r}}var yf=R8e(I9);function M8e(t,e,r,n){return yf(t,function(i,a,s){e(n,i,r(i),s)}),n}function I8e(t,e){return function(r,n){var i=dr(r)?N8e:M8e,a=e?e():{};return i(r,t,gs(n),a)}}var RZ=Object.prototype,D8e=RZ.hasOwnProperty,Hw=Ty(function(t,e){t=Object(t);var r=-1,n=e.length,i=n>2?e[2]:void 0;for(i&&wv(e[0],e[1],i)&&(n=1);++r<n;)for(var a=e[r],s=ff(a),o=-1,l=s.length;++o<l;){var u=s[o],h=t[u];(h===void 0||Eg(h,RZ[u])&&!D8e.call(t,u))&&(t[u]=a[u])}return t}),O8e=200;function P8e(t,e,r,n){var i=-1,a=gZ,s=!0,o=t.length,l=[],u=e.length;if(!o)return l;e.length>=O8e&&(a=N9,s=!1,e=new Qp(e));e:for(;++i<o;){var h=t[i],d=h;if(h=h!==0?h:0,s&&d===d){for(var p=u;p--;)if(e[p]===d)continue e;l.push(h)}else a(e,d,n)||l.push(h)}return l}var Ww=Ty(function(t,e){return Y4(t)?P8e(t,$y(e,1,Y4,!0)):[]});function _l(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}function Pi(t,e,r){var n=t==null?0:t.length;return n?(e=e===void 0?1:Uw(e),vZ(t,e<0?0:e,n)):[]}function Rv(t,e,r){var n=t==null?0:t.length;return n?(e=e===void 0?1:Uw(e),e=n-e,vZ(t,0,e<0?0:e)):[]}function D9(t){return typeof t=="function"?t:Mc}function Fe(t,e){var r=dr(t)?fZ:yf;return r(t,D9(e))}function F8e(t,e){for(var r=-1,n=t==null?0:t.length;++r<n;)if(!e(t[r],r,t))return!1;return!0}function B8e(t,e){var r=!0;return yf(t,function(n,i,a){return r=!!e(n,i,a),r}),r}function Go(t,e,r){var n=dr(t)?F8e:B8e;return n(t,gs(e))}function MZ(t,e){var r=[];return yf(t,function(n,i,a){e(n,i,a)&&r.push(n)}),r}function Mn(t,e){var r=dr(t)?_9:MZ;return r(t,gs(e))}function $8e(t){return function(e,r,n){var i=Object(e);if(!Pl(e)){var a=gs(r);e=li(e),r=function(o){return a(i[o],o,i)}}var s=t(e,r,n);return s>-1?i[a?e[s]:s]:void 0}}var z8e=Math.max;function U8e(t,e,r){var n=t==null?0:t.length;if(!n)return-1;var i=r==null?0:Uw(r);return i<0&&(i=z8e(n+i,0)),pZ(t,gs(e),i)}var Bc=$8e(U8e);function Qo(t){return t&&t.length?t[0]:void 0}function IZ(t,e){var r=-1,n=Pl(t)?Array(t.length):[];return yf(t,function(i,a,s){n[++r]=e(i,a,s)}),n}function ht(t,e){var r=dr(t)?yd:IZ;return r(t,gs(e))}function Ls(t,e){return $y(ht(t,e))}function V8e(t,e){return t==null?t:c_(t,D9(e),ff)}function G8e(t,e){return t&&I9(t,D9(e))}var H8e=Object.prototype,W8e=H8e.hasOwnProperty,Y8e=I8e(function(t,e,r){W8e.call(t,r)?t[r].push(e):xy(t,r,[e])});function q8e(t,e){return t>e}var j8e=Object.prototype,X8e=j8e.hasOwnProperty;function K8e(t,e){return t!=null&&X8e.call(t,e)}function pt(t,e){return t!=null&&LZ(t,e,K8e)}var Q8e="[object String]";function hs(t){return typeof t=="string"||!dr(t)&&po(t)&&Xc(t)==Q8e}function Z8e(t,e){return yd(e,function(r){return t[r]})}function Vr(t){return t==null?[]:Z8e(t,li(t))}var J8e=Math.max;function Va(t,e,r,n){t=Pl(t)?t:Vr(t),r=r&&!n?Uw(r):0;var i=t.length;return r<0&&(r=J8e(i+r,0)),hs(t)?r<=i&&t.indexOf(e,r)>-1:!!i&&S9(t,e,r)>-1}function $O(t,e,r){var n=t==null?0:t.length;if(!n)return-1;var i=0;return S9(t,e,i)}var eAe="[object RegExp]";function tAe(t){return po(t)&&Xc(t)==eAe}var zO=Qu&&Qu.isRegExp,$c=zO?wy(zO):tAe;function Dr(t){return t===void 0}function DZ(t,e){return t<e}function Yw(t,e){var r={};return e=gs(e),I9(t,function(n,i,a){xy(r,i,e(n,i,a))}),r}function O9(t,e,r){for(var n=-1,i=t.length;++n<i;){var a=t[n],s=e(a);if(s!=null&&(o===void 0?s===s&&!Bd(s):r(s,o)))var o=s,l=a}return l}function $d(t){return t&&t.length?O9(t,Mc,q8e):void 0}function Zp(t){return t&&t.length?O9(t,Mc,DZ):void 0}function P9(t,e){return t&&t.length?O9(t,gs(e),DZ):void 0}var rAe="Expected a function";function nAe(t){if(typeof t!="function")throw new TypeError(rAe);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}function iAe(t,e,r,n){if(!us(t))return t;e=Vw(e,t);for(var i=-1,a=e.length,s=a-1,o=t;o!=null&&++i<a;){var l=By(e[i]),u=r;if(l==="__proto__"||l==="constructor"||l==="prototype")return t;if(i!=s){var h=o[l];u=void 0,u===void 0&&(u=us(h)?h:gw(e[i+1])?[]:{})}ky(o,l,u),o=o[l]}return t}function OZ(t,e,r){for(var n=-1,i=e.length,a={};++n<i;){var s=e[n],o=Gw(t,s);r(o,s)&&iAe(a,Vw(s,t),o)}return a}function el(t,e){if(t==null)return{};var r=yd(wZ(t),function(n){return[n]});return e=gs(e),OZ(t,r,function(n,i){return e(n,i[0])})}function aAe(t,e){var r=t.length;for(t.sort(e);r--;)t[r]=t[r].value;return t}function sAe(t,e){if(t!==e){var r=t!==void 0,n=t===null,i=t===t,a=Bd(t),s=e!==void 0,o=e===null,l=e===e,u=Bd(e);if(!o&&!u&&!a&&t>e||a&&s&&l&&!o&&!u||n&&s&&l||!r&&l||!i)return 1;if(!n&&!a&&!u&&t<e||u&&r&&i&&!n&&!a||o&&r&&i||!s&&i||!l)return-1}return 0}function oAe(t,e,r){for(var n=-1,i=t.criteria,a=e.criteria,s=i.length,o=r.length;++n<s;){var l=sAe(i[n],a[n]);if(l){if(n>=o)return l;var u=r[n];return l*(u=="desc"?-1:1)}}return t.index-e.index}function lAe(t,e,r){e.length?e=yd(e,function(a){return dr(a)?function(s){return Gw(s,a.length===1?a[0]:a)}:a}):e=[Mc];var n=-1;e=yd(e,wy(gs));var i=IZ(t,function(a,s,o){var l=yd(e,function(u){return u(a)});return{criteria:l,index:++n,value:a}});return aAe(i,function(a,s){return oAe(a,s,r)})}function cAe(t,e){return OZ(t,e,function(r,n){return NZ(t,n)})}var w3=ASe(function(t,e){return t==null?{}:cAe(t,e)}),uAe=Math.ceil,hAe=Math.max;function dAe(t,e,r,n){for(var i=-1,a=hAe(uAe((e-t)/(r||1)),0),s=Array(a);a--;)s[++i]=t,t+=r;return s}function fAe(t){return function(e,r,n){return n&&typeof n!="number"&&wv(e,r,n)&&(r=n=void 0),e=wb(e),r===void 0?(r=e,e=0):r=wb(r),n=n===void 0?e<r?1:-1:wb(n),dAe(e,r,n)}}var Jp=fAe();function pAe(t,e,r,n,i){return i(t,function(a,s,o){r=n?(n=!1,a):e(r,a,s,o)}),r}function Jn(t,e,r){var n=dr(t)?_Se:pAe,i=arguments.length<3;return n(t,gs(e),r,i,yf)}function qw(t,e){var r=dr(t)?_9:MZ;return r(t,nAe(gs(e)))}function gAe(t,e){var r;return yf(t,function(n,i,a){return r=e(n,i,a),!r}),!!r}function PZ(t,e,r){var n=dr(t)?SZ:gAe;return n(t,gs(e))}var Uy=Ty(function(t,e){if(t==null)return[];var r=e.length;return r>1&&wv(t,e[0],e[1])?e=[]:r>2&&wv(e[0],e[1],e[2])&&(e=[e[0]]),lAe(t,$y(e),[])}),mAe=1/0,vAe=S0&&1/R9(new S0([,-0]))[1]==mAe?function(t){return new S0(t)}:ri,yAe=200;function F9(t,e,r){var n=-1,i=gZ,a=t.length,s=!0,o=[],l=o;if(a>=yAe){var u=e?null:vAe(t);if(u)return R9(u);s=!1,i=N9,l=new Qp}else l=e?[]:o;e:for(;++n<a;){var h=t[n],d=e?e(h):h;if(h=h!==0?h:0,s&&d===d){for(var p=l.length;p--;)if(l[p]===d)continue e;e&&l.push(d),o.push(h)}else i(l,d,r)||(l!==o&&l.push(d),o.push(h))}return o}var xAe=Ty(function(t){return F9($y(t,1,Y4,!0))});function B9(t){return t&&t.length?F9(t):[]}function bAe(t,e){return t&&t.length?F9(t,gs(e)):[]}var wAe=0;function $9(t){var e=++wAe;return mZ(t)+e}function kAe(t,e,r){for(var n=-1,i=t.length,a=e.length,s={};++n<i;){var o=n<a?e[n]:void 0;r(s,t[n],o)}return s}function TAe(t,e){return kAe(t||[],e||[],ky)}var EAe="\0",Dh="\0",UO="";class bi{constructor(e={}){this._isDirected=pt(e,"directed")?e.directed:!0,this._isMultigraph=pt(e,"multigraph")?e.multigraph:!1,this._isCompound=pt(e,"compound")?e.compound:!1,this._label=void 0,this._defaultNodeLabelFn=a0(void 0),this._defaultEdgeLabelFn=a0(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children[Dh]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}isDirected(){return this._isDirected}isMultigraph(){return this._isMultigraph}isCompound(){return this._isCompound}setGraph(e){return this._label=e,this}graph(){return this._label}setDefaultNodeLabel(e){return fo(e)||(e=a0(e)),this._defaultNodeLabelFn=e,this}nodeCount(){return this._nodeCount}nodes(){return li(this._nodes)}sources(){var e=this;return Mn(this.nodes(),function(r){return Lr(e._in[r])})}sinks(){var e=this;return Mn(this.nodes(),function(r){return Lr(e._out[r])})}setNodes(e,r){var n=arguments,i=this;return Fe(e,function(a){n.length>1?i.setNode(a,r):i.setNode(a)}),this}setNode(e,r){return pt(this._nodes,e)?(arguments.length>1&&(this._nodes[e]=r),this):(this._nodes[e]=arguments.length>1?r:this._defaultNodeLabelFn(e),this._isCompound&&(this._parent[e]=Dh,this._children[e]={},this._children[Dh][e]=!0),this._in[e]={},this._preds[e]={},this._out[e]={},this._sucs[e]={},++this._nodeCount,this)}node(e){return this._nodes[e]}hasNode(e){return pt(this._nodes,e)}removeNode(e){var r=this;if(pt(this._nodes,e)){var n=function(i){r.removeEdge(r._edgeObjs[i])};delete this._nodes[e],this._isCompound&&(this._removeFromParentsChildList(e),delete this._parent[e],Fe(this.children(e),function(i){r.setParent(i)}),delete this._children[e]),Fe(li(this._in[e]),n),delete this._in[e],delete this._preds[e],Fe(li(this._out[e]),n),delete this._out[e],delete this._sucs[e],--this._nodeCount}return this}setParent(e,r){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(Dr(r))r=Dh;else{r+="";for(var n=r;!Dr(n);n=this.parent(n))if(n===e)throw new Error("Setting "+r+" as parent of "+e+" would create a cycle");this.setNode(r)}return this.setNode(e),this._removeFromParentsChildList(e),this._parent[e]=r,this._children[r][e]=!0,this}_removeFromParentsChildList(e){delete this._children[this._parent[e]][e]}parent(e){if(this._isCompound){var r=this._parent[e];if(r!==Dh)return r}}children(e){if(Dr(e)&&(e=Dh),this._isCompound){var r=this._children[e];if(r)return li(r)}else{if(e===Dh)return this.nodes();if(this.hasNode(e))return[]}}predecessors(e){var r=this._preds[e];if(r)return li(r)}successors(e){var r=this._sucs[e];if(r)return li(r)}neighbors(e){var r=this.predecessors(e);if(r)return xAe(r,this.successors(e))}isLeaf(e){var r;return this.isDirected()?r=this.successors(e):r=this.neighbors(e),r.length===0}filterNodes(e){var r=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});r.setGraph(this.graph());var n=this;Fe(this._nodes,function(s,o){e(o)&&r.setNode(o,s)}),Fe(this._edgeObjs,function(s){r.hasNode(s.v)&&r.hasNode(s.w)&&r.setEdge(s,n.edge(s))});var i={};function a(s){var o=n.parent(s);return o===void 0||r.hasNode(o)?(i[s]=o,o):o in i?i[o]:a(o)}return this._isCompound&&Fe(r.nodes(),function(s){r.setParent(s,a(s))}),r}setDefaultEdgeLabel(e){return fo(e)||(e=a0(e)),this._defaultEdgeLabelFn=e,this}edgeCount(){return this._edgeCount}edges(){return Vr(this._edgeObjs)}setPath(e,r){var n=this,i=arguments;return Jn(e,function(a,s){return i.length>1?n.setEdge(a,s,r):n.setEdge(a,s),s}),this}setEdge(){var e,r,n,i,a=!1,s=arguments[0];typeof s=="object"&&s!==null&&"v"in s?(e=s.v,r=s.w,n=s.name,arguments.length===2&&(i=arguments[1],a=!0)):(e=s,r=arguments[1],n=arguments[3],arguments.length>2&&(i=arguments[2],a=!0)),e=""+e,r=""+r,Dr(n)||(n=""+n);var o=tm(this._isDirected,e,r,n);if(pt(this._edgeLabels,o))return a&&(this._edgeLabels[o]=i),this;if(!Dr(n)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(e),this.setNode(r),this._edgeLabels[o]=a?i:this._defaultEdgeLabelFn(e,r,n);var l=SAe(this._isDirected,e,r,n);return e=l.v,r=l.w,Object.freeze(l),this._edgeObjs[o]=l,VO(this._preds[r],e),VO(this._sucs[e],r),this._in[r][o]=l,this._out[e][o]=l,this._edgeCount++,this}edge(e,r,n){var i=arguments.length===1?VT(this._isDirected,arguments[0]):tm(this._isDirected,e,r,n);return this._edgeLabels[i]}hasEdge(e,r,n){var i=arguments.length===1?VT(this._isDirected,arguments[0]):tm(this._isDirected,e,r,n);return pt(this._edgeLabels,i)}removeEdge(e,r,n){var i=arguments.length===1?VT(this._isDirected,arguments[0]):tm(this._isDirected,e,r,n),a=this._edgeObjs[i];return a&&(e=a.v,r=a.w,delete this._edgeLabels[i],delete this._edgeObjs[i],GO(this._preds[r],e),GO(this._sucs[e],r),delete this._in[r][i],delete this._out[e][i],this._edgeCount--),this}inEdges(e,r){var n=this._in[e];if(n){var i=Vr(n);return r?Mn(i,function(a){return a.v===r}):i}}outEdges(e,r){var n=this._out[e];if(n){var i=Vr(n);return r?Mn(i,function(a){return a.w===r}):i}}nodeEdges(e,r){var n=this.inEdges(e,r);if(n)return n.concat(this.outEdges(e,r))}}bi.prototype._nodeCount=0;bi.prototype._edgeCount=0;function VO(t,e){t[e]?t[e]++:t[e]=1}function GO(t,e){--t[e]||delete t[e]}function tm(t,e,r,n){var i=""+e,a=""+r;if(!t&&i>a){var s=i;i=a,a=s}return i+UO+a+UO+(Dr(n)?EAe:n)}function SAe(t,e,r,n){var i=""+e,a=""+r;if(!t&&i>a){var s=i;i=a,a=s}var o={v:i,w:a};return n&&(o.name=n),o}function VT(t,e){return tm(t,e.v,e.w,e.name)}class CAe{constructor(){var e={};e._next=e._prev=e,this._sentinel=e}dequeue(){var e=this._sentinel,r=e._prev;if(r!==e)return HO(r),r}enqueue(e){var r=this._sentinel;e._prev&&e._next&&HO(e),e._next=r._next,r._next._prev=e,r._next=e,e._prev=r}toString(){for(var e=[],r=this._sentinel,n=r._prev;n!==r;)e.push(JSON.stringify(n,AAe)),n=n._prev;return"["+e.join(", ")+"]"}}function HO(t){t._prev._next=t._next,t._next._prev=t._prev,delete t._next,delete t._prev}function AAe(t,e){if(t!=="_next"&&t!=="_prev")return e}var _Ae=a0(1);function LAe(t,e){if(t.nodeCount()<=1)return[];var r=RAe(t,e||_Ae),n=NAe(r.graph,r.buckets,r.zeroIdx);return Ai(ht(n,function(i){return t.outEdges(i.v,i.w)}))}function NAe(t,e,r){for(var n=[],i=e[e.length-1],a=e[0],s;t.nodeCount();){for(;s=a.dequeue();)GT(t,e,r,s);for(;s=i.dequeue();)GT(t,e,r,s);if(t.nodeCount()){for(var o=e.length-2;o>0;--o)if(s=e[o].dequeue(),s){n=n.concat(GT(t,e,r,s,!0));break}}}return n}function GT(t,e,r,n,i){var a=i?[]:void 0;return Fe(t.inEdges(n.v),function(s){var o=t.edge(s),l=t.node(s.v);i&&a.push({v:s.v,w:s.w}),l.out-=o,jS(e,r,l)}),Fe(t.outEdges(n.v),function(s){var o=t.edge(s),l=s.w,u=t.node(l);u.in-=o,jS(e,r,u)}),t.removeNode(n.v),a}function RAe(t,e){var r=new bi,n=0,i=0;Fe(t.nodes(),function(o){r.setNode(o,{v:o,in:0,out:0})}),Fe(t.edges(),function(o){var l=r.edge(o.v,o.w)||0,u=e(o),h=l+u;r.setEdge(o.v,o.w,h),i=Math.max(i,r.node(o.v).out+=u),n=Math.max(n,r.node(o.w).in+=u)});var a=Jp(i+n+3).map(function(){return new CAe}),s=n+1;return Fe(r.nodes(),function(o){jS(a,s,r.node(o))}),{graph:r,buckets:a,zeroIdx:s}}function jS(t,e,r){r.out?r.in?t[r.out-r.in+e].enqueue(r):t[t.length-1].enqueue(r):t[0].enqueue(r)}function MAe(t){var e=t.graph().acyclicer==="greedy"?LAe(t,r(t)):IAe(t);Fe(e,function(n){var i=t.edge(n);t.removeEdge(n),i.forwardName=n.name,i.reversed=!0,t.setEdge(n.w,n.v,i,$9("rev"))});function r(n){return function(i){return n.edge(i).weight}}}function IAe(t){var e=[],r={},n={};function i(a){pt(n,a)||(n[a]=!0,r[a]=!0,Fe(t.outEdges(a),function(s){pt(r,s.w)?e.push(s):i(s.w)}),delete r[a])}return Fe(t.nodes(),i),e}function DAe(t){Fe(t.edges(),function(e){var r=t.edge(e);if(r.reversed){t.removeEdge(e);var n=r.forwardName;delete r.reversed,delete r.forwardName,t.setEdge(e.w,e.v,r,n)}})}function Pg(t,e,r,n){var i;do i=$9(n);while(t.hasNode(i));return r.dummy=e,t.setNode(i,r),i}function OAe(t){var e=new bi().setGraph(t.graph());return Fe(t.nodes(),function(r){e.setNode(r,t.node(r))}),Fe(t.edges(),function(r){var n=e.edge(r.v,r.w)||{weight:0,minlen:1},i=t.edge(r);e.setEdge(r.v,r.w,{weight:n.weight+i.weight,minlen:Math.max(n.minlen,i.minlen)})}),e}function FZ(t){var e=new bi({multigraph:t.isMultigraph()}).setGraph(t.graph());return Fe(t.nodes(),function(r){t.children(r).length||e.setNode(r,t.node(r))}),Fe(t.edges(),function(r){e.setEdge(r,t.edge(r))}),e}function WO(t,e){var r=t.x,n=t.y,i=e.x-r,a=e.y-n,s=t.width/2,o=t.height/2;if(!i&&!a)throw new Error("Not possible to find intersection inside of the rectangle");var l,u;return Math.abs(a)*s>Math.abs(i)*o?(a<0&&(o=-o),l=o*i/a,u=o):(i<0&&(s=-s),l=s,u=s*a/i),{x:r+l,y:n+u}}function jw(t){var e=ht(Jp(BZ(t)+1),function(){return[]});return Fe(t.nodes(),function(r){var n=t.node(r),i=n.rank;Dr(i)||(e[i][n.order]=r)}),e}function PAe(t){var e=Zp(ht(t.nodes(),function(r){return t.node(r).rank}));Fe(t.nodes(),function(r){var n=t.node(r);pt(n,"rank")&&(n.rank-=e)})}function FAe(t){var e=Zp(ht(t.nodes(),function(a){return t.node(a).rank})),r=[];Fe(t.nodes(),function(a){var s=t.node(a).rank-e;r[s]||(r[s]=[]),r[s].push(a)});var n=0,i=t.graph().nodeRankFactor;Fe(r,function(a,s){Dr(a)&&s%i!==0?--n:n&&Fe(a,function(o){t.node(o).rank+=n})})}function YO(t,e,r,n){var i={width:0,height:0};return arguments.length>=4&&(i.rank=r,i.order=n),Pg(t,"border",i,e)}function BZ(t){return $d(ht(t.nodes(),function(e){var r=t.node(e).rank;if(!Dr(r))return r}))}function BAe(t,e){var r={lhs:[],rhs:[]};return Fe(t,function(n){e(n)?r.lhs.push(n):r.rhs.push(n)}),r}function $Ae(t,e){return e()}function zAe(t){function e(r){var n=t.children(r),i=t.node(r);if(n.length&&Fe(n,e),pt(i,"minRank")){i.borderLeft=[],i.borderRight=[];for(var a=i.minRank,s=i.maxRank+1;a<s;++a)qO(t,"borderLeft","_bl",r,i,a),qO(t,"borderRight","_br",r,i,a)}}Fe(t.children(),e)}function qO(t,e,r,n,i,a){var s={width:0,height:0,rank:a,borderType:e},o=i[e][a-1],l=Pg(t,"border",s,r);i[e][a]=l,t.setParent(l,n),o&&t.setEdge(o,l,{weight:1})}function UAe(t){var e=t.graph().rankdir.toLowerCase();(e==="lr"||e==="rl")&&$Z(t)}function VAe(t){var e=t.graph().rankdir.toLowerCase();(e==="bt"||e==="rl")&&GAe(t),(e==="lr"||e==="rl")&&(HAe(t),$Z(t))}function $Z(t){Fe(t.nodes(),function(e){jO(t.node(e))}),Fe(t.edges(),function(e){jO(t.edge(e))})}function jO(t){var e=t.width;t.width=t.height,t.height=e}function GAe(t){Fe(t.nodes(),function(e){HT(t.node(e))}),Fe(t.edges(),function(e){var r=t.edge(e);Fe(r.points,HT),pt(r,"y")&&HT(r)})}function HT(t){t.y=-t.y}function HAe(t){Fe(t.nodes(),function(e){WT(t.node(e))}),Fe(t.edges(),function(e){var r=t.edge(e);Fe(r.points,WT),pt(r,"x")&&WT(r)})}function WT(t){var e=t.x;t.x=t.y,t.y=e}function WAe(t){t.graph().dummyChains=[],Fe(t.edges(),function(e){YAe(t,e)})}function YAe(t,e){var r=e.v,n=t.node(r).rank,i=e.w,a=t.node(i).rank,s=e.name,o=t.edge(e),l=o.labelRank;if(a!==n+1){t.removeEdge(e);var u,h,d;for(d=0,++n;n<a;++d,++n)o.points=[],h={width:0,height:0,edgeLabel:o,edgeObj:e,rank:n},u=Pg(t,"edge",h,"_d"),n===l&&(h.width=o.width,h.height=o.height,h.dummy="edge-label",h.labelpos=o.labelpos),t.setEdge(r,u,{weight:o.weight},s),d===0&&t.graph().dummyChains.push(u),r=u;t.setEdge(r,i,{weight:o.weight},s)}}function qAe(t){Fe(t.graph().dummyChains,function(e){var r=t.node(e),n=r.edgeLabel,i;for(t.setEdge(r.edgeObj,n);r.dummy;)i=t.successors(e)[0],t.removeNode(e),n.points.push({x:r.x,y:r.y}),r.dummy==="edge-label"&&(n.x=r.x,n.y=r.y,n.width=r.width,n.height=r.height),e=i,r=t.node(e)})}function z9(t){var e={};function r(n){var i=t.node(n);if(pt(e,n))return i.rank;e[n]=!0;var a=Zp(ht(t.outEdges(n),function(s){return r(s.w)-t.edge(s).minlen}));return(a===Number.POSITIVE_INFINITY||a===void 0||a===null)&&(a=0),i.rank=a}Fe(t.sources(),r)}function Mv(t,e){return t.node(e.w).rank-t.node(e.v).rank-t.edge(e).minlen}function zZ(t){var e=new bi({directed:!1}),r=t.nodes()[0],n=t.nodeCount();e.setNode(r,{});for(var i,a;jAe(e,t)<n;)i=XAe(e,t),a=e.hasNode(i.v)?Mv(t,i):-Mv(t,i),KAe(e,t,a);return e}function jAe(t,e){function r(n){Fe(e.nodeEdges(n),function(i){var a=i.v,s=n===a?i.w:a;!t.hasNode(s)&&!Mv(e,i)&&(t.setNode(s,{}),t.setEdge(n,s,{}),r(s))})}return Fe(t.nodes(),r),t.nodeCount()}function XAe(t,e){return P9(e.edges(),function(r){if(t.hasNode(r.v)!==t.hasNode(r.w))return Mv(e,r)})}function KAe(t,e,r){Fe(t.nodes(),function(n){e.node(n).rank+=r})}function QAe(){}QAe.prototype=new Error;function UZ(t,e,r){dr(e)||(e=[e]);var n=(t.isDirected()?t.successors:t.neighbors).bind(t),i=[],a={};return Fe(e,function(s){if(!t.hasNode(s))throw new Error("Graph does not have node: "+s);VZ(t,s,r==="post",a,n,i)}),i}function VZ(t,e,r,n,i,a){pt(n,e)||(n[e]=!0,r||a.push(e),Fe(i(e),function(s){VZ(t,s,r,n,i,a)}),r&&a.push(e))}function ZAe(t,e){return UZ(t,e,"post")}function JAe(t,e){return UZ(t,e,"pre")}xf.initLowLimValues=V9;xf.initCutValues=U9;xf.calcCutValue=GZ;xf.leaveEdge=WZ;xf.enterEdge=YZ;xf.exchangeEdges=qZ;function xf(t){t=OAe(t),z9(t);var e=zZ(t);V9(e),U9(e,t);for(var r,n;r=WZ(e);)n=YZ(e,t,r),qZ(e,t,r,n)}function U9(t,e){var r=ZAe(t,t.nodes());r=r.slice(0,r.length-1),Fe(r,function(n){e_e(t,e,n)})}function e_e(t,e,r){var n=t.node(r),i=n.parent;t.edge(r,i).cutvalue=GZ(t,e,r)}function GZ(t,e,r){var n=t.node(r),i=n.parent,a=!0,s=e.edge(r,i),o=0;return s||(a=!1,s=e.edge(i,r)),o=s.weight,Fe(e.nodeEdges(r),function(l){var u=l.v===r,h=u?l.w:l.v;if(h!==i){var d=u===a,p=e.edge(l).weight;if(o+=d?p:-p,r_e(t,r,h)){var f=t.edge(r,h).cutvalue;o+=d?-f:f}}}),o}function V9(t,e){arguments.length<2&&(e=t.nodes()[0]),HZ(t,{},1,e)}function HZ(t,e,r,n,i){var a=r,s=t.node(n);return e[n]=!0,Fe(t.neighbors(n),function(o){pt(e,o)||(r=HZ(t,e,r,o,n))}),s.low=a,s.lim=r++,i?s.parent=i:delete s.parent,r}function WZ(t){return Bc(t.edges(),function(e){return t.edge(e).cutvalue<0})}function YZ(t,e,r){var n=r.v,i=r.w;e.hasEdge(n,i)||(n=r.w,i=r.v);var a=t.node(n),s=t.node(i),o=a,l=!1;a.lim>s.lim&&(o=s,l=!0);var u=Mn(e.edges(),function(h){return l===XO(t,t.node(h.v),o)&&l!==XO(t,t.node(h.w),o)});return P9(u,function(h){return Mv(e,h)})}function qZ(t,e,r,n){var i=r.v,a=r.w;t.removeEdge(i,a),t.setEdge(n.v,n.w,{}),V9(t),U9(t,e),t_e(t,e)}function t_e(t,e){var r=Bc(t.nodes(),function(i){return!e.node(i).parent}),n=JAe(t,r);n=n.slice(1),Fe(n,function(i){var a=t.node(i).parent,s=e.edge(i,a),o=!1;s||(s=e.edge(a,i),o=!0),e.node(i).rank=e.node(a).rank+(o?s.minlen:-s.minlen)})}function r_e(t,e,r){return t.hasEdge(e,r)}function XO(t,e,r){return r.low<=e.lim&&e.lim<=r.lim}function n_e(t){switch(t.graph().ranker){case"network-simplex":KO(t);break;case"tight-tree":a_e(t);break;case"longest-path":i_e(t);break;default:KO(t)}}var i_e=z9;function a_e(t){z9(t),zZ(t)}function KO(t){xf(t)}function s_e(t){var e=Pg(t,"root",{},"_root"),r=o_e(t),n=$d(Vr(r))-1,i=2*n+1;t.graph().nestingRoot=e,Fe(t.edges(),function(s){t.edge(s).minlen*=i});var a=l_e(t)+1;Fe(t.children(),function(s){jZ(t,e,i,a,n,r,s)}),t.graph().nodeRankFactor=i}function jZ(t,e,r,n,i,a,s){var o=t.children(s);if(!o.length){s!==e&&t.setEdge(e,s,{weight:0,minlen:r});return}var l=YO(t,"_bt"),u=YO(t,"_bb"),h=t.node(s);t.setParent(l,s),h.borderTop=l,t.setParent(u,s),h.borderBottom=u,Fe(o,function(d){jZ(t,e,r,n,i,a,d);var p=t.node(d),f=p.borderTop?p.borderTop:d,g=p.borderBottom?p.borderBottom:d,m=p.borderTop?n:2*n,y=f!==g?1:i-a[s]+1;t.setEdge(l,f,{weight:m,minlen:y,nestingEdge:!0}),t.setEdge(g,u,{weight:m,minlen:y,nestingEdge:!0})}),t.parent(s)||t.setEdge(e,l,{weight:0,minlen:i+a[s]})}function o_e(t){var e={};function r(n,i){var a=t.children(n);a&&a.length&&Fe(a,function(s){r(s,i+1)}),e[n]=i}return Fe(t.children(),function(n){r(n,1)}),e}function l_e(t){return Jn(t.edges(),function(e,r){return e+t.edge(r).weight},0)}function c_e(t){var e=t.graph();t.removeNode(e.nestingRoot),delete e.nestingRoot,Fe(t.edges(),function(r){var n=t.edge(r);n.nestingEdge&&t.removeEdge(r)})}function u_e(t,e,r){var n={},i;Fe(r,function(a){for(var s=t.parent(a),o,l;s;){if(o=t.parent(s),o?(l=n[o],n[o]=s):(l=i,i=s),l&&l!==s){e.setEdge(l,s);return}s=o}})}function h_e(t,e,r){var n=d_e(t),i=new bi({compound:!0}).setGraph({root:n}).setDefaultNodeLabel(function(a){return t.node(a)});return Fe(t.nodes(),function(a){var s=t.node(a),o=t.parent(a);(s.rank===e||s.minRank<=e&&e<=s.maxRank)&&(i.setNode(a),i.setParent(a,o||n),Fe(t[r](a),function(l){var u=l.v===a?l.w:l.v,h=i.edge(u,a),d=Dr(h)?0:h.weight;i.setEdge(u,a,{weight:t.edge(l).weight+d})}),pt(s,"minRank")&&i.setNode(a,{borderLeft:s.borderLeft[e],borderRight:s.borderRight[e]}))}),i}function d_e(t){for(var e;t.hasNode(e=$9("_root")););return e}function f_e(t,e){for(var r=0,n=1;n<e.length;++n)r+=p_e(t,e[n-1],e[n]);return r}function p_e(t,e,r){for(var n=TAe(r,ht(r,function(u,h){return h})),i=Ai(ht(e,function(u){return Uy(ht(t.outEdges(u),function(h){return{pos:n[h.w],weight:t.edge(h).weight}}),"pos")})),a=1;a<r.length;)a<<=1;var s=2*a-1;a-=1;var o=ht(new Array(s),function(){return 0}),l=0;return Fe(i.forEach(function(u){var h=u.pos+a;o[h]+=u.weight;for(var d=0;h>0;)h%2&&(d+=o[h+1]),h=h-1>>1,o[h]+=u.weight;l+=u.weight*d})),l}function g_e(t){var e={},r=Mn(t.nodes(),function(o){return!t.children(o).length}),n=$d(ht(r,function(o){return t.node(o).rank})),i=ht(Jp(n+1),function(){return[]});function a(o){if(!pt(e,o)){e[o]=!0;var l=t.node(o);i[l.rank].push(o),Fe(t.successors(o),a)}}var s=Uy(r,function(o){return t.node(o).rank});return Fe(s,a),i}function m_e(t,e){return ht(e,function(r){var n=t.inEdges(r);if(n.length){var i=Jn(n,function(a,s){var o=t.edge(s),l=t.node(s.v);return{sum:a.sum+o.weight*l.order,weight:a.weight+o.weight}},{sum:0,weight:0});return{v:r,barycenter:i.sum/i.weight,weight:i.weight}}else return{v:r}})}function v_e(t,e){var r={};Fe(t,function(i,a){var s=r[i.v]={indegree:0,in:[],out:[],vs:[i.v],i:a};Dr(i.barycenter)||(s.barycenter=i.barycenter,s.weight=i.weight)}),Fe(e.edges(),function(i){var a=r[i.v],s=r[i.w];!Dr(a)&&!Dr(s)&&(s.indegree++,a.out.push(r[i.w]))});var n=Mn(r,function(i){return!i.indegree});return y_e(n)}function y_e(t){var e=[];function r(a){return function(s){s.merged||(Dr(s.barycenter)||Dr(a.barycenter)||s.barycenter>=a.barycenter)&&x_e(a,s)}}function n(a){return function(s){s.in.push(a),--s.indegree===0&&t.push(s)}}for(;t.length;){var i=t.pop();e.push(i),Fe(i.in.reverse(),r(i)),Fe(i.out,n(i))}return ht(Mn(e,function(a){return!a.merged}),function(a){return w3(a,["vs","i","barycenter","weight"])})}function x_e(t,e){var r=0,n=0;t.weight&&(r+=t.barycenter*t.weight,n+=t.weight),e.weight&&(r+=e.barycenter*e.weight,n+=e.weight),t.vs=e.vs.concat(t.vs),t.barycenter=r/n,t.weight=n,t.i=Math.min(e.i,t.i),e.merged=!0}function b_e(t,e){var r=BAe(t,function(h){return pt(h,"barycenter")}),n=r.lhs,i=Uy(r.rhs,function(h){return-h.i}),a=[],s=0,o=0,l=0;n.sort(w_e(!!e)),l=QO(a,i,l),Fe(n,function(h){l+=h.vs.length,a.push(h.vs),s+=h.barycenter*h.weight,o+=h.weight,l=QO(a,i,l)});var u={vs:Ai(a)};return o&&(u.barycenter=s/o,u.weight=o),u}function QO(t,e,r){for(var n;e.length&&(n=_l(e)).i<=r;)e.pop(),t.push(n.vs),r++;return r}function w_e(t){return function(e,r){return e.barycenter<r.barycenter?-1:e.barycenter>r.barycenter?1:t?r.i-e.i:e.i-r.i}}function XZ(t,e,r,n){var i=t.children(e),a=t.node(e),s=a?a.borderLeft:void 0,o=a?a.borderRight:void 0,l={};s&&(i=Mn(i,function(g){return g!==s&&g!==o}));var u=m_e(t,i);Fe(u,function(g){if(t.children(g.v).length){var m=XZ(t,g.v,r,n);l[g.v]=m,pt(m,"barycenter")&&T_e(g,m)}});var h=v_e(u,r);k_e(h,l);var d=b_e(h,n);if(s&&(d.vs=Ai([s,d.vs,o]),t.predecessors(s).length)){var p=t.node(t.predecessors(s)[0]),f=t.node(t.predecessors(o)[0]);pt(d,"barycenter")||(d.barycenter=0,d.weight=0),d.barycenter=(d.barycenter*d.weight+p.order+f.order)/(d.weight+2),d.weight+=2}return d}function k_e(t,e){Fe(t,function(r){r.vs=Ai(r.vs.map(function(n){return e[n]?e[n].vs:n}))})}function T_e(t,e){Dr(t.barycenter)?(t.barycenter=e.barycenter,t.weight=e.weight):(t.barycenter=(t.barycenter*t.weight+e.barycenter*e.weight)/(t.weight+e.weight),t.weight+=e.weight)}function E_e(t){var e=BZ(t),r=ZO(t,Jp(1,e+1),"inEdges"),n=ZO(t,Jp(e-1,-1,-1),"outEdges"),i=g_e(t);JO(t,i);for(var a=Number.POSITIVE_INFINITY,s,o=0,l=0;l<4;++o,++l){S_e(o%2?r:n,o%4>=2),i=jw(t);var u=f_e(t,i);u<a&&(l=0,s=HCe(i),a=u)}JO(t,s)}function ZO(t,e,r){return ht(e,function(n){return h_e(t,n,r)})}function S_e(t,e){var r=new bi;Fe(t,function(n){var i=n.graph().root,a=XZ(n,i,r,e);Fe(a.vs,function(s,o){n.node(s).order=o}),u_e(n,r,a.vs)})}function JO(t,e){Fe(e,function(r){Fe(r,function(n,i){t.node(n).order=i})})}function C_e(t){var e=__e(t);Fe(t.graph().dummyChains,function(r){for(var n=t.node(r),i=n.edgeObj,a=A_e(t,e,i.v,i.w),s=a.path,o=a.lca,l=0,u=s[l],h=!0;r!==i.w;){if(n=t.node(r),h){for(;(u=s[l])!==o&&t.node(u).maxRank<n.rank;)l++;u===o&&(h=!1)}if(!h){for(;l<s.length-1&&t.node(u=s[l+1]).minRank<=n.rank;)l++;u=s[l]}t.setParent(r,u),r=t.successors(r)[0]}})}function A_e(t,e,r,n){var i=[],a=[],s=Math.min(e[r].low,e[n].low),o=Math.max(e[r].lim,e[n].lim),l,u;l=r;do l=t.parent(l),i.push(l);while(l&&(e[l].low>s||o>e[l].lim));for(u=l,l=n;(l=t.parent(l))!==u;)a.push(l);return{path:i.concat(a.reverse()),lca:u}}function __e(t){var e={},r=0;function n(i){var a=r;Fe(t.children(i),n),e[i]={low:a,lim:r++}}return Fe(t.children(),n),e}function L_e(t,e){var r={};function n(i,a){var s=0,o=0,l=i.length,u=_l(a);return Fe(a,function(h,d){var p=R_e(t,h),f=p?t.node(p).order:l;(p||h===u)&&(Fe(a.slice(o,d+1),function(g){Fe(t.predecessors(g),function(m){var y=t.node(m),v=y.order;(v<s||f<v)&&!(y.dummy&&t.node(g).dummy)&&KZ(r,m,g)})}),o=d+1,s=f)}),a}return Jn(e,n),r}function N_e(t,e){var r={};function n(a,s,o,l,u){var h;Fe(Jp(s,o),function(d){h=a[d],t.node(h).dummy&&Fe(t.predecessors(h),function(p){var f=t.node(p);f.dummy&&(f.order<l||f.order>u)&&KZ(r,p,h)})})}function i(a,s){var o=-1,l,u=0;return Fe(s,function(h,d){if(t.node(h).dummy==="border"){var p=t.predecessors(h);p.length&&(l=t.node(p[0]).order,n(s,u,d,o,l),u=d,o=l)}n(s,u,s.length,l,a.length)}),s}return Jn(e,i),r}function R_e(t,e){if(t.node(e).dummy)return Bc(t.predecessors(e),function(r){return t.node(r).dummy})}function KZ(t,e,r){if(e>r){var n=e;e=r,r=n}var i=t[e];i||(t[e]=i={}),i[r]=!0}function M_e(t,e,r){if(e>r){var n=e;e=r,r=n}return pt(t[e],r)}function I_e(t,e,r,n){var i={},a={},s={};return Fe(e,function(o){Fe(o,function(l,u){i[l]=l,a[l]=l,s[l]=u})}),Fe(e,function(o){var l=-1;Fe(o,function(u){var h=n(u);if(h.length){h=Uy(h,function(m){return s[m]});for(var d=(h.length-1)/2,p=Math.floor(d),f=Math.ceil(d);p<=f;++p){var g=h[p];a[u]===u&&l<s[g]&&!M_e(r,u,g)&&(a[g]=u,a[u]=i[u]=i[g],l=s[g])}}})}),{root:i,align:a}}function D_e(t,e,r,n,i){var a={},s=O_e(t,e,r,i),o=i?"borderLeft":"borderRight";function l(d,p){for(var f=s.nodes(),g=f.pop(),m={};g;)m[g]?d(g):(m[g]=!0,f.push(g),f=f.concat(p(g))),g=f.pop()}function u(d){a[d]=s.inEdges(d).reduce(function(p,f){return Math.max(p,a[f.v]+s.edge(f))},0)}function h(d){var p=s.outEdges(d).reduce(function(g,m){return Math.min(g,a[m.w]-s.edge(m))},Number.POSITIVE_INFINITY),f=t.node(d);p!==Number.POSITIVE_INFINITY&&f.borderType!==o&&(a[d]=Math.max(a[d],p))}return l(u,s.predecessors.bind(s)),l(h,s.successors.bind(s)),Fe(n,function(d){a[d]=a[r[d]]}),a}function O_e(t,e,r,n){var i=new bi,a=t.graph(),s=z_e(a.nodesep,a.edgesep,n);return Fe(e,function(o){var l;Fe(o,function(u){var h=r[u];if(i.setNode(h),l){var d=r[l],p=i.edge(d,h);i.setEdge(d,h,Math.max(s(t,u,l),p||0))}l=u})}),i}function P_e(t,e){return P9(Vr(e),function(r){var n=Number.NEGATIVE_INFINITY,i=Number.POSITIVE_INFINITY;return V8e(r,function(a,s){var o=U_e(t,s)/2;n=Math.max(a+o,n),i=Math.min(a-o,i)}),n-i})}function F_e(t,e){var r=Vr(e),n=Zp(r),i=$d(r);Fe(["u","d"],function(a){Fe(["l","r"],function(s){var o=a+s,l=t[o],u;if(l!==e){var h=Vr(l);u=s==="l"?n-Zp(h):i-$d(h),u&&(t[o]=Yw(l,function(d){return d+u}))}})})}function B_e(t,e){return Yw(t.ul,function(r,n){if(e)return t[e.toLowerCase()][n];var i=Uy(ht(t,n));return(i[1]+i[2])/2})}function $_e(t){var e=jw(t),r=q4(L_e(t,e),N_e(t,e)),n={},i;Fe(["u","d"],function(s){i=s==="u"?e:Vr(e).reverse(),Fe(["l","r"],function(o){o==="r"&&(i=ht(i,function(d){return Vr(d).reverse()}));var l=(s==="u"?t.predecessors:t.successors).bind(t),u=I_e(t,i,r,l),h=D_e(t,i,u.root,u.align,o==="r");o==="r"&&(h=Yw(h,function(d){return-d})),n[s+o]=h})});var a=P_e(t,n);return F_e(n,a),B_e(n,t.graph().align)}function z_e(t,e,r){return function(n,i,a){var s=n.node(i),o=n.node(a),l=0,u;if(l+=s.width/2,pt(s,"labelpos"))switch(s.labelpos.toLowerCase()){case"l":u=-s.width/2;break;case"r":u=s.width/2;break}if(u&&(l+=r?u:-u),u=0,l+=(s.dummy?e:t)/2,l+=(o.dummy?e:t)/2,l+=o.width/2,pt(o,"labelpos"))switch(o.labelpos.toLowerCase()){case"l":u=o.width/2;break;case"r":u=-o.width/2;break}return u&&(l+=r?u:-u),u=0,l}}function U_e(t,e){return t.node(e).width}function V_e(t){t=FZ(t),G_e(t),G8e($_e(t),function(e,r){t.node(r).x=e})}function G_e(t){var e=jw(t),r=t.graph().ranksep,n=0;Fe(e,function(i){var a=$d(ht(i,function(s){return t.node(s).height}));Fe(i,function(s){t.node(s).y=n+a/2}),n+=a+r})}function Fg(t,e){var r=$Ae;r("layout",function(){var n=r("  buildLayoutGraph",function(){return e9e(t)});r("  runLayout",function(){H_e(n,r)}),r("  updateInputGraph",function(){W_e(t,n)})})}function H_e(t,e){e("    makeSpaceForEdgeLabels",function(){t9e(t)}),e("    removeSelfEdges",function(){u9e(t)}),e("    acyclic",function(){MAe(t)}),e("    nestingGraph.run",function(){s_e(t)}),e("    rank",function(){n_e(FZ(t))}),e("    injectEdgeLabelProxies",function(){r9e(t)}),e("    removeEmptyRanks",function(){FAe(t)}),e("    nestingGraph.cleanup",function(){c_e(t)}),e("    normalizeRanks",function(){PAe(t)}),e("    assignRankMinMax",function(){n9e(t)}),e("    removeEdgeLabelProxies",function(){i9e(t)}),e("    normalize.run",function(){WAe(t)}),e("    parentDummyChains",function(){C_e(t)}),e("    addBorderSegments",function(){zAe(t)}),e("    order",function(){E_e(t)}),e("    insertSelfEdges",function(){h9e(t)}),e("    adjustCoordinateSystem",function(){UAe(t)}),e("    position",function(){V_e(t)}),e("    positionSelfEdges",function(){d9e(t)}),e("    removeBorderNodes",function(){c9e(t)}),e("    normalize.undo",function(){qAe(t)}),e("    fixupEdgeLabelCoords",function(){o9e(t)}),e("    undoCoordinateSystem",function(){VAe(t)}),e("    translateGraph",function(){a9e(t)}),e("    assignNodeIntersects",function(){s9e(t)}),e("    reversePoints",function(){l9e(t)}),e("    acyclic.undo",function(){DAe(t)})}function W_e(t,e){Fe(t.nodes(),function(r){var n=t.node(r),i=e.node(r);n&&(n.x=i.x,n.y=i.y,e.children(r).length&&(n.width=i.width,n.height=i.height))}),Fe(t.edges(),function(r){var n=t.edge(r),i=e.edge(r);n.points=i.points,pt(i,"x")&&(n.x=i.x,n.y=i.y)}),t.graph().width=e.graph().width,t.graph().height=e.graph().height}var Y_e=["nodesep","edgesep","ranksep","marginx","marginy"],q_e={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},j_e=["acyclicer","ranker","rankdir","align"],X_e=["width","height"],K_e={width:0,height:0},Q_e=["minlen","weight","width","height","labeloffset"],Z_e={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},J_e=["labelpos"];function e9e(t){var e=new bi({multigraph:!0,compound:!0}),r=qT(t.graph());return e.setGraph(q4({},q_e,YT(r,Y_e),w3(r,j_e))),Fe(t.nodes(),function(n){var i=qT(t.node(n));e.setNode(n,Hw(YT(i,X_e),K_e)),e.setParent(n,t.parent(n))}),Fe(t.edges(),function(n){var i=qT(t.edge(n));e.setEdge(n,q4({},Z_e,YT(i,Q_e),w3(i,J_e)))}),e}function t9e(t){var e=t.graph();e.ranksep/=2,Fe(t.edges(),function(r){var n=t.edge(r);n.minlen*=2,n.labelpos.toLowerCase()!=="c"&&(e.rankdir==="TB"||e.rankdir==="BT"?n.width+=n.labeloffset:n.height+=n.labeloffset)})}function r9e(t){Fe(t.edges(),function(e){var r=t.edge(e);if(r.width&&r.height){var n=t.node(e.v),i=t.node(e.w),a={rank:(i.rank-n.rank)/2+n.rank,e};Pg(t,"edge-proxy",a,"_ep")}})}function n9e(t){var e=0;Fe(t.nodes(),function(r){var n=t.node(r);n.borderTop&&(n.minRank=t.node(n.borderTop).rank,n.maxRank=t.node(n.borderBottom).rank,e=$d(e,n.maxRank))}),t.graph().maxRank=e}function i9e(t){Fe(t.nodes(),function(e){var r=t.node(e);r.dummy==="edge-proxy"&&(t.edge(r.e).labelRank=r.rank,t.removeNode(e))})}function a9e(t){var e=Number.POSITIVE_INFINITY,r=0,n=Number.POSITIVE_INFINITY,i=0,a=t.graph(),s=a.marginx||0,o=a.marginy||0;function l(u){var h=u.x,d=u.y,p=u.width,f=u.height;e=Math.min(e,h-p/2),r=Math.max(r,h+p/2),n=Math.min(n,d-f/2),i=Math.max(i,d+f/2)}Fe(t.nodes(),function(u){l(t.node(u))}),Fe(t.edges(),function(u){var h=t.edge(u);pt(h,"x")&&l(h)}),e-=s,n-=o,Fe(t.nodes(),function(u){var h=t.node(u);h.x-=e,h.y-=n}),Fe(t.edges(),function(u){var h=t.edge(u);Fe(h.points,function(d){d.x-=e,d.y-=n}),pt(h,"x")&&(h.x-=e),pt(h,"y")&&(h.y-=n)}),a.width=r-e+s,a.height=i-n+o}function s9e(t){Fe(t.edges(),function(e){var r=t.edge(e),n=t.node(e.v),i=t.node(e.w),a,s;r.points?(a=r.points[0],s=r.points[r.points.length-1]):(r.points=[],a=i,s=n),r.points.unshift(WO(n,a)),r.points.push(WO(i,s))})}function o9e(t){Fe(t.edges(),function(e){var r=t.edge(e);if(pt(r,"x"))switch((r.labelpos==="l"||r.labelpos==="r")&&(r.width-=r.labeloffset),r.labelpos){case"l":r.x-=r.width/2+r.labeloffset;break;case"r":r.x+=r.width/2+r.labeloffset;break}})}function l9e(t){Fe(t.edges(),function(e){var r=t.edge(e);r.reversed&&r.points.reverse()})}function c9e(t){Fe(t.nodes(),function(e){if(t.children(e).length){var r=t.node(e),n=t.node(r.borderTop),i=t.node(r.borderBottom),a=t.node(_l(r.borderLeft)),s=t.node(_l(r.borderRight));r.width=Math.abs(s.x-a.x),r.height=Math.abs(i.y-n.y),r.x=a.x+r.width/2,r.y=n.y+r.height/2}}),Fe(t.nodes(),function(e){t.node(e).dummy==="border"&&t.removeNode(e)})}function u9e(t){Fe(t.edges(),function(e){if(e.v===e.w){var r=t.node(e.v);r.selfEdges||(r.selfEdges=[]),r.selfEdges.push({e,label:t.edge(e)}),t.removeEdge(e)}})}function h9e(t){var e=jw(t);Fe(e,function(r){var n=0;Fe(r,function(i,a){var s=t.node(i);s.order=a+n,Fe(s.selfEdges,function(o){Pg(t,"selfedge",{width:o.label.width,height:o.label.height,rank:s.rank,order:a+ ++n,e:o.e,label:o.label},"_se")}),delete s.selfEdges})})}function d9e(t){Fe(t.nodes(),function(e){var r=t.node(e);if(r.dummy==="selfedge"){var n=t.node(r.e.v),i=n.x+n.width/2,a=n.y,s=r.x-i,o=n.height/2;t.setEdge(r.e,r.label),t.removeNode(e),r.label.points=[{x:i+2*s/3,y:a-o},{x:i+5*s/6,y:a-o},{x:i+s,y:a},{x:i+5*s/6,y:a+o},{x:i+2*s/3,y:a+o}],r.label.x=r.x,r.label.y=r.y}})}function YT(t,e){return Yw(w3(t,e),Number)}function qT(t){var e={};return Fe(t,function(r,n){e[n.toLowerCase()]=r}),e}function Zn(t){var e={options:{directed:t.isDirected(),multigraph:t.isMultigraph(),compound:t.isCompound()},nodes:f9e(t),edges:p9e(t)};return Dr(t.graph())||(e.value=gi(t.graph())),e}function f9e(t){return ht(t.nodes(),function(e){var r=t.node(e),n=t.parent(e),i={v:e};return Dr(r)||(i.value=r),Dr(n)||(i.parent=n),i})}function p9e(t){return ht(t.edges(),function(e){var r=t.edge(e),n={v:e.v,w:e.w};return Dr(e.name)||(n.name=e.name),Dr(r)||(n.value=r),n})}var cr=new Map,ld=new Map,QZ=new Map,g9e=b(()=>{ld.clear(),QZ.clear(),cr.clear()},"clear"),k3=b((t,e)=>{const r=ld.get(e)||[];return q.trace("In isDescendant",e," ",t," = ",r.includes(t)),r.includes(t)},"isDescendant"),m9e=b((t,e)=>{const r=ld.get(e)||[];return q.info("Descendants of ",e," is ",r),q.info("Edge is ",t),t.v===e||t.w===e?!1:r?r.includes(t.v)||k3(t.v,e)||k3(t.w,e)||r.includes(t.w):(q.debug("Tilt, ",e,",not in descendants"),!1)},"edgeInCluster"),ZZ=b((t,e,r,n)=>{q.warn("Copying children of ",t,"root",n,"data",e.node(t),n);const i=e.children(t)||[];t!==n&&i.push(t),q.warn("Copying (nodes) clusterId",t,"nodes",i),i.forEach(a=>{if(e.children(a).length>0)ZZ(a,e,r,n);else{const s=e.node(a);q.info("cp ",a," to ",n," with parent ",t),r.setNode(a,s),n!==e.parent(a)&&(q.warn("Setting parent",a,e.parent(a)),r.setParent(a,e.parent(a))),t!==n&&a!==t?(q.debug("Setting parent",a,t),r.setParent(a,t)):(q.info("In copy ",t,"root",n,"data",e.node(t),n),q.debug("Not Setting parent for node=",a,"cluster!==rootId",t!==n,"node!==clusterId",a!==t));const o=e.edges(a);q.debug("Copying Edges",o),o.forEach(l=>{q.info("Edge",l);const u=e.edge(l.v,l.w,l.name);q.info("Edge data",u,n);try{m9e(l,n)?(q.info("Copying as ",l.v,l.w,u,l.name),r.setEdge(l.v,l.w,u,l.name),q.info("newGraph edges ",r.edges(),r.edge(r.edges()[0]))):q.info("Skipping copy of edge ",l.v,"-->",l.w," rootId: ",n," clusterId:",t)}catch(h){q.error(h)}})}q.debug("Removing node",a),e.removeNode(a)})},"copy"),JZ=b((t,e)=>{const r=e.children(t);let n=[...r];for(const i of r)QZ.set(i,t),n=[...n,...JZ(i,e)];return n},"extractDescendants"),v9e=b((t,e,r)=>{const n=t.edges().filter(l=>l.v===e||l.w===e),i=t.edges().filter(l=>l.v===r||l.w===r),a=n.map(l=>({v:l.v===e?r:l.v,w:l.w===e?e:l.w})),s=i.map(l=>({v:l.v,w:l.w}));return a.filter(l=>s.some(u=>l.v===u.v&&l.w===u.w))},"findCommonEdges"),Iv=b((t,e,r)=>{const n=e.children(t);if(q.trace("Searching children of id ",t,n),n.length<1)return t;let i;for(const a of n){const s=Iv(a,e,r),o=v9e(e,r,s);if(s)if(o.length>0)i=s;else return s}return i},"findNonClusterChild"),eP=b(t=>!cr.has(t)||!cr.get(t).externalConnections?t:cr.has(t)?cr.get(t).id:t,"getAnchorId"),y9e=b((t,e)=>{if(!t||e>10){q.debug("Opting out, no graph ");return}else q.debug("Opting in, graph ");t.nodes().forEach(function(r){t.children(r).length>0&&(q.warn("Cluster identified",r," Replacement id in edges: ",Iv(r,t,r)),ld.set(r,JZ(r,t)),cr.set(r,{id:Iv(r,t,r),clusterData:t.node(r)}))}),t.nodes().forEach(function(r){const n=t.children(r),i=t.edges();n.length>0?(q.debug("Cluster identified",r,ld),i.forEach(a=>{const s=k3(a.v,r),o=k3(a.w,r);s^o&&(q.warn("Edge: ",a," leaves cluster ",r),q.warn("Descendants of XXX ",r,": ",ld.get(r)),cr.get(r).externalConnections=!0)})):q.debug("Not a cluster ",r,ld)});for(let r of cr.keys()){const n=cr.get(r).id,i=t.parent(n);i!==r&&cr.has(i)&&!cr.get(i).externalConnections&&(cr.get(r).id=i)}t.edges().forEach(function(r){const n=t.edge(r);q.warn("Edge "+r.v+" -> "+r.w+": "+JSON.stringify(r)),q.warn("Edge "+r.v+" -> "+r.w+": "+JSON.stringify(t.edge(r)));let i=r.v,a=r.w;if(q.warn("Fix XXX",cr,"ids:",r.v,r.w,"Translating: ",cr.get(r.v)," --- ",cr.get(r.w)),cr.get(r.v)||cr.get(r.w)){if(q.warn("Fixing and trying - removing XXX",r.v,r.w,r.name),i=eP(r.v),a=eP(r.w),t.removeEdge(r.v,r.w,r.name),i!==r.v){const s=t.parent(i);cr.get(s).externalConnections=!0,n.fromCluster=r.v}if(a!==r.w){const s=t.parent(a);cr.get(s).externalConnections=!0,n.toCluster=r.w}q.warn("Fix Replacing with XXX",i,a,r.name),t.setEdge(i,a,n,r.name)}}),q.warn("Adjusted Graph",Zn(t)),eJ(t,0),q.trace(cr)},"adjustClustersAndEdges"),eJ=b((t,e)=>{var i,a;if(q.warn("extractor - ",e,Zn(t),t.children("D")),e>10){q.error("Bailing out");return}let r=t.nodes(),n=!1;for(const s of r){const o=t.children(s);n=n||o.length>0}if(!n){q.debug("Done, no node has children",t.nodes());return}q.debug("Nodes = ",r,e);for(const s of r)if(q.debug("Extracting node",s,cr,cr.has(s)&&!cr.get(s).externalConnections,!t.parent(s),t.node(s),t.children("D")," Depth ",e),!cr.has(s))q.debug("Not a cluster",s,e);else if(!cr.get(s).externalConnections&&t.children(s)&&t.children(s).length>0){q.warn("Cluster without external connections, without a parent and with children",s,e);let l=t.graph().rankdir==="TB"?"LR":"TB";(a=(i=cr.get(s))==null?void 0:i.clusterData)!=null&&a.dir&&(l=cr.get(s).clusterData.dir,q.warn("Fixing dir",cr.get(s).clusterData.dir,l));const u=new bi({multigraph:!0,compound:!0}).setGraph({rankdir:l,nodesep:50,ranksep:50,marginx:8,marginy:8}).setDefaultEdgeLabel(function(){return{}});q.warn("Old graph before copy",Zn(t)),ZZ(s,t,u,s),t.setNode(s,{clusterNode:!0,id:s,clusterData:cr.get(s).clusterData,label:cr.get(s).label,graph:u}),q.warn("New graph after copy node: (",s,")",Zn(u)),q.debug("Old graph after copy",Zn(t))}else q.warn("Cluster ** ",s," **not meeting the criteria !externalConnections:",!cr.get(s).externalConnections," no parent: ",!t.parent(s)," children ",t.children(s)&&t.children(s).length>0,t.children("D"),e),q.debug(cr);r=t.nodes(),q.warn("New list of nodes",r);for(const s of r){const o=t.node(s);q.warn(" Now next level",s,o),o!=null&&o.clusterNode&&eJ(o.graph,e+1)}},"extractor"),tJ=b((t,e)=>{if(e.length===0)return[];let r=Object.assign([],e);return e.forEach(n=>{const i=t.children(n),a=tJ(t,i);r=[...r,...a]}),r},"sorter"),x9e=b(t=>tJ(t,t.children()),"sortNodesByHierarchy"),rJ=b(async(t,e,r,n,i,a)=>{q.warn("Graph in recursive render:XAX",Zn(e),i);const s=e.graph().rankdir;q.trace("Dir in recursive render - dir:",s);const o=t.insert("g").attr("class","root");e.nodes()?q.info("Recursive render XXX",e.nodes()):q.info("No nodes found for",e),e.edges().length>0&&q.info("Recursive edges",e.edge(e.edges()[0]));const l=o.insert("g").attr("class","clusters"),u=o.insert("g").attr("class","edgePaths"),h=o.insert("g").attr("class","edgeLabels"),d=o.insert("g").attr("class","nodes");await Promise.all(e.nodes().map(async function(m){const y=e.node(m);if(i!==void 0){const v=JSON.parse(JSON.stringify(i.clusterData));q.trace(`Setting data for parent cluster XXX
 Node.id = `,m,`
 data=`,v.height,`
Parent cluster`,i.height),e.setNode(i.id,v),e.parent(m)||(q.trace("Setting parent",m,i.id),e.setParent(m,i.id,v))}if(q.info("(Insert) Node XXX"+m+": "+JSON.stringify(e.node(m))),y!=null&&y.clusterNode){q.info("Cluster identified XBX",m,y.width,e.node(m));const{ranksep:v,nodesep:x}=e.graph();y.graph.setGraph({...y.graph.graph(),ranksep:v+25,nodesep:x});const w=await rJ(d,y.graph,r,n,e.node(m),a),k=w.elem;Ut(y,k),y.diff=w.diff||0,q.info("New compound node after recursive render XAX",m,"width",y.width,"height",y.height),pbe(k,y)}else e.children(m).length>0?(q.trace("Cluster - the non recursive path XBX",m,y.id,y,y.width,"Graph:",e),q.trace(Iv(y.id,e)),cr.set(y.id,{id:Iv(y.id,e),node:y})):(q.trace("Node - the non recursive path XAX",m,d,e.node(m),s),await Lq(d,e.node(m),{config:a,dir:s}))})),await b(async()=>{const m=e.edges().map(async function(y){const v=e.edge(y.v,y.w,y.name);q.info("Edge "+y.v+" -> "+y.w+": "+JSON.stringify(y)),q.info("Edge "+y.v+" -> "+y.w+": ",y," ",JSON.stringify(e.edge(y))),q.info("Fix",cr,"ids:",y.v,y.w,"Translating: ",cr.get(y.v),cr.get(y.w)),await mq(h,v)});await Promise.all(m)},"processEdges")(),q.info("Graph before layout:",JSON.stringify(Zn(e))),q.info("############################################# XXX"),q.info("###                Layout                 ### XXX"),q.info("############################################# XXX"),Fg(e),q.info("Graph after layout:",JSON.stringify(Zn(e)));let f=0,{subGraphTitleTotalMargin:g}=of(a);return await Promise.all(x9e(e).map(async function(m){var v;const y=e.node(m);if(q.info("Position XBX => "+m+": ("+y.x,","+y.y,") width: ",y.width," height: ",y.height),y!=null&&y.clusterNode)y.y+=g,q.info("A tainted cluster node XBX1",m,y.id,y.width,y.height,y.x,y.y,e.parent(m)),cr.get(y.id).node=y,eD(y);else if(e.children(m).length>0){q.info("A pure cluster node XBX1",m,y.id,y.x,y.y,y.width,y.height,e.parent(m)),y.height+=g,e.node(y.parentId);const x=(y==null?void 0:y.padding)/2||0,w=((v=y==null?void 0:y.labelBBox)==null?void 0:v.height)||0,k=w-x||0;q.debug("OffsetY",k,"labelHeight",w,"halfPadding",x),await gq(l,y),cr.get(y.id).node=y}else{const x=e.node(y.parentId);y.y+=g/2,q.info("A regular node XBX1 - using the padding",y.id,"parent",y.parentId,y.width,y.height,y.x,y.y,"offsetY",y.offsetY,"parent",x,x==null?void 0:x.offsetY,y),eD(y)}})),e.edges().forEach(function(m){const y=e.edge(m);q.info("Edge "+m.v+" -> "+m.w+": "+JSON.stringify(y),y),y.points.forEach(k=>k.y+=g/2);const v=e.node(m.v);var x=e.node(m.w);const w=xq(u,y,cr,r,v,x,n);vq(y,w)}),e.nodes().forEach(function(m){const y=e.node(m);q.info(m,y.type,y.diff),y.isGroup&&(f=y.diff)}),q.warn("Returning from recursive render XAX",o,f),{elem:o,diff:f}},"recursiveRender"),b9e=b(async(t,e)=>{var a,s,o,l,u,h;const r=new bi({multigraph:!0,compound:!0}).setGraph({rankdir:t.direction,nodesep:((a=t.config)==null?void 0:a.nodeSpacing)||((o=(s=t.config)==null?void 0:s.flowchart)==null?void 0:o.nodeSpacing)||t.nodeSpacing,ranksep:((l=t.config)==null?void 0:l.rankSpacing)||((h=(u=t.config)==null?void 0:u.flowchart)==null?void 0:h.rankSpacing)||t.rankSpacing,marginx:8,marginy:8}).setDefaultEdgeLabel(function(){return{}}),n=e.select("g");bq(n,t.markers,t.type,t.diagramId),gbe(),Sxe(),kxe(),g9e(),t.nodes.forEach(d=>{r.setNode(d.id,{...d}),d.parentId&&r.setParent(d.id,d.parentId)}),q.debug("Edges:",t.edges),t.edges.forEach(d=>{if(d.start===d.end){const p=d.start,f=p+"---"+p+"---1",g=p+"---"+p+"---2",m=r.node(p);r.setNode(f,{domId:f,id:f,parentId:m.parentId,labelStyle:"",label:"",padding:0,shape:"labelRect",style:"",width:10,height:10}),r.setParent(f,m.parentId),r.setNode(g,{domId:g,id:g,parentId:m.parentId,labelStyle:"",padding:0,shape:"labelRect",label:"",style:"",width:10,height:10}),r.setParent(g,m.parentId);const y=structuredClone(d),v=structuredClone(d),x=structuredClone(d);y.label="",y.arrowTypeEnd="none",y.id=p+"-cyclic-special-1",v.arrowTypeEnd="none",v.id=p+"-cyclic-special-mid",x.label="",m.isGroup&&(y.fromCluster=p,x.toCluster=p),x.id=p+"-cyclic-special-2",r.setEdge(p,f,y,p+"-cyclic-special-0"),r.setEdge(f,g,v,p+"-cyclic-special-1"),r.setEdge(g,p,x,p+"-cyc<lic-special-2")}else r.setEdge(d.start,d.end,{...d},d.id)}),q.warn("Graph at first:",JSON.stringify(Zn(r))),y9e(r),q.warn("Graph after XAX:",JSON.stringify(Zn(r)));const i=we();await rJ(n,r,t.type,t.diagramId,void 0,i)},"render");const w9e=Object.freeze(Object.defineProperty({__proto__:null,render:b9e},Symbol.toStringTag,{value:"Module"}));var Xw=b((t,e)=>{const r=t.append("rect");if(r.attr("x",e.x),r.attr("y",e.y),r.attr("fill",e.fill),r.attr("stroke",e.stroke),r.attr("width",e.width),r.attr("height",e.height),e.name&&r.attr("name",e.name),e.rx&&r.attr("rx",e.rx),e.ry&&r.attr("ry",e.ry),e.attrs!==void 0)for(const n in e.attrs)r.attr(n,e.attrs[n]);return e.class&&r.attr("class",e.class),r},"drawRect"),nJ=b((t,e)=>{const r={x:e.startx,y:e.starty,width:e.stopx-e.startx,height:e.stopy-e.starty,fill:e.fill,stroke:e.stroke,class:"rect"};Xw(t,r).lower()},"drawBackgroundRect"),k9e=b((t,e)=>{const r=e.text.replace(wg," "),n=t.append("text");n.attr("x",e.x),n.attr("y",e.y),n.attr("class","legend"),n.style("text-anchor",e.anchor),e.class&&n.attr("class",e.class);const i=n.append("tspan");return i.attr("x",e.x+e.textMargin*2),i.text(r),n},"drawText"),T9e=b((t,e,r,n)=>{const i=t.append("image");i.attr("x",e),i.attr("y",r);const a=bh(n);i.attr("xlink:href",a)},"drawImage"),E9e=b((t,e,r,n)=>{const i=t.append("use");i.attr("x",e),i.attr("y",r);const a=bh(n);i.attr("xlink:href",`#${a}`)},"drawEmbeddedImage"),bf=b(()=>({x:0,y:0,width:100,height:100,fill:"#EDF2AE",stroke:"#666",anchor:"start",rx:0,ry:0}),"getNoteRect"),G9=b(()=>({x:0,y:0,width:100,height:100,"text-anchor":"start",style:"#666",textMargin:0,rx:0,ry:0,tspan:!0}),"getTextObj"),T3=function(){var t=b(function(Re,de,X,oe){for(X=X||{},oe=Re.length;oe--;X[Re[oe]]=de);return X},"o"),e=[1,24],r=[1,25],n=[1,26],i=[1,27],a=[1,28],s=[1,63],o=[1,64],l=[1,65],u=[1,66],h=[1,67],d=[1,68],p=[1,69],f=[1,29],g=[1,30],m=[1,31],y=[1,32],v=[1,33],x=[1,34],w=[1,35],k=[1,36],E=[1,37],_=[1,38],S=[1,39],R=[1,40],C=[1,41],L=[1,42],A=[1,43],N=[1,44],F=[1,45],T=[1,46],D=[1,47],M=[1,48],O=[1,50],I=[1,51],P=[1,52],B=[1,53],$=[1,54],V=[1,55],W=[1,56],K=[1,57],Z=[1,58],H=[1,59],ee=[1,60],te=[14,42],U=[14,34,36,37,38,39,40,41,42,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74],j=[12,14,34,36,37,38,39,40,41,42,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74],Y=[1,82],Q=[1,83],ae=[1,84],ie=[1,85],J=[12,14,42],_e=[12,14,33,42],ce=[12,14,33,42,76,77,79,80],Te=[12,33],be=[34,36,37,38,39,40,41,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74],Ue={trace:b(function(){},"trace"),yy:{},symbols_:{error:2,start:3,mermaidDoc:4,direction:5,direction_tb:6,direction_bt:7,direction_rl:8,direction_lr:9,graphConfig:10,C4_CONTEXT:11,NEWLINE:12,statements:13,EOF:14,C4_CONTAINER:15,C4_COMPONENT:16,C4_DYNAMIC:17,C4_DEPLOYMENT:18,otherStatements:19,diagramStatements:20,otherStatement:21,title:22,accDescription:23,acc_title:24,acc_title_value:25,acc_descr:26,acc_descr_value:27,acc_descr_multiline_value:28,boundaryStatement:29,boundaryStartStatement:30,boundaryStopStatement:31,boundaryStart:32,LBRACE:33,ENTERPRISE_BOUNDARY:34,attributes:35,SYSTEM_BOUNDARY:36,BOUNDARY:37,CONTAINER_BOUNDARY:38,NODE:39,NODE_L:40,NODE_R:41,RBRACE:42,diagramStatement:43,PERSON:44,PERSON_EXT:45,SYSTEM:46,SYSTEM_DB:47,SYSTEM_QUEUE:48,SYSTEM_EXT:49,SYSTEM_EXT_DB:50,SYSTEM_EXT_QUEUE:51,CONTAINER:52,CONTAINER_DB:53,CONTAINER_QUEUE:54,CONTAINER_EXT:55,CONTAINER_EXT_DB:56,CONTAINER_EXT_QUEUE:57,COMPONENT:58,COMPONENT_DB:59,COMPONENT_QUEUE:60,COMPONENT_EXT:61,COMPONENT_EXT_DB:62,COMPONENT_EXT_QUEUE:63,REL:64,BIREL:65,REL_U:66,REL_D:67,REL_L:68,REL_R:69,REL_B:70,REL_INDEX:71,UPDATE_EL_STYLE:72,UPDATE_REL_STYLE:73,UPDATE_LAYOUT_CONFIG:74,attribute:75,STR:76,STR_KEY:77,STR_VALUE:78,ATTRIBUTE:79,ATTRIBUTE_EMPTY:80,$accept:0,$end:1},terminals_:{2:"error",6:"direction_tb",7:"direction_bt",8:"direction_rl",9:"direction_lr",11:"C4_CONTEXT",12:"NEWLINE",14:"EOF",15:"C4_CONTAINER",16:"C4_COMPONENT",17:"C4_DYNAMIC",18:"C4_DEPLOYMENT",22:"title",23:"accDescription",24:"acc_title",25:"acc_title_value",26:"acc_descr",27:"acc_descr_value",28:"acc_descr_multiline_value",33:"LBRACE",34:"ENTERPRISE_BOUNDARY",36:"SYSTEM_BOUNDARY",37:"BOUNDARY",38:"CONTAINER_BOUNDARY",39:"NODE",40:"NODE_L",41:"NODE_R",42:"RBRACE",44:"PERSON",45:"PERSON_EXT",46:"SYSTEM",47:"SYSTEM_DB",48:"SYSTEM_QUEUE",49:"SYSTEM_EXT",50:"SYSTEM_EXT_DB",51:"SYSTEM_EXT_QUEUE",52:"CONTAINER",53:"CONTAINER_DB",54:"CONTAINER_QUEUE",55:"CONTAINER_EXT",56:"CONTAINER_EXT_DB",57:"CONTAINER_EXT_QUEUE",58:"COMPONENT",59:"COMPONENT_DB",60:"COMPONENT_QUEUE",61:"COMPONENT_EXT",62:"COMPONENT_EXT_DB",63:"COMPONENT_EXT_QUEUE",64:"REL",65:"BIREL",66:"REL_U",67:"REL_D",68:"REL_L",69:"REL_R",70:"REL_B",71:"REL_INDEX",72:"UPDATE_EL_STYLE",73:"UPDATE_REL_STYLE",74:"UPDATE_LAYOUT_CONFIG",76:"STR",77:"STR_KEY",78:"STR_VALUE",79:"ATTRIBUTE",80:"ATTRIBUTE_EMPTY"},productions_:[0,[3,1],[3,1],[5,1],[5,1],[5,1],[5,1],[4,1],[10,4],[10,4],[10,4],[10,4],[10,4],[13,1],[13,1],[13,2],[19,1],[19,2],[19,3],[21,1],[21,1],[21,2],[21,2],[21,1],[29,3],[30,3],[30,3],[30,4],[32,2],[32,2],[32,2],[32,2],[32,2],[32,2],[32,2],[31,1],[20,1],[20,2],[20,3],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,1],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[35,1],[35,2],[75,1],[75,2],[75,1],[75,1]],performAction:b(function(de,X,oe,me,ne,ue,pe){var ge=ue.length-1;switch(ne){case 3:me.setDirection("TB");break;case 4:me.setDirection("BT");break;case 5:me.setDirection("RL");break;case 6:me.setDirection("LR");break;case 8:case 9:case 10:case 11:case 12:me.setC4Type(ue[ge-3]);break;case 19:me.setTitle(ue[ge].substring(6)),this.$=ue[ge].substring(6);break;case 20:me.setAccDescription(ue[ge].substring(15)),this.$=ue[ge].substring(15);break;case 21:this.$=ue[ge].trim(),me.setTitle(this.$);break;case 22:case 23:this.$=ue[ge].trim(),me.setAccDescription(this.$);break;case 28:ue[ge].splice(2,0,"ENTERPRISE"),me.addPersonOrSystemBoundary(...ue[ge]),this.$=ue[ge];break;case 29:ue[ge].splice(2,0,"SYSTEM"),me.addPersonOrSystemBoundary(...ue[ge]),this.$=ue[ge];break;case 30:me.addPersonOrSystemBoundary(...ue[ge]),this.$=ue[ge];break;case 31:ue[ge].splice(2,0,"CONTAINER"),me.addContainerBoundary(...ue[ge]),this.$=ue[ge];break;case 32:me.addDeploymentNode("node",...ue[ge]),this.$=ue[ge];break;case 33:me.addDeploymentNode("nodeL",...ue[ge]),this.$=ue[ge];break;case 34:me.addDeploymentNode("nodeR",...ue[ge]),this.$=ue[ge];break;case 35:me.popBoundaryParseStack();break;case 39:me.addPersonOrSystem("person",...ue[ge]),this.$=ue[ge];break;case 40:me.addPersonOrSystem("external_person",...ue[ge]),this.$=ue[ge];break;case 41:me.addPersonOrSystem("system",...ue[ge]),this.$=ue[ge];break;case 42:me.addPersonOrSystem("system_db",...ue[ge]),this.$=ue[ge];break;case 43:me.addPersonOrSystem("system_queue",...ue[ge]),this.$=ue[ge];break;case 44:me.addPersonOrSystem("external_system",...ue[ge]),this.$=ue[ge];break;case 45:me.addPersonOrSystem("external_system_db",...ue[ge]),this.$=ue[ge];break;case 46:me.addPersonOrSystem("external_system_queue",...ue[ge]),this.$=ue[ge];break;case 47:me.addContainer("container",...ue[ge]),this.$=ue[ge];break;case 48:me.addContainer("container_db",...ue[ge]),this.$=ue[ge];break;case 49:me.addContainer("container_queue",...ue[ge]),this.$=ue[ge];break;case 50:me.addContainer("external_container",...ue[ge]),this.$=ue[ge];break;case 51:me.addContainer("external_container_db",...ue[ge]),this.$=ue[ge];break;case 52:me.addContainer("external_container_queue",...ue[ge]),this.$=ue[ge];break;case 53:me.addComponent("component",...ue[ge]),this.$=ue[ge];break;case 54:me.addComponent("component_db",...ue[ge]),this.$=ue[ge];break;case 55:me.addComponent("component_queue",...ue[ge]),this.$=ue[ge];break;case 56:me.addComponent("external_component",...ue[ge]),this.$=ue[ge];break;case 57:me.addComponent("external_component_db",...ue[ge]),this.$=ue[ge];break;case 58:me.addComponent("external_component_queue",...ue[ge]),this.$=ue[ge];break;case 60:me.addRel("rel",...ue[ge]),this.$=ue[ge];break;case 61:me.addRel("birel",...ue[ge]),this.$=ue[ge];break;case 62:me.addRel("rel_u",...ue[ge]),this.$=ue[ge];break;case 63:me.addRel("rel_d",...ue[ge]),this.$=ue[ge];break;case 64:me.addRel("rel_l",...ue[ge]),this.$=ue[ge];break;case 65:me.addRel("rel_r",...ue[ge]),this.$=ue[ge];break;case 66:me.addRel("rel_b",...ue[ge]),this.$=ue[ge];break;case 67:ue[ge].splice(0,1),me.addRel("rel",...ue[ge]),this.$=ue[ge];break;case 68:me.updateElStyle("update_el_style",...ue[ge]),this.$=ue[ge];break;case 69:me.updateRelStyle("update_rel_style",...ue[ge]),this.$=ue[ge];break;case 70:me.updateLayoutConfig("update_layout_config",...ue[ge]),this.$=ue[ge];break;case 71:this.$=[ue[ge]];break;case 72:ue[ge].unshift(ue[ge-1]),this.$=ue[ge];break;case 73:case 75:this.$=ue[ge].trim();break;case 74:let ve={};ve[ue[ge-1].trim()]=ue[ge].trim(),this.$=ve;break;case 76:this.$="";break}},"anonymous"),table:[{3:1,4:2,5:3,6:[1,5],7:[1,6],8:[1,7],9:[1,8],10:4,11:[1,9],15:[1,10],16:[1,11],17:[1,12],18:[1,13]},{1:[3]},{1:[2,1]},{1:[2,2]},{1:[2,7]},{1:[2,3]},{1:[2,4]},{1:[2,5]},{1:[2,6]},{12:[1,14]},{12:[1,15]},{12:[1,16]},{12:[1,17]},{12:[1,18]},{13:19,19:20,20:21,21:22,22:e,23:r,24:n,26:i,28:a,29:49,30:61,32:62,34:s,36:o,37:l,38:u,39:h,40:d,41:p,43:23,44:f,45:g,46:m,47:y,48:v,49:x,50:w,51:k,52:E,53:_,54:S,55:R,56:C,57:L,58:A,59:N,60:F,61:T,62:D,63:M,64:O,65:I,66:P,67:B,68:$,69:V,70:W,71:K,72:Z,73:H,74:ee},{13:70,19:20,20:21,21:22,22:e,23:r,24:n,26:i,28:a,29:49,30:61,32:62,34:s,36:o,37:l,38:u,39:h,40:d,41:p,43:23,44:f,45:g,46:m,47:y,48:v,49:x,50:w,51:k,52:E,53:_,54:S,55:R,56:C,57:L,58:A,59:N,60:F,61:T,62:D,63:M,64:O,65:I,66:P,67:B,68:$,69:V,70:W,71:K,72:Z,73:H,74:ee},{13:71,19:20,20:21,21:22,22:e,23:r,24:n,26:i,28:a,29:49,30:61,32:62,34:s,36:o,37:l,38:u,39:h,40:d,41:p,43:23,44:f,45:g,46:m,47:y,48:v,49:x,50:w,51:k,52:E,53:_,54:S,55:R,56:C,57:L,58:A,59:N,60:F,61:T,62:D,63:M,64:O,65:I,66:P,67:B,68:$,69:V,70:W,71:K,72:Z,73:H,74:ee},{13:72,19:20,20:21,21:22,22:e,23:r,24:n,26:i,28:a,29:49,30:61,32:62,34:s,36:o,37:l,38:u,39:h,40:d,41:p,43:23,44:f,45:g,46:m,47:y,48:v,49:x,50:w,51:k,52:E,53:_,54:S,55:R,56:C,57:L,58:A,59:N,60:F,61:T,62:D,63:M,64:O,65:I,66:P,67:B,68:$,69:V,70:W,71:K,72:Z,73:H,74:ee},{13:73,19:20,20:21,21:22,22:e,23:r,24:n,26:i,28:a,29:49,30:61,32:62,34:s,36:o,37:l,38:u,39:h,40:d,41:p,43:23,44:f,45:g,46:m,47:y,48:v,49:x,50:w,51:k,52:E,53:_,54:S,55:R,56:C,57:L,58:A,59:N,60:F,61:T,62:D,63:M,64:O,65:I,66:P,67:B,68:$,69:V,70:W,71:K,72:Z,73:H,74:ee},{14:[1,74]},t(te,[2,13],{43:23,29:49,30:61,32:62,20:75,34:s,36:o,37:l,38:u,39:h,40:d,41:p,44:f,45:g,46:m,47:y,48:v,49:x,50:w,51:k,52:E,53:_,54:S,55:R,56:C,57:L,58:A,59:N,60:F,61:T,62:D,63:M,64:O,65:I,66:P,67:B,68:$,69:V,70:W,71:K,72:Z,73:H,74:ee}),t(te,[2,14]),t(U,[2,16],{12:[1,76]}),t(te,[2,36],{12:[1,77]}),t(j,[2,19]),t(j,[2,20]),{25:[1,78]},{27:[1,79]},t(j,[2,23]),{35:80,75:81,76:Y,77:Q,79:ae,80:ie},{35:86,75:81,76:Y,77:Q,79:ae,80:ie},{35:87,75:81,76:Y,77:Q,79:ae,80:ie},{35:88,75:81,76:Y,77:Q,79:ae,80:ie},{35:89,75:81,76:Y,77:Q,79:ae,80:ie},{35:90,75:81,76:Y,77:Q,79:ae,80:ie},{35:91,75:81,76:Y,77:Q,79:ae,80:ie},{35:92,75:81,76:Y,77:Q,79:ae,80:ie},{35:93,75:81,76:Y,77:Q,79:ae,80:ie},{35:94,75:81,76:Y,77:Q,79:ae,80:ie},{35:95,75:81,76:Y,77:Q,79:ae,80:ie},{35:96,75:81,76:Y,77:Q,79:ae,80:ie},{35:97,75:81,76:Y,77:Q,79:ae,80:ie},{35:98,75:81,76:Y,77:Q,79:ae,80:ie},{35:99,75:81,76:Y,77:Q,79:ae,80:ie},{35:100,75:81,76:Y,77:Q,79:ae,80:ie},{35:101,75:81,76:Y,77:Q,79:ae,80:ie},{35:102,75:81,76:Y,77:Q,79:ae,80:ie},{35:103,75:81,76:Y,77:Q,79:ae,80:ie},{35:104,75:81,76:Y,77:Q,79:ae,80:ie},t(J,[2,59]),{35:105,75:81,76:Y,77:Q,79:ae,80:ie},{35:106,75:81,76:Y,77:Q,79:ae,80:ie},{35:107,75:81,76:Y,77:Q,79:ae,80:ie},{35:108,75:81,76:Y,77:Q,79:ae,80:ie},{35:109,75:81,76:Y,77:Q,79:ae,80:ie},{35:110,75:81,76:Y,77:Q,79:ae,80:ie},{35:111,75:81,76:Y,77:Q,79:ae,80:ie},{35:112,75:81,76:Y,77:Q,79:ae,80:ie},{35:113,75:81,76:Y,77:Q,79:ae,80:ie},{35:114,75:81,76:Y,77:Q,79:ae,80:ie},{35:115,75:81,76:Y,77:Q,79:ae,80:ie},{20:116,29:49,30:61,32:62,34:s,36:o,37:l,38:u,39:h,40:d,41:p,43:23,44:f,45:g,46:m,47:y,48:v,49:x,50:w,51:k,52:E,53:_,54:S,55:R,56:C,57:L,58:A,59:N,60:F,61:T,62:D,63:M,64:O,65:I,66:P,67:B,68:$,69:V,70:W,71:K,72:Z,73:H,74:ee},{12:[1,118],33:[1,117]},{35:119,75:81,76:Y,77:Q,79:ae,80:ie},{35:120,75:81,76:Y,77:Q,79:ae,80:ie},{35:121,75:81,76:Y,77:Q,79:ae,80:ie},{35:122,75:81,76:Y,77:Q,79:ae,80:ie},{35:123,75:81,76:Y,77:Q,79:ae,80:ie},{35:124,75:81,76:Y,77:Q,79:ae,80:ie},{35:125,75:81,76:Y,77:Q,79:ae,80:ie},{14:[1,126]},{14:[1,127]},{14:[1,128]},{14:[1,129]},{1:[2,8]},t(te,[2,15]),t(U,[2,17],{21:22,19:130,22:e,23:r,24:n,26:i,28:a}),t(te,[2,37],{19:20,20:21,21:22,43:23,29:49,30:61,32:62,13:131,22:e,23:r,24:n,26:i,28:a,34:s,36:o,37:l,38:u,39:h,40:d,41:p,44:f,45:g,46:m,47:y,48:v,49:x,50:w,51:k,52:E,53:_,54:S,55:R,56:C,57:L,58:A,59:N,60:F,61:T,62:D,63:M,64:O,65:I,66:P,67:B,68:$,69:V,70:W,71:K,72:Z,73:H,74:ee}),t(j,[2,21]),t(j,[2,22]),t(J,[2,39]),t(_e,[2,71],{75:81,35:132,76:Y,77:Q,79:ae,80:ie}),t(ce,[2,73]),{78:[1,133]},t(ce,[2,75]),t(ce,[2,76]),t(J,[2,40]),t(J,[2,41]),t(J,[2,42]),t(J,[2,43]),t(J,[2,44]),t(J,[2,45]),t(J,[2,46]),t(J,[2,47]),t(J,[2,48]),t(J,[2,49]),t(J,[2,50]),t(J,[2,51]),t(J,[2,52]),t(J,[2,53]),t(J,[2,54]),t(J,[2,55]),t(J,[2,56]),t(J,[2,57]),t(J,[2,58]),t(J,[2,60]),t(J,[2,61]),t(J,[2,62]),t(J,[2,63]),t(J,[2,64]),t(J,[2,65]),t(J,[2,66]),t(J,[2,67]),t(J,[2,68]),t(J,[2,69]),t(J,[2,70]),{31:134,42:[1,135]},{12:[1,136]},{33:[1,137]},t(Te,[2,28]),t(Te,[2,29]),t(Te,[2,30]),t(Te,[2,31]),t(Te,[2,32]),t(Te,[2,33]),t(Te,[2,34]),{1:[2,9]},{1:[2,10]},{1:[2,11]},{1:[2,12]},t(U,[2,18]),t(te,[2,38]),t(_e,[2,72]),t(ce,[2,74]),t(J,[2,24]),t(J,[2,35]),t(be,[2,25]),t(be,[2,26],{12:[1,138]}),t(be,[2,27])],defaultActions:{2:[2,1],3:[2,2],4:[2,7],5:[2,3],6:[2,4],7:[2,5],8:[2,6],74:[2,8],126:[2,9],127:[2,10],128:[2,11],129:[2,12]},parseError:b(function(de,X){if(X.recoverable)this.trace(de);else{var oe=new Error(de);throw oe.hash=X,oe}},"parseError"),parse:b(function(de){var X=this,oe=[0],me=[],ne=[null],ue=[],pe=this.table,ge="",ve=0,Ee=0,Ce=2,Ne=1,Se=ue.slice.call(arguments,1),Ie=Object.create(this.lexer),Ae={yy:{}};for(var qe in this.yy)Object.prototype.hasOwnProperty.call(this.yy,qe)&&(Ae.yy[qe]=this.yy[qe]);Ie.setInput(de,Ae.yy),Ae.yy.lexer=Ie,Ae.yy.parser=this,typeof Ie.yylloc>"u"&&(Ie.yylloc={});var De=Ie.yylloc;ue.push(De);var Xe=Ie.options&&Ie.options.ranges;typeof Ae.yy.parseError=="function"?this.parseError=Ae.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function at(ct){oe.length=oe.length-2*ct,ne.length=ne.length-ct,ue.length=ue.length-ct}b(at,"popStack");function dt(){var ct;return ct=me.pop()||Ie.lex()||Ne,typeof ct!="number"&&(ct instanceof Array&&(me=ct,ct=me.pop()),ct=X.symbols_[ct]||ct),ct}b(dt,"lex");for(var ut,kt,je,Ye,gt={},We,tt,Ft,rt;;){if(kt=oe[oe.length-1],this.defaultActions[kt]?je=this.defaultActions[kt]:((ut===null||typeof ut>"u")&&(ut=dt()),je=pe[kt]&&pe[kt][ut]),typeof je>"u"||!je.length||!je[0]){var Ge="";rt=[];for(We in pe[kt])this.terminals_[We]&&We>Ce&&rt.push("'"+this.terminals_[We]+"'");Ie.showPosition?Ge="Parse error on line "+(ve+1)+`:
`+Ie.showPosition()+`
Expecting `+rt.join(", ")+", got '"+(this.terminals_[ut]||ut)+"'":Ge="Parse error on line "+(ve+1)+": Unexpected "+(ut==Ne?"end of input":"'"+(this.terminals_[ut]||ut)+"'"),this.parseError(Ge,{text:Ie.match,token:this.terminals_[ut]||ut,line:Ie.yylineno,loc:De,expected:rt})}if(je[0]instanceof Array&&je.length>1)throw new Error("Parse Error: multiple actions possible at state: "+kt+", token: "+ut);switch(je[0]){case 1:oe.push(ut),ne.push(Ie.yytext),ue.push(Ie.yylloc),oe.push(je[1]),ut=null,Ee=Ie.yyleng,ge=Ie.yytext,ve=Ie.yylineno,De=Ie.yylloc;break;case 2:if(tt=this.productions_[je[1]][1],gt.$=ne[ne.length-tt],gt._$={first_line:ue[ue.length-(tt||1)].first_line,last_line:ue[ue.length-1].last_line,first_column:ue[ue.length-(tt||1)].first_column,last_column:ue[ue.length-1].last_column},Xe&&(gt._$.range=[ue[ue.length-(tt||1)].range[0],ue[ue.length-1].range[1]]),Ye=this.performAction.apply(gt,[ge,Ee,ve,Ae.yy,je[1],ne,ue].concat(Se)),typeof Ye<"u")return Ye;tt&&(oe=oe.slice(0,-1*tt*2),ne=ne.slice(0,-1*tt),ue=ue.slice(0,-1*tt)),oe.push(this.productions_[je[1]][0]),ne.push(gt.$),ue.push(gt._$),Ft=pe[oe[oe.length-2]][oe[oe.length-1]],oe.push(Ft);break;case 3:return!0}}return!0},"parse")},He=function(){var Re={EOF:1,parseError:b(function(X,oe){if(this.yy.parser)this.yy.parser.parseError(X,oe);else throw new Error(X)},"parseError"),setInput:b(function(de,X){return this.yy=X||this.yy||{},this._input=de,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},"setInput"),input:b(function(){var de=this._input[0];this.yytext+=de,this.yyleng++,this.offset++,this.match+=de,this.matched+=de;var X=de.match(/(?:\r\n?|\n).*/g);return X?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),de},"input"),unput:b(function(de){var X=de.length,oe=de.split(/(?:\r\n?|\n)/g);this._input=de+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-X),this.offset-=X;var me=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),oe.length-1&&(this.yylineno-=oe.length-1);var ne=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:oe?(oe.length===me.length?this.yylloc.first_column:0)+me[me.length-oe.length].length-oe[0].length:this.yylloc.first_column-X},this.options.ranges&&(this.yylloc.range=[ne[0],ne[0]+this.yyleng-X]),this.yyleng=this.yytext.length,this},"unput"),more:b(function(){return this._more=!0,this},"more"),reject:b(function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},"reject"),less:b(function(de){this.unput(this.match.slice(de))},"less"),pastInput:b(function(){var de=this.matched.substr(0,this.matched.length-this.match.length);return(de.length>20?"...":"")+de.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:b(function(){var de=this.match;return de.length<20&&(de+=this._input.substr(0,20-de.length)),(de.substr(0,20)+(de.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:b(function(){var de=this.pastInput(),X=new Array(de.length+1).join("-");return de+this.upcomingInput()+`
`+X+"^"},"showPosition"),test_match:b(function(de,X){var oe,me,ne;if(this.options.backtrack_lexer&&(ne={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(ne.yylloc.range=this.yylloc.range.slice(0))),me=de[0].match(/(?:\r\n?|\n).*/g),me&&(this.yylineno+=me.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:me?me[me.length-1].length-me[me.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+de[0].length},this.yytext+=de[0],this.match+=de[0],this.matches=de,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(de[0].length),this.matched+=de[0],oe=this.performAction.call(this,this.yy,this,X,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),oe)return oe;if(this._backtrack){for(var ue in ne)this[ue]=ne[ue];return!1}return!1},"test_match"),next:b(function(){if(this.done)return this.EOF;this._input||(this.done=!0);var de,X,oe,me;this._more||(this.yytext="",this.match="");for(var ne=this._currentRules(),ue=0;ue<ne.length;ue++)if(oe=this._input.match(this.rules[ne[ue]]),oe&&(!X||oe[0].length>X[0].length)){if(X=oe,me=ue,this.options.backtrack_lexer){if(de=this.test_match(oe,ne[ue]),de!==!1)return de;if(this._backtrack){X=!1;continue}else return!1}else if(!this.options.flex)break}return X?(de=this.test_match(X,ne[me]),de!==!1?de:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:b(function(){var X=this.next();return X||this.lex()},"lex"),begin:b(function(X){this.conditionStack.push(X)},"begin"),popState:b(function(){var X=this.conditionStack.length-1;return X>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:b(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:b(function(X){return X=this.conditionStack.length-1-Math.abs(X||0),X>=0?this.conditionStack[X]:"INITIAL"},"topState"),pushState:b(function(X){this.begin(X)},"pushState"),stateStackSize:b(function(){return this.conditionStack.length},"stateStackSize"),options:{},performAction:b(function(X,oe,me,ne){switch(me){case 0:return 6;case 1:return 7;case 2:return 8;case 3:return 9;case 4:return 22;case 5:return 23;case 6:return this.begin("acc_title"),24;case 7:return this.popState(),"acc_title_value";case 8:return this.begin("acc_descr"),26;case 9:return this.popState(),"acc_descr_value";case 10:this.begin("acc_descr_multiline");break;case 11:this.popState();break;case 12:return"acc_descr_multiline_value";case 13:break;case 14:c;break;case 15:return 12;case 16:break;case 17:return 11;case 18:return 15;case 19:return 16;case 20:return 17;case 21:return 18;case 22:return this.begin("person_ext"),45;case 23:return this.begin("person"),44;case 24:return this.begin("system_ext_queue"),51;case 25:return this.begin("system_ext_db"),50;case 26:return this.begin("system_ext"),49;case 27:return this.begin("system_queue"),48;case 28:return this.begin("system_db"),47;case 29:return this.begin("system"),46;case 30:return this.begin("boundary"),37;case 31:return this.begin("enterprise_boundary"),34;case 32:return this.begin("system_boundary"),36;case 33:return this.begin("container_ext_queue"),57;case 34:return this.begin("container_ext_db"),56;case 35:return this.begin("container_ext"),55;case 36:return this.begin("container_queue"),54;case 37:return this.begin("container_db"),53;case 38:return this.begin("container"),52;case 39:return this.begin("container_boundary"),38;case 40:return this.begin("component_ext_queue"),63;case 41:return this.begin("component_ext_db"),62;case 42:return this.begin("component_ext"),61;case 43:return this.begin("component_queue"),60;case 44:return this.begin("component_db"),59;case 45:return this.begin("component"),58;case 46:return this.begin("node"),39;case 47:return this.begin("node"),39;case 48:return this.begin("node_l"),40;case 49:return this.begin("node_r"),41;case 50:return this.begin("rel"),64;case 51:return this.begin("birel"),65;case 52:return this.begin("rel_u"),66;case 53:return this.begin("rel_u"),66;case 54:return this.begin("rel_d"),67;case 55:return this.begin("rel_d"),67;case 56:return this.begin("rel_l"),68;case 57:return this.begin("rel_l"),68;case 58:return this.begin("rel_r"),69;case 59:return this.begin("rel_r"),69;case 60:return this.begin("rel_b"),70;case 61:return this.begin("rel_index"),71;case 62:return this.begin("update_el_style"),72;case 63:return this.begin("update_rel_style"),73;case 64:return this.begin("update_layout_config"),74;case 65:return"EOF_IN_STRUCT";case 66:return this.begin("attribute"),"ATTRIBUTE_EMPTY";case 67:this.begin("attribute");break;case 68:this.popState(),this.popState();break;case 69:return 80;case 70:break;case 71:return 80;case 72:this.begin("string");break;case 73:this.popState();break;case 74:return"STR";case 75:this.begin("string_kv");break;case 76:return this.begin("string_kv_key"),"STR_KEY";case 77:this.popState(),this.begin("string_kv_value");break;case 78:return"STR_VALUE";case 79:this.popState(),this.popState();break;case 80:return"STR";case 81:return"LBRACE";case 82:return"RBRACE";case 83:return"SPACE";case 84:return"EOL";case 85:return 14}},"anonymous"),rules:[/^(?:.*direction\s+TB[^\n]*)/,/^(?:.*direction\s+BT[^\n]*)/,/^(?:.*direction\s+RL[^\n]*)/,/^(?:.*direction\s+LR[^\n]*)/,/^(?:title\s[^#\n;]+)/,/^(?:accDescription\s[^#\n;]+)/,/^(?:accTitle\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*\{\s*)/,/^(?:[\}])/,/^(?:[^\}]*)/,/^(?:%%(?!\{)*[^\n]*(\r?\n?)+)/,/^(?:%%[^\n]*(\r?\n)*)/,/^(?:\s*(\r?\n)+)/,/^(?:\s+)/,/^(?:C4Context\b)/,/^(?:C4Container\b)/,/^(?:C4Component\b)/,/^(?:C4Dynamic\b)/,/^(?:C4Deployment\b)/,/^(?:Person_Ext\b)/,/^(?:Person\b)/,/^(?:SystemQueue_Ext\b)/,/^(?:SystemDb_Ext\b)/,/^(?:System_Ext\b)/,/^(?:SystemQueue\b)/,/^(?:SystemDb\b)/,/^(?:System\b)/,/^(?:Boundary\b)/,/^(?:Enterprise_Boundary\b)/,/^(?:System_Boundary\b)/,/^(?:ContainerQueue_Ext\b)/,/^(?:ContainerDb_Ext\b)/,/^(?:Container_Ext\b)/,/^(?:ContainerQueue\b)/,/^(?:ContainerDb\b)/,/^(?:Container\b)/,/^(?:Container_Boundary\b)/,/^(?:ComponentQueue_Ext\b)/,/^(?:ComponentDb_Ext\b)/,/^(?:Component_Ext\b)/,/^(?:ComponentQueue\b)/,/^(?:ComponentDb\b)/,/^(?:Component\b)/,/^(?:Deployment_Node\b)/,/^(?:Node\b)/,/^(?:Node_L\b)/,/^(?:Node_R\b)/,/^(?:Rel\b)/,/^(?:BiRel\b)/,/^(?:Rel_Up\b)/,/^(?:Rel_U\b)/,/^(?:Rel_Down\b)/,/^(?:Rel_D\b)/,/^(?:Rel_Left\b)/,/^(?:Rel_L\b)/,/^(?:Rel_Right\b)/,/^(?:Rel_R\b)/,/^(?:Rel_Back\b)/,/^(?:RelIndex\b)/,/^(?:UpdateElementStyle\b)/,/^(?:UpdateRelStyle\b)/,/^(?:UpdateLayoutConfig\b)/,/^(?:$)/,/^(?:[(][ ]*[,])/,/^(?:[(])/,/^(?:[)])/,/^(?:,,)/,/^(?:,)/,/^(?:[ ]*["]["])/,/^(?:[ ]*["])/,/^(?:["])/,/^(?:[^"]*)/,/^(?:[ ]*[\$])/,/^(?:[^=]*)/,/^(?:[=][ ]*["])/,/^(?:[^"]+)/,/^(?:["])/,/^(?:[^,]+)/,/^(?:\{)/,/^(?:\})/,/^(?:[\s]+)/,/^(?:[\n\r]+)/,/^(?:$)/],conditions:{acc_descr_multiline:{rules:[11,12],inclusive:!1},acc_descr:{rules:[9],inclusive:!1},acc_title:{rules:[7],inclusive:!1},string_kv_value:{rules:[78,79],inclusive:!1},string_kv_key:{rules:[77],inclusive:!1},string_kv:{rules:[76],inclusive:!1},string:{rules:[73,74],inclusive:!1},attribute:{rules:[68,69,70,71,72,75,80],inclusive:!1},update_layout_config:{rules:[65,66,67,68],inclusive:!1},update_rel_style:{rules:[65,66,67,68],inclusive:!1},update_el_style:{rules:[65,66,67,68],inclusive:!1},rel_b:{rules:[65,66,67,68],inclusive:!1},rel_r:{rules:[65,66,67,68],inclusive:!1},rel_l:{rules:[65,66,67,68],inclusive:!1},rel_d:{rules:[65,66,67,68],inclusive:!1},rel_u:{rules:[65,66,67,68],inclusive:!1},rel_bi:{rules:[],inclusive:!1},rel:{rules:[65,66,67,68],inclusive:!1},node_r:{rules:[65,66,67,68],inclusive:!1},node_l:{rules:[65,66,67,68],inclusive:!1},node:{rules:[65,66,67,68],inclusive:!1},index:{rules:[],inclusive:!1},rel_index:{rules:[65,66,67,68],inclusive:!1},component_ext_queue:{rules:[],inclusive:!1},component_ext_db:{rules:[65,66,67,68],inclusive:!1},component_ext:{rules:[65,66,67,68],inclusive:!1},component_queue:{rules:[65,66,67,68],inclusive:!1},component_db:{rules:[65,66,67,68],inclusive:!1},component:{rules:[65,66,67,68],inclusive:!1},container_boundary:{rules:[65,66,67,68],inclusive:!1},container_ext_queue:{rules:[65,66,67,68],inclusive:!1},container_ext_db:{rules:[65,66,67,68],inclusive:!1},container_ext:{rules:[65,66,67,68],inclusive:!1},container_queue:{rules:[65,66,67,68],inclusive:!1},container_db:{rules:[65,66,67,68],inclusive:!1},container:{rules:[65,66,67,68],inclusive:!1},birel:{rules:[65,66,67,68],inclusive:!1},system_boundary:{rules:[65,66,67,68],inclusive:!1},enterprise_boundary:{rules:[65,66,67,68],inclusive:!1},boundary:{rules:[65,66,67,68],inclusive:!1},system_ext_queue:{rules:[65,66,67,68],inclusive:!1},system_ext_db:{rules:[65,66,67,68],inclusive:!1},system_ext:{rules:[65,66,67,68],inclusive:!1},system_queue:{rules:[65,66,67,68],inclusive:!1},system_db:{rules:[65,66,67,68],inclusive:!1},system:{rules:[65,66,67,68],inclusive:!1},person_ext:{rules:[65,66,67,68],inclusive:!1},person:{rules:[65,66,67,68],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,5,6,8,10,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,81,82,83,84,85],inclusive:!0}}};return Re}();Ue.lexer=He;function Ve(){this.yy={}}return b(Ve,"Parser"),Ve.prototype=Ue,Ue.Parser=Ve,new Ve}();T3.parser=T3;var S9e=T3,Zo=[],Vu=[""],Ia="global",Ho="",Ll=[{alias:"global",label:{text:"global"},type:{text:"global"},tags:null,link:null,parentBoundary:""}],Dv=[],H9="",W9=!1,E3=4,S3=2,iJ,C9e=b(function(){return iJ},"getC4Type"),A9e=b(function(t){iJ=Wn(t,we())},"setC4Type"),_9e=b(function(t,e,r,n,i,a,s,o,l){if(t==null||e===void 0||e===null||r===void 0||r===null||n===void 0||n===null)return;let u={};const h=Dv.find(d=>d.from===e&&d.to===r);if(h?u=h:Dv.push(u),u.type=t,u.from=e,u.to=r,u.label={text:n},i==null)u.techn={text:""};else if(typeof i=="object"){let[d,p]=Object.entries(i)[0];u[d]={text:p}}else u.techn={text:i};if(a==null)u.descr={text:""};else if(typeof a=="object"){let[d,p]=Object.entries(a)[0];u[d]={text:p}}else u.descr={text:a};if(typeof s=="object"){let[d,p]=Object.entries(s)[0];u[d]=p}else u.sprite=s;if(typeof o=="object"){let[d,p]=Object.entries(o)[0];u[d]=p}else u.tags=o;if(typeof l=="object"){let[d,p]=Object.entries(l)[0];u[d]=p}else u.link=l;u.wrap=Th()},"addRel"),L9e=b(function(t,e,r,n,i,a,s){if(e===null||r===null)return;let o={};const l=Zo.find(u=>u.alias===e);if(l&&e===l.alias?o=l:(o.alias=e,Zo.push(o)),r==null?o.label={text:""}:o.label={text:r},n==null)o.descr={text:""};else if(typeof n=="object"){let[u,h]=Object.entries(n)[0];o[u]={text:h}}else o.descr={text:n};if(typeof i=="object"){let[u,h]=Object.entries(i)[0];o[u]=h}else o.sprite=i;if(typeof a=="object"){let[u,h]=Object.entries(a)[0];o[u]=h}else o.tags=a;if(typeof s=="object"){let[u,h]=Object.entries(s)[0];o[u]=h}else o.link=s;o.typeC4Shape={text:t},o.parentBoundary=Ia,o.wrap=Th()},"addPersonOrSystem"),N9e=b(function(t,e,r,n,i,a,s,o){if(e===null||r===null)return;let l={};const u=Zo.find(h=>h.alias===e);if(u&&e===u.alias?l=u:(l.alias=e,Zo.push(l)),r==null?l.label={text:""}:l.label={text:r},n==null)l.techn={text:""};else if(typeof n=="object"){let[h,d]=Object.entries(n)[0];l[h]={text:d}}else l.techn={text:n};if(i==null)l.descr={text:""};else if(typeof i=="object"){let[h,d]=Object.entries(i)[0];l[h]={text:d}}else l.descr={text:i};if(typeof a=="object"){let[h,d]=Object.entries(a)[0];l[h]=d}else l.sprite=a;if(typeof s=="object"){let[h,d]=Object.entries(s)[0];l[h]=d}else l.tags=s;if(typeof o=="object"){let[h,d]=Object.entries(o)[0];l[h]=d}else l.link=o;l.wrap=Th(),l.typeC4Shape={text:t},l.parentBoundary=Ia},"addContainer"),R9e=b(function(t,e,r,n,i,a,s,o){if(e===null||r===null)return;let l={};const u=Zo.find(h=>h.alias===e);if(u&&e===u.alias?l=u:(l.alias=e,Zo.push(l)),r==null?l.label={text:""}:l.label={text:r},n==null)l.techn={text:""};else if(typeof n=="object"){let[h,d]=Object.entries(n)[0];l[h]={text:d}}else l.techn={text:n};if(i==null)l.descr={text:""};else if(typeof i=="object"){let[h,d]=Object.entries(i)[0];l[h]={text:d}}else l.descr={text:i};if(typeof a=="object"){let[h,d]=Object.entries(a)[0];l[h]=d}else l.sprite=a;if(typeof s=="object"){let[h,d]=Object.entries(s)[0];l[h]=d}else l.tags=s;if(typeof o=="object"){let[h,d]=Object.entries(o)[0];l[h]=d}else l.link=o;l.wrap=Th(),l.typeC4Shape={text:t},l.parentBoundary=Ia},"addComponent"),M9e=b(function(t,e,r,n,i){if(t===null||e===null)return;let a={};const s=Ll.find(o=>o.alias===t);if(s&&t===s.alias?a=s:(a.alias=t,Ll.push(a)),e==null?a.label={text:""}:a.label={text:e},r==null)a.type={text:"system"};else if(typeof r=="object"){let[o,l]=Object.entries(r)[0];a[o]={text:l}}else a.type={text:r};if(typeof n=="object"){let[o,l]=Object.entries(n)[0];a[o]=l}else a.tags=n;if(typeof i=="object"){let[o,l]=Object.entries(i)[0];a[o]=l}else a.link=i;a.parentBoundary=Ia,a.wrap=Th(),Ho=Ia,Ia=t,Vu.push(Ho)},"addPersonOrSystemBoundary"),I9e=b(function(t,e,r,n,i){if(t===null||e===null)return;let a={};const s=Ll.find(o=>o.alias===t);if(s&&t===s.alias?a=s:(a.alias=t,Ll.push(a)),e==null?a.label={text:""}:a.label={text:e},r==null)a.type={text:"container"};else if(typeof r=="object"){let[o,l]=Object.entries(r)[0];a[o]={text:l}}else a.type={text:r};if(typeof n=="object"){let[o,l]=Object.entries(n)[0];a[o]=l}else a.tags=n;if(typeof i=="object"){let[o,l]=Object.entries(i)[0];a[o]=l}else a.link=i;a.parentBoundary=Ia,a.wrap=Th(),Ho=Ia,Ia=t,Vu.push(Ho)},"addContainerBoundary"),D9e=b(function(t,e,r,n,i,a,s,o){if(e===null||r===null)return;let l={};const u=Ll.find(h=>h.alias===e);if(u&&e===u.alias?l=u:(l.alias=e,Ll.push(l)),r==null?l.label={text:""}:l.label={text:r},n==null)l.type={text:"node"};else if(typeof n=="object"){let[h,d]=Object.entries(n)[0];l[h]={text:d}}else l.type={text:n};if(i==null)l.descr={text:""};else if(typeof i=="object"){let[h,d]=Object.entries(i)[0];l[h]={text:d}}else l.descr={text:i};if(typeof s=="object"){let[h,d]=Object.entries(s)[0];l[h]=d}else l.tags=s;if(typeof o=="object"){let[h,d]=Object.entries(o)[0];l[h]=d}else l.link=o;l.nodeType=t,l.parentBoundary=Ia,l.wrap=Th(),Ho=Ia,Ia=e,Vu.push(Ho)},"addDeploymentNode"),O9e=b(function(){Ia=Ho,Vu.pop(),Ho=Vu.pop(),Vu.push(Ho)},"popBoundaryParseStack"),P9e=b(function(t,e,r,n,i,a,s,o,l,u,h){let d=Zo.find(p=>p.alias===e);if(!(d===void 0&&(d=Ll.find(p=>p.alias===e),d===void 0))){if(r!=null)if(typeof r=="object"){let[p,f]=Object.entries(r)[0];d[p]=f}else d.bgColor=r;if(n!=null)if(typeof n=="object"){let[p,f]=Object.entries(n)[0];d[p]=f}else d.fontColor=n;if(i!=null)if(typeof i=="object"){let[p,f]=Object.entries(i)[0];d[p]=f}else d.borderColor=i;if(a!=null)if(typeof a=="object"){let[p,f]=Object.entries(a)[0];d[p]=f}else d.shadowing=a;if(s!=null)if(typeof s=="object"){let[p,f]=Object.entries(s)[0];d[p]=f}else d.shape=s;if(o!=null)if(typeof o=="object"){let[p,f]=Object.entries(o)[0];d[p]=f}else d.sprite=o;if(l!=null)if(typeof l=="object"){let[p,f]=Object.entries(l)[0];d[p]=f}else d.techn=l;if(u!=null)if(typeof u=="object"){let[p,f]=Object.entries(u)[0];d[p]=f}else d.legendText=u;if(h!=null)if(typeof h=="object"){let[p,f]=Object.entries(h)[0];d[p]=f}else d.legendSprite=h}},"updateElStyle"),F9e=b(function(t,e,r,n,i,a,s){const o=Dv.find(l=>l.from===e&&l.to===r);if(o!==void 0){if(n!=null)if(typeof n=="object"){let[l,u]=Object.entries(n)[0];o[l]=u}else o.textColor=n;if(i!=null)if(typeof i=="object"){let[l,u]=Object.entries(i)[0];o[l]=u}else o.lineColor=i;if(a!=null)if(typeof a=="object"){let[l,u]=Object.entries(a)[0];o[l]=parseInt(u)}else o.offsetX=parseInt(a);if(s!=null)if(typeof s=="object"){let[l,u]=Object.entries(s)[0];o[l]=parseInt(u)}else o.offsetY=parseInt(s)}},"updateRelStyle"),B9e=b(function(t,e,r){let n=E3,i=S3;if(typeof e=="object"){const a=Object.values(e)[0];n=parseInt(a)}else n=parseInt(e);if(typeof r=="object"){const a=Object.values(r)[0];i=parseInt(a)}else i=parseInt(r);n>=1&&(E3=n),i>=1&&(S3=i)},"updateLayoutConfig"),$9e=b(function(){return E3},"getC4ShapeInRow"),z9e=b(function(){return S3},"getC4BoundaryInRow"),U9e=b(function(){return Ia},"getCurrentBoundaryParse"),V9e=b(function(){return Ho},"getParentBoundaryParse"),aJ=b(function(t){return t==null?Zo:Zo.filter(e=>e.parentBoundary===t)},"getC4ShapeArray"),G9e=b(function(t){return Zo.find(e=>e.alias===t)},"getC4Shape"),H9e=b(function(t){return Object.keys(aJ(t))},"getC4ShapeKeys"),sJ=b(function(t){return t==null?Ll:Ll.filter(e=>e.parentBoundary===t)},"getBoundaries"),W9e=sJ,Y9e=b(function(){return Dv},"getRels"),q9e=b(function(){return H9},"getTitle"),j9e=b(function(t){W9=t},"setWrap"),Th=b(function(){return W9},"autoWrap"),X9e=b(function(){Zo=[],Ll=[{alias:"global",label:{text:"global"},type:{text:"global"},tags:null,link:null,parentBoundary:""}],Ho="",Ia="global",Vu=[""],Dv=[],Vu=[""],H9="",W9=!1,E3=4,S3=2},"clear"),K9e={SOLID:0,DOTTED:1,NOTE:2,SOLID_CROSS:3,DOTTED_CROSS:4,SOLID_OPEN:5,DOTTED_OPEN:6,LOOP_START:10,LOOP_END:11,ALT_START:12,ALT_ELSE:13,ALT_END:14,OPT_START:15,OPT_END:16,ACTIVE_START:17,ACTIVE_END:18,PAR_START:19,PAR_AND:20,PAR_END:21,RECT_START:22,RECT_END:23,SOLID_POINT:24,DOTTED_POINT:25},Q9e={FILLED:0,OPEN:1},Z9e={LEFTOF:0,RIGHTOF:1,OVER:2},J9e=b(function(t){H9=Wn(t,we())},"setTitle"),XS={addPersonOrSystem:L9e,addPersonOrSystemBoundary:M9e,addContainer:N9e,addContainerBoundary:I9e,addComponent:R9e,addDeploymentNode:D9e,popBoundaryParseStack:O9e,addRel:_9e,updateElStyle:P9e,updateRelStyle:F9e,updateLayoutConfig:B9e,autoWrap:Th,setWrap:j9e,getC4ShapeArray:aJ,getC4Shape:G9e,getC4ShapeKeys:H9e,getBoundaries:sJ,getBoundarys:W9e,getCurrentBoundaryParse:U9e,getParentBoundaryParse:V9e,getRels:Y9e,getTitle:q9e,getC4Type:C9e,getC4ShapeInRow:$9e,getC4BoundaryInRow:z9e,setAccTitle:Ri,getAccTitle:Qi,getAccDescription:Ji,setAccDescription:Zi,getConfig:b(()=>we().c4,"getConfig"),clear:X9e,LINETYPE:K9e,ARROWTYPE:Q9e,PLACEMENT:Z9e,setTitle:J9e,setC4Type:A9e},Y9=b(function(t,e){return Xw(t,e)},"drawRect"),oJ=b(function(t,e,r,n,i,a){const s=t.append("image");s.attr("width",e),s.attr("height",r),s.attr("x",n),s.attr("y",i);let o=a.startsWith("data:image/png;base64")?a:bh(a);s.attr("xlink:href",o)},"drawImage"),eLe=b((t,e,r)=>{const n=t.append("g");let i=0;for(let a of e){let s=a.textColor?a.textColor:"#444444",o=a.lineColor?a.lineColor:"#444444",l=a.offsetX?parseInt(a.offsetX):0,u=a.offsetY?parseInt(a.offsetY):0,h="";if(i===0){let p=n.append("line");p.attr("x1",a.startPoint.x),p.attr("y1",a.startPoint.y),p.attr("x2",a.endPoint.x),p.attr("y2",a.endPoint.y),p.attr("stroke-width","1"),p.attr("stroke",o),p.style("fill","none"),a.type!=="rel_b"&&p.attr("marker-end","url("+h+"#arrowhead)"),(a.type==="birel"||a.type==="rel_b")&&p.attr("marker-start","url("+h+"#arrowend)"),i=-1}else{let p=n.append("path");p.attr("fill","none").attr("stroke-width","1").attr("stroke",o).attr("d","Mstartx,starty Qcontrolx,controly stopx,stopy ".replaceAll("startx",a.startPoint.x).replaceAll("starty",a.startPoint.y).replaceAll("controlx",a.startPoint.x+(a.endPoint.x-a.startPoint.x)/2-(a.endPoint.x-a.startPoint.x)/4).replaceAll("controly",a.startPoint.y+(a.endPoint.y-a.startPoint.y)/2).replaceAll("stopx",a.endPoint.x).replaceAll("stopy",a.endPoint.y)),a.type!=="rel_b"&&p.attr("marker-end","url("+h+"#arrowhead)"),(a.type==="birel"||a.type==="rel_b")&&p.attr("marker-start","url("+h+"#arrowend)")}let d=r.messageFont();gc(r)(a.label.text,n,Math.min(a.startPoint.x,a.endPoint.x)+Math.abs(a.endPoint.x-a.startPoint.x)/2+l,Math.min(a.startPoint.y,a.endPoint.y)+Math.abs(a.endPoint.y-a.startPoint.y)/2+u,a.label.width,a.label.height,{fill:s},d),a.techn&&a.techn.text!==""&&(d=r.messageFont(),gc(r)("["+a.techn.text+"]",n,Math.min(a.startPoint.x,a.endPoint.x)+Math.abs(a.endPoint.x-a.startPoint.x)/2+l,Math.min(a.startPoint.y,a.endPoint.y)+Math.abs(a.endPoint.y-a.startPoint.y)/2+r.messageFontSize+5+u,Math.max(a.label.width,a.techn.width),a.techn.height,{fill:s,"font-style":"italic"},d))}},"drawRels"),tLe=b(function(t,e,r){const n=t.append("g");let i=e.bgColor?e.bgColor:"none",a=e.borderColor?e.borderColor:"#444444",s=e.fontColor?e.fontColor:"black",o={"stroke-width":1,"stroke-dasharray":"7.0,7.0"};e.nodeType&&(o={"stroke-width":1});let l={x:e.x,y:e.y,fill:i,stroke:a,width:e.width,height:e.height,rx:2.5,ry:2.5,attrs:o};Y9(n,l);let u=r.boundaryFont();u.fontWeight="bold",u.fontSize=u.fontSize+2,u.fontColor=s,gc(r)(e.label.text,n,e.x,e.y+e.label.Y,e.width,e.height,{fill:"#444444"},u),e.type&&e.type.text!==""&&(u=r.boundaryFont(),u.fontColor=s,gc(r)(e.type.text,n,e.x,e.y+e.type.Y,e.width,e.height,{fill:"#444444"},u)),e.descr&&e.descr.text!==""&&(u=r.boundaryFont(),u.fontSize=u.fontSize-2,u.fontColor=s,gc(r)(e.descr.text,n,e.x,e.y+e.descr.Y,e.width,e.height,{fill:"#444444"},u))},"drawBoundary"),rLe=b(function(t,e,r){var d;let n=e.bgColor?e.bgColor:r[e.typeC4Shape.text+"_bg_color"],i=e.borderColor?e.borderColor:r[e.typeC4Shape.text+"_border_color"],a=e.fontColor?e.fontColor:"#FFFFFF",s="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAIAAADYYG7QAAACD0lEQVR4Xu2YoU4EMRCGT+4j8Ai8AhaH4QHgAUjQuFMECUgMIUgwJAgMhgQsAYUiJCiQIBBY+EITsjfTdme6V24v4c8vyGbb+ZjOtN0bNcvjQXmkH83WvYBWto6PLm6v7p7uH1/w2fXD+PBycX1Pv2l3IdDm/vn7x+dXQiAubRzoURa7gRZWd0iGRIiJbOnhnfYBQZNJjNbuyY2eJG8fkDE3bbG4ep6MHUAsgYxmE3nVs6VsBWJSGccsOlFPmLIViMzLOB7pCVO2AtHJMohH7Fh6zqitQK7m0rJvAVYgGcEpe//PLdDz65sM4pF9N7ICcXDKIB5Nv6j7tD0NoSdM2QrU9Gg0ewE1LqBhHR3BBdvj2vapnidjHxD/q6vd7Pvhr31AwcY8eXMTXAKECZZJFXuEq27aLgQK5uLMohCenGGuGewOxSjBvYBqeG6B+Nqiblggdjnc+ZXDy+FNFpFzw76O3UBAROuXh6FoiAcf5g9eTvUgzy0nWg6I8cXHRUpg5bOVBCo+KDpFajOf23GgPme7RSQ+lacIENUgJ6gg1k6HjgOlqnLqip4tEuhv0hNEMXUD0clyXE3p6pZA0S2nnvTlXwLJEZWlb7cTQH1+USgTN4VhAenm/wea1OCAOmqo6fE1WCb9WSKBah+rbUWPWAmE2Rvk0ApiB45eOyNAzU8xcTvj8KvkKEoOaIYeHNA3ZuygAvFMUO0AAAAASUVORK5CYII=";switch(e.typeC4Shape.text){case"person":s="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAIAAADYYG7QAAACD0lEQVR4Xu2YoU4EMRCGT+4j8Ai8AhaH4QHgAUjQuFMECUgMIUgwJAgMhgQsAYUiJCiQIBBY+EITsjfTdme6V24v4c8vyGbb+ZjOtN0bNcvjQXmkH83WvYBWto6PLm6v7p7uH1/w2fXD+PBycX1Pv2l3IdDm/vn7x+dXQiAubRzoURa7gRZWd0iGRIiJbOnhnfYBQZNJjNbuyY2eJG8fkDE3bbG4ep6MHUAsgYxmE3nVs6VsBWJSGccsOlFPmLIViMzLOB7pCVO2AtHJMohH7Fh6zqitQK7m0rJvAVYgGcEpe//PLdDz65sM4pF9N7ICcXDKIB5Nv6j7tD0NoSdM2QrU9Gg0ewE1LqBhHR3BBdvj2vapnidjHxD/q6vd7Pvhr31AwcY8eXMTXAKECZZJFXuEq27aLgQK5uLMohCenGGuGewOxSjBvYBqeG6B+Nqiblggdjnc+ZXDy+FNFpFzw76O3UBAROuXh6FoiAcf5g9eTvUgzy0nWg6I8cXHRUpg5bOVBCo+KDpFajOf23GgPme7RSQ+lacIENUgJ6gg1k6HjgOlqnLqip4tEuhv0hNEMXUD0clyXE3p6pZA0S2nnvTlXwLJEZWlb7cTQH1+USgTN4VhAenm/wea1OCAOmqo6fE1WCb9WSKBah+rbUWPWAmE2Rvk0ApiB45eOyNAzU8xcTvj8KvkKEoOaIYeHNA3ZuygAvFMUO0AAAAASUVORK5CYII=";break;case"external_person":s="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAIAAADYYG7QAAAB6ElEQVR4Xu2YLY+EMBCG9+dWr0aj0Wg0Go1Go0+j8Xdv2uTCvv1gpt0ebHKPuhDaeW4605Z9mJvx4AdXUyTUdd08z+u6flmWZRnHsWkafk9DptAwDPu+f0eAYtu2PEaGWuj5fCIZrBAC2eLBAnRCsEkkxmeaJp7iDJ2QMDdHsLg8SxKFEJaAo8lAXnmuOFIhTMpxxKATebo4UiFknuNo4OniSIXQyRxEA3YsnjGCVEjVXD7yLUAqxBGUyPv/Y4W2beMgGuS7kVQIBycH0fD+oi5pezQETxdHKmQKGk1eQEYldK+jw5GxPfZ9z7Mk0Qnhf1W1m3w//EUn5BDmSZsbR44QQLBEqrBHqOrmSKaQAxdnLArCrxZcM7A7ZKs4ioRq8LFC+NpC3WCBJsvpVw5edm9iEXFuyNfxXAgSwfrFQ1c0iNda8AdejvUgnktOtJQQxmcfFzGglc5WVCj7oDgFqU18boeFSs52CUh8LE8BIVQDT1ABrB0HtgSEYlX5doJnCwv9TXocKCaKbnwhdDKPq4lf3SwU3HLq4V/+WYhHVMa/3b4IlfyikAduCkcBc7mQ3/z/Qq/cTuikhkzB12Ae/mcJC9U+Vo8Ej1gWAtgbeGgFsAMHr50BIWOLCbezvhpBFUdY6EJuJ/QDW0XoMX60zZ0AAAAASUVORK5CYII=";break}const o=t.append("g");o.attr("class","person-man");const l=bf();switch(e.typeC4Shape.text){case"person":case"external_person":case"system":case"external_system":case"container":case"external_container":case"component":case"external_component":l.x=e.x,l.y=e.y,l.fill=n,l.width=e.width,l.height=e.height,l.stroke=i,l.rx=2.5,l.ry=2.5,l.attrs={"stroke-width":.5},Y9(o,l);break;case"system_db":case"external_system_db":case"container_db":case"external_container_db":case"component_db":case"external_component_db":o.append("path").attr("fill",n).attr("stroke-width","0.5").attr("stroke",i).attr("d","Mstartx,startyc0,-10 half,-10 half,-10c0,0 half,0 half,10l0,heightc0,10 -half,10 -half,10c0,0 -half,0 -half,-10l0,-height".replaceAll("startx",e.x).replaceAll("starty",e.y).replaceAll("half",e.width/2).replaceAll("height",e.height)),o.append("path").attr("fill","none").attr("stroke-width","0.5").attr("stroke",i).attr("d","Mstartx,startyc0,10 half,10 half,10c0,0 half,0 half,-10".replaceAll("startx",e.x).replaceAll("starty",e.y).replaceAll("half",e.width/2));break;case"system_queue":case"external_system_queue":case"container_queue":case"external_container_queue":case"component_queue":case"external_component_queue":o.append("path").attr("fill",n).attr("stroke-width","0.5").attr("stroke",i).attr("d","Mstartx,startylwidth,0c5,0 5,half 5,halfc0,0 0,half -5,halfl-width,0c-5,0 -5,-half -5,-halfc0,0 0,-half 5,-half".replaceAll("startx",e.x).replaceAll("starty",e.y).replaceAll("width",e.width).replaceAll("half",e.height/2)),o.append("path").attr("fill","none").attr("stroke-width","0.5").attr("stroke",i).attr("d","Mstartx,startyc-5,0 -5,half -5,halfc0,half 5,half 5,half".replaceAll("startx",e.x+e.width).replaceAll("starty",e.y).replaceAll("half",e.height/2));break}let u=hLe(r,e.typeC4Shape.text);switch(o.append("text").attr("fill",a).attr("font-family",u.fontFamily).attr("font-size",u.fontSize-2).attr("font-style","italic").attr("lengthAdjust","spacing").attr("textLength",e.typeC4Shape.width).attr("x",e.x+e.width/2-e.typeC4Shape.width/2).attr("y",e.y+e.typeC4Shape.Y).text("<<"+e.typeC4Shape.text+">>"),e.typeC4Shape.text){case"person":case"external_person":oJ(o,48,48,e.x+e.width/2-24,e.y+e.image.Y,s);break}let h=r[e.typeC4Shape.text+"Font"]();return h.fontWeight="bold",h.fontSize=h.fontSize+2,h.fontColor=a,gc(r)(e.label.text,o,e.x,e.y+e.label.Y,e.width,e.height,{fill:a},h),h=r[e.typeC4Shape.text+"Font"](),h.fontColor=a,e.techn&&((d=e.techn)==null?void 0:d.text)!==""?gc(r)(e.techn.text,o,e.x,e.y+e.techn.Y,e.width,e.height,{fill:a,"font-style":"italic"},h):e.type&&e.type.text!==""&&gc(r)(e.type.text,o,e.x,e.y+e.type.Y,e.width,e.height,{fill:a,"font-style":"italic"},h),e.descr&&e.descr.text!==""&&(h=r.personFont(),h.fontColor=a,gc(r)(e.descr.text,o,e.x,e.y+e.descr.Y,e.width,e.height,{fill:a},h)),e.height},"drawC4Shape"),nLe=b(function(t){t.append("defs").append("symbol").attr("id","database").attr("fill-rule","evenodd").attr("clip-rule","evenodd").append("path").attr("transform","scale(.5)").attr("d","M12.258.001l.256.004.255.005.253.008.251.01.249.012.247.015.246.016.242.019.241.02.239.023.236.024.233.027.231.028.229.031.225.032.223.034.22.036.217.038.214.04.211.041.208.043.205.045.201.046.198.048.194.05.191.051.187.053.183.054.18.056.175.057.172.059.168.06.163.061.16.063.155.064.15.066.074.033.073.033.071.034.07.034.069.035.068.035.067.035.066.035.064.036.064.036.062.036.06.036.06.037.058.037.058.037.055.038.055.038.053.038.052.038.051.039.05.039.048.039.047.039.045.04.044.04.043.04.041.04.04.041.039.041.037.041.036.041.034.041.033.042.032.042.03.042.029.042.027.042.026.043.024.043.023.043.021.043.02.043.018.044.017.043.015.044.013.044.012.044.011.045.009.044.007.045.006.045.004.045.002.045.001.045v17l-.001.045-.002.045-.004.045-.006.045-.007.045-.009.044-.011.045-.012.044-.013.044-.015.044-.017.043-.018.044-.02.043-.021.043-.023.043-.024.043-.026.043-.027.042-.029.042-.03.042-.032.042-.033.042-.034.041-.036.041-.037.041-.039.041-.04.041-.041.04-.043.04-.044.04-.045.04-.047.039-.048.039-.05.039-.051.039-.052.038-.053.038-.055.038-.055.038-.058.037-.058.037-.06.037-.06.036-.062.036-.064.036-.064.036-.066.035-.067.035-.068.035-.069.035-.07.034-.071.034-.073.033-.074.033-.15.066-.155.064-.16.063-.163.061-.168.06-.172.059-.175.057-.18.056-.183.054-.187.053-.191.051-.194.05-.198.048-.201.046-.205.045-.208.043-.211.041-.214.04-.217.038-.22.036-.223.034-.225.032-.229.031-.231.028-.233.027-.236.024-.239.023-.241.02-.242.019-.246.016-.247.015-.249.012-.251.01-.253.008-.255.005-.256.004-.258.001-.258-.001-.256-.004-.255-.005-.253-.008-.251-.01-.249-.012-.247-.015-.245-.016-.243-.019-.241-.02-.238-.023-.236-.024-.234-.027-.231-.028-.228-.031-.226-.032-.223-.034-.22-.036-.217-.038-.214-.04-.211-.041-.208-.043-.204-.045-.201-.046-.198-.048-.195-.05-.19-.051-.187-.053-.184-.054-.179-.056-.176-.057-.172-.059-.167-.06-.164-.061-.159-.063-.155-.064-.151-.066-.074-.033-.072-.033-.072-.034-.07-.034-.069-.035-.068-.035-.067-.035-.066-.035-.064-.036-.063-.036-.062-.036-.061-.036-.06-.037-.058-.037-.057-.037-.056-.038-.055-.038-.053-.038-.052-.038-.051-.039-.049-.039-.049-.039-.046-.039-.046-.04-.044-.04-.043-.04-.041-.04-.04-.041-.039-.041-.037-.041-.036-.041-.034-.041-.033-.042-.032-.042-.03-.042-.029-.042-.027-.042-.026-.043-.024-.043-.023-.043-.021-.043-.02-.043-.018-.044-.017-.043-.015-.044-.013-.044-.012-.044-.011-.045-.009-.044-.007-.045-.006-.045-.004-.045-.002-.045-.001-.045v-17l.001-.045.002-.045.004-.045.006-.045.007-.045.009-.044.011-.045.012-.044.013-.044.015-.044.017-.043.018-.044.02-.043.021-.043.023-.043.024-.043.026-.043.027-.042.029-.042.03-.042.032-.042.033-.042.034-.041.036-.041.037-.041.039-.041.04-.041.041-.04.043-.04.044-.04.046-.04.046-.039.049-.039.049-.039.051-.039.052-.038.053-.038.055-.038.056-.038.057-.037.058-.037.06-.037.061-.036.062-.036.063-.036.064-.036.066-.035.067-.035.068-.035.069-.035.07-.034.072-.034.072-.033.074-.033.151-.066.155-.064.159-.063.164-.061.167-.06.172-.059.176-.057.179-.056.184-.054.187-.053.19-.051.195-.05.198-.048.201-.046.204-.045.208-.043.211-.041.214-.04.217-.038.22-.036.223-.034.226-.032.228-.031.231-.028.234-.027.236-.024.238-.023.241-.02.243-.019.245-.016.247-.015.249-.012.251-.01.253-.008.255-.005.256-.004.258-.001.258.001zm-9.258 20.499v.01l.001.021.003.021.004.022.005.021.006.022.007.022.009.023.01.022.011.023.012.023.013.023.015.023.016.024.017.023.018.024.019.024.021.024.022.025.023.024.024.025.052.049.056.05.061.051.066.051.07.051.075.051.079.052.084.052.088.052.092.052.097.052.102.051.105.052.11.052.114.051.119.051.123.051.127.05.131.05.135.05.139.048.144.049.147.047.152.047.155.047.16.045.163.045.167.043.171.043.176.041.178.041.183.039.187.039.19.037.194.035.197.035.202.033.204.031.209.03.212.029.216.027.219.025.222.024.226.021.23.02.233.018.236.016.24.015.243.012.246.01.249.008.253.005.256.004.259.001.26-.001.257-.004.254-.005.25-.008.247-.011.244-.012.241-.014.237-.016.233-.018.231-.021.226-.021.224-.024.22-.026.216-.027.212-.028.21-.031.205-.031.202-.034.198-.034.194-.036.191-.037.187-.039.183-.04.179-.04.175-.042.172-.043.168-.044.163-.045.16-.046.155-.046.152-.047.148-.048.143-.049.139-.049.136-.05.131-.05.126-.05.123-.051.118-.052.114-.051.11-.052.106-.052.101-.052.096-.052.092-.052.088-.053.083-.051.079-.052.074-.052.07-.051.065-.051.06-.051.056-.05.051-.05.023-.024.023-.025.021-.024.02-.024.019-.024.018-.024.017-.024.015-.023.014-.024.013-.023.012-.023.01-.023.01-.022.008-.022.006-.022.006-.022.004-.022.004-.021.001-.021.001-.021v-4.127l-.077.055-.08.053-.083.054-.085.053-.087.052-.09.052-.093.051-.095.05-.097.05-.1.049-.102.049-.105.048-.106.047-.109.047-.111.046-.114.045-.115.045-.118.044-.12.043-.122.042-.124.042-.126.041-.128.04-.13.04-.132.038-.134.038-.135.037-.138.037-.139.035-.142.035-.143.034-.144.033-.147.032-.148.031-.15.03-.151.03-.153.029-.154.027-.156.027-.158.026-.159.025-.161.024-.162.023-.163.022-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.011-.178.01-.179.008-.179.008-.181.006-.182.005-.182.004-.184.003-.184.002h-.37l-.184-.002-.184-.003-.182-.004-.182-.005-.181-.006-.179-.008-.179-.008-.178-.01-.176-.011-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.022-.162-.023-.161-.024-.159-.025-.157-.026-.156-.027-.155-.027-.153-.029-.151-.03-.15-.03-.148-.031-.146-.032-.145-.033-.143-.034-.141-.035-.14-.035-.137-.037-.136-.037-.134-.038-.132-.038-.13-.04-.128-.04-.126-.041-.124-.042-.122-.042-.12-.044-.117-.043-.116-.045-.113-.045-.112-.046-.109-.047-.106-.047-.105-.048-.102-.049-.1-.049-.097-.05-.095-.05-.093-.052-.09-.051-.087-.052-.085-.053-.083-.054-.08-.054-.077-.054v4.127zm0-5.654v.011l.001.021.003.021.004.021.005.022.006.022.007.022.009.022.01.022.011.023.012.023.013.023.015.024.016.023.017.024.018.024.019.024.021.024.022.024.023.025.024.024.052.05.056.05.061.05.066.051.07.051.075.052.079.051.084.052.088.052.092.052.097.052.102.052.105.052.11.051.114.051.119.052.123.05.127.051.131.05.135.049.139.049.144.048.147.048.152.047.155.046.16.045.163.045.167.044.171.042.176.042.178.04.183.04.187.038.19.037.194.036.197.034.202.033.204.032.209.03.212.028.216.027.219.025.222.024.226.022.23.02.233.018.236.016.24.014.243.012.246.01.249.008.253.006.256.003.259.001.26-.001.257-.003.254-.006.25-.008.247-.01.244-.012.241-.015.237-.016.233-.018.231-.02.226-.022.224-.024.22-.025.216-.027.212-.029.21-.03.205-.032.202-.033.198-.035.194-.036.191-.037.187-.039.183-.039.179-.041.175-.042.172-.043.168-.044.163-.045.16-.045.155-.047.152-.047.148-.048.143-.048.139-.05.136-.049.131-.05.126-.051.123-.051.118-.051.114-.052.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.051.07-.052.065-.051.06-.05.056-.051.051-.049.023-.025.023-.024.021-.025.02-.024.019-.024.018-.024.017-.024.015-.023.014-.023.013-.024.012-.022.01-.023.01-.023.008-.022.006-.022.006-.022.004-.021.004-.022.001-.021.001-.021v-4.139l-.077.054-.08.054-.083.054-.085.052-.087.053-.09.051-.093.051-.095.051-.097.05-.1.049-.102.049-.105.048-.106.047-.109.047-.111.046-.114.045-.115.044-.118.044-.12.044-.122.042-.124.042-.126.041-.128.04-.13.039-.132.039-.134.038-.135.037-.138.036-.139.036-.142.035-.143.033-.144.033-.147.033-.148.031-.15.03-.151.03-.153.028-.154.028-.156.027-.158.026-.159.025-.161.024-.162.023-.163.022-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.011-.178.009-.179.009-.179.007-.181.007-.182.005-.182.004-.184.003-.184.002h-.37l-.184-.002-.184-.003-.182-.004-.182-.005-.181-.007-.179-.007-.179-.009-.178-.009-.176-.011-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.022-.162-.023-.161-.024-.159-.025-.157-.026-.156-.027-.155-.028-.153-.028-.151-.03-.15-.03-.148-.031-.146-.033-.145-.033-.143-.033-.141-.035-.14-.036-.137-.036-.136-.037-.134-.038-.132-.039-.13-.039-.128-.04-.126-.041-.124-.042-.122-.043-.12-.043-.117-.044-.116-.044-.113-.046-.112-.046-.109-.046-.106-.047-.105-.048-.102-.049-.1-.049-.097-.05-.095-.051-.093-.051-.09-.051-.087-.053-.085-.052-.083-.054-.08-.054-.077-.054v4.139zm0-5.666v.011l.001.02.003.022.004.021.005.022.006.021.007.022.009.023.01.022.011.023.012.023.013.023.015.023.016.024.017.024.018.023.019.024.021.025.022.024.023.024.024.025.052.05.056.05.061.05.066.051.07.051.075.052.079.051.084.052.088.052.092.052.097.052.102.052.105.051.11.052.114.051.119.051.123.051.127.05.131.05.135.05.139.049.144.048.147.048.152.047.155.046.16.045.163.045.167.043.171.043.176.042.178.04.183.04.187.038.19.037.194.036.197.034.202.033.204.032.209.03.212.028.216.027.219.025.222.024.226.021.23.02.233.018.236.017.24.014.243.012.246.01.249.008.253.006.256.003.259.001.26-.001.257-.003.254-.006.25-.008.247-.01.244-.013.241-.014.237-.016.233-.018.231-.02.226-.022.224-.024.22-.025.216-.027.212-.029.21-.03.205-.032.202-.033.198-.035.194-.036.191-.037.187-.039.183-.039.179-.041.175-.042.172-.043.168-.044.163-.045.16-.045.155-.047.152-.047.148-.048.143-.049.139-.049.136-.049.131-.051.126-.05.123-.051.118-.052.114-.051.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.052.07-.051.065-.051.06-.051.056-.05.051-.049.023-.025.023-.025.021-.024.02-.024.019-.024.018-.024.017-.024.015-.023.014-.024.013-.023.012-.023.01-.022.01-.023.008-.022.006-.022.006-.022.004-.022.004-.021.001-.021.001-.021v-4.153l-.077.054-.08.054-.083.053-.085.053-.087.053-.09.051-.093.051-.095.051-.097.05-.1.049-.102.048-.105.048-.106.048-.109.046-.111.046-.114.046-.115.044-.118.044-.12.043-.122.043-.124.042-.126.041-.128.04-.13.039-.132.039-.134.038-.135.037-.138.036-.139.036-.142.034-.143.034-.144.033-.147.032-.148.032-.15.03-.151.03-.153.028-.154.028-.156.027-.158.026-.159.024-.161.024-.162.023-.163.023-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.01-.178.01-.179.009-.179.007-.181.006-.182.006-.182.004-.184.003-.184.001-.185.001-.185-.001-.184-.001-.184-.003-.182-.004-.182-.006-.181-.006-.179-.007-.179-.009-.178-.01-.176-.01-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.023-.162-.023-.161-.024-.159-.024-.157-.026-.156-.027-.155-.028-.153-.028-.151-.03-.15-.03-.148-.032-.146-.032-.145-.033-.143-.034-.141-.034-.14-.036-.137-.036-.136-.037-.134-.038-.132-.039-.13-.039-.128-.041-.126-.041-.124-.041-.122-.043-.12-.043-.117-.044-.116-.044-.113-.046-.112-.046-.109-.046-.106-.048-.105-.048-.102-.048-.1-.05-.097-.049-.095-.051-.093-.051-.09-.052-.087-.052-.085-.053-.083-.053-.08-.054-.077-.054v4.153zm8.74-8.179l-.257.004-.254.005-.25.008-.247.011-.244.012-.241.014-.237.016-.233.018-.231.021-.226.022-.224.023-.22.026-.216.027-.212.028-.21.031-.205.032-.202.033-.198.034-.194.036-.191.038-.187.038-.183.04-.179.041-.175.042-.172.043-.168.043-.163.045-.16.046-.155.046-.152.048-.148.048-.143.048-.139.049-.136.05-.131.05-.126.051-.123.051-.118.051-.114.052-.11.052-.106.052-.101.052-.096.052-.092.052-.088.052-.083.052-.079.052-.074.051-.07.052-.065.051-.06.05-.056.05-.051.05-.023.025-.023.024-.021.024-.02.025-.019.024-.018.024-.017.023-.015.024-.014.023-.013.023-.012.023-.01.023-.01.022-.008.022-.006.023-.006.021-.004.022-.004.021-.001.021-.001.021.001.021.001.021.004.021.004.022.006.021.006.023.008.022.01.022.01.023.012.023.013.023.014.023.015.024.017.023.018.024.019.024.02.025.021.024.023.024.023.025.051.05.056.05.06.05.065.051.07.052.074.051.079.052.083.052.088.052.092.052.096.052.101.052.106.052.11.052.114.052.118.051.123.051.126.051.131.05.136.05.139.049.143.048.148.048.152.048.155.046.16.046.163.045.168.043.172.043.175.042.179.041.183.04.187.038.191.038.194.036.198.034.202.033.205.032.21.031.212.028.216.027.22.026.224.023.226.022.231.021.233.018.237.016.241.014.244.012.247.011.25.008.254.005.257.004.26.001.26-.001.257-.004.254-.005.25-.008.247-.011.244-.012.241-.014.237-.016.233-.018.231-.021.226-.022.224-.023.22-.026.216-.027.212-.028.21-.031.205-.032.202-.033.198-.034.194-.036.191-.038.187-.038.183-.04.179-.041.175-.042.172-.043.168-.043.163-.045.16-.046.155-.046.152-.048.148-.048.143-.048.139-.049.136-.05.131-.05.126-.051.123-.051.118-.051.114-.052.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.051.07-.052.065-.051.06-.05.056-.05.051-.05.023-.025.023-.024.021-.024.02-.025.019-.024.018-.024.017-.023.015-.024.014-.023.013-.023.012-.023.01-.023.01-.022.008-.022.006-.023.006-.021.004-.022.004-.021.001-.021.001-.021-.001-.021-.001-.021-.004-.021-.004-.022-.006-.021-.006-.023-.008-.022-.01-.022-.01-.023-.012-.023-.013-.023-.014-.023-.015-.024-.017-.023-.018-.024-.019-.024-.02-.025-.021-.024-.023-.024-.023-.025-.051-.05-.056-.05-.06-.05-.065-.051-.07-.052-.074-.051-.079-.052-.083-.052-.088-.052-.092-.052-.096-.052-.101-.052-.106-.052-.11-.052-.114-.052-.118-.051-.123-.051-.126-.051-.131-.05-.136-.05-.139-.049-.143-.048-.148-.048-.152-.048-.155-.046-.16-.046-.163-.045-.168-.043-.172-.043-.175-.042-.179-.041-.183-.04-.187-.038-.191-.038-.194-.036-.198-.034-.202-.033-.205-.032-.21-.031-.212-.028-.216-.027-.22-.026-.224-.023-.226-.022-.231-.021-.233-.018-.237-.016-.241-.014-.244-.012-.247-.011-.25-.008-.254-.005-.257-.004-.26-.001-.26.001z")},"insertDatabaseIcon"),iLe=b(function(t){t.append("defs").append("symbol").attr("id","computer").attr("width","24").attr("height","24").append("path").attr("transform","scale(.5)").attr("d","M2 2v13h20v-13h-20zm18 11h-16v-9h16v9zm-10.228 6l.466-1h3.524l.467 1h-4.457zm14.228 3h-24l2-6h2.104l-1.33 4h18.45l-1.297-4h2.073l2 6zm-5-10h-14v-7h14v7z")},"insertComputerIcon"),aLe=b(function(t){t.append("defs").append("symbol").attr("id","clock").attr("width","24").attr("height","24").append("path").attr("transform","scale(.5)").attr("d","M12 2c5.514 0 10 4.486 10 10s-4.486 10-10 10-10-4.486-10-10 4.486-10 10-10zm0-2c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12zm5.848 12.459c.202.038.202.333.001.372-1.907.361-6.045 1.111-6.547 1.111-.719 0-1.301-.582-1.301-1.301 0-.512.77-5.447 1.125-7.445.034-.192.312-.181.343.014l.985 6.238 5.394 1.011z")},"insertClockIcon"),sLe=b(function(t){t.append("defs").append("marker").attr("id","arrowhead").attr("refX",9).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").append("path").attr("d","M 0 0 L 10 5 L 0 10 z")},"insertArrowHead"),oLe=b(function(t){t.append("defs").append("marker").attr("id","arrowend").attr("refX",1).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").append("path").attr("d","M 10 0 L 0 5 L 10 10 z")},"insertArrowEnd"),lLe=b(function(t){t.append("defs").append("marker").attr("id","filled-head").attr("refX",18).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L14,7 L9,1 Z")},"insertArrowFilledHead"),cLe=b(function(t){t.append("defs").append("marker").attr("id","sequencenumber").attr("refX",15).attr("refY",15).attr("markerWidth",60).attr("markerHeight",40).attr("orient","auto").append("circle").attr("cx",15).attr("cy",15).attr("r",6)},"insertDynamicNumber"),uLe=b(function(t){const r=t.append("defs").append("marker").attr("id","crosshead").attr("markerWidth",15).attr("markerHeight",8).attr("orient","auto").attr("refX",16).attr("refY",4);r.append("path").attr("fill","black").attr("stroke","#000000").style("stroke-dasharray","0, 0").attr("stroke-width","1px").attr("d","M 9,2 V 6 L16,4 Z"),r.append("path").attr("fill","none").attr("stroke","#000000").style("stroke-dasharray","0, 0").attr("stroke-width","1px").attr("d","M 0,1 L 6,7 M 6,1 L 0,7")},"insertArrowCrossHead"),hLe=b((t,e)=>({fontFamily:t[e+"FontFamily"],fontSize:t[e+"FontSize"],fontWeight:t[e+"FontWeight"]}),"getC4ShapeFont"),gc=function(){function t(i,a,s,o,l,u,h){const d=a.append("text").attr("x",s+l/2).attr("y",o+u/2+5).style("text-anchor","middle").text(i);n(d,h)}b(t,"byText");function e(i,a,s,o,l,u,h,d){const{fontSize:p,fontFamily:f,fontWeight:g}=d,m=i.split(et.lineBreakRegex);for(let y=0;y<m.length;y++){const v=y*p-p*(m.length-1)/2,x=a.append("text").attr("x",s+l/2).attr("y",o).style("text-anchor","middle").attr("dominant-baseline","middle").style("font-size",p).style("font-weight",g).style("font-family",f);x.append("tspan").attr("dy",v).text(m[y]).attr("alignment-baseline","mathematical"),n(x,h)}}b(e,"byTspan");function r(i,a,s,o,l,u,h,d){const p=a.append("switch"),g=p.append("foreignObject").attr("x",s).attr("y",o).attr("width",l).attr("height",u).append("xhtml:div").style("display","table").style("height","100%").style("width","100%");g.append("div").style("display","table-cell").style("text-align","center").style("vertical-align","middle").text(i),e(i,p,s,o,l,u,h,d),n(g,h)}b(r,"byFo");function n(i,a){for(const s in a)a.hasOwnProperty(s)&&i.attr(s,a[s])}return b(n,"_setTextAttrs"),function(i){return i.textPlacement==="fo"?r:i.textPlacement==="old"?t:e}}(),ul={drawRect:Y9,drawBoundary:tLe,drawC4Shape:rLe,drawRels:eLe,drawImage:oJ,insertArrowHead:sLe,insertArrowEnd:oLe,insertArrowFilledHead:lLe,insertDynamicNumber:cLe,insertArrowCrossHead:uLe,insertDatabaseIcon:nLe,insertComputerIcon:iLe,insertClockIcon:aLe},C3=0,A3=0,lJ=4,KS=2;T3.yy=XS;var Rt={},Y0,cJ=(Y0=class{constructor(e){this.name="",this.data={},this.data.startx=void 0,this.data.stopx=void 0,this.data.starty=void 0,this.data.stopy=void 0,this.data.widthLimit=void 0,this.nextData={},this.nextData.startx=void 0,this.nextData.stopx=void 0,this.nextData.starty=void 0,this.nextData.stopy=void 0,this.nextData.cnt=0,QS(e.db.getConfig())}setData(e,r,n,i){this.nextData.startx=this.data.startx=e,this.nextData.stopx=this.data.stopx=r,this.nextData.starty=this.data.starty=n,this.nextData.stopy=this.data.stopy=i}updateVal(e,r,n,i){e[r]===void 0?e[r]=n:e[r]=i(n,e[r])}insert(e){this.nextData.cnt=this.nextData.cnt+1;let r=this.nextData.startx===this.nextData.stopx?this.nextData.stopx+e.margin:this.nextData.stopx+e.margin*2,n=r+e.width,i=this.nextData.starty+e.margin*2,a=i+e.height;(r>=this.data.widthLimit||n>=this.data.widthLimit||this.nextData.cnt>lJ)&&(r=this.nextData.startx+e.margin+Rt.nextLinePaddingX,i=this.nextData.stopy+e.margin*2,this.nextData.stopx=n=r+e.width,this.nextData.starty=this.nextData.stopy,this.nextData.stopy=a=i+e.height,this.nextData.cnt=1),e.x=r,e.y=i,this.updateVal(this.data,"startx",r,Math.min),this.updateVal(this.data,"starty",i,Math.min),this.updateVal(this.data,"stopx",n,Math.max),this.updateVal(this.data,"stopy",a,Math.max),this.updateVal(this.nextData,"startx",r,Math.min),this.updateVal(this.nextData,"starty",i,Math.min),this.updateVal(this.nextData,"stopx",n,Math.max),this.updateVal(this.nextData,"stopy",a,Math.max)}init(e){this.name="",this.data={startx:void 0,stopx:void 0,starty:void 0,stopy:void 0,widthLimit:void 0},this.nextData={startx:void 0,stopx:void 0,starty:void 0,stopy:void 0,cnt:0},QS(e.db.getConfig())}bumpLastMargin(e){this.data.stopx+=e,this.data.stopy+=e}},b(Y0,"Bounds"),Y0),QS=b(function(t){ci(Rt,t),t.fontFamily&&(Rt.personFontFamily=Rt.systemFontFamily=Rt.messageFontFamily=t.fontFamily),t.fontSize&&(Rt.personFontSize=Rt.systemFontSize=Rt.messageFontSize=t.fontSize),t.fontWeight&&(Rt.personFontWeight=Rt.systemFontWeight=Rt.messageFontWeight=t.fontWeight)},"setConf"),I1=b((t,e)=>({fontFamily:t[e+"FontFamily"],fontSize:t[e+"FontSize"],fontWeight:t[e+"FontWeight"]}),"c4ShapeFont"),kb=b(t=>({fontFamily:t.boundaryFontFamily,fontSize:t.boundaryFontSize,fontWeight:t.boundaryFontWeight}),"boundaryFont"),dLe=b(t=>({fontFamily:t.messageFontFamily,fontSize:t.messageFontSize,fontWeight:t.messageFontWeight}),"messageFont");function io(t,e,r,n,i){if(!e[t].width)if(r)e[t].text=DY(e[t].text,i,n),e[t].textLines=e[t].text.split(et.lineBreakRegex).length,e[t].width=i,e[t].height=j4(e[t].text,n);else{let a=e[t].text.split(et.lineBreakRegex);e[t].textLines=a.length;let s=0;e[t].height=0,e[t].width=0;for(const o of a)e[t].width=Math.max(Uo(o,n),e[t].width),s=j4(o,n),e[t].height=e[t].height+s}}b(io,"calcC4ShapeTextWH");var uJ=b(function(t,e,r){e.x=r.data.startx,e.y=r.data.starty,e.width=r.data.stopx-r.data.startx,e.height=r.data.stopy-r.data.starty,e.label.y=Rt.c4ShapeMargin-35;let n=e.wrap&&Rt.wrap,i=kb(Rt);i.fontSize=i.fontSize+2,i.fontWeight="bold";let a=Uo(e.label.text,i);io("label",e,n,i,a),ul.drawBoundary(t,e,Rt)},"drawBoundary"),hJ=b(function(t,e,r,n){let i=0;for(const a of n){i=0;const s=r[a];let o=I1(Rt,s.typeC4Shape.text);switch(o.fontSize=o.fontSize-2,s.typeC4Shape.width=Uo("«"+s.typeC4Shape.text+"»",o),s.typeC4Shape.height=o.fontSize+2,s.typeC4Shape.Y=Rt.c4ShapePadding,i=s.typeC4Shape.Y+s.typeC4Shape.height-4,s.image={width:0,height:0,Y:0},s.typeC4Shape.text){case"person":case"external_person":s.image.width=48,s.image.height=48,s.image.Y=i,i=s.image.Y+s.image.height;break}s.sprite&&(s.image.width=48,s.image.height=48,s.image.Y=i,i=s.image.Y+s.image.height);let l=s.wrap&&Rt.wrap,u=Rt.width-Rt.c4ShapePadding*2,h=I1(Rt,s.typeC4Shape.text);if(h.fontSize=h.fontSize+2,h.fontWeight="bold",io("label",s,l,h,u),s.label.Y=i+8,i=s.label.Y+s.label.height,s.type&&s.type.text!==""){s.type.text="["+s.type.text+"]";let f=I1(Rt,s.typeC4Shape.text);io("type",s,l,f,u),s.type.Y=i+5,i=s.type.Y+s.type.height}else if(s.techn&&s.techn.text!==""){s.techn.text="["+s.techn.text+"]";let f=I1(Rt,s.techn.text);io("techn",s,l,f,u),s.techn.Y=i+5,i=s.techn.Y+s.techn.height}let d=i,p=s.label.width;if(s.descr&&s.descr.text!==""){let f=I1(Rt,s.typeC4Shape.text);io("descr",s,l,f,u),s.descr.Y=i+20,i=s.descr.Y+s.descr.height,p=Math.max(s.label.width,s.descr.width),d=i-s.descr.textLines*5}p=p+Rt.c4ShapePadding,s.width=Math.max(s.width||Rt.width,p,Rt.width),s.height=Math.max(s.height||Rt.height,d,Rt.height),s.margin=s.margin||Rt.c4ShapeMargin,t.insert(s),ul.drawC4Shape(e,s,Rt)}t.bumpLastMargin(Rt.c4ShapeMargin)},"drawC4ShapeArray"),q0,Hs=(q0=class{constructor(e,r){this.x=e,this.y=r}},b(q0,"Point"),q0),tP=b(function(t,e){let r=t.x,n=t.y,i=e.x,a=e.y,s=r+t.width/2,o=n+t.height/2,l=Math.abs(r-i),u=Math.abs(n-a),h=u/l,d=t.height/t.width,p=null;return n==a&&r<i?p=new Hs(r+t.width,o):n==a&&r>i?p=new Hs(r,o):r==i&&n<a?p=new Hs(s,n+t.height):r==i&&n>a&&(p=new Hs(s,n)),r>i&&n<a?d>=h?p=new Hs(r,o+h*t.width/2):p=new Hs(s-l/u*t.height/2,n+t.height):r<i&&n<a?d>=h?p=new Hs(r+t.width,o+h*t.width/2):p=new Hs(s+l/u*t.height/2,n+t.height):r<i&&n>a?d>=h?p=new Hs(r+t.width,o-h*t.width/2):p=new Hs(s+t.height/2*l/u,n):r>i&&n>a&&(d>=h?p=new Hs(r,o-t.width/2*h):p=new Hs(s-t.height/2*l/u,n)),p},"getIntersectPoint"),fLe=b(function(t,e){let r={x:0,y:0};r.x=e.x+e.width/2,r.y=e.y+e.height/2;let n=tP(t,r);r.x=t.x+t.width/2,r.y=t.y+t.height/2;let i=tP(e,r);return{startPoint:n,endPoint:i}},"getIntersectPoints"),pLe=b(function(t,e,r,n){let i=0;for(let a of e){i=i+1;let s=a.wrap&&Rt.wrap,o=dLe(Rt);n.db.getC4Type()==="C4Dynamic"&&(a.label.text=i+": "+a.label.text);let u=Uo(a.label.text,o);io("label",a,s,o,u),a.techn&&a.techn.text!==""&&(u=Uo(a.techn.text,o),io("techn",a,s,o,u)),a.descr&&a.descr.text!==""&&(u=Uo(a.descr.text,o),io("descr",a,s,o,u));let h=r(a.from),d=r(a.to),p=fLe(h,d);a.startPoint=p.startPoint,a.endPoint=p.endPoint}ul.drawRels(t,e,Rt)},"drawRels");function q9(t,e,r,n,i){let a=new cJ(i);a.data.widthLimit=r.data.widthLimit/Math.min(KS,n.length);for(let[s,o]of n.entries()){let l=0;o.image={width:0,height:0,Y:0},o.sprite&&(o.image.width=48,o.image.height=48,o.image.Y=l,l=o.image.Y+o.image.height);let u=o.wrap&&Rt.wrap,h=kb(Rt);if(h.fontSize=h.fontSize+2,h.fontWeight="bold",io("label",o,u,h,a.data.widthLimit),o.label.Y=l+8,l=o.label.Y+o.label.height,o.type&&o.type.text!==""){o.type.text="["+o.type.text+"]";let g=kb(Rt);io("type",o,u,g,a.data.widthLimit),o.type.Y=l+5,l=o.type.Y+o.type.height}if(o.descr&&o.descr.text!==""){let g=kb(Rt);g.fontSize=g.fontSize-2,io("descr",o,u,g,a.data.widthLimit),o.descr.Y=l+20,l=o.descr.Y+o.descr.height}if(s==0||s%KS===0){let g=r.data.startx+Rt.diagramMarginX,m=r.data.stopy+Rt.diagramMarginY+l;a.setData(g,g,m,m)}else{let g=a.data.stopx!==a.data.startx?a.data.stopx+Rt.diagramMarginX:a.data.startx,m=a.data.starty;a.setData(g,g,m,m)}a.name=o.alias;let d=i.db.getC4ShapeArray(o.alias),p=i.db.getC4ShapeKeys(o.alias);p.length>0&&hJ(a,t,d,p),e=o.alias;let f=i.db.getBoundarys(e);f.length>0&&q9(t,e,a,f,i),o.alias!=="global"&&uJ(t,o,a),r.data.stopy=Math.max(a.data.stopy+Rt.c4ShapeMargin,r.data.stopy),r.data.stopx=Math.max(a.data.stopx+Rt.c4ShapeMargin,r.data.stopx),C3=Math.max(C3,r.data.stopx),A3=Math.max(A3,r.data.stopy)}}b(q9,"drawInsideBoundary");var gLe=b(function(t,e,r,n){Rt=we().c4;const i=we().securityLevel;let a;i==="sandbox"&&(a=Ke("#i"+e));const s=Ke(i==="sandbox"?a.nodes()[0].contentDocument.body:"body");let o=n.db;n.db.setWrap(Rt.wrap),lJ=o.getC4ShapeInRow(),KS=o.getC4BoundaryInRow(),q.debug(`C:${JSON.stringify(Rt,null,2)}`);const l=i==="sandbox"?s.select(`[id="${e}"]`):Ke(`[id="${e}"]`);ul.insertComputerIcon(l),ul.insertDatabaseIcon(l),ul.insertClockIcon(l);let u=new cJ(n);u.setData(Rt.diagramMarginX,Rt.diagramMarginX,Rt.diagramMarginY,Rt.diagramMarginY),u.data.widthLimit=screen.availWidth,C3=Rt.diagramMarginX,A3=Rt.diagramMarginY;const h=n.db.getTitle();let d=n.db.getBoundarys("");q9(l,"",u,d,n),ul.insertArrowHead(l),ul.insertArrowEnd(l),ul.insertArrowCrossHead(l),ul.insertArrowFilledHead(l),pLe(l,n.db.getRels(),n.db.getC4Shape,n),u.data.stopx=C3,u.data.stopy=A3;const p=u.data;let g=p.stopy-p.starty+2*Rt.diagramMarginY;const y=p.stopx-p.startx+2*Rt.diagramMarginX;h&&l.append("text").text(h).attr("x",(p.stopx-p.startx)/2-4*Rt.diagramMarginX).attr("y",p.starty+Rt.diagramMarginY),Ki(l,g,y,Rt.useMaxWidth);const v=h?60:0;l.attr("viewBox",p.startx-Rt.diagramMarginX+" -"+(Rt.diagramMarginY+v)+" "+y+" "+(g+v)),q.debug("models:",p)},"draw"),rP={drawPersonOrSystemArray:hJ,drawBoundary:uJ,setConf:QS,draw:gLe},mLe=b(t=>`.person {
    stroke: ${t.personBorder};
    fill: ${t.personBkg};
  }
`,"getStyles"),vLe=mLe,yLe={parser:S9e,db:XS,renderer:rP,styles:vLe,init:b(({c4:t,wrap:e})=>{rP.setConf(t),XS.setWrap(e)},"init")};const xLe=Object.freeze(Object.defineProperty({__proto__:null,diagram:yLe},Symbol.toStringTag,{value:"Module"}));var dJ=b((t,e)=>{let r;return e==="sandbox"&&(r=Ke("#i"+t)),Ke(e==="sandbox"?r.nodes()[0].contentDocument.body:"body").select(`[id="${t}"]`)},"getDiagramElement"),fJ=b((t,e,r,n)=>{t.attr("class",r);const{width:i,height:a,x:s,y:o}=bLe(t,e);Ki(t,a,i,n);const l=wLe(s,o,i,a,e);t.attr("viewBox",l),q.debug(`viewBox configured: ${l} with padding: ${e}`)},"setupViewPortForSVG"),bLe=b((t,e)=>{var n;const r=((n=t.node())==null?void 0:n.getBBox())||{width:0,height:0,x:0,y:0};return{width:r.width+e*2,height:r.height+e*2,x:r.x,y:r.y}},"calculateDimensionsWithPadding"),wLe=b((t,e,r,n,i)=>`${t-i} ${e-i} ${r} ${n}`,"createViewBox"),kLe="flowchart-",nP=0,eg=we(),ah=new Map,Ya=[],Ov=new Map,zc=[],j9=new Map,X9=new Map,Tb=0,ZS=!0,Ws,Kw,Qw=[],Zw=b(t=>et.sanitizeText(t,eg),"sanitizeText"),Jw=b(function(t){for(const e of ah.values())if(e.id===t)return e.domId;return t},"lookUpDomId"),TLe=b(function(t,e,r,n,i,a,s={},o){var h,d;if(!t||t.trim().length===0)return;let l,u=ah.get(t);if(u===void 0&&(u={id:t,labelType:"text",domId:kLe+t+"-"+nP,styles:[],classes:[]},ah.set(t,u)),nP++,e!==void 0?(eg=we(),l=Zw(e.text.trim()),u.labelType=e.type,l.startsWith('"')&&l.endsWith('"')&&(l=l.substring(1,l.length-1)),u.text=l):u.text===void 0&&(u.text=t),r!==void 0&&(u.type=r),n!=null&&n.forEach(function(p){u.styles.push(p)}),i!=null&&i.forEach(function(p){u.classes.push(p)}),a!==void 0&&(u.dir=a),u.props===void 0?u.props=s:s!==void 0&&Object.assign(u.props,s),o!==void 0){let p;o.includes(`
`)?p=o+`
`:p=`{
`+o+`
}`;const f=YH(p,{schema:WH});if(f.shape&&(f.shape!==f.shape.toLowerCase()||f.shape.includes("_")))throw new Error(`No such shape: ${f.shape}. Shape names should be lowercase.`);f!=null&&f.shape&&(u.type=f==null?void 0:f.shape),f!=null&&f.label&&(u.text=f==null?void 0:f.label),f!=null&&f.icon&&(u.icon=f==null?void 0:f.icon,!((h=f.label)!=null&&h.trim())&&u.text===t&&(u.text="")),f!=null&&f.form&&(u.form=f==null?void 0:f.form),f!=null&&f.pos&&(u.pos=f==null?void 0:f.pos),f!=null&&f.img&&(u.img=f==null?void 0:f.img,!((d=f.label)!=null&&d.trim())&&u.text===t&&(u.text="")),f!=null&&f.constraint&&(u.constraint=f.constraint),f.w&&(u.assetWidth=Number(f.w)),f.h&&(u.assetHeight=Number(f.h))}},"addVertex"),ELe=b(function(t,e,r){const a={start:t,end:e,type:void 0,text:"",labelType:"text"};q.info("abc78 Got edge...",a);const s=r.text;if(s!==void 0&&(a.text=Zw(s.text.trim()),a.text.startsWith('"')&&a.text.endsWith('"')&&(a.text=a.text.substring(1,a.text.length-1)),a.labelType=s.type),r!==void 0&&(a.type=r.type,a.stroke=r.stroke,a.length=r.length>10?10:r.length),Ya.length<(eg.maxEdges??500))q.info("Pushing edge..."),Ya.push(a);else throw new Error(`Edge limit exceeded. ${Ya.length} edges found, but the limit is ${eg.maxEdges}.

Initialize mermaid with maxEdges set to a higher number to allow more edges.
You cannot set this config via configuration inside the diagram as it is a secure config.
You have to call mermaid.initialize.`)},"addSingleLink"),SLe=b(function(t,e,r){q.info("addLink",t,e,r);for(const n of t)for(const i of e)ELe(n,i,r)},"addLink"),CLe=b(function(t,e){t.forEach(function(r){r==="default"?Ya.defaultInterpolate=e:Ya[r].interpolate=e})},"updateLinkInterpolate"),ALe=b(function(t,e){t.forEach(function(r){var n,i,a,s,o,l;if(typeof r=="number"&&r>=Ya.length)throw new Error(`The index ${r} for linkStyle is out of bounds. Valid indices for linkStyle are between 0 and ${Ya.length-1}. (Help: Ensure that the index is within the range of existing edges.)`);r==="default"?Ya.defaultStyle=e:(Ya[r].style=e,(((i=(n=Ya[r])==null?void 0:n.style)==null?void 0:i.length)??0)>0&&!((s=(a=Ya[r])==null?void 0:a.style)!=null&&s.some(u=>u==null?void 0:u.startsWith("fill")))&&((l=(o=Ya[r])==null?void 0:o.style)==null||l.push("fill:none")))})},"updateLink"),_Le=b(function(t,e){t.split(",").forEach(function(r){let n=Ov.get(r);n===void 0&&(n={id:r,styles:[],textStyles:[]},Ov.set(r,n)),e!=null&&e.forEach(function(i){if(/color/.exec(i)){const a=i.replace("fill","bgFill");n.textStyles.push(a)}n.styles.push(i)})})},"addClass"),LLe=b(function(t){Ws=t,/.*</.exec(Ws)&&(Ws="RL"),/.*\^/.exec(Ws)&&(Ws="BT"),/.*>/.exec(Ws)&&(Ws="LR"),/.*v/.exec(Ws)&&(Ws="TB"),Ws==="TD"&&(Ws="TB")},"setDirection"),K9=b(function(t,e){for(const r of t.split(",")){const n=ah.get(r);n&&n.classes.push(e);const i=j9.get(r);i&&i.classes.push(e)}},"setClass"),NLe=b(function(t,e){if(e!==void 0){e=Zw(e);for(const r of t.split(","))X9.set(Kw==="gen-1"?Jw(r):r,e)}},"setTooltip"),RLe=b(function(t,e,r){const n=Jw(t);if(we().securityLevel!=="loose"||e===void 0)return;let i=[];if(typeof r=="string"){i=r.split(/,(?=(?:(?:[^"]*"){2})*[^"]*$)/);for(let s=0;s<i.length;s++){let o=i[s].trim();o.startsWith('"')&&o.endsWith('"')&&(o=o.substr(1,o.length-2)),i[s]=o}}i.length===0&&i.push(t);const a=ah.get(t);a&&(a.haveCallback=!0,Qw.push(function(){const s=document.querySelector(`[id="${n}"]`);s!==null&&s.addEventListener("click",function(){Jt.runFunc(e,...i)},!1)}))},"setClickFun"),MLe=b(function(t,e,r){t.split(",").forEach(function(n){const i=ah.get(n);i!==void 0&&(i.link=Jt.formatUrl(e,eg),i.linkTarget=r)}),K9(t,"clickable")},"setLink"),pJ=b(function(t){return X9.get(t)},"getTooltip"),ILe=b(function(t,e,r){t.split(",").forEach(function(n){RLe(n,e,r)}),K9(t,"clickable")},"setClickEvent"),DLe=b(function(t){Qw.forEach(function(e){e(t)})},"bindFunctions"),gJ=b(function(){return Ws.trim()},"getDirection"),mJ=b(function(){return ah},"getVertices"),vJ=b(function(){return Ya},"getEdges"),OLe=b(function(){return Ov},"getClasses"),yJ=b(function(t){let e=Ke(".mermaidTooltip");(e._groups||e)[0][0]===null&&(e=Ke("body").append("div").attr("class","mermaidTooltip").style("opacity",0)),Ke(t).select("svg").selectAll("g.node").on("mouseover",function(){const i=Ke(this);if(i.attr("title")===null)return;const s=this==null?void 0:this.getBoundingClientRect();e.transition().duration(200).style("opacity",".9"),e.text(i.attr("title")).style("left",window.scrollX+s.left+(s.right-s.left)/2+"px").style("top",window.scrollY+s.bottom+"px"),e.html(e.html().replace(/&lt;br\/&gt;/g,"<br/>")),i.classed("hover",!0)}).on("mouseout",function(){e.transition().duration(500).style("opacity",0),Ke(this).classed("hover",!1)})},"setupToolTips");Qw.push(yJ);var PLe=b(function(t="gen-1"){ah=new Map,Ov=new Map,Ya=[],Qw=[yJ],zc=[],j9=new Map,Tb=0,X9=new Map,ZS=!0,Kw=t,eg=we(),Ni()},"clear"),FLe=b(t=>{Kw=t||"gen-2"},"setGen"),BLe=b(function(){return"fill:#ffa;stroke: #f66; stroke-width: 3px; stroke-dasharray: 5, 5;fill:#ffa;stroke: #666;"},"defaultStyle"),$Le=b(function(t,e,r){let n=t.text.trim(),i=r.text;t===r&&/\s/.exec(r.text)&&(n=void 0);function a(u){const h={boolean:{},number:{},string:{}},d=[];let p;return{nodeList:u.filter(function(g){const m=typeof g;return g.stmt&&g.stmt==="dir"?(p=g.value,!1):g.trim()===""?!1:m in h?h[m].hasOwnProperty(g)?!1:h[m][g]=!0:d.includes(g)?!1:d.push(g)}),dir:p}}b(a,"uniq");const{nodeList:s,dir:o}=a(e.flat());if(Kw==="gen-1")for(let u=0;u<s.length;u++)s[u]=Jw(s[u]);n=n??"subGraph"+Tb,i=i||"",i=Zw(i),Tb=Tb+1;const l={id:n,nodes:s,title:i.trim(),classes:[],dir:o,labelType:r.type};return q.info("Adding",l.id,l.nodes,l.dir),l.nodes=TJ(l,zc).nodes,zc.push(l),j9.set(n,l),n},"addSubGraph"),zLe=b(function(t){for(const[e,r]of zc.entries())if(r.id===t)return e;return-1},"getPosForId"),rm=-1,xJ=[],bJ=b(function(t,e){const r=zc[e].nodes;if(rm=rm+1,rm>2e3)return{result:!1,count:0};if(xJ[rm]=e,zc[e].id===t)return{result:!0,count:0};let n=0,i=1;for(;n<r.length;){const a=zLe(r[n]);if(a>=0){const s=bJ(t,a);if(s.result)return{result:!0,count:i+s.count};i=i+s.count}n=n+1}return{result:!1,count:i}},"indexNodes2"),ULe=b(function(t){return xJ[t]},"getDepthFirstPos"),VLe=b(function(){rm=-1,zc.length>0&&bJ("none",zc.length-1)},"indexNodes"),wJ=b(function(){return zc},"getSubGraphs"),GLe=b(()=>ZS?(ZS=!1,!0):!1,"firstGraph"),HLe=b(t=>{let e=t.trim(),r="arrow_open";switch(e[0]){case"<":r="arrow_point",e=e.slice(1);break;case"x":r="arrow_cross",e=e.slice(1);break;case"o":r="arrow_circle",e=e.slice(1);break}let n="normal";return e.includes("=")&&(n="thick"),e.includes(".")&&(n="dotted"),{type:r,stroke:n}},"destructStartLink"),WLe=b((t,e)=>{const r=e.length;let n=0;for(let i=0;i<r;++i)e[i]===t&&++n;return n},"countChar"),YLe=b(t=>{const e=t.trim();let r=e.slice(0,-1),n="arrow_open";switch(e.slice(-1)){case"x":n="arrow_cross",e.startsWith("x")&&(n="double_"+n,r=r.slice(1));break;case">":n="arrow_point",e.startsWith("<")&&(n="double_"+n,r=r.slice(1));break;case"o":n="arrow_circle",e.startsWith("o")&&(n="double_"+n,r=r.slice(1));break}let i="normal",a=r.length-1;r.startsWith("=")&&(i="thick"),r.startsWith("~")&&(i="invisible");const s=WLe(".",r);return s&&(i="dotted",a=s),{type:n,stroke:i,length:a}},"destructEndLink"),qLe=b((t,e)=>{const r=YLe(t);let n;if(e){if(n=HLe(e),n.stroke!==r.stroke)return{type:"INVALID",stroke:"INVALID"};if(n.type==="arrow_open")n.type=r.type;else{if(n.type!==r.type)return{type:"INVALID",stroke:"INVALID"};n.type="double_"+n.type}return n.type==="double_arrow"&&(n.type="double_arrow_point"),n.length=r.length,n}return r},"destructLink"),kJ=b((t,e)=>{for(const r of t)if(r.nodes.includes(e))return!0;return!1},"exists"),TJ=b((t,e)=>{const r=[];return t.nodes.forEach((n,i)=>{kJ(e,n)||r.push(t.nodes[i])}),{nodes:r}},"makeUniq"),jLe={firstGraph:GLe},XLe=b(t=>t.img?"imageSquare":t.icon?t.form==="circle"?"iconCircle":t.form==="square"?"iconSquare":t.form==="rounded"?"iconRounded":"icon":t.type==="square"?"squareRect":t.type==="round"?"roundedRect":t.type??"squareRect","getTypeFromVertex"),KLe=b((t,e)=>t.find(r=>r.id===e),"findNode"),QLe=b(t=>{let e="none",r="arrow_point";switch(t){case"arrow_point":case"arrow_circle":case"arrow_cross":r=t;break;case"double_arrow_point":case"double_arrow_circle":case"double_arrow_cross":e=t.replace("double_",""),r=e;break}return{arrowTypeStart:e,arrowTypeEnd:r}},"destructEdgeType"),ZLe=b((t,e,r,n,i,a)=>{var u;const s=r.get(t.id),o=n.get(t.id)??!1,l=KLe(e,t.id);l?(l.cssStyles=t.styles,l.cssCompiledStyles=_3(t.classes),l.cssClasses=t.classes.join(" ")):e.push({id:t.id,label:t.text,labelStyle:"",parentId:s,padding:((u=i.flowchart)==null?void 0:u.padding)||8,cssStyles:t.styles,cssCompiledStyles:_3(["default","node",...t.classes]),cssClasses:"default "+t.classes.join(" "),shape:XLe(t),dir:t.dir,domId:t.domId,isGroup:o,look:a,link:t.link,linkTarget:t.linkTarget,tooltip:pJ(t.id),icon:t.icon,pos:t.pos,img:t.img,assetWidth:t.assetWidth,assetHeight:t.assetHeight,constraint:t.constraint})},"addNodeFromVertex");function _3(t){let e=[];for(const r of t){const n=Ov.get(r);n!=null&&n.styles&&(e=[...e,...n.styles??[]].map(i=>i.trim())),n!=null&&n.textStyles&&(e=[...e,...n.textStyles??[]].map(i=>i.trim()))}return e}b(_3,"getCompiledStyles");var JLe=b(()=>{const t=we(),e=[],r=[],n=wJ(),i=new Map,a=new Map;for(let l=n.length-1;l>=0;l--){const u=n[l];u.nodes.length>0&&a.set(u.id,!0);for(const h of u.nodes)i.set(h,u.id)}for(let l=n.length-1;l>=0;l--){const u=n[l];e.push({id:u.id,label:u.title,labelStyle:"",parentId:i.get(u.id),padding:8,cssCompiledStyles:_3(u.classes),cssClasses:u.classes.join(" "),shape:"rect",dir:u.dir,isGroup:!0,look:t.look})}mJ().forEach(l=>{ZLe(l,e,i,a,t,t.look||"classic")});const o=vJ();return o.forEach((l,u)=>{const{arrowTypeStart:h,arrowTypeEnd:d}=QLe(l.type),p=[...o.defaultStyle??[]];l.style&&p.push(...l.style);const f={id:OY(l.start,l.end,{counter:u,prefix:"L"}),start:l.start,end:l.end,type:l.type??"normal",label:l.text,labelpos:"c",thickness:l.stroke,minlen:l.length,classes:(l==null?void 0:l.stroke)==="invisible"?"":"edge-thickness-normal edge-pattern-solid flowchart-link",arrowTypeStart:(l==null?void 0:l.stroke)==="invisible"?"none":h,arrowTypeEnd:(l==null?void 0:l.stroke)==="invisible"?"none":d,arrowheadStyle:"fill: #333",labelStyle:p,style:p,pattern:l.stroke,look:t.look};r.push(f)}),{nodes:e,edges:r,other:{},config:t}},"getData"),jT={defaultConfig:b(()=>oG.flowchart,"defaultConfig"),setAccTitle:Ri,getAccTitle:Qi,getAccDescription:Ji,getData:JLe,setAccDescription:Zi,addVertex:TLe,lookUpDomId:Jw,addLink:SLe,updateLinkInterpolate:CLe,updateLink:ALe,addClass:_Le,setDirection:LLe,setClass:K9,setTooltip:NLe,getTooltip:pJ,setClickEvent:ILe,setLink:MLe,bindFunctions:DLe,getDirection:gJ,getVertices:mJ,getEdges:vJ,getClasses:OLe,clear:PLe,setGen:FLe,defaultStyle:BLe,addSubGraph:$Le,getDepthFirstPos:ULe,indexNodes:VLe,getSubGraphs:wJ,destructLink:qLe,lex:jLe,exists:kJ,makeUniq:TJ,setDiagramTitle:za,getDiagramTitle:ea},eNe=b(function(t,e){return e.db.getClasses()},"getClasses"),tNe=b(async function(t,e,r,n){var f;q.info("REF0:"),q.info("Drawing state diagram (v2)",e);const{securityLevel:i,flowchart:a,layout:s}=we();let o;i==="sandbox"&&(o=Ke("#i"+e));const l=i==="sandbox"?o.nodes()[0].contentDocument:document;q.debug("Before getData: ");const u=n.db.getData();q.debug("Data: ",u);const h=dJ(e,i),d=gJ();u.type=n.type,u.layoutAlgorithm=ybe(s),u.layoutAlgorithm==="dagre"&&s==="elk"&&q.warn("flowchart-elk was moved to an external package in Mermaid v11. Please refer [release notes](https://github.com/mermaid-js/mermaid/releases/tag/v11.0.0) for more details. This diagram will be rendered using `dagre` layout as a fallback."),u.direction=d,u.nodeSpacing=(a==null?void 0:a.nodeSpacing)||50,u.rankSpacing=(a==null?void 0:a.rankSpacing)||50,u.markers=["point","circle","cross"],u.diagramId=e,q.debug("REF1:",u),await Rq(u,h);const p=((f=u.config.flowchart)==null?void 0:f.diagramPadding)??8;Jt.insertTitle(h,"flowchartTitleText",(a==null?void 0:a.titleTopMargin)||0,n.db.getDiagramTitle()),fJ(h,p,"flowchart",(a==null?void 0:a.useMaxWidth)||!1);for(const g of u.nodes){const m=Ke(`#${e} [id="${g.id}"]`);if(!m||!g.link)continue;const y=l.createElementNS("http://www.w3.org/2000/svg","a");y.setAttributeNS("http://www.w3.org/2000/svg","class",g.cssClasses),y.setAttributeNS("http://www.w3.org/2000/svg","rel","noopener"),i==="sandbox"?y.setAttributeNS("http://www.w3.org/2000/svg","target","_top"):g.linkTarget&&y.setAttributeNS("http://www.w3.org/2000/svg","target",g.linkTarget);const v=m.insert(function(){return y},":first-child"),x=m.select(".label-container");x&&v.append(function(){return x.node()});const w=m.select(".label");w&&v.append(function(){return w.node()})}},"draw"),rNe={getClasses:eNe,draw:tNe},JS=function(){var t=b(function(Wr,Et,xt,_t){for(xt=xt||{},_t=Wr.length;_t--;xt[Wr[_t]]=Et);return xt},"o"),e=[1,4],r=[1,3],n=[1,5],i=[1,8,9,10,11,27,34,36,38,44,60,83,84,85,86,87,88,101,104,105,108,110,113,114,115,120,121,122,123],a=[2,2],s=[1,13],o=[1,14],l=[1,15],u=[1,16],h=[1,23],d=[1,25],p=[1,26],f=[1,27],g=[1,49],m=[1,48],y=[1,29],v=[1,30],x=[1,31],w=[1,32],k=[1,33],E=[1,44],_=[1,46],S=[1,42],R=[1,47],C=[1,43],L=[1,50],A=[1,45],N=[1,51],F=[1,52],T=[1,34],D=[1,35],M=[1,36],O=[1,37],I=[1,57],P=[1,8,9,10,11,27,32,34,36,38,44,60,83,84,85,86,87,88,101,104,105,108,110,113,114,115,120,121,122,123],B=[1,61],$=[1,60],V=[1,62],W=[8,9,11,75,77],K=[1,77],Z=[1,90],H=[1,95],ee=[1,94],te=[1,91],U=[1,87],j=[1,93],Y=[1,89],Q=[1,96],ae=[1,92],ie=[1,97],J=[1,88],_e=[8,9,10,11,40,75,77],ce=[8,9,10,11,40,46,75,77],Te=[8,9,10,11,29,40,44,46,48,50,52,54,56,58,60,63,65,67,68,70,75,77,88,101,104,105,108,110,113,114,115],be=[8,9,11,44,60,75,77,88,101,104,105,108,110,113,114,115],Ue=[44,60,88,101,104,105,108,110,113,114,115],He=[1,123],Ve=[1,122],Re=[1,130],de=[1,144],X=[1,145],oe=[1,146],me=[1,147],ne=[1,132],ue=[1,134],pe=[1,138],ge=[1,139],ve=[1,140],Ee=[1,141],Ce=[1,142],Ne=[1,143],Se=[1,148],Ie=[1,149],Ae=[1,128],qe=[1,129],De=[1,136],Xe=[1,131],at=[1,135],dt=[1,133],ut=[8,9,10,11,27,32,34,36,38,44,60,83,84,85,86,87,88,101,104,105,108,110,113,114,115,120,121,122,123],kt=[1,151],je=[1,153],Ye=[8,9,11],gt=[8,9,10,11,14,44,60,88,104,105,108,110,113,114,115],We=[1,173],tt=[1,169],Ft=[1,170],rt=[1,174],Ge=[1,171],ct=[1,172],Dt=[77,115,118],Vt=[8,9,10,11,12,14,27,29,32,44,60,75,83,84,85,86,87,88,89,104,108,110,113,114,115],tr=[10,105],Nr=[31,49,51,53,55,57,62,64,66,67,69,71,115,116,117],ur=[1,242],Pn=[1,240],Hr=[1,244],an=[1,238],pr=[1,239],Fn=[1,241],bt=[1,243],Le=[1,245],Qe=[1,263],Tt=[8,9,11,105],nr=[8,9,10,11,60,83,104,105,108,109,110,111],Qr={trace:b(function(){},"trace"),yy:{},symbols_:{error:2,start:3,graphConfig:4,document:5,line:6,statement:7,SEMI:8,NEWLINE:9,SPACE:10,EOF:11,GRAPH:12,NODIR:13,DIR:14,FirstStmtSeparator:15,ending:16,endToken:17,spaceList:18,spaceListNewline:19,vertexStatement:20,separator:21,styleStatement:22,linkStyleStatement:23,classDefStatement:24,classStatement:25,clickStatement:26,subgraph:27,textNoTags:28,SQS:29,text:30,SQE:31,end:32,direction:33,acc_title:34,acc_title_value:35,acc_descr:36,acc_descr_value:37,acc_descr_multiline_value:38,shapeData:39,SHAPE_DATA:40,link:41,node:42,styledVertex:43,AMP:44,vertex:45,STYLE_SEPARATOR:46,idString:47,DOUBLECIRCLESTART:48,DOUBLECIRCLEEND:49,PS:50,PE:51,"(-":52,"-)":53,STADIUMSTART:54,STADIUMEND:55,SUBROUTINESTART:56,SUBROUTINEEND:57,VERTEX_WITH_PROPS_START:58,"NODE_STRING[field]":59,COLON:60,"NODE_STRING[value]":61,PIPE:62,CYLINDERSTART:63,CYLINDEREND:64,DIAMOND_START:65,DIAMOND_STOP:66,TAGEND:67,TRAPSTART:68,TRAPEND:69,INVTRAPSTART:70,INVTRAPEND:71,linkStatement:72,arrowText:73,TESTSTR:74,START_LINK:75,edgeText:76,LINK:77,edgeTextToken:78,STR:79,MD_STR:80,textToken:81,keywords:82,STYLE:83,LINKSTYLE:84,CLASSDEF:85,CLASS:86,CLICK:87,DOWN:88,UP:89,textNoTagsToken:90,stylesOpt:91,"idString[vertex]":92,"idString[class]":93,CALLBACKNAME:94,CALLBACKARGS:95,HREF:96,LINK_TARGET:97,"STR[link]":98,"STR[tooltip]":99,alphaNum:100,DEFAULT:101,numList:102,INTERPOLATE:103,NUM:104,COMMA:105,style:106,styleComponent:107,NODE_STRING:108,UNIT:109,BRKT:110,PCT:111,idStringToken:112,MINUS:113,MULT:114,UNICODE_TEXT:115,TEXT:116,TAGSTART:117,EDGE_TEXT:118,alphaNumToken:119,direction_tb:120,direction_bt:121,direction_rl:122,direction_lr:123,$accept:0,$end:1},terminals_:{2:"error",8:"SEMI",9:"NEWLINE",10:"SPACE",11:"EOF",12:"GRAPH",13:"NODIR",14:"DIR",27:"subgraph",29:"SQS",31:"SQE",32:"end",34:"acc_title",35:"acc_title_value",36:"acc_descr",37:"acc_descr_value",38:"acc_descr_multiline_value",40:"SHAPE_DATA",44:"AMP",46:"STYLE_SEPARATOR",48:"DOUBLECIRCLESTART",49:"DOUBLECIRCLEEND",50:"PS",51:"PE",52:"(-",53:"-)",54:"STADIUMSTART",55:"STADIUMEND",56:"SUBROUTINESTART",57:"SUBROUTINEEND",58:"VERTEX_WITH_PROPS_START",59:"NODE_STRING[field]",60:"COLON",61:"NODE_STRING[value]",62:"PIPE",63:"CYLINDERSTART",64:"CYLINDEREND",65:"DIAMOND_START",66:"DIAMOND_STOP",67:"TAGEND",68:"TRAPSTART",69:"TRAPEND",70:"INVTRAPSTART",71:"INVTRAPEND",74:"TESTSTR",75:"START_LINK",77:"LINK",79:"STR",80:"MD_STR",83:"STYLE",84:"LINKSTYLE",85:"CLASSDEF",86:"CLASS",87:"CLICK",88:"DOWN",89:"UP",92:"idString[vertex]",93:"idString[class]",94:"CALLBACKNAME",95:"CALLBACKARGS",96:"HREF",97:"LINK_TARGET",98:"STR[link]",99:"STR[tooltip]",101:"DEFAULT",103:"INTERPOLATE",104:"NUM",105:"COMMA",108:"NODE_STRING",109:"UNIT",110:"BRKT",111:"PCT",113:"MINUS",114:"MULT",115:"UNICODE_TEXT",116:"TEXT",117:"TAGSTART",118:"EDGE_TEXT",120:"direction_tb",121:"direction_bt",122:"direction_rl",123:"direction_lr"},productions_:[0,[3,2],[5,0],[5,2],[6,1],[6,1],[6,1],[6,1],[6,1],[4,2],[4,2],[4,2],[4,3],[16,2],[16,1],[17,1],[17,1],[17,1],[15,1],[15,1],[15,2],[19,2],[19,2],[19,1],[19,1],[18,2],[18,1],[7,2],[7,2],[7,2],[7,2],[7,2],[7,2],[7,9],[7,6],[7,4],[7,1],[7,2],[7,2],[7,1],[21,1],[21,1],[21,1],[39,2],[39,1],[20,4],[20,3],[20,4],[20,2],[20,2],[20,1],[42,1],[42,6],[42,5],[43,1],[43,3],[45,4],[45,4],[45,6],[45,4],[45,4],[45,4],[45,8],[45,4],[45,4],[45,4],[45,6],[45,4],[45,4],[45,4],[45,4],[45,4],[45,1],[41,2],[41,3],[41,3],[41,1],[41,3],[76,1],[76,2],[76,1],[76,1],[72,1],[73,3],[30,1],[30,2],[30,1],[30,1],[82,1],[82,1],[82,1],[82,1],[82,1],[82,1],[82,1],[82,1],[82,1],[82,1],[82,1],[28,1],[28,2],[28,1],[28,1],[24,5],[25,5],[26,2],[26,4],[26,3],[26,5],[26,3],[26,5],[26,5],[26,7],[26,2],[26,4],[26,2],[26,4],[26,4],[26,6],[22,5],[23,5],[23,5],[23,9],[23,9],[23,7],[23,7],[102,1],[102,3],[91,1],[91,3],[106,1],[106,2],[107,1],[107,1],[107,1],[107,1],[107,1],[107,1],[107,1],[107,1],[112,1],[112,1],[112,1],[112,1],[112,1],[112,1],[112,1],[112,1],[112,1],[112,1],[112,1],[81,1],[81,1],[81,1],[81,1],[90,1],[90,1],[90,1],[90,1],[90,1],[90,1],[90,1],[90,1],[90,1],[90,1],[90,1],[78,1],[78,1],[119,1],[119,1],[119,1],[119,1],[119,1],[119,1],[119,1],[119,1],[119,1],[119,1],[119,1],[47,1],[47,2],[100,1],[100,2],[33,1],[33,1],[33,1],[33,1]],performAction:b(function(Et,xt,_t,ot,ir,he,gr){var ye=he.length-1;switch(ir){case 2:this.$=[];break;case 3:(!Array.isArray(he[ye])||he[ye].length>0)&&he[ye-1].push(he[ye]),this.$=he[ye-1];break;case 4:case 181:this.$=he[ye];break;case 11:ot.setDirection("TB"),this.$="TB";break;case 12:ot.setDirection(he[ye-1]),this.$=he[ye-1];break;case 27:this.$=he[ye-1].nodes;break;case 28:case 29:case 30:case 31:case 32:this.$=[];break;case 33:this.$=ot.addSubGraph(he[ye-6],he[ye-1],he[ye-4]);break;case 34:this.$=ot.addSubGraph(he[ye-3],he[ye-1],he[ye-3]);break;case 35:this.$=ot.addSubGraph(void 0,he[ye-1],void 0);break;case 37:this.$=he[ye].trim(),ot.setAccTitle(this.$);break;case 38:case 39:this.$=he[ye].trim(),ot.setAccDescription(this.$);break;case 43:this.$=he[ye-1]+he[ye];break;case 44:this.$=he[ye];break;case 45:ot.addVertex(he[ye-1][0],void 0,void 0,void 0,void 0,void 0,void 0,he[ye]),ot.addLink(he[ye-3].stmt,he[ye-1],he[ye-2]),this.$={stmt:he[ye-1],nodes:he[ye-1].concat(he[ye-3].nodes)};break;case 46:ot.addLink(he[ye-2].stmt,he[ye],he[ye-1]),this.$={stmt:he[ye],nodes:he[ye].concat(he[ye-2].nodes)};break;case 47:ot.addLink(he[ye-3].stmt,he[ye-1],he[ye-2]),this.$={stmt:he[ye-1],nodes:he[ye-1].concat(he[ye-3].nodes)};break;case 48:this.$={stmt:he[ye-1],nodes:he[ye-1]};break;case 49:ot.addVertex(he[ye-1][0],void 0,void 0,void 0,void 0,void 0,void 0,he[ye]),this.$={stmt:he[ye-1],nodes:he[ye-1],shapeData:he[ye]};break;case 50:this.$={stmt:he[ye],nodes:he[ye]};break;case 51:this.$=[he[ye]];break;case 52:ot.addVertex(he[ye-5][0],void 0,void 0,void 0,void 0,void 0,void 0,he[ye-4]),this.$=he[ye-5].concat(he[ye]);break;case 53:this.$=he[ye-4].concat(he[ye]);break;case 54:this.$=he[ye];break;case 55:this.$=he[ye-2],ot.setClass(he[ye-2],he[ye]);break;case 56:this.$=he[ye-3],ot.addVertex(he[ye-3],he[ye-1],"square");break;case 57:this.$=he[ye-3],ot.addVertex(he[ye-3],he[ye-1],"doublecircle");break;case 58:this.$=he[ye-5],ot.addVertex(he[ye-5],he[ye-2],"circle");break;case 59:this.$=he[ye-3],ot.addVertex(he[ye-3],he[ye-1],"ellipse");break;case 60:this.$=he[ye-3],ot.addVertex(he[ye-3],he[ye-1],"stadium");break;case 61:this.$=he[ye-3],ot.addVertex(he[ye-3],he[ye-1],"subroutine");break;case 62:this.$=he[ye-7],ot.addVertex(he[ye-7],he[ye-1],"rect",void 0,void 0,void 0,Object.fromEntries([[he[ye-5],he[ye-3]]]));break;case 63:this.$=he[ye-3],ot.addVertex(he[ye-3],he[ye-1],"cylinder");break;case 64:this.$=he[ye-3],ot.addVertex(he[ye-3],he[ye-1],"round");break;case 65:this.$=he[ye-3],ot.addVertex(he[ye-3],he[ye-1],"diamond");break;case 66:this.$=he[ye-5],ot.addVertex(he[ye-5],he[ye-2],"hexagon");break;case 67:this.$=he[ye-3],ot.addVertex(he[ye-3],he[ye-1],"odd");break;case 68:this.$=he[ye-3],ot.addVertex(he[ye-3],he[ye-1],"trapezoid");break;case 69:this.$=he[ye-3],ot.addVertex(he[ye-3],he[ye-1],"inv_trapezoid");break;case 70:this.$=he[ye-3],ot.addVertex(he[ye-3],he[ye-1],"lean_right");break;case 71:this.$=he[ye-3],ot.addVertex(he[ye-3],he[ye-1],"lean_left");break;case 72:this.$=he[ye],ot.addVertex(he[ye]);break;case 73:he[ye-1].text=he[ye],this.$=he[ye-1];break;case 74:case 75:he[ye-2].text=he[ye-1],this.$=he[ye-2];break;case 76:this.$=he[ye];break;case 77:var on=ot.destructLink(he[ye],he[ye-2]);this.$={type:on.type,stroke:on.stroke,length:on.length,text:he[ye-1]};break;case 78:this.$={text:he[ye],type:"text"};break;case 79:this.$={text:he[ye-1].text+""+he[ye],type:he[ye-1].type};break;case 80:this.$={text:he[ye],type:"string"};break;case 81:this.$={text:he[ye],type:"markdown"};break;case 82:var on=ot.destructLink(he[ye]);this.$={type:on.type,stroke:on.stroke,length:on.length};break;case 83:this.$=he[ye-1];break;case 84:this.$={text:he[ye],type:"text"};break;case 85:this.$={text:he[ye-1].text+""+he[ye],type:he[ye-1].type};break;case 86:this.$={text:he[ye],type:"string"};break;case 87:case 102:this.$={text:he[ye],type:"markdown"};break;case 99:this.$={text:he[ye],type:"text"};break;case 100:this.$={text:he[ye-1].text+""+he[ye],type:he[ye-1].type};break;case 101:this.$={text:he[ye],type:"text"};break;case 103:this.$=he[ye-4],ot.addClass(he[ye-2],he[ye]);break;case 104:this.$=he[ye-4],ot.setClass(he[ye-2],he[ye]);break;case 105:case 113:this.$=he[ye-1],ot.setClickEvent(he[ye-1],he[ye]);break;case 106:case 114:this.$=he[ye-3],ot.setClickEvent(he[ye-3],he[ye-2]),ot.setTooltip(he[ye-3],he[ye]);break;case 107:this.$=he[ye-2],ot.setClickEvent(he[ye-2],he[ye-1],he[ye]);break;case 108:this.$=he[ye-4],ot.setClickEvent(he[ye-4],he[ye-3],he[ye-2]),ot.setTooltip(he[ye-4],he[ye]);break;case 109:this.$=he[ye-2],ot.setLink(he[ye-2],he[ye]);break;case 110:this.$=he[ye-4],ot.setLink(he[ye-4],he[ye-2]),ot.setTooltip(he[ye-4],he[ye]);break;case 111:this.$=he[ye-4],ot.setLink(he[ye-4],he[ye-2],he[ye]);break;case 112:this.$=he[ye-6],ot.setLink(he[ye-6],he[ye-4],he[ye]),ot.setTooltip(he[ye-6],he[ye-2]);break;case 115:this.$=he[ye-1],ot.setLink(he[ye-1],he[ye]);break;case 116:this.$=he[ye-3],ot.setLink(he[ye-3],he[ye-2]),ot.setTooltip(he[ye-3],he[ye]);break;case 117:this.$=he[ye-3],ot.setLink(he[ye-3],he[ye-2],he[ye]);break;case 118:this.$=he[ye-5],ot.setLink(he[ye-5],he[ye-4],he[ye]),ot.setTooltip(he[ye-5],he[ye-2]);break;case 119:this.$=he[ye-4],ot.addVertex(he[ye-2],void 0,void 0,he[ye]);break;case 120:this.$=he[ye-4],ot.updateLink([he[ye-2]],he[ye]);break;case 121:this.$=he[ye-4],ot.updateLink(he[ye-2],he[ye]);break;case 122:this.$=he[ye-8],ot.updateLinkInterpolate([he[ye-6]],he[ye-2]),ot.updateLink([he[ye-6]],he[ye]);break;case 123:this.$=he[ye-8],ot.updateLinkInterpolate(he[ye-6],he[ye-2]),ot.updateLink(he[ye-6],he[ye]);break;case 124:this.$=he[ye-6],ot.updateLinkInterpolate([he[ye-4]],he[ye]);break;case 125:this.$=he[ye-6],ot.updateLinkInterpolate(he[ye-4],he[ye]);break;case 126:case 128:this.$=[he[ye]];break;case 127:case 129:he[ye-2].push(he[ye]),this.$=he[ye-2];break;case 131:this.$=he[ye-1]+he[ye];break;case 179:this.$=he[ye];break;case 180:this.$=he[ye-1]+""+he[ye];break;case 182:this.$=he[ye-1]+""+he[ye];break;case 183:this.$={stmt:"dir",value:"TB"};break;case 184:this.$={stmt:"dir",value:"BT"};break;case 185:this.$={stmt:"dir",value:"RL"};break;case 186:this.$={stmt:"dir",value:"LR"};break}},"anonymous"),table:[{3:1,4:2,9:e,10:r,12:n},{1:[3]},t(i,a,{5:6}),{4:7,9:e,10:r,12:n},{4:8,9:e,10:r,12:n},{13:[1,9],14:[1,10]},{1:[2,1],6:11,7:12,8:s,9:o,10:l,11:u,20:17,22:18,23:19,24:20,25:21,26:22,27:h,33:24,34:d,36:p,38:f,42:28,43:38,44:g,45:39,47:40,60:m,83:y,84:v,85:x,86:w,87:k,88:E,101:_,104:S,105:R,108:C,110:L,112:41,113:A,114:N,115:F,120:T,121:D,122:M,123:O},t(i,[2,9]),t(i,[2,10]),t(i,[2,11]),{8:[1,54],9:[1,55],10:I,15:53,18:56},t(P,[2,3]),t(P,[2,4]),t(P,[2,5]),t(P,[2,6]),t(P,[2,7]),t(P,[2,8]),{8:B,9:$,11:V,21:58,41:59,72:63,75:[1,64],77:[1,65]},{8:B,9:$,11:V,21:66},{8:B,9:$,11:V,21:67},{8:B,9:$,11:V,21:68},{8:B,9:$,11:V,21:69},{8:B,9:$,11:V,21:70},{8:B,9:$,10:[1,71],11:V,21:72},t(P,[2,36]),{35:[1,73]},{37:[1,74]},t(P,[2,39]),t(W,[2,50],{18:75,39:76,10:I,40:K}),{10:[1,78]},{10:[1,79]},{10:[1,80]},{10:[1,81]},{14:Z,44:H,60:ee,79:[1,85],88:te,94:[1,82],96:[1,83],100:84,104:U,105:j,108:Y,110:Q,113:ae,114:ie,115:J,119:86},t(P,[2,183]),t(P,[2,184]),t(P,[2,185]),t(P,[2,186]),t(_e,[2,51]),t(_e,[2,54],{46:[1,98]}),t(ce,[2,72],{112:111,29:[1,99],44:g,48:[1,100],50:[1,101],52:[1,102],54:[1,103],56:[1,104],58:[1,105],60:m,63:[1,106],65:[1,107],67:[1,108],68:[1,109],70:[1,110],88:E,101:_,104:S,105:R,108:C,110:L,113:A,114:N,115:F}),t(Te,[2,179]),t(Te,[2,140]),t(Te,[2,141]),t(Te,[2,142]),t(Te,[2,143]),t(Te,[2,144]),t(Te,[2,145]),t(Te,[2,146]),t(Te,[2,147]),t(Te,[2,148]),t(Te,[2,149]),t(Te,[2,150]),t(i,[2,12]),t(i,[2,18]),t(i,[2,19]),{9:[1,112]},t(be,[2,26],{18:113,10:I}),t(P,[2,27]),{42:114,43:38,44:g,45:39,47:40,60:m,88:E,101:_,104:S,105:R,108:C,110:L,112:41,113:A,114:N,115:F},t(P,[2,40]),t(P,[2,41]),t(P,[2,42]),t(Ue,[2,76],{73:115,62:[1,117],74:[1,116]}),{76:118,78:119,79:[1,120],80:[1,121],115:He,118:Ve},t([44,60,62,74,88,101,104,105,108,110,113,114,115],[2,82]),t(P,[2,28]),t(P,[2,29]),t(P,[2,30]),t(P,[2,31]),t(P,[2,32]),{10:Re,12:de,14:X,27:oe,28:124,32:me,44:ne,60:ue,75:pe,79:[1,126],80:[1,127],82:137,83:ge,84:ve,85:Ee,86:Ce,87:Ne,88:Se,89:Ie,90:125,104:Ae,108:qe,110:De,113:Xe,114:at,115:dt},t(ut,a,{5:150}),t(P,[2,37]),t(P,[2,38]),t(W,[2,48],{44:kt}),t(W,[2,49],{18:152,10:I,40:je}),t(_e,[2,44]),{44:g,47:154,60:m,88:E,101:_,104:S,105:R,108:C,110:L,112:41,113:A,114:N,115:F},{101:[1,155],102:156,104:[1,157]},{44:g,47:158,60:m,88:E,101:_,104:S,105:R,108:C,110:L,112:41,113:A,114:N,115:F},{44:g,47:159,60:m,88:E,101:_,104:S,105:R,108:C,110:L,112:41,113:A,114:N,115:F},t(Ye,[2,105],{10:[1,160],95:[1,161]}),{79:[1,162]},t(Ye,[2,113],{119:164,10:[1,163],14:Z,44:H,60:ee,88:te,104:U,105:j,108:Y,110:Q,113:ae,114:ie,115:J}),t(Ye,[2,115],{10:[1,165]}),t(gt,[2,181]),t(gt,[2,168]),t(gt,[2,169]),t(gt,[2,170]),t(gt,[2,171]),t(gt,[2,172]),t(gt,[2,173]),t(gt,[2,174]),t(gt,[2,175]),t(gt,[2,176]),t(gt,[2,177]),t(gt,[2,178]),{44:g,47:166,60:m,88:E,101:_,104:S,105:R,108:C,110:L,112:41,113:A,114:N,115:F},{30:167,67:We,79:tt,80:Ft,81:168,115:rt,116:Ge,117:ct},{30:175,67:We,79:tt,80:Ft,81:168,115:rt,116:Ge,117:ct},{30:177,50:[1,176],67:We,79:tt,80:Ft,81:168,115:rt,116:Ge,117:ct},{30:178,67:We,79:tt,80:Ft,81:168,115:rt,116:Ge,117:ct},{30:179,67:We,79:tt,80:Ft,81:168,115:rt,116:Ge,117:ct},{30:180,67:We,79:tt,80:Ft,81:168,115:rt,116:Ge,117:ct},{108:[1,181]},{30:182,67:We,79:tt,80:Ft,81:168,115:rt,116:Ge,117:ct},{30:183,65:[1,184],67:We,79:tt,80:Ft,81:168,115:rt,116:Ge,117:ct},{30:185,67:We,79:tt,80:Ft,81:168,115:rt,116:Ge,117:ct},{30:186,67:We,79:tt,80:Ft,81:168,115:rt,116:Ge,117:ct},{30:187,67:We,79:tt,80:Ft,81:168,115:rt,116:Ge,117:ct},t(Te,[2,180]),t(i,[2,20]),t(be,[2,25]),t(W,[2,46],{39:188,18:189,10:I,40:K}),t(Ue,[2,73],{10:[1,190]}),{10:[1,191]},{30:192,67:We,79:tt,80:Ft,81:168,115:rt,116:Ge,117:ct},{77:[1,193],78:194,115:He,118:Ve},t(Dt,[2,78]),t(Dt,[2,80]),t(Dt,[2,81]),t(Dt,[2,166]),t(Dt,[2,167]),{8:B,9:$,10:Re,11:V,12:de,14:X,21:196,27:oe,29:[1,195],32:me,44:ne,60:ue,75:pe,82:137,83:ge,84:ve,85:Ee,86:Ce,87:Ne,88:Se,89:Ie,90:197,104:Ae,108:qe,110:De,113:Xe,114:at,115:dt},t(Vt,[2,99]),t(Vt,[2,101]),t(Vt,[2,102]),t(Vt,[2,155]),t(Vt,[2,156]),t(Vt,[2,157]),t(Vt,[2,158]),t(Vt,[2,159]),t(Vt,[2,160]),t(Vt,[2,161]),t(Vt,[2,162]),t(Vt,[2,163]),t(Vt,[2,164]),t(Vt,[2,165]),t(Vt,[2,88]),t(Vt,[2,89]),t(Vt,[2,90]),t(Vt,[2,91]),t(Vt,[2,92]),t(Vt,[2,93]),t(Vt,[2,94]),t(Vt,[2,95]),t(Vt,[2,96]),t(Vt,[2,97]),t(Vt,[2,98]),{6:11,7:12,8:s,9:o,10:l,11:u,20:17,22:18,23:19,24:20,25:21,26:22,27:h,32:[1,198],33:24,34:d,36:p,38:f,42:28,43:38,44:g,45:39,47:40,60:m,83:y,84:v,85:x,86:w,87:k,88:E,101:_,104:S,105:R,108:C,110:L,112:41,113:A,114:N,115:F,120:T,121:D,122:M,123:O},{10:I,18:199},{44:[1,200]},t(_e,[2,43]),{10:[1,201],44:g,60:m,88:E,101:_,104:S,105:R,108:C,110:L,112:111,113:A,114:N,115:F},{10:[1,202]},{10:[1,203],105:[1,204]},t(tr,[2,126]),{10:[1,205],44:g,60:m,88:E,101:_,104:S,105:R,108:C,110:L,112:111,113:A,114:N,115:F},{10:[1,206],44:g,60:m,88:E,101:_,104:S,105:R,108:C,110:L,112:111,113:A,114:N,115:F},{79:[1,207]},t(Ye,[2,107],{10:[1,208]}),t(Ye,[2,109],{10:[1,209]}),{79:[1,210]},t(gt,[2,182]),{79:[1,211],97:[1,212]},t(_e,[2,55],{112:111,44:g,60:m,88:E,101:_,104:S,105:R,108:C,110:L,113:A,114:N,115:F}),{31:[1,213],67:We,81:214,115:rt,116:Ge,117:ct},t(Nr,[2,84]),t(Nr,[2,86]),t(Nr,[2,87]),t(Nr,[2,151]),t(Nr,[2,152]),t(Nr,[2,153]),t(Nr,[2,154]),{49:[1,215],67:We,81:214,115:rt,116:Ge,117:ct},{30:216,67:We,79:tt,80:Ft,81:168,115:rt,116:Ge,117:ct},{51:[1,217],67:We,81:214,115:rt,116:Ge,117:ct},{53:[1,218],67:We,81:214,115:rt,116:Ge,117:ct},{55:[1,219],67:We,81:214,115:rt,116:Ge,117:ct},{57:[1,220],67:We,81:214,115:rt,116:Ge,117:ct},{60:[1,221]},{64:[1,222],67:We,81:214,115:rt,116:Ge,117:ct},{66:[1,223],67:We,81:214,115:rt,116:Ge,117:ct},{30:224,67:We,79:tt,80:Ft,81:168,115:rt,116:Ge,117:ct},{31:[1,225],67:We,81:214,115:rt,116:Ge,117:ct},{67:We,69:[1,226],71:[1,227],81:214,115:rt,116:Ge,117:ct},{67:We,69:[1,229],71:[1,228],81:214,115:rt,116:Ge,117:ct},t(W,[2,45],{18:152,10:I,40:je}),t(W,[2,47],{44:kt}),t(Ue,[2,75]),t(Ue,[2,74]),{62:[1,230],67:We,81:214,115:rt,116:Ge,117:ct},t(Ue,[2,77]),t(Dt,[2,79]),{30:231,67:We,79:tt,80:Ft,81:168,115:rt,116:Ge,117:ct},t(ut,a,{5:232}),t(Vt,[2,100]),t(P,[2,35]),{43:233,44:g,45:39,47:40,60:m,88:E,101:_,104:S,105:R,108:C,110:L,112:41,113:A,114:N,115:F},{10:I,18:234},{10:ur,60:Pn,83:Hr,91:235,104:an,106:236,107:237,108:pr,109:Fn,110:bt,111:Le},{10:ur,60:Pn,83:Hr,91:246,103:[1,247],104:an,106:236,107:237,108:pr,109:Fn,110:bt,111:Le},{10:ur,60:Pn,83:Hr,91:248,103:[1,249],104:an,106:236,107:237,108:pr,109:Fn,110:bt,111:Le},{104:[1,250]},{10:ur,60:Pn,83:Hr,91:251,104:an,106:236,107:237,108:pr,109:Fn,110:bt,111:Le},{44:g,47:252,60:m,88:E,101:_,104:S,105:R,108:C,110:L,112:41,113:A,114:N,115:F},t(Ye,[2,106]),{79:[1,253]},{79:[1,254],97:[1,255]},t(Ye,[2,114]),t(Ye,[2,116],{10:[1,256]}),t(Ye,[2,117]),t(ce,[2,56]),t(Nr,[2,85]),t(ce,[2,57]),{51:[1,257],67:We,81:214,115:rt,116:Ge,117:ct},t(ce,[2,64]),t(ce,[2,59]),t(ce,[2,60]),t(ce,[2,61]),{108:[1,258]},t(ce,[2,63]),t(ce,[2,65]),{66:[1,259],67:We,81:214,115:rt,116:Ge,117:ct},t(ce,[2,67]),t(ce,[2,68]),t(ce,[2,70]),t(ce,[2,69]),t(ce,[2,71]),t([10,44,60,88,101,104,105,108,110,113,114,115],[2,83]),{31:[1,260],67:We,81:214,115:rt,116:Ge,117:ct},{6:11,7:12,8:s,9:o,10:l,11:u,20:17,22:18,23:19,24:20,25:21,26:22,27:h,32:[1,261],33:24,34:d,36:p,38:f,42:28,43:38,44:g,45:39,47:40,60:m,83:y,84:v,85:x,86:w,87:k,88:E,101:_,104:S,105:R,108:C,110:L,112:41,113:A,114:N,115:F,120:T,121:D,122:M,123:O},t(_e,[2,53]),{43:262,44:g,45:39,47:40,60:m,88:E,101:_,104:S,105:R,108:C,110:L,112:41,113:A,114:N,115:F},t(Ye,[2,119],{105:Qe}),t(Tt,[2,128],{107:264,10:ur,60:Pn,83:Hr,104:an,108:pr,109:Fn,110:bt,111:Le}),t(nr,[2,130]),t(nr,[2,132]),t(nr,[2,133]),t(nr,[2,134]),t(nr,[2,135]),t(nr,[2,136]),t(nr,[2,137]),t(nr,[2,138]),t(nr,[2,139]),t(Ye,[2,120],{105:Qe}),{10:[1,265]},t(Ye,[2,121],{105:Qe}),{10:[1,266]},t(tr,[2,127]),t(Ye,[2,103],{105:Qe}),t(Ye,[2,104],{112:111,44:g,60:m,88:E,101:_,104:S,105:R,108:C,110:L,113:A,114:N,115:F}),t(Ye,[2,108]),t(Ye,[2,110],{10:[1,267]}),t(Ye,[2,111]),{97:[1,268]},{51:[1,269]},{62:[1,270]},{66:[1,271]},{8:B,9:$,11:V,21:272},t(P,[2,34]),t(_e,[2,52]),{10:ur,60:Pn,83:Hr,104:an,106:273,107:237,108:pr,109:Fn,110:bt,111:Le},t(nr,[2,131]),{14:Z,44:H,60:ee,88:te,100:274,104:U,105:j,108:Y,110:Q,113:ae,114:ie,115:J,119:86},{14:Z,44:H,60:ee,88:te,100:275,104:U,105:j,108:Y,110:Q,113:ae,114:ie,115:J,119:86},{97:[1,276]},t(Ye,[2,118]),t(ce,[2,58]),{30:277,67:We,79:tt,80:Ft,81:168,115:rt,116:Ge,117:ct},t(ce,[2,66]),t(ut,a,{5:278}),t(Tt,[2,129],{107:264,10:ur,60:Pn,83:Hr,104:an,108:pr,109:Fn,110:bt,111:Le}),t(Ye,[2,124],{119:164,10:[1,279],14:Z,44:H,60:ee,88:te,104:U,105:j,108:Y,110:Q,113:ae,114:ie,115:J}),t(Ye,[2,125],{119:164,10:[1,280],14:Z,44:H,60:ee,88:te,104:U,105:j,108:Y,110:Q,113:ae,114:ie,115:J}),t(Ye,[2,112]),{31:[1,281],67:We,81:214,115:rt,116:Ge,117:ct},{6:11,7:12,8:s,9:o,10:l,11:u,20:17,22:18,23:19,24:20,25:21,26:22,27:h,32:[1,282],33:24,34:d,36:p,38:f,42:28,43:38,44:g,45:39,47:40,60:m,83:y,84:v,85:x,86:w,87:k,88:E,101:_,104:S,105:R,108:C,110:L,112:41,113:A,114:N,115:F,120:T,121:D,122:M,123:O},{10:ur,60:Pn,83:Hr,91:283,104:an,106:236,107:237,108:pr,109:Fn,110:bt,111:Le},{10:ur,60:Pn,83:Hr,91:284,104:an,106:236,107:237,108:pr,109:Fn,110:bt,111:Le},t(ce,[2,62]),t(P,[2,33]),t(Ye,[2,122],{105:Qe}),t(Ye,[2,123],{105:Qe})],defaultActions:{},parseError:b(function(Et,xt){if(xt.recoverable)this.trace(Et);else{var _t=new Error(Et);throw _t.hash=xt,_t}},"parseError"),parse:b(function(Et){var xt=this,_t=[0],ot=[],ir=[null],he=[],gr=this.table,ye="",on=0,jN=0,Jse=2,XN=1,eoe=he.slice.call(arguments,1),ki=Object.create(this.lexer),_h={yy:{}};for(var W6 in this.yy)Object.prototype.hasOwnProperty.call(this.yy,W6)&&(_h.yy[W6]=this.yy[W6]);ki.setInput(Et,_h.yy),_h.yy.lexer=ki,_h.yy.parser=this,typeof ki.yylloc>"u"&&(ki.yylloc={});var Y6=ki.yylloc;he.push(Y6);var toe=ki.options&&ki.options.ranges;typeof _h.yy.parseError=="function"?this.parseError=_h.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function roe(ys){_t.length=_t.length-2*ys,ir.length=ir.length-ys,he.length=he.length-ys}b(roe,"popStack");function KN(){var ys;return ys=ot.pop()||ki.lex()||XN,typeof ys!="number"&&(ys instanceof Array&&(ot=ys,ys=ot.pop()),ys=xt.symbols_[ys]||ys),ys}b(KN,"lex");for(var Ga,Lh,Vs,q6,Af={},f2,Yl,QN,p2;;){if(Lh=_t[_t.length-1],this.defaultActions[Lh]?Vs=this.defaultActions[Lh]:((Ga===null||typeof Ga>"u")&&(Ga=KN()),Vs=gr[Lh]&&gr[Lh][Ga]),typeof Vs>"u"||!Vs.length||!Vs[0]){var j6="";p2=[];for(f2 in gr[Lh])this.terminals_[f2]&&f2>Jse&&p2.push("'"+this.terminals_[f2]+"'");ki.showPosition?j6="Parse error on line "+(on+1)+`:
`+ki.showPosition()+`
Expecting `+p2.join(", ")+", got '"+(this.terminals_[Ga]||Ga)+"'":j6="Parse error on line "+(on+1)+": Unexpected "+(Ga==XN?"end of input":"'"+(this.terminals_[Ga]||Ga)+"'"),this.parseError(j6,{text:ki.match,token:this.terminals_[Ga]||Ga,line:ki.yylineno,loc:Y6,expected:p2})}if(Vs[0]instanceof Array&&Vs.length>1)throw new Error("Parse Error: multiple actions possible at state: "+Lh+", token: "+Ga);switch(Vs[0]){case 1:_t.push(Ga),ir.push(ki.yytext),he.push(ki.yylloc),_t.push(Vs[1]),Ga=null,jN=ki.yyleng,ye=ki.yytext,on=ki.yylineno,Y6=ki.yylloc;break;case 2:if(Yl=this.productions_[Vs[1]][1],Af.$=ir[ir.length-Yl],Af._$={first_line:he[he.length-(Yl||1)].first_line,last_line:he[he.length-1].last_line,first_column:he[he.length-(Yl||1)].first_column,last_column:he[he.length-1].last_column},toe&&(Af._$.range=[he[he.length-(Yl||1)].range[0],he[he.length-1].range[1]]),q6=this.performAction.apply(Af,[ye,jN,on,_h.yy,Vs[1],ir,he].concat(eoe)),typeof q6<"u")return q6;Yl&&(_t=_t.slice(0,-1*Yl*2),ir=ir.slice(0,-1*Yl),he=he.slice(0,-1*Yl)),_t.push(this.productions_[Vs[1]][0]),ir.push(Af.$),he.push(Af._$),QN=gr[_t[_t.length-2]][_t[_t.length-1]],_t.push(QN);break;case 3:return!0}}return!0},"parse")},sn=function(){var Wr={EOF:1,parseError:b(function(xt,_t){if(this.yy.parser)this.yy.parser.parseError(xt,_t);else throw new Error(xt)},"parseError"),setInput:b(function(Et,xt){return this.yy=xt||this.yy||{},this._input=Et,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},"setInput"),input:b(function(){var Et=this._input[0];this.yytext+=Et,this.yyleng++,this.offset++,this.match+=Et,this.matched+=Et;var xt=Et.match(/(?:\r\n?|\n).*/g);return xt?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),Et},"input"),unput:b(function(Et){var xt=Et.length,_t=Et.split(/(?:\r\n?|\n)/g);this._input=Et+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-xt),this.offset-=xt;var ot=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),_t.length-1&&(this.yylineno-=_t.length-1);var ir=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:_t?(_t.length===ot.length?this.yylloc.first_column:0)+ot[ot.length-_t.length].length-_t[0].length:this.yylloc.first_column-xt},this.options.ranges&&(this.yylloc.range=[ir[0],ir[0]+this.yyleng-xt]),this.yyleng=this.yytext.length,this},"unput"),more:b(function(){return this._more=!0,this},"more"),reject:b(function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},"reject"),less:b(function(Et){this.unput(this.match.slice(Et))},"less"),pastInput:b(function(){var Et=this.matched.substr(0,this.matched.length-this.match.length);return(Et.length>20?"...":"")+Et.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:b(function(){var Et=this.match;return Et.length<20&&(Et+=this._input.substr(0,20-Et.length)),(Et.substr(0,20)+(Et.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:b(function(){var Et=this.pastInput(),xt=new Array(Et.length+1).join("-");return Et+this.upcomingInput()+`
`+xt+"^"},"showPosition"),test_match:b(function(Et,xt){var _t,ot,ir;if(this.options.backtrack_lexer&&(ir={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(ir.yylloc.range=this.yylloc.range.slice(0))),ot=Et[0].match(/(?:\r\n?|\n).*/g),ot&&(this.yylineno+=ot.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:ot?ot[ot.length-1].length-ot[ot.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+Et[0].length},this.yytext+=Et[0],this.match+=Et[0],this.matches=Et,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(Et[0].length),this.matched+=Et[0],_t=this.performAction.call(this,this.yy,this,xt,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),_t)return _t;if(this._backtrack){for(var he in ir)this[he]=ir[he];return!1}return!1},"test_match"),next:b(function(){if(this.done)return this.EOF;this._input||(this.done=!0);var Et,xt,_t,ot;this._more||(this.yytext="",this.match="");for(var ir=this._currentRules(),he=0;he<ir.length;he++)if(_t=this._input.match(this.rules[ir[he]]),_t&&(!xt||_t[0].length>xt[0].length)){if(xt=_t,ot=he,this.options.backtrack_lexer){if(Et=this.test_match(_t,ir[he]),Et!==!1)return Et;if(this._backtrack){xt=!1;continue}else return!1}else if(!this.options.flex)break}return xt?(Et=this.test_match(xt,ir[ot]),Et!==!1?Et:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:b(function(){var xt=this.next();return xt||this.lex()},"lex"),begin:b(function(xt){this.conditionStack.push(xt)},"begin"),popState:b(function(){var xt=this.conditionStack.length-1;return xt>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:b(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:b(function(xt){return xt=this.conditionStack.length-1-Math.abs(xt||0),xt>=0?this.conditionStack[xt]:"INITIAL"},"topState"),pushState:b(function(xt){this.begin(xt)},"pushState"),stateStackSize:b(function(){return this.conditionStack.length},"stateStackSize"),options:{},performAction:b(function(xt,_t,ot,ir){switch(ot){case 0:return this.begin("acc_title"),34;case 1:return this.popState(),"acc_title_value";case 2:return this.begin("acc_descr"),36;case 3:return this.popState(),"acc_descr_value";case 4:this.begin("acc_descr_multiline");break;case 5:this.popState();break;case 6:return"acc_descr_multiline_value";case 7:return this.pushState("shapeData"),_t.yytext="",40;case 8:return this.pushState("shapeDataStr"),40;case 9:return this.popState(),40;case 10:const he=/\n\s*/g;return _t.yytext=_t.yytext.replace(he,"<br/>"),40;case 11:return 40;case 12:this.popState();break;case 13:this.begin("callbackname");break;case 14:this.popState();break;case 15:this.popState(),this.begin("callbackargs");break;case 16:return 94;case 17:this.popState();break;case 18:return 95;case 19:return"MD_STR";case 20:this.popState();break;case 21:this.begin("md_string");break;case 22:return"STR";case 23:this.popState();break;case 24:this.pushState("string");break;case 25:return 83;case 26:return 101;case 27:return 84;case 28:return 103;case 29:return 85;case 30:return 86;case 31:return 96;case 32:this.begin("click");break;case 33:this.popState();break;case 34:return 87;case 35:return xt.lex.firstGraph()&&this.begin("dir"),12;case 36:return xt.lex.firstGraph()&&this.begin("dir"),12;case 37:return xt.lex.firstGraph()&&this.begin("dir"),12;case 38:return 27;case 39:return 32;case 40:return 97;case 41:return 97;case 42:return 97;case 43:return 97;case 44:return this.popState(),13;case 45:return this.popState(),14;case 46:return this.popState(),14;case 47:return this.popState(),14;case 48:return this.popState(),14;case 49:return this.popState(),14;case 50:return this.popState(),14;case 51:return this.popState(),14;case 52:return this.popState(),14;case 53:return this.popState(),14;case 54:return this.popState(),14;case 55:return 120;case 56:return 121;case 57:return 122;case 58:return 123;case 59:return 104;case 60:return 110;case 61:return 46;case 62:return 60;case 63:return 44;case 64:return 8;case 65:return 105;case 66:return 114;case 67:return this.popState(),77;case 68:return this.pushState("edgeText"),75;case 69:return 118;case 70:return this.popState(),77;case 71:return this.pushState("thickEdgeText"),75;case 72:return 118;case 73:return this.popState(),77;case 74:return this.pushState("dottedEdgeText"),75;case 75:return 118;case 76:return 77;case 77:return this.popState(),53;case 78:return"TEXT";case 79:return this.pushState("ellipseText"),52;case 80:return this.popState(),55;case 81:return this.pushState("text"),54;case 82:return this.popState(),57;case 83:return this.pushState("text"),56;case 84:return 58;case 85:return this.pushState("text"),67;case 86:return this.popState(),64;case 87:return this.pushState("text"),63;case 88:return this.popState(),49;case 89:return this.pushState("text"),48;case 90:return this.popState(),69;case 91:return this.popState(),71;case 92:return 116;case 93:return this.pushState("trapText"),68;case 94:return this.pushState("trapText"),70;case 95:return 117;case 96:return 67;case 97:return 89;case 98:return"SEP";case 99:return 88;case 100:return 114;case 101:return 110;case 102:return 44;case 103:return 108;case 104:return 113;case 105:return 115;case 106:return this.popState(),62;case 107:return this.pushState("text"),62;case 108:return this.popState(),51;case 109:return this.pushState("text"),50;case 110:return this.popState(),31;case 111:return this.pushState("text"),29;case 112:return this.popState(),66;case 113:return this.pushState("text"),65;case 114:return"TEXT";case 115:return"QUOTE";case 116:return 9;case 117:return 10;case 118:return 11}},"anonymous"),rules:[/^(?:accTitle\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*\{\s*)/,/^(?:[\}])/,/^(?:[^\}]*)/,/^(?:@\{)/,/^(?:["])/,/^(?:["])/,/^(?:[^\"]+)/,/^(?:[^}^"]+)/,/^(?:\})/,/^(?:call[\s]+)/,/^(?:\([\s]*\))/,/^(?:\()/,/^(?:[^(]*)/,/^(?:\))/,/^(?:[^)]*)/,/^(?:[^`"]+)/,/^(?:[`]["])/,/^(?:["][`])/,/^(?:[^"]+)/,/^(?:["])/,/^(?:["])/,/^(?:style\b)/,/^(?:default\b)/,/^(?:linkStyle\b)/,/^(?:interpolate\b)/,/^(?:classDef\b)/,/^(?:class\b)/,/^(?:href[\s])/,/^(?:click[\s]+)/,/^(?:[\s\n])/,/^(?:[^\s\n]*)/,/^(?:flowchart-elk\b)/,/^(?:graph\b)/,/^(?:flowchart\b)/,/^(?:subgraph\b)/,/^(?:end\b\s*)/,/^(?:_self\b)/,/^(?:_blank\b)/,/^(?:_parent\b)/,/^(?:_top\b)/,/^(?:(\r?\n)*\s*\n)/,/^(?:\s*LR\b)/,/^(?:\s*RL\b)/,/^(?:\s*TB\b)/,/^(?:\s*BT\b)/,/^(?:\s*TD\b)/,/^(?:\s*BR\b)/,/^(?:\s*<)/,/^(?:\s*>)/,/^(?:\s*\^)/,/^(?:\s*v\b)/,/^(?:.*direction\s+TB[^\n]*)/,/^(?:.*direction\s+BT[^\n]*)/,/^(?:.*direction\s+RL[^\n]*)/,/^(?:.*direction\s+LR[^\n]*)/,/^(?:[0-9]+)/,/^(?:#)/,/^(?::::)/,/^(?::)/,/^(?:&)/,/^(?:;)/,/^(?:,)/,/^(?:\*)/,/^(?:\s*[xo<]?--+[-xo>]\s*)/,/^(?:\s*[xo<]?--\s*)/,/^(?:[^-]|-(?!-)+)/,/^(?:\s*[xo<]?==+[=xo>]\s*)/,/^(?:\s*[xo<]?==\s*)/,/^(?:[^=]|=(?!))/,/^(?:\s*[xo<]?-?\.+-[xo>]?\s*)/,/^(?:\s*[xo<]?-\.\s*)/,/^(?:[^\.]|\.(?!))/,/^(?:\s*~~[\~]+\s*)/,/^(?:[-/\)][\)])/,/^(?:[^\(\)\[\]\{\}]|!\)+)/,/^(?:\(-)/,/^(?:\]\))/,/^(?:\(\[)/,/^(?:\]\])/,/^(?:\[\[)/,/^(?:\[\|)/,/^(?:>)/,/^(?:\)\])/,/^(?:\[\()/,/^(?:\)\)\))/,/^(?:\(\(\()/,/^(?:[\\(?=\])][\]])/,/^(?:\/(?=\])\])/,/^(?:\/(?!\])|\\(?!\])|[^\\\[\]\(\)\{\}\/]+)/,/^(?:\[\/)/,/^(?:\[\\)/,/^(?:<)/,/^(?:>)/,/^(?:\^)/,/^(?:\\\|)/,/^(?:v\b)/,/^(?:\*)/,/^(?:#)/,/^(?:&)/,/^(?:([A-Za-z0-9!"\#$%&'*+\.`?\\_\/]|-(?=[^\>\-\.])|(?!))+)/,/^(?:-)/,/^(?:[\u00AA\u00B5\u00BA\u00C0-\u00D6\u00D8-\u00F6]|[\u00F8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377]|[\u037A-\u037D\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5]|[\u03F7-\u0481\u048A-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA]|[\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE]|[\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA]|[\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0]|[\u08A2-\u08AC\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0977]|[\u0979-\u097F\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2]|[\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A]|[\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39]|[\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8]|[\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C]|[\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C]|[\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99]|[\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0]|[\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C33\u0C35-\u0C39\u0C3D]|[\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3]|[\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10]|[\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1]|[\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81]|[\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3]|[\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6]|[\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A]|[\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081]|[\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D]|[\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0]|[\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310]|[\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C]|[\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u1700-\u170C\u170E-\u1711]|[\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7]|[\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191C]|[\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19C1-\u19C7\u1A00-\u1A16]|[\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF]|[\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC]|[\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D]|[\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D]|[\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3]|[\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F]|[\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128]|[\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184]|[\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3]|[\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6]|[\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE]|[\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C]|[\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D]|[\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC]|[\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B]|[\uA640-\uA66E\uA67F-\uA697\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788]|[\uA78B-\uA78E\uA790-\uA793\uA7A0-\uA7AA\uA7F8-\uA801\uA803-\uA805]|[\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB]|[\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uAA00-\uAA28]|[\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA80-\uAAAF\uAAB1\uAAB5]|[\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4]|[\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E]|[\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D]|[\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36]|[\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D]|[\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC]|[\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF]|[\uFFD2-\uFFD7\uFFDA-\uFFDC])/,/^(?:\|)/,/^(?:\|)/,/^(?:\))/,/^(?:\()/,/^(?:\])/,/^(?:\[)/,/^(?:(\}))/,/^(?:\{)/,/^(?:[^\[\]\(\)\{\}\|\"]+)/,/^(?:")/,/^(?:(\r?\n)+)/,/^(?:\s)/,/^(?:$)/],conditions:{shapeDataEndBracket:{rules:[21,24,76,79,81,83,87,89,93,94,107,109,111,113],inclusive:!1},shapeDataStr:{rules:[9,10,21,24,76,79,81,83,87,89,93,94,107,109,111,113],inclusive:!1},shapeData:{rules:[8,11,12,21,24,76,79,81,83,87,89,93,94,107,109,111,113],inclusive:!1},callbackargs:{rules:[17,18,21,24,76,79,81,83,87,89,93,94,107,109,111,113],inclusive:!1},callbackname:{rules:[14,15,16,21,24,76,79,81,83,87,89,93,94,107,109,111,113],inclusive:!1},href:{rules:[21,24,76,79,81,83,87,89,93,94,107,109,111,113],inclusive:!1},click:{rules:[21,24,33,34,76,79,81,83,87,89,93,94,107,109,111,113],inclusive:!1},dottedEdgeText:{rules:[21,24,73,75,76,79,81,83,87,89,93,94,107,109,111,113],inclusive:!1},thickEdgeText:{rules:[21,24,70,72,76,79,81,83,87,89,93,94,107,109,111,113],inclusive:!1},edgeText:{rules:[21,24,67,69,76,79,81,83,87,89,93,94,107,109,111,113],inclusive:!1},trapText:{rules:[21,24,76,79,81,83,87,89,90,91,92,93,94,107,109,111,113],inclusive:!1},ellipseText:{rules:[21,24,76,77,78,79,81,83,87,89,93,94,107,109,111,113],inclusive:!1},text:{rules:[21,24,76,79,80,81,82,83,86,87,88,89,93,94,106,107,108,109,110,111,112,113,114],inclusive:!1},vertex:{rules:[21,24,76,79,81,83,87,89,93,94,107,109,111,113],inclusive:!1},dir:{rules:[21,24,44,45,46,47,48,49,50,51,52,53,54,76,79,81,83,87,89,93,94,107,109,111,113],inclusive:!1},acc_descr_multiline:{rules:[5,6,21,24,76,79,81,83,87,89,93,94,107,109,111,113],inclusive:!1},acc_descr:{rules:[3,21,24,76,79,81,83,87,89,93,94,107,109,111,113],inclusive:!1},acc_title:{rules:[1,21,24,76,79,81,83,87,89,93,94,107,109,111,113],inclusive:!1},md_string:{rules:[19,20,21,24,76,79,81,83,87,89,93,94,107,109,111,113],inclusive:!1},string:{rules:[21,22,23,24,76,79,81,83,87,89,93,94,107,109,111,113],inclusive:!1},INITIAL:{rules:[0,2,4,7,13,21,24,25,26,27,28,29,30,31,32,35,36,37,38,39,40,41,42,43,55,56,57,58,59,60,61,62,63,64,65,66,67,68,70,71,73,74,76,79,81,83,84,85,87,89,93,94,95,96,97,98,99,100,101,102,103,104,105,107,109,111,113,115,116,117,118],inclusive:!0}}};return Wr}();Qr.lexer=sn;function xr(){this.yy={}}return b(xr,"Parser"),xr.prototype=Qr,Qr.Parser=xr,new xr}();JS.parser=JS;var nNe=JS,iNe=b((t,e)=>{const r=BV,n=r(t,"r"),i=r(t,"g"),a=r(t,"b");return pd(n,i,a,e)},"fade"),aNe=b(t=>`.label {
    font-family: ${t.fontFamily};
    color: ${t.nodeTextColor||t.textColor};
  }
  .cluster-label text {
    fill: ${t.titleColor};
  }
  .cluster-label span {
    color: ${t.titleColor};
  }
  .cluster-label span p {
    background-color: transparent;
  }

  .label text,span {
    fill: ${t.nodeTextColor||t.textColor};
    color: ${t.nodeTextColor||t.textColor};
  }

  .node rect,
  .node circle,
  .node ellipse,
  .node polygon,
  .node path {
    fill: ${t.mainBkg};
    stroke: ${t.nodeBorder};
    stroke-width: 1px;
  }
  .rough-node .label text , .node .label text, .image-shape .label, .icon-shape .label {
    text-anchor: middle;
  }
  // .flowchart-label .text-outer-tspan {
  //   text-anchor: middle;
  // }
  // .flowchart-label .text-inner-tspan {
  //   text-anchor: start;
  // }

  .node .katex path {
    fill: #000;
    stroke: #000;
    stroke-width: 1px;
  }

  .rough-node .label,.node .label, .image-shape .label, .icon-shape .label {
    text-align: center;
  }
  .node.clickable {
    cursor: pointer;
  }


  .root .anchor path {
    fill: ${t.lineColor} !important;
    stroke-width: 0;
    stroke: ${t.lineColor};
  }

  .arrowheadPath {
    fill: ${t.arrowheadColor};
  }

  .edgePath .path {
    stroke: ${t.lineColor};
    stroke-width: 2.0px;
  }

  .flowchart-link {
    stroke: ${t.lineColor};
    fill: none;
  }

  .edgeLabel {
    background-color: ${t.edgeLabelBackground};
    p {
      background-color: ${t.edgeLabelBackground};
    }
    rect {
      opacity: 0.5;
      background-color: ${t.edgeLabelBackground};
      fill: ${t.edgeLabelBackground};
    }
    text-align: center;
  }

  /* For html labels only */
  .labelBkg {
    background-color: ${iNe(t.edgeLabelBackground,.5)};
    // background-color:
  }

  .cluster rect {
    fill: ${t.clusterBkg};
    stroke: ${t.clusterBorder};
    stroke-width: 1px;
  }

  .cluster text {
    fill: ${t.titleColor};
  }

  .cluster span {
    color: ${t.titleColor};
  }
  /* .cluster div {
    color: ${t.titleColor};
  } */

  div.mermaidTooltip {
    position: absolute;
    text-align: center;
    max-width: 200px;
    padding: 2px;
    font-family: ${t.fontFamily};
    font-size: 12px;
    background: ${t.tertiaryColor};
    border: 1px solid ${t.border2};
    border-radius: 2px;
    pointer-events: none;
    z-index: 100;
  }

  .flowchartTitleText {
    text-anchor: middle;
    font-size: 18px;
    fill: ${t.textColor};
  }

  rect.text {
    fill: none;
    stroke-width: 0;
  }

  .icon-shape, .image-shape {
    background-color: ${t.edgeLabelBackground};
    p {
      background-color: ${t.edgeLabelBackground};
      padding: 2px;
    }
    rect {
      opacity: 0.5;
      background-color: ${t.edgeLabelBackground};
      fill: ${t.edgeLabelBackground};
    }
    text-align: center;
  }
`,"getStyles"),sNe=aNe,oNe={parser:nNe,db:jT,renderer:rNe,styles:sNe,init:b(t=>{t.flowchart||(t.flowchart={}),t.layout&&kM({layout:t.layout}),t.flowchart.arrowMarkerAbsolute=t.arrowMarkerAbsolute,kM({flowchart:{arrowMarkerAbsolute:t.arrowMarkerAbsolute}}),jT.clear(),jT.setGen("gen-2")},"init")};const Q9=Object.freeze(Object.defineProperty({__proto__:null,diagram:oNe},Symbol.toStringTag,{value:"Module"})),lNe=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function cNe(t){return typeof t=="string"&&lNe.test(t)}const Oi=[];for(let t=0;t<256;++t)Oi.push((t+256).toString(16).slice(1));function uNe(t,e=0){return Oi[t[e+0]]+Oi[t[e+1]]+Oi[t[e+2]]+Oi[t[e+3]]+"-"+Oi[t[e+4]]+Oi[t[e+5]]+"-"+Oi[t[e+6]]+Oi[t[e+7]]+"-"+Oi[t[e+8]]+Oi[t[e+9]]+"-"+Oi[t[e+10]]+Oi[t[e+11]]+Oi[t[e+12]]+Oi[t[e+13]]+Oi[t[e+14]]+Oi[t[e+15]]}function hNe(t){if(!cNe(t))throw TypeError("Invalid UUID");let e;const r=new Uint8Array(16);return r[0]=(e=parseInt(t.slice(0,8),16))>>>24,r[1]=e>>>16&255,r[2]=e>>>8&255,r[3]=e&255,r[4]=(e=parseInt(t.slice(9,13),16))>>>8,r[5]=e&255,r[6]=(e=parseInt(t.slice(14,18),16))>>>8,r[7]=e&255,r[8]=(e=parseInt(t.slice(19,23),16))>>>8,r[9]=e&255,r[10]=(e=parseInt(t.slice(24,36),16))/1099511627776&255,r[11]=e/4294967296&255,r[12]=e>>>24&255,r[13]=e>>>16&255,r[14]=e>>>8&255,r[15]=e&255,r}function dNe(t){t=unescape(encodeURIComponent(t));const e=[];for(let r=0;r<t.length;++r)e.push(t.charCodeAt(r));return e}const fNe="6ba7b810-9dad-11d1-80b4-00c04fd430c8",pNe="6ba7b811-9dad-11d1-80b4-00c04fd430c8";function gNe(t,e,r){function n(i,a,s,o){var l;if(typeof i=="string"&&(i=dNe(i)),typeof a=="string"&&(a=hNe(a)),((l=a)===null||l===void 0?void 0:l.length)!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let u=new Uint8Array(16+i.length);if(u.set(a),u.set(i,a.length),u=r(u),u[6]=u[6]&15|e,u[8]=u[8]&63|128,s){o=o||0;for(let h=0;h<16;++h)s[o+h]=u[h];return s}return uNe(u)}try{n.name=t}catch{}return n.DNS=fNe,n.URL=pNe,n}function mNe(t,e,r,n){switch(t){case 0:return e&r^~e&n;case 1:return e^r^n;case 2:return e&r^e&n^r&n;case 3:return e^r^n}}function XT(t,e){return t<<e|t>>>32-e}function vNe(t){const e=[1518500249,1859775393,2400959708,3395469782],r=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof t=="string"){const s=unescape(encodeURIComponent(t));t=[];for(let o=0;o<s.length;++o)t.push(s.charCodeAt(o))}else Array.isArray(t)||(t=Array.prototype.slice.call(t));t.push(128);const n=t.length/4+2,i=Math.ceil(n/16),a=new Array(i);for(let s=0;s<i;++s){const o=new Uint32Array(16);for(let l=0;l<16;++l)o[l]=t[s*64+l*4]<<24|t[s*64+l*4+1]<<16|t[s*64+l*4+2]<<8|t[s*64+l*4+3];a[s]=o}a[i-1][14]=(t.length-1)*8/Math.pow(2,32),a[i-1][14]=Math.floor(a[i-1][14]),a[i-1][15]=(t.length-1)*8&4294967295;for(let s=0;s<i;++s){const o=new Uint32Array(80);for(let f=0;f<16;++f)o[f]=a[s][f];for(let f=16;f<80;++f)o[f]=XT(o[f-3]^o[f-8]^o[f-14]^o[f-16],1);let l=r[0],u=r[1],h=r[2],d=r[3],p=r[4];for(let f=0;f<80;++f){const g=Math.floor(f/20),m=XT(l,5)+mNe(g,u,h,d)+p+e[g]+o[f]>>>0;p=d,d=h,h=XT(u,30)>>>0,u=l,l=m}r[0]=r[0]+l>>>0,r[1]=r[1]+u>>>0,r[2]=r[2]+h>>>0,r[3]=r[3]+d>>>0,r[4]=r[4]+p>>>0}return[r[0]>>24&255,r[0]>>16&255,r[0]>>8&255,r[0]&255,r[1]>>24&255,r[1]>>16&255,r[1]>>8&255,r[1]&255,r[2]>>24&255,r[2]>>16&255,r[2]>>8&255,r[2]&255,r[3]>>24&255,r[3]>>16&255,r[3]>>8&255,r[3]&255,r[4]>>24&255,r[4]>>16&255,r[4]>>8&255,r[4]&255]}const yNe=gNe("v5",80,vNe);var eC=function(){var t=b(function(R,C,L,A){for(L=L||{},A=R.length;A--;L[R[A]]=C);return L},"o"),e=[6,8,10,20,22,24,26,27,28],r=[1,10],n=[1,11],i=[1,12],a=[1,13],s=[1,14],o=[1,15],l=[1,21],u=[1,22],h=[1,23],d=[1,24],p=[1,25],f=[6,8,10,13,15,18,19,20,22,24,26,27,28,41,42,43,44,45],g=[1,34],m=[27,28,46,47],y=[41,42,43,44,45],v=[17,34],x=[1,54],w=[1,53],k=[17,34,36,38],E={trace:b(function(){},"trace"),yy:{},symbols_:{error:2,start:3,ER_DIAGRAM:4,document:5,EOF:6,line:7,SPACE:8,statement:9,NEWLINE:10,entityName:11,relSpec:12,":":13,role:14,BLOCK_START:15,attributes:16,BLOCK_STOP:17,SQS:18,SQE:19,title:20,title_value:21,acc_title:22,acc_title_value:23,acc_descr:24,acc_descr_value:25,acc_descr_multiline_value:26,ALPHANUM:27,ENTITY_NAME:28,attribute:29,attributeType:30,attributeName:31,attributeKeyTypeList:32,attributeComment:33,ATTRIBUTE_WORD:34,attributeKeyType:35,COMMA:36,ATTRIBUTE_KEY:37,COMMENT:38,cardinality:39,relType:40,ZERO_OR_ONE:41,ZERO_OR_MORE:42,ONE_OR_MORE:43,ONLY_ONE:44,MD_PARENT:45,NON_IDENTIFYING:46,IDENTIFYING:47,WORD:48,$accept:0,$end:1},terminals_:{2:"error",4:"ER_DIAGRAM",6:"EOF",8:"SPACE",10:"NEWLINE",13:":",15:"BLOCK_START",17:"BLOCK_STOP",18:"SQS",19:"SQE",20:"title",21:"title_value",22:"acc_title",23:"acc_title_value",24:"acc_descr",25:"acc_descr_value",26:"acc_descr_multiline_value",27:"ALPHANUM",28:"ENTITY_NAME",34:"ATTRIBUTE_WORD",36:"COMMA",37:"ATTRIBUTE_KEY",38:"COMMENT",41:"ZERO_OR_ONE",42:"ZERO_OR_MORE",43:"ONE_OR_MORE",44:"ONLY_ONE",45:"MD_PARENT",46:"NON_IDENTIFYING",47:"IDENTIFYING",48:"WORD"},productions_:[0,[3,3],[5,0],[5,2],[7,2],[7,1],[7,1],[7,1],[9,5],[9,4],[9,3],[9,1],[9,7],[9,6],[9,4],[9,2],[9,2],[9,2],[9,1],[11,1],[11,1],[16,1],[16,2],[29,2],[29,3],[29,3],[29,4],[30,1],[31,1],[32,1],[32,3],[35,1],[33,1],[12,3],[39,1],[39,1],[39,1],[39,1],[39,1],[40,1],[40,1],[14,1],[14,1],[14,1]],performAction:b(function(C,L,A,N,F,T,D){var M=T.length-1;switch(F){case 1:break;case 2:this.$=[];break;case 3:T[M-1].push(T[M]),this.$=T[M-1];break;case 4:case 5:this.$=T[M];break;case 6:case 7:this.$=[];break;case 8:N.addEntity(T[M-4]),N.addEntity(T[M-2]),N.addRelationship(T[M-4],T[M],T[M-2],T[M-3]);break;case 9:N.addEntity(T[M-3]),N.addAttributes(T[M-3],T[M-1]);break;case 10:N.addEntity(T[M-2]);break;case 11:N.addEntity(T[M]);break;case 12:N.addEntity(T[M-6],T[M-4]),N.addAttributes(T[M-6],T[M-1]);break;case 13:N.addEntity(T[M-5],T[M-3]);break;case 14:N.addEntity(T[M-3],T[M-1]);break;case 15:case 16:this.$=T[M].trim(),N.setAccTitle(this.$);break;case 17:case 18:this.$=T[M].trim(),N.setAccDescription(this.$);break;case 19:case 43:this.$=T[M];break;case 20:case 41:case 42:this.$=T[M].replace(/"/g,"");break;case 21:case 29:this.$=[T[M]];break;case 22:T[M].push(T[M-1]),this.$=T[M];break;case 23:this.$={attributeType:T[M-1],attributeName:T[M]};break;case 24:this.$={attributeType:T[M-2],attributeName:T[M-1],attributeKeyTypeList:T[M]};break;case 25:this.$={attributeType:T[M-2],attributeName:T[M-1],attributeComment:T[M]};break;case 26:this.$={attributeType:T[M-3],attributeName:T[M-2],attributeKeyTypeList:T[M-1],attributeComment:T[M]};break;case 27:case 28:case 31:this.$=T[M];break;case 30:T[M-2].push(T[M]),this.$=T[M-2];break;case 32:this.$=T[M].replace(/"/g,"");break;case 33:this.$={cardA:T[M],relType:T[M-1],cardB:T[M-2]};break;case 34:this.$=N.Cardinality.ZERO_OR_ONE;break;case 35:this.$=N.Cardinality.ZERO_OR_MORE;break;case 36:this.$=N.Cardinality.ONE_OR_MORE;break;case 37:this.$=N.Cardinality.ONLY_ONE;break;case 38:this.$=N.Cardinality.MD_PARENT;break;case 39:this.$=N.Identification.NON_IDENTIFYING;break;case 40:this.$=N.Identification.IDENTIFYING;break}},"anonymous"),table:[{3:1,4:[1,2]},{1:[3]},t(e,[2,2],{5:3}),{6:[1,4],7:5,8:[1,6],9:7,10:[1,8],11:9,20:r,22:n,24:i,26:a,27:s,28:o},t(e,[2,7],{1:[2,1]}),t(e,[2,3]),{9:16,11:9,20:r,22:n,24:i,26:a,27:s,28:o},t(e,[2,5]),t(e,[2,6]),t(e,[2,11],{12:17,39:20,15:[1,18],18:[1,19],41:l,42:u,43:h,44:d,45:p}),{21:[1,26]},{23:[1,27]},{25:[1,28]},t(e,[2,18]),t(f,[2,19]),t(f,[2,20]),t(e,[2,4]),{11:29,27:s,28:o},{16:30,17:[1,31],29:32,30:33,34:g},{11:35,27:s,28:o},{40:36,46:[1,37],47:[1,38]},t(m,[2,34]),t(m,[2,35]),t(m,[2,36]),t(m,[2,37]),t(m,[2,38]),t(e,[2,15]),t(e,[2,16]),t(e,[2,17]),{13:[1,39]},{17:[1,40]},t(e,[2,10]),{16:41,17:[2,21],29:32,30:33,34:g},{31:42,34:[1,43]},{34:[2,27]},{19:[1,44]},{39:45,41:l,42:u,43:h,44:d,45:p},t(y,[2,39]),t(y,[2,40]),{14:46,27:[1,49],28:[1,48],48:[1,47]},t(e,[2,9]),{17:[2,22]},t(v,[2,23],{32:50,33:51,35:52,37:x,38:w}),t([17,34,37,38],[2,28]),t(e,[2,14],{15:[1,55]}),t([27,28],[2,33]),t(e,[2,8]),t(e,[2,41]),t(e,[2,42]),t(e,[2,43]),t(v,[2,24],{33:56,36:[1,57],38:w}),t(v,[2,25]),t(k,[2,29]),t(v,[2,32]),t(k,[2,31]),{16:58,17:[1,59],29:32,30:33,34:g},t(v,[2,26]),{35:60,37:x},{17:[1,61]},t(e,[2,13]),t(k,[2,30]),t(e,[2,12])],defaultActions:{34:[2,27],41:[2,22]},parseError:b(function(C,L){if(L.recoverable)this.trace(C);else{var A=new Error(C);throw A.hash=L,A}},"parseError"),parse:b(function(C){var L=this,A=[0],N=[],F=[null],T=[],D=this.table,M="",O=0,I=0,P=2,B=1,$=T.slice.call(arguments,1),V=Object.create(this.lexer),W={yy:{}};for(var K in this.yy)Object.prototype.hasOwnProperty.call(this.yy,K)&&(W.yy[K]=this.yy[K]);V.setInput(C,W.yy),W.yy.lexer=V,W.yy.parser=this,typeof V.yylloc>"u"&&(V.yylloc={});var Z=V.yylloc;T.push(Z);var H=V.options&&V.options.ranges;typeof W.yy.parseError=="function"?this.parseError=W.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function ee(be){A.length=A.length-2*be,F.length=F.length-be,T.length=T.length-be}b(ee,"popStack");function te(){var be;return be=N.pop()||V.lex()||B,typeof be!="number"&&(be instanceof Array&&(N=be,be=N.pop()),be=L.symbols_[be]||be),be}b(te,"lex");for(var U,j,Y,Q,ae={},ie,J,_e,ce;;){if(j=A[A.length-1],this.defaultActions[j]?Y=this.defaultActions[j]:((U===null||typeof U>"u")&&(U=te()),Y=D[j]&&D[j][U]),typeof Y>"u"||!Y.length||!Y[0]){var Te="";ce=[];for(ie in D[j])this.terminals_[ie]&&ie>P&&ce.push("'"+this.terminals_[ie]+"'");V.showPosition?Te="Parse error on line "+(O+1)+`:
`+V.showPosition()+`
Expecting `+ce.join(", ")+", got '"+(this.terminals_[U]||U)+"'":Te="Parse error on line "+(O+1)+": Unexpected "+(U==B?"end of input":"'"+(this.terminals_[U]||U)+"'"),this.parseError(Te,{text:V.match,token:this.terminals_[U]||U,line:V.yylineno,loc:Z,expected:ce})}if(Y[0]instanceof Array&&Y.length>1)throw new Error("Parse Error: multiple actions possible at state: "+j+", token: "+U);switch(Y[0]){case 1:A.push(U),F.push(V.yytext),T.push(V.yylloc),A.push(Y[1]),U=null,I=V.yyleng,M=V.yytext,O=V.yylineno,Z=V.yylloc;break;case 2:if(J=this.productions_[Y[1]][1],ae.$=F[F.length-J],ae._$={first_line:T[T.length-(J||1)].first_line,last_line:T[T.length-1].last_line,first_column:T[T.length-(J||1)].first_column,last_column:T[T.length-1].last_column},H&&(ae._$.range=[T[T.length-(J||1)].range[0],T[T.length-1].range[1]]),Q=this.performAction.apply(ae,[M,I,O,W.yy,Y[1],F,T].concat($)),typeof Q<"u")return Q;J&&(A=A.slice(0,-1*J*2),F=F.slice(0,-1*J),T=T.slice(0,-1*J)),A.push(this.productions_[Y[1]][0]),F.push(ae.$),T.push(ae._$),_e=D[A[A.length-2]][A[A.length-1]],A.push(_e);break;case 3:return!0}}return!0},"parse")},_=function(){var R={EOF:1,parseError:b(function(L,A){if(this.yy.parser)this.yy.parser.parseError(L,A);else throw new Error(L)},"parseError"),setInput:b(function(C,L){return this.yy=L||this.yy||{},this._input=C,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},"setInput"),input:b(function(){var C=this._input[0];this.yytext+=C,this.yyleng++,this.offset++,this.match+=C,this.matched+=C;var L=C.match(/(?:\r\n?|\n).*/g);return L?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),C},"input"),unput:b(function(C){var L=C.length,A=C.split(/(?:\r\n?|\n)/g);this._input=C+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-L),this.offset-=L;var N=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),A.length-1&&(this.yylineno-=A.length-1);var F=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:A?(A.length===N.length?this.yylloc.first_column:0)+N[N.length-A.length].length-A[0].length:this.yylloc.first_column-L},this.options.ranges&&(this.yylloc.range=[F[0],F[0]+this.yyleng-L]),this.yyleng=this.yytext.length,this},"unput"),more:b(function(){return this._more=!0,this},"more"),reject:b(function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},"reject"),less:b(function(C){this.unput(this.match.slice(C))},"less"),pastInput:b(function(){var C=this.matched.substr(0,this.matched.length-this.match.length);return(C.length>20?"...":"")+C.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:b(function(){var C=this.match;return C.length<20&&(C+=this._input.substr(0,20-C.length)),(C.substr(0,20)+(C.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:b(function(){var C=this.pastInput(),L=new Array(C.length+1).join("-");return C+this.upcomingInput()+`
`+L+"^"},"showPosition"),test_match:b(function(C,L){var A,N,F;if(this.options.backtrack_lexer&&(F={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(F.yylloc.range=this.yylloc.range.slice(0))),N=C[0].match(/(?:\r\n?|\n).*/g),N&&(this.yylineno+=N.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:N?N[N.length-1].length-N[N.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+C[0].length},this.yytext+=C[0],this.match+=C[0],this.matches=C,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(C[0].length),this.matched+=C[0],A=this.performAction.call(this,this.yy,this,L,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),A)return A;if(this._backtrack){for(var T in F)this[T]=F[T];return!1}return!1},"test_match"),next:b(function(){if(this.done)return this.EOF;this._input||(this.done=!0);var C,L,A,N;this._more||(this.yytext="",this.match="");for(var F=this._currentRules(),T=0;T<F.length;T++)if(A=this._input.match(this.rules[F[T]]),A&&(!L||A[0].length>L[0].length)){if(L=A,N=T,this.options.backtrack_lexer){if(C=this.test_match(A,F[T]),C!==!1)return C;if(this._backtrack){L=!1;continue}else return!1}else if(!this.options.flex)break}return L?(C=this.test_match(L,F[N]),C!==!1?C:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:b(function(){var L=this.next();return L||this.lex()},"lex"),begin:b(function(L){this.conditionStack.push(L)},"begin"),popState:b(function(){var L=this.conditionStack.length-1;return L>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:b(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:b(function(L){return L=this.conditionStack.length-1-Math.abs(L||0),L>=0?this.conditionStack[L]:"INITIAL"},"topState"),pushState:b(function(L){this.begin(L)},"pushState"),stateStackSize:b(function(){return this.conditionStack.length},"stateStackSize"),options:{"case-insensitive":!0},performAction:b(function(L,A,N,F){switch(N){case 0:return this.begin("acc_title"),22;case 1:return this.popState(),"acc_title_value";case 2:return this.begin("acc_descr"),24;case 3:return this.popState(),"acc_descr_value";case 4:this.begin("acc_descr_multiline");break;case 5:this.popState();break;case 6:return"acc_descr_multiline_value";case 7:return 10;case 8:break;case 9:return 8;case 10:return 28;case 11:return 48;case 12:return 4;case 13:return this.begin("block"),15;case 14:return 36;case 15:break;case 16:return 37;case 17:return 34;case 18:return 34;case 19:return 38;case 20:break;case 21:return this.popState(),17;case 22:return A.yytext[0];case 23:return 18;case 24:return 19;case 25:return 41;case 26:return 43;case 27:return 43;case 28:return 43;case 29:return 41;case 30:return 41;case 31:return 42;case 32:return 42;case 33:return 42;case 34:return 42;case 35:return 42;case 36:return 43;case 37:return 42;case 38:return 43;case 39:return 44;case 40:return 44;case 41:return 44;case 42:return 44;case 43:return 41;case 44:return 42;case 45:return 43;case 46:return 45;case 47:return 46;case 48:return 47;case 49:return 47;case 50:return 46;case 51:return 46;case 52:return 46;case 53:return 27;case 54:return A.yytext[0];case 55:return 6}},"anonymous"),rules:[/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:[\n]+)/i,/^(?:\s+)/i,/^(?:[\s]+)/i,/^(?:"[^"%\r\n\v\b\\]+")/i,/^(?:"[^"]*")/i,/^(?:erDiagram\b)/i,/^(?:\{)/i,/^(?:,)/i,/^(?:\s+)/i,/^(?:\b((?:PK)|(?:FK)|(?:UK))\b)/i,/^(?:(.*?)[~](.*?)*[~])/i,/^(?:[\*A-Za-z_][A-Za-z0-9\-_\[\]\(\)]*)/i,/^(?:"[^"]*")/i,/^(?:[\n]+)/i,/^(?:\})/i,/^(?:.)/i,/^(?:\[)/i,/^(?:\])/i,/^(?:one or zero\b)/i,/^(?:one or more\b)/i,/^(?:one or many\b)/i,/^(?:1\+)/i,/^(?:\|o\b)/i,/^(?:zero or one\b)/i,/^(?:zero or more\b)/i,/^(?:zero or many\b)/i,/^(?:0\+)/i,/^(?:\}o\b)/i,/^(?:many\(0\))/i,/^(?:many\(1\))/i,/^(?:many\b)/i,/^(?:\}\|)/i,/^(?:one\b)/i,/^(?:only one\b)/i,/^(?:1\b)/i,/^(?:\|\|)/i,/^(?:o\|)/i,/^(?:o\{)/i,/^(?:\|\{)/i,/^(?:\s*u\b)/i,/^(?:\.\.)/i,/^(?:--)/i,/^(?:to\b)/i,/^(?:optionally to\b)/i,/^(?:\.-)/i,/^(?:-\.)/i,/^(?:[A-Za-z_][A-Za-z0-9\-_]*)/i,/^(?:.)/i,/^(?:$)/i],conditions:{acc_descr_multiline:{rules:[5,6],inclusive:!1},acc_descr:{rules:[3],inclusive:!1},acc_title:{rules:[1],inclusive:!1},block:{rules:[14,15,16,17,18,19,20,21,22],inclusive:!1},INITIAL:{rules:[0,2,4,7,8,9,10,11,12,13,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55],inclusive:!0}}};return R}();E.lexer=_;function S(){this.yy={}}return b(S,"Parser"),S.prototype=E,E.Parser=S,new S}();eC.parser=eC;var xNe=eC,qh=new Map,Z9=[],bNe={ZERO_OR_ONE:"ZERO_OR_ONE",ZERO_OR_MORE:"ZERO_OR_MORE",ONE_OR_MORE:"ONE_OR_MORE",ONLY_ONE:"ONLY_ONE",MD_PARENT:"MD_PARENT"},wNe={NON_IDENTIFYING:"NON_IDENTIFYING",IDENTIFYING:"IDENTIFYING"},EJ=b(function(t,e=void 0){return qh.has(t)?!qh.get(t).alias&&e&&(qh.get(t).alias=e,q.info(`Add alias '${e}' to entity '${t}'`)):(qh.set(t,{attributes:[],alias:e}),q.info("Added new entity :",t)),qh.get(t)},"addEntity"),kNe=b(()=>qh,"getEntities"),TNe=b(function(t,e){let r=EJ(t),n;for(n=e.length-1;n>=0;n--)r.attributes.push(e[n]),q.debug("Added attribute ",e[n].attributeName)},"addAttributes"),ENe=b(function(t,e,r,n){let i={entityA:t,roleA:e,entityB:r,relSpec:n};Z9.push(i),q.debug("Added new relationship :",i)},"addRelationship"),SNe=b(()=>Z9,"getRelationships"),CNe=b(function(){qh=new Map,Z9=[],Ni()},"clear"),ANe={Cardinality:bNe,Identification:wNe,getConfig:b(()=>we().er,"getConfig"),addEntity:EJ,addAttributes:TNe,getEntities:kNe,addRelationship:ENe,getRelationships:SNe,clear:CNe,setAccTitle:Ri,getAccTitle:Qi,setAccDescription:Zi,getAccDescription:Ji,setDiagramTitle:za,getDiagramTitle:ea},ko={ONLY_ONE_START:"ONLY_ONE_START",ONLY_ONE_END:"ONLY_ONE_END",ZERO_OR_ONE_START:"ZERO_OR_ONE_START",ZERO_OR_ONE_END:"ZERO_OR_ONE_END",ONE_OR_MORE_START:"ONE_OR_MORE_START",ONE_OR_MORE_END:"ONE_OR_MORE_END",ZERO_OR_MORE_START:"ZERO_OR_MORE_START",ZERO_OR_MORE_END:"ZERO_OR_MORE_END",MD_PARENT_END:"MD_PARENT_END",MD_PARENT_START:"MD_PARENT_START"},_Ne=b(function(t,e){let r;t.append("defs").append("marker").attr("id",ko.MD_PARENT_START).attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),t.append("defs").append("marker").attr("id",ko.MD_PARENT_END).attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),t.append("defs").append("marker").attr("id",ko.ONLY_ONE_START).attr("refX",0).attr("refY",9).attr("markerWidth",18).attr("markerHeight",18).attr("orient","auto").append("path").attr("stroke",e.stroke).attr("fill","none").attr("d","M9,0 L9,18 M15,0 L15,18"),t.append("defs").append("marker").attr("id",ko.ONLY_ONE_END).attr("refX",18).attr("refY",9).attr("markerWidth",18).attr("markerHeight",18).attr("orient","auto").append("path").attr("stroke",e.stroke).attr("fill","none").attr("d","M3,0 L3,18 M9,0 L9,18"),r=t.append("defs").append("marker").attr("id",ko.ZERO_OR_ONE_START).attr("refX",0).attr("refY",9).attr("markerWidth",30).attr("markerHeight",18).attr("orient","auto"),r.append("circle").attr("stroke",e.stroke).attr("fill","white").attr("cx",21).attr("cy",9).attr("r",6),r.append("path").attr("stroke",e.stroke).attr("fill","none").attr("d","M9,0 L9,18"),r=t.append("defs").append("marker").attr("id",ko.ZERO_OR_ONE_END).attr("refX",30).attr("refY",9).attr("markerWidth",30).attr("markerHeight",18).attr("orient","auto"),r.append("circle").attr("stroke",e.stroke).attr("fill","white").attr("cx",9).attr("cy",9).attr("r",6),r.append("path").attr("stroke",e.stroke).attr("fill","none").attr("d","M21,0 L21,18"),t.append("defs").append("marker").attr("id",ko.ONE_OR_MORE_START).attr("refX",18).attr("refY",18).attr("markerWidth",45).attr("markerHeight",36).attr("orient","auto").append("path").attr("stroke",e.stroke).attr("fill","none").attr("d","M0,18 Q 18,0 36,18 Q 18,36 0,18 M42,9 L42,27"),t.append("defs").append("marker").attr("id",ko.ONE_OR_MORE_END).attr("refX",27).attr("refY",18).attr("markerWidth",45).attr("markerHeight",36).attr("orient","auto").append("path").attr("stroke",e.stroke).attr("fill","none").attr("d","M3,9 L3,27 M9,18 Q27,0 45,18 Q27,36 9,18"),r=t.append("defs").append("marker").attr("id",ko.ZERO_OR_MORE_START).attr("refX",18).attr("refY",18).attr("markerWidth",57).attr("markerHeight",36).attr("orient","auto"),r.append("circle").attr("stroke",e.stroke).attr("fill","white").attr("cx",48).attr("cy",18).attr("r",6),r.append("path").attr("stroke",e.stroke).attr("fill","none").attr("d","M0,18 Q18,0 36,18 Q18,36 0,18"),r=t.append("defs").append("marker").attr("id",ko.ZERO_OR_MORE_END).attr("refX",39).attr("refY",18).attr("markerWidth",57).attr("markerHeight",36).attr("orient","auto"),r.append("circle").attr("stroke",e.stroke).attr("fill","white").attr("cx",9).attr("cy",18).attr("r",6),r.append("path").attr("stroke",e.stroke).attr("fill","none").attr("d","M21,18 Q39,0 57,18 Q39,36 21,18")},"insertMarkers"),To={ERMarkers:ko,insertMarkers:_Ne},LNe=/[^\dA-Za-z](\W)*/g,si={},Pv=new Map,NNe=b(function(t){const e=Object.keys(t);for(const r of e)si[r]=t[r]},"setConf"),RNe=b((t,e,r)=>{const n=si.entityPadding/3,i=si.entityPadding/3,a=si.fontSize*.85,s=e.node().getBBox(),o=[];let l=!1,u=!1,h=0,d=0,p=0,f=0,g=s.height+n*2,m=1;r.forEach(w=>{w.attributeKeyTypeList!==void 0&&w.attributeKeyTypeList.length>0&&(l=!0),w.attributeComment!==void 0&&(u=!0)}),r.forEach(w=>{const k=`${e.node().id}-attr-${m}`;let E=0;const _=_m(w.attributeType),S=t.append("text").classed("er entityLabel",!0).attr("id",`${k}-type`).attr("x",0).attr("y",0).style("dominant-baseline","middle").style("text-anchor","left").style("font-family",we().fontFamily).style("font-size",a+"px").text(_),R=t.append("text").classed("er entityLabel",!0).attr("id",`${k}-name`).attr("x",0).attr("y",0).style("dominant-baseline","middle").style("text-anchor","left").style("font-family",we().fontFamily).style("font-size",a+"px").text(w.attributeName),C={};C.tn=S,C.nn=R;const L=S.node().getBBox(),A=R.node().getBBox();if(h=Math.max(h,L.width),d=Math.max(d,A.width),E=Math.max(L.height,A.height),l){const N=w.attributeKeyTypeList!==void 0?w.attributeKeyTypeList.join(","):"",F=t.append("text").classed("er entityLabel",!0).attr("id",`${k}-key`).attr("x",0).attr("y",0).style("dominant-baseline","middle").style("text-anchor","left").style("font-family",we().fontFamily).style("font-size",a+"px").text(N);C.kn=F;const T=F.node().getBBox();p=Math.max(p,T.width),E=Math.max(E,T.height)}if(u){const N=t.append("text").classed("er entityLabel",!0).attr("id",`${k}-comment`).attr("x",0).attr("y",0).style("dominant-baseline","middle").style("text-anchor","left").style("font-family",we().fontFamily).style("font-size",a+"px").text(w.attributeComment||"");C.cn=N;const F=N.node().getBBox();f=Math.max(f,F.width),E=Math.max(E,F.height)}C.height=E,o.push(C),g+=E+n*2,m+=1});let y=4;l&&(y+=2),u&&(y+=2);const v=h+d+p+f,x={width:Math.max(si.minEntityWidth,Math.max(s.width+si.entityPadding*2,v+i*y)),height:r.length>0?g:Math.max(si.minEntityHeight,s.height+si.entityPadding*2)};if(r.length>0){const w=Math.max(0,(x.width-v-i*y)/(y/2));e.attr("transform","translate("+x.width/2+","+(n+s.height/2)+")");let k=s.height+n*2,E="attributeBoxOdd";o.forEach(_=>{const S=k+n+_.height/2;_.tn.attr("transform","translate("+i+","+S+")");const R=t.insert("rect","#"+_.tn.node().id).classed(`er ${E}`,!0).attr("x",0).attr("y",k).attr("width",h+i*2+w).attr("height",_.height+n*2),C=parseFloat(R.attr("x"))+parseFloat(R.attr("width"));_.nn.attr("transform","translate("+(C+i)+","+S+")");const L=t.insert("rect","#"+_.nn.node().id).classed(`er ${E}`,!0).attr("x",C).attr("y",k).attr("width",d+i*2+w).attr("height",_.height+n*2);let A=parseFloat(L.attr("x"))+parseFloat(L.attr("width"));if(l){_.kn.attr("transform","translate("+(A+i)+","+S+")");const N=t.insert("rect","#"+_.kn.node().id).classed(`er ${E}`,!0).attr("x",A).attr("y",k).attr("width",p+i*2+w).attr("height",_.height+n*2);A=parseFloat(N.attr("x"))+parseFloat(N.attr("width"))}u&&(_.cn.attr("transform","translate("+(A+i)+","+S+")"),t.insert("rect","#"+_.cn.node().id).classed(`er ${E}`,"true").attr("x",A).attr("y",k).attr("width",f+i*2+w).attr("height",_.height+n*2)),k+=_.height+n*2,E=E==="attributeBoxOdd"?"attributeBoxEven":"attributeBoxOdd"})}else x.height=Math.max(si.minEntityHeight,g),e.attr("transform","translate("+x.width/2+","+x.height/2+")");return x},"drawAttributes"),MNe=b(function(t,e,r){const n=[...e.keys()];let i;return n.forEach(function(a){const s=CJ(a,"entity");Pv.set(a,s);const o=t.append("g").attr("id",s);i=i===void 0?s:i;const l="text-"+s,u=o.append("text").classed("er entityLabel",!0).attr("id",l).attr("x",0).attr("y",0).style("dominant-baseline","middle").style("text-anchor","middle").style("font-family",we().fontFamily).style("font-size",si.fontSize+"px").text(e.get(a).alias??a),{width:h,height:d}=RNe(o,u,e.get(a).attributes),f=o.insert("rect","#"+l).classed("er entityBox",!0).attr("x",0).attr("y",0).attr("width",h).attr("height",d).node().getBBox();r.setNode(s,{width:f.width,height:f.height,shape:"rect",id:s})}),i},"drawEntities"),INe=b(function(t,e){e.nodes().forEach(function(r){r!==void 0&&e.node(r)!==void 0&&t.select("#"+r).attr("transform","translate("+(e.node(r).x-e.node(r).width/2)+","+(e.node(r).y-e.node(r).height/2)+" )")})},"adjustEntities"),SJ=b(function(t){return(t.entityA+t.roleA+t.entityB).replace(/\s/g,"")},"getEdgeName"),DNe=b(function(t,e){return t.forEach(function(r){e.setEdge(Pv.get(r.entityA),Pv.get(r.entityB),{relationship:r},SJ(r))}),t},"addRelationships"),iP=0,ONe=b(function(t,e,r,n,i){iP++;const a=r.edge(Pv.get(e.entityA),Pv.get(e.entityB),SJ(e)),s=Xu().x(function(m){return m.x}).y(function(m){return m.y}).curve(Tg),o=t.insert("path","#"+n).classed("er relationshipLine",!0).attr("d",s(a.points)).style("stroke",si.stroke).style("fill","none");e.relSpec.relType===i.db.Identification.NON_IDENTIFYING&&o.attr("stroke-dasharray","8,8");let l="";switch(si.arrowMarkerAbsolute&&(l=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,l=l.replace(/\(/g,"\\("),l=l.replace(/\)/g,"\\)")),e.relSpec.cardA){case i.db.Cardinality.ZERO_OR_ONE:o.attr("marker-end","url("+l+"#"+To.ERMarkers.ZERO_OR_ONE_END+")");break;case i.db.Cardinality.ZERO_OR_MORE:o.attr("marker-end","url("+l+"#"+To.ERMarkers.ZERO_OR_MORE_END+")");break;case i.db.Cardinality.ONE_OR_MORE:o.attr("marker-end","url("+l+"#"+To.ERMarkers.ONE_OR_MORE_END+")");break;case i.db.Cardinality.ONLY_ONE:o.attr("marker-end","url("+l+"#"+To.ERMarkers.ONLY_ONE_END+")");break;case i.db.Cardinality.MD_PARENT:o.attr("marker-end","url("+l+"#"+To.ERMarkers.MD_PARENT_END+")");break}switch(e.relSpec.cardB){case i.db.Cardinality.ZERO_OR_ONE:o.attr("marker-start","url("+l+"#"+To.ERMarkers.ZERO_OR_ONE_START+")");break;case i.db.Cardinality.ZERO_OR_MORE:o.attr("marker-start","url("+l+"#"+To.ERMarkers.ZERO_OR_MORE_START+")");break;case i.db.Cardinality.ONE_OR_MORE:o.attr("marker-start","url("+l+"#"+To.ERMarkers.ONE_OR_MORE_START+")");break;case i.db.Cardinality.ONLY_ONE:o.attr("marker-start","url("+l+"#"+To.ERMarkers.ONLY_ONE_START+")");break;case i.db.Cardinality.MD_PARENT:o.attr("marker-start","url("+l+"#"+To.ERMarkers.MD_PARENT_START+")");break}const u=o.node().getTotalLength(),h=o.node().getPointAtLength(u*.5),d="rel"+iP,p=e.roleA.split(/<br ?\/>/g),f=t.append("text").classed("er relationshipLabel",!0).attr("id",d).attr("x",h.x).attr("y",h.y).style("text-anchor","middle").style("dominant-baseline","middle").style("font-family",we().fontFamily).style("font-size",si.fontSize+"px");if(p.length==1)f.text(e.roleA);else{const m=-(p.length-1)*.5;p.forEach((y,v)=>{f.append("tspan").attr("x",h.x).attr("dy",`${v===0?m:1}em`).text(y)})}const g=f.node().getBBox();t.insert("rect","#"+d).classed("er relationshipLabelBox",!0).attr("x",h.x-g.width/2).attr("y",h.y-g.height/2).attr("width",g.width).attr("height",g.height)},"drawRelationshipFromLayout"),PNe=b(function(t,e,r,n){si=we().er,q.info("Drawing ER diagram");const i=we().securityLevel;let a;i==="sandbox"&&(a=Ke("#i"+e));const o=Ke(i==="sandbox"?a.nodes()[0].contentDocument.body:"body").select(`[id='${e}']`);To.insertMarkers(o,si);let l;l=new bi({multigraph:!0,directed:!0,compound:!1}).setGraph({rankdir:si.layoutDirection,marginx:20,marginy:20,nodesep:100,edgesep:100,ranksep:100}).setDefaultEdgeLabel(function(){return{}});const u=MNe(o,n.db.getEntities(),l),h=DNe(n.db.getRelationships(),l);Fg(l),INe(o,l),h.forEach(function(m){ONe(o,m,l,u,n)});const d=si.diagramPadding;Jt.insertTitle(o,"entityTitleText",si.titleTopMargin,n.db.getDiagramTitle());const p=o.node().getBBox(),f=p.width+d*2,g=p.height+d*2;Ki(o,g,f,si.useMaxWidth),o.attr("viewBox",`${p.x-d} ${p.y-d} ${f} ${g}`)},"draw"),FNe="28e9f9db-3c8d-5aa5-9faf-44286ae5937c";function CJ(t="",e=""){const r=t.replace(LNe,"");return`${tC(e)}${tC(r)}${yNe(t,FNe)}`}b(CJ,"generateId");function tC(t=""){return t.length>0?`${t}-`:""}b(tC,"strWithHyphen");var BNe={setConf:NNe,draw:PNe},$Ne=b(t=>`
  .entityBox {
    fill: ${t.mainBkg};
    stroke: ${t.nodeBorder};
  }

  .attributeBoxOdd {
    fill: ${t.attributeBackgroundColorOdd};
    stroke: ${t.nodeBorder};
  }

  .attributeBoxEven {
    fill:  ${t.attributeBackgroundColorEven};
    stroke: ${t.nodeBorder};
  }

  .relationshipLabelBox {
    fill: ${t.tertiaryColor};
    opacity: 0.7;
    background-color: ${t.tertiaryColor};
      rect {
        opacity: 0.5;
      }
  }

    .relationshipLine {
      stroke: ${t.lineColor};
    }

  .entityTitleText {
    text-anchor: middle;
    font-size: 18px;
    fill: ${t.textColor};
  }    
  #MD_PARENT_START {
    fill: #f5f5f5 !important;
    stroke: ${t.lineColor} !important;
    stroke-width: 1;
  }
  #MD_PARENT_END {
    fill: #f5f5f5 !important;
    stroke: ${t.lineColor} !important;
    stroke-width: 1;
  }
  
`,"getStyles"),zNe=$Ne,UNe={parser:xNe,db:ANe,renderer:BNe,styles:zNe};const VNe=Object.freeze(Object.defineProperty({__proto__:null,diagram:UNe},Symbol.toStringTag,{value:"Module"}));function Vy(t,e){var r,n,i;t.accDescr&&((r=e.setAccDescription)==null||r.call(e,t.accDescr)),t.accTitle&&((n=e.setAccTitle)==null||n.call(e,t.accTitle)),t.title&&((i=e.setDiagramTitle)==null||i.call(e,t.title))}b(Vy,"populateCommonDb");var j0,J9=(j0=class{constructor(e){this.init=e,this.records=this.init()}reset(){this.records=this.init()}},b(j0,"ImperativeState"),j0);function ga(t){return typeof t=="object"&&t!==null&&typeof t.$type=="string"}function yl(t){return typeof t=="object"&&t!==null&&typeof t.$refText=="string"}function GNe(t){return typeof t=="object"&&t!==null&&typeof t.name=="string"&&typeof t.type=="string"&&typeof t.path=="string"}function Eb(t){return typeof t=="object"&&t!==null&&ga(t.container)&&yl(t.reference)&&typeof t.message=="string"}class AJ{constructor(){this.subtypes={},this.allSubtypes={}}isInstance(e,r){return ga(e)&&this.isSubtype(e.$type,r)}isSubtype(e,r){if(e===r)return!0;let n=this.subtypes[e];n||(n=this.subtypes[e]={});const i=n[r];if(i!==void 0)return i;{const a=this.computeIsSubtype(e,r);return n[r]=a,a}}getAllSubTypes(e){const r=this.allSubtypes[e];if(r)return r;{const n=this.getAllTypes(),i=[];for(const a of n)this.isSubtype(a,e)&&i.push(a);return this.allSubtypes[e]=i,i}}}function tg(t){return typeof t=="object"&&t!==null&&Array.isArray(t.content)}function _J(t){return typeof t=="object"&&t!==null&&typeof t.tokenType=="object"}function LJ(t){return tg(t)&&typeof t.fullText=="string"}class ua{constructor(e,r){this.startFn=e,this.nextFn=r}iterator(){const e={state:this.startFn(),next:()=>this.nextFn(e.state),[Symbol.iterator]:()=>e};return e}[Symbol.iterator](){return this.iterator()}isEmpty(){return!!this.iterator().next().done}count(){const e=this.iterator();let r=0,n=e.next();for(;!n.done;)r++,n=e.next();return r}toArray(){const e=[],r=this.iterator();let n;do n=r.next(),n.value!==void 0&&e.push(n.value);while(!n.done);return e}toSet(){return new Set(this)}toMap(e,r){const n=this.map(i=>[e?e(i):i,r?r(i):i]);return new Map(n)}toString(){return this.join()}concat(e){const r=e[Symbol.iterator]();return new ua(()=>({first:this.startFn(),firstDone:!1}),n=>{let i;if(!n.firstDone){do if(i=this.nextFn(n.first),!i.done)return i;while(!i.done);n.firstDone=!0}do if(i=r.next(),!i.done)return i;while(!i.done);return Qs})}join(e=","){const r=this.iterator();let n="",i,a=!1;do i=r.next(),i.done||(a&&(n+=e),n+=HNe(i.value)),a=!0;while(!i.done);return n}indexOf(e,r=0){const n=this.iterator();let i=0,a=n.next();for(;!a.done;){if(i>=r&&a.value===e)return i;a=n.next(),i++}return-1}every(e){const r=this.iterator();let n=r.next();for(;!n.done;){if(!e(n.value))return!1;n=r.next()}return!0}some(e){const r=this.iterator();let n=r.next();for(;!n.done;){if(e(n.value))return!0;n=r.next()}return!1}forEach(e){const r=this.iterator();let n=0,i=r.next();for(;!i.done;)e(i.value,n),i=r.next(),n++}map(e){return new ua(this.startFn,r=>{const{done:n,value:i}=this.nextFn(r);return n?Qs:{done:!1,value:e(i)}})}filter(e){return new ua(this.startFn,r=>{let n;do if(n=this.nextFn(r),!n.done&&e(n.value))return n;while(!n.done);return Qs})}nonNullable(){return this.filter(e=>e!=null)}reduce(e,r){const n=this.iterator();let i=r,a=n.next();for(;!a.done;)i===void 0?i=a.value:i=e(i,a.value),a=n.next();return i}reduceRight(e,r){return this.recursiveReduce(this.iterator(),e,r)}recursiveReduce(e,r,n){const i=e.next();if(i.done)return n;const a=this.recursiveReduce(e,r,n);return a===void 0?i.value:r(a,i.value)}find(e){const r=this.iterator();let n=r.next();for(;!n.done;){if(e(n.value))return n.value;n=r.next()}}findIndex(e){const r=this.iterator();let n=0,i=r.next();for(;!i.done;){if(e(i.value))return n;i=r.next(),n++}return-1}includes(e){const r=this.iterator();let n=r.next();for(;!n.done;){if(n.value===e)return!0;n=r.next()}return!1}flatMap(e){return new ua(()=>({this:this.startFn()}),r=>{do{if(r.iterator){const a=r.iterator.next();if(a.done)r.iterator=void 0;else return a}const{done:n,value:i}=this.nextFn(r.this);if(!n){const a=e(i);if(L3(a))r.iterator=a[Symbol.iterator]();else return{done:!1,value:a}}}while(r.iterator);return Qs})}flat(e){if(e===void 0&&(e=1),e<=0)return this;const r=e>1?this.flat(e-1):this;return new ua(()=>({this:r.startFn()}),n=>{do{if(n.iterator){const s=n.iterator.next();if(s.done)n.iterator=void 0;else return s}const{done:i,value:a}=r.nextFn(n.this);if(!i)if(L3(a))n.iterator=a[Symbol.iterator]();else return{done:!1,value:a}}while(n.iterator);return Qs})}head(){const r=this.iterator().next();if(!r.done)return r.value}tail(e=1){return new ua(()=>{const r=this.startFn();for(let n=0;n<e;n++)if(this.nextFn(r).done)return r;return r},this.nextFn)}limit(e){return new ua(()=>({size:0,state:this.startFn()}),r=>(r.size++,r.size>e?Qs:this.nextFn(r.state)))}distinct(e){const r=new Set;return this.filter(n=>{const i=e?e(n):n;return r.has(i)?!1:(r.add(i),!0)})}exclude(e,r){const n=new Set;for(const i of e){const a=r?r(i):i;n.add(a)}return this.filter(i=>{const a=r?r(i):i;return!n.has(a)})}}function HNe(t){return typeof t=="string"?t:typeof t>"u"?"undefined":typeof t.toString=="function"?t.toString():Object.prototype.toString.call(t)}function L3(t){return!!t&&typeof t[Symbol.iterator]=="function"}const WNe=new ua(()=>{},()=>Qs),Qs=Object.freeze({done:!0,value:void 0});function Gi(...t){if(t.length===1){const e=t[0];if(e instanceof ua)return e;if(L3(e))return new ua(()=>e[Symbol.iterator](),r=>r.next());if(typeof e.length=="number")return new ua(()=>({index:0}),r=>r.index<e.length?{done:!1,value:e[r.index++]}:Qs)}return t.length>1?new ua(()=>({collIndex:0,arrIndex:0}),e=>{do{if(e.iterator){const r=e.iterator.next();if(!r.done)return r;e.iterator=void 0}if(e.array){if(e.arrIndex<e.array.length)return{done:!1,value:e.array[e.arrIndex++]};e.array=void 0,e.arrIndex=0}if(e.collIndex<t.length){const r=t[e.collIndex++];L3(r)?e.iterator=r[Symbol.iterator]():r&&typeof r.length=="number"&&(e.array=r)}}while(e.iterator||e.array||e.collIndex<t.length);return Qs}):WNe}class eL extends ua{constructor(e,r,n){super(()=>({iterators:n!=null&&n.includeRoot?[[e][Symbol.iterator]()]:[r(e)[Symbol.iterator]()],pruned:!1}),i=>{for(i.pruned&&(i.iterators.pop(),i.pruned=!1);i.iterators.length>0;){const s=i.iterators[i.iterators.length-1].next();if(s.done)i.iterators.pop();else return i.iterators.push(r(s.value)[Symbol.iterator]()),s}return Qs})}iterator(){const e={state:this.startFn(),next:()=>this.nextFn(e.state),prune:()=>{e.state.pruned=!0},[Symbol.iterator]:()=>e};return e}}var rC;(function(t){function e(a){return a.reduce((s,o)=>s+o,0)}t.sum=e;function r(a){return a.reduce((s,o)=>s*o,0)}t.product=r;function n(a){return a.reduce((s,o)=>Math.min(s,o))}t.min=n;function i(a){return a.reduce((s,o)=>Math.max(s,o))}t.max=i})(rC||(rC={}));function nC(t){return new eL(t,e=>tg(e)?e.content:[],{includeRoot:!0})}function YNe(t,e){for(;t.container;)if(t=t.container,t===e)return!0;return!1}function iC(t){return{start:{character:t.startColumn-1,line:t.startLine-1},end:{character:t.endColumn,line:t.endLine-1}}}function N3(t){if(!t)return;const{offset:e,end:r,range:n}=t;return{range:n,offset:e,end:r,length:r-e}}var bu;(function(t){t[t.Before=0]="Before",t[t.After=1]="After",t[t.OverlapFront=2]="OverlapFront",t[t.OverlapBack=3]="OverlapBack",t[t.Inside=4]="Inside"})(bu||(bu={}));function qNe(t,e){if(t.end.line<e.start.line||t.end.line===e.start.line&&t.end.character<t.start.character)return bu.Before;if(t.start.line>e.end.line||t.start.line===e.end.line&&t.start.character>e.end.character)return bu.After;const r=t.start.line>e.start.line||t.start.line===e.start.line&&t.start.character>=e.start.character,n=t.end.line<e.end.line||t.end.line===e.end.line&&t.end.character<=e.end.character;return r&&n?bu.Inside:r?bu.OverlapBack:bu.OverlapFront}function jNe(t,e){return qNe(t,e)>bu.After}const XNe=/^[\w\p{L}]$/u;function KNe(t,e){if(t){const r=QNe(t,!0);if(r&&aP(r,e))return r;if(LJ(t)){const n=t.content.findIndex(i=>!i.hidden);for(let i=n-1;i>=0;i--){const a=t.content[i];if(aP(a,e))return a}}}}function aP(t,e){return _J(t)&&e.includes(t.tokenType.name)}function QNe(t,e=!0){for(;t.container;){const r=t.container;let n=r.content.indexOf(t);for(;n>0;){n--;const i=r.content[n];if(e||!i.hidden)return i}t=r}}class NJ extends Error{constructor(e,r){super(e?`${r} at ${e.range.start.line}:${e.range.start.character}`:r)}}function e6(t){throw new Error("Error! The input value was not handled.")}const KT="AbstractRule",QT="AbstractType",sP="Condition",ZNe="TypeDefinition",oP="ValueLiteral",RJ="AbstractElement";function JNe(t){return Pr.isInstance(t,RJ)}const eRe="ArrayLiteral",tRe="ArrayType",MJ="BooleanLiteral";function rRe(t){return Pr.isInstance(t,MJ)}const IJ="Conjunction";function nRe(t){return Pr.isInstance(t,IJ)}const DJ="Disjunction";function iRe(t){return Pr.isInstance(t,DJ)}const aRe="Grammar",OJ="InferredType";function PJ(t){return Pr.isInstance(t,OJ)}const FJ="Interface";function BJ(t){return Pr.isInstance(t,FJ)}const $J="Negation";function sRe(t){return Pr.isInstance(t,$J)}const oRe="NumberLiteral",lRe="Parameter",zJ="ParameterReference";function cRe(t){return Pr.isInstance(t,zJ)}const UJ="ParserRule";function xo(t){return Pr.isInstance(t,UJ)}const uRe="ReferenceType",hRe="ReturnType";function dRe(t){return Pr.isInstance(t,hRe)}const VJ="SimpleType";function fRe(t){return Pr.isInstance(t,VJ)}const pRe="StringLiteral",aC="TerminalRule";function wf(t){return Pr.isInstance(t,aC)}const GJ="Type";function HJ(t){return Pr.isInstance(t,GJ)}const gRe="UnionType",WJ="Action";function t6(t){return Pr.isInstance(t,WJ)}const YJ="Alternatives";function qJ(t){return Pr.isInstance(t,YJ)}const jJ="Assignment";function zd(t){return Pr.isInstance(t,jJ)}const XJ="CharacterRange";function mRe(t){return Pr.isInstance(t,XJ)}const KJ="CrossReference";function tL(t){return Pr.isInstance(t,KJ)}const QJ="EndOfFile";function vRe(t){return Pr.isInstance(t,QJ)}const ZJ="Group";function rL(t){return Pr.isInstance(t,ZJ)}const JJ="Keyword";function Ud(t){return Pr.isInstance(t,JJ)}const eee="NegatedToken";function yRe(t){return Pr.isInstance(t,eee)}const tee="RegexToken";function xRe(t){return Pr.isInstance(t,tee)}const ree="RuleCall";function Vd(t){return Pr.isInstance(t,ree)}const nee="TerminalAlternatives";function bRe(t){return Pr.isInstance(t,nee)}const iee="TerminalGroup";function wRe(t){return Pr.isInstance(t,iee)}const aee="TerminalRuleCall";function kRe(t){return Pr.isInstance(t,aee)}const see="UnorderedGroup";function oee(t){return Pr.isInstance(t,see)}const lee="UntilToken";function TRe(t){return Pr.isInstance(t,lee)}const cee="Wildcard";function ERe(t){return Pr.isInstance(t,cee)}class uee extends AJ{getAllTypes(){return["AbstractElement","AbstractRule","AbstractType","Action","Alternatives","ArrayLiteral","ArrayType","Assignment","BooleanLiteral","CharacterRange","Condition","Conjunction","CrossReference","Disjunction","EndOfFile","Grammar","GrammarImport","Group","InferredType","Interface","Keyword","NamedArgument","NegatedToken","Negation","NumberLiteral","Parameter","ParameterReference","ParserRule","ReferenceType","RegexToken","ReturnType","RuleCall","SimpleType","StringLiteral","TerminalAlternatives","TerminalGroup","TerminalRule","TerminalRuleCall","Type","TypeAttribute","TypeDefinition","UnionType","UnorderedGroup","UntilToken","ValueLiteral","Wildcard"]}computeIsSubtype(e,r){switch(e){case WJ:case YJ:case jJ:case XJ:case KJ:case QJ:case ZJ:case JJ:case eee:case tee:case ree:case nee:case iee:case aee:case see:case lee:case cee:return this.isSubtype(RJ,r);case eRe:case oRe:case pRe:return this.isSubtype(oP,r);case tRe:case uRe:case VJ:case gRe:return this.isSubtype(ZNe,r);case MJ:return this.isSubtype(sP,r)||this.isSubtype(oP,r);case IJ:case DJ:case $J:case zJ:return this.isSubtype(sP,r);case OJ:case FJ:case GJ:return this.isSubtype(QT,r);case UJ:return this.isSubtype(KT,r)||this.isSubtype(QT,r);case aC:return this.isSubtype(KT,r);default:return!1}}getReferenceType(e){const r=`${e.container.$type}:${e.property}`;switch(r){case"Action:type":case"CrossReference:type":case"Interface:superTypes":case"ParserRule:returnType":case"SimpleType:typeRef":return QT;case"Grammar:hiddenTokens":case"ParserRule:hiddenTokens":case"RuleCall:rule":return KT;case"Grammar:usedGrammars":return aRe;case"NamedArgument:parameter":case"ParameterReference:parameter":return lRe;case"TerminalRuleCall:rule":return aC;default:throw new Error(`${r} is not a valid reference id.`)}}getTypeMetaData(e){switch(e){case"AbstractElement":return{name:"AbstractElement",properties:[{name:"cardinality"},{name:"lookahead"}]};case"ArrayLiteral":return{name:"ArrayLiteral",properties:[{name:"elements",defaultValue:[]}]};case"ArrayType":return{name:"ArrayType",properties:[{name:"elementType"}]};case"BooleanLiteral":return{name:"BooleanLiteral",properties:[{name:"true",defaultValue:!1}]};case"Conjunction":return{name:"Conjunction",properties:[{name:"left"},{name:"right"}]};case"Disjunction":return{name:"Disjunction",properties:[{name:"left"},{name:"right"}]};case"Grammar":return{name:"Grammar",properties:[{name:"definesHiddenTokens",defaultValue:!1},{name:"hiddenTokens",defaultValue:[]},{name:"imports",defaultValue:[]},{name:"interfaces",defaultValue:[]},{name:"isDeclared",defaultValue:!1},{name:"name"},{name:"rules",defaultValue:[]},{name:"types",defaultValue:[]},{name:"usedGrammars",defaultValue:[]}]};case"GrammarImport":return{name:"GrammarImport",properties:[{name:"path"}]};case"InferredType":return{name:"InferredType",properties:[{name:"name"}]};case"Interface":return{name:"Interface",properties:[{name:"attributes",defaultValue:[]},{name:"name"},{name:"superTypes",defaultValue:[]}]};case"NamedArgument":return{name:"NamedArgument",properties:[{name:"calledByName",defaultValue:!1},{name:"parameter"},{name:"value"}]};case"Negation":return{name:"Negation",properties:[{name:"value"}]};case"NumberLiteral":return{name:"NumberLiteral",properties:[{name:"value"}]};case"Parameter":return{name:"Parameter",properties:[{name:"name"}]};case"ParameterReference":return{name:"ParameterReference",properties:[{name:"parameter"}]};case"ParserRule":return{name:"ParserRule",properties:[{name:"dataType"},{name:"definesHiddenTokens",defaultValue:!1},{name:"definition"},{name:"entry",defaultValue:!1},{name:"fragment",defaultValue:!1},{name:"hiddenTokens",defaultValue:[]},{name:"inferredType"},{name:"name"},{name:"parameters",defaultValue:[]},{name:"returnType"},{name:"wildcard",defaultValue:!1}]};case"ReferenceType":return{name:"ReferenceType",properties:[{name:"referenceType"}]};case"ReturnType":return{name:"ReturnType",properties:[{name:"name"}]};case"SimpleType":return{name:"SimpleType",properties:[{name:"primitiveType"},{name:"stringType"},{name:"typeRef"}]};case"StringLiteral":return{name:"StringLiteral",properties:[{name:"value"}]};case"TerminalRule":return{name:"TerminalRule",properties:[{name:"definition"},{name:"fragment",defaultValue:!1},{name:"hidden",defaultValue:!1},{name:"name"},{name:"type"}]};case"Type":return{name:"Type",properties:[{name:"name"},{name:"type"}]};case"TypeAttribute":return{name:"TypeAttribute",properties:[{name:"defaultValue"},{name:"isOptional",defaultValue:!1},{name:"name"},{name:"type"}]};case"UnionType":return{name:"UnionType",properties:[{name:"types",defaultValue:[]}]};case"Action":return{name:"Action",properties:[{name:"cardinality"},{name:"feature"},{name:"inferredType"},{name:"lookahead"},{name:"operator"},{name:"type"}]};case"Alternatives":return{name:"Alternatives",properties:[{name:"cardinality"},{name:"elements",defaultValue:[]},{name:"lookahead"}]};case"Assignment":return{name:"Assignment",properties:[{name:"cardinality"},{name:"feature"},{name:"lookahead"},{name:"operator"},{name:"terminal"}]};case"CharacterRange":return{name:"CharacterRange",properties:[{name:"cardinality"},{name:"left"},{name:"lookahead"},{name:"right"}]};case"CrossReference":return{name:"CrossReference",properties:[{name:"cardinality"},{name:"deprecatedSyntax",defaultValue:!1},{name:"lookahead"},{name:"terminal"},{name:"type"}]};case"EndOfFile":return{name:"EndOfFile",properties:[{name:"cardinality"},{name:"lookahead"}]};case"Group":return{name:"Group",properties:[{name:"cardinality"},{name:"elements",defaultValue:[]},{name:"guardCondition"},{name:"lookahead"}]};case"Keyword":return{name:"Keyword",properties:[{name:"cardinality"},{name:"lookahead"},{name:"value"}]};case"NegatedToken":return{name:"NegatedToken",properties:[{name:"cardinality"},{name:"lookahead"},{name:"terminal"}]};case"RegexToken":return{name:"RegexToken",properties:[{name:"cardinality"},{name:"lookahead"},{name:"regex"}]};case"RuleCall":return{name:"RuleCall",properties:[{name:"arguments",defaultValue:[]},{name:"cardinality"},{name:"lookahead"},{name:"rule"}]};case"TerminalAlternatives":return{name:"TerminalAlternatives",properties:[{name:"cardinality"},{name:"elements",defaultValue:[]},{name:"lookahead"}]};case"TerminalGroup":return{name:"TerminalGroup",properties:[{name:"cardinality"},{name:"elements",defaultValue:[]},{name:"lookahead"}]};case"TerminalRuleCall":return{name:"TerminalRuleCall",properties:[{name:"cardinality"},{name:"lookahead"},{name:"rule"}]};case"UnorderedGroup":return{name:"UnorderedGroup",properties:[{name:"cardinality"},{name:"elements",defaultValue:[]},{name:"lookahead"}]};case"UntilToken":return{name:"UntilToken",properties:[{name:"cardinality"},{name:"lookahead"},{name:"terminal"}]};case"Wildcard":return{name:"Wildcard",properties:[{name:"cardinality"},{name:"lookahead"}]};default:return{name:e,properties:[]}}}}const Pr=new uee;function SRe(t){for(const[e,r]of Object.entries(t))e.startsWith("$")||(Array.isArray(r)?r.forEach((n,i)=>{ga(n)&&(n.$container=t,n.$containerProperty=e,n.$containerIndex=i)}):ga(r)&&(r.$container=t,r.$containerProperty=e))}function r6(t,e){let r=t;for(;r;){if(e(r))return r;r=r.$container}}function Nl(t){const r=CRe(t).$document;if(!r)throw new Error("AST node has no document.");return r}function CRe(t){for(;t.$container;)t=t.$container;return t}function nL(t,e){if(!t)throw new Error("Node must be an AstNode.");const r=e==null?void 0:e.range;return new ua(()=>({keys:Object.keys(t),keyIndex:0,arrayIndex:0}),n=>{for(;n.keyIndex<n.keys.length;){const i=n.keys[n.keyIndex];if(!i.startsWith("$")){const a=t[i];if(ga(a)){if(n.keyIndex++,lP(a,r))return{done:!1,value:a}}else if(Array.isArray(a)){for(;n.arrayIndex<a.length;){const s=n.arrayIndex++,o=a[s];if(ga(o)&&lP(o,r))return{done:!1,value:o}}n.arrayIndex=0}}n.keyIndex++}return Qs})}function Gy(t,e){if(!t)throw new Error("Root node must be an AstNode.");return new eL(t,r=>nL(r,e))}function _0(t,e){if(!t)throw new Error("Root node must be an AstNode.");return new eL(t,r=>nL(r,e),{includeRoot:!0})}function lP(t,e){var r;if(!e)return!0;const n=(r=t.$cstNode)===null||r===void 0?void 0:r.range;return n?jNe(n,e):!1}function hee(t){return new ua(()=>({keys:Object.keys(t),keyIndex:0,arrayIndex:0}),e=>{for(;e.keyIndex<e.keys.length;){const r=e.keys[e.keyIndex];if(!r.startsWith("$")){const n=t[r];if(yl(n))return e.keyIndex++,{done:!1,value:{reference:n,container:t,property:r}};if(Array.isArray(n)){for(;e.arrayIndex<n.length;){const i=e.arrayIndex++,a=n[i];if(yl(a))return{done:!1,value:{reference:a,container:t,property:r,index:i}}}e.arrayIndex=0}}e.keyIndex++}return Qs})}function ARe(t,e){const r=t.getTypeMetaData(e.$type),n=e;for(const i of r.properties)i.defaultValue!==void 0&&n[i.name]===void 0&&(n[i.name]=dee(i.defaultValue))}function dee(t){return Array.isArray(t)?[...t.map(dee)]:t}function Qt(t){return t.charCodeAt(0)}function ZT(t,e){Array.isArray(t)?t.forEach(function(r){e.push(r)}):e.push(t)}function D1(t,e){if(t[e]===!0)throw"duplicate flag "+e;t[e],t[e]=!0}function If(t){if(t===void 0)throw Error("Internal Error - Should never get here!");return!0}function _Re(){throw Error("Internal Error - Should never get here!")}function cP(t){return t.type==="Character"}const R3=[];for(let t=Qt("0");t<=Qt("9");t++)R3.push(t);const M3=[Qt("_")].concat(R3);for(let t=Qt("a");t<=Qt("z");t++)M3.push(t);for(let t=Qt("A");t<=Qt("Z");t++)M3.push(t);const uP=[Qt(" "),Qt("\f"),Qt(`
`),Qt("\r"),Qt("	"),Qt("\v"),Qt("	"),Qt(" "),Qt(" "),Qt(" "),Qt(" "),Qt(" "),Qt(" "),Qt(" "),Qt(" "),Qt(" "),Qt(" "),Qt(" "),Qt(" "),Qt(" "),Qt("\u2028"),Qt("\u2029"),Qt(" "),Qt(" "),Qt("　"),Qt("\uFEFF")],LRe=/[0-9a-fA-F]/,yx=/[0-9]/,NRe=/[1-9]/;class fee{constructor(){this.idx=0,this.input="",this.groupIdx=0}saveState(){return{idx:this.idx,input:this.input,groupIdx:this.groupIdx}}restoreState(e){this.idx=e.idx,this.input=e.input,this.groupIdx=e.groupIdx}pattern(e){this.idx=0,this.input=e,this.groupIdx=0,this.consumeChar("/");const r=this.disjunction();this.consumeChar("/");const n={type:"Flags",loc:{begin:this.idx,end:e.length},global:!1,ignoreCase:!1,multiLine:!1,unicode:!1,sticky:!1};for(;this.isRegExpFlag();)switch(this.popChar()){case"g":D1(n,"global");break;case"i":D1(n,"ignoreCase");break;case"m":D1(n,"multiLine");break;case"u":D1(n,"unicode");break;case"y":D1(n,"sticky");break}if(this.idx!==this.input.length)throw Error("Redundant input: "+this.input.substring(this.idx));return{type:"Pattern",flags:n,value:r,loc:this.loc(0)}}disjunction(){const e=[],r=this.idx;for(e.push(this.alternative());this.peekChar()==="|";)this.consumeChar("|"),e.push(this.alternative());return{type:"Disjunction",value:e,loc:this.loc(r)}}alternative(){const e=[],r=this.idx;for(;this.isTerm();)e.push(this.term());return{type:"Alternative",value:e,loc:this.loc(r)}}term(){return this.isAssertion()?this.assertion():this.atom()}assertion(){const e=this.idx;switch(this.popChar()){case"^":return{type:"StartAnchor",loc:this.loc(e)};case"$":return{type:"EndAnchor",loc:this.loc(e)};case"\\":switch(this.popChar()){case"b":return{type:"WordBoundary",loc:this.loc(e)};case"B":return{type:"NonWordBoundary",loc:this.loc(e)}}throw Error("Invalid Assertion Escape");case"(":this.consumeChar("?");let r;switch(this.popChar()){case"=":r="Lookahead";break;case"!":r="NegativeLookahead";break}If(r);const n=this.disjunction();return this.consumeChar(")"),{type:r,value:n,loc:this.loc(e)}}return _Re()}quantifier(e=!1){let r;const n=this.idx;switch(this.popChar()){case"*":r={atLeast:0,atMost:1/0};break;case"+":r={atLeast:1,atMost:1/0};break;case"?":r={atLeast:0,atMost:1};break;case"{":const i=this.integerIncludingZero();switch(this.popChar()){case"}":r={atLeast:i,atMost:i};break;case",":let a;this.isDigit()?(a=this.integerIncludingZero(),r={atLeast:i,atMost:a}):r={atLeast:i,atMost:1/0},this.consumeChar("}");break}if(e===!0&&r===void 0)return;If(r);break}if(!(e===!0&&r===void 0)&&If(r))return this.peekChar(0)==="?"?(this.consumeChar("?"),r.greedy=!1):r.greedy=!0,r.type="Quantifier",r.loc=this.loc(n),r}atom(){let e;const r=this.idx;switch(this.peekChar()){case".":e=this.dotAll();break;case"\\":e=this.atomEscape();break;case"[":e=this.characterClass();break;case"(":e=this.group();break}if(e===void 0&&this.isPatternCharacter()&&(e=this.patternCharacter()),If(e))return e.loc=this.loc(r),this.isQuantifier()&&(e.quantifier=this.quantifier()),e}dotAll(){return this.consumeChar("."),{type:"Set",complement:!0,value:[Qt(`
`),Qt("\r"),Qt("\u2028"),Qt("\u2029")]}}atomEscape(){switch(this.consumeChar("\\"),this.peekChar()){case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":return this.decimalEscapeAtom();case"d":case"D":case"s":case"S":case"w":case"W":return this.characterClassEscape();case"f":case"n":case"r":case"t":case"v":return this.controlEscapeAtom();case"c":return this.controlLetterEscapeAtom();case"0":return this.nulCharacterAtom();case"x":return this.hexEscapeSequenceAtom();case"u":return this.regExpUnicodeEscapeSequenceAtom();default:return this.identityEscapeAtom()}}decimalEscapeAtom(){return{type:"GroupBackReference",value:this.positiveInteger()}}characterClassEscape(){let e,r=!1;switch(this.popChar()){case"d":e=R3;break;case"D":e=R3,r=!0;break;case"s":e=uP;break;case"S":e=uP,r=!0;break;case"w":e=M3;break;case"W":e=M3,r=!0;break}if(If(e))return{type:"Set",value:e,complement:r}}controlEscapeAtom(){let e;switch(this.popChar()){case"f":e=Qt("\f");break;case"n":e=Qt(`
`);break;case"r":e=Qt("\r");break;case"t":e=Qt("	");break;case"v":e=Qt("\v");break}if(If(e))return{type:"Character",value:e}}controlLetterEscapeAtom(){this.consumeChar("c");const e=this.popChar();if(/[a-zA-Z]/.test(e)===!1)throw Error("Invalid ");return{type:"Character",value:e.toUpperCase().charCodeAt(0)-64}}nulCharacterAtom(){return this.consumeChar("0"),{type:"Character",value:Qt("\0")}}hexEscapeSequenceAtom(){return this.consumeChar("x"),this.parseHexDigits(2)}regExpUnicodeEscapeSequenceAtom(){return this.consumeChar("u"),this.parseHexDigits(4)}identityEscapeAtom(){const e=this.popChar();return{type:"Character",value:Qt(e)}}classPatternCharacterAtom(){switch(this.peekChar()){case`
`:case"\r":case"\u2028":case"\u2029":case"\\":case"]":throw Error("TBD");default:const e=this.popChar();return{type:"Character",value:Qt(e)}}}characterClass(){const e=[];let r=!1;for(this.consumeChar("["),this.peekChar(0)==="^"&&(this.consumeChar("^"),r=!0);this.isClassAtom();){const n=this.classAtom();if(n.type,cP(n)&&this.isRangeDash()){this.consumeChar("-");const i=this.classAtom();if(i.type,cP(i)){if(i.value<n.value)throw Error("Range out of order in character class");e.push({from:n.value,to:i.value})}else ZT(n.value,e),e.push(Qt("-")),ZT(i.value,e)}else ZT(n.value,e)}return this.consumeChar("]"),{type:"Set",complement:r,value:e}}classAtom(){switch(this.peekChar()){case"]":case`
`:case"\r":case"\u2028":case"\u2029":throw Error("TBD");case"\\":return this.classEscape();default:return this.classPatternCharacterAtom()}}classEscape(){switch(this.consumeChar("\\"),this.peekChar()){case"b":return this.consumeChar("b"),{type:"Character",value:Qt("\b")};case"d":case"D":case"s":case"S":case"w":case"W":return this.characterClassEscape();case"f":case"n":case"r":case"t":case"v":return this.controlEscapeAtom();case"c":return this.controlLetterEscapeAtom();case"0":return this.nulCharacterAtom();case"x":return this.hexEscapeSequenceAtom();case"u":return this.regExpUnicodeEscapeSequenceAtom();default:return this.identityEscapeAtom()}}group(){let e=!0;switch(this.consumeChar("("),this.peekChar(0)){case"?":this.consumeChar("?"),this.consumeChar(":"),e=!1;break;default:this.groupIdx++;break}const r=this.disjunction();this.consumeChar(")");const n={type:"Group",capturing:e,value:r};return e&&(n.idx=this.groupIdx),n}positiveInteger(){let e=this.popChar();if(NRe.test(e)===!1)throw Error("Expecting a positive integer");for(;yx.test(this.peekChar(0));)e+=this.popChar();return parseInt(e,10)}integerIncludingZero(){let e=this.popChar();if(yx.test(e)===!1)throw Error("Expecting an integer");for(;yx.test(this.peekChar(0));)e+=this.popChar();return parseInt(e,10)}patternCharacter(){const e=this.popChar();switch(e){case`
`:case"\r":case"\u2028":case"\u2029":case"^":case"$":case"\\":case".":case"*":case"+":case"?":case"(":case")":case"[":case"|":throw Error("TBD");default:return{type:"Character",value:Qt(e)}}}isRegExpFlag(){switch(this.peekChar(0)){case"g":case"i":case"m":case"u":case"y":return!0;default:return!1}}isRangeDash(){return this.peekChar()==="-"&&this.isClassAtom(1)}isDigit(){return yx.test(this.peekChar(0))}isClassAtom(e=0){switch(this.peekChar(e)){case"]":case`
`:case"\r":case"\u2028":case"\u2029":return!1;default:return!0}}isTerm(){return this.isAtom()||this.isAssertion()}isAtom(){if(this.isPatternCharacter())return!0;switch(this.peekChar(0)){case".":case"\\":case"[":case"(":return!0;default:return!1}}isAssertion(){switch(this.peekChar(0)){case"^":case"$":return!0;case"\\":switch(this.peekChar(1)){case"b":case"B":return!0;default:return!1}case"(":return this.peekChar(1)==="?"&&(this.peekChar(2)==="="||this.peekChar(2)==="!");default:return!1}}isQuantifier(){const e=this.saveState();try{return this.quantifier(!0)!==void 0}catch{return!1}finally{this.restoreState(e)}}isPatternCharacter(){switch(this.peekChar()){case"^":case"$":case"\\":case".":case"*":case"+":case"?":case"(":case")":case"[":case"|":case"/":case`
`:case"\r":case"\u2028":case"\u2029":return!1;default:return!0}}parseHexDigits(e){let r="";for(let i=0;i<e;i++){const a=this.popChar();if(LRe.test(a)===!1)throw Error("Expecting a HexDecimal digits");r+=a}return{type:"Character",value:parseInt(r,16)}}peekChar(e=0){return this.input[this.idx+e]}popChar(){const e=this.peekChar(0);return this.consumeChar(void 0),e}consumeChar(e){if(e!==void 0&&this.input[this.idx]!==e)throw Error("Expected: '"+e+"' but found: '"+this.input[this.idx]+"' at offset: "+this.idx);if(this.idx>=this.input.length)throw Error("Unexpected end of input");this.idx++}loc(e){return{begin:e,end:this.idx}}}class n6{visitChildren(e){for(const r in e){const n=e[r];e.hasOwnProperty(r)&&(n.type!==void 0?this.visit(n):Array.isArray(n)&&n.forEach(i=>{this.visit(i)},this))}}visit(e){switch(e.type){case"Pattern":this.visitPattern(e);break;case"Flags":this.visitFlags(e);break;case"Disjunction":this.visitDisjunction(e);break;case"Alternative":this.visitAlternative(e);break;case"StartAnchor":this.visitStartAnchor(e);break;case"EndAnchor":this.visitEndAnchor(e);break;case"WordBoundary":this.visitWordBoundary(e);break;case"NonWordBoundary":this.visitNonWordBoundary(e);break;case"Lookahead":this.visitLookahead(e);break;case"NegativeLookahead":this.visitNegativeLookahead(e);break;case"Character":this.visitCharacter(e);break;case"Set":this.visitSet(e);break;case"Group":this.visitGroup(e);break;case"GroupBackReference":this.visitGroupBackReference(e);break;case"Quantifier":this.visitQuantifier(e);break}this.visitChildren(e)}visitPattern(e){}visitFlags(e){}visitDisjunction(e){}visitAlternative(e){}visitStartAnchor(e){}visitEndAnchor(e){}visitWordBoundary(e){}visitNonWordBoundary(e){}visitLookahead(e){}visitNegativeLookahead(e){}visitCharacter(e){}visitSet(e){}visitGroup(e){}visitGroupBackReference(e){}visitQuantifier(e){}}const RRe=/\r?\n/gm,MRe=new fee;class IRe extends n6{constructor(){super(...arguments),this.isStarting=!0,this.endRegexpStack=[],this.multiline=!1}get endRegex(){return this.endRegexpStack.join("")}reset(e){this.multiline=!1,this.regex=e,this.startRegexp="",this.isStarting=!0,this.endRegexpStack=[]}visitGroup(e){e.quantifier&&(this.isStarting=!1,this.endRegexpStack=[])}visitCharacter(e){const r=String.fromCharCode(e.value);if(!this.multiline&&r===`
`&&(this.multiline=!0),e.quantifier)this.isStarting=!1,this.endRegexpStack=[];else{const n=i6(r);this.endRegexpStack.push(n),this.isStarting&&(this.startRegexp+=n)}}visitSet(e){if(!this.multiline){const r=this.regex.substring(e.loc.begin,e.loc.end),n=new RegExp(r);this.multiline=!!`
`.match(n)}if(e.quantifier)this.isStarting=!1,this.endRegexpStack=[];else{const r=this.regex.substring(e.loc.begin,e.loc.end);this.endRegexpStack.push(r),this.isStarting&&(this.startRegexp+=r)}}visitChildren(e){e.type==="Group"&&e.quantifier||super.visitChildren(e)}}const JT=new IRe;function DRe(t){try{return typeof t=="string"&&(t=new RegExp(t)),t=t.toString(),JT.reset(t),JT.visit(MRe.pattern(t)),JT.multiline}catch{return!1}}function hP(t){return(typeof t=="string"?new RegExp(t):t).test(" ")}function i6(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function ORe(t){return Array.prototype.map.call(t,e=>/\w/.test(e)?`[${e.toLowerCase()}${e.toUpperCase()}]`:i6(e)).join("")}function PRe(t,e){const r=FRe(t),n=e.match(r);return!!n&&n[0].length>0}function FRe(t){typeof t=="string"&&(t=new RegExp(t));const e=t,r=t.source;let n=0;function i(){let a="",s;function o(u){a+=r.substr(n,u),n+=u}function l(u){a+="(?:"+r.substr(n,u)+"|$)",n+=u}for(;n<r.length;)switch(r[n]){case"\\":switch(r[n+1]){case"c":l(3);break;case"x":l(4);break;case"u":e.unicode?r[n+2]==="{"?l(r.indexOf("}",n)-n+1):l(6):l(2);break;case"p":case"P":e.unicode?l(r.indexOf("}",n)-n+1):l(2);break;case"k":l(r.indexOf(">",n)-n+1);break;default:l(2);break}break;case"[":s=/\[(?:\\.|.)*?\]/g,s.lastIndex=n,s=s.exec(r)||[],l(s[0].length);break;case"|":case"^":case"$":case"*":case"+":case"?":o(1);break;case"{":s=/\{\d+,?\d*\}/g,s.lastIndex=n,s=s.exec(r),s?o(s[0].length):l(1);break;case"(":if(r[n+1]==="?")switch(r[n+2]){case":":a+="(?:",n+=3,a+=i()+"|$)";break;case"=":a+="(?=",n+=3,a+=i()+")";break;case"!":s=n,n+=3,i(),a+=r.substr(s,n-s);break;case"<":switch(r[n+3]){case"=":case"!":s=n,n+=4,i(),a+=r.substr(s,n-s);break;default:o(r.indexOf(">",n)-n+1),a+=i()+"|$)";break}break}else o(1),a+=i()+"|$)";break;case")":return++n,a;default:l(1);break}return a}return new RegExp(i(),t.flags)}function BRe(t){return t.rules.find(e=>xo(e)&&e.entry)}function $Re(t){return t.rules.filter(e=>wf(e)&&e.hidden)}function pee(t,e){const r=new Set,n=BRe(t);if(!n)return new Set(t.rules);const i=[n].concat($Re(t));for(const s of i)gee(s,r,e);const a=new Set;for(const s of t.rules)(r.has(s.name)||wf(s)&&s.hidden)&&a.add(s);return a}function gee(t,e,r){e.add(t.name),Gy(t).forEach(n=>{if(Vd(n)||r){const i=n.rule.ref;i&&!e.has(i.name)&&gee(i,e,r)}})}function zRe(t){if(t.terminal)return t.terminal;if(t.type.ref){const e=vee(t.type.ref);return e==null?void 0:e.terminal}}function URe(t){return t.hidden&&!sL(t).test(" ")}function VRe(t,e){return!t||!e?[]:iL(t,e,t.astNode,!0)}function mee(t,e,r){if(!t||!e)return;const n=iL(t,e,t.astNode,!0);if(n.length!==0)return r!==void 0?r=Math.max(0,Math.min(r,n.length-1)):r=0,n[r]}function iL(t,e,r,n){if(!n){const i=r6(t.grammarSource,zd);if(i&&i.feature===e)return[t]}return tg(t)&&t.astNode===r?t.content.flatMap(i=>iL(i,e,r,!1)):[]}function GRe(t,e,r){if(!t)return;const n=HRe(t,e,t==null?void 0:t.astNode);if(n.length!==0)return r!==void 0?r=Math.max(0,Math.min(r,n.length-1)):r=0,n[r]}function HRe(t,e,r){if(t.astNode!==r)return[];if(Ud(t.grammarSource)&&t.grammarSource.value===e)return[t];const n=nC(t).iterator();let i;const a=[];do if(i=n.next(),!i.done){const s=i.value;s.astNode===r?Ud(s.grammarSource)&&s.grammarSource.value===e&&a.push(s):n.prune()}while(!i.done);return a}function WRe(t){var e;const r=t.astNode;for(;r===((e=t.container)===null||e===void 0?void 0:e.astNode);){const n=r6(t.grammarSource,zd);if(n)return n;t=t.container}}function vee(t){let e=t;return PJ(e)&&(t6(e.$container)?e=e.$container.$container:xo(e.$container)?e=e.$container:e6(e.$container)),yee(t,e,new Map)}function yee(t,e,r){var n;function i(a,s){let o;return r6(a,zd)||(o=yee(s,s,r)),r.set(t,o),o}if(r.has(t))return r.get(t);r.set(t,void 0);for(const a of Gy(e)){if(zd(a)&&a.feature.toLowerCase()==="name")return r.set(t,a),a;if(Vd(a)&&xo(a.rule.ref))return i(a,a.rule.ref);if(fRe(a)&&(!((n=a.typeRef)===null||n===void 0)&&n.ref))return i(a,a.typeRef.ref)}}function aL(t){return xee(t,new Set)}function xee(t,e){if(e.has(t))return!0;e.add(t);for(const r of Gy(t))if(Vd(r)){if(!r.rule.ref||xo(r.rule.ref)&&!xee(r.rule.ref,e))return!1}else{if(zd(r))return!1;if(t6(r))return!1}return!!t.definition}function bee(t){if(t.inferredType)return t.inferredType.name;if(t.dataType)return t.dataType;if(t.returnType){const e=t.returnType.ref;if(e){if(xo(e))return e.name;if(BJ(e)||HJ(e))return e.name}}}function a6(t){var e;if(xo(t))return aL(t)?t.name:(e=bee(t))!==null&&e!==void 0?e:t.name;if(BJ(t)||HJ(t)||dRe(t))return t.name;if(t6(t)){const r=YRe(t);if(r)return r}else if(PJ(t))return t.name;throw new Error("Cannot get name of Unknown Type")}function YRe(t){var e;if(t.inferredType)return t.inferredType.name;if(!((e=t.type)===null||e===void 0)&&e.ref)return a6(t.type.ref)}function qRe(t){var e,r,n;return wf(t)?(r=(e=t.type)===null||e===void 0?void 0:e.name)!==null&&r!==void 0?r:"string":aL(t)?t.name:(n=bee(t))!==null&&n!==void 0?n:t.name}function sL(t){const e={s:!1,i:!1,u:!1},r=Bg(t.definition,e),n=Object.entries(e).filter(([,i])=>i).map(([i])=>i).join("");return new RegExp(r,n)}const oL=/[\s\S]/.source;function Bg(t,e){if(bRe(t))return jRe(t);if(wRe(t))return XRe(t);if(mRe(t))return ZRe(t);if(kRe(t)){const r=t.rule.ref;if(!r)throw new Error("Missing rule reference.");return Ec(Bg(r.definition),{cardinality:t.cardinality,lookahead:t.lookahead})}else{if(yRe(t))return QRe(t);if(TRe(t))return KRe(t);if(xRe(t)){const r=t.regex.lastIndexOf("/"),n=t.regex.substring(1,r),i=t.regex.substring(r+1);return e&&(e.i=i.includes("i"),e.s=i.includes("s"),e.u=i.includes("u")),Ec(n,{cardinality:t.cardinality,lookahead:t.lookahead,wrap:!1})}else{if(ERe(t))return Ec(oL,{cardinality:t.cardinality,lookahead:t.lookahead});throw new Error(`Invalid terminal element: ${t==null?void 0:t.$type}`)}}}function jRe(t){return Ec(t.elements.map(e=>Bg(e)).join("|"),{cardinality:t.cardinality,lookahead:t.lookahead})}function XRe(t){return Ec(t.elements.map(e=>Bg(e)).join(""),{cardinality:t.cardinality,lookahead:t.lookahead})}function KRe(t){return Ec(`${oL}*?${Bg(t.terminal)}`,{cardinality:t.cardinality,lookahead:t.lookahead})}function QRe(t){return Ec(`(?!${Bg(t.terminal)})${oL}*?`,{cardinality:t.cardinality,lookahead:t.lookahead})}function ZRe(t){return t.right?Ec(`[${eE(t.left)}-${eE(t.right)}]`,{cardinality:t.cardinality,lookahead:t.lookahead,wrap:!1}):Ec(eE(t.left),{cardinality:t.cardinality,lookahead:t.lookahead,wrap:!1})}function eE(t){return i6(t.value)}function Ec(t,e){var r;return(e.wrap!==!1||e.lookahead)&&(t=`(${(r=e.lookahead)!==null&&r!==void 0?r:""}${t})`),e.cardinality?`${t}${e.cardinality}`:t}function JRe(t){const e=[],r=t.Grammar;for(const n of r.rules)wf(n)&&URe(n)&&DRe(sL(n))&&e.push(n.name);return{multilineCommentRules:e,nameRegexp:XNe}}function sC(t){console&&console.error&&console.error(`Error: ${t}`)}function wee(t){console&&console.warn&&console.warn(`Warning: ${t}`)}function kee(t){const e=new Date().getTime(),r=t();return{time:new Date().getTime()-e,value:r}}function Tee(t){function e(){}e.prototype=t;const r=new e;function n(){return typeof r.bar}return n(),n(),t}function eMe(t){return tMe(t)?t.LABEL:t.name}function tMe(t){return hs(t.LABEL)&&t.LABEL!==""}class Vl{get definition(){return this._definition}set definition(e){this._definition=e}constructor(e){this._definition=e}accept(e){e.visit(this),Fe(this.definition,r=>{r.accept(e)})}}class Pa extends Vl{constructor(e){super([]),this.idx=1,Ds(this,el(e,r=>r!==void 0))}set definition(e){}get definition(){return this.referencedRule!==void 0?this.referencedRule.definition:[]}accept(e){e.visit(this)}}class $g extends Vl{constructor(e){super(e.definition),this.orgText="",Ds(this,el(e,r=>r!==void 0))}}class ds extends Vl{constructor(e){super(e.definition),this.ignoreAmbiguities=!1,Ds(this,el(e,r=>r!==void 0))}}let Yi=class extends Vl{constructor(e){super(e.definition),this.idx=1,Ds(this,el(e,r=>r!==void 0))}};class Bs extends Vl{constructor(e){super(e.definition),this.idx=1,Ds(this,el(e,r=>r!==void 0))}}class $s extends Vl{constructor(e){super(e.definition),this.idx=1,Ds(this,el(e,r=>r!==void 0))}}class Nn extends Vl{constructor(e){super(e.definition),this.idx=1,Ds(this,el(e,r=>r!==void 0))}}class ms extends Vl{constructor(e){super(e.definition),this.idx=1,Ds(this,el(e,r=>r!==void 0))}}class vs extends Vl{get definition(){return this._definition}set definition(e){this._definition=e}constructor(e){super(e.definition),this.idx=1,this.ignoreAmbiguities=!1,this.hasPredicates=!1,Ds(this,el(e,r=>r!==void 0))}}class fn{constructor(e){this.idx=1,Ds(this,el(e,r=>r!==void 0))}accept(e){e.visit(this)}}function rMe(t){return ht(t,Sb)}function Sb(t){function e(r){return ht(r,Sb)}if(t instanceof Pa){const r={type:"NonTerminal",name:t.nonTerminalName,idx:t.idx};return hs(t.label)&&(r.label=t.label),r}else{if(t instanceof ds)return{type:"Alternative",definition:e(t.definition)};if(t instanceof Yi)return{type:"Option",idx:t.idx,definition:e(t.definition)};if(t instanceof Bs)return{type:"RepetitionMandatory",idx:t.idx,definition:e(t.definition)};if(t instanceof $s)return{type:"RepetitionMandatoryWithSeparator",idx:t.idx,separator:Sb(new fn({terminalType:t.separator})),definition:e(t.definition)};if(t instanceof ms)return{type:"RepetitionWithSeparator",idx:t.idx,separator:Sb(new fn({terminalType:t.separator})),definition:e(t.definition)};if(t instanceof Nn)return{type:"Repetition",idx:t.idx,definition:e(t.definition)};if(t instanceof vs)return{type:"Alternation",idx:t.idx,definition:e(t.definition)};if(t instanceof fn){const r={type:"Terminal",name:t.terminalType.name,label:eMe(t.terminalType),idx:t.idx};hs(t.label)&&(r.terminalLabel=t.label);const n=t.terminalType.PATTERN;return t.terminalType.PATTERN&&(r.pattern=$c(n)?n.source:n),r}else{if(t instanceof $g)return{type:"Rule",name:t.name,orgText:t.orgText,definition:e(t.definition)};throw Error("non exhaustive match")}}}class zg{visit(e){const r=e;switch(r.constructor){case Pa:return this.visitNonTerminal(r);case ds:return this.visitAlternative(r);case Yi:return this.visitOption(r);case Bs:return this.visitRepetitionMandatory(r);case $s:return this.visitRepetitionMandatoryWithSeparator(r);case ms:return this.visitRepetitionWithSeparator(r);case Nn:return this.visitRepetition(r);case vs:return this.visitAlternation(r);case fn:return this.visitTerminal(r);case $g:return this.visitRule(r);default:throw Error("non exhaustive match")}}visitNonTerminal(e){}visitAlternative(e){}visitOption(e){}visitRepetition(e){}visitRepetitionMandatory(e){}visitRepetitionMandatoryWithSeparator(e){}visitRepetitionWithSeparator(e){}visitAlternation(e){}visitTerminal(e){}visitRule(e){}}function nMe(t){return t instanceof ds||t instanceof Yi||t instanceof Nn||t instanceof Bs||t instanceof $s||t instanceof ms||t instanceof fn||t instanceof $g}function I3(t,e=[]){return t instanceof Yi||t instanceof Nn||t instanceof ms?!0:t instanceof vs?PZ(t.definition,n=>I3(n,e)):t instanceof Pa&&Va(e,t)?!1:t instanceof Vl?(t instanceof Pa&&e.push(t),Go(t.definition,n=>I3(n,e))):!1}function iMe(t){return t instanceof vs}function dl(t){if(t instanceof Pa)return"SUBRULE";if(t instanceof Yi)return"OPTION";if(t instanceof vs)return"OR";if(t instanceof Bs)return"AT_LEAST_ONE";if(t instanceof $s)return"AT_LEAST_ONE_SEP";if(t instanceof ms)return"MANY_SEP";if(t instanceof Nn)return"MANY";if(t instanceof fn)return"CONSUME";throw Error("non exhaustive match")}class s6{walk(e,r=[]){Fe(e.definition,(n,i)=>{const a=Pi(e.definition,i+1);if(n instanceof Pa)this.walkProdRef(n,a,r);else if(n instanceof fn)this.walkTerminal(n,a,r);else if(n instanceof ds)this.walkFlat(n,a,r);else if(n instanceof Yi)this.walkOption(n,a,r);else if(n instanceof Bs)this.walkAtLeastOne(n,a,r);else if(n instanceof $s)this.walkAtLeastOneSep(n,a,r);else if(n instanceof ms)this.walkManySep(n,a,r);else if(n instanceof Nn)this.walkMany(n,a,r);else if(n instanceof vs)this.walkOr(n,a,r);else throw Error("non exhaustive match")})}walkTerminal(e,r,n){}walkProdRef(e,r,n){}walkFlat(e,r,n){const i=r.concat(n);this.walk(e,i)}walkOption(e,r,n){const i=r.concat(n);this.walk(e,i)}walkAtLeastOne(e,r,n){const i=[new Yi({definition:e.definition})].concat(r,n);this.walk(e,i)}walkAtLeastOneSep(e,r,n){const i=dP(e,r,n);this.walk(e,i)}walkMany(e,r,n){const i=[new Yi({definition:e.definition})].concat(r,n);this.walk(e,i)}walkManySep(e,r,n){const i=dP(e,r,n);this.walk(e,i)}walkOr(e,r,n){const i=r.concat(n);Fe(e.definition,a=>{const s=new ds({definition:[a]});this.walk(s,i)})}}function dP(t,e,r){return[new Yi({definition:[new fn({terminalType:t.separator})].concat(t.definition)})].concat(e,r)}function Hy(t){if(t instanceof Pa)return Hy(t.referencedRule);if(t instanceof fn)return oMe(t);if(nMe(t))return aMe(t);if(iMe(t))return sMe(t);throw Error("non exhaustive match")}function aMe(t){let e=[];const r=t.definition;let n=0,i=r.length>n,a,s=!0;for(;i&&s;)a=r[n],s=I3(a),e=e.concat(Hy(a)),n=n+1,i=r.length>n;return B9(e)}function sMe(t){const e=ht(t.definition,r=>Hy(r));return B9(Ai(e))}function oMe(t){return[t.terminalType]}const Eee="_~IN~_";class lMe extends s6{constructor(e){super(),this.topProd=e,this.follows={}}startWalking(){return this.walk(this.topProd),this.follows}walkTerminal(e,r,n){}walkProdRef(e,r,n){const i=uMe(e.referencedRule,e.idx)+this.topProd.name,a=r.concat(n),s=new ds({definition:a}),o=Hy(s);this.follows[i]=o}}function cMe(t){const e={};return Fe(t,r=>{const n=new lMe(r).startWalking();Ds(e,n)}),e}function uMe(t,e){return t.name+e+Eee}let Cb={};const hMe=new fee;function o6(t){const e=t.toString();if(Cb.hasOwnProperty(e))return Cb[e];{const r=hMe.pattern(e);return Cb[e]=r,r}}function dMe(){Cb={}}const See="Complement Sets are not supported for first char optimization",D3=`Unable to use "first char" lexer optimizations:
`;function fMe(t,e=!1){try{const r=o6(t);return oC(r.value,{},r.flags.ignoreCase)}catch(r){if(r.message===See)e&&wee(`${D3}	Unable to optimize: < ${t.toString()} >
	Complement Sets cannot be automatically optimized.
	This will disable the lexer's first char optimizations.
	See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#COMPLEMENT for details.`);else{let n="";e&&(n=`
	This will disable the lexer's first char optimizations.
	See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#REGEXP_PARSING for details.`),sC(`${D3}
	Failed parsing: < ${t.toString()} >
	Using the @chevrotain/regexp-to-ast library
	Please open an issue at: https://github.com/chevrotain/chevrotain/issues`+n)}}return[]}function oC(t,e,r){switch(t.type){case"Disjunction":for(let i=0;i<t.value.length;i++)oC(t.value[i],e,r);break;case"Alternative":const n=t.value;for(let i=0;i<n.length;i++){const a=n[i];switch(a.type){case"EndAnchor":case"GroupBackReference":case"Lookahead":case"NegativeLookahead":case"StartAnchor":case"WordBoundary":case"NonWordBoundary":continue}const s=a;switch(s.type){case"Character":xx(s.value,e,r);break;case"Set":if(s.complement===!0)throw Error(See);Fe(s.value,l=>{if(typeof l=="number")xx(l,e,r);else{const u=l;if(r===!0)for(let h=u.from;h<=u.to;h++)xx(h,e,r);else{for(let h=u.from;h<=u.to&&h<im;h++)xx(h,e,r);if(u.to>=im){const h=u.from>=im?u.from:im,d=u.to,p=sh(h),f=sh(d);for(let g=p;g<=f;g++)e[g]=g}}}});break;case"Group":oC(s.value,e,r);break;default:throw Error("Non Exhaustive Match")}const o=s.quantifier!==void 0&&s.quantifier.atLeast===0;if(s.type==="Group"&&lC(s)===!1||s.type!=="Group"&&o===!1)break}break;default:throw Error("non exhaustive match!")}return Vr(e)}function xx(t,e,r){const n=sh(t);e[n]=n,r===!0&&pMe(t,e)}function pMe(t,e){const r=String.fromCharCode(t),n=r.toUpperCase();if(n!==r){const i=sh(n.charCodeAt(0));e[i]=i}else{const i=r.toLowerCase();if(i!==r){const a=sh(i.charCodeAt(0));e[a]=a}}}function fP(t,e){return Bc(t.value,r=>{if(typeof r=="number")return Va(e,r);{const n=r;return Bc(e,i=>n.from<=i&&i<=n.to)!==void 0}})}function lC(t){const e=t.quantifier;return e&&e.atLeast===0?!0:t.value?dr(t.value)?Go(t.value,lC):lC(t.value):!1}class gMe extends n6{constructor(e){super(),this.targetCharCodes=e,this.found=!1}visitChildren(e){if(this.found!==!0){switch(e.type){case"Lookahead":this.visitLookahead(e);return;case"NegativeLookahead":this.visitNegativeLookahead(e);return}super.visitChildren(e)}}visitCharacter(e){Va(this.targetCharCodes,e.value)&&(this.found=!0)}visitSet(e){e.complement?fP(e,this.targetCharCodes)===void 0&&(this.found=!0):fP(e,this.targetCharCodes)!==void 0&&(this.found=!0)}}function lL(t,e){if(e instanceof RegExp){const r=o6(e),n=new gMe(t);return n.visit(r),n.found}else return Bc(e,r=>Va(t,r.charCodeAt(0)))!==void 0}const Gd="PATTERN",nm="defaultMode",bx="modes";let Cee=typeof new RegExp("(?:)").sticky=="boolean";function mMe(t,e){e=Hw(e,{useSticky:Cee,debug:!1,safeMode:!1,positionTracking:"full",lineTerminatorCharacters:["\r",`
`],tracer:(x,w)=>w()});const r=e.tracer;r("initCharCodeToOptimizedIndexMap",()=>{$Me()});let n;r("Reject Lexer.NA",()=>{n=qw(t,x=>x[Gd]===ls.NA)});let i=!1,a;r("Transform Patterns",()=>{i=!1,a=ht(n,x=>{const w=x[Gd];if($c(w)){const k=w.source;return k.length===1&&k!=="^"&&k!=="$"&&k!=="."&&!w.ignoreCase?k:k.length===2&&k[0]==="\\"&&!Va(["d","D","s","S","t","r","n","t","0","c","b","B","f","v","w","W"],k[1])?k[1]:e.useSticky?gP(w):pP(w)}else{if(fo(w))return i=!0,{exec:w};if(typeof w=="object")return i=!0,w;if(typeof w=="string"){if(w.length===1)return w;{const k=w.replace(/[\\^$.*+?()[\]{}|]/g,"\\$&"),E=new RegExp(k);return e.useSticky?gP(E):pP(E)}}else throw Error("non exhaustive match")}})});let s,o,l,u,h;r("misc mapping",()=>{s=ht(n,x=>x.tokenTypeIdx),o=ht(n,x=>{const w=x.GROUP;if(w!==ls.SKIPPED){if(hs(w))return w;if(Dr(w))return!1;throw Error("non exhaustive match")}}),l=ht(n,x=>{const w=x.LONGER_ALT;if(w)return dr(w)?ht(w,E=>$O(n,E)):[$O(n,w)]}),u=ht(n,x=>x.PUSH_MODE),h=ht(n,x=>pt(x,"POP_MODE"))});let d;r("Line Terminator Handling",()=>{const x=Lee(e.lineTerminatorCharacters);d=ht(n,w=>!1),e.positionTracking!=="onlyOffset"&&(d=ht(n,w=>pt(w,"LINE_BREAKS")?!!w.LINE_BREAKS:_ee(w,x)===!1&&lL(x,w.PATTERN)))});let p,f,g,m;r("Misc Mapping #2",()=>{p=ht(n,Aee),f=ht(a,PMe),g=Jn(n,(x,w)=>{const k=w.GROUP;return hs(k)&&k!==ls.SKIPPED&&(x[k]=[]),x},{}),m=ht(a,(x,w)=>({pattern:a[w],longerAlt:l[w],canLineTerminator:d[w],isCustom:p[w],short:f[w],group:o[w],push:u[w],pop:h[w],tokenTypeIdx:s[w],tokenType:n[w]}))});let y=!0,v=[];return e.safeMode||r("First Char Optimization",()=>{v=Jn(n,(x,w,k)=>{if(typeof w.PATTERN=="string"){const E=w.PATTERN.charCodeAt(0),_=sh(E);tE(x,_,m[k])}else if(dr(w.START_CHARS_HINT)){let E;Fe(w.START_CHARS_HINT,_=>{const S=typeof _=="string"?_.charCodeAt(0):_,R=sh(S);E!==R&&(E=R,tE(x,R,m[k]))})}else if($c(w.PATTERN))if(w.PATTERN.unicode)y=!1,e.ensureOptimizations&&sC(`${D3}	Unable to analyze < ${w.PATTERN.toString()} > pattern.
	The regexp unicode flag is not currently supported by the regexp-to-ast library.
	This will disable the lexer's first char optimizations.
	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#UNICODE_OPTIMIZE`);else{const E=fMe(w.PATTERN,e.ensureOptimizations);Lr(E)&&(y=!1),Fe(E,_=>{tE(x,_,m[k])})}else e.ensureOptimizations&&sC(`${D3}	TokenType: <${w.name}> is using a custom token pattern without providing <start_chars_hint> parameter.
	This will disable the lexer's first char optimizations.
	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#CUSTOM_OPTIMIZE`),y=!1;return x},[])}),{emptyGroups:g,patternIdxToConfig:m,charCodeToPatternIdxToConfig:v,hasCustom:i,canBeOptimized:y}}function vMe(t,e){let r=[];const n=xMe(t);r=r.concat(n.errors);const i=bMe(n.valid),a=i.valid;return r=r.concat(i.errors),r=r.concat(yMe(a)),r=r.concat(_Me(a)),r=r.concat(LMe(a,e)),r=r.concat(NMe(a)),r}function yMe(t){let e=[];const r=Mn(t,n=>$c(n[Gd]));return e=e.concat(kMe(r)),e=e.concat(SMe(r)),e=e.concat(CMe(r)),e=e.concat(AMe(r)),e=e.concat(TMe(r)),e}function xMe(t){const e=Mn(t,i=>!pt(i,Gd)),r=ht(e,i=>({message:"Token Type: ->"+i.name+"<- missing static 'PATTERN' property",type:Rn.MISSING_PATTERN,tokenTypes:[i]})),n=Ww(t,e);return{errors:r,valid:n}}function bMe(t){const e=Mn(t,i=>{const a=i[Gd];return!$c(a)&&!fo(a)&&!pt(a,"exec")&&!hs(a)}),r=ht(e,i=>({message:"Token Type: ->"+i.name+"<- static 'PATTERN' can only be a RegExp, a Function matching the {CustomPatternMatcherFunc} type or an Object matching the {ICustomPattern} interface.",type:Rn.INVALID_PATTERN,tokenTypes:[i]})),n=Ww(t,e);return{errors:r,valid:n}}const wMe=/[^\\][$]/;function kMe(t){class e extends n6{constructor(){super(...arguments),this.found=!1}visitEndAnchor(a){this.found=!0}}const r=Mn(t,i=>{const a=i.PATTERN;try{const s=o6(a),o=new e;return o.visit(s),o.found}catch{return wMe.test(a.source)}});return ht(r,i=>({message:`Unexpected RegExp Anchor Error:
	Token Type: ->`+i.name+`<- static 'PATTERN' cannot contain end of input anchor '$'
	See chevrotain.io/docs/guide/resolving_lexer_errors.html#ANCHORS	for details.`,type:Rn.EOI_ANCHOR_FOUND,tokenTypes:[i]}))}function TMe(t){const e=Mn(t,n=>n.PATTERN.test(""));return ht(e,n=>({message:"Token Type: ->"+n.name+"<- static 'PATTERN' must not match an empty string",type:Rn.EMPTY_MATCH_PATTERN,tokenTypes:[n]}))}const EMe=/[^\\[][\^]|^\^/;function SMe(t){class e extends n6{constructor(){super(...arguments),this.found=!1}visitStartAnchor(a){this.found=!0}}const r=Mn(t,i=>{const a=i.PATTERN;try{const s=o6(a),o=new e;return o.visit(s),o.found}catch{return EMe.test(a.source)}});return ht(r,i=>({message:`Unexpected RegExp Anchor Error:
	Token Type: ->`+i.name+`<- static 'PATTERN' cannot contain start of input anchor '^'
	See https://chevrotain.io/docs/guide/resolving_lexer_errors.html#ANCHORS	for details.`,type:Rn.SOI_ANCHOR_FOUND,tokenTypes:[i]}))}function CMe(t){const e=Mn(t,n=>{const i=n[Gd];return i instanceof RegExp&&(i.multiline||i.global)});return ht(e,n=>({message:"Token Type: ->"+n.name+"<- static 'PATTERN' may NOT contain global('g') or multiline('m')",type:Rn.UNSUPPORTED_FLAGS_FOUND,tokenTypes:[n]}))}function AMe(t){const e=[];let r=ht(t,a=>Jn(t,(s,o)=>(a.PATTERN.source===o.PATTERN.source&&!Va(e,o)&&o.PATTERN!==ls.NA&&(e.push(o),s.push(o)),s),[]));r=zy(r);const n=Mn(r,a=>a.length>1);return ht(n,a=>{const s=ht(a,l=>l.name);return{message:`The same RegExp pattern ->${Qo(a).PATTERN}<-has been used in all of the following Token Types: ${s.join(", ")} <-`,type:Rn.DUPLICATE_PATTERNS_FOUND,tokenTypes:a}})}function _Me(t){const e=Mn(t,n=>{if(!pt(n,"GROUP"))return!1;const i=n.GROUP;return i!==ls.SKIPPED&&i!==ls.NA&&!hs(i)});return ht(e,n=>({message:"Token Type: ->"+n.name+"<- static 'GROUP' can only be Lexer.SKIPPED/Lexer.NA/A String",type:Rn.INVALID_GROUP_TYPE_FOUND,tokenTypes:[n]}))}function LMe(t,e){const r=Mn(t,i=>i.PUSH_MODE!==void 0&&!Va(e,i.PUSH_MODE));return ht(r,i=>({message:`Token Type: ->${i.name}<- static 'PUSH_MODE' value cannot refer to a Lexer Mode ->${i.PUSH_MODE}<-which does not exist`,type:Rn.PUSH_MODE_DOES_NOT_EXIST,tokenTypes:[i]}))}function NMe(t){const e=[],r=Jn(t,(n,i,a)=>{const s=i.PATTERN;return s===ls.NA||(hs(s)?n.push({str:s,idx:a,tokenType:i}):$c(s)&&MMe(s)&&n.push({str:s.source,idx:a,tokenType:i})),n},[]);return Fe(t,(n,i)=>{Fe(r,({str:a,idx:s,tokenType:o})=>{if(i<s&&RMe(a,n.PATTERN)){const l=`Token: ->${o.name}<- can never be matched.
Because it appears AFTER the Token Type ->${n.name}<-in the lexer's definition.
See https://chevrotain.io/docs/guide/resolving_lexer_errors.html#UNREACHABLE`;e.push({message:l,type:Rn.UNREACHABLE_PATTERN,tokenTypes:[n,o]})}})}),e}function RMe(t,e){if($c(e)){const r=e.exec(t);return r!==null&&r.index===0}else{if(fo(e))return e(t,0,[],{});if(pt(e,"exec"))return e.exec(t,0,[],{});if(typeof e=="string")return e===t;throw Error("non exhaustive match")}}function MMe(t){return Bc([".","\\","[","]","|","^","$","(",")","?","*","+","{"],r=>t.source.indexOf(r)!==-1)===void 0}function pP(t){const e=t.ignoreCase?"i":"";return new RegExp(`^(?:${t.source})`,e)}function gP(t){const e=t.ignoreCase?"iy":"y";return new RegExp(`${t.source}`,e)}function IMe(t,e,r){const n=[];return pt(t,nm)||n.push({message:"A MultiMode Lexer cannot be initialized without a <"+nm+`> property in its definition
`,type:Rn.MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE}),pt(t,bx)||n.push({message:"A MultiMode Lexer cannot be initialized without a <"+bx+`> property in its definition
`,type:Rn.MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY}),pt(t,bx)&&pt(t,nm)&&!pt(t.modes,t.defaultMode)&&n.push({message:`A MultiMode Lexer cannot be initialized with a ${nm}: <${t.defaultMode}>which does not exist
`,type:Rn.MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST}),pt(t,bx)&&Fe(t.modes,(i,a)=>{Fe(i,(s,o)=>{if(Dr(s))n.push({message:`A Lexer cannot be initialized using an undefined Token Type. Mode:<${a}> at index: <${o}>
`,type:Rn.LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED});else if(pt(s,"LONGER_ALT")){const l=dr(s.LONGER_ALT)?s.LONGER_ALT:[s.LONGER_ALT];Fe(l,u=>{!Dr(u)&&!Va(i,u)&&n.push({message:`A MultiMode Lexer cannot be initialized with a longer_alt <${u.name}> on token <${s.name}> outside of mode <${a}>
`,type:Rn.MULTI_MODE_LEXER_LONGER_ALT_NOT_IN_CURRENT_MODE})})}})}),n}function DMe(t,e,r){const n=[];let i=!1;const a=zy(Ai(Vr(t.modes))),s=qw(a,l=>l[Gd]===ls.NA),o=Lee(r);return e&&Fe(s,l=>{const u=_ee(l,o);if(u!==!1){const d={message:BMe(l,u),type:u.issue,tokenType:l};n.push(d)}else pt(l,"LINE_BREAKS")?l.LINE_BREAKS===!0&&(i=!0):lL(o,l.PATTERN)&&(i=!0)}),e&&!i&&n.push({message:`Warning: No LINE_BREAKS Found.
	This Lexer has been defined to track line and column information,
	But none of the Token Types can be identified as matching a line terminator.
	See https://chevrotain.io/docs/guide/resolving_lexer_errors.html#LINE_BREAKS 
	for details.`,type:Rn.NO_LINE_BREAKS_FLAGS}),n}function OMe(t){const e={},r=li(t);return Fe(r,n=>{const i=t[n];if(dr(i))e[n]=[];else throw Error("non exhaustive match")}),e}function Aee(t){const e=t.PATTERN;if($c(e))return!1;if(fo(e))return!0;if(pt(e,"exec"))return!0;if(hs(e))return!1;throw Error("non exhaustive match")}function PMe(t){return hs(t)&&t.length===1?t.charCodeAt(0):!1}const FMe={test:function(t){const e=t.length;for(let r=this.lastIndex;r<e;r++){const n=t.charCodeAt(r);if(n===10)return this.lastIndex=r+1,!0;if(n===13)return t.charCodeAt(r+1)===10?this.lastIndex=r+2:this.lastIndex=r+1,!0}return!1},lastIndex:0};function _ee(t,e){if(pt(t,"LINE_BREAKS"))return!1;if($c(t.PATTERN)){try{lL(e,t.PATTERN)}catch(r){return{issue:Rn.IDENTIFY_TERMINATOR,errMsg:r.message}}return!1}else{if(hs(t.PATTERN))return!1;if(Aee(t))return{issue:Rn.CUSTOM_LINE_BREAK};throw Error("non exhaustive match")}}function BMe(t,e){if(e.issue===Rn.IDENTIFY_TERMINATOR)return`Warning: unable to identify line terminator usage in pattern.
	The problem is in the <${t.name}> Token Type
	 Root cause: ${e.errMsg}.
	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#IDENTIFY_TERMINATOR`;if(e.issue===Rn.CUSTOM_LINE_BREAK)return`Warning: A Custom Token Pattern should specify the <line_breaks> option.
	The problem is in the <${t.name}> Token Type
	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#CUSTOM_LINE_BREAK`;throw Error("non exhaustive match")}function Lee(t){return ht(t,r=>hs(r)?r.charCodeAt(0):r)}function tE(t,e,r){t[e]===void 0?t[e]=[r]:t[e].push(r)}const im=256;let Ab=[];function sh(t){return t<im?t:Ab[t]}function $Me(){if(Lr(Ab)){Ab=new Array(65536);for(let t=0;t<65536;t++)Ab[t]=t>255?255+~~(t/255):t}}function Wy(t,e){const r=t.tokenTypeIdx;return r===e.tokenTypeIdx?!0:e.isParent===!0&&e.categoryMatchesMap[r]===!0}function O3(t,e){return t.tokenTypeIdx===e.tokenTypeIdx}let mP=1;const Nee={};function Yy(t){const e=zMe(t);UMe(e),GMe(e),VMe(e),Fe(e,r=>{r.isParent=r.categoryMatches.length>0})}function zMe(t){let e=gi(t),r=t,n=!0;for(;n;){r=zy(Ai(ht(r,a=>a.CATEGORIES)));const i=Ww(r,e);e=e.concat(i),Lr(i)?n=!1:r=i}return e}function UMe(t){Fe(t,e=>{Mee(e)||(Nee[mP]=e,e.tokenTypeIdx=mP++),vP(e)&&!dr(e.CATEGORIES)&&(e.CATEGORIES=[e.CATEGORIES]),vP(e)||(e.CATEGORIES=[]),HMe(e)||(e.categoryMatches=[]),WMe(e)||(e.categoryMatchesMap={})})}function VMe(t){Fe(t,e=>{e.categoryMatches=[],Fe(e.categoryMatchesMap,(r,n)=>{e.categoryMatches.push(Nee[n].tokenTypeIdx)})})}function GMe(t){Fe(t,e=>{Ree([],e)})}function Ree(t,e){Fe(t,r=>{e.categoryMatchesMap[r.tokenTypeIdx]=!0}),Fe(e.CATEGORIES,r=>{const n=t.concat(e);Va(n,r)||Ree(n,r)})}function Mee(t){return pt(t,"tokenTypeIdx")}function vP(t){return pt(t,"CATEGORIES")}function HMe(t){return pt(t,"categoryMatches")}function WMe(t){return pt(t,"categoryMatchesMap")}function YMe(t){return pt(t,"tokenTypeIdx")}const qMe={buildUnableToPopLexerModeMessage(t){return`Unable to pop Lexer Mode after encountering Token ->${t.image}<- The Mode Stack is empty`},buildUnexpectedCharactersMessage(t,e,r,n,i){return`unexpected character: ->${t.charAt(e)}<- at offset: ${e}, skipped ${r} characters.`}};var Rn;(function(t){t[t.MISSING_PATTERN=0]="MISSING_PATTERN",t[t.INVALID_PATTERN=1]="INVALID_PATTERN",t[t.EOI_ANCHOR_FOUND=2]="EOI_ANCHOR_FOUND",t[t.UNSUPPORTED_FLAGS_FOUND=3]="UNSUPPORTED_FLAGS_FOUND",t[t.DUPLICATE_PATTERNS_FOUND=4]="DUPLICATE_PATTERNS_FOUND",t[t.INVALID_GROUP_TYPE_FOUND=5]="INVALID_GROUP_TYPE_FOUND",t[t.PUSH_MODE_DOES_NOT_EXIST=6]="PUSH_MODE_DOES_NOT_EXIST",t[t.MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE=7]="MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE",t[t.MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY=8]="MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY",t[t.MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST=9]="MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST",t[t.LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED=10]="LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED",t[t.SOI_ANCHOR_FOUND=11]="SOI_ANCHOR_FOUND",t[t.EMPTY_MATCH_PATTERN=12]="EMPTY_MATCH_PATTERN",t[t.NO_LINE_BREAKS_FLAGS=13]="NO_LINE_BREAKS_FLAGS",t[t.UNREACHABLE_PATTERN=14]="UNREACHABLE_PATTERN",t[t.IDENTIFY_TERMINATOR=15]="IDENTIFY_TERMINATOR",t[t.CUSTOM_LINE_BREAK=16]="CUSTOM_LINE_BREAK",t[t.MULTI_MODE_LEXER_LONGER_ALT_NOT_IN_CURRENT_MODE=17]="MULTI_MODE_LEXER_LONGER_ALT_NOT_IN_CURRENT_MODE"})(Rn||(Rn={}));const am={deferDefinitionErrorsHandling:!1,positionTracking:"full",lineTerminatorsPattern:/\n|\r\n?/g,lineTerminatorCharacters:[`
`,"\r"],ensureOptimizations:!1,safeMode:!1,errorMessageProvider:qMe,traceInitPerf:!1,skipValidations:!1,recoveryEnabled:!0};Object.freeze(am);class ls{constructor(e,r=am){if(this.lexerDefinition=e,this.lexerDefinitionErrors=[],this.lexerDefinitionWarning=[],this.patternIdxToConfig={},this.charCodeToPatternIdxToConfig={},this.modes=[],this.emptyGroups={},this.trackStartLines=!0,this.trackEndLines=!0,this.hasCustom=!1,this.canModeBeOptimized={},this.TRACE_INIT=(i,a)=>{if(this.traceInitPerf===!0){this.traceInitIndent++;const s=new Array(this.traceInitIndent+1).join("	");this.traceInitIndent<this.traceInitMaxIdent&&console.log(`${s}--> <${i}>`);const{time:o,value:l}=kee(a),u=o>10?console.warn:console.log;return this.traceInitIndent<this.traceInitMaxIdent&&u(`${s}<-- <${i}> time: ${o}ms`),this.traceInitIndent--,l}else return a()},typeof r=="boolean")throw Error(`The second argument to the Lexer constructor is now an ILexerConfig Object.
a boolean 2nd argument is no longer supported`);this.config=Ds({},am,r);const n=this.config.traceInitPerf;n===!0?(this.traceInitMaxIdent=1/0,this.traceInitPerf=!0):typeof n=="number"&&(this.traceInitMaxIdent=n,this.traceInitPerf=!0),this.traceInitIndent=-1,this.TRACE_INIT("Lexer Constructor",()=>{let i,a=!0;this.TRACE_INIT("Lexer Config handling",()=>{if(this.config.lineTerminatorsPattern===am.lineTerminatorsPattern)this.config.lineTerminatorsPattern=FMe;else if(this.config.lineTerminatorCharacters===am.lineTerminatorCharacters)throw Error(`Error: Missing <lineTerminatorCharacters> property on the Lexer config.
	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#MISSING_LINE_TERM_CHARS`);if(r.safeMode&&r.ensureOptimizations)throw Error('"safeMode" and "ensureOptimizations" flags are mutually exclusive.');this.trackStartLines=/full|onlyStart/i.test(this.config.positionTracking),this.trackEndLines=/full/i.test(this.config.positionTracking),dr(e)?i={modes:{defaultMode:gi(e)},defaultMode:nm}:(a=!1,i=gi(e))}),this.config.skipValidations===!1&&(this.TRACE_INIT("performRuntimeChecks",()=>{this.lexerDefinitionErrors=this.lexerDefinitionErrors.concat(IMe(i,this.trackStartLines,this.config.lineTerminatorCharacters))}),this.TRACE_INIT("performWarningRuntimeChecks",()=>{this.lexerDefinitionWarning=this.lexerDefinitionWarning.concat(DMe(i,this.trackStartLines,this.config.lineTerminatorCharacters))})),i.modes=i.modes?i.modes:{},Fe(i.modes,(o,l)=>{i.modes[l]=qw(o,u=>Dr(u))});const s=li(i.modes);if(Fe(i.modes,(o,l)=>{this.TRACE_INIT(`Mode: <${l}> processing`,()=>{if(this.modes.push(l),this.config.skipValidations===!1&&this.TRACE_INIT("validatePatterns",()=>{this.lexerDefinitionErrors=this.lexerDefinitionErrors.concat(vMe(o,s))}),Lr(this.lexerDefinitionErrors)){Yy(o);let u;this.TRACE_INIT("analyzeTokenTypes",()=>{u=mMe(o,{lineTerminatorCharacters:this.config.lineTerminatorCharacters,positionTracking:r.positionTracking,ensureOptimizations:r.ensureOptimizations,safeMode:r.safeMode,tracer:this.TRACE_INIT})}),this.patternIdxToConfig[l]=u.patternIdxToConfig,this.charCodeToPatternIdxToConfig[l]=u.charCodeToPatternIdxToConfig,this.emptyGroups=Ds({},this.emptyGroups,u.emptyGroups),this.hasCustom=u.hasCustom||this.hasCustom,this.canModeBeOptimized[l]=u.canBeOptimized}})}),this.defaultMode=i.defaultMode,!Lr(this.lexerDefinitionErrors)&&!this.config.deferDefinitionErrorsHandling){const l=ht(this.lexerDefinitionErrors,u=>u.message).join(`-----------------------
`);throw new Error(`Errors detected in definition of Lexer:
`+l)}Fe(this.lexerDefinitionWarning,o=>{wee(o.message)}),this.TRACE_INIT("Choosing sub-methods implementations",()=>{if(Cee?(this.chopInput=Mc,this.match=this.matchWithTest):(this.updateLastIndex=ri,this.match=this.matchWithExec),a&&(this.handleModes=ri),this.trackStartLines===!1&&(this.computeNewColumn=Mc),this.trackEndLines===!1&&(this.updateTokenEndLineColumnLocation=ri),/full/i.test(this.config.positionTracking))this.createTokenInstance=this.createFullToken;else if(/onlyStart/i.test(this.config.positionTracking))this.createTokenInstance=this.createStartOnlyToken;else if(/onlyOffset/i.test(this.config.positionTracking))this.createTokenInstance=this.createOffsetOnlyToken;else throw Error(`Invalid <positionTracking> config option: "${this.config.positionTracking}"`);this.hasCustom?(this.addToken=this.addTokenUsingPush,this.handlePayload=this.handlePayloadWithCustom):(this.addToken=this.addTokenUsingMemberAccess,this.handlePayload=this.handlePayloadNoCustom)}),this.TRACE_INIT("Failed Optimization Warnings",()=>{const o=Jn(this.canModeBeOptimized,(l,u,h)=>(u===!1&&l.push(h),l),[]);if(r.ensureOptimizations&&!Lr(o))throw Error(`Lexer Modes: < ${o.join(", ")} > cannot be optimized.
	 Disable the "ensureOptimizations" lexer config flag to silently ignore this and run the lexer in an un-optimized mode.
	 Or inspect the console log for details on how to resolve these issues.`)}),this.TRACE_INIT("clearRegExpParserCache",()=>{dMe()}),this.TRACE_INIT("toFastProperties",()=>{Tee(this)})})}tokenize(e,r=this.defaultMode){if(!Lr(this.lexerDefinitionErrors)){const i=ht(this.lexerDefinitionErrors,a=>a.message).join(`-----------------------
`);throw new Error(`Unable to Tokenize because Errors detected in definition of Lexer:
`+i)}return this.tokenizeInternal(e,r)}tokenizeInternal(e,r){let n,i,a,s,o,l,u,h,d,p,f,g,m,y,v;const x=e,w=x.length;let k=0,E=0;const _=this.hasCustom?0:Math.floor(e.length/10),S=new Array(_),R=[];let C=this.trackStartLines?1:void 0,L=this.trackStartLines?1:void 0;const A=OMe(this.emptyGroups),N=this.trackStartLines,F=this.config.lineTerminatorsPattern;let T=0,D=[],M=[];const O=[],I=[];Object.freeze(I);let P;function B(){return D}function $(H){const ee=sh(H),te=M[ee];return te===void 0?I:te}const V=H=>{if(O.length===1&&H.tokenType.PUSH_MODE===void 0){const ee=this.config.errorMessageProvider.buildUnableToPopLexerModeMessage(H);R.push({offset:H.startOffset,line:H.startLine,column:H.startColumn,length:H.image.length,message:ee})}else{O.pop();const ee=_l(O);D=this.patternIdxToConfig[ee],M=this.charCodeToPatternIdxToConfig[ee],T=D.length;const te=this.canModeBeOptimized[ee]&&this.config.safeMode===!1;M&&te?P=$:P=B}};function W(H){O.push(H),M=this.charCodeToPatternIdxToConfig[H],D=this.patternIdxToConfig[H],T=D.length,T=D.length;const ee=this.canModeBeOptimized[H]&&this.config.safeMode===!1;M&&ee?P=$:P=B}W.call(this,r);let K;const Z=this.config.recoveryEnabled;for(;k<w;){l=null;const H=x.charCodeAt(k),ee=P(H),te=ee.length;for(n=0;n<te;n++){K=ee[n];const U=K.pattern;u=null;const j=K.short;if(j!==!1?H===j&&(l=U):K.isCustom===!0?(v=U.exec(x,k,S,A),v!==null?(l=v[0],v.payload!==void 0&&(u=v.payload)):l=null):(this.updateLastIndex(U,k),l=this.match(U,e,k)),l!==null){if(o=K.longerAlt,o!==void 0){const Y=o.length;for(a=0;a<Y;a++){const Q=D[o[a]],ae=Q.pattern;if(h=null,Q.isCustom===!0?(v=ae.exec(x,k,S,A),v!==null?(s=v[0],v.payload!==void 0&&(h=v.payload)):s=null):(this.updateLastIndex(ae,k),s=this.match(ae,e,k)),s&&s.length>l.length){l=s,u=h,K=Q;break}}}break}}if(l!==null){if(d=l.length,p=K.group,p!==void 0&&(f=K.tokenTypeIdx,g=this.createTokenInstance(l,k,f,K.tokenType,C,L,d),this.handlePayload(g,u),p===!1?E=this.addToken(S,E,g):A[p].push(g)),e=this.chopInput(e,d),k=k+d,L=this.computeNewColumn(L,d),N===!0&&K.canLineTerminator===!0){let U=0,j,Y;F.lastIndex=0;do j=F.test(l),j===!0&&(Y=F.lastIndex-1,U++);while(j===!0);U!==0&&(C=C+U,L=d-Y,this.updateTokenEndLineColumnLocation(g,p,Y,U,C,L,d))}this.handleModes(K,V,W,g)}else{const U=k,j=C,Y=L;let Q=Z===!1;for(;Q===!1&&k<w;)for(e=this.chopInput(e,1),k++,i=0;i<T;i++){const ae=D[i],ie=ae.pattern,J=ae.short;if(J!==!1?x.charCodeAt(k)===J&&(Q=!0):ae.isCustom===!0?Q=ie.exec(x,k,S,A)!==null:(this.updateLastIndex(ie,k),Q=ie.exec(e)!==null),Q===!0)break}if(m=k-U,L=this.computeNewColumn(L,m),y=this.config.errorMessageProvider.buildUnexpectedCharactersMessage(x,U,m,j,Y),R.push({offset:U,line:j,column:Y,length:m,message:y}),Z===!1)break}}return this.hasCustom||(S.length=E),{tokens:S,groups:A,errors:R}}handleModes(e,r,n,i){if(e.pop===!0){const a=e.push;r(i),a!==void 0&&n.call(this,a)}else e.push!==void 0&&n.call(this,e.push)}chopInput(e,r){return e.substring(r)}updateLastIndex(e,r){e.lastIndex=r}updateTokenEndLineColumnLocation(e,r,n,i,a,s,o){let l,u;r!==void 0&&(l=n===o-1,u=l?-1:0,i===1&&l===!0||(e.endLine=a+u,e.endColumn=s-1+-u))}computeNewColumn(e,r){return e+r}createOffsetOnlyToken(e,r,n,i){return{image:e,startOffset:r,tokenTypeIdx:n,tokenType:i}}createStartOnlyToken(e,r,n,i,a,s){return{image:e,startOffset:r,startLine:a,startColumn:s,tokenTypeIdx:n,tokenType:i}}createFullToken(e,r,n,i,a,s,o){return{image:e,startOffset:r,endOffset:r+o-1,startLine:a,endLine:a,startColumn:s,endColumn:s+o-1,tokenTypeIdx:n,tokenType:i}}addTokenUsingPush(e,r,n){return e.push(n),r}addTokenUsingMemberAccess(e,r,n){return e[r]=n,r++,r}handlePayloadNoCustom(e,r){}handlePayloadWithCustom(e,r){r!==null&&(e.payload=r)}matchWithTest(e,r,n){return e.test(r)===!0?r.substring(n,e.lastIndex):null}matchWithExec(e,r){const n=e.exec(r);return n!==null?n[0]:null}}ls.SKIPPED="This marks a skipped Token pattern, this means each token identified by it willbe consumed and then thrown into oblivion, this can be used to for example to completely ignore whitespace.";ls.NA=/NOT_APPLICABLE/;function L0(t){return Iee(t)?t.LABEL:t.name}function Iee(t){return hs(t.LABEL)&&t.LABEL!==""}const jMe="parent",yP="categories",xP="label",bP="group",wP="push_mode",kP="pop_mode",TP="longer_alt",EP="line_breaks",SP="start_chars_hint";function Dee(t){return XMe(t)}function XMe(t){const e=t.pattern,r={};if(r.name=t.name,Dr(e)||(r.PATTERN=e),pt(t,jMe))throw`The parent property is no longer supported.
See: https://github.com/chevrotain/chevrotain/issues/564#issuecomment-349062346 for details.`;return pt(t,yP)&&(r.CATEGORIES=t[yP]),Yy([r]),pt(t,xP)&&(r.LABEL=t[xP]),pt(t,bP)&&(r.GROUP=t[bP]),pt(t,kP)&&(r.POP_MODE=t[kP]),pt(t,wP)&&(r.PUSH_MODE=t[wP]),pt(t,TP)&&(r.LONGER_ALT=t[TP]),pt(t,EP)&&(r.LINE_BREAKS=t[EP]),pt(t,SP)&&(r.START_CHARS_HINT=t[SP]),r}const oh=Dee({name:"EOF",pattern:ls.NA});Yy([oh]);function cL(t,e,r,n,i,a,s,o){return{image:e,startOffset:r,endOffset:n,startLine:i,endLine:a,startColumn:s,endColumn:o,tokenTypeIdx:t.tokenTypeIdx,tokenType:t}}function Oee(t,e){return Wy(t,e)}const u0={buildMismatchTokenMessage({expected:t,actual:e,previous:r,ruleName:n}){return`Expecting ${Iee(t)?`--> ${L0(t)} <--`:`token of type --> ${t.name} <--`} but found --> '${e.image}' <--`},buildNotAllInputParsedMessage({firstRedundant:t,ruleName:e}){return"Redundant input, expecting EOF but found: "+t.image},buildNoViableAltMessage({expectedPathsPerAlt:t,actual:e,previous:r,customUserDescription:n,ruleName:i}){const a="Expecting: ",o=`
but found: '`+Qo(e).image+"'";if(n)return a+n+o;{const l=Jn(t,(p,f)=>p.concat(f),[]),u=ht(l,p=>`[${ht(p,f=>L0(f)).join(", ")}]`),d=`one of these possible Token sequences:
${ht(u,(p,f)=>`  ${f+1}. ${p}`).join(`
`)}`;return a+d+o}},buildEarlyExitMessage({expectedIterationPaths:t,actual:e,customUserDescription:r,ruleName:n}){const i="Expecting: ",s=`
but found: '`+Qo(e).image+"'";if(r)return i+r+s;{const l=`expecting at least one iteration which starts with one of these possible Token sequences::
  <${ht(t,u=>`[${ht(u,h=>L0(h)).join(",")}]`).join(" ,")}>`;return i+l+s}}};Object.freeze(u0);const KMe={buildRuleNotFoundError(t,e){return"Invalid grammar, reference to a rule which is not defined: ->"+e.nonTerminalName+`<-
inside top level rule: ->`+t.name+"<-"}},cd={buildDuplicateFoundError(t,e){function r(h){return h instanceof fn?h.terminalType.name:h instanceof Pa?h.nonTerminalName:""}const n=t.name,i=Qo(e),a=i.idx,s=dl(i),o=r(i),l=a>0;let u=`->${s}${l?a:""}<- ${o?`with argument: ->${o}<-`:""}
                  appears more than once (${e.length} times) in the top level rule: ->${n}<-.                  
                  For further details see: https://chevrotain.io/docs/FAQ.html#NUMERICAL_SUFFIXES 
                  `;return u=u.replace(/[ \t]+/g," "),u=u.replace(/\s\s+/g,`
`),u},buildNamespaceConflictError(t){return`Namespace conflict found in grammar.
The grammar has both a Terminal(Token) and a Non-Terminal(Rule) named: <${t.name}>.
To resolve this make sure each Terminal and Non-Terminal names are unique
This is easy to accomplish by using the convention that Terminal names start with an uppercase letter
and Non-Terminal names start with a lower case letter.`},buildAlternationPrefixAmbiguityError(t){const e=ht(t.prefixPath,i=>L0(i)).join(", "),r=t.alternation.idx===0?"":t.alternation.idx;return`Ambiguous alternatives: <${t.ambiguityIndices.join(" ,")}> due to common lookahead prefix
in <OR${r}> inside <${t.topLevelRule.name}> Rule,
<${e}> may appears as a prefix path in all these alternatives.
See: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#COMMON_PREFIX
For Further details.`},buildAlternationAmbiguityError(t){const e=ht(t.prefixPath,i=>L0(i)).join(", "),r=t.alternation.idx===0?"":t.alternation.idx;let n=`Ambiguous Alternatives Detected: <${t.ambiguityIndices.join(" ,")}> in <OR${r}> inside <${t.topLevelRule.name}> Rule,
<${e}> may appears as a prefix path in all these alternatives.
`;return n=n+`See: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#AMBIGUOUS_ALTERNATIVES
For Further details.`,n},buildEmptyRepetitionError(t){let e=dl(t.repetition);return t.repetition.idx!==0&&(e+=t.repetition.idx),`The repetition <${e}> within Rule <${t.topLevelRule.name}> can never consume any tokens.
This could lead to an infinite loop.`},buildTokenNameError(t){return"deprecated"},buildEmptyAlternationError(t){return`Ambiguous empty alternative: <${t.emptyChoiceIdx+1}> in <OR${t.alternation.idx}> inside <${t.topLevelRule.name}> Rule.
Only the last alternative may be an empty alternative.`},buildTooManyAlternativesError(t){return`An Alternation cannot have more than 256 alternatives:
<OR${t.alternation.idx}> inside <${t.topLevelRule.name}> Rule.
 has ${t.alternation.definition.length+1} alternatives.`},buildLeftRecursionError(t){const e=t.topLevelRule.name,r=ht(t.leftRecursionPath,a=>a.name),n=`${e} --> ${r.concat([e]).join(" --> ")}`;return`Left Recursion found in grammar.
rule: <${e}> can be invoked from itself (directly or indirectly)
without consuming any Tokens. The grammar path that causes this is: 
 ${n}
 To fix this refactor your grammar to remove the left recursion.
see: https://en.wikipedia.org/wiki/LL_parser#Left_factoring.`},buildInvalidRuleNameError(t){return"deprecated"},buildDuplicateRuleNameError(t){let e;return t.topLevelRule instanceof $g?e=t.topLevelRule.name:e=t.topLevelRule,`Duplicate definition, rule: ->${e}<- is already defined in the grammar: ->${t.grammarName}<-`}};function QMe(t,e){const r=new ZMe(t,e);return r.resolveRefs(),r.errors}class ZMe extends zg{constructor(e,r){super(),this.nameToTopRule=e,this.errMsgProvider=r,this.errors=[]}resolveRefs(){Fe(Vr(this.nameToTopRule),e=>{this.currTopLevel=e,e.accept(this)})}visitNonTerminal(e){const r=this.nameToTopRule[e.nonTerminalName];if(r)e.referencedRule=r;else{const n=this.errMsgProvider.buildRuleNotFoundError(this.currTopLevel,e);this.errors.push({message:n,type:Fa.UNRESOLVED_SUBRULE_REF,ruleName:this.currTopLevel.name,unresolvedRefName:e.nonTerminalName})}}}class JMe extends s6{constructor(e,r){super(),this.topProd=e,this.path=r,this.possibleTokTypes=[],this.nextProductionName="",this.nextProductionOccurrence=0,this.found=!1,this.isAtEndOfPath=!1}startWalking(){if(this.found=!1,this.path.ruleStack[0]!==this.topProd.name)throw Error("The path does not start with the walker's top Rule!");return this.ruleStack=gi(this.path.ruleStack).reverse(),this.occurrenceStack=gi(this.path.occurrenceStack).reverse(),this.ruleStack.pop(),this.occurrenceStack.pop(),this.updateExpectedNext(),this.walk(this.topProd),this.possibleTokTypes}walk(e,r=[]){this.found||super.walk(e,r)}walkProdRef(e,r,n){if(e.referencedRule.name===this.nextProductionName&&e.idx===this.nextProductionOccurrence){const i=r.concat(n);this.updateExpectedNext(),this.walk(e.referencedRule,i)}}updateExpectedNext(){Lr(this.ruleStack)?(this.nextProductionName="",this.nextProductionOccurrence=0,this.isAtEndOfPath=!0):(this.nextProductionName=this.ruleStack.pop(),this.nextProductionOccurrence=this.occurrenceStack.pop())}}class eIe extends JMe{constructor(e,r){super(e,r),this.path=r,this.nextTerminalName="",this.nextTerminalOccurrence=0,this.nextTerminalName=this.path.lastTok.name,this.nextTerminalOccurrence=this.path.lastTokOccurrence}walkTerminal(e,r,n){if(this.isAtEndOfPath&&e.terminalType.name===this.nextTerminalName&&e.idx===this.nextTerminalOccurrence&&!this.found){const i=r.concat(n),a=new ds({definition:i});this.possibleTokTypes=Hy(a),this.found=!0}}}class l6 extends s6{constructor(e,r){super(),this.topRule=e,this.occurrence=r,this.result={token:void 0,occurrence:void 0,isEndOfRule:void 0}}startWalking(){return this.walk(this.topRule),this.result}}class tIe extends l6{walkMany(e,r,n){if(e.idx===this.occurrence){const i=Qo(r.concat(n));this.result.isEndOfRule=i===void 0,i instanceof fn&&(this.result.token=i.terminalType,this.result.occurrence=i.idx)}else super.walkMany(e,r,n)}}class CP extends l6{walkManySep(e,r,n){if(e.idx===this.occurrence){const i=Qo(r.concat(n));this.result.isEndOfRule=i===void 0,i instanceof fn&&(this.result.token=i.terminalType,this.result.occurrence=i.idx)}else super.walkManySep(e,r,n)}}class rIe extends l6{walkAtLeastOne(e,r,n){if(e.idx===this.occurrence){const i=Qo(r.concat(n));this.result.isEndOfRule=i===void 0,i instanceof fn&&(this.result.token=i.terminalType,this.result.occurrence=i.idx)}else super.walkAtLeastOne(e,r,n)}}class AP extends l6{walkAtLeastOneSep(e,r,n){if(e.idx===this.occurrence){const i=Qo(r.concat(n));this.result.isEndOfRule=i===void 0,i instanceof fn&&(this.result.token=i.terminalType,this.result.occurrence=i.idx)}else super.walkAtLeastOneSep(e,r,n)}}function cC(t,e,r=[]){r=gi(r);let n=[],i=0;function a(o){return o.concat(Pi(t,i+1))}function s(o){const l=cC(a(o),e,r);return n.concat(l)}for(;r.length<e&&i<t.length;){const o=t[i];if(o instanceof ds)return s(o.definition);if(o instanceof Pa)return s(o.definition);if(o instanceof Yi)n=s(o.definition);else if(o instanceof Bs){const l=o.definition.concat([new Nn({definition:o.definition})]);return s(l)}else if(o instanceof $s){const l=[new ds({definition:o.definition}),new Nn({definition:[new fn({terminalType:o.separator})].concat(o.definition)})];return s(l)}else if(o instanceof ms){const l=o.definition.concat([new Nn({definition:[new fn({terminalType:o.separator})].concat(o.definition)})]);n=s(l)}else if(o instanceof Nn){const l=o.definition.concat([new Nn({definition:o.definition})]);n=s(l)}else{if(o instanceof vs)return Fe(o.definition,l=>{Lr(l.definition)===!1&&(n=s(l.definition))}),n;if(o instanceof fn)r.push(o.terminalType);else throw Error("non exhaustive match")}i++}return n.push({partialPath:r,suffixDef:Pi(t,i)}),n}function Pee(t,e,r,n){const i="EXIT_NONE_TERMINAL",a=[i],s="EXIT_ALTERNATIVE";let o=!1;const l=e.length,u=l-n-1,h=[],d=[];for(d.push({idx:-1,def:t,ruleStack:[],occurrenceStack:[]});!Lr(d);){const p=d.pop();if(p===s){o&&_l(d).idx<=u&&d.pop();continue}const f=p.def,g=p.idx,m=p.ruleStack,y=p.occurrenceStack;if(Lr(f))continue;const v=f[0];if(v===i){const x={idx:g,def:Pi(f),ruleStack:Rv(m),occurrenceStack:Rv(y)};d.push(x)}else if(v instanceof fn)if(g<l-1){const x=g+1,w=e[x];if(r(w,v.terminalType)){const k={idx:x,def:Pi(f),ruleStack:m,occurrenceStack:y};d.push(k)}}else if(g===l-1)h.push({nextTokenType:v.terminalType,nextTokenOccurrence:v.idx,ruleStack:m,occurrenceStack:y}),o=!0;else throw Error("non exhaustive match");else if(v instanceof Pa){const x=gi(m);x.push(v.nonTerminalName);const w=gi(y);w.push(v.idx);const k={idx:g,def:v.definition.concat(a,Pi(f)),ruleStack:x,occurrenceStack:w};d.push(k)}else if(v instanceof Yi){const x={idx:g,def:Pi(f),ruleStack:m,occurrenceStack:y};d.push(x),d.push(s);const w={idx:g,def:v.definition.concat(Pi(f)),ruleStack:m,occurrenceStack:y};d.push(w)}else if(v instanceof Bs){const x=new Nn({definition:v.definition,idx:v.idx}),w=v.definition.concat([x],Pi(f)),k={idx:g,def:w,ruleStack:m,occurrenceStack:y};d.push(k)}else if(v instanceof $s){const x=new fn({terminalType:v.separator}),w=new Nn({definition:[x].concat(v.definition),idx:v.idx}),k=v.definition.concat([w],Pi(f)),E={idx:g,def:k,ruleStack:m,occurrenceStack:y};d.push(E)}else if(v instanceof ms){const x={idx:g,def:Pi(f),ruleStack:m,occurrenceStack:y};d.push(x),d.push(s);const w=new fn({terminalType:v.separator}),k=new Nn({definition:[w].concat(v.definition),idx:v.idx}),E=v.definition.concat([k],Pi(f)),_={idx:g,def:E,ruleStack:m,occurrenceStack:y};d.push(_)}else if(v instanceof Nn){const x={idx:g,def:Pi(f),ruleStack:m,occurrenceStack:y};d.push(x),d.push(s);const w=new Nn({definition:v.definition,idx:v.idx}),k=v.definition.concat([w],Pi(f)),E={idx:g,def:k,ruleStack:m,occurrenceStack:y};d.push(E)}else if(v instanceof vs)for(let x=v.definition.length-1;x>=0;x--){const w=v.definition[x],k={idx:g,def:w.definition.concat(Pi(f)),ruleStack:m,occurrenceStack:y};d.push(k),d.push(s)}else if(v instanceof ds)d.push({idx:g,def:v.definition.concat(Pi(f)),ruleStack:m,occurrenceStack:y});else if(v instanceof $g)d.push(nIe(v,g,m,y));else throw Error("non exhaustive match")}return h}function nIe(t,e,r,n){const i=gi(r);i.push(t.name);const a=gi(n);return a.push(1),{idx:e,def:t.definition,ruleStack:i,occurrenceStack:a}}var kn;(function(t){t[t.OPTION=0]="OPTION",t[t.REPETITION=1]="REPETITION",t[t.REPETITION_MANDATORY=2]="REPETITION_MANDATORY",t[t.REPETITION_MANDATORY_WITH_SEPARATOR=3]="REPETITION_MANDATORY_WITH_SEPARATOR",t[t.REPETITION_WITH_SEPARATOR=4]="REPETITION_WITH_SEPARATOR",t[t.ALTERNATION=5]="ALTERNATION"})(kn||(kn={}));function uL(t){if(t instanceof Yi||t==="Option")return kn.OPTION;if(t instanceof Nn||t==="Repetition")return kn.REPETITION;if(t instanceof Bs||t==="RepetitionMandatory")return kn.REPETITION_MANDATORY;if(t instanceof $s||t==="RepetitionMandatoryWithSeparator")return kn.REPETITION_MANDATORY_WITH_SEPARATOR;if(t instanceof ms||t==="RepetitionWithSeparator")return kn.REPETITION_WITH_SEPARATOR;if(t instanceof vs||t==="Alternation")return kn.ALTERNATION;throw Error("non exhaustive match")}function _P(t){const{occurrence:e,rule:r,prodType:n,maxLookahead:i}=t,a=uL(n);return a===kn.ALTERNATION?c6(e,r,i):u6(e,r,a,i)}function iIe(t,e,r,n,i,a){const s=c6(t,e,r),o=$ee(s)?O3:Wy;return a(s,n,o,i)}function aIe(t,e,r,n,i,a){const s=u6(t,e,i,r),o=$ee(s)?O3:Wy;return a(s[0],o,n)}function sIe(t,e,r,n){const i=t.length,a=Go(t,s=>Go(s,o=>o.length===1));if(e)return function(s){const o=ht(s,l=>l.GATE);for(let l=0;l<i;l++){const u=t[l],h=u.length,d=o[l];if(!(d!==void 0&&d.call(this)===!1))e:for(let p=0;p<h;p++){const f=u[p],g=f.length;for(let m=0;m<g;m++){const y=this.LA(m+1);if(r(y,f[m])===!1)continue e}return l}}};if(a&&!n){const s=ht(t,l=>Ai(l)),o=Jn(s,(l,u,h)=>(Fe(u,d=>{pt(l,d.tokenTypeIdx)||(l[d.tokenTypeIdx]=h),Fe(d.categoryMatches,p=>{pt(l,p)||(l[p]=h)})}),l),{});return function(){const l=this.LA(1);return o[l.tokenTypeIdx]}}else return function(){for(let s=0;s<i;s++){const o=t[s],l=o.length;e:for(let u=0;u<l;u++){const h=o[u],d=h.length;for(let p=0;p<d;p++){const f=this.LA(p+1);if(r(f,h[p])===!1)continue e}return s}}}}function oIe(t,e,r){const n=Go(t,a=>a.length===1),i=t.length;if(n&&!r){const a=Ai(t);if(a.length===1&&Lr(a[0].categoryMatches)){const o=a[0].tokenTypeIdx;return function(){return this.LA(1).tokenTypeIdx===o}}else{const s=Jn(a,(o,l,u)=>(o[l.tokenTypeIdx]=!0,Fe(l.categoryMatches,h=>{o[h]=!0}),o),[]);return function(){const o=this.LA(1);return s[o.tokenTypeIdx]===!0}}}else return function(){e:for(let a=0;a<i;a++){const s=t[a],o=s.length;for(let l=0;l<o;l++){const u=this.LA(l+1);if(e(u,s[l])===!1)continue e}return!0}return!1}}class lIe extends s6{constructor(e,r,n){super(),this.topProd=e,this.targetOccurrence=r,this.targetProdType=n}startWalking(){return this.walk(this.topProd),this.restDef}checkIsTarget(e,r,n,i){return e.idx===this.targetOccurrence&&this.targetProdType===r?(this.restDef=n.concat(i),!0):!1}walkOption(e,r,n){this.checkIsTarget(e,kn.OPTION,r,n)||super.walkOption(e,r,n)}walkAtLeastOne(e,r,n){this.checkIsTarget(e,kn.REPETITION_MANDATORY,r,n)||super.walkOption(e,r,n)}walkAtLeastOneSep(e,r,n){this.checkIsTarget(e,kn.REPETITION_MANDATORY_WITH_SEPARATOR,r,n)||super.walkOption(e,r,n)}walkMany(e,r,n){this.checkIsTarget(e,kn.REPETITION,r,n)||super.walkOption(e,r,n)}walkManySep(e,r,n){this.checkIsTarget(e,kn.REPETITION_WITH_SEPARATOR,r,n)||super.walkOption(e,r,n)}}class Fee extends zg{constructor(e,r,n){super(),this.targetOccurrence=e,this.targetProdType=r,this.targetRef=n,this.result=[]}checkIsTarget(e,r){e.idx===this.targetOccurrence&&this.targetProdType===r&&(this.targetRef===void 0||e===this.targetRef)&&(this.result=e.definition)}visitOption(e){this.checkIsTarget(e,kn.OPTION)}visitRepetition(e){this.checkIsTarget(e,kn.REPETITION)}visitRepetitionMandatory(e){this.checkIsTarget(e,kn.REPETITION_MANDATORY)}visitRepetitionMandatoryWithSeparator(e){this.checkIsTarget(e,kn.REPETITION_MANDATORY_WITH_SEPARATOR)}visitRepetitionWithSeparator(e){this.checkIsTarget(e,kn.REPETITION_WITH_SEPARATOR)}visitAlternation(e){this.checkIsTarget(e,kn.ALTERNATION)}}function LP(t){const e=new Array(t);for(let r=0;r<t;r++)e[r]=[];return e}function rE(t){let e=[""];for(let r=0;r<t.length;r++){const n=t[r],i=[];for(let a=0;a<e.length;a++){const s=e[a];i.push(s+"_"+n.tokenTypeIdx);for(let o=0;o<n.categoryMatches.length;o++){const l="_"+n.categoryMatches[o];i.push(s+l)}}e=i}return e}function cIe(t,e,r){for(let n=0;n<t.length;n++){if(n===r)continue;const i=t[n];for(let a=0;a<e.length;a++){const s=e[a];if(i[s]===!0)return!1}}return!0}function Bee(t,e){const r=ht(t,s=>cC([s],1)),n=LP(r.length),i=ht(r,s=>{const o={};return Fe(s,l=>{const u=rE(l.partialPath);Fe(u,h=>{o[h]=!0})}),o});let a=r;for(let s=1;s<=e;s++){const o=a;a=LP(o.length);for(let l=0;l<o.length;l++){const u=o[l];for(let h=0;h<u.length;h++){const d=u[h].partialPath,p=u[h].suffixDef,f=rE(d);if(cIe(i,f,l)||Lr(p)||d.length===e){const m=n[l];if(uC(m,d)===!1){m.push(d);for(let y=0;y<f.length;y++){const v=f[y];i[l][v]=!0}}}else{const m=cC(p,s+1,d);a[l]=a[l].concat(m),Fe(m,y=>{const v=rE(y.partialPath);Fe(v,x=>{i[l][x]=!0})})}}}}return n}function c6(t,e,r,n){const i=new Fee(t,kn.ALTERNATION,n);return e.accept(i),Bee(i.result,r)}function u6(t,e,r,n){const i=new Fee(t,r);e.accept(i);const a=i.result,o=new lIe(e,t,r).startWalking(),l=new ds({definition:a}),u=new ds({definition:o});return Bee([l,u],n)}function uC(t,e){e:for(let r=0;r<t.length;r++){const n=t[r];if(n.length===e.length){for(let i=0;i<n.length;i++){const a=e[i],s=n[i];if((a===s||s.categoryMatchesMap[a.tokenTypeIdx]!==void 0)===!1)continue e}return!0}}return!1}function uIe(t,e){return t.length<e.length&&Go(t,(r,n)=>{const i=e[n];return r===i||i.categoryMatchesMap[r.tokenTypeIdx]})}function $ee(t){return Go(t,e=>Go(e,r=>Go(r,n=>Lr(n.categoryMatches))))}function hIe(t){const e=t.lookaheadStrategy.validate({rules:t.rules,tokenTypes:t.tokenTypes,grammarName:t.grammarName});return ht(e,r=>Object.assign({type:Fa.CUSTOM_LOOKAHEAD_VALIDATION},r))}function dIe(t,e,r,n){const i=Ls(t,l=>fIe(l,r)),a=SIe(t,e,r),s=Ls(t,l=>wIe(l,r)),o=Ls(t,l=>mIe(l,t,n,r));return i.concat(a,s,o)}function fIe(t,e){const r=new gIe;t.accept(r);const n=r.allProductions,i=Y8e(n,pIe),a=el(i,o=>o.length>1);return ht(Vr(a),o=>{const l=Qo(o),u=e.buildDuplicateFoundError(t,o),h=dl(l),d={message:u,type:Fa.DUPLICATE_PRODUCTIONS,ruleName:t.name,dslName:h,occurrence:l.idx},p=zee(l);return p&&(d.parameter=p),d})}function pIe(t){return`${dl(t)}_#_${t.idx}_#_${zee(t)}`}function zee(t){return t instanceof fn?t.terminalType.name:t instanceof Pa?t.nonTerminalName:""}class gIe extends zg{constructor(){super(...arguments),this.allProductions=[]}visitNonTerminal(e){this.allProductions.push(e)}visitOption(e){this.allProductions.push(e)}visitRepetitionWithSeparator(e){this.allProductions.push(e)}visitRepetitionMandatory(e){this.allProductions.push(e)}visitRepetitionMandatoryWithSeparator(e){this.allProductions.push(e)}visitRepetition(e){this.allProductions.push(e)}visitAlternation(e){this.allProductions.push(e)}visitTerminal(e){this.allProductions.push(e)}}function mIe(t,e,r,n){const i=[];if(Jn(e,(s,o)=>o.name===t.name?s+1:s,0)>1){const s=n.buildDuplicateRuleNameError({topLevelRule:t,grammarName:r});i.push({message:s,type:Fa.DUPLICATE_RULE_NAME,ruleName:t.name})}return i}function vIe(t,e,r){const n=[];let i;return Va(e,t)||(i=`Invalid rule override, rule: ->${t}<- cannot be overridden in the grammar: ->${r}<-as it is not defined in any of the super grammars `,n.push({message:i,type:Fa.INVALID_RULE_OVERRIDE,ruleName:t})),n}function Uee(t,e,r,n=[]){const i=[],a=_b(e.definition);if(Lr(a))return[];{const s=t.name;Va(a,t)&&i.push({message:r.buildLeftRecursionError({topLevelRule:t,leftRecursionPath:n}),type:Fa.LEFT_RECURSION,ruleName:s});const l=Ww(a,n.concat([t])),u=Ls(l,h=>{const d=gi(n);return d.push(h),Uee(t,h,r,d)});return i.concat(u)}}function _b(t){let e=[];if(Lr(t))return e;const r=Qo(t);if(r instanceof Pa)e.push(r.referencedRule);else if(r instanceof ds||r instanceof Yi||r instanceof Bs||r instanceof $s||r instanceof ms||r instanceof Nn)e=e.concat(_b(r.definition));else if(r instanceof vs)e=Ai(ht(r.definition,a=>_b(a.definition)));else if(!(r instanceof fn))throw Error("non exhaustive match");const n=I3(r),i=t.length>1;if(n&&i){const a=Pi(t);return e.concat(_b(a))}else return e}class hL extends zg{constructor(){super(...arguments),this.alternations=[]}visitAlternation(e){this.alternations.push(e)}}function yIe(t,e){const r=new hL;t.accept(r);const n=r.alternations;return Ls(n,a=>{const s=Rv(a.definition);return Ls(s,(o,l)=>{const u=Pee([o],[],Wy,1);return Lr(u)?[{message:e.buildEmptyAlternationError({topLevelRule:t,alternation:a,emptyChoiceIdx:l}),type:Fa.NONE_LAST_EMPTY_ALT,ruleName:t.name,occurrence:a.idx,alternative:l+1}]:[]})})}function xIe(t,e,r){const n=new hL;t.accept(n);let i=n.alternations;return i=qw(i,s=>s.ignoreAmbiguities===!0),Ls(i,s=>{const o=s.idx,l=s.maxLookahead||e,u=c6(o,t,l,s),h=TIe(u,s,t,r),d=EIe(u,s,t,r);return h.concat(d)})}class bIe extends zg{constructor(){super(...arguments),this.allProductions=[]}visitRepetitionWithSeparator(e){this.allProductions.push(e)}visitRepetitionMandatory(e){this.allProductions.push(e)}visitRepetitionMandatoryWithSeparator(e){this.allProductions.push(e)}visitRepetition(e){this.allProductions.push(e)}}function wIe(t,e){const r=new hL;t.accept(r);const n=r.alternations;return Ls(n,a=>a.definition.length>255?[{message:e.buildTooManyAlternativesError({topLevelRule:t,alternation:a}),type:Fa.TOO_MANY_ALTS,ruleName:t.name,occurrence:a.idx}]:[])}function kIe(t,e,r){const n=[];return Fe(t,i=>{const a=new bIe;i.accept(a);const s=a.allProductions;Fe(s,o=>{const l=uL(o),u=o.maxLookahead||e,h=o.idx,p=u6(h,i,l,u)[0];if(Lr(Ai(p))){const f=r.buildEmptyRepetitionError({topLevelRule:i,repetition:o});n.push({message:f,type:Fa.NO_NON_EMPTY_LOOKAHEAD,ruleName:i.name})}})}),n}function TIe(t,e,r,n){const i=[],a=Jn(t,(o,l,u)=>(e.definition[u].ignoreAmbiguities===!0||Fe(l,h=>{const d=[u];Fe(t,(p,f)=>{u!==f&&uC(p,h)&&e.definition[f].ignoreAmbiguities!==!0&&d.push(f)}),d.length>1&&!uC(i,h)&&(i.push(h),o.push({alts:d,path:h}))}),o),[]);return ht(a,o=>{const l=ht(o.alts,h=>h+1);return{message:n.buildAlternationAmbiguityError({topLevelRule:r,alternation:e,ambiguityIndices:l,prefixPath:o.path}),type:Fa.AMBIGUOUS_ALTS,ruleName:r.name,occurrence:e.idx,alternatives:o.alts}})}function EIe(t,e,r,n){const i=Jn(t,(s,o,l)=>{const u=ht(o,h=>({idx:l,path:h}));return s.concat(u)},[]);return zy(Ls(i,s=>{if(e.definition[s.idx].ignoreAmbiguities===!0)return[];const l=s.idx,u=s.path,h=Mn(i,p=>e.definition[p.idx].ignoreAmbiguities!==!0&&p.idx<l&&uIe(p.path,u));return ht(h,p=>{const f=[p.idx+1,l+1],g=e.idx===0?"":e.idx;return{message:n.buildAlternationPrefixAmbiguityError({topLevelRule:r,alternation:e,ambiguityIndices:f,prefixPath:p.path}),type:Fa.AMBIGUOUS_PREFIX_ALTS,ruleName:r.name,occurrence:g,alternatives:f}})}))}function SIe(t,e,r){const n=[],i=ht(e,a=>a.name);return Fe(t,a=>{const s=a.name;if(Va(i,s)){const o=r.buildNamespaceConflictError(a);n.push({message:o,type:Fa.CONFLICT_TOKENS_RULES_NAMESPACE,ruleName:s})}}),n}function CIe(t){const e=Hw(t,{errMsgProvider:KMe}),r={};return Fe(t.rules,n=>{r[n.name]=n}),QMe(r,e.errMsgProvider)}function AIe(t){return t=Hw(t,{errMsgProvider:cd}),dIe(t.rules,t.tokenTypes,t.errMsgProvider,t.grammarName)}const Vee="MismatchedTokenException",Gee="NoViableAltException",Hee="EarlyExitException",Wee="NotAllInputParsedException",Yee=[Vee,Gee,Hee,Wee];Object.freeze(Yee);function P3(t){return Va(Yee,t.name)}class h6 extends Error{constructor(e,r){super(e),this.token=r,this.resyncedTokens=[],Object.setPrototypeOf(this,new.target.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}}class qee extends h6{constructor(e,r,n){super(e,r),this.previousToken=n,this.name=Vee}}class _Ie extends h6{constructor(e,r,n){super(e,r),this.previousToken=n,this.name=Gee}}class LIe extends h6{constructor(e,r){super(e,r),this.name=Wee}}class NIe extends h6{constructor(e,r,n){super(e,r),this.previousToken=n,this.name=Hee}}const nE={},jee="InRuleRecoveryException";class RIe extends Error{constructor(e){super(e),this.name=jee}}class MIe{initRecoverable(e){this.firstAfterRepMap={},this.resyncFollows={},this.recoveryEnabled=pt(e,"recoveryEnabled")?e.recoveryEnabled:Uc.recoveryEnabled,this.recoveryEnabled&&(this.attemptInRepetitionRecovery=IIe)}getTokenToInsert(e){const r=cL(e,"",NaN,NaN,NaN,NaN,NaN,NaN);return r.isInsertedInRecovery=!0,r}canTokenTypeBeInsertedInRecovery(e){return!0}canTokenTypeBeDeletedInRecovery(e){return!0}tryInRepetitionRecovery(e,r,n,i){const a=this.findReSyncTokenType(),s=this.exportLexerState(),o=[];let l=!1;const u=this.LA(1);let h=this.LA(1);const d=()=>{const p=this.LA(0),f=this.errorMessageProvider.buildMismatchTokenMessage({expected:i,actual:u,previous:p,ruleName:this.getCurrRuleFullName()}),g=new qee(f,u,this.LA(0));g.resyncedTokens=Rv(o),this.SAVE_ERROR(g)};for(;!l;)if(this.tokenMatcher(h,i)){d();return}else if(n.call(this)){d(),e.apply(this,r);return}else this.tokenMatcher(h,a)?l=!0:(h=this.SKIP_TOKEN(),this.addToResyncTokens(h,o));this.importLexerState(s)}shouldInRepetitionRecoveryBeTried(e,r,n){return!(n===!1||this.tokenMatcher(this.LA(1),e)||this.isBackTracking()||this.canPerformInRuleRecovery(e,this.getFollowsForInRuleRecovery(e,r)))}getFollowsForInRuleRecovery(e,r){const n=this.getCurrentGrammarPath(e,r);return this.getNextPossibleTokenTypes(n)}tryInRuleRecovery(e,r){if(this.canRecoverWithSingleTokenInsertion(e,r))return this.getTokenToInsert(e);if(this.canRecoverWithSingleTokenDeletion(e)){const n=this.SKIP_TOKEN();return this.consumeToken(),n}throw new RIe("sad sad panda")}canPerformInRuleRecovery(e,r){return this.canRecoverWithSingleTokenInsertion(e,r)||this.canRecoverWithSingleTokenDeletion(e)}canRecoverWithSingleTokenInsertion(e,r){if(!this.canTokenTypeBeInsertedInRecovery(e)||Lr(r))return!1;const n=this.LA(1);return Bc(r,a=>this.tokenMatcher(n,a))!==void 0}canRecoverWithSingleTokenDeletion(e){return this.canTokenTypeBeDeletedInRecovery(e)?this.tokenMatcher(this.LA(2),e):!1}isInCurrentRuleReSyncSet(e){const r=this.getCurrFollowKey(),n=this.getFollowSetFromFollowKey(r);return Va(n,e)}findReSyncTokenType(){const e=this.flattenFollowSet();let r=this.LA(1),n=2;for(;;){const i=Bc(e,a=>Oee(r,a));if(i!==void 0)return i;r=this.LA(n),n++}}getCurrFollowKey(){if(this.RULE_STACK.length===1)return nE;const e=this.getLastExplicitRuleShortName(),r=this.getLastExplicitRuleOccurrenceIndex(),n=this.getPreviousExplicitRuleShortName();return{ruleName:this.shortRuleNameToFullName(e),idxInCallingRule:r,inRule:this.shortRuleNameToFullName(n)}}buildFullFollowKeyStack(){const e=this.RULE_STACK,r=this.RULE_OCCURRENCE_STACK;return ht(e,(n,i)=>i===0?nE:{ruleName:this.shortRuleNameToFullName(n),idxInCallingRule:r[i],inRule:this.shortRuleNameToFullName(e[i-1])})}flattenFollowSet(){const e=ht(this.buildFullFollowKeyStack(),r=>this.getFollowSetFromFollowKey(r));return Ai(e)}getFollowSetFromFollowKey(e){if(e===nE)return[oh];const r=e.ruleName+e.idxInCallingRule+Eee+e.inRule;return this.resyncFollows[r]}addToResyncTokens(e,r){return this.tokenMatcher(e,oh)||r.push(e),r}reSyncTo(e){const r=[];let n=this.LA(1);for(;this.tokenMatcher(n,e)===!1;)n=this.SKIP_TOKEN(),this.addToResyncTokens(n,r);return Rv(r)}attemptInRepetitionRecovery(e,r,n,i,a,s,o){}getCurrentGrammarPath(e,r){const n=this.getHumanReadableRuleStack(),i=gi(this.RULE_OCCURRENCE_STACK);return{ruleStack:n,occurrenceStack:i,lastTok:e,lastTokOccurrence:r}}getHumanReadableRuleStack(){return ht(this.RULE_STACK,e=>this.shortRuleNameToFullName(e))}}function IIe(t,e,r,n,i,a,s){const o=this.getKeyForAutomaticLookahead(n,i);let l=this.firstAfterRepMap[o];if(l===void 0){const p=this.getCurrRuleFullName(),f=this.getGAstProductions()[p];l=new a(f,i).startWalking(),this.firstAfterRepMap[o]=l}let u=l.token,h=l.occurrence;const d=l.isEndOfRule;this.RULE_STACK.length===1&&d&&u===void 0&&(u=oh,h=1),!(u===void 0||h===void 0)&&this.shouldInRepetitionRecoveryBeTried(u,h,s)&&this.tryInRepetitionRecovery(t,e,r,u)}const DIe=4,Eh=8,Xee=1<<Eh,Kee=2<<Eh,hC=3<<Eh,dC=4<<Eh,fC=5<<Eh,Lb=6<<Eh;function iE(t,e,r){return r|e|t}class dL{constructor(e){var r;this.maxLookahead=(r=e==null?void 0:e.maxLookahead)!==null&&r!==void 0?r:Uc.maxLookahead}validate(e){const r=this.validateNoLeftRecursion(e.rules);if(Lr(r)){const n=this.validateEmptyOrAlternatives(e.rules),i=this.validateAmbiguousAlternationAlternatives(e.rules,this.maxLookahead),a=this.validateSomeNonEmptyLookaheadPath(e.rules,this.maxLookahead);return[...r,...n,...i,...a]}return r}validateNoLeftRecursion(e){return Ls(e,r=>Uee(r,r,cd))}validateEmptyOrAlternatives(e){return Ls(e,r=>yIe(r,cd))}validateAmbiguousAlternationAlternatives(e,r){return Ls(e,n=>xIe(n,r,cd))}validateSomeNonEmptyLookaheadPath(e,r){return kIe(e,r,cd)}buildLookaheadForAlternation(e){return iIe(e.prodOccurrence,e.rule,e.maxLookahead,e.hasPredicates,e.dynamicTokensEnabled,sIe)}buildLookaheadForOptional(e){return aIe(e.prodOccurrence,e.rule,e.maxLookahead,e.dynamicTokensEnabled,uL(e.prodType),oIe)}}class OIe{initLooksAhead(e){this.dynamicTokensEnabled=pt(e,"dynamicTokensEnabled")?e.dynamicTokensEnabled:Uc.dynamicTokensEnabled,this.maxLookahead=pt(e,"maxLookahead")?e.maxLookahead:Uc.maxLookahead,this.lookaheadStrategy=pt(e,"lookaheadStrategy")?e.lookaheadStrategy:new dL({maxLookahead:this.maxLookahead}),this.lookAheadFuncsCache=new Map}preComputeLookaheadFunctions(e){Fe(e,r=>{this.TRACE_INIT(`${r.name} Rule Lookahead`,()=>{const{alternation:n,repetition:i,option:a,repetitionMandatory:s,repetitionMandatoryWithSeparator:o,repetitionWithSeparator:l}=FIe(r);Fe(n,u=>{const h=u.idx===0?"":u.idx;this.TRACE_INIT(`${dl(u)}${h}`,()=>{const d=this.lookaheadStrategy.buildLookaheadForAlternation({prodOccurrence:u.idx,rule:r,maxLookahead:u.maxLookahead||this.maxLookahead,hasPredicates:u.hasPredicates,dynamicTokensEnabled:this.dynamicTokensEnabled}),p=iE(this.fullRuleNameToShort[r.name],Xee,u.idx);this.setLaFuncCache(p,d)})}),Fe(i,u=>{this.computeLookaheadFunc(r,u.idx,hC,"Repetition",u.maxLookahead,dl(u))}),Fe(a,u=>{this.computeLookaheadFunc(r,u.idx,Kee,"Option",u.maxLookahead,dl(u))}),Fe(s,u=>{this.computeLookaheadFunc(r,u.idx,dC,"RepetitionMandatory",u.maxLookahead,dl(u))}),Fe(o,u=>{this.computeLookaheadFunc(r,u.idx,Lb,"RepetitionMandatoryWithSeparator",u.maxLookahead,dl(u))}),Fe(l,u=>{this.computeLookaheadFunc(r,u.idx,fC,"RepetitionWithSeparator",u.maxLookahead,dl(u))})})})}computeLookaheadFunc(e,r,n,i,a,s){this.TRACE_INIT(`${s}${r===0?"":r}`,()=>{const o=this.lookaheadStrategy.buildLookaheadForOptional({prodOccurrence:r,rule:e,maxLookahead:a||this.maxLookahead,dynamicTokensEnabled:this.dynamicTokensEnabled,prodType:i}),l=iE(this.fullRuleNameToShort[e.name],n,r);this.setLaFuncCache(l,o)})}getKeyForAutomaticLookahead(e,r){const n=this.getLastExplicitRuleShortName();return iE(n,e,r)}getLaFuncFromCache(e){return this.lookAheadFuncsCache.get(e)}setLaFuncCache(e,r){this.lookAheadFuncsCache.set(e,r)}}class PIe extends zg{constructor(){super(...arguments),this.dslMethods={option:[],alternation:[],repetition:[],repetitionWithSeparator:[],repetitionMandatory:[],repetitionMandatoryWithSeparator:[]}}reset(){this.dslMethods={option:[],alternation:[],repetition:[],repetitionWithSeparator:[],repetitionMandatory:[],repetitionMandatoryWithSeparator:[]}}visitOption(e){this.dslMethods.option.push(e)}visitRepetitionWithSeparator(e){this.dslMethods.repetitionWithSeparator.push(e)}visitRepetitionMandatory(e){this.dslMethods.repetitionMandatory.push(e)}visitRepetitionMandatoryWithSeparator(e){this.dslMethods.repetitionMandatoryWithSeparator.push(e)}visitRepetition(e){this.dslMethods.repetition.push(e)}visitAlternation(e){this.dslMethods.alternation.push(e)}}const wx=new PIe;function FIe(t){wx.reset(),t.accept(wx);const e=wx.dslMethods;return wx.reset(),e}function NP(t,e){isNaN(t.startOffset)===!0?(t.startOffset=e.startOffset,t.endOffset=e.endOffset):t.endOffset<e.endOffset&&(t.endOffset=e.endOffset)}function RP(t,e){isNaN(t.startOffset)===!0?(t.startOffset=e.startOffset,t.startColumn=e.startColumn,t.startLine=e.startLine,t.endOffset=e.endOffset,t.endColumn=e.endColumn,t.endLine=e.endLine):t.endOffset<e.endOffset&&(t.endOffset=e.endOffset,t.endColumn=e.endColumn,t.endLine=e.endLine)}function BIe(t,e,r){t.children[r]===void 0?t.children[r]=[e]:t.children[r].push(e)}function $Ie(t,e,r){t.children[e]===void 0?t.children[e]=[r]:t.children[e].push(r)}const zIe="name";function Qee(t,e){Object.defineProperty(t,zIe,{enumerable:!1,configurable:!0,writable:!1,value:e})}function UIe(t,e){const r=li(t),n=r.length;for(let i=0;i<n;i++){const a=r[i],s=t[a],o=s.length;for(let l=0;l<o;l++){const u=s[l];u.tokenTypeIdx===void 0&&this[u.name](u.children,e)}}}function VIe(t,e){const r=function(){};Qee(r,t+"BaseSemantics");const n={visit:function(i,a){if(dr(i)&&(i=i[0]),!Dr(i))return this[i.name](i.children,a)},validateVisitor:function(){const i=HIe(this,e);if(!Lr(i)){const a=ht(i,s=>s.msg);throw Error(`Errors Detected in CST Visitor <${this.constructor.name}>:
	${a.join(`

`).replace(/\n/g,`
	`)}`)}}};return r.prototype=n,r.prototype.constructor=r,r._RULE_NAMES=e,r}function GIe(t,e,r){const n=function(){};Qee(n,t+"BaseSemanticsWithDefaults");const i=Object.create(r.prototype);return Fe(e,a=>{i[a]=UIe}),n.prototype=i,n.prototype.constructor=n,n}var pC;(function(t){t[t.REDUNDANT_METHOD=0]="REDUNDANT_METHOD",t[t.MISSING_METHOD=1]="MISSING_METHOD"})(pC||(pC={}));function HIe(t,e){return WIe(t,e)}function WIe(t,e){const r=Mn(e,i=>fo(t[i])===!1),n=ht(r,i=>({msg:`Missing visitor method: <${i}> on ${t.constructor.name} CST Visitor.`,type:pC.MISSING_METHOD,methodName:i}));return zy(n)}class YIe{initTreeBuilder(e){if(this.CST_STACK=[],this.outputCst=e.outputCst,this.nodeLocationTracking=pt(e,"nodeLocationTracking")?e.nodeLocationTracking:Uc.nodeLocationTracking,!this.outputCst)this.cstInvocationStateUpdate=ri,this.cstFinallyStateUpdate=ri,this.cstPostTerminal=ri,this.cstPostNonTerminal=ri,this.cstPostRule=ri;else if(/full/i.test(this.nodeLocationTracking))this.recoveryEnabled?(this.setNodeLocationFromToken=RP,this.setNodeLocationFromNode=RP,this.cstPostRule=ri,this.setInitialNodeLocation=this.setInitialNodeLocationFullRecovery):(this.setNodeLocationFromToken=ri,this.setNodeLocationFromNode=ri,this.cstPostRule=this.cstPostRuleFull,this.setInitialNodeLocation=this.setInitialNodeLocationFullRegular);else if(/onlyOffset/i.test(this.nodeLocationTracking))this.recoveryEnabled?(this.setNodeLocationFromToken=NP,this.setNodeLocationFromNode=NP,this.cstPostRule=ri,this.setInitialNodeLocation=this.setInitialNodeLocationOnlyOffsetRecovery):(this.setNodeLocationFromToken=ri,this.setNodeLocationFromNode=ri,this.cstPostRule=this.cstPostRuleOnlyOffset,this.setInitialNodeLocation=this.setInitialNodeLocationOnlyOffsetRegular);else if(/none/i.test(this.nodeLocationTracking))this.setNodeLocationFromToken=ri,this.setNodeLocationFromNode=ri,this.cstPostRule=ri,this.setInitialNodeLocation=ri;else throw Error(`Invalid <nodeLocationTracking> config option: "${e.nodeLocationTracking}"`)}setInitialNodeLocationOnlyOffsetRecovery(e){e.location={startOffset:NaN,endOffset:NaN}}setInitialNodeLocationOnlyOffsetRegular(e){e.location={startOffset:this.LA(1).startOffset,endOffset:NaN}}setInitialNodeLocationFullRecovery(e){e.location={startOffset:NaN,startLine:NaN,startColumn:NaN,endOffset:NaN,endLine:NaN,endColumn:NaN}}setInitialNodeLocationFullRegular(e){const r=this.LA(1);e.location={startOffset:r.startOffset,startLine:r.startLine,startColumn:r.startColumn,endOffset:NaN,endLine:NaN,endColumn:NaN}}cstInvocationStateUpdate(e){const r={name:e,children:Object.create(null)};this.setInitialNodeLocation(r),this.CST_STACK.push(r)}cstFinallyStateUpdate(){this.CST_STACK.pop()}cstPostRuleFull(e){const r=this.LA(0),n=e.location;n.startOffset<=r.startOffset?(n.endOffset=r.endOffset,n.endLine=r.endLine,n.endColumn=r.endColumn):(n.startOffset=NaN,n.startLine=NaN,n.startColumn=NaN)}cstPostRuleOnlyOffset(e){const r=this.LA(0),n=e.location;n.startOffset<=r.startOffset?n.endOffset=r.endOffset:n.startOffset=NaN}cstPostTerminal(e,r){const n=this.CST_STACK[this.CST_STACK.length-1];BIe(n,r,e),this.setNodeLocationFromToken(n.location,r)}cstPostNonTerminal(e,r){const n=this.CST_STACK[this.CST_STACK.length-1];$Ie(n,r,e),this.setNodeLocationFromNode(n.location,e.location)}getBaseCstVisitorConstructor(){if(Dr(this.baseCstVisitorConstructor)){const e=VIe(this.className,li(this.gastProductionsCache));return this.baseCstVisitorConstructor=e,e}return this.baseCstVisitorConstructor}getBaseCstVisitorConstructorWithDefaults(){if(Dr(this.baseCstVisitorWithDefaultsConstructor)){const e=GIe(this.className,li(this.gastProductionsCache),this.getBaseCstVisitorConstructor());return this.baseCstVisitorWithDefaultsConstructor=e,e}return this.baseCstVisitorWithDefaultsConstructor}getLastExplicitRuleShortName(){const e=this.RULE_STACK;return e[e.length-1]}getPreviousExplicitRuleShortName(){const e=this.RULE_STACK;return e[e.length-2]}getLastExplicitRuleOccurrenceIndex(){const e=this.RULE_OCCURRENCE_STACK;return e[e.length-1]}}class qIe{initLexerAdapter(){this.tokVector=[],this.tokVectorLength=0,this.currIdx=-1}set input(e){if(this.selfAnalysisDone!==!0)throw Error("Missing <performSelfAnalysis> invocation at the end of the Parser's constructor.");this.reset(),this.tokVector=e,this.tokVectorLength=e.length}get input(){return this.tokVector}SKIP_TOKEN(){return this.currIdx<=this.tokVector.length-2?(this.consumeToken(),this.LA(1)):B3}LA(e){const r=this.currIdx+e;return r<0||this.tokVectorLength<=r?B3:this.tokVector[r]}consumeToken(){this.currIdx++}exportLexerState(){return this.currIdx}importLexerState(e){this.currIdx=e}resetLexerState(){this.currIdx=-1}moveToTerminatedState(){this.currIdx=this.tokVector.length-1}getLexerPosition(){return this.exportLexerState()}}class jIe{ACTION(e){return e.call(this)}consume(e,r,n){return this.consumeInternal(r,e,n)}subrule(e,r,n){return this.subruleInternal(r,e,n)}option(e,r){return this.optionInternal(r,e)}or(e,r){return this.orInternal(r,e)}many(e,r){return this.manyInternal(e,r)}atLeastOne(e,r){return this.atLeastOneInternal(e,r)}CONSUME(e,r){return this.consumeInternal(e,0,r)}CONSUME1(e,r){return this.consumeInternal(e,1,r)}CONSUME2(e,r){return this.consumeInternal(e,2,r)}CONSUME3(e,r){return this.consumeInternal(e,3,r)}CONSUME4(e,r){return this.consumeInternal(e,4,r)}CONSUME5(e,r){return this.consumeInternal(e,5,r)}CONSUME6(e,r){return this.consumeInternal(e,6,r)}CONSUME7(e,r){return this.consumeInternal(e,7,r)}CONSUME8(e,r){return this.consumeInternal(e,8,r)}CONSUME9(e,r){return this.consumeInternal(e,9,r)}SUBRULE(e,r){return this.subruleInternal(e,0,r)}SUBRULE1(e,r){return this.subruleInternal(e,1,r)}SUBRULE2(e,r){return this.subruleInternal(e,2,r)}SUBRULE3(e,r){return this.subruleInternal(e,3,r)}SUBRULE4(e,r){return this.subruleInternal(e,4,r)}SUBRULE5(e,r){return this.subruleInternal(e,5,r)}SUBRULE6(e,r){return this.subruleInternal(e,6,r)}SUBRULE7(e,r){return this.subruleInternal(e,7,r)}SUBRULE8(e,r){return this.subruleInternal(e,8,r)}SUBRULE9(e,r){return this.subruleInternal(e,9,r)}OPTION(e){return this.optionInternal(e,0)}OPTION1(e){return this.optionInternal(e,1)}OPTION2(e){return this.optionInternal(e,2)}OPTION3(e){return this.optionInternal(e,3)}OPTION4(e){return this.optionInternal(e,4)}OPTION5(e){return this.optionInternal(e,5)}OPTION6(e){return this.optionInternal(e,6)}OPTION7(e){return this.optionInternal(e,7)}OPTION8(e){return this.optionInternal(e,8)}OPTION9(e){return this.optionInternal(e,9)}OR(e){return this.orInternal(e,0)}OR1(e){return this.orInternal(e,1)}OR2(e){return this.orInternal(e,2)}OR3(e){return this.orInternal(e,3)}OR4(e){return this.orInternal(e,4)}OR5(e){return this.orInternal(e,5)}OR6(e){return this.orInternal(e,6)}OR7(e){return this.orInternal(e,7)}OR8(e){return this.orInternal(e,8)}OR9(e){return this.orInternal(e,9)}MANY(e){this.manyInternal(0,e)}MANY1(e){this.manyInternal(1,e)}MANY2(e){this.manyInternal(2,e)}MANY3(e){this.manyInternal(3,e)}MANY4(e){this.manyInternal(4,e)}MANY5(e){this.manyInternal(5,e)}MANY6(e){this.manyInternal(6,e)}MANY7(e){this.manyInternal(7,e)}MANY8(e){this.manyInternal(8,e)}MANY9(e){this.manyInternal(9,e)}MANY_SEP(e){this.manySepFirstInternal(0,e)}MANY_SEP1(e){this.manySepFirstInternal(1,e)}MANY_SEP2(e){this.manySepFirstInternal(2,e)}MANY_SEP3(e){this.manySepFirstInternal(3,e)}MANY_SEP4(e){this.manySepFirstInternal(4,e)}MANY_SEP5(e){this.manySepFirstInternal(5,e)}MANY_SEP6(e){this.manySepFirstInternal(6,e)}MANY_SEP7(e){this.manySepFirstInternal(7,e)}MANY_SEP8(e){this.manySepFirstInternal(8,e)}MANY_SEP9(e){this.manySepFirstInternal(9,e)}AT_LEAST_ONE(e){this.atLeastOneInternal(0,e)}AT_LEAST_ONE1(e){return this.atLeastOneInternal(1,e)}AT_LEAST_ONE2(e){this.atLeastOneInternal(2,e)}AT_LEAST_ONE3(e){this.atLeastOneInternal(3,e)}AT_LEAST_ONE4(e){this.atLeastOneInternal(4,e)}AT_LEAST_ONE5(e){this.atLeastOneInternal(5,e)}AT_LEAST_ONE6(e){this.atLeastOneInternal(6,e)}AT_LEAST_ONE7(e){this.atLeastOneInternal(7,e)}AT_LEAST_ONE8(e){this.atLeastOneInternal(8,e)}AT_LEAST_ONE9(e){this.atLeastOneInternal(9,e)}AT_LEAST_ONE_SEP(e){this.atLeastOneSepFirstInternal(0,e)}AT_LEAST_ONE_SEP1(e){this.atLeastOneSepFirstInternal(1,e)}AT_LEAST_ONE_SEP2(e){this.atLeastOneSepFirstInternal(2,e)}AT_LEAST_ONE_SEP3(e){this.atLeastOneSepFirstInternal(3,e)}AT_LEAST_ONE_SEP4(e){this.atLeastOneSepFirstInternal(4,e)}AT_LEAST_ONE_SEP5(e){this.atLeastOneSepFirstInternal(5,e)}AT_LEAST_ONE_SEP6(e){this.atLeastOneSepFirstInternal(6,e)}AT_LEAST_ONE_SEP7(e){this.atLeastOneSepFirstInternal(7,e)}AT_LEAST_ONE_SEP8(e){this.atLeastOneSepFirstInternal(8,e)}AT_LEAST_ONE_SEP9(e){this.atLeastOneSepFirstInternal(9,e)}RULE(e,r,n=$3){if(Va(this.definedRulesNames,e)){const s={message:cd.buildDuplicateRuleNameError({topLevelRule:e,grammarName:this.className}),type:Fa.DUPLICATE_RULE_NAME,ruleName:e};this.definitionErrors.push(s)}this.definedRulesNames.push(e);const i=this.defineRule(e,r,n);return this[e]=i,i}OVERRIDE_RULE(e,r,n=$3){const i=vIe(e,this.definedRulesNames,this.className);this.definitionErrors=this.definitionErrors.concat(i);const a=this.defineRule(e,r,n);return this[e]=a,a}BACKTRACK(e,r){return function(){this.isBackTrackingStack.push(1);const n=this.saveRecogState();try{return e.apply(this,r),!0}catch(i){if(P3(i))return!1;throw i}finally{this.reloadRecogState(n),this.isBackTrackingStack.pop()}}}getGAstProductions(){return this.gastProductionsCache}getSerializedGastProductions(){return rMe(Vr(this.gastProductionsCache))}}class XIe{initRecognizerEngine(e,r){if(this.className=this.constructor.name,this.shortRuleNameToFull={},this.fullRuleNameToShort={},this.ruleShortNameIdx=256,this.tokenMatcher=O3,this.subruleIdx=0,this.definedRulesNames=[],this.tokensMap={},this.isBackTrackingStack=[],this.RULE_STACK=[],this.RULE_OCCURRENCE_STACK=[],this.gastProductionsCache={},pt(r,"serializedGrammar"))throw Error(`The Parser's configuration can no longer contain a <serializedGrammar> property.
	See: https://chevrotain.io/docs/changes/BREAKING_CHANGES.html#_6-0-0
	For Further details.`);if(dr(e)){if(Lr(e))throw Error(`A Token Vocabulary cannot be empty.
	Note that the first argument for the parser constructor
	is no longer a Token vector (since v4.0).`);if(typeof e[0].startOffset=="number")throw Error(`The Parser constructor no longer accepts a token vector as the first argument.
	See: https://chevrotain.io/docs/changes/BREAKING_CHANGES.html#_4-0-0
	For Further details.`)}if(dr(e))this.tokensMap=Jn(e,(a,s)=>(a[s.name]=s,a),{});else if(pt(e,"modes")&&Go(Ai(Vr(e.modes)),YMe)){const a=Ai(Vr(e.modes)),s=B9(a);this.tokensMap=Jn(s,(o,l)=>(o[l.name]=l,o),{})}else if(us(e))this.tokensMap=gi(e);else throw new Error("<tokensDictionary> argument must be An Array of Token constructors, A dictionary of Token constructors or an IMultiModeLexerDefinition");this.tokensMap.EOF=oh;const n=pt(e,"modes")?Ai(Vr(e.modes)):Vr(e),i=Go(n,a=>Lr(a.categoryMatches));this.tokenMatcher=i?O3:Wy,Yy(Vr(this.tokensMap))}defineRule(e,r,n){if(this.selfAnalysisDone)throw Error(`Grammar rule <${e}> may not be defined after the 'performSelfAnalysis' method has been called'
Make sure that all grammar rule definitions are done before 'performSelfAnalysis' is called.`);const i=pt(n,"resyncEnabled")?n.resyncEnabled:$3.resyncEnabled,a=pt(n,"recoveryValueFunc")?n.recoveryValueFunc:$3.recoveryValueFunc,s=this.ruleShortNameIdx<<DIe+Eh;this.ruleShortNameIdx++,this.shortRuleNameToFull[s]=e,this.fullRuleNameToShort[e]=s;let o;return this.outputCst===!0?o=function(...h){try{this.ruleInvocationStateUpdate(s,e,this.subruleIdx),r.apply(this,h);const d=this.CST_STACK[this.CST_STACK.length-1];return this.cstPostRule(d),d}catch(d){return this.invokeRuleCatch(d,i,a)}finally{this.ruleFinallyStateUpdate()}}:o=function(...h){try{return this.ruleInvocationStateUpdate(s,e,this.subruleIdx),r.apply(this,h)}catch(d){return this.invokeRuleCatch(d,i,a)}finally{this.ruleFinallyStateUpdate()}},Object.assign(o,{ruleName:e,originalGrammarAction:r})}invokeRuleCatch(e,r,n){const i=this.RULE_STACK.length===1,a=r&&!this.isBackTracking()&&this.recoveryEnabled;if(P3(e)){const s=e;if(a){const o=this.findReSyncTokenType();if(this.isInCurrentRuleReSyncSet(o))if(s.resyncedTokens=this.reSyncTo(o),this.outputCst){const l=this.CST_STACK[this.CST_STACK.length-1];return l.recoveredNode=!0,l}else return n(e);else{if(this.outputCst){const l=this.CST_STACK[this.CST_STACK.length-1];l.recoveredNode=!0,s.partialCstResult=l}throw s}}else{if(i)return this.moveToTerminatedState(),n(e);throw s}}else throw e}optionInternal(e,r){const n=this.getKeyForAutomaticLookahead(Kee,r);return this.optionInternalLogic(e,r,n)}optionInternalLogic(e,r,n){let i=this.getLaFuncFromCache(n),a;if(typeof e!="function"){a=e.DEF;const s=e.GATE;if(s!==void 0){const o=i;i=()=>s.call(this)&&o.call(this)}}else a=e;if(i.call(this)===!0)return a.call(this)}atLeastOneInternal(e,r){const n=this.getKeyForAutomaticLookahead(dC,e);return this.atLeastOneInternalLogic(e,r,n)}atLeastOneInternalLogic(e,r,n){let i=this.getLaFuncFromCache(n),a;if(typeof r!="function"){a=r.DEF;const s=r.GATE;if(s!==void 0){const o=i;i=()=>s.call(this)&&o.call(this)}}else a=r;if(i.call(this)===!0){let s=this.doSingleRepetition(a);for(;i.call(this)===!0&&s===!0;)s=this.doSingleRepetition(a)}else throw this.raiseEarlyExitException(e,kn.REPETITION_MANDATORY,r.ERR_MSG);this.attemptInRepetitionRecovery(this.atLeastOneInternal,[e,r],i,dC,e,rIe)}atLeastOneSepFirstInternal(e,r){const n=this.getKeyForAutomaticLookahead(Lb,e);this.atLeastOneSepFirstInternalLogic(e,r,n)}atLeastOneSepFirstInternalLogic(e,r,n){const i=r.DEF,a=r.SEP;if(this.getLaFuncFromCache(n).call(this)===!0){i.call(this);const o=()=>this.tokenMatcher(this.LA(1),a);for(;this.tokenMatcher(this.LA(1),a)===!0;)this.CONSUME(a),i.call(this);this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[e,a,o,i,AP],o,Lb,e,AP)}else throw this.raiseEarlyExitException(e,kn.REPETITION_MANDATORY_WITH_SEPARATOR,r.ERR_MSG)}manyInternal(e,r){const n=this.getKeyForAutomaticLookahead(hC,e);return this.manyInternalLogic(e,r,n)}manyInternalLogic(e,r,n){let i=this.getLaFuncFromCache(n),a;if(typeof r!="function"){a=r.DEF;const o=r.GATE;if(o!==void 0){const l=i;i=()=>o.call(this)&&l.call(this)}}else a=r;let s=!0;for(;i.call(this)===!0&&s===!0;)s=this.doSingleRepetition(a);this.attemptInRepetitionRecovery(this.manyInternal,[e,r],i,hC,e,tIe,s)}manySepFirstInternal(e,r){const n=this.getKeyForAutomaticLookahead(fC,e);this.manySepFirstInternalLogic(e,r,n)}manySepFirstInternalLogic(e,r,n){const i=r.DEF,a=r.SEP;if(this.getLaFuncFromCache(n).call(this)===!0){i.call(this);const o=()=>this.tokenMatcher(this.LA(1),a);for(;this.tokenMatcher(this.LA(1),a)===!0;)this.CONSUME(a),i.call(this);this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[e,a,o,i,CP],o,fC,e,CP)}}repetitionSepSecondInternal(e,r,n,i,a){for(;n();)this.CONSUME(r),i.call(this);this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[e,r,n,i,a],n,Lb,e,a)}doSingleRepetition(e){const r=this.getLexerPosition();return e.call(this),this.getLexerPosition()>r}orInternal(e,r){const n=this.getKeyForAutomaticLookahead(Xee,r),i=dr(e)?e:e.DEF,s=this.getLaFuncFromCache(n).call(this,i);if(s!==void 0)return i[s].ALT.call(this);this.raiseNoAltException(r,e.ERR_MSG)}ruleFinallyStateUpdate(){if(this.RULE_STACK.pop(),this.RULE_OCCURRENCE_STACK.pop(),this.cstFinallyStateUpdate(),this.RULE_STACK.length===0&&this.isAtEndOfInput()===!1){const e=this.LA(1),r=this.errorMessageProvider.buildNotAllInputParsedMessage({firstRedundant:e,ruleName:this.getCurrRuleFullName()});this.SAVE_ERROR(new LIe(r,e))}}subruleInternal(e,r,n){let i;try{const a=n!==void 0?n.ARGS:void 0;return this.subruleIdx=r,i=e.apply(this,a),this.cstPostNonTerminal(i,n!==void 0&&n.LABEL!==void 0?n.LABEL:e.ruleName),i}catch(a){throw this.subruleInternalError(a,n,e.ruleName)}}subruleInternalError(e,r,n){throw P3(e)&&e.partialCstResult!==void 0&&(this.cstPostNonTerminal(e.partialCstResult,r!==void 0&&r.LABEL!==void 0?r.LABEL:n),delete e.partialCstResult),e}consumeInternal(e,r,n){let i;try{const a=this.LA(1);this.tokenMatcher(a,e)===!0?(this.consumeToken(),i=a):this.consumeInternalError(e,a,n)}catch(a){i=this.consumeInternalRecovery(e,r,a)}return this.cstPostTerminal(n!==void 0&&n.LABEL!==void 0?n.LABEL:e.name,i),i}consumeInternalError(e,r,n){let i;const a=this.LA(0);throw n!==void 0&&n.ERR_MSG?i=n.ERR_MSG:i=this.errorMessageProvider.buildMismatchTokenMessage({expected:e,actual:r,previous:a,ruleName:this.getCurrRuleFullName()}),this.SAVE_ERROR(new qee(i,r,a))}consumeInternalRecovery(e,r,n){if(this.recoveryEnabled&&n.name==="MismatchedTokenException"&&!this.isBackTracking()){const i=this.getFollowsForInRuleRecovery(e,r);try{return this.tryInRuleRecovery(e,i)}catch(a){throw a.name===jee?n:a}}else throw n}saveRecogState(){const e=this.errors,r=gi(this.RULE_STACK);return{errors:e,lexerState:this.exportLexerState(),RULE_STACK:r,CST_STACK:this.CST_STACK}}reloadRecogState(e){this.errors=e.errors,this.importLexerState(e.lexerState),this.RULE_STACK=e.RULE_STACK}ruleInvocationStateUpdate(e,r,n){this.RULE_OCCURRENCE_STACK.push(n),this.RULE_STACK.push(e),this.cstInvocationStateUpdate(r)}isBackTracking(){return this.isBackTrackingStack.length!==0}getCurrRuleFullName(){const e=this.getLastExplicitRuleShortName();return this.shortRuleNameToFull[e]}shortRuleNameToFullName(e){return this.shortRuleNameToFull[e]}isAtEndOfInput(){return this.tokenMatcher(this.LA(1),oh)}reset(){this.resetLexerState(),this.subruleIdx=0,this.isBackTrackingStack=[],this.errors=[],this.RULE_STACK=[],this.CST_STACK=[],this.RULE_OCCURRENCE_STACK=[]}}class KIe{initErrorHandler(e){this._errors=[],this.errorMessageProvider=pt(e,"errorMessageProvider")?e.errorMessageProvider:Uc.errorMessageProvider}SAVE_ERROR(e){if(P3(e))return e.context={ruleStack:this.getHumanReadableRuleStack(),ruleOccurrenceStack:gi(this.RULE_OCCURRENCE_STACK)},this._errors.push(e),e;throw Error("Trying to save an Error which is not a RecognitionException")}get errors(){return gi(this._errors)}set errors(e){this._errors=e}raiseEarlyExitException(e,r,n){const i=this.getCurrRuleFullName(),a=this.getGAstProductions()[i],o=u6(e,a,r,this.maxLookahead)[0],l=[];for(let h=1;h<=this.maxLookahead;h++)l.push(this.LA(h));const u=this.errorMessageProvider.buildEarlyExitMessage({expectedIterationPaths:o,actual:l,previous:this.LA(0),customUserDescription:n,ruleName:i});throw this.SAVE_ERROR(new NIe(u,this.LA(1),this.LA(0)))}raiseNoAltException(e,r){const n=this.getCurrRuleFullName(),i=this.getGAstProductions()[n],a=c6(e,i,this.maxLookahead),s=[];for(let u=1;u<=this.maxLookahead;u++)s.push(this.LA(u));const o=this.LA(0),l=this.errorMessageProvider.buildNoViableAltMessage({expectedPathsPerAlt:a,actual:s,previous:o,customUserDescription:r,ruleName:this.getCurrRuleFullName()});throw this.SAVE_ERROR(new _Ie(l,this.LA(1),o))}}class QIe{initContentAssist(){}computeContentAssist(e,r){const n=this.gastProductionsCache[e];if(Dr(n))throw Error(`Rule ->${e}<- does not exist in this grammar.`);return Pee([n],r,this.tokenMatcher,this.maxLookahead)}getNextPossibleTokenTypes(e){const r=Qo(e.ruleStack),i=this.getGAstProductions()[r];return new eIe(i,e).startWalking()}}const d6={description:"This Object indicates the Parser is during Recording Phase"};Object.freeze(d6);const MP=!0,IP=Math.pow(2,Eh)-1,Zee=Dee({name:"RECORDING_PHASE_TOKEN",pattern:ls.NA});Yy([Zee]);const Jee=cL(Zee,`This IToken indicates the Parser is in Recording Phase
	See: https://chevrotain.io/docs/guide/internals.html#grammar-recording for details`,-1,-1,-1,-1,-1,-1);Object.freeze(Jee);const ZIe={name:`This CSTNode indicates the Parser is in Recording Phase
	See: https://chevrotain.io/docs/guide/internals.html#grammar-recording for details`,children:{}};class JIe{initGastRecorder(e){this.recordingProdStack=[],this.RECORDING_PHASE=!1}enableRecording(){this.RECORDING_PHASE=!0,this.TRACE_INIT("Enable Recording",()=>{for(let e=0;e<10;e++){const r=e>0?e:"";this[`CONSUME${r}`]=function(n,i){return this.consumeInternalRecord(n,e,i)},this[`SUBRULE${r}`]=function(n,i){return this.subruleInternalRecord(n,e,i)},this[`OPTION${r}`]=function(n){return this.optionInternalRecord(n,e)},this[`OR${r}`]=function(n){return this.orInternalRecord(n,e)},this[`MANY${r}`]=function(n){this.manyInternalRecord(e,n)},this[`MANY_SEP${r}`]=function(n){this.manySepFirstInternalRecord(e,n)},this[`AT_LEAST_ONE${r}`]=function(n){this.atLeastOneInternalRecord(e,n)},this[`AT_LEAST_ONE_SEP${r}`]=function(n){this.atLeastOneSepFirstInternalRecord(e,n)}}this.consume=function(e,r,n){return this.consumeInternalRecord(r,e,n)},this.subrule=function(e,r,n){return this.subruleInternalRecord(r,e,n)},this.option=function(e,r){return this.optionInternalRecord(r,e)},this.or=function(e,r){return this.orInternalRecord(r,e)},this.many=function(e,r){this.manyInternalRecord(e,r)},this.atLeastOne=function(e,r){this.atLeastOneInternalRecord(e,r)},this.ACTION=this.ACTION_RECORD,this.BACKTRACK=this.BACKTRACK_RECORD,this.LA=this.LA_RECORD})}disableRecording(){this.RECORDING_PHASE=!1,this.TRACE_INIT("Deleting Recording methods",()=>{const e=this;for(let r=0;r<10;r++){const n=r>0?r:"";delete e[`CONSUME${n}`],delete e[`SUBRULE${n}`],delete e[`OPTION${n}`],delete e[`OR${n}`],delete e[`MANY${n}`],delete e[`MANY_SEP${n}`],delete e[`AT_LEAST_ONE${n}`],delete e[`AT_LEAST_ONE_SEP${n}`]}delete e.consume,delete e.subrule,delete e.option,delete e.or,delete e.many,delete e.atLeastOne,delete e.ACTION,delete e.BACKTRACK,delete e.LA})}ACTION_RECORD(e){}BACKTRACK_RECORD(e,r){return()=>!0}LA_RECORD(e){return B3}topLevelRuleRecord(e,r){try{const n=new $g({definition:[],name:e});return n.name=e,this.recordingProdStack.push(n),r.call(this),this.recordingProdStack.pop(),n}catch(n){if(n.KNOWN_RECORDER_ERROR!==!0)try{n.message=n.message+`
	 This error was thrown during the "grammar recording phase" For more info see:
	https://chevrotain.io/docs/guide/internals.html#grammar-recording`}catch{throw n}throw n}}optionInternalRecord(e,r){return O1.call(this,Yi,e,r)}atLeastOneInternalRecord(e,r){O1.call(this,Bs,r,e)}atLeastOneSepFirstInternalRecord(e,r){O1.call(this,$s,r,e,MP)}manyInternalRecord(e,r){O1.call(this,Nn,r,e)}manySepFirstInternalRecord(e,r){O1.call(this,ms,r,e,MP)}orInternalRecord(e,r){return eDe.call(this,e,r)}subruleInternalRecord(e,r,n){if(F3(r),!e||pt(e,"ruleName")===!1){const o=new Error(`<SUBRULE${DP(r)}> argument is invalid expecting a Parser method reference but got: <${JSON.stringify(e)}>
 inside top level rule: <${this.recordingProdStack[0].name}>`);throw o.KNOWN_RECORDER_ERROR=!0,o}const i=_l(this.recordingProdStack),a=e.ruleName,s=new Pa({idx:r,nonTerminalName:a,label:n==null?void 0:n.LABEL,referencedRule:void 0});return i.definition.push(s),this.outputCst?ZIe:d6}consumeInternalRecord(e,r,n){if(F3(r),!Mee(e)){const s=new Error(`<CONSUME${DP(r)}> argument is invalid expecting a TokenType reference but got: <${JSON.stringify(e)}>
 inside top level rule: <${this.recordingProdStack[0].name}>`);throw s.KNOWN_RECORDER_ERROR=!0,s}const i=_l(this.recordingProdStack),a=new fn({idx:r,terminalType:e,label:n==null?void 0:n.LABEL});return i.definition.push(a),Jee}}function O1(t,e,r,n=!1){F3(r);const i=_l(this.recordingProdStack),a=fo(e)?e:e.DEF,s=new t({definition:[],idx:r});return n&&(s.separator=e.SEP),pt(e,"MAX_LOOKAHEAD")&&(s.maxLookahead=e.MAX_LOOKAHEAD),this.recordingProdStack.push(s),a.call(this),i.definition.push(s),this.recordingProdStack.pop(),d6}function eDe(t,e){F3(e);const r=_l(this.recordingProdStack),n=dr(t)===!1,i=n===!1?t:t.DEF,a=new vs({definition:[],idx:e,ignoreAmbiguities:n&&t.IGNORE_AMBIGUITIES===!0});pt(t,"MAX_LOOKAHEAD")&&(a.maxLookahead=t.MAX_LOOKAHEAD);const s=PZ(i,o=>fo(o.GATE));return a.hasPredicates=s,r.definition.push(a),Fe(i,o=>{const l=new ds({definition:[]});a.definition.push(l),pt(o,"IGNORE_AMBIGUITIES")?l.ignoreAmbiguities=o.IGNORE_AMBIGUITIES:pt(o,"GATE")&&(l.ignoreAmbiguities=!0),this.recordingProdStack.push(l),o.ALT.call(this),this.recordingProdStack.pop()}),d6}function DP(t){return t===0?"":`${t}`}function F3(t){if(t<0||t>IP){const e=new Error(`Invalid DSL Method idx value: <${t}>
	Idx value must be a none negative value smaller than ${IP+1}`);throw e.KNOWN_RECORDER_ERROR=!0,e}}class tDe{initPerformanceTracer(e){if(pt(e,"traceInitPerf")){const r=e.traceInitPerf,n=typeof r=="number";this.traceInitMaxIdent=n?r:1/0,this.traceInitPerf=n?r>0:r}else this.traceInitMaxIdent=0,this.traceInitPerf=Uc.traceInitPerf;this.traceInitIndent=-1}TRACE_INIT(e,r){if(this.traceInitPerf===!0){this.traceInitIndent++;const n=new Array(this.traceInitIndent+1).join("	");this.traceInitIndent<this.traceInitMaxIdent&&console.log(`${n}--> <${e}>`);const{time:i,value:a}=kee(r),s=i>10?console.warn:console.log;return this.traceInitIndent<this.traceInitMaxIdent&&s(`${n}<-- <${e}> time: ${i}ms`),this.traceInitIndent--,a}else return r()}}function rDe(t,e){e.forEach(r=>{const n=r.prototype;Object.getOwnPropertyNames(n).forEach(i=>{if(i==="constructor")return;const a=Object.getOwnPropertyDescriptor(n,i);a&&(a.get||a.set)?Object.defineProperty(t.prototype,i,a):t.prototype[i]=r.prototype[i]})})}const B3=cL(oh,"",NaN,NaN,NaN,NaN,NaN,NaN);Object.freeze(B3);const Uc=Object.freeze({recoveryEnabled:!1,maxLookahead:3,dynamicTokensEnabled:!1,outputCst:!0,errorMessageProvider:u0,nodeLocationTracking:"none",traceInitPerf:!1,skipValidations:!1}),$3=Object.freeze({recoveryValueFunc:()=>{},resyncEnabled:!0});var Fa;(function(t){t[t.INVALID_RULE_NAME=0]="INVALID_RULE_NAME",t[t.DUPLICATE_RULE_NAME=1]="DUPLICATE_RULE_NAME",t[t.INVALID_RULE_OVERRIDE=2]="INVALID_RULE_OVERRIDE",t[t.DUPLICATE_PRODUCTIONS=3]="DUPLICATE_PRODUCTIONS",t[t.UNRESOLVED_SUBRULE_REF=4]="UNRESOLVED_SUBRULE_REF",t[t.LEFT_RECURSION=5]="LEFT_RECURSION",t[t.NONE_LAST_EMPTY_ALT=6]="NONE_LAST_EMPTY_ALT",t[t.AMBIGUOUS_ALTS=7]="AMBIGUOUS_ALTS",t[t.CONFLICT_TOKENS_RULES_NAMESPACE=8]="CONFLICT_TOKENS_RULES_NAMESPACE",t[t.INVALID_TOKEN_NAME=9]="INVALID_TOKEN_NAME",t[t.NO_NON_EMPTY_LOOKAHEAD=10]="NO_NON_EMPTY_LOOKAHEAD",t[t.AMBIGUOUS_PREFIX_ALTS=11]="AMBIGUOUS_PREFIX_ALTS",t[t.TOO_MANY_ALTS=12]="TOO_MANY_ALTS",t[t.CUSTOM_LOOKAHEAD_VALIDATION=13]="CUSTOM_LOOKAHEAD_VALIDATION"})(Fa||(Fa={}));function OP(t=void 0){return function(){return t}}class qy{static performSelfAnalysis(e){throw Error("The **static** `performSelfAnalysis` method has been deprecated.	\nUse the **instance** method with the same name instead.")}performSelfAnalysis(){this.TRACE_INIT("performSelfAnalysis",()=>{let e;this.selfAnalysisDone=!0;const r=this.className;this.TRACE_INIT("toFastProps",()=>{Tee(this)}),this.TRACE_INIT("Grammar Recording",()=>{try{this.enableRecording(),Fe(this.definedRulesNames,i=>{const s=this[i].originalGrammarAction;let o;this.TRACE_INIT(`${i} Rule`,()=>{o=this.topLevelRuleRecord(i,s)}),this.gastProductionsCache[i]=o})}finally{this.disableRecording()}});let n=[];if(this.TRACE_INIT("Grammar Resolving",()=>{n=CIe({rules:Vr(this.gastProductionsCache)}),this.definitionErrors=this.definitionErrors.concat(n)}),this.TRACE_INIT("Grammar Validations",()=>{if(Lr(n)&&this.skipValidations===!1){const i=AIe({rules:Vr(this.gastProductionsCache),tokenTypes:Vr(this.tokensMap),errMsgProvider:cd,grammarName:r}),a=hIe({lookaheadStrategy:this.lookaheadStrategy,rules:Vr(this.gastProductionsCache),tokenTypes:Vr(this.tokensMap),grammarName:r});this.definitionErrors=this.definitionErrors.concat(i,a)}}),Lr(this.definitionErrors)&&(this.recoveryEnabled&&this.TRACE_INIT("computeAllProdsFollows",()=>{const i=cMe(Vr(this.gastProductionsCache));this.resyncFollows=i}),this.TRACE_INIT("ComputeLookaheadFunctions",()=>{var i,a;(a=(i=this.lookaheadStrategy).initialize)===null||a===void 0||a.call(i,{rules:Vr(this.gastProductionsCache)}),this.preComputeLookaheadFunctions(Vr(this.gastProductionsCache))})),!qy.DEFER_DEFINITION_ERRORS_HANDLING&&!Lr(this.definitionErrors))throw e=ht(this.definitionErrors,i=>i.message),new Error(`Parser Definition Errors detected:
 ${e.join(`
-------------------------------
`)}`)})}constructor(e,r){this.definitionErrors=[],this.selfAnalysisDone=!1;const n=this;if(n.initErrorHandler(r),n.initLexerAdapter(),n.initLooksAhead(r),n.initRecognizerEngine(e,r),n.initRecoverable(r),n.initTreeBuilder(r),n.initContentAssist(),n.initGastRecorder(r),n.initPerformanceTracer(r),pt(r,"ignoredIssues"))throw new Error(`The <ignoredIssues> IParserConfig property has been deprecated.
	Please use the <IGNORE_AMBIGUITIES> flag on the relevant DSL method instead.
	See: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#IGNORING_AMBIGUITIES
	For further details.`);this.skipValidations=pt(r,"skipValidations")?r.skipValidations:Uc.skipValidations}}qy.DEFER_DEFINITION_ERRORS_HANDLING=!1;rDe(qy,[MIe,OIe,YIe,qIe,XIe,jIe,KIe,QIe,JIe,tDe]);class nDe extends qy{constructor(e,r=Uc){const n=gi(r);n.outputCst=!1,super(e,n)}}function rg(t,e,r){return`${t.name}_${e}_${r}`}const lh=1,iDe=2,ete=4,tte=5,jy=7,aDe=8,sDe=9,oDe=10,lDe=11,rte=12;class fL{constructor(e){this.target=e}isEpsilon(){return!1}}class pL extends fL{constructor(e,r){super(e),this.tokenType=r}}class nte extends fL{constructor(e){super(e)}isEpsilon(){return!0}}class gL extends fL{constructor(e,r,n){super(e),this.rule=r,this.followState=n}isEpsilon(){return!0}}function cDe(t){const e={decisionMap:{},decisionStates:[],ruleToStartState:new Map,ruleToStopState:new Map,states:[]};uDe(e,t);const r=t.length;for(let n=0;n<r;n++){const i=t[n],a=kf(e,i,i);a!==void 0&&wDe(e,i,a)}return e}function uDe(t,e){const r=e.length;for(let n=0;n<r;n++){const i=e[n],a=_i(t,i,void 0,{type:iDe}),s=_i(t,i,void 0,{type:jy});a.stop=s,t.ruleToStartState.set(i,a),t.ruleToStopState.set(i,s)}}function ite(t,e,r){return r instanceof fn?mL(t,e,r.terminalType,r):r instanceof Pa?bDe(t,e,r):r instanceof vs?gDe(t,e,r):r instanceof Yi?mDe(t,e,r):r instanceof Nn?hDe(t,e,r):r instanceof ms?dDe(t,e,r):r instanceof Bs?fDe(t,e,r):r instanceof $s?pDe(t,e,r):kf(t,e,r)}function hDe(t,e,r){const n=_i(t,e,r,{type:tte});Sh(t,n);const i=Ug(t,e,n,r,kf(t,e,r));return ste(t,e,r,i)}function dDe(t,e,r){const n=_i(t,e,r,{type:tte});Sh(t,n);const i=Ug(t,e,n,r,kf(t,e,r)),a=mL(t,e,r.separator,r);return ste(t,e,r,i,a)}function fDe(t,e,r){const n=_i(t,e,r,{type:ete});Sh(t,n);const i=Ug(t,e,n,r,kf(t,e,r));return ate(t,e,r,i)}function pDe(t,e,r){const n=_i(t,e,r,{type:ete});Sh(t,n);const i=Ug(t,e,n,r,kf(t,e,r)),a=mL(t,e,r.separator,r);return ate(t,e,r,i,a)}function gDe(t,e,r){const n=_i(t,e,r,{type:lh});Sh(t,n);const i=ht(r.definition,s=>ite(t,e,s));return Ug(t,e,n,r,...i)}function mDe(t,e,r){const n=_i(t,e,r,{type:lh});Sh(t,n);const i=Ug(t,e,n,r,kf(t,e,r));return vDe(t,e,r,i)}function kf(t,e,r){const n=Mn(ht(r.definition,i=>ite(t,e,i)),i=>i!==void 0);return n.length===1?n[0]:n.length===0?void 0:xDe(t,n)}function ate(t,e,r,n,i){const a=n.left,s=n.right,o=_i(t,e,r,{type:lDe});Sh(t,o);const l=_i(t,e,r,{type:rte});return a.loopback=o,l.loopback=o,t.decisionMap[rg(e,i?"RepetitionMandatoryWithSeparator":"RepetitionMandatory",r.idx)]=o,qn(s,o),i===void 0?(qn(o,a),qn(o,l)):(qn(o,l),qn(o,i.left),qn(i.right,a)),{left:a,right:l}}function ste(t,e,r,n,i){const a=n.left,s=n.right,o=_i(t,e,r,{type:oDe});Sh(t,o);const l=_i(t,e,r,{type:rte}),u=_i(t,e,r,{type:sDe});return o.loopback=u,l.loopback=u,qn(o,a),qn(o,l),qn(s,u),i!==void 0?(qn(u,l),qn(u,i.left),qn(i.right,a)):qn(u,o),t.decisionMap[rg(e,i?"RepetitionWithSeparator":"Repetition",r.idx)]=o,{left:o,right:l}}function vDe(t,e,r,n){const i=n.left,a=n.right;return qn(i,a),t.decisionMap[rg(e,"Option",r.idx)]=i,n}function Sh(t,e){return t.decisionStates.push(e),e.decision=t.decisionStates.length-1,e.decision}function Ug(t,e,r,n,...i){const a=_i(t,e,n,{type:aDe,start:r});r.end=a;for(const o of i)o!==void 0?(qn(r,o.left),qn(o.right,a)):qn(r,a);const s={left:r,right:a};return t.decisionMap[rg(e,yDe(n),n.idx)]=r,s}function yDe(t){if(t instanceof vs)return"Alternation";if(t instanceof Yi)return"Option";if(t instanceof Nn)return"Repetition";if(t instanceof ms)return"RepetitionWithSeparator";if(t instanceof Bs)return"RepetitionMandatory";if(t instanceof $s)return"RepetitionMandatoryWithSeparator";throw new Error("Invalid production type encountered")}function xDe(t,e){const r=e.length;for(let a=0;a<r-1;a++){const s=e[a];let o;s.left.transitions.length===1&&(o=s.left.transitions[0]);const l=o instanceof gL,u=o,h=e[a+1].left;s.left.type===lh&&s.right.type===lh&&o!==void 0&&(l&&u.followState===s.right||o.target===s.right)?(l?u.followState=h:o.target=h,kDe(t,s.right)):qn(s.right,h)}const n=e[0],i=e[r-1];return{left:n.left,right:i.right}}function mL(t,e,r,n){const i=_i(t,e,n,{type:lh}),a=_i(t,e,n,{type:lh});return vL(i,new pL(a,r)),{left:i,right:a}}function bDe(t,e,r){const n=r.referencedRule,i=t.ruleToStartState.get(n),a=_i(t,e,r,{type:lh}),s=_i(t,e,r,{type:lh}),o=new gL(i,n,s);return vL(a,o),{left:a,right:s}}function wDe(t,e,r){const n=t.ruleToStartState.get(e);qn(n,r.left);const i=t.ruleToStopState.get(e);return qn(r.right,i),{left:n,right:i}}function qn(t,e){const r=new nte(e);vL(t,r)}function _i(t,e,r,n){const i=Object.assign({atn:t,production:r,epsilonOnlyTransitions:!1,rule:e,transitions:[],nextTokenWithinRule:[],stateNumber:t.states.length},n);return t.states.push(i),i}function vL(t,e){t.transitions.length===0&&(t.epsilonOnlyTransitions=e.isEpsilon()),t.transitions.push(e)}function kDe(t,e){t.states.splice(t.states.indexOf(e),1)}const z3={};class gC{constructor(){this.map={},this.configs=[]}get size(){return this.configs.length}finalize(){this.map={}}add(e){const r=ote(e);r in this.map||(this.map[r]=this.configs.length,this.configs.push(e))}get elements(){return this.configs}get alts(){return ht(this.configs,e=>e.alt)}get key(){let e="";for(const r in this.map)e+=r+":";return e}}function ote(t,e=!0){return`${e?`a${t.alt}`:""}s${t.state.stateNumber}:${t.stack.map(r=>r.stateNumber.toString()).join("_")}`}function TDe(t,e){const r={};return n=>{const i=n.toString();let a=r[i];return a!==void 0||(a={atnStartState:t,decision:e,states:{}},r[i]=a),a}}class lte{constructor(){this.predicates=[]}is(e){return e>=this.predicates.length||this.predicates[e]}set(e,r){this.predicates[e]=r}toString(){let e="";const r=this.predicates.length;for(let n=0;n<r;n++)e+=this.predicates[n]===!0?"1":"0";return e}}const PP=new lte;class EDe extends dL{constructor(e){var r;super(),this.logging=(r=e==null?void 0:e.logging)!==null&&r!==void 0?r:n=>console.log(n)}initialize(e){this.atn=cDe(e.rules),this.dfas=SDe(this.atn)}validateAmbiguousAlternationAlternatives(){return[]}validateEmptyOrAlternatives(){return[]}buildLookaheadForAlternation(e){const{prodOccurrence:r,rule:n,hasPredicates:i,dynamicTokensEnabled:a}=e,s=this.dfas,o=this.logging,l=rg(n,"Alternation",r),h=this.atn.decisionMap[l].decision,d=ht(_P({maxLookahead:1,occurrence:r,prodType:"Alternation",rule:n}),p=>ht(p,f=>f[0]));if(FP(d,!1)&&!a){const p=Jn(d,(f,g,m)=>(Fe(g,y=>{y&&(f[y.tokenTypeIdx]=m,Fe(y.categoryMatches,v=>{f[v]=m}))}),f),{});return i?function(f){var g;const m=this.LA(1),y=p[m.tokenTypeIdx];if(f!==void 0&&y!==void 0){const v=(g=f[y])===null||g===void 0?void 0:g.GATE;if(v!==void 0&&v.call(this)===!1)return}return y}:function(){const f=this.LA(1);return p[f.tokenTypeIdx]}}else return i?function(p){const f=new lte,g=p===void 0?0:p.length;for(let y=0;y<g;y++){const v=p==null?void 0:p[y].GATE;f.set(y,v===void 0||v.call(this))}const m=aE.call(this,s,h,f,o);return typeof m=="number"?m:void 0}:function(){const p=aE.call(this,s,h,PP,o);return typeof p=="number"?p:void 0}}buildLookaheadForOptional(e){const{prodOccurrence:r,rule:n,prodType:i,dynamicTokensEnabled:a}=e,s=this.dfas,o=this.logging,l=rg(n,i,r),h=this.atn.decisionMap[l].decision,d=ht(_P({maxLookahead:1,occurrence:r,prodType:i,rule:n}),p=>ht(p,f=>f[0]));if(FP(d)&&d[0][0]&&!a){const p=d[0],f=Ai(p);if(f.length===1&&Lr(f[0].categoryMatches)){const m=f[0].tokenTypeIdx;return function(){return this.LA(1).tokenTypeIdx===m}}else{const g=Jn(f,(m,y)=>(y!==void 0&&(m[y.tokenTypeIdx]=!0,Fe(y.categoryMatches,v=>{m[v]=!0})),m),{});return function(){const m=this.LA(1);return g[m.tokenTypeIdx]===!0}}}return function(){const p=aE.call(this,s,h,PP,o);return typeof p=="object"?!1:p===0}}}function FP(t,e=!0){const r=new Set;for(const n of t){const i=new Set;for(const a of n){if(a===void 0){if(e)break;return!1}const s=[a.tokenTypeIdx].concat(a.categoryMatches);for(const o of s)if(r.has(o)){if(!i.has(o))return!1}else r.add(o),i.add(o)}}return!0}function SDe(t){const e=t.decisionStates.length,r=Array(e);for(let n=0;n<e;n++)r[n]=TDe(t.decisionStates[n],n);return r}function aE(t,e,r,n){const i=t[e](r);let a=i.start;if(a===void 0){const o=PDe(i.atnStartState);a=ute(i,cte(o)),i.start=a}return CDe.apply(this,[i,a,r,n])}function CDe(t,e,r,n){let i=e,a=1;const s=[];let o=this.LA(a++);for(;;){let l=MDe(i,o);if(l===void 0&&(l=ADe.apply(this,[t,i,o,a,r,n])),l===z3)return RDe(s,i,o);if(l.isAcceptState===!0)return l.prediction;i=l,s.push(o),o=this.LA(a++)}}function ADe(t,e,r,n,i,a){const s=IDe(e.configs,r,i);if(s.size===0)return BP(t,e,r,z3),z3;let o=cte(s);const l=ODe(s,i);if(l!==void 0)o.isAcceptState=!0,o.prediction=l,o.configs.uniqueAlt=l;else if(zDe(s)){const u=Zp(s.alts);o.isAcceptState=!0,o.prediction=u,o.configs.uniqueAlt=u,_De.apply(this,[t,n,s.alts,a])}return o=BP(t,e,r,o),o}function _De(t,e,r,n){const i=[];for(let u=1;u<=e;u++)i.push(this.LA(u).tokenType);const a=t.atnStartState,s=a.rule,o=a.production,l=LDe({topLevelRule:s,ambiguityIndices:r,production:o,prefixPath:i});n(l)}function LDe(t){const e=ht(t.prefixPath,i=>L0(i)).join(", "),r=t.production.idx===0?"":t.production.idx;let n=`Ambiguous Alternatives Detected: <${t.ambiguityIndices.join(", ")}> in <${NDe(t.production)}${r}> inside <${t.topLevelRule.name}> Rule,
<${e}> may appears as a prefix path in all these alternatives.
`;return n=n+`See: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#AMBIGUOUS_ALTERNATIVES
For Further details.`,n}function NDe(t){if(t instanceof Pa)return"SUBRULE";if(t instanceof Yi)return"OPTION";if(t instanceof vs)return"OR";if(t instanceof Bs)return"AT_LEAST_ONE";if(t instanceof $s)return"AT_LEAST_ONE_SEP";if(t instanceof ms)return"MANY_SEP";if(t instanceof Nn)return"MANY";if(t instanceof fn)return"CONSUME";throw Error("non exhaustive match")}function RDe(t,e,r){const n=Ls(e.configs.elements,a=>a.state.transitions),i=bAe(n.filter(a=>a instanceof pL).map(a=>a.tokenType),a=>a.tokenTypeIdx);return{actualToken:r,possibleTokenTypes:i,tokenPath:t}}function MDe(t,e){return t.edges[e.tokenTypeIdx]}function IDe(t,e,r){const n=new gC,i=[];for(const s of t.elements){if(r.is(s.alt)===!1)continue;if(s.state.type===jy){i.push(s);continue}const o=s.state.transitions.length;for(let l=0;l<o;l++){const u=s.state.transitions[l],h=DDe(u,e);h!==void 0&&n.add({state:h,alt:s.alt,stack:s.stack})}}let a;if(i.length===0&&n.size===1&&(a=n),a===void 0){a=new gC;for(const s of n.elements)U3(s,a)}if(i.length>0&&!BDe(a))for(const s of i)a.add(s);return a}function DDe(t,e){if(t instanceof pL&&Oee(e,t.tokenType))return t.target}function ODe(t,e){let r;for(const n of t.elements)if(e.is(n.alt)===!0){if(r===void 0)r=n.alt;else if(r!==n.alt)return}return r}function cte(t){return{configs:t,edges:{},isAcceptState:!1,prediction:-1}}function BP(t,e,r,n){return n=ute(t,n),e.edges[r.tokenTypeIdx]=n,n}function ute(t,e){if(e===z3)return e;const r=e.configs.key,n=t.states[r];return n!==void 0?n:(e.configs.finalize(),t.states[r]=e,e)}function PDe(t){const e=new gC,r=t.transitions.length;for(let n=0;n<r;n++){const a={state:t.transitions[n].target,alt:n,stack:[]};U3(a,e)}return e}function U3(t,e){const r=t.state;if(r.type===jy){if(t.stack.length>0){const i=[...t.stack],s={state:i.pop(),alt:t.alt,stack:i};U3(s,e)}else e.add(t);return}r.epsilonOnlyTransitions||e.add(t);const n=r.transitions.length;for(let i=0;i<n;i++){const a=r.transitions[i],s=FDe(t,a);s!==void 0&&U3(s,e)}}function FDe(t,e){if(e instanceof nte)return{state:e.target,alt:t.alt,stack:t.stack};if(e instanceof gL){const r=[...t.stack,e.followState];return{state:e.target,alt:t.alt,stack:r}}}function BDe(t){for(const e of t.elements)if(e.state.type===jy)return!0;return!1}function $De(t){for(const e of t.elements)if(e.state.type!==jy)return!1;return!0}function zDe(t){if($De(t))return!0;const e=UDe(t.elements);return VDe(e)&&!GDe(e)}function UDe(t){const e=new Map;for(const r of t){const n=ote(r,!1);let i=e.get(n);i===void 0&&(i={},e.set(n,i)),i[r.alt]=!0}return e}function VDe(t){for(const e of Array.from(t.values()))if(Object.keys(e).length>1)return!0;return!1}function GDe(t){for(const e of Array.from(t.values()))if(Object.keys(e).length===1)return!0;return!1}var $P;(function(t){function e(r){return typeof r=="string"}t.is=e})($P||($P={}));var mC;(function(t){function e(r){return typeof r=="string"}t.is=e})(mC||(mC={}));var zP;(function(t){t.MIN_VALUE=-2147483648,t.MAX_VALUE=2147483647;function e(r){return typeof r=="number"&&t.MIN_VALUE<=r&&r<=t.MAX_VALUE}t.is=e})(zP||(zP={}));var V3;(function(t){t.MIN_VALUE=0,t.MAX_VALUE=2147483647;function e(r){return typeof r=="number"&&t.MIN_VALUE<=r&&r<=t.MAX_VALUE}t.is=e})(V3||(V3={}));var Rr;(function(t){function e(n,i){return n===Number.MAX_VALUE&&(n=V3.MAX_VALUE),i===Number.MAX_VALUE&&(i=V3.MAX_VALUE),{line:n,character:i}}t.create=e;function r(n){let i=n;return $e.objectLiteral(i)&&$e.uinteger(i.line)&&$e.uinteger(i.character)}t.is=r})(Rr||(Rr={}));var vr;(function(t){function e(n,i,a,s){if($e.uinteger(n)&&$e.uinteger(i)&&$e.uinteger(a)&&$e.uinteger(s))return{start:Rr.create(n,i),end:Rr.create(a,s)};if(Rr.is(n)&&Rr.is(i))return{start:n,end:i};throw new Error(`Range#create called with invalid arguments[${n}, ${i}, ${a}, ${s}]`)}t.create=e;function r(n){let i=n;return $e.objectLiteral(i)&&Rr.is(i.start)&&Rr.is(i.end)}t.is=r})(vr||(vr={}));var G3;(function(t){function e(n,i){return{uri:n,range:i}}t.create=e;function r(n){let i=n;return $e.objectLiteral(i)&&vr.is(i.range)&&($e.string(i.uri)||$e.undefined(i.uri))}t.is=r})(G3||(G3={}));var UP;(function(t){function e(n,i,a,s){return{targetUri:n,targetRange:i,targetSelectionRange:a,originSelectionRange:s}}t.create=e;function r(n){let i=n;return $e.objectLiteral(i)&&vr.is(i.targetRange)&&$e.string(i.targetUri)&&vr.is(i.targetSelectionRange)&&(vr.is(i.originSelectionRange)||$e.undefined(i.originSelectionRange))}t.is=r})(UP||(UP={}));var vC;(function(t){function e(n,i,a,s){return{red:n,green:i,blue:a,alpha:s}}t.create=e;function r(n){const i=n;return $e.objectLiteral(i)&&$e.numberRange(i.red,0,1)&&$e.numberRange(i.green,0,1)&&$e.numberRange(i.blue,0,1)&&$e.numberRange(i.alpha,0,1)}t.is=r})(vC||(vC={}));var VP;(function(t){function e(n,i){return{range:n,color:i}}t.create=e;function r(n){const i=n;return $e.objectLiteral(i)&&vr.is(i.range)&&vC.is(i.color)}t.is=r})(VP||(VP={}));var GP;(function(t){function e(n,i,a){return{label:n,textEdit:i,additionalTextEdits:a}}t.create=e;function r(n){const i=n;return $e.objectLiteral(i)&&$e.string(i.label)&&($e.undefined(i.textEdit)||ig.is(i))&&($e.undefined(i.additionalTextEdits)||$e.typedArray(i.additionalTextEdits,ig.is))}t.is=r})(GP||(GP={}));var HP;(function(t){t.Comment="comment",t.Imports="imports",t.Region="region"})(HP||(HP={}));var WP;(function(t){function e(n,i,a,s,o,l){const u={startLine:n,endLine:i};return $e.defined(a)&&(u.startCharacter=a),$e.defined(s)&&(u.endCharacter=s),$e.defined(o)&&(u.kind=o),$e.defined(l)&&(u.collapsedText=l),u}t.create=e;function r(n){const i=n;return $e.objectLiteral(i)&&$e.uinteger(i.startLine)&&$e.uinteger(i.startLine)&&($e.undefined(i.startCharacter)||$e.uinteger(i.startCharacter))&&($e.undefined(i.endCharacter)||$e.uinteger(i.endCharacter))&&($e.undefined(i.kind)||$e.string(i.kind))}t.is=r})(WP||(WP={}));var yC;(function(t){function e(n,i){return{location:n,message:i}}t.create=e;function r(n){let i=n;return $e.defined(i)&&G3.is(i.location)&&$e.string(i.message)}t.is=r})(yC||(yC={}));var YP;(function(t){t.Error=1,t.Warning=2,t.Information=3,t.Hint=4})(YP||(YP={}));var qP;(function(t){t.Unnecessary=1,t.Deprecated=2})(qP||(qP={}));var jP;(function(t){function e(r){const n=r;return $e.objectLiteral(n)&&$e.string(n.href)}t.is=e})(jP||(jP={}));var H3;(function(t){function e(n,i,a,s,o,l){let u={range:n,message:i};return $e.defined(a)&&(u.severity=a),$e.defined(s)&&(u.code=s),$e.defined(o)&&(u.source=o),$e.defined(l)&&(u.relatedInformation=l),u}t.create=e;function r(n){var i;let a=n;return $e.defined(a)&&vr.is(a.range)&&$e.string(a.message)&&($e.number(a.severity)||$e.undefined(a.severity))&&($e.integer(a.code)||$e.string(a.code)||$e.undefined(a.code))&&($e.undefined(a.codeDescription)||$e.string((i=a.codeDescription)===null||i===void 0?void 0:i.href))&&($e.string(a.source)||$e.undefined(a.source))&&($e.undefined(a.relatedInformation)||$e.typedArray(a.relatedInformation,yC.is))}t.is=r})(H3||(H3={}));var ng;(function(t){function e(n,i,...a){let s={title:n,command:i};return $e.defined(a)&&a.length>0&&(s.arguments=a),s}t.create=e;function r(n){let i=n;return $e.defined(i)&&$e.string(i.title)&&$e.string(i.command)}t.is=r})(ng||(ng={}));var ig;(function(t){function e(a,s){return{range:a,newText:s}}t.replace=e;function r(a,s){return{range:{start:a,end:a},newText:s}}t.insert=r;function n(a){return{range:a,newText:""}}t.del=n;function i(a){const s=a;return $e.objectLiteral(s)&&$e.string(s.newText)&&vr.is(s.range)}t.is=i})(ig||(ig={}));var xC;(function(t){function e(n,i,a){const s={label:n};return i!==void 0&&(s.needsConfirmation=i),a!==void 0&&(s.description=a),s}t.create=e;function r(n){const i=n;return $e.objectLiteral(i)&&$e.string(i.label)&&($e.boolean(i.needsConfirmation)||i.needsConfirmation===void 0)&&($e.string(i.description)||i.description===void 0)}t.is=r})(xC||(xC={}));var ag;(function(t){function e(r){const n=r;return $e.string(n)}t.is=e})(ag||(ag={}));var XP;(function(t){function e(a,s,o){return{range:a,newText:s,annotationId:o}}t.replace=e;function r(a,s,o){return{range:{start:a,end:a},newText:s,annotationId:o}}t.insert=r;function n(a,s){return{range:a,newText:"",annotationId:s}}t.del=n;function i(a){const s=a;return ig.is(s)&&(xC.is(s.annotationId)||ag.is(s.annotationId))}t.is=i})(XP||(XP={}));var bC;(function(t){function e(n,i){return{textDocument:n,edits:i}}t.create=e;function r(n){let i=n;return $e.defined(i)&&SC.is(i.textDocument)&&Array.isArray(i.edits)}t.is=r})(bC||(bC={}));var wC;(function(t){function e(n,i,a){let s={kind:"create",uri:n};return i!==void 0&&(i.overwrite!==void 0||i.ignoreIfExists!==void 0)&&(s.options=i),a!==void 0&&(s.annotationId=a),s}t.create=e;function r(n){let i=n;return i&&i.kind==="create"&&$e.string(i.uri)&&(i.options===void 0||(i.options.overwrite===void 0||$e.boolean(i.options.overwrite))&&(i.options.ignoreIfExists===void 0||$e.boolean(i.options.ignoreIfExists)))&&(i.annotationId===void 0||ag.is(i.annotationId))}t.is=r})(wC||(wC={}));var kC;(function(t){function e(n,i,a,s){let o={kind:"rename",oldUri:n,newUri:i};return a!==void 0&&(a.overwrite!==void 0||a.ignoreIfExists!==void 0)&&(o.options=a),s!==void 0&&(o.annotationId=s),o}t.create=e;function r(n){let i=n;return i&&i.kind==="rename"&&$e.string(i.oldUri)&&$e.string(i.newUri)&&(i.options===void 0||(i.options.overwrite===void 0||$e.boolean(i.options.overwrite))&&(i.options.ignoreIfExists===void 0||$e.boolean(i.options.ignoreIfExists)))&&(i.annotationId===void 0||ag.is(i.annotationId))}t.is=r})(kC||(kC={}));var TC;(function(t){function e(n,i,a){let s={kind:"delete",uri:n};return i!==void 0&&(i.recursive!==void 0||i.ignoreIfNotExists!==void 0)&&(s.options=i),a!==void 0&&(s.annotationId=a),s}t.create=e;function r(n){let i=n;return i&&i.kind==="delete"&&$e.string(i.uri)&&(i.options===void 0||(i.options.recursive===void 0||$e.boolean(i.options.recursive))&&(i.options.ignoreIfNotExists===void 0||$e.boolean(i.options.ignoreIfNotExists)))&&(i.annotationId===void 0||ag.is(i.annotationId))}t.is=r})(TC||(TC={}));var EC;(function(t){function e(r){let n=r;return n&&(n.changes!==void 0||n.documentChanges!==void 0)&&(n.documentChanges===void 0||n.documentChanges.every(i=>$e.string(i.kind)?wC.is(i)||kC.is(i)||TC.is(i):bC.is(i)))}t.is=e})(EC||(EC={}));var KP;(function(t){function e(n){return{uri:n}}t.create=e;function r(n){let i=n;return $e.defined(i)&&$e.string(i.uri)}t.is=r})(KP||(KP={}));var QP;(function(t){function e(n,i){return{uri:n,version:i}}t.create=e;function r(n){let i=n;return $e.defined(i)&&$e.string(i.uri)&&$e.integer(i.version)}t.is=r})(QP||(QP={}));var SC;(function(t){function e(n,i){return{uri:n,version:i}}t.create=e;function r(n){let i=n;return $e.defined(i)&&$e.string(i.uri)&&(i.version===null||$e.integer(i.version))}t.is=r})(SC||(SC={}));var ZP;(function(t){function e(n,i,a,s){return{uri:n,languageId:i,version:a,text:s}}t.create=e;function r(n){let i=n;return $e.defined(i)&&$e.string(i.uri)&&$e.string(i.languageId)&&$e.integer(i.version)&&$e.string(i.text)}t.is=r})(ZP||(ZP={}));var CC;(function(t){t.PlainText="plaintext",t.Markdown="markdown";function e(r){const n=r;return n===t.PlainText||n===t.Markdown}t.is=e})(CC||(CC={}));var Fv;(function(t){function e(r){const n=r;return $e.objectLiteral(r)&&CC.is(n.kind)&&$e.string(n.value)}t.is=e})(Fv||(Fv={}));var JP;(function(t){t.Text=1,t.Method=2,t.Function=3,t.Constructor=4,t.Field=5,t.Variable=6,t.Class=7,t.Interface=8,t.Module=9,t.Property=10,t.Unit=11,t.Value=12,t.Enum=13,t.Keyword=14,t.Snippet=15,t.Color=16,t.File=17,t.Reference=18,t.Folder=19,t.EnumMember=20,t.Constant=21,t.Struct=22,t.Event=23,t.Operator=24,t.TypeParameter=25})(JP||(JP={}));var eF;(function(t){t.PlainText=1,t.Snippet=2})(eF||(eF={}));var tF;(function(t){t.Deprecated=1})(tF||(tF={}));var rF;(function(t){function e(n,i,a){return{newText:n,insert:i,replace:a}}t.create=e;function r(n){const i=n;return i&&$e.string(i.newText)&&vr.is(i.insert)&&vr.is(i.replace)}t.is=r})(rF||(rF={}));var nF;(function(t){t.asIs=1,t.adjustIndentation=2})(nF||(nF={}));var iF;(function(t){function e(r){const n=r;return n&&($e.string(n.detail)||n.detail===void 0)&&($e.string(n.description)||n.description===void 0)}t.is=e})(iF||(iF={}));var aF;(function(t){function e(r){return{label:r}}t.create=e})(aF||(aF={}));var sF;(function(t){function e(r,n){return{items:r||[],isIncomplete:!!n}}t.create=e})(sF||(sF={}));var W3;(function(t){function e(n){return n.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")}t.fromPlainText=e;function r(n){const i=n;return $e.string(i)||$e.objectLiteral(i)&&$e.string(i.language)&&$e.string(i.value)}t.is=r})(W3||(W3={}));var oF;(function(t){function e(r){let n=r;return!!n&&$e.objectLiteral(n)&&(Fv.is(n.contents)||W3.is(n.contents)||$e.typedArray(n.contents,W3.is))&&(r.range===void 0||vr.is(r.range))}t.is=e})(oF||(oF={}));var lF;(function(t){function e(r,n){return n?{label:r,documentation:n}:{label:r}}t.create=e})(lF||(lF={}));var cF;(function(t){function e(r,n,...i){let a={label:r};return $e.defined(n)&&(a.documentation=n),$e.defined(i)?a.parameters=i:a.parameters=[],a}t.create=e})(cF||(cF={}));var uF;(function(t){t.Text=1,t.Read=2,t.Write=3})(uF||(uF={}));var hF;(function(t){function e(r,n){let i={range:r};return $e.number(n)&&(i.kind=n),i}t.create=e})(hF||(hF={}));var dF;(function(t){t.File=1,t.Module=2,t.Namespace=3,t.Package=4,t.Class=5,t.Method=6,t.Property=7,t.Field=8,t.Constructor=9,t.Enum=10,t.Interface=11,t.Function=12,t.Variable=13,t.Constant=14,t.String=15,t.Number=16,t.Boolean=17,t.Array=18,t.Object=19,t.Key=20,t.Null=21,t.EnumMember=22,t.Struct=23,t.Event=24,t.Operator=25,t.TypeParameter=26})(dF||(dF={}));var fF;(function(t){t.Deprecated=1})(fF||(fF={}));var pF;(function(t){function e(r,n,i,a,s){let o={name:r,kind:n,location:{uri:a,range:i}};return s&&(o.containerName=s),o}t.create=e})(pF||(pF={}));var gF;(function(t){function e(r,n,i,a){return a!==void 0?{name:r,kind:n,location:{uri:i,range:a}}:{name:r,kind:n,location:{uri:i}}}t.create=e})(gF||(gF={}));var mF;(function(t){function e(n,i,a,s,o,l){let u={name:n,detail:i,kind:a,range:s,selectionRange:o};return l!==void 0&&(u.children=l),u}t.create=e;function r(n){let i=n;return i&&$e.string(i.name)&&$e.number(i.kind)&&vr.is(i.range)&&vr.is(i.selectionRange)&&(i.detail===void 0||$e.string(i.detail))&&(i.deprecated===void 0||$e.boolean(i.deprecated))&&(i.children===void 0||Array.isArray(i.children))&&(i.tags===void 0||Array.isArray(i.tags))}t.is=r})(mF||(mF={}));var vF;(function(t){t.Empty="",t.QuickFix="quickfix",t.Refactor="refactor",t.RefactorExtract="refactor.extract",t.RefactorInline="refactor.inline",t.RefactorRewrite="refactor.rewrite",t.Source="source",t.SourceOrganizeImports="source.organizeImports",t.SourceFixAll="source.fixAll"})(vF||(vF={}));var Y3;(function(t){t.Invoked=1,t.Automatic=2})(Y3||(Y3={}));var yF;(function(t){function e(n,i,a){let s={diagnostics:n};return i!=null&&(s.only=i),a!=null&&(s.triggerKind=a),s}t.create=e;function r(n){let i=n;return $e.defined(i)&&$e.typedArray(i.diagnostics,H3.is)&&(i.only===void 0||$e.typedArray(i.only,$e.string))&&(i.triggerKind===void 0||i.triggerKind===Y3.Invoked||i.triggerKind===Y3.Automatic)}t.is=r})(yF||(yF={}));var xF;(function(t){function e(n,i,a){let s={title:n},o=!0;return typeof i=="string"?(o=!1,s.kind=i):ng.is(i)?s.command=i:s.edit=i,o&&a!==void 0&&(s.kind=a),s}t.create=e;function r(n){let i=n;return i&&$e.string(i.title)&&(i.diagnostics===void 0||$e.typedArray(i.diagnostics,H3.is))&&(i.kind===void 0||$e.string(i.kind))&&(i.edit!==void 0||i.command!==void 0)&&(i.command===void 0||ng.is(i.command))&&(i.isPreferred===void 0||$e.boolean(i.isPreferred))&&(i.edit===void 0||EC.is(i.edit))}t.is=r})(xF||(xF={}));var bF;(function(t){function e(n,i){let a={range:n};return $e.defined(i)&&(a.data=i),a}t.create=e;function r(n){let i=n;return $e.defined(i)&&vr.is(i.range)&&($e.undefined(i.command)||ng.is(i.command))}t.is=r})(bF||(bF={}));var wF;(function(t){function e(n,i){return{tabSize:n,insertSpaces:i}}t.create=e;function r(n){let i=n;return $e.defined(i)&&$e.uinteger(i.tabSize)&&$e.boolean(i.insertSpaces)}t.is=r})(wF||(wF={}));var kF;(function(t){function e(n,i,a){return{range:n,target:i,data:a}}t.create=e;function r(n){let i=n;return $e.defined(i)&&vr.is(i.range)&&($e.undefined(i.target)||$e.string(i.target))}t.is=r})(kF||(kF={}));var TF;(function(t){function e(n,i){return{range:n,parent:i}}t.create=e;function r(n){let i=n;return $e.objectLiteral(i)&&vr.is(i.range)&&(i.parent===void 0||t.is(i.parent))}t.is=r})(TF||(TF={}));var EF;(function(t){t.namespace="namespace",t.type="type",t.class="class",t.enum="enum",t.interface="interface",t.struct="struct",t.typeParameter="typeParameter",t.parameter="parameter",t.variable="variable",t.property="property",t.enumMember="enumMember",t.event="event",t.function="function",t.method="method",t.macro="macro",t.keyword="keyword",t.modifier="modifier",t.comment="comment",t.string="string",t.number="number",t.regexp="regexp",t.operator="operator",t.decorator="decorator"})(EF||(EF={}));var SF;(function(t){t.declaration="declaration",t.definition="definition",t.readonly="readonly",t.static="static",t.deprecated="deprecated",t.abstract="abstract",t.async="async",t.modification="modification",t.documentation="documentation",t.defaultLibrary="defaultLibrary"})(SF||(SF={}));var CF;(function(t){function e(r){const n=r;return $e.objectLiteral(n)&&(n.resultId===void 0||typeof n.resultId=="string")&&Array.isArray(n.data)&&(n.data.length===0||typeof n.data[0]=="number")}t.is=e})(CF||(CF={}));var AF;(function(t){function e(n,i){return{range:n,text:i}}t.create=e;function r(n){const i=n;return i!=null&&vr.is(i.range)&&$e.string(i.text)}t.is=r})(AF||(AF={}));var _F;(function(t){function e(n,i,a){return{range:n,variableName:i,caseSensitiveLookup:a}}t.create=e;function r(n){const i=n;return i!=null&&vr.is(i.range)&&$e.boolean(i.caseSensitiveLookup)&&($e.string(i.variableName)||i.variableName===void 0)}t.is=r})(_F||(_F={}));var LF;(function(t){function e(n,i){return{range:n,expression:i}}t.create=e;function r(n){const i=n;return i!=null&&vr.is(i.range)&&($e.string(i.expression)||i.expression===void 0)}t.is=r})(LF||(LF={}));var NF;(function(t){function e(n,i){return{frameId:n,stoppedLocation:i}}t.create=e;function r(n){const i=n;return $e.defined(i)&&vr.is(n.stoppedLocation)}t.is=r})(NF||(NF={}));var AC;(function(t){t.Type=1,t.Parameter=2;function e(r){return r===1||r===2}t.is=e})(AC||(AC={}));var _C;(function(t){function e(n){return{value:n}}t.create=e;function r(n){const i=n;return $e.objectLiteral(i)&&(i.tooltip===void 0||$e.string(i.tooltip)||Fv.is(i.tooltip))&&(i.location===void 0||G3.is(i.location))&&(i.command===void 0||ng.is(i.command))}t.is=r})(_C||(_C={}));var RF;(function(t){function e(n,i,a){const s={position:n,label:i};return a!==void 0&&(s.kind=a),s}t.create=e;function r(n){const i=n;return $e.objectLiteral(i)&&Rr.is(i.position)&&($e.string(i.label)||$e.typedArray(i.label,_C.is))&&(i.kind===void 0||AC.is(i.kind))&&i.textEdits===void 0||$e.typedArray(i.textEdits,ig.is)&&(i.tooltip===void 0||$e.string(i.tooltip)||Fv.is(i.tooltip))&&(i.paddingLeft===void 0||$e.boolean(i.paddingLeft))&&(i.paddingRight===void 0||$e.boolean(i.paddingRight))}t.is=r})(RF||(RF={}));var MF;(function(t){function e(r){return{kind:"snippet",value:r}}t.createSnippet=e})(MF||(MF={}));var IF;(function(t){function e(r,n,i,a){return{insertText:r,filterText:n,range:i,command:a}}t.create=e})(IF||(IF={}));var DF;(function(t){function e(r){return{items:r}}t.create=e})(DF||(DF={}));var OF;(function(t){t.Invoked=0,t.Automatic=1})(OF||(OF={}));var PF;(function(t){function e(r,n){return{range:r,text:n}}t.create=e})(PF||(PF={}));var FF;(function(t){function e(r,n){return{triggerKind:r,selectedCompletionInfo:n}}t.create=e})(FF||(FF={}));var BF;(function(t){function e(r){const n=r;return $e.objectLiteral(n)&&mC.is(n.uri)&&$e.string(n.name)}t.is=e})(BF||(BF={}));var $F;(function(t){function e(a,s,o,l){return new HDe(a,s,o,l)}t.create=e;function r(a){let s=a;return!!($e.defined(s)&&$e.string(s.uri)&&($e.undefined(s.languageId)||$e.string(s.languageId))&&$e.uinteger(s.lineCount)&&$e.func(s.getText)&&$e.func(s.positionAt)&&$e.func(s.offsetAt))}t.is=r;function n(a,s){let o=a.getText(),l=i(s,(h,d)=>{let p=h.range.start.line-d.range.start.line;return p===0?h.range.start.character-d.range.start.character:p}),u=o.length;for(let h=l.length-1;h>=0;h--){let d=l[h],p=a.offsetAt(d.range.start),f=a.offsetAt(d.range.end);if(f<=u)o=o.substring(0,p)+d.newText+o.substring(f,o.length);else throw new Error("Overlapping edit");u=p}return o}t.applyEdits=n;function i(a,s){if(a.length<=1)return a;const o=a.length/2|0,l=a.slice(0,o),u=a.slice(o);i(l,s),i(u,s);let h=0,d=0,p=0;for(;h<l.length&&d<u.length;)s(l[h],u[d])<=0?a[p++]=l[h++]:a[p++]=u[d++];for(;h<l.length;)a[p++]=l[h++];for(;d<u.length;)a[p++]=u[d++];return a}})($F||($F={}));let HDe=class{constructor(e,r,n,i){this._uri=e,this._languageId=r,this._version=n,this._content=i,this._lineOffsets=void 0}get uri(){return this._uri}get languageId(){return this._languageId}get version(){return this._version}getText(e){if(e){let r=this.offsetAt(e.start),n=this.offsetAt(e.end);return this._content.substring(r,n)}return this._content}update(e,r){this._content=e.text,this._version=r,this._lineOffsets=void 0}getLineOffsets(){if(this._lineOffsets===void 0){let e=[],r=this._content,n=!0;for(let i=0;i<r.length;i++){n&&(e.push(i),n=!1);let a=r.charAt(i);n=a==="\r"||a===`
`,a==="\r"&&i+1<r.length&&r.charAt(i+1)===`
`&&i++}n&&r.length>0&&e.push(r.length),this._lineOffsets=e}return this._lineOffsets}positionAt(e){e=Math.max(Math.min(e,this._content.length),0);let r=this.getLineOffsets(),n=0,i=r.length;if(i===0)return Rr.create(0,e);for(;n<i;){let s=Math.floor((n+i)/2);r[s]>e?i=s:n=s+1}let a=n-1;return Rr.create(a,e-r[a])}offsetAt(e){let r=this.getLineOffsets();if(e.line>=r.length)return this._content.length;if(e.line<0)return 0;let n=r[e.line],i=e.line+1<r.length?r[e.line+1]:this._content.length;return Math.max(Math.min(n+e.character,i),n)}get lineCount(){return this.getLineOffsets().length}};var $e;(function(t){const e=Object.prototype.toString;function r(f){return typeof f<"u"}t.defined=r;function n(f){return typeof f>"u"}t.undefined=n;function i(f){return f===!0||f===!1}t.boolean=i;function a(f){return e.call(f)==="[object String]"}t.string=a;function s(f){return e.call(f)==="[object Number]"}t.number=s;function o(f,g,m){return e.call(f)==="[object Number]"&&g<=f&&f<=m}t.numberRange=o;function l(f){return e.call(f)==="[object Number]"&&-2147483648<=f&&f<=2147483647}t.integer=l;function u(f){return e.call(f)==="[object Number]"&&0<=f&&f<=2147483647}t.uinteger=u;function h(f){return e.call(f)==="[object Function]"}t.func=h;function d(f){return f!==null&&typeof f=="object"}t.objectLiteral=d;function p(f,g){return Array.isArray(f)&&f.every(g)}t.typedArray=p})($e||($e={}));class WDe{constructor(){this.nodeStack=[]}get current(){return this.nodeStack[this.nodeStack.length-1]}buildRootNode(e){return this.rootNode=new dte(e),this.rootNode.root=this.rootNode,this.nodeStack=[this.rootNode],this.rootNode}buildCompositeNode(e){const r=new yL;return r.grammarSource=e,r.root=this.rootNode,this.current.content.push(r),this.nodeStack.push(r),r}buildLeafNode(e,r){const n=new LC(e.startOffset,e.image.length,iC(e),e.tokenType,!1);return n.grammarSource=r,n.root=this.rootNode,this.current.content.push(n),n}removeNode(e){const r=e.container;if(r){const n=r.content.indexOf(e);n>=0&&r.content.splice(n,1)}}construct(e){const r=this.current;typeof e.$type=="string"&&(this.current.astNode=e),e.$cstNode=r;const n=this.nodeStack.pop();(n==null?void 0:n.content.length)===0&&this.removeNode(n)}addHiddenTokens(e){for(const r of e){const n=new LC(r.startOffset,r.image.length,iC(r),r.tokenType,!0);n.root=this.rootNode,this.addHiddenToken(this.rootNode,n)}}addHiddenToken(e,r){const{offset:n,end:i}=r;for(let a=0;a<e.content.length;a++){const s=e.content[a],{offset:o,end:l}=s;if(tg(s)&&n>o&&i<l){this.addHiddenToken(s,r);return}else if(i<=o){e.content.splice(a,0,r);return}}e.content.push(r)}}class hte{get parent(){return this.container}get feature(){return this.grammarSource}get hidden(){return!1}get astNode(){var e,r;const n=typeof((e=this._astNode)===null||e===void 0?void 0:e.$type)=="string"?this._astNode:(r=this.container)===null||r===void 0?void 0:r.astNode;if(!n)throw new Error("This node has no associated AST element");return n}set astNode(e){this._astNode=e}get element(){return this.astNode}get text(){return this.root.fullText.substring(this.offset,this.end)}}class LC extends hte{get offset(){return this._offset}get length(){return this._length}get end(){return this._offset+this._length}get hidden(){return this._hidden}get tokenType(){return this._tokenType}get range(){return this._range}constructor(e,r,n,i,a=!1){super(),this._hidden=a,this._offset=e,this._tokenType=i,this._length=r,this._range=n}}class yL extends hte{constructor(){super(...arguments),this.content=new xL(this)}get children(){return this.content}get offset(){var e,r;return(r=(e=this.firstNonHiddenNode)===null||e===void 0?void 0:e.offset)!==null&&r!==void 0?r:0}get length(){return this.end-this.offset}get end(){var e,r;return(r=(e=this.lastNonHiddenNode)===null||e===void 0?void 0:e.end)!==null&&r!==void 0?r:0}get range(){const e=this.firstNonHiddenNode,r=this.lastNonHiddenNode;if(e&&r){if(this._rangeCache===void 0){const{range:n}=e,{range:i}=r;this._rangeCache={start:n.start,end:i.end.line<n.start.line?n.start:i.end}}return this._rangeCache}else return{start:Rr.create(0,0),end:Rr.create(0,0)}}get firstNonHiddenNode(){for(const e of this.content)if(!e.hidden)return e;return this.content[0]}get lastNonHiddenNode(){for(let e=this.content.length-1;e>=0;e--){const r=this.content[e];if(!r.hidden)return r}return this.content[this.content.length-1]}}class xL extends Array{constructor(e){super(),this.parent=e,Object.setPrototypeOf(this,xL.prototype)}push(...e){return this.addParents(e),super.push(...e)}unshift(...e){return this.addParents(e),super.unshift(...e)}splice(e,r,...n){return this.addParents(n),super.splice(e,r,...n)}addParents(e){for(const r of e)r.container=this.parent}}class dte extends yL{get text(){return this._text.substring(this.offset,this.end)}get fullText(){return this._text}constructor(e){super(),this._text="",this._text=e??""}}const NC=Symbol("Datatype");function sE(t){return t.$type===NC}const zF="​",fte=t=>t.endsWith(zF)?t:t+zF;class pte{constructor(e){this._unorderedGroups=new Map,this.lexer=e.parser.Lexer;const r=this.lexer.definition;this.wrapper=new KDe(r,Object.assign(Object.assign({},e.parser.ParserConfig),{errorMessageProvider:e.parser.ParserErrorMessageProvider}))}alternatives(e,r){this.wrapper.wrapOr(e,r)}optional(e,r){this.wrapper.wrapOption(e,r)}many(e,r){this.wrapper.wrapMany(e,r)}atLeastOne(e,r){this.wrapper.wrapAtLeastOne(e,r)}isRecording(){return this.wrapper.IS_RECORDING}get unorderedGroups(){return this._unorderedGroups}getRuleStack(){return this.wrapper.RULE_STACK}finalize(){this.wrapper.wrapSelfAnalysis()}}class YDe extends pte{get current(){return this.stack[this.stack.length-1]}constructor(e){super(e),this.nodeBuilder=new WDe,this.stack=[],this.assignmentMap=new Map,this.linker=e.references.Linker,this.converter=e.parser.ValueConverter,this.astReflection=e.shared.AstReflection}rule(e,r){const n=e.fragment?void 0:aL(e)?NC:a6(e),i=this.wrapper.DEFINE_RULE(fte(e.name),this.startImplementation(n,r).bind(this));return e.entry&&(this.mainRule=i),i}parse(e){this.nodeBuilder.buildRootNode(e);const r=this.lexer.tokenize(e);this.wrapper.input=r.tokens;const n=this.mainRule.call(this.wrapper,{});return this.nodeBuilder.addHiddenTokens(r.hidden),this.unorderedGroups.clear(),{value:n,lexerErrors:r.errors,parserErrors:this.wrapper.errors}}startImplementation(e,r){return n=>{if(!this.isRecording()){const a={$type:e};this.stack.push(a),e===NC&&(a.value="")}let i;try{i=r(n)}catch{i=void 0}return!this.isRecording()&&i===void 0&&(i=this.construct()),i}}consume(e,r,n){const i=this.wrapper.wrapConsume(e,r);if(!this.isRecording()&&this.isValidToken(i)){const a=this.nodeBuilder.buildLeafNode(i,n),{assignment:s,isCrossRef:o}=this.getAssignment(n),l=this.current;if(s){const u=Ud(n)?i.image:this.converter.convert(i.image,a);this.assign(s.operator,s.feature,u,a,o)}else if(sE(l)){let u=i.image;Ud(n)||(u=this.converter.convert(u,a).toString()),l.value+=u}}}isValidToken(e){return!e.isInsertedInRecovery&&!isNaN(e.startOffset)&&typeof e.endOffset=="number"&&!isNaN(e.endOffset)}subrule(e,r,n,i){let a;this.isRecording()||(a=this.nodeBuilder.buildCompositeNode(n));const s=this.wrapper.wrapSubrule(e,r,i);!this.isRecording()&&a&&a.length>0&&this.performSubruleAssignment(s,n,a)}performSubruleAssignment(e,r,n){const{assignment:i,isCrossRef:a}=this.getAssignment(r);if(i)this.assign(i.operator,i.feature,e,n,a);else if(!i){const s=this.current;if(sE(s))s.value+=e.toString();else if(typeof e=="object"&&e){const o=e.$type,l=this.assignWithoutOverride(e,s);o&&(l.$type=o);const u=l;this.stack.pop(),this.stack.push(u)}}}action(e,r){if(!this.isRecording()){let n=this.current;if(!n.$cstNode&&r.feature&&r.operator){n=this.construct(!1);const a=n.$cstNode.feature;this.nodeBuilder.buildCompositeNode(a)}const i={$type:e};this.stack.pop(),this.stack.push(i),r.feature&&r.operator&&this.assign(r.operator,r.feature,n,n.$cstNode,!1)}}construct(e=!0){if(this.isRecording())return;const r=this.current;return SRe(r),this.nodeBuilder.construct(r),e&&this.stack.pop(),sE(r)?this.converter.convert(r.value,r.$cstNode):(ARe(this.astReflection,r),r)}getAssignment(e){if(!this.assignmentMap.has(e)){const r=r6(e,zd);this.assignmentMap.set(e,{assignment:r,isCrossRef:r?tL(r.terminal):!1})}return this.assignmentMap.get(e)}assign(e,r,n,i,a){const s=this.current;let o;switch(a&&typeof n=="string"?o=this.linker.buildReference(s,r,i,n):o=n,e){case"=":{s[r]=o;break}case"?=":{s[r]=!0;break}case"+=":Array.isArray(s[r])||(s[r]=[]),s[r].push(o)}}assignWithoutOverride(e,r){for(const[n,i]of Object.entries(r)){const a=e[n];a===void 0?e[n]=i:Array.isArray(a)&&Array.isArray(i)&&(i.push(...a),e[n]=i)}return e}get definitionErrors(){return this.wrapper.definitionErrors}}class qDe{buildMismatchTokenMessage(e){return u0.buildMismatchTokenMessage(e)}buildNotAllInputParsedMessage(e){return u0.buildNotAllInputParsedMessage(e)}buildNoViableAltMessage(e){return u0.buildNoViableAltMessage(e)}buildEarlyExitMessage(e){return u0.buildEarlyExitMessage(e)}}class gte extends qDe{buildMismatchTokenMessage({expected:e,actual:r}){return`Expecting ${e.LABEL?"`"+e.LABEL+"`":e.name.endsWith(":KW")?`keyword '${e.name.substring(0,e.name.length-3)}'`:`token of type '${e.name}'`} but found \`${r.image}\`.`}buildNotAllInputParsedMessage({firstRedundant:e}){return`Expecting end of file but found \`${e.image}\`.`}}class jDe extends pte{constructor(){super(...arguments),this.tokens=[],this.elementStack=[],this.lastElementStack=[],this.nextTokenIndex=0,this.stackSize=0}action(){}construct(){}parse(e){this.resetState();const r=this.lexer.tokenize(e);return this.tokens=r.tokens,this.wrapper.input=[...this.tokens],this.mainRule.call(this.wrapper,{}),this.unorderedGroups.clear(),{tokens:this.tokens,elementStack:[...this.lastElementStack],tokenIndex:this.nextTokenIndex}}rule(e,r){const n=this.wrapper.DEFINE_RULE(fte(e.name),this.startImplementation(r).bind(this));return e.entry&&(this.mainRule=n),n}resetState(){this.elementStack=[],this.lastElementStack=[],this.nextTokenIndex=0,this.stackSize=0}startImplementation(e){return r=>{const n=this.keepStackSize();try{e(r)}finally{this.resetStackSize(n)}}}removeUnexpectedElements(){this.elementStack.splice(this.stackSize)}keepStackSize(){const e=this.elementStack.length;return this.stackSize=e,e}resetStackSize(e){this.removeUnexpectedElements(),this.stackSize=e}consume(e,r,n){this.wrapper.wrapConsume(e,r),this.isRecording()||(this.lastElementStack=[...this.elementStack,n],this.nextTokenIndex=this.currIdx+1)}subrule(e,r,n,i){this.before(n),this.wrapper.wrapSubrule(e,r,i),this.after(n)}before(e){this.isRecording()||this.elementStack.push(e)}after(e){if(!this.isRecording()){const r=this.elementStack.lastIndexOf(e);r>=0&&this.elementStack.splice(r)}}get currIdx(){return this.wrapper.currIdx}}const XDe={recoveryEnabled:!0,nodeLocationTracking:"full",skipValidations:!0,errorMessageProvider:new gte};class KDe extends nDe{constructor(e,r){const n=r&&"maxLookahead"in r;super(e,Object.assign(Object.assign(Object.assign({},XDe),{lookaheadStrategy:n?new dL({maxLookahead:r.maxLookahead}):new EDe}),r))}get IS_RECORDING(){return this.RECORDING_PHASE}DEFINE_RULE(e,r){return this.RULE(e,r)}wrapSelfAnalysis(){this.performSelfAnalysis()}wrapConsume(e,r){return this.consume(e,r)}wrapSubrule(e,r,n){return this.subrule(e,r,{ARGS:[n]})}wrapOr(e,r){this.or(e,r)}wrapOption(e,r){this.option(e,r)}wrapMany(e,r){this.many(e,r)}wrapAtLeastOne(e,r){this.atLeastOne(e,r)}}function mte(t,e,r){return QDe({parser:e,tokens:r,rules:new Map,ruleNames:new Map},t),e}function QDe(t,e){const r=pee(e,!1),n=Gi(e.rules).filter(xo).filter(i=>r.has(i));for(const i of n){const a=Object.assign(Object.assign({},t),{consume:1,optional:1,subrule:1,many:1,or:1});a.rules.set(i.name,t.parser.rule(i,Hd(a,i.definition)))}}function Hd(t,e,r=!1){let n;if(Ud(e))n=iOe(t,e);else if(t6(e))n=ZDe(t,e);else if(zd(e))n=Hd(t,e.terminal);else if(tL(e))n=vte(t,e);else if(Vd(e))n=JDe(t,e);else if(qJ(e))n=tOe(t,e);else if(oee(e))n=rOe(t,e);else if(rL(e))n=nOe(t,e);else if(vRe(e)){const i=t.consume++;n=()=>t.parser.consume(i,oh,e)}else throw new NJ(e.$cstNode,`Unexpected element type: ${e.$type}`);return yte(t,r?void 0:q3(e),n,e.cardinality)}function ZDe(t,e){const r=a6(e);return()=>t.parser.action(r,e)}function JDe(t,e){const r=e.rule.ref;if(xo(r)){const n=t.subrule++,i=e.arguments.length>0?eOe(r,e.arguments):()=>({});return a=>t.parser.subrule(n,xte(t,r),e,i(a))}else if(wf(r)){const n=t.consume++,i=RC(t,r.name);return()=>t.parser.consume(n,i,e)}else if(r)e6();else throw new NJ(e.$cstNode,`Undefined rule type: ${e.$type}`)}function eOe(t,e){const r=e.map(n=>lc(n.value));return n=>{const i={};for(let a=0;a<r.length;a++){const s=t.parameters[a],o=r[a];i[s.name]=o(n)}return i}}function lc(t){if(iRe(t)){const e=lc(t.left),r=lc(t.right);return n=>e(n)||r(n)}else if(nRe(t)){const e=lc(t.left),r=lc(t.right);return n=>e(n)&&r(n)}else if(sRe(t)){const e=lc(t.value);return r=>!e(r)}else if(cRe(t)){const e=t.parameter.ref.name;return r=>r!==void 0&&r[e]===!0}else if(rRe(t)){const e=!!t.true;return()=>e}e6()}function tOe(t,e){if(e.elements.length===1)return Hd(t,e.elements[0]);{const r=[];for(const i of e.elements){const a={ALT:Hd(t,i,!0)},s=q3(i);s&&(a.GATE=lc(s)),r.push(a)}const n=t.or++;return i=>t.parser.alternatives(n,r.map(a=>{const s={ALT:()=>a.ALT(i)},o=a.GATE;return o&&(s.GATE=()=>o(i)),s}))}}function rOe(t,e){if(e.elements.length===1)return Hd(t,e.elements[0]);const r=[];for(const o of e.elements){const l={ALT:Hd(t,o,!0)},u=q3(o);u&&(l.GATE=lc(u)),r.push(l)}const n=t.or++,i=(o,l)=>{const u=l.getRuleStack().join("-");return`uGroup_${o}_${u}`},a=o=>t.parser.alternatives(n,r.map((l,u)=>{const h={ALT:()=>!0},d=t.parser;h.ALT=()=>{if(l.ALT(o),!d.isRecording()){const f=i(n,d);d.unorderedGroups.get(f)||d.unorderedGroups.set(f,[]);const g=d.unorderedGroups.get(f);typeof(g==null?void 0:g[u])>"u"&&(g[u]=!0)}};const p=l.GATE;return p?h.GATE=()=>p(o):h.GATE=()=>{const f=d.unorderedGroups.get(i(n,d));return!(f!=null&&f[u])},h})),s=yte(t,q3(e),a,"*");return o=>{s(o),t.parser.isRecording()||t.parser.unorderedGroups.delete(i(n,t.parser))}}function nOe(t,e){const r=e.elements.map(n=>Hd(t,n));return n=>r.forEach(i=>i(n))}function q3(t){if(rL(t))return t.guardCondition}function vte(t,e,r=e.terminal){if(r)if(Vd(r)&&xo(r.rule.ref)){const n=t.subrule++;return i=>t.parser.subrule(n,xte(t,r.rule.ref),e,i)}else if(Vd(r)&&wf(r.rule.ref)){const n=t.consume++,i=RC(t,r.rule.ref.name);return()=>t.parser.consume(n,i,e)}else if(Ud(r)){const n=t.consume++,i=RC(t,r.value);return()=>t.parser.consume(n,i,e)}else throw new Error("Could not build cross reference parser");else{if(!e.type.ref)throw new Error("Could not resolve reference to type: "+e.type.$refText);const n=vee(e.type.ref),i=n==null?void 0:n.terminal;if(!i)throw new Error("Could not find name assignment for type: "+a6(e.type.ref));return vte(t,e,i)}}function iOe(t,e){const r=t.consume++,n=t.tokens[e.value];if(!n)throw new Error("Could not find token for keyword: "+e.value);return()=>t.parser.consume(r,n,e)}function yte(t,e,r,n){const i=e&&lc(e);if(!n)if(i){const a=t.or++;return s=>t.parser.alternatives(a,[{ALT:()=>r(s),GATE:()=>i(s)},{ALT:OP(),GATE:()=>!i(s)}])}else return r;if(n==="*"){const a=t.many++;return s=>t.parser.many(a,{DEF:()=>r(s),GATE:i?()=>i(s):void 0})}else if(n==="+"){const a=t.many++;if(i){const s=t.or++;return o=>t.parser.alternatives(s,[{ALT:()=>t.parser.atLeastOne(a,{DEF:()=>r(o)}),GATE:()=>i(o)},{ALT:OP(),GATE:()=>!i(o)}])}else return s=>t.parser.atLeastOne(a,{DEF:()=>r(s)})}else if(n==="?"){const a=t.optional++;return s=>t.parser.optional(a,{DEF:()=>r(s),GATE:i?()=>i(s):void 0})}else e6()}function xte(t,e){const r=aOe(t,e),n=t.rules.get(r);if(!n)throw new Error(`Rule "${r}" not found."`);return n}function aOe(t,e){if(xo(e))return e.name;if(t.ruleNames.has(e))return t.ruleNames.get(e);{let r=e,n=r.$container,i=e.$type;for(;!xo(n);)(rL(n)||qJ(n)||oee(n))&&(i=n.elements.indexOf(r).toString()+":"+i),r=n,n=n.$container;return i=n.name+":"+i,t.ruleNames.set(e,i),i}}function RC(t,e){const r=t.tokens[e];if(!r)throw new Error(`Token "${e}" not found."`);return r}function sOe(t){const e=t.Grammar,r=t.parser.Lexer,n=new jDe(t);return mte(e,n,r.definition),n.finalize(),n}function oOe(t){const e=lOe(t);return e.finalize(),e}function lOe(t){const e=t.Grammar,r=t.parser.Lexer,n=new YDe(t);return mte(e,n,r.definition)}class bte{buildTokens(e,r){const n=Gi(pee(e,!1)),i=this.buildTerminalTokens(n),a=this.buildKeywordTokens(n,i,r);return i.forEach(s=>{const o=s.PATTERN;typeof o=="object"&&o&&"test"in o&&hP(o)?a.unshift(s):a.push(s)}),a}buildTerminalTokens(e){return e.filter(wf).filter(r=>!r.fragment).map(r=>this.buildTerminalToken(r)).toArray()}buildTerminalToken(e){const r=sL(e),n=this.requiresCustomPattern(r)?this.regexPatternFunction(r):r,i={name:e.name,PATTERN:n,LINE_BREAKS:!0};return e.hidden&&(i.GROUP=hP(r)?ls.SKIPPED:"hidden"),i}requiresCustomPattern(e){return e.flags.includes("u")?!0:!!(e.source.includes("?<=")||e.source.includes("?<!"))}regexPatternFunction(e){const r=new RegExp(e,e.flags+"y");return(n,i)=>(r.lastIndex=i,r.exec(n))}buildKeywordTokens(e,r,n){return e.filter(xo).flatMap(i=>Gy(i).filter(Ud)).distinct(i=>i.value).toArray().sort((i,a)=>a.value.length-i.value.length).map(i=>this.buildKeywordToken(i,r,!!(n!=null&&n.caseInsensitive)))}buildKeywordToken(e,r,n){return{name:e.value,PATTERN:this.buildKeywordPattern(e,n),LONGER_ALT:this.findLongerAlt(e,r)}}buildKeywordPattern(e,r){return r?new RegExp(ORe(e.value)):e.value}findLongerAlt(e,r){return r.reduce((n,i)=>{const a=i==null?void 0:i.PATTERN;return a!=null&&a.source&&PRe("^"+a.source+"$",e.value)&&n.push(i),n},[])}}class wte{convert(e,r){let n=r.grammarSource;if(tL(n)&&(n=zRe(n)),Vd(n)){const i=n.rule.ref;if(!i)throw new Error("This cst node was not parsed by a rule.");return this.runConverter(i,e,r)}return e}runConverter(e,r,n){var i;switch(e.name.toUpperCase()){case"INT":return nc.convertInt(r);case"STRING":return nc.convertString(r);case"ID":return nc.convertID(r)}switch((i=qRe(e))===null||i===void 0?void 0:i.toLowerCase()){case"number":return nc.convertNumber(r);case"boolean":return nc.convertBoolean(r);case"bigint":return nc.convertBigint(r);case"date":return nc.convertDate(r);default:return r}}}var nc;(function(t){function e(u){let h="";for(let d=1;d<u.length-1;d++){const p=u.charAt(d);if(p==="\\"){const f=u.charAt(++d);h+=r(f)}else h+=p}return h}t.convertString=e;function r(u){switch(u){case"b":return"\b";case"f":return"\f";case"n":return`
`;case"r":return"\r";case"t":return"	";case"v":return"\v";case"0":return"\0";default:return u}}function n(u){return u.charAt(0)==="^"?u.substring(1):u}t.convertID=n;function i(u){return parseInt(u)}t.convertInt=i;function a(u){return BigInt(u)}t.convertBigint=a;function s(u){return new Date(u)}t.convertDate=s;function o(u){return Number(u)}t.convertNumber=o;function l(u){return u.toLowerCase()==="true"}t.convertBoolean=l})(nc||(nc={}));var Bv={},f6={};Object.defineProperty(f6,"__esModule",{value:!0});let MC;function IC(){if(MC===void 0)throw new Error("No runtime abstraction layer installed");return MC}(function(t){function e(r){if(r===void 0)throw new Error("No runtime abstraction layer provided");MC=r}t.install=e})(IC||(IC={}));f6.default=IC;var ha={};Object.defineProperty(ha,"__esModule",{value:!0});ha.stringArray=ha.array=ha.func=ha.error=ha.number=ha.string=ha.boolean=void 0;function cOe(t){return t===!0||t===!1}ha.boolean=cOe;function kte(t){return typeof t=="string"||t instanceof String}ha.string=kte;function uOe(t){return typeof t=="number"||t instanceof Number}ha.number=uOe;function hOe(t){return t instanceof Error}ha.error=hOe;function dOe(t){return typeof t=="function"}ha.func=dOe;function Tte(t){return Array.isArray(t)}ha.array=Tte;function fOe(t){return Tte(t)&&t.every(e=>kte(e))}ha.stringArray=fOe;var sg={};Object.defineProperty(sg,"__esModule",{value:!0});sg.Emitter=sg.Event=void 0;const pOe=f6;var UF;(function(t){const e={dispose(){}};t.None=function(){return e}})(UF||(sg.Event=UF={}));class gOe{add(e,r=null,n){this._callbacks||(this._callbacks=[],this._contexts=[]),this._callbacks.push(e),this._contexts.push(r),Array.isArray(n)&&n.push({dispose:()=>this.remove(e,r)})}remove(e,r=null){if(!this._callbacks)return;let n=!1;for(let i=0,a=this._callbacks.length;i<a;i++)if(this._callbacks[i]===e)if(this._contexts[i]===r){this._callbacks.splice(i,1),this._contexts.splice(i,1);return}else n=!0;if(n)throw new Error("When adding a listener with a context, you should remove it with the same context")}invoke(...e){if(!this._callbacks)return[];const r=[],n=this._callbacks.slice(0),i=this._contexts.slice(0);for(let a=0,s=n.length;a<s;a++)try{r.push(n[a].apply(i[a],e))}catch(o){(0,pOe.default)().console.error(o)}return r}isEmpty(){return!this._callbacks||this._callbacks.length===0}dispose(){this._callbacks=void 0,this._contexts=void 0}}let Ete=class Ste{constructor(e){this._options=e}get event(){return this._event||(this._event=(e,r,n)=>{this._callbacks||(this._callbacks=new gOe),this._options&&this._options.onFirstListenerAdd&&this._callbacks.isEmpty()&&this._options.onFirstListenerAdd(this),this._callbacks.add(e,r);const i={dispose:()=>{this._callbacks&&(this._callbacks.remove(e,r),i.dispose=Ste._noop,this._options&&this._options.onLastListenerRemove&&this._callbacks.isEmpty()&&this._options.onLastListenerRemove(this))}};return Array.isArray(n)&&n.push(i),i}),this._event}fire(e){this._callbacks&&this._callbacks.invoke.call(this._callbacks,e)}dispose(){this._callbacks&&(this._callbacks.dispose(),this._callbacks=void 0)}};sg.Emitter=Ete;Ete._noop=function(){};var Li;Object.defineProperty(Bv,"__esModule",{value:!0});var DC=Bv.CancellationTokenSource=Li=Bv.CancellationToken=void 0;const mOe=f6,vOe=ha,OC=sg;var j3;(function(t){t.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:OC.Event.None}),t.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:OC.Event.None});function e(r){const n=r;return n&&(n===t.None||n===t.Cancelled||vOe.boolean(n.isCancellationRequested)&&!!n.onCancellationRequested)}t.is=e})(j3||(Li=Bv.CancellationToken=j3={}));const yOe=Object.freeze(function(t,e){const r=(0,mOe.default)().timer.setTimeout(t.bind(e),0);return{dispose(){r.dispose()}}});class VF{constructor(){this._isCancelled=!1}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?yOe:(this._emitter||(this._emitter=new OC.Emitter),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=void 0)}}class xOe{get token(){return this._token||(this._token=new VF),this._token}cancel(){this._token?this._token.cancel():this._token=j3.Cancelled}dispose(){this._token?this._token instanceof VF&&this._token.dispose():this._token=j3.None}}DC=Bv.CancellationTokenSource=xOe;function bOe(){return new Promise(t=>{typeof setImmediate>"u"?setTimeout(t,0):setImmediate(t)})}let GF=0,wOe=10;const X3=Symbol("OperationCancelled");function bL(t){return t===X3}async function Wo(t){if(t===Li.None)return;const e=Date.now();if(e-GF>=wOe&&(GF=e,await bOe()),t.isCancellationRequested)throw X3}class wL{constructor(){this.promise=new Promise((e,r)=>{this.resolve=n=>(e(n),this),this.reject=n=>(r(n),this)})}}class $v{constructor(e,r,n,i){this._uri=e,this._languageId=r,this._version=n,this._content=i,this._lineOffsets=void 0}get uri(){return this._uri}get languageId(){return this._languageId}get version(){return this._version}getText(e){if(e){const r=this.offsetAt(e.start),n=this.offsetAt(e.end);return this._content.substring(r,n)}return this._content}update(e,r){for(const n of e)if($v.isIncremental(n)){const i=Ate(n.range),a=this.offsetAt(i.start),s=this.offsetAt(i.end);this._content=this._content.substring(0,a)+n.text+this._content.substring(s,this._content.length);const o=Math.max(i.start.line,0),l=Math.max(i.end.line,0);let u=this._lineOffsets;const h=HF(n.text,!1,a);if(l-o===h.length)for(let p=0,f=h.length;p<f;p++)u[p+o+1]=h[p];else h.length<1e4?u.splice(o+1,l-o,...h):this._lineOffsets=u=u.slice(0,o+1).concat(h,u.slice(l+1));const d=n.text.length-(s-a);if(d!==0)for(let p=o+1+h.length,f=u.length;p<f;p++)u[p]=u[p]+d}else if($v.isFull(n))this._content=n.text,this._lineOffsets=void 0;else throw new Error("Unknown change event received");this._version=r}getLineOffsets(){return this._lineOffsets===void 0&&(this._lineOffsets=HF(this._content,!0)),this._lineOffsets}positionAt(e){e=Math.max(Math.min(e,this._content.length),0);const r=this.getLineOffsets();let n=0,i=r.length;if(i===0)return{line:0,character:e};for(;n<i;){const s=Math.floor((n+i)/2);r[s]>e?i=s:n=s+1}const a=n-1;return e=this.ensureBeforeEOL(e,r[a]),{line:a,character:e-r[a]}}offsetAt(e){const r=this.getLineOffsets();if(e.line>=r.length)return this._content.length;if(e.line<0)return 0;const n=r[e.line];if(e.character<=0)return n;const i=e.line+1<r.length?r[e.line+1]:this._content.length,a=Math.min(n+e.character,i);return this.ensureBeforeEOL(a,n)}ensureBeforeEOL(e,r){for(;e>r&&Cte(this._content.charCodeAt(e-1));)e--;return e}get lineCount(){return this.getLineOffsets().length}static isIncremental(e){const r=e;return r!=null&&typeof r.text=="string"&&r.range!==void 0&&(r.rangeLength===void 0||typeof r.rangeLength=="number")}static isFull(e){const r=e;return r!=null&&typeof r.text=="string"&&r.range===void 0&&r.rangeLength===void 0}}var PC;(function(t){function e(i,a,s,o){return new $v(i,a,s,o)}t.create=e;function r(i,a,s){if(i instanceof $v)return i.update(a,s),i;throw new Error("TextDocument.update: document must be created by TextDocument.create")}t.update=r;function n(i,a){const s=i.getText(),o=FC(a.map(kOe),(h,d)=>{const p=h.range.start.line-d.range.start.line;return p===0?h.range.start.character-d.range.start.character:p});let l=0;const u=[];for(const h of o){const d=i.offsetAt(h.range.start);if(d<l)throw new Error("Overlapping edit");d>l&&u.push(s.substring(l,d)),h.newText.length&&u.push(h.newText),l=i.offsetAt(h.range.end)}return u.push(s.substr(l)),u.join("")}t.applyEdits=n})(PC||(PC={}));function FC(t,e){if(t.length<=1)return t;const r=t.length/2|0,n=t.slice(0,r),i=t.slice(r);FC(n,e),FC(i,e);let a=0,s=0,o=0;for(;a<n.length&&s<i.length;)e(n[a],i[s])<=0?t[o++]=n[a++]:t[o++]=i[s++];for(;a<n.length;)t[o++]=n[a++];for(;s<i.length;)t[o++]=i[s++];return t}function HF(t,e,r=0){const n=e?[r]:[];for(let i=0;i<t.length;i++){const a=t.charCodeAt(i);Cte(a)&&(a===13&&i+1<t.length&&t.charCodeAt(i+1)===10&&i++,n.push(r+i+1))}return n}function Cte(t){return t===13||t===10}function Ate(t){const e=t.start,r=t.end;return e.line>r.line||e.line===r.line&&e.character>r.character?{start:r,end:e}:t}function kOe(t){const e=Ate(t.range);return e!==t.range?{newText:t.newText,range:e}:t}var _te;(()=>{var t={470:i=>{function a(l){if(typeof l!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(l))}function s(l,u){for(var h,d="",p=0,f=-1,g=0,m=0;m<=l.length;++m){if(m<l.length)h=l.charCodeAt(m);else{if(h===47)break;h=47}if(h===47){if(!(f===m-1||g===1))if(f!==m-1&&g===2){if(d.length<2||p!==2||d.charCodeAt(d.length-1)!==46||d.charCodeAt(d.length-2)!==46){if(d.length>2){var y=d.lastIndexOf("/");if(y!==d.length-1){y===-1?(d="",p=0):p=(d=d.slice(0,y)).length-1-d.lastIndexOf("/"),f=m,g=0;continue}}else if(d.length===2||d.length===1){d="",p=0,f=m,g=0;continue}}u&&(d.length>0?d+="/..":d="..",p=2)}else d.length>0?d+="/"+l.slice(f+1,m):d=l.slice(f+1,m),p=m-f-1;f=m,g=0}else h===46&&g!==-1?++g:g=-1}return d}var o={resolve:function(){for(var l,u="",h=!1,d=arguments.length-1;d>=-1&&!h;d--){var p;d>=0?p=arguments[d]:(l===void 0&&(l=process.cwd()),p=l),a(p),p.length!==0&&(u=p+"/"+u,h=p.charCodeAt(0)===47)}return u=s(u,!h),h?u.length>0?"/"+u:"/":u.length>0?u:"."},normalize:function(l){if(a(l),l.length===0)return".";var u=l.charCodeAt(0)===47,h=l.charCodeAt(l.length-1)===47;return(l=s(l,!u)).length!==0||u||(l="."),l.length>0&&h&&(l+="/"),u?"/"+l:l},isAbsolute:function(l){return a(l),l.length>0&&l.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var l,u=0;u<arguments.length;++u){var h=arguments[u];a(h),h.length>0&&(l===void 0?l=h:l+="/"+h)}return l===void 0?".":o.normalize(l)},relative:function(l,u){if(a(l),a(u),l===u||(l=o.resolve(l))===(u=o.resolve(u)))return"";for(var h=1;h<l.length&&l.charCodeAt(h)===47;++h);for(var d=l.length,p=d-h,f=1;f<u.length&&u.charCodeAt(f)===47;++f);for(var g=u.length-f,m=p<g?p:g,y=-1,v=0;v<=m;++v){if(v===m){if(g>m){if(u.charCodeAt(f+v)===47)return u.slice(f+v+1);if(v===0)return u.slice(f+v)}else p>m&&(l.charCodeAt(h+v)===47?y=v:v===0&&(y=0));break}var x=l.charCodeAt(h+v);if(x!==u.charCodeAt(f+v))break;x===47&&(y=v)}var w="";for(v=h+y+1;v<=d;++v)v!==d&&l.charCodeAt(v)!==47||(w.length===0?w+="..":w+="/..");return w.length>0?w+u.slice(f+y):(f+=y,u.charCodeAt(f)===47&&++f,u.slice(f))},_makeLong:function(l){return l},dirname:function(l){if(a(l),l.length===0)return".";for(var u=l.charCodeAt(0),h=u===47,d=-1,p=!0,f=l.length-1;f>=1;--f)if((u=l.charCodeAt(f))===47){if(!p){d=f;break}}else p=!1;return d===-1?h?"/":".":h&&d===1?"//":l.slice(0,d)},basename:function(l,u){if(u!==void 0&&typeof u!="string")throw new TypeError('"ext" argument must be a string');a(l);var h,d=0,p=-1,f=!0;if(u!==void 0&&u.length>0&&u.length<=l.length){if(u.length===l.length&&u===l)return"";var g=u.length-1,m=-1;for(h=l.length-1;h>=0;--h){var y=l.charCodeAt(h);if(y===47){if(!f){d=h+1;break}}else m===-1&&(f=!1,m=h+1),g>=0&&(y===u.charCodeAt(g)?--g==-1&&(p=h):(g=-1,p=m))}return d===p?p=m:p===-1&&(p=l.length),l.slice(d,p)}for(h=l.length-1;h>=0;--h)if(l.charCodeAt(h)===47){if(!f){d=h+1;break}}else p===-1&&(f=!1,p=h+1);return p===-1?"":l.slice(d,p)},extname:function(l){a(l);for(var u=-1,h=0,d=-1,p=!0,f=0,g=l.length-1;g>=0;--g){var m=l.charCodeAt(g);if(m!==47)d===-1&&(p=!1,d=g+1),m===46?u===-1?u=g:f!==1&&(f=1):u!==-1&&(f=-1);else if(!p){h=g+1;break}}return u===-1||d===-1||f===0||f===1&&u===d-1&&u===h+1?"":l.slice(u,d)},format:function(l){if(l===null||typeof l!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof l);return function(u,h){var d=h.dir||h.root,p=h.base||(h.name||"")+(h.ext||"");return d?d===h.root?d+p:d+"/"+p:p}(0,l)},parse:function(l){a(l);var u={root:"",dir:"",base:"",ext:"",name:""};if(l.length===0)return u;var h,d=l.charCodeAt(0),p=d===47;p?(u.root="/",h=1):h=0;for(var f=-1,g=0,m=-1,y=!0,v=l.length-1,x=0;v>=h;--v)if((d=l.charCodeAt(v))!==47)m===-1&&(y=!1,m=v+1),d===46?f===-1?f=v:x!==1&&(x=1):f!==-1&&(x=-1);else if(!y){g=v+1;break}return f===-1||m===-1||x===0||x===1&&f===m-1&&f===g+1?m!==-1&&(u.base=u.name=g===0&&p?l.slice(1,m):l.slice(g,m)):(g===0&&p?(u.name=l.slice(1,f),u.base=l.slice(1,m)):(u.name=l.slice(g,f),u.base=l.slice(g,m)),u.ext=l.slice(f,m)),g>0?u.dir=l.slice(0,g-1):p&&(u.dir="/"),u},sep:"/",delimiter:":",win32:null,posix:null};o.posix=o,i.exports=o}},e={};function r(i){var a=e[i];if(a!==void 0)return a.exports;var s=e[i]={exports:{}};return t[i](s,s.exports,r),s.exports}r.d=(i,a)=>{for(var s in a)r.o(a,s)&&!r.o(i,s)&&Object.defineProperty(i,s,{enumerable:!0,get:a[s]})},r.o=(i,a)=>Object.prototype.hasOwnProperty.call(i,a),r.r=i=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(i,"__esModule",{value:!0})};var n={};(()=>{let i;r.r(n),r.d(n,{URI:()=>p,Utils:()=>L}),typeof process=="object"?i=process.platform==="win32":typeof navigator=="object"&&(i=navigator.userAgent.indexOf("Windows")>=0);const a=/^\w[\w\d+.-]*$/,s=/^\//,o=/^\/\//;function l(A,N){if(!A.scheme&&N)throw new Error(`[UriError]: Scheme is missing: {scheme: "", authority: "${A.authority}", path: "${A.path}", query: "${A.query}", fragment: "${A.fragment}"}`);if(A.scheme&&!a.test(A.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(A.path){if(A.authority){if(!s.test(A.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(o.test(A.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}}const u="",h="/",d=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/;class p{constructor(N,F,T,D,M,O=!1){br(this,"scheme");br(this,"authority");br(this,"path");br(this,"query");br(this,"fragment");typeof N=="object"?(this.scheme=N.scheme||u,this.authority=N.authority||u,this.path=N.path||u,this.query=N.query||u,this.fragment=N.fragment||u):(this.scheme=function(I,P){return I||P?I:"file"}(N,O),this.authority=F||u,this.path=function(I,P){switch(I){case"https":case"http":case"file":P?P[0]!==h&&(P=h+P):P=h}return P}(this.scheme,T||u),this.query=D||u,this.fragment=M||u,l(this,O))}static isUri(N){return N instanceof p||!!N&&typeof N.authority=="string"&&typeof N.fragment=="string"&&typeof N.path=="string"&&typeof N.query=="string"&&typeof N.scheme=="string"&&typeof N.fsPath=="string"&&typeof N.with=="function"&&typeof N.toString=="function"}get fsPath(){return x(this)}with(N){if(!N)return this;let{scheme:F,authority:T,path:D,query:M,fragment:O}=N;return F===void 0?F=this.scheme:F===null&&(F=u),T===void 0?T=this.authority:T===null&&(T=u),D===void 0?D=this.path:D===null&&(D=u),M===void 0?M=this.query:M===null&&(M=u),O===void 0?O=this.fragment:O===null&&(O=u),F===this.scheme&&T===this.authority&&D===this.path&&M===this.query&&O===this.fragment?this:new g(F,T,D,M,O)}static parse(N,F=!1){const T=d.exec(N);return T?new g(T[2]||u,_(T[4]||u),_(T[5]||u),_(T[7]||u),_(T[9]||u),F):new g(u,u,u,u,u)}static file(N){let F=u;if(i&&(N=N.replace(/\\/g,h)),N[0]===h&&N[1]===h){const T=N.indexOf(h,2);T===-1?(F=N.substring(2),N=h):(F=N.substring(2,T),N=N.substring(T)||h)}return new g("file",F,N,u,u)}static from(N){const F=new g(N.scheme,N.authority,N.path,N.query,N.fragment);return l(F,!0),F}toString(N=!1){return w(this,N)}toJSON(){return this}static revive(N){if(N){if(N instanceof p)return N;{const F=new g(N);return F._formatted=N.external,F._fsPath=N._sep===f?N.fsPath:null,F}}return N}}const f=i?1:void 0;class g extends p{constructor(){super(...arguments);br(this,"_formatted",null);br(this,"_fsPath",null)}get fsPath(){return this._fsPath||(this._fsPath=x(this)),this._fsPath}toString(F=!1){return F?w(this,!0):(this._formatted||(this._formatted=w(this,!1)),this._formatted)}toJSON(){const F={$mid:1};return this._fsPath&&(F.fsPath=this._fsPath,F._sep=f),this._formatted&&(F.external=this._formatted),this.path&&(F.path=this.path),this.scheme&&(F.scheme=this.scheme),this.authority&&(F.authority=this.authority),this.query&&(F.query=this.query),this.fragment&&(F.fragment=this.fragment),F}}const m={58:"%3A",47:"%2F",63:"%3F",35:"%23",91:"%5B",93:"%5D",64:"%40",33:"%21",36:"%24",38:"%26",39:"%27",40:"%28",41:"%29",42:"%2A",43:"%2B",44:"%2C",59:"%3B",61:"%3D",32:"%20"};function y(A,N,F){let T,D=-1;for(let M=0;M<A.length;M++){const O=A.charCodeAt(M);if(O>=97&&O<=122||O>=65&&O<=90||O>=48&&O<=57||O===45||O===46||O===95||O===126||N&&O===47||F&&O===91||F&&O===93||F&&O===58)D!==-1&&(T+=encodeURIComponent(A.substring(D,M)),D=-1),T!==void 0&&(T+=A.charAt(M));else{T===void 0&&(T=A.substr(0,M));const I=m[O];I!==void 0?(D!==-1&&(T+=encodeURIComponent(A.substring(D,M)),D=-1),T+=I):D===-1&&(D=M)}}return D!==-1&&(T+=encodeURIComponent(A.substring(D))),T!==void 0?T:A}function v(A){let N;for(let F=0;F<A.length;F++){const T=A.charCodeAt(F);T===35||T===63?(N===void 0&&(N=A.substr(0,F)),N+=m[T]):N!==void 0&&(N+=A[F])}return N!==void 0?N:A}function x(A,N){let F;return F=A.authority&&A.path.length>1&&A.scheme==="file"?`//${A.authority}${A.path}`:A.path.charCodeAt(0)===47&&(A.path.charCodeAt(1)>=65&&A.path.charCodeAt(1)<=90||A.path.charCodeAt(1)>=97&&A.path.charCodeAt(1)<=122)&&A.path.charCodeAt(2)===58?A.path[1].toLowerCase()+A.path.substr(2):A.path,i&&(F=F.replace(/\//g,"\\")),F}function w(A,N){const F=N?v:y;let T="",{scheme:D,authority:M,path:O,query:I,fragment:P}=A;if(D&&(T+=D,T+=":"),(M||D==="file")&&(T+=h,T+=h),M){let B=M.indexOf("@");if(B!==-1){const $=M.substr(0,B);M=M.substr(B+1),B=$.lastIndexOf(":"),B===-1?T+=F($,!1,!1):(T+=F($.substr(0,B),!1,!1),T+=":",T+=F($.substr(B+1),!1,!0)),T+="@"}M=M.toLowerCase(),B=M.lastIndexOf(":"),B===-1?T+=F(M,!1,!0):(T+=F(M.substr(0,B),!1,!0),T+=M.substr(B))}if(O){if(O.length>=3&&O.charCodeAt(0)===47&&O.charCodeAt(2)===58){const B=O.charCodeAt(1);B>=65&&B<=90&&(O=`/${String.fromCharCode(B+32)}:${O.substr(3)}`)}else if(O.length>=2&&O.charCodeAt(1)===58){const B=O.charCodeAt(0);B>=65&&B<=90&&(O=`${String.fromCharCode(B+32)}:${O.substr(2)}`)}T+=F(O,!0,!1)}return I&&(T+="?",T+=F(I,!1,!1)),P&&(T+="#",T+=N?P:y(P,!1,!1)),T}function k(A){try{return decodeURIComponent(A)}catch{return A.length>3?A.substr(0,3)+k(A.substr(3)):A}}const E=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function _(A){return A.match(E)?A.replace(E,N=>k(N)):A}var S=r(470);const R=S.posix||S,C="/";var L;(function(A){A.joinPath=function(N,...F){return N.with({path:R.join(N.path,...F)})},A.resolvePath=function(N,...F){let T=N.path,D=!1;T[0]!==C&&(T=C+T,D=!0);let M=R.resolve(T,...F);return D&&M[0]===C&&!N.authority&&(M=M.substring(1)),N.with({path:M})},A.dirname=function(N){if(N.path.length===0||N.path===C)return N;let F=R.dirname(N.path);return F.length===1&&F.charCodeAt(0)===46&&(F=""),N.with({path:F})},A.basename=function(N){return R.basename(N.path)},A.extname=function(N){return R.extname(N.path)}})(L||(L={}))})(),_te=n})();const{URI:og,Utils:P1}=_te;var ch;(function(t){t.basename=P1.basename,t.dirname=P1.dirname,t.extname=P1.extname,t.joinPath=P1.joinPath,t.resolvePath=P1.resolvePath;function e(n,i){return(n==null?void 0:n.toString())===(i==null?void 0:i.toString())}t.equals=e;function r(n,i){const a=typeof n=="string"?n:n.path,s=typeof i=="string"?i:i.path,o=a.split("/").filter(p=>p.length>0),l=s.split("/").filter(p=>p.length>0);let u=0;for(;u<o.length&&o[u]===l[u];u++);const h="../".repeat(o.length-u),d=l.slice(u).join("/");return h+d}t.relative=r})(ch||(ch={}));var gn;(function(t){t[t.Changed=0]="Changed",t[t.Parsed=1]="Parsed",t[t.IndexedContent=2]="IndexedContent",t[t.ComputedScopes=3]="ComputedScopes",t[t.Linked=4]="Linked",t[t.IndexedReferences=5]="IndexedReferences",t[t.Validated=6]="Validated"})(gn||(gn={}));class TOe{constructor(e){this.serviceRegistry=e.ServiceRegistry,this.textDocuments=e.workspace.TextDocuments,this.fileSystemProvider=e.workspace.FileSystemProvider}async fromUri(e,r=Li.None){const n=await this.fileSystemProvider.readFile(e);return this.createAsync(e,n,r)}fromTextDocument(e,r,n){return r=r??og.parse(e.uri),n?this.createAsync(r,e,n):this.create(r,e)}fromString(e,r,n){return n?this.createAsync(r,e,n):this.create(r,e)}fromModel(e,r){return this.create(r,{$model:e})}create(e,r){if(typeof r=="string"){const n=this.parse(e,r);return this.createLangiumDocument(n,e,void 0,r)}else if("$model"in r){const n={value:r.$model,parserErrors:[],lexerErrors:[]};return this.createLangiumDocument(n,e)}else{const n=this.parse(e,r.getText());return this.createLangiumDocument(n,e,r)}}async createAsync(e,r,n){if(typeof r=="string"){const i=await this.parseAsync(e,r,n);return this.createLangiumDocument(i,e,void 0,r)}else{const i=await this.parseAsync(e,r.getText(),n);return this.createLangiumDocument(i,e,r)}}createLangiumDocument(e,r,n,i){let a;if(n)a={parseResult:e,uri:r,state:gn.Parsed,references:[],textDocument:n};else{const s=this.createTextDocumentGetter(r,i);a={parseResult:e,uri:r,state:gn.Parsed,references:[],get textDocument(){return s()}}}return e.value.$document=a,a}async update(e,r){var n,i;const a=(n=e.parseResult.value.$cstNode)===null||n===void 0?void 0:n.root.fullText,s=(i=this.textDocuments)===null||i===void 0?void 0:i.get(e.uri.toString()),o=s?s.getText():await this.fileSystemProvider.readFile(e.uri);if(s)Object.defineProperty(e,"textDocument",{value:s});else{const l=this.createTextDocumentGetter(e.uri,o);Object.defineProperty(e,"textDocument",{get:l})}return a!==o&&(e.parseResult=await this.parseAsync(e.uri,o,r),e.parseResult.value.$document=e),e.state=gn.Parsed,e}parse(e,r){return this.serviceRegistry.getServices(e).parser.LangiumParser.parse(r)}parseAsync(e,r,n){return this.serviceRegistry.getServices(e).parser.AsyncParser.parse(r,n)}createTextDocumentGetter(e,r){const n=this.serviceRegistry;let i;return()=>i??(i=PC.create(e.toString(),n.getServices(e).LanguageMetaData.languageId,0,r??""))}}class EOe{constructor(e){this.documentMap=new Map,this.langiumDocumentFactory=e.workspace.LangiumDocumentFactory}get all(){return Gi(this.documentMap.values())}addDocument(e){const r=e.uri.toString();if(this.documentMap.has(r))throw new Error(`A document with the URI '${r}' is already present.`);this.documentMap.set(r,e)}getDocument(e){const r=e.toString();return this.documentMap.get(r)}async getOrCreateDocument(e,r){let n=this.getDocument(e);return n||(n=await this.langiumDocumentFactory.fromUri(e,r),this.addDocument(n),n)}createDocument(e,r,n){if(n)return this.langiumDocumentFactory.fromString(r,e,n).then(i=>(this.addDocument(i),i));{const i=this.langiumDocumentFactory.fromString(r,e);return this.addDocument(i),i}}hasDocument(e){return this.documentMap.has(e.toString())}invalidateDocument(e){const r=e.toString(),n=this.documentMap.get(r);return n&&(n.state=gn.Changed,n.precomputedScopes=void 0,n.references=[],n.diagnostics=void 0),n}deleteDocument(e){const r=e.toString(),n=this.documentMap.get(r);return n&&(n.state=gn.Changed,this.documentMap.delete(r)),n}}class SOe{constructor(e){this.reflection=e.shared.AstReflection,this.langiumDocuments=()=>e.shared.workspace.LangiumDocuments,this.scopeProvider=e.references.ScopeProvider,this.astNodeLocator=e.workspace.AstNodeLocator}async link(e,r=Li.None){for(const n of _0(e.parseResult.value))await Wo(r),hee(n).forEach(i=>this.doLink(i,e))}doLink(e,r){const n=e.reference;if(n._ref===void 0)try{const i=this.getCandidate(e);if(Eb(i))n._ref=i;else if(n._nodeDescription=i,this.langiumDocuments().hasDocument(i.documentUri)){const a=this.loadAstNode(i);n._ref=a??this.createLinkingError(e,i)}}catch(i){n._ref=Object.assign(Object.assign({},e),{message:`An error occurred while resolving reference to '${n.$refText}': ${i}`})}r.references.push(n)}unlink(e){for(const r of e.references)delete r._ref,delete r._nodeDescription;e.references=[]}getCandidate(e){const n=this.scopeProvider.getScope(e).getElement(e.reference.$refText);return n??this.createLinkingError(e)}buildReference(e,r,n,i){const a=this,s={$refNode:n,$refText:i,get ref(){var o;if(ga(this._ref))return this._ref;if(GNe(this._nodeDescription)){const l=a.loadAstNode(this._nodeDescription);this._ref=l??a.createLinkingError({reference:s,container:e,property:r},this._nodeDescription)}else if(this._ref===void 0){const l=a.getLinkedNode({reference:s,container:e,property:r});if(l.error&&Nl(e).state<gn.ComputedScopes)return;this._ref=(o=l.node)!==null&&o!==void 0?o:l.error,this._nodeDescription=l.descr}return ga(this._ref)?this._ref:void 0},get $nodeDescription(){return this._nodeDescription},get error(){return Eb(this._ref)?this._ref:void 0}};return s}getLinkedNode(e){try{const r=this.getCandidate(e);if(Eb(r))return{error:r};const n=this.loadAstNode(r);return n?{node:n,descr:r}:{descr:r,error:this.createLinkingError(e,r)}}catch(r){return{error:Object.assign(Object.assign({},e),{message:`An error occurred while resolving reference to '${e.reference.$refText}': ${r}`})}}}loadAstNode(e){if(e.node)return e.node;const r=this.langiumDocuments().getDocument(e.documentUri);if(r)return this.astNodeLocator.getAstNode(r.parseResult.value,e.path)}createLinkingError(e,r){const n=Nl(e.container);n.state<gn.ComputedScopes&&console.warn(`Attempted reference resolution before document reached ComputedScopes state (${n.uri}).`);const i=this.reflection.getReferenceType(e);return Object.assign(Object.assign({},e),{message:`Could not resolve reference to ${i} named '${e.reference.$refText}'.`,targetDescription:r})}}function COe(t){return typeof t.name=="string"}class AOe{getName(e){if(COe(e))return e.name}getNameNode(e){return mee(e.$cstNode,"name")}}class _Oe{constructor(e){this.nameProvider=e.references.NameProvider,this.index=e.shared.workspace.IndexManager,this.nodeLocator=e.workspace.AstNodeLocator}findDeclaration(e){if(e){const r=WRe(e),n=e.astNode;if(r&&n){const i=n[r.feature];if(yl(i))return i.ref;if(Array.isArray(i)){for(const a of i)if(yl(a)&&a.$refNode&&a.$refNode.offset<=e.offset&&a.$refNode.end>=e.end)return a.ref}}if(n){const i=this.nameProvider.getNameNode(n);if(i&&(i===e||YNe(e,i)))return n}}}findDeclarationNode(e){const r=this.findDeclaration(e);if(r!=null&&r.$cstNode){const n=this.nameProvider.getNameNode(r);return n??r.$cstNode}}findReferences(e,r){const n=[];if(r.includeDeclaration){const a=this.getReferenceToSelf(e);a&&n.push(a)}let i=this.index.findAllReferences(e,this.nodeLocator.getAstNodePath(e));return r.documentUri&&(i=i.filter(a=>ch.equals(a.sourceUri,r.documentUri))),n.push(...i),Gi(n)}getReferenceToSelf(e){const r=this.nameProvider.getNameNode(e);if(r){const n=Nl(e),i=this.nodeLocator.getAstNodePath(e);return{sourceUri:n.uri,sourcePath:i,targetUri:n.uri,targetPath:i,segment:N3(r),local:!0}}}}class kL{constructor(e){if(this.map=new Map,e)for(const[r,n]of e)this.add(r,n)}get size(){return rC.sum(Gi(this.map.values()).map(e=>e.length))}clear(){this.map.clear()}delete(e,r){if(r===void 0)return this.map.delete(e);{const n=this.map.get(e);if(n){const i=n.indexOf(r);if(i>=0)return n.length===1?this.map.delete(e):n.splice(i,1),!0}return!1}}get(e){var r;return(r=this.map.get(e))!==null&&r!==void 0?r:[]}has(e,r){if(r===void 0)return this.map.has(e);{const n=this.map.get(e);return n?n.indexOf(r)>=0:!1}}add(e,r){return this.map.has(e)?this.map.get(e).push(r):this.map.set(e,[r]),this}addAll(e,r){return this.map.has(e)?this.map.get(e).push(...r):this.map.set(e,Array.from(r)),this}forEach(e){this.map.forEach((r,n)=>r.forEach(i=>e(i,n,this)))}[Symbol.iterator](){return this.entries().iterator()}entries(){return Gi(this.map.entries()).flatMap(([e,r])=>r.map(n=>[e,n]))}keys(){return Gi(this.map.keys())}values(){return Gi(this.map.values()).flat()}entriesGroupedByKey(){return Gi(this.map.entries())}}class WF{get size(){return this.map.size}constructor(e){if(this.map=new Map,this.inverse=new Map,e)for(const[r,n]of e)this.set(r,n)}clear(){this.map.clear(),this.inverse.clear()}set(e,r){return this.map.set(e,r),this.inverse.set(r,e),this}get(e){return this.map.get(e)}getKey(e){return this.inverse.get(e)}delete(e){const r=this.map.get(e);return r!==void 0?(this.map.delete(e),this.inverse.delete(r),!0):!1}}class LOe{constructor(e){this.nameProvider=e.references.NameProvider,this.descriptions=e.workspace.AstNodeDescriptionProvider}async computeExports(e,r=Li.None){return this.computeExportsForNode(e.parseResult.value,e,void 0,r)}async computeExportsForNode(e,r,n=nL,i=Li.None){const a=[];this.exportNode(e,a,r);for(const s of n(e))await Wo(i),this.exportNode(s,a,r);return a}exportNode(e,r,n){const i=this.nameProvider.getName(e);i&&r.push(this.descriptions.createDescription(e,i,n))}async computeLocalScopes(e,r=Li.None){const n=e.parseResult.value,i=new kL;for(const a of Gy(n))await Wo(r),this.processNode(a,e,i);return i}processNode(e,r,n){const i=e.$container;if(i){const a=this.nameProvider.getName(e);a&&n.add(i,this.descriptions.createDescription(e,a,r))}}}class YF{constructor(e,r,n){var i;this.elements=e,this.outerScope=r,this.caseInsensitive=(i=n==null?void 0:n.caseInsensitive)!==null&&i!==void 0?i:!1}getAllElements(){return this.outerScope?this.elements.concat(this.outerScope.getAllElements()):this.elements}getElement(e){const r=this.caseInsensitive?this.elements.find(n=>n.name.toLowerCase()===e.toLowerCase()):this.elements.find(n=>n.name===e);if(r)return r;if(this.outerScope)return this.outerScope.getElement(e)}}class NOe{constructor(e,r,n){var i;this.elements=new Map,this.caseInsensitive=(i=n==null?void 0:n.caseInsensitive)!==null&&i!==void 0?i:!1;for(const a of e){const s=this.caseInsensitive?a.name.toLowerCase():a.name;this.elements.set(s,a)}this.outerScope=r}getElement(e){const r=this.caseInsensitive?e.toLowerCase():e,n=this.elements.get(r);if(n)return n;if(this.outerScope)return this.outerScope.getElement(e)}getAllElements(){let e=Gi(this.elements.values());return this.outerScope&&(e=e.concat(this.outerScope.getAllElements())),e}}class Lte{constructor(){this.toDispose=[],this.isDisposed=!1}onDispose(e){this.toDispose.push(e)}dispose(){this.throwIfDisposed(),this.clear(),this.isDisposed=!0,this.toDispose.forEach(e=>e.dispose())}throwIfDisposed(){if(this.isDisposed)throw new Error("This cache has already been disposed")}}class ROe extends Lte{constructor(){super(...arguments),this.cache=new Map}has(e){return this.throwIfDisposed(),this.cache.has(e)}set(e,r){this.throwIfDisposed(),this.cache.set(e,r)}get(e,r){if(this.throwIfDisposed(),this.cache.has(e))return this.cache.get(e);if(r){const n=r();return this.cache.set(e,n),n}else return}delete(e){return this.throwIfDisposed(),this.cache.delete(e)}clear(){this.throwIfDisposed(),this.cache.clear()}}class MOe extends Lte{constructor(e){super(),this.cache=new Map,this.converter=e??(r=>r)}has(e,r){return this.throwIfDisposed(),this.cacheForContext(e).has(r)}set(e,r,n){this.throwIfDisposed(),this.cacheForContext(e).set(r,n)}get(e,r,n){this.throwIfDisposed();const i=this.cacheForContext(e);if(i.has(r))return i.get(r);if(n){const a=n();return i.set(r,a),a}else return}delete(e,r){return this.throwIfDisposed(),this.cacheForContext(e).delete(r)}clear(e){if(this.throwIfDisposed(),e){const r=this.converter(e);this.cache.delete(r)}else this.cache.clear()}cacheForContext(e){const r=this.converter(e);let n=this.cache.get(r);return n||(n=new Map,this.cache.set(r,n)),n}}class IOe extends ROe{constructor(e){super(),this.onDispose(e.workspace.DocumentBuilder.onUpdate(()=>{this.clear()}))}}class DOe{constructor(e){this.reflection=e.shared.AstReflection,this.nameProvider=e.references.NameProvider,this.descriptions=e.workspace.AstNodeDescriptionProvider,this.indexManager=e.shared.workspace.IndexManager,this.globalScopeCache=new IOe(e.shared)}getScope(e){const r=[],n=this.reflection.getReferenceType(e),i=Nl(e.container).precomputedScopes;if(i){let s=e.container;do{const o=i.get(s);o.length>0&&r.push(Gi(o).filter(l=>this.reflection.isSubtype(l.type,n))),s=s.$container}while(s)}let a=this.getGlobalScope(n,e);for(let s=r.length-1;s>=0;s--)a=this.createScope(r[s],a);return a}createScope(e,r,n){return new YF(Gi(e),r,n)}createScopeForNodes(e,r,n){const i=Gi(e).map(a=>{const s=this.nameProvider.getName(a);if(s)return this.descriptions.createDescription(a,s)}).nonNullable();return new YF(i,r,n)}getGlobalScope(e,r){return this.globalScopeCache.get(e,()=>new NOe(this.indexManager.allElements(e)))}}function OOe(t){return typeof t.$comment=="string"}function qF(t){return typeof t=="object"&&!!t&&("$ref"in t||"$error"in t)}class POe{constructor(e){this.ignoreProperties=new Set(["$container","$containerProperty","$containerIndex","$document","$cstNode"]),this.langiumDocuments=e.shared.workspace.LangiumDocuments,this.astNodeLocator=e.workspace.AstNodeLocator,this.nameProvider=e.references.NameProvider,this.commentProvider=e.documentation.CommentProvider}serialize(e,r={}){const n=r==null?void 0:r.replacer,i=(s,o)=>this.replacer(s,o,r),a=n?(s,o)=>n(s,o,i):i;try{return this.currentDocument=Nl(e),JSON.stringify(e,a,r==null?void 0:r.space)}finally{this.currentDocument=void 0}}deserialize(e,r={}){const n=JSON.parse(e);return this.linkNode(n,n,r),n}replacer(e,r,{refText:n,sourceText:i,textRegions:a,comments:s,uriConverter:o}){var l,u,h,d;if(!this.ignoreProperties.has(e))if(yl(r)){const p=r.ref,f=n?r.$refText:void 0;if(p){const g=Nl(p);let m="";this.currentDocument&&this.currentDocument!==g&&(o?m=o(g.uri,r):m=g.uri.toString());const y=this.astNodeLocator.getAstNodePath(p);return{$ref:`${m}#${y}`,$refText:f}}else return{$error:(u=(l=r.error)===null||l===void 0?void 0:l.message)!==null&&u!==void 0?u:"Could not resolve reference",$refText:f}}else if(ga(r)){let p;if(a&&(p=this.addAstNodeRegionWithAssignmentsTo(Object.assign({},r)),(!e||r.$document)&&(p!=null&&p.$textRegion)&&(p.$textRegion.documentURI=(h=this.currentDocument)===null||h===void 0?void 0:h.uri.toString())),i&&!e&&(p??(p=Object.assign({},r)),p.$sourceText=(d=r.$cstNode)===null||d===void 0?void 0:d.text),s){p??(p=Object.assign({},r));const f=this.commentProvider.getComment(r);f&&(p.$comment=f.replace(/\r/g,""))}return p??r}else return r}addAstNodeRegionWithAssignmentsTo(e){const r=n=>({offset:n.offset,end:n.end,length:n.length,range:n.range});if(e.$cstNode){const n=e.$textRegion=r(e.$cstNode),i=n.assignments={};return Object.keys(e).filter(a=>!a.startsWith("$")).forEach(a=>{const s=VRe(e.$cstNode,a).map(r);s.length!==0&&(i[a]=s)}),e}}linkNode(e,r,n,i,a,s){for(const[l,u]of Object.entries(e))if(Array.isArray(u))for(let h=0;h<u.length;h++){const d=u[h];qF(d)?u[h]=this.reviveReference(e,l,r,d,n):ga(d)&&this.linkNode(d,r,n,e,l,h)}else qF(u)?e[l]=this.reviveReference(e,l,r,u,n):ga(u)&&this.linkNode(u,r,n,e,l);const o=e;o.$container=i,o.$containerProperty=a,o.$containerIndex=s}reviveReference(e,r,n,i,a){let s=i.$refText,o=i.$error;if(i.$ref){const l=this.getRefNode(n,i.$ref,a.uriConverter);if(ga(l))return s||(s=this.nameProvider.getName(l)),{$refText:s??"",ref:l};o=l}if(o){const l={$refText:s??""};return l.error={container:e,property:r,message:o,reference:l},l}else return}getRefNode(e,r,n){try{const i=r.indexOf("#");if(i===0){const l=this.astNodeLocator.getAstNode(e,r.substring(1));return l||"Could not resolve path: "+r}if(i<0){const l=n?n(r):og.parse(r),u=this.langiumDocuments.getDocument(l);return u?u.parseResult.value:"Could not find document for URI: "+r}const a=n?n(r.substring(0,i)):og.parse(r.substring(0,i)),s=this.langiumDocuments.getDocument(a);if(!s)return"Could not find document for URI: "+r;if(i===r.length-1)return s.parseResult.value;const o=this.astNodeLocator.getAstNode(s.parseResult.value,r.substring(i+1));return o||"Could not resolve URI: "+r}catch(i){return String(i)}}}class FOe{register(e){if(!this.singleton&&!this.map){this.singleton=e;return}if(!this.map&&(this.map={},this.singleton)){for(const r of this.singleton.LanguageMetaData.fileExtensions)this.map[r]=this.singleton;this.singleton=void 0}for(const r of e.LanguageMetaData.fileExtensions)this.map[r]!==void 0&&this.map[r]!==e&&console.warn(`The file extension ${r} is used by multiple languages. It is now assigned to '${e.LanguageMetaData.languageId}'.`),this.map[r]=e}getServices(e){if(this.singleton!==void 0)return this.singleton;if(this.map===void 0)throw new Error("The service registry is empty. Use `register` to register the services of a language.");const r=ch.extname(e),n=this.map[r];if(!n)throw new Error(`The service registry contains no services for the extension '${r}'.`);return n}get all(){return this.singleton!==void 0?[this.singleton]:this.map!==void 0?Object.values(this.map):[]}}function jF(t){return{code:t}}var K3;(function(t){t.all=["fast","slow","built-in"]})(K3||(K3={}));class BOe{constructor(e){this.entries=new kL,this.reflection=e.shared.AstReflection}register(e,r=this,n="fast"){if(n==="built-in")throw new Error("The 'built-in' category is reserved for lexer, parser, and linker errors.");for(const[i,a]of Object.entries(e)){const s=a;if(Array.isArray(s))for(const o of s){const l={check:this.wrapValidationException(o,r),category:n};this.addEntry(i,l)}else if(typeof s=="function"){const o={check:this.wrapValidationException(s,r),category:n};this.addEntry(i,o)}}}wrapValidationException(e,r){return async(n,i,a)=>{try{await e.call(r,n,i,a)}catch(s){if(bL(s))throw s;console.error("An error occurred during validation:",s);const o=s instanceof Error?s.message:String(s);s instanceof Error&&s.stack&&console.error(s.stack),i("error","An error occurred during validation: "+o,{node:n})}}}addEntry(e,r){if(e==="AstNode"){this.entries.add("AstNode",r);return}for(const n of this.reflection.getAllSubTypes(e))this.entries.add(n,r)}getChecks(e,r){let n=Gi(this.entries.get(e)).concat(this.entries.get("AstNode"));return r&&(n=n.filter(i=>r.includes(i.category))),n.map(i=>i.check)}}class $Oe{constructor(e){this.validationRegistry=e.validation.ValidationRegistry,this.metadata=e.LanguageMetaData}async validateDocument(e,r={},n=Li.None){const i=e.parseResult,a=[];if(await Wo(n),(!r.categories||r.categories.includes("built-in"))&&(this.processLexingErrors(i,a,r),r.stopAfterLexingErrors&&a.some(s=>{var o;return((o=s.data)===null||o===void 0?void 0:o.code)===mu.LexingError})||(this.processParsingErrors(i,a,r),r.stopAfterParsingErrors&&a.some(s=>{var o;return((o=s.data)===null||o===void 0?void 0:o.code)===mu.ParsingError}))||(this.processLinkingErrors(e,a,r),r.stopAfterLinkingErrors&&a.some(s=>{var o;return((o=s.data)===null||o===void 0?void 0:o.code)===mu.LinkingError}))))return a;try{a.push(...await this.validateAst(i.value,r,n))}catch(s){if(bL(s))throw s;console.error("An error occurred during validation:",s)}return await Wo(n),a}processLexingErrors(e,r,n){for(const i of e.lexerErrors){const a={severity:oE("error"),range:{start:{line:i.line-1,character:i.column-1},end:{line:i.line-1,character:i.column+i.length-1}},message:i.message,data:jF(mu.LexingError),source:this.getSource()};r.push(a)}}processParsingErrors(e,r,n){for(const i of e.parserErrors){let a;if(isNaN(i.token.startOffset)){if("previousToken"in i){const s=i.previousToken;if(isNaN(s.startOffset)){const o={line:0,character:0};a={start:o,end:o}}else{const o={line:s.endLine-1,character:s.endColumn};a={start:o,end:o}}}}else a=iC(i.token);if(a){const s={severity:oE("error"),range:a,message:i.message,data:jF(mu.ParsingError),source:this.getSource()};r.push(s)}}}processLinkingErrors(e,r,n){for(const i of e.references){const a=i.error;if(a){const s={node:a.container,property:a.property,index:a.index,data:{code:mu.LinkingError,containerType:a.container.$type,property:a.property,refText:a.reference.$refText}};r.push(this.toDiagnostic("error",a.message,s))}}}async validateAst(e,r,n=Li.None){const i=[],a=(s,o,l)=>{i.push(this.toDiagnostic(s,o,l))};return await Promise.all(_0(e).map(async s=>{await Wo(n);const o=this.validationRegistry.getChecks(s.$type,r.categories);for(const l of o)await l(s,a,n)})),i}toDiagnostic(e,r,n){return{message:r,range:zOe(n),severity:oE(e),code:n.code,codeDescription:n.codeDescription,tags:n.tags,relatedInformation:n.relatedInformation,data:n.data,source:this.getSource()}}getSource(){return this.metadata.languageId}}function zOe(t){if(t.range)return t.range;let e;return typeof t.property=="string"?e=mee(t.node.$cstNode,t.property,t.index):typeof t.keyword=="string"&&(e=GRe(t.node.$cstNode,t.keyword,t.index)),e??(e=t.node.$cstNode),e?e.range:{start:{line:0,character:0},end:{line:0,character:0}}}function oE(t){switch(t){case"error":return 1;case"warning":return 2;case"info":return 3;case"hint":return 4;default:throw new Error("Invalid diagnostic severity: "+t)}}var mu;(function(t){t.LexingError="lexing-error",t.ParsingError="parsing-error",t.LinkingError="linking-error"})(mu||(mu={}));class UOe{constructor(e){this.astNodeLocator=e.workspace.AstNodeLocator,this.nameProvider=e.references.NameProvider}createDescription(e,r,n=Nl(e)){r??(r=this.nameProvider.getName(e));const i=this.astNodeLocator.getAstNodePath(e);if(!r)throw new Error(`Node at path ${i} has no name.`);let a;const s=()=>{var o;return a??(a=N3((o=this.nameProvider.getNameNode(e))!==null&&o!==void 0?o:e.$cstNode))};return{node:e,name:r,get nameSegment(){return s()},selectionSegment:N3(e.$cstNode),type:e.$type,documentUri:n.uri,path:i}}}class VOe{constructor(e){this.nodeLocator=e.workspace.AstNodeLocator}async createDescriptions(e,r=Li.None){const n=[],i=e.parseResult.value;for(const a of _0(i))await Wo(r),hee(a).filter(s=>!Eb(s)).forEach(s=>{const o=this.createDescription(s);o&&n.push(o)});return n}createDescription(e){const r=e.reference.$nodeDescription,n=e.reference.$refNode;if(!r||!n)return;const i=Nl(e.container).uri;return{sourceUri:i,sourcePath:this.nodeLocator.getAstNodePath(e.container),targetUri:r.documentUri,targetPath:r.path,segment:N3(n),local:ch.equals(r.documentUri,i)}}}class GOe{constructor(){this.segmentSeparator="/",this.indexSeparator="@"}getAstNodePath(e){if(e.$container){const r=this.getAstNodePath(e.$container),n=this.getPathSegment(e);return r+this.segmentSeparator+n}return""}getPathSegment({$containerProperty:e,$containerIndex:r}){if(!e)throw new Error("Missing '$containerProperty' in AST node.");return r!==void 0?e+this.indexSeparator+r:e}getAstNode(e,r){return r.split(this.segmentSeparator).reduce((i,a)=>{if(!i||a.length===0)return i;const s=a.indexOf(this.indexSeparator);if(s>0){const o=a.substring(0,s),l=parseInt(a.substring(s+1)),u=i[o];return u==null?void 0:u[l]}return i[a]},e)}}class HOe{constructor(e){this._ready=new wL,this.settings={},this.workspaceConfig=!1,this.serviceRegistry=e.ServiceRegistry}get ready(){return this._ready.promise}initialize(e){var r,n;this.workspaceConfig=(n=(r=e.capabilities.workspace)===null||r===void 0?void 0:r.configuration)!==null&&n!==void 0?n:!1}async initialized(e){if(this.workspaceConfig){if(e.register){const r=this.serviceRegistry.all;e.register({section:r.map(n=>this.toSectionName(n.LanguageMetaData.languageId))})}if(e.fetchConfiguration){const r=this.serviceRegistry.all.map(i=>({section:this.toSectionName(i.LanguageMetaData.languageId)})),n=await e.fetchConfiguration(r);r.forEach((i,a)=>{this.updateSectionConfiguration(i.section,n[a])})}}this._ready.resolve()}updateConfiguration(e){e.settings&&Object.keys(e.settings).forEach(r=>{this.updateSectionConfiguration(r,e.settings[r])})}updateSectionConfiguration(e,r){this.settings[e]=r}async getConfiguration(e,r){await this.ready;const n=this.toSectionName(e);if(this.settings[n])return this.settings[n][r]}toSectionName(e){return`${e}`}}var Q3;(function(t){function e(r){return{dispose:async()=>await r()}}t.create=e})(Q3||(Q3={}));class WOe{constructor(e){this.updateBuildOptions={validation:{categories:["built-in","fast"]}},this.updateListeners=[],this.buildPhaseListeners=new kL,this.buildState=new Map,this.documentBuildWaiters=new Map,this.currentState=gn.Changed,this.langiumDocuments=e.workspace.LangiumDocuments,this.langiumDocumentFactory=e.workspace.LangiumDocumentFactory,this.indexManager=e.workspace.IndexManager,this.serviceRegistry=e.ServiceRegistry}async build(e,r={},n=Li.None){var i,a;for(const s of e){const o=s.uri.toString();if(s.state===gn.Validated){if(typeof r.validation=="boolean"&&r.validation)s.state=gn.IndexedReferences,s.diagnostics=void 0,this.buildState.delete(o);else if(typeof r.validation=="object"){const l=this.buildState.get(o),u=(i=l==null?void 0:l.result)===null||i===void 0?void 0:i.validationChecks;if(u){const d=((a=r.validation.categories)!==null&&a!==void 0?a:K3.all).filter(p=>!u.includes(p));d.length>0&&(this.buildState.set(o,{completed:!1,options:{validation:Object.assign(Object.assign({},r.validation),{categories:d})},result:l.result}),s.state=gn.IndexedReferences)}}}else this.buildState.delete(o)}this.currentState=gn.Changed,await this.emitUpdate(e.map(s=>s.uri),[]),await this.buildDocuments(e,r,n)}async update(e,r,n=Li.None){this.currentState=gn.Changed;for(const s of r)this.langiumDocuments.deleteDocument(s),this.buildState.delete(s.toString()),this.indexManager.remove(s);for(const s of e){if(!this.langiumDocuments.invalidateDocument(s)){const l=this.langiumDocumentFactory.fromModel({$type:"INVALID"},s);l.state=gn.Changed,this.langiumDocuments.addDocument(l)}this.buildState.delete(s.toString())}const i=Gi(e).concat(r).map(s=>s.toString()).toSet();this.langiumDocuments.all.filter(s=>!i.has(s.uri.toString())&&this.shouldRelink(s,i)).forEach(s=>{this.serviceRegistry.getServices(s.uri).references.Linker.unlink(s),s.state=Math.min(s.state,gn.ComputedScopes),s.diagnostics=void 0}),await this.emitUpdate(e,r),await Wo(n);const a=this.langiumDocuments.all.filter(s=>{var o;return s.state<gn.Linked||!(!((o=this.buildState.get(s.uri.toString()))===null||o===void 0)&&o.completed)}).toArray();await this.buildDocuments(a,this.updateBuildOptions,n)}async emitUpdate(e,r){await Promise.all(this.updateListeners.map(n=>n(e,r)))}shouldRelink(e,r){return e.references.some(n=>n.error!==void 0)?!0:this.indexManager.isAffected(e,r)}onUpdate(e){return this.updateListeners.push(e),Q3.create(()=>{const r=this.updateListeners.indexOf(e);r>=0&&this.updateListeners.splice(r,1)})}async buildDocuments(e,r,n){this.prepareBuild(e,r),await this.runCancelable(e,gn.Parsed,n,a=>this.langiumDocumentFactory.update(a,n)),await this.runCancelable(e,gn.IndexedContent,n,a=>this.indexManager.updateContent(a,n)),await this.runCancelable(e,gn.ComputedScopes,n,async a=>{const s=this.serviceRegistry.getServices(a.uri).references.ScopeComputation;a.precomputedScopes=await s.computeLocalScopes(a,n)}),await this.runCancelable(e,gn.Linked,n,a=>this.serviceRegistry.getServices(a.uri).references.Linker.link(a,n)),await this.runCancelable(e,gn.IndexedReferences,n,a=>this.indexManager.updateReferences(a,n));const i=e.filter(a=>this.shouldValidate(a));await this.runCancelable(i,gn.Validated,n,a=>this.validate(a,n));for(const a of e){const s=this.buildState.get(a.uri.toString());s&&(s.completed=!0)}}prepareBuild(e,r){for(const n of e){const i=n.uri.toString(),a=this.buildState.get(i);(!a||a.completed)&&this.buildState.set(i,{completed:!1,options:r,result:a==null?void 0:a.result})}}async runCancelable(e,r,n,i){const a=e.filter(s=>s.state<r);for(const s of a)await Wo(n),await i(s),s.state=r;await this.notifyBuildPhase(a,r,n),this.currentState=r}onBuildPhase(e,r){return this.buildPhaseListeners.add(e,r),Q3.create(()=>{this.buildPhaseListeners.delete(e,r)})}waitUntil(e,r,n){let i;if(r&&"path"in r?i=r:n=r,n??(n=Li.None),i){const a=this.langiumDocuments.getDocument(i);if(a&&a.state>e)return Promise.resolve(i)}return this.currentState>=e?Promise.resolve(void 0):n.isCancellationRequested?Promise.reject(X3):new Promise((a,s)=>{const o=this.onBuildPhase(e,()=>{if(o.dispose(),l.dispose(),i){const u=this.langiumDocuments.getDocument(i);a(u==null?void 0:u.uri)}else a(void 0)}),l=n.onCancellationRequested(()=>{o.dispose(),l.dispose(),s(X3)})})}async notifyBuildPhase(e,r,n){if(e.length===0)return;const i=this.buildPhaseListeners.get(r);for(const a of i)await Wo(n),await a(e,n)}shouldValidate(e){return!!this.getBuildOptions(e).validation}async validate(e,r){var n,i;const a=this.serviceRegistry.getServices(e.uri).validation.DocumentValidator,s=this.getBuildOptions(e).validation,o=typeof s=="object"?s:void 0,l=await a.validateDocument(e,o,r);e.diagnostics?e.diagnostics.push(...l):e.diagnostics=l;const u=this.buildState.get(e.uri.toString());if(u){(n=u.result)!==null&&n!==void 0||(u.result={});const h=(i=o==null?void 0:o.categories)!==null&&i!==void 0?i:K3.all;u.result.validationChecks?u.result.validationChecks.push(...h):u.result.validationChecks=[...h]}}getBuildOptions(e){var r,n;return(n=(r=this.buildState.get(e.uri.toString()))===null||r===void 0?void 0:r.options)!==null&&n!==void 0?n:{}}}class YOe{constructor(e){this.symbolIndex=new Map,this.symbolByTypeIndex=new MOe,this.referenceIndex=new Map,this.documents=e.workspace.LangiumDocuments,this.serviceRegistry=e.ServiceRegistry,this.astReflection=e.AstReflection}findAllReferences(e,r){const n=Nl(e).uri,i=[];return this.referenceIndex.forEach(a=>{a.forEach(s=>{ch.equals(s.targetUri,n)&&s.targetPath===r&&i.push(s)})}),Gi(i)}allElements(e,r){let n=Gi(this.symbolIndex.keys());return r&&(n=n.filter(i=>!r||r.has(i))),n.map(i=>this.getFileDescriptions(i,e)).flat()}getFileDescriptions(e,r){var n;return r?this.symbolByTypeIndex.get(e,r,()=>{var a;return((a=this.symbolIndex.get(e))!==null&&a!==void 0?a:[]).filter(o=>this.astReflection.isSubtype(o.type,r))}):(n=this.symbolIndex.get(e))!==null&&n!==void 0?n:[]}remove(e){const r=e.toString();this.symbolIndex.delete(r),this.symbolByTypeIndex.clear(r),this.referenceIndex.delete(r)}async updateContent(e,r=Li.None){const i=await this.serviceRegistry.getServices(e.uri).references.ScopeComputation.computeExports(e,r),a=e.uri.toString();this.symbolIndex.set(a,i),this.symbolByTypeIndex.clear(a)}async updateReferences(e,r=Li.None){const i=await this.serviceRegistry.getServices(e.uri).workspace.ReferenceDescriptionProvider.createDescriptions(e,r);this.referenceIndex.set(e.uri.toString(),i)}isAffected(e,r){const n=this.referenceIndex.get(e.uri.toString());return n?n.some(i=>!i.local&&r.has(i.targetUri.toString())):!1}}class qOe{constructor(e){this.initialBuildOptions={},this._ready=new wL,this.serviceRegistry=e.ServiceRegistry,this.langiumDocuments=e.workspace.LangiumDocuments,this.documentBuilder=e.workspace.DocumentBuilder,this.fileSystemProvider=e.workspace.FileSystemProvider,this.mutex=e.workspace.WorkspaceLock}get ready(){return this._ready.promise}initialize(e){var r;this.folders=(r=e.workspaceFolders)!==null&&r!==void 0?r:void 0}initialized(e){return this.mutex.write(r=>{var n;return this.initializeWorkspace((n=this.folders)!==null&&n!==void 0?n:[],r)})}async initializeWorkspace(e,r=Li.None){const n=await this.performStartup(e);await Wo(r),await this.documentBuilder.build(n,this.initialBuildOptions,r)}async performStartup(e){const r=this.serviceRegistry.all.flatMap(a=>a.LanguageMetaData.fileExtensions),n=[],i=a=>{n.push(a),this.langiumDocuments.hasDocument(a.uri)||this.langiumDocuments.addDocument(a)};return await this.loadAdditionalDocuments(e,i),await Promise.all(e.map(a=>[a,this.getRootFolder(a)]).map(async a=>this.traverseFolder(...a,r,i))),this._ready.resolve(),n}loadAdditionalDocuments(e,r){return Promise.resolve()}getRootFolder(e){return og.parse(e.uri)}async traverseFolder(e,r,n,i){const a=await this.fileSystemProvider.readDirectory(r);await Promise.all(a.map(async s=>{if(this.includeEntry(e,s,n)){if(s.isDirectory)await this.traverseFolder(e,s.uri,n,i);else if(s.isFile){const o=await this.langiumDocuments.getOrCreateDocument(s.uri);i(o)}}}))}includeEntry(e,r,n){const i=ch.basename(r.uri);if(i.startsWith("."))return!1;if(r.isDirectory)return i!=="node_modules"&&i!=="out";if(r.isFile){const a=ch.extname(r.uri);return n.includes(a)}return!1}}class jOe{constructor(e){const r=e.parser.TokenBuilder.buildTokens(e.Grammar,{caseInsensitive:e.LanguageMetaData.caseInsensitive});this.tokenTypes=this.toTokenTypeDictionary(r);const n=XF(r)?Object.values(r):r;this.chevrotainLexer=new ls(n,{positionTracking:"full"})}get definition(){return this.tokenTypes}tokenize(e){var r;const n=this.chevrotainLexer.tokenize(e);return{tokens:n.tokens,errors:n.errors,hidden:(r=n.groups.hidden)!==null&&r!==void 0?r:[]}}toTokenTypeDictionary(e){if(XF(e))return e;const r=Nte(e)?Object.values(e.modes).flat():e,n={};return r.forEach(i=>n[i.name]=i),n}}function XOe(t){return Array.isArray(t)&&(t.length===0||"name"in t[0])}function Nte(t){return t&&"modes"in t&&"defaultMode"in t}function XF(t){return!XOe(t)&&!Nte(t)}function KOe(t,e,r){let n,i;typeof t=="string"?(i=e,n=r):(i=t.range.start,n=e),i||(i=Rr.create(0,0));const a=Rte(t),s=TL(n),o=JOe({lines:a,position:i,options:s});return iPe({index:0,tokens:o,position:i})}function QOe(t,e){const r=TL(e),n=Rte(t);if(n.length===0)return!1;const i=n[0],a=n[n.length-1],s=r.start,o=r.end;return!!(s!=null&&s.exec(i))&&!!(o!=null&&o.exec(a))}function Rte(t){let e="";return typeof t=="string"?e=t:e=t.text,e.split(RRe)}const KF=/\s*(@([\p{L}][\p{L}\p{N}]*)?)/uy,ZOe=/\{(@[\p{L}][\p{L}\p{N}]*)(\s*)([^\r\n}]+)?\}/gu;function JOe(t){var e,r,n;const i=[];let a=t.position.line,s=t.position.character;for(let o=0;o<t.lines.length;o++){const l=o===0,u=o===t.lines.length-1;let h=t.lines[o],d=0;if(l&&t.options.start){const f=(e=t.options.start)===null||e===void 0?void 0:e.exec(h);f&&(d=f.index+f[0].length)}else{const f=(r=t.options.line)===null||r===void 0?void 0:r.exec(h);f&&(d=f.index+f[0].length)}if(u){const f=(n=t.options.end)===null||n===void 0?void 0:n.exec(h);f&&(h=h.substring(0,f.index))}if(h=h.substring(0,nPe(h)),BC(h,d)>=h.length){if(i.length>0){const f=Rr.create(a,s);i.push({type:"break",content:"",range:vr.create(f,f)})}}else{KF.lastIndex=d;const f=KF.exec(h);if(f){const g=f[0],m=f[1],y=Rr.create(a,s+d),v=Rr.create(a,s+d+g.length);i.push({type:"tag",content:m,range:vr.create(y,v)}),d+=g.length,d=BC(h,d)}if(d<h.length){const g=h.substring(d),m=Array.from(g.matchAll(ZOe));i.push(...ePe(m,g,a,s+d))}}a++,s=0}return i.length>0&&i[i.length-1].type==="break"?i.slice(0,-1):i}function ePe(t,e,r,n){const i=[];if(t.length===0){const a=Rr.create(r,n),s=Rr.create(r,n+e.length);i.push({type:"text",content:e,range:vr.create(a,s)})}else{let a=0;for(const o of t){const l=o.index,u=e.substring(a,l);u.length>0&&i.push({type:"text",content:e.substring(a,l),range:vr.create(Rr.create(r,a+n),Rr.create(r,l+n))});let h=u.length+1;const d=o[1];if(i.push({type:"inline-tag",content:d,range:vr.create(Rr.create(r,a+h+n),Rr.create(r,a+h+d.length+n))}),h+=d.length,o.length===4){h+=o[2].length;const p=o[3];i.push({type:"text",content:p,range:vr.create(Rr.create(r,a+h+n),Rr.create(r,a+h+p.length+n))})}else i.push({type:"text",content:"",range:vr.create(Rr.create(r,a+h+n),Rr.create(r,a+h+n))});a=l+o[0].length}const s=e.substring(a);s.length>0&&i.push({type:"text",content:s,range:vr.create(Rr.create(r,a+n),Rr.create(r,a+n+s.length))})}return i}const tPe=/\S/,rPe=/\s*$/;function BC(t,e){const r=t.substring(e).match(tPe);return r?e+r.index:t.length}function nPe(t){const e=t.match(rPe);if(e&&typeof e.index=="number")return e.index}function iPe(t){var e,r,n,i;const a=Rr.create(t.position.line,t.position.character);if(t.tokens.length===0)return new QF([],vr.create(a,a));const s=[];for(;t.index<t.tokens.length;){const u=aPe(t,s[s.length-1]);u&&s.push(u)}const o=(r=(e=s[0])===null||e===void 0?void 0:e.range.start)!==null&&r!==void 0?r:a,l=(i=(n=s[s.length-1])===null||n===void 0?void 0:n.range.end)!==null&&i!==void 0?i:a;return new QF(s,vr.create(o,l))}function aPe(t,e){const r=t.tokens[t.index];if(r.type==="tag")return Ite(t,!1);if(r.type==="text"||r.type==="inline-tag")return Mte(t);sPe(r,e),t.index++}function sPe(t,e){if(e){const r=new Ote("",t.range);"inlines"in e?e.inlines.push(r):e.content.inlines.push(r)}}function Mte(t){let e=t.tokens[t.index];const r=e;let n=e;const i=[];for(;e&&e.type!=="break"&&e.type!=="tag";)i.push(oPe(t)),n=e,e=t.tokens[t.index];return new $C(i,vr.create(r.range.start,n.range.end))}function oPe(t){return t.tokens[t.index].type==="inline-tag"?Ite(t,!0):Dte(t)}function Ite(t,e){const r=t.tokens[t.index++],n=r.content.substring(1),i=t.tokens[t.index];if((i==null?void 0:i.type)==="text")if(e){const a=Dte(t);return new cE(n,new $C([a],a.range),e,vr.create(r.range.start,a.range.end))}else{const a=Mte(t);return new cE(n,a,e,vr.create(r.range.start,a.range.end))}else{const a=r.range;return new cE(n,new $C([],a),e,a)}}function Dte(t){const e=t.tokens[t.index++];return new Ote(e.content,e.range)}function TL(t){if(!t)return TL({start:"/**",end:"*/",line:"*"});const{start:e,end:r,line:n}=t;return{start:lE(e,!0),end:lE(r,!1),line:lE(n,!0)}}function lE(t,e){if(typeof t=="string"||typeof t=="object"){const r=typeof t=="string"?i6(t):t.source;return e?new RegExp(`^\\s*${r}`):new RegExp(`\\s*${r}\\s*$`)}else return t}class QF{constructor(e,r){this.elements=e,this.range=r}getTag(e){return this.getAllTags().find(r=>r.name===e)}getTags(e){return this.getAllTags().filter(r=>r.name===e)}getAllTags(){return this.elements.filter(e=>"name"in e)}toString(){let e="";for(const r of this.elements)if(e.length===0)e=r.toString();else{const n=r.toString();e+=ZF(e)+n}return e.trim()}toMarkdown(e){let r="";for(const n of this.elements)if(r.length===0)r=n.toMarkdown(e);else{const i=n.toMarkdown(e);r+=ZF(r)+i}return r.trim()}}class cE{constructor(e,r,n,i){this.name=e,this.content=r,this.inline=n,this.range=i}toString(){let e=`@${this.name}`;const r=this.content.toString();return this.content.inlines.length===1?e=`${e} ${r}`:this.content.inlines.length>1&&(e=`${e}
${r}`),this.inline?`{${e}}`:e}toMarkdown(e){var r,n;return(n=(r=e==null?void 0:e.renderTag)===null||r===void 0?void 0:r.call(e,this))!==null&&n!==void 0?n:this.toMarkdownDefault(e)}toMarkdownDefault(e){const r=this.content.toMarkdown(e);if(this.inline){const a=lPe(this.name,r,e??{});if(typeof a=="string")return a}let n="";(e==null?void 0:e.tag)==="italic"||(e==null?void 0:e.tag)===void 0?n="*":(e==null?void 0:e.tag)==="bold"?n="**":(e==null?void 0:e.tag)==="bold-italic"&&(n="***");let i=`${n}@${this.name}${n}`;return this.content.inlines.length===1?i=`${i} — ${r}`:this.content.inlines.length>1&&(i=`${i}
${r}`),this.inline?`{${i}}`:i}}function lPe(t,e,r){var n,i;if(t==="linkplain"||t==="linkcode"||t==="link"){const a=e.indexOf(" ");let s=e;if(a>0){const l=BC(e,a);s=e.substring(l),e=e.substring(0,a)}return(t==="linkcode"||t==="link"&&r.link==="code")&&(s=`\`${s}\``),(i=(n=r.renderLink)===null||n===void 0?void 0:n.call(r,e,s))!==null&&i!==void 0?i:cPe(e,s)}}function cPe(t,e){try{return og.parse(t,!0),`[${e}](${t})`}catch{return t}}class $C{constructor(e,r){this.inlines=e,this.range=r}toString(){let e="";for(let r=0;r<this.inlines.length;r++){const n=this.inlines[r],i=this.inlines[r+1];e+=n.toString(),i&&i.range.start.line>n.range.start.line&&(e+=`
`)}return e}toMarkdown(e){let r="";for(let n=0;n<this.inlines.length;n++){const i=this.inlines[n],a=this.inlines[n+1];r+=i.toMarkdown(e),a&&a.range.start.line>i.range.start.line&&(r+=`
`)}return r}}class Ote{constructor(e,r){this.text=e,this.range=r}toString(){return this.text}toMarkdown(){return this.text}}function ZF(t){return t.endsWith(`
`)?`
`:`

`}class uPe{constructor(e){this.indexManager=e.shared.workspace.IndexManager,this.commentProvider=e.documentation.CommentProvider}getDocumentation(e){const r=this.commentProvider.getComment(e);if(r&&QOe(r))return KOe(r).toMarkdown({renderLink:(i,a)=>this.documentationLinkRenderer(e,i,a),renderTag:i=>this.documentationTagRenderer(e,i)})}documentationLinkRenderer(e,r,n){var i;const a=(i=this.findNameInPrecomputedScopes(e,r))!==null&&i!==void 0?i:this.findNameInGlobalScope(e,r);if(a&&a.nameSegment){const s=a.nameSegment.range.start.line+1,o=a.nameSegment.range.start.character+1,l=a.documentUri.with({fragment:`L${s},${o}`});return`[${n}](${l.toString()})`}else return}documentationTagRenderer(e,r){}findNameInPrecomputedScopes(e,r){const i=Nl(e).precomputedScopes;if(!i)return;let a=e;do{const o=i.get(a).find(l=>l.name===r);if(o)return o;a=a.$container}while(a)}findNameInGlobalScope(e,r){return this.indexManager.allElements().find(i=>i.name===r)}}class hPe{constructor(e){this.grammarConfig=()=>e.parser.GrammarConfig}getComment(e){var r;return OOe(e)?e.$comment:(r=KNe(e.$cstNode,this.grammarConfig().multilineCommentRules))===null||r===void 0?void 0:r.text}}class dPe{constructor(e){this.syncParser=e.parser.LangiumParser}parse(e){return Promise.resolve(this.syncParser.parse(e))}}class fPe{constructor(){this.previousTokenSource=new DC,this.writeQueue=[],this.readQueue=[],this.done=!0}write(e){this.cancelWrite();const r=new DC;return this.previousTokenSource=r,this.enqueue(this.writeQueue,e,r.token)}read(e){return this.enqueue(this.readQueue,e)}enqueue(e,r,n){const i=new wL,a={action:r,deferred:i,cancellationToken:n??Li.None};return e.push(a),this.performNextOperation(),i.promise}async performNextOperation(){if(!this.done)return;const e=[];if(this.writeQueue.length>0)e.push(this.writeQueue.shift());else if(this.readQueue.length>0)e.push(...this.readQueue.splice(0,this.readQueue.length));else return;this.done=!1,await Promise.all(e.map(async({action:r,deferred:n,cancellationToken:i})=>{try{const a=await Promise.resolve().then(()=>r(i));n.resolve(a)}catch(a){bL(a)?n.resolve(void 0):n.reject(a)}})),this.done=!0,this.performNextOperation()}cancelWrite(){this.previousTokenSource.cancel()}}class pPe{constructor(e){this.grammarElementIdMap=new WF,this.tokenTypeIdMap=new WF,this.grammar=e.Grammar,this.lexer=e.parser.Lexer,this.linker=e.references.Linker}dehydrate(e){return{lexerErrors:e.lexerErrors.map(r=>Object.assign({},r)),parserErrors:e.parserErrors.map(r=>Object.assign({},r)),value:this.dehydrateAstNode(e.value,this.createDehyrationContext(e.value))}}createDehyrationContext(e){const r=new Map,n=new Map;for(const i of _0(e))r.set(i,{});if(e.$cstNode)for(const i of nC(e.$cstNode))n.set(i,{});return{astNodes:r,cstNodes:n}}dehydrateAstNode(e,r){const n=r.astNodes.get(e);n.$type=e.$type,n.$containerIndex=e.$containerIndex,n.$containerProperty=e.$containerProperty,e.$cstNode!==void 0&&(n.$cstNode=this.dehydrateCstNode(e.$cstNode,r));for(const[i,a]of Object.entries(e))if(!i.startsWith("$"))if(Array.isArray(a)){const s=[];n[i]=s;for(const o of a)ga(o)?s.push(this.dehydrateAstNode(o,r)):yl(o)?s.push(this.dehydrateReference(o,r)):s.push(o)}else ga(a)?n[i]=this.dehydrateAstNode(a,r):yl(a)?n[i]=this.dehydrateReference(a,r):a!==void 0&&(n[i]=a);return n}dehydrateReference(e,r){const n={};return n.$refText=e.$refText,e.$refNode&&(n.$refNode=r.cstNodes.get(e.$refNode)),n}dehydrateCstNode(e,r){const n=r.cstNodes.get(e);return LJ(e)?n.fullText=e.fullText:n.grammarSource=this.getGrammarElementId(e.grammarSource),n.hidden=e.hidden,n.astNode=r.astNodes.get(e.astNode),tg(e)?n.content=e.content.map(i=>this.dehydrateCstNode(i,r)):_J(e)&&(n.tokenType=e.tokenType.name,n.offset=e.offset,n.length=e.length,n.startLine=e.range.start.line,n.startColumn=e.range.start.character,n.endLine=e.range.end.line,n.endColumn=e.range.end.character),n}hydrate(e){const r=e.value,n=this.createHydrationContext(r);return"$cstNode"in r&&this.hydrateCstNode(r.$cstNode,n),{lexerErrors:e.lexerErrors,parserErrors:e.parserErrors,value:this.hydrateAstNode(r,n)}}createHydrationContext(e){const r=new Map,n=new Map;for(const a of _0(e))r.set(a,{});let i;if(e.$cstNode)for(const a of nC(e.$cstNode)){let s;"fullText"in a?(s=new dte(a.fullText),i=s):"content"in a?s=new yL:"tokenType"in a&&(s=this.hydrateCstLeafNode(a)),s&&(n.set(a,s),s.root=i)}return{astNodes:r,cstNodes:n}}hydrateAstNode(e,r){const n=r.astNodes.get(e);n.$type=e.$type,n.$containerIndex=e.$containerIndex,n.$containerProperty=e.$containerProperty,e.$cstNode&&(n.$cstNode=r.cstNodes.get(e.$cstNode));for(const[i,a]of Object.entries(e))if(!i.startsWith("$"))if(Array.isArray(a)){const s=[];n[i]=s;for(const o of a)ga(o)?s.push(this.setParent(this.hydrateAstNode(o,r),n)):yl(o)?s.push(this.hydrateReference(o,n,i,r)):s.push(o)}else ga(a)?n[i]=this.setParent(this.hydrateAstNode(a,r),n):yl(a)?n[i]=this.hydrateReference(a,n,i,r):a!==void 0&&(n[i]=a);return n}setParent(e,r){return e.$container=r,e}hydrateReference(e,r,n,i){return this.linker.buildReference(r,n,i.cstNodes.get(e.$refNode),e.$refText)}hydrateCstNode(e,r,n=0){const i=r.cstNodes.get(e);if(typeof e.grammarSource=="number"&&(i.grammarSource=this.getGrammarElement(e.grammarSource)),i.astNode=r.astNodes.get(e.astNode),tg(i))for(const a of e.content){const s=this.hydrateCstNode(a,r,n++);i.content.push(s)}return i}hydrateCstLeafNode(e){const r=this.getTokenType(e.tokenType),n=e.offset,i=e.length,a=e.startLine,s=e.startColumn,o=e.endLine,l=e.endColumn,u=e.hidden;return new LC(n,i,{start:{line:a,character:s},end:{line:o,character:l}},r,u)}getTokenType(e){return this.lexer.definition[e]}getGrammarElementId(e){return this.grammarElementIdMap.size===0&&this.createGrammarElementIdMap(),this.grammarElementIdMap.get(e)}getGrammarElement(e){this.grammarElementIdMap.size===0&&this.createGrammarElementIdMap();const r=this.grammarElementIdMap.getKey(e);if(r)return r;throw new Error("Invalid grammar element id: "+e)}createGrammarElementIdMap(){let e=0;for(const r of _0(this.grammar))JNe(r)&&this.grammarElementIdMap.set(r,e++)}}function Vg(t){return{documentation:{CommentProvider:e=>new hPe(e),DocumentationProvider:e=>new uPe(e)},parser:{AsyncParser:e=>new dPe(e),GrammarConfig:e=>JRe(e),LangiumParser:e=>oOe(e),CompletionParser:e=>sOe(e),ValueConverter:()=>new wte,TokenBuilder:()=>new bte,Lexer:e=>new jOe(e),ParserErrorMessageProvider:()=>new gte},workspace:{AstNodeLocator:()=>new GOe,AstNodeDescriptionProvider:e=>new UOe(e),ReferenceDescriptionProvider:e=>new VOe(e)},references:{Linker:e=>new SOe(e),NameProvider:()=>new AOe,ScopeProvider:e=>new DOe(e),ScopeComputation:e=>new LOe(e),References:e=>new _Oe(e)},serializer:{Hydrator:e=>new pPe(e),JsonSerializer:e=>new POe(e)},validation:{DocumentValidator:e=>new $Oe(e),ValidationRegistry:e=>new BOe(e)},shared:()=>t.shared}}function Gg(t){return{ServiceRegistry:()=>new FOe,workspace:{LangiumDocuments:e=>new EOe(e),LangiumDocumentFactory:e=>new TOe(e),DocumentBuilder:e=>new WOe(e),IndexManager:e=>new YOe(e),WorkspaceManager:e=>new qOe(e),FileSystemProvider:e=>t.fileSystemProvider(e),WorkspaceLock:()=>new fPe,ConfigurationProvider:e=>new HOe(e)}}}var JF;(function(t){t.merge=(e,r)=>Z3(Z3({},e),r)})(JF||(JF={}));function bo(t,e,r,n,i,a,s,o,l){const u=[t,e,r,n,i,a,s,o,l].reduce(Z3,{});return Pte(u)}const eB=Symbol("isProxy");function Pte(t,e){const r=new Proxy({},{deleteProperty:()=>!1,get:(n,i)=>rB(n,i,t,e||r),getOwnPropertyDescriptor:(n,i)=>(rB(n,i,t,e||r),Object.getOwnPropertyDescriptor(n,i)),has:(n,i)=>i in t,ownKeys:()=>[...Reflect.ownKeys(t),eB]});return r[eB]=!0,r}const tB=Symbol();function rB(t,e,r,n){if(e in t){if(t[e]instanceof Error)throw new Error("Construction failure. Please make sure that your dependencies are constructable.",{cause:t[e]});if(t[e]===tB)throw new Error('Cycle detected. Please make "'+String(e)+'" lazy. See https://langium.org/docs/configuration-services/#resolving-cyclic-dependencies');return t[e]}else if(e in r){const i=r[e];t[e]=tB;try{t[e]=typeof i=="function"?i(n):Pte(i,n)}catch(a){throw t[e]=a instanceof Error?a:void 0,a}return t[e]}else return}function Z3(t,e){if(e){for(const[r,n]of Object.entries(e))if(n!==void 0){const i=t[r];i!==null&&n!==null&&typeof i=="object"&&typeof n=="object"?t[r]=Z3(i,n):t[r]=n}}return t}class gPe{readFile(){throw new Error("No file system is available.")}async readDirectory(){return[]}}const Hg={fileSystemProvider:()=>new gPe},mPe={Grammar:()=>{},LanguageMetaData:()=>({caseInsensitive:!1,fileExtensions:[".langium"],languageId:"langium"})},vPe={AstReflection:()=>new uee};function yPe(){const t=bo(Gg(Hg),vPe),e=bo(Vg({shared:t}),mPe);return t.ServiceRegistry.register(e),e}function Xy(t){var e;const r=yPe(),n=r.serializer.JsonSerializer.deserialize(t);return r.shared.workspace.LangiumDocumentFactory.fromModel(n,og.parse(`memory://${(e=n.name)!==null&&e!==void 0?e:"grammar"}.langium`)),n}var xPe=Object.defineProperty,Nt=(t,e)=>xPe(t,"name",{value:e,configurable:!0}),bPe="Statement",wPe="Architecture";function kPe(t){return tl.isInstance(t,wPe)}Nt(kPe,"isArchitecture");var Fte="Branch";function TPe(t){return tl.isInstance(t,Fte)}Nt(TPe,"isBranch");var EPe="Checkout",SPe="CherryPicking",Bte="Commit";function CPe(t){return tl.isInstance(t,Bte)}Nt(CPe,"isCommit");var APe="Common";function _Pe(t){return tl.isInstance(t,APe)}Nt(_Pe,"isCommon");var $te="GitGraph";function LPe(t){return tl.isInstance(t,$te)}Nt(LPe,"isGitGraph");var NPe="Info";function RPe(t){return tl.isInstance(t,NPe)}Nt(RPe,"isInfo");var zte="Merge";function MPe(t){return tl.isInstance(t,zte)}Nt(MPe,"isMerge");var IPe="Packet";function DPe(t){return tl.isInstance(t,IPe)}Nt(DPe,"isPacket");var OPe="PacketBlock";function PPe(t){return tl.isInstance(t,OPe)}Nt(PPe,"isPacketBlock");var FPe="Pie";function BPe(t){return tl.isInstance(t,FPe)}Nt(BPe,"isPie");var $Pe="PieSection";function zPe(t){return tl.isInstance(t,$Pe)}Nt(zPe,"isPieSection");var UPe="Direction",X0,Ute=(X0=class extends AJ{getAllTypes(){return["Architecture","Branch","Checkout","CherryPicking","Commit","Common","Direction","Edge","GitGraph","Group","Info","Junction","Merge","Packet","PacketBlock","Pie","PieSection","Service","Statement"]}computeIsSubtype(e,r){switch(e){case Fte:case EPe:case SPe:case Bte:case zte:return this.isSubtype(bPe,r);case UPe:return this.isSubtype($te,r);default:return!1}}getReferenceType(e){const r=`${e.container.$type}:${e.property}`;switch(r){default:throw new Error(`${r} is not a valid reference id.`)}}getTypeMetaData(e){switch(e){case"Architecture":return{name:"Architecture",properties:[{name:"accDescr"},{name:"accTitle"},{name:"edges",defaultValue:[]},{name:"groups",defaultValue:[]},{name:"junctions",defaultValue:[]},{name:"services",defaultValue:[]},{name:"title"}]};case"Branch":return{name:"Branch",properties:[{name:"name"},{name:"order"}]};case"Checkout":return{name:"Checkout",properties:[{name:"branch"}]};case"CherryPicking":return{name:"CherryPicking",properties:[{name:"id"},{name:"parent"},{name:"tags",defaultValue:[]}]};case"Commit":return{name:"Commit",properties:[{name:"id"},{name:"message"},{name:"tags",defaultValue:[]},{name:"type"}]};case"Common":return{name:"Common",properties:[{name:"accDescr"},{name:"accTitle"},{name:"title"}]};case"Edge":return{name:"Edge",properties:[{name:"lhsDir"},{name:"lhsGroup",defaultValue:!1},{name:"lhsId"},{name:"lhsInto",defaultValue:!1},{name:"rhsDir"},{name:"rhsGroup",defaultValue:!1},{name:"rhsId"},{name:"rhsInto",defaultValue:!1},{name:"title"}]};case"GitGraph":return{name:"GitGraph",properties:[{name:"accDescr"},{name:"accTitle"},{name:"statements",defaultValue:[]},{name:"title"}]};case"Group":return{name:"Group",properties:[{name:"icon"},{name:"id"},{name:"in"},{name:"title"}]};case"Info":return{name:"Info",properties:[{name:"accDescr"},{name:"accTitle"},{name:"title"}]};case"Junction":return{name:"Junction",properties:[{name:"id"},{name:"in"}]};case"Merge":return{name:"Merge",properties:[{name:"branch"},{name:"id"},{name:"tags",defaultValue:[]},{name:"type"}]};case"Packet":return{name:"Packet",properties:[{name:"accDescr"},{name:"accTitle"},{name:"blocks",defaultValue:[]},{name:"title"}]};case"PacketBlock":return{name:"PacketBlock",properties:[{name:"end"},{name:"label"},{name:"start"}]};case"Pie":return{name:"Pie",properties:[{name:"accDescr"},{name:"accTitle"},{name:"sections",defaultValue:[]},{name:"showData",defaultValue:!1},{name:"title"}]};case"PieSection":return{name:"PieSection",properties:[{name:"label"},{name:"value"}]};case"Service":return{name:"Service",properties:[{name:"icon"},{name:"iconText"},{name:"id"},{name:"in"},{name:"title"}]};case"Direction":return{name:"Direction",properties:[{name:"accDescr"},{name:"accTitle"},{name:"dir"},{name:"statements",defaultValue:[]},{name:"title"}]};default:return{name:e,properties:[]}}}},Nt(X0,"MermaidAstReflection"),X0),tl=new Ute,nB,VPe=Nt(()=>nB??(nB=Xy('{"$type":"Grammar","isDeclared":true,"name":"Info","imports":[],"rules":[{"$type":"ParserRule","name":"Info","entry":true,"definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@3"},"arguments":[],"cardinality":"*"},{"$type":"Keyword","value":"info"},{"$type":"RuleCall","rule":{"$ref":"#/rules@3"},"arguments":[],"cardinality":"*"},{"$type":"Group","elements":[{"$type":"Keyword","value":"showInfo"},{"$type":"RuleCall","rule":{"$ref":"#/rules@3"},"arguments":[],"cardinality":"*"}],"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[],"cardinality":"?"}]},"definesHiddenTokens":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"TitleAndAccessibilities","fragment":true,"definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"accDescr","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@4"},"arguments":[]}},{"$type":"Assignment","feature":"accTitle","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@5"},"arguments":[]}},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[]}}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[]}],"cardinality":"+"},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"EOL","fragment":true,"dataType":"string","definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@3"},"arguments":[],"cardinality":"+"},{"$type":"EndOfFile"}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"NEWLINE","definition":{"$type":"RegexToken","regex":"/\\\\r?\\\\n/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_DESCR","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accDescr(?:[\\\\t ]*:([^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)|\\\\s*{([^}]*)})/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accTitle[\\\\t ]*:(?:[^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*title(?:[\\\\t ][^\\\\n\\\\r]*?(?=%%)|[\\\\t ][^\\\\n\\\\r]*|)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","hidden":true,"name":"WHITESPACE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]+/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"YAML","definition":{"$type":"RegexToken","regex":"/---[\\\\t ]*\\\\r?\\\\n(?:[\\\\S\\\\s]*?\\\\r?\\\\n)?---(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"DIRECTIVE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%{[\\\\S\\\\s]*?}%%(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"SINGLE_LINE_COMMENT","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%[^\\\\n\\\\r]*/"},"fragment":false}],"definesHiddenTokens":false,"hiddenTokens":[],"interfaces":[{"$type":"Interface","name":"Common","attributes":[{"$type":"TypeAttribute","name":"accDescr","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}},{"$type":"TypeAttribute","name":"accTitle","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}},{"$type":"TypeAttribute","name":"title","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}}],"superTypes":[]}],"types":[],"usedGrammars":[]}')),"InfoGrammar"),iB,GPe=Nt(()=>iB??(iB=Xy(`{"$type":"Grammar","isDeclared":true,"name":"Packet","imports":[],"rules":[{"$type":"ParserRule","name":"Packet","entry":true,"definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[],"cardinality":"*"},{"$type":"Keyword","value":"packet-beta"},{"$type":"Alternatives","elements":[{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[],"cardinality":"*"},{"$type":"RuleCall","rule":{"$ref":"#/rules@4"},"arguments":[]},{"$type":"Assignment","feature":"blocks","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[]},"cardinality":"*"}]},{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[],"cardinality":"+"},{"$type":"Assignment","feature":"blocks","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[]},"cardinality":"+"}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[],"cardinality":"*"}]}]},"definesHiddenTokens":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"PacketBlock","definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"start","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[]}},{"$type":"Group","elements":[{"$type":"Keyword","value":"-"},{"$type":"Assignment","feature":"end","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[]}}],"cardinality":"?"},{"$type":"Keyword","value":":"},{"$type":"Assignment","feature":"label","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@3"},"arguments":[]}},{"$type":"RuleCall","rule":{"$ref":"#/rules@5"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"INT","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/0|[1-9][0-9]*/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"STRING","definition":{"$type":"RegexToken","regex":"/\\"[^\\"]*\\"|'[^']*'/"},"fragment":false,"hidden":false},{"$type":"ParserRule","name":"TitleAndAccessibilities","fragment":true,"definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"accDescr","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@7"},"arguments":[]}},{"$type":"Assignment","feature":"accTitle","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@8"},"arguments":[]}},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@9"},"arguments":[]}}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@5"},"arguments":[]}],"cardinality":"+"},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"EOL","fragment":true,"dataType":"string","definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[],"cardinality":"+"},{"$type":"EndOfFile"}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"NEWLINE","definition":{"$type":"RegexToken","regex":"/\\\\r?\\\\n/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_DESCR","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accDescr(?:[\\\\t ]*:([^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)|\\\\s*{([^}]*)})/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accTitle[\\\\t ]*:(?:[^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*title(?:[\\\\t ][^\\\\n\\\\r]*?(?=%%)|[\\\\t ][^\\\\n\\\\r]*|)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","hidden":true,"name":"WHITESPACE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]+/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"YAML","definition":{"$type":"RegexToken","regex":"/---[\\\\t ]*\\\\r?\\\\n(?:[\\\\S\\\\s]*?\\\\r?\\\\n)?---(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"DIRECTIVE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%{[\\\\S\\\\s]*?}%%(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"SINGLE_LINE_COMMENT","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%[^\\\\n\\\\r]*/"},"fragment":false}],"definesHiddenTokens":false,"hiddenTokens":[],"interfaces":[{"$type":"Interface","name":"Common","attributes":[{"$type":"TypeAttribute","name":"accDescr","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}},{"$type":"TypeAttribute","name":"accTitle","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}},{"$type":"TypeAttribute","name":"title","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}}],"superTypes":[]}],"types":[],"usedGrammars":[]}`)),"PacketGrammar"),aB,HPe=Nt(()=>aB??(aB=Xy('{"$type":"Grammar","isDeclared":true,"name":"Pie","imports":[],"rules":[{"$type":"ParserRule","name":"Pie","entry":true,"definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[],"cardinality":"*"},{"$type":"Keyword","value":"pie"},{"$type":"Assignment","feature":"showData","operator":"?=","terminal":{"$type":"Keyword","value":"showData"},"cardinality":"?"},{"$type":"Alternatives","elements":[{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[],"cardinality":"*"},{"$type":"RuleCall","rule":{"$ref":"#/rules@4"},"arguments":[]},{"$type":"Assignment","feature":"sections","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[]},"cardinality":"*"}]},{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[],"cardinality":"+"},{"$type":"Assignment","feature":"sections","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[]},"cardinality":"+"}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[],"cardinality":"*"}]}]},"definesHiddenTokens":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"PieSection","definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"label","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[]}},{"$type":"Keyword","value":":"},{"$type":"Assignment","feature":"value","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@3"},"arguments":[]}},{"$type":"RuleCall","rule":{"$ref":"#/rules@5"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"PIE_SECTION_LABEL","definition":{"$type":"RegexToken","regex":"/\\"[^\\"]+\\"/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"PIE_SECTION_VALUE","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/(0|[1-9][0-9]*)(\\\\.[0-9]+)?/"},"fragment":false,"hidden":false},{"$type":"ParserRule","name":"TitleAndAccessibilities","fragment":true,"definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"accDescr","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@7"},"arguments":[]}},{"$type":"Assignment","feature":"accTitle","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@8"},"arguments":[]}},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@9"},"arguments":[]}}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@5"},"arguments":[]}],"cardinality":"+"},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"EOL","fragment":true,"dataType":"string","definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[],"cardinality":"+"},{"$type":"EndOfFile"}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"NEWLINE","definition":{"$type":"RegexToken","regex":"/\\\\r?\\\\n/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_DESCR","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accDescr(?:[\\\\t ]*:([^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)|\\\\s*{([^}]*)})/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accTitle[\\\\t ]*:(?:[^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*title(?:[\\\\t ][^\\\\n\\\\r]*?(?=%%)|[\\\\t ][^\\\\n\\\\r]*|)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","hidden":true,"name":"WHITESPACE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]+/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"YAML","definition":{"$type":"RegexToken","regex":"/---[\\\\t ]*\\\\r?\\\\n(?:[\\\\S\\\\s]*?\\\\r?\\\\n)?---(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"DIRECTIVE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%{[\\\\S\\\\s]*?}%%(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"SINGLE_LINE_COMMENT","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%[^\\\\n\\\\r]*/"},"fragment":false}],"definesHiddenTokens":false,"hiddenTokens":[],"interfaces":[{"$type":"Interface","name":"Common","attributes":[{"$type":"TypeAttribute","name":"accDescr","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}},{"$type":"TypeAttribute","name":"accTitle","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}},{"$type":"TypeAttribute","name":"title","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}}],"superTypes":[]}],"types":[],"usedGrammars":[]}')),"PieGrammar"),sB,WPe=Nt(()=>sB??(sB=Xy('{"$type":"Grammar","isDeclared":true,"name":"Architecture","imports":[],"rules":[{"$type":"ParserRule","name":"Architecture","entry":true,"definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@18"},"arguments":[],"cardinality":"*"},{"$type":"Keyword","value":"architecture-beta"},{"$type":"Alternatives","elements":[{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@18"},"arguments":[],"cardinality":"*"},{"$type":"RuleCall","rule":{"$ref":"#/rules@16"},"arguments":[]}]},{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@18"},"arguments":[],"cardinality":"*"},{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[],"cardinality":"*"}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@18"},"arguments":[],"cardinality":"*"}]}]},"definesHiddenTokens":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Statement","fragment":true,"definition":{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"groups","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@5"},"arguments":[]}},{"$type":"Assignment","feature":"services","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[]}},{"$type":"Assignment","feature":"junctions","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@7"},"arguments":[]}},{"$type":"Assignment","feature":"edges","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@8"},"arguments":[]}}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"LeftPort","fragment":true,"definition":{"$type":"Group","elements":[{"$type":"Keyword","value":":"},{"$type":"Assignment","feature":"lhsDir","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@9"},"arguments":[]}}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"RightPort","fragment":true,"definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"rhsDir","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@9"},"arguments":[]}},{"$type":"Keyword","value":":"}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Arrow","fragment":true,"definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[]},{"$type":"Assignment","feature":"lhsInto","operator":"?=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@15"},"arguments":[]},"cardinality":"?"},{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"--"},{"$type":"Group","elements":[{"$type":"Keyword","value":"-"},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@13"},"arguments":[]}},{"$type":"Keyword","value":"-"}]}]},{"$type":"Assignment","feature":"rhsInto","operator":"?=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@15"},"arguments":[]},"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@3"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Group","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"group"},{"$type":"Assignment","feature":"id","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@10"},"arguments":[]}},{"$type":"Assignment","feature":"icon","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@12"},"arguments":[]},"cardinality":"?"},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@13"},"arguments":[]},"cardinality":"?"},{"$type":"Group","elements":[{"$type":"Keyword","value":"in"},{"$type":"Assignment","feature":"in","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@10"},"arguments":[]}}],"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Service","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"service"},{"$type":"Assignment","feature":"id","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@10"},"arguments":[]}},{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"iconText","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@11"},"arguments":[]}},{"$type":"Assignment","feature":"icon","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@12"},"arguments":[]}}],"cardinality":"?"},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@13"},"arguments":[]},"cardinality":"?"},{"$type":"Group","elements":[{"$type":"Keyword","value":"in"},{"$type":"Assignment","feature":"in","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@10"},"arguments":[]}}],"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Junction","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"junction"},{"$type":"Assignment","feature":"id","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@10"},"arguments":[]}},{"$type":"Group","elements":[{"$type":"Keyword","value":"in"},{"$type":"Assignment","feature":"in","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@10"},"arguments":[]}}],"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Edge","definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"lhsId","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@10"},"arguments":[]}},{"$type":"Assignment","feature":"lhsGroup","operator":"?=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@14"},"arguments":[]},"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@4"},"arguments":[]},{"$type":"Assignment","feature":"rhsId","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@10"},"arguments":[]}},{"$type":"Assignment","feature":"rhsGroup","operator":"?=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@14"},"arguments":[]},"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"ARROW_DIRECTION","definition":{"$type":"TerminalAlternatives","elements":[{"$type":"TerminalAlternatives","elements":[{"$type":"TerminalAlternatives","elements":[{"$type":"CharacterRange","left":{"$type":"Keyword","value":"L"}},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"R"}}]},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"T"}}]},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"B"}}]},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ARCH_ID","definition":{"$type":"RegexToken","regex":"/[\\\\w]+/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ARCH_TEXT_ICON","definition":{"$type":"RegexToken","regex":"/\\\\(\\"[^\\"]+\\"\\\\)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ARCH_ICON","definition":{"$type":"RegexToken","regex":"/\\\\([\\\\w-:]+\\\\)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ARCH_TITLE","definition":{"$type":"RegexToken","regex":"/\\\\[[\\\\w ]+\\\\]/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ARROW_GROUP","definition":{"$type":"RegexToken","regex":"/\\\\{group\\\\}/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ARROW_INTO","definition":{"$type":"RegexToken","regex":"/<|>/"},"fragment":false,"hidden":false},{"$type":"ParserRule","name":"TitleAndAccessibilities","fragment":true,"definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"accDescr","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@19"},"arguments":[]}},{"$type":"Assignment","feature":"accTitle","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[]}},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@21"},"arguments":[]}}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}],"cardinality":"+"},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"EOL","fragment":true,"dataType":"string","definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@18"},"arguments":[],"cardinality":"+"},{"$type":"EndOfFile"}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"NEWLINE","definition":{"$type":"RegexToken","regex":"/\\\\r?\\\\n/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_DESCR","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accDescr(?:[\\\\t ]*:([^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)|\\\\s*{([^}]*)})/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accTitle[\\\\t ]*:(?:[^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*title(?:[\\\\t ][^\\\\n\\\\r]*?(?=%%)|[\\\\t ][^\\\\n\\\\r]*|)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","hidden":true,"name":"WHITESPACE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]+/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"YAML","definition":{"$type":"RegexToken","regex":"/---[\\\\t ]*\\\\r?\\\\n(?:[\\\\S\\\\s]*?\\\\r?\\\\n)?---(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"DIRECTIVE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%{[\\\\S\\\\s]*?}%%(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"SINGLE_LINE_COMMENT","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%[^\\\\n\\\\r]*/"},"fragment":false}],"definesHiddenTokens":false,"hiddenTokens":[],"interfaces":[{"$type":"Interface","name":"Common","attributes":[{"$type":"TypeAttribute","name":"accDescr","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}},{"$type":"TypeAttribute","name":"accTitle","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}},{"$type":"TypeAttribute","name":"title","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}}],"superTypes":[]}],"types":[],"usedGrammars":[]}')),"ArchitectureGrammar"),oB,YPe=Nt(()=>oB??(oB=Xy(`{"$type":"Grammar","isDeclared":true,"name":"GitGraph","interfaces":[{"$type":"Interface","name":"Common","attributes":[{"$type":"TypeAttribute","name":"accDescr","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}},{"$type":"TypeAttribute","name":"accTitle","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}},{"$type":"TypeAttribute","name":"title","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}}],"superTypes":[]}],"rules":[{"$type":"ParserRule","name":"TitleAndAccessibilities","fragment":true,"definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"accDescr","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@3"},"arguments":[]}},{"$type":"Assignment","feature":"accTitle","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@4"},"arguments":[]}},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@5"},"arguments":[]}}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[]}],"cardinality":"+"},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"EOL","fragment":true,"dataType":"string","definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[],"cardinality":"+"},{"$type":"EndOfFile"}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"NEWLINE","definition":{"$type":"RegexToken","regex":"/\\\\r?\\\\n/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_DESCR","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accDescr(?:[\\\\t ]*:([^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)|\\\\s*{([^}]*)})/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accTitle[\\\\t ]*:(?:[^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*title(?:[\\\\t ][^\\\\n\\\\r]*?(?=%%)|[\\\\t ][^\\\\n\\\\r]*|)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","hidden":true,"name":"WHITESPACE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]+/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"YAML","definition":{"$type":"RegexToken","regex":"/---[\\\\t ]*\\\\r?\\\\n(?:[\\\\S\\\\s]*?\\\\r?\\\\n)?---(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"DIRECTIVE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%{[\\\\S\\\\s]*?}%%(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"SINGLE_LINE_COMMENT","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%[^\\\\n\\\\r]*/"},"fragment":false},{"$type":"ParserRule","name":"GitGraph","entry":true,"definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[],"cardinality":"*"},{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"gitGraph"},{"$type":"Group","elements":[{"$type":"Keyword","value":"gitGraph"},{"$type":"Keyword","value":":"}]},{"$type":"Keyword","value":"gitGraph:"},{"$type":"Group","elements":[{"$type":"Keyword","value":"gitGraph"},{"$type":"RuleCall","rule":{"$ref":"#/rules@12"},"arguments":[]},{"$type":"Keyword","value":":"}]}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[],"cardinality":"*"},{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[],"cardinality":"*"},{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@0"},"arguments":[]},{"$type":"Assignment","feature":"statements","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@11"},"arguments":[]}},{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[]}],"cardinality":"*"}]}]},"definesHiddenTokens":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Statement","definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@13"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@14"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@15"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@16"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Direction","definition":{"$type":"Assignment","feature":"dir","operator":"=","terminal":{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"LR"},{"$type":"Keyword","value":"TB"},{"$type":"Keyword","value":"BT"}]}},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Commit","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"commit"},{"$type":"Alternatives","elements":[{"$type":"Group","elements":[{"$type":"Keyword","value":"id:"},{"$type":"Assignment","feature":"id","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"msg:","cardinality":"?"},{"$type":"Assignment","feature":"message","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"tag:"},{"$type":"Assignment","feature":"tags","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"type:"},{"$type":"Assignment","feature":"type","operator":"=","terminal":{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"NORMAL"},{"$type":"Keyword","value":"REVERSE"},{"$type":"Keyword","value":"HIGHLIGHT"}]}}]}],"cardinality":"*"},{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Branch","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"branch"},{"$type":"Assignment","feature":"name","operator":"=","terminal":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@19"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[]}]}},{"$type":"Group","elements":[{"$type":"Keyword","value":"order:"},{"$type":"Assignment","feature":"order","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@18"},"arguments":[]}}],"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Merge","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"merge"},{"$type":"Assignment","feature":"branch","operator":"=","terminal":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@19"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[]}]}},{"$type":"Alternatives","elements":[{"$type":"Group","elements":[{"$type":"Keyword","value":"id:"},{"$type":"Assignment","feature":"id","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"tag:"},{"$type":"Assignment","feature":"tags","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"type:"},{"$type":"Assignment","feature":"type","operator":"=","terminal":{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"NORMAL"},{"$type":"Keyword","value":"REVERSE"},{"$type":"Keyword","value":"HIGHLIGHT"}]}}]}],"cardinality":"*"},{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Checkout","definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"checkout"},{"$type":"Keyword","value":"switch"}]},{"$type":"Assignment","feature":"branch","operator":"=","terminal":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@19"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[]}]}},{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"CherryPicking","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"cherry-pick"},{"$type":"Alternatives","elements":[{"$type":"Group","elements":[{"$type":"Keyword","value":"id:"},{"$type":"Assignment","feature":"id","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"tag:"},{"$type":"Assignment","feature":"tags","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"parent:"},{"$type":"Assignment","feature":"parent","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[]}}]}],"cardinality":"*"},{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"INT","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/[0-9]+(?=\\\\s)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ID","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"RegexToken","regex":"/\\\\w([-\\\\./\\\\w]*[-\\\\w])?/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"STRING","definition":{"$type":"RegexToken","regex":"/\\"[^\\"]*\\"|'[^']*'/"},"fragment":false,"hidden":false}],"definesHiddenTokens":false,"hiddenTokens":[],"imports":[],"types":[],"usedGrammars":[]}`)),"GitGraphGrammar"),qPe={languageId:"info",fileExtensions:[".mmd",".mermaid"],caseInsensitive:!1},jPe={languageId:"packet",fileExtensions:[".mmd",".mermaid"],caseInsensitive:!1},XPe={languageId:"pie",fileExtensions:[".mmd",".mermaid"],caseInsensitive:!1},KPe={languageId:"architecture",fileExtensions:[".mmd",".mermaid"],caseInsensitive:!1},QPe={languageId:"gitGraph",fileExtensions:[".mmd",".mermaid"],caseInsensitive:!1},Ky={AstReflection:Nt(()=>new Ute,"AstReflection")},ZPe={Grammar:Nt(()=>VPe(),"Grammar"),LanguageMetaData:Nt(()=>qPe,"LanguageMetaData"),parser:{}},JPe={Grammar:Nt(()=>GPe(),"Grammar"),LanguageMetaData:Nt(()=>jPe,"LanguageMetaData"),parser:{}},eFe={Grammar:Nt(()=>HPe(),"Grammar"),LanguageMetaData:Nt(()=>XPe,"LanguageMetaData"),parser:{}},tFe={Grammar:Nt(()=>WPe(),"Grammar"),LanguageMetaData:Nt(()=>KPe,"LanguageMetaData"),parser:{}},rFe={Grammar:Nt(()=>YPe(),"Grammar"),LanguageMetaData:Nt(()=>QPe,"LanguageMetaData"),parser:{}},nFe=/accDescr(?:[\t ]*:([^\n\r]*)|\s*{([^}]*)})/,iFe=/accTitle[\t ]*:([^\n\r]*)/,aFe=/title([\t ][^\n\r]*|)/,sFe={ACC_DESCR:nFe,ACC_TITLE:iFe,TITLE:aFe},K0,EL=(K0=class extends wte{runConverter(e,r,n){let i=this.runCommonConverter(e,r,n);return i===void 0&&(i=this.runCustomConverter(e,r,n)),i===void 0?super.runConverter(e,r,n):i}runCommonConverter(e,r,n){const i=sFe[e.name];if(i===void 0)return;const a=i.exec(r);if(a!==null){if(a[1]!==void 0)return a[1].trim().replace(/[\t ]{2,}/gm," ");if(a[2]!==void 0)return a[2].replace(/^\s*/gm,"").replace(/\s+$/gm,"").replace(/[\t ]{2,}/gm," ").replace(/[\n\r]{2,}/gm,`
`)}}},Nt(K0,"AbstractMermaidValueConverter"),K0),Q0,SL=(Q0=class extends EL{runCustomConverter(e,r,n){}},Nt(Q0,"CommonValueConverter"),Q0),Z0,Wg=(Z0=class extends bte{constructor(e){super(),this.keywords=new Set(e)}buildKeywordTokens(e,r,n){const i=super.buildKeywordTokens(e,r,n);return i.forEach(a=>{this.keywords.has(a.name)&&a.PATTERN!==void 0&&(a.PATTERN=new RegExp(a.PATTERN.toString()+"(?:(?=%%)|(?!\\S))"))}),i}},Nt(Z0,"AbstractMermaidTokenBuilder"),Z0),J0;J0=class extends Wg{},Nt(J0,"CommonTokenBuilder");var ep,oFe=(ep=class extends Wg{constructor(){super(["gitGraph"])}},Nt(ep,"GitGraphTokenBuilder"),ep),Vte={parser:{TokenBuilder:Nt(()=>new oFe,"TokenBuilder"),ValueConverter:Nt(()=>new SL,"ValueConverter")}};function Gte(t=Hg){const e=bo(Gg(t),Ky),r=bo(Vg({shared:e}),rFe,Vte);return e.ServiceRegistry.register(r),{shared:e,GitGraph:r}}Nt(Gte,"createGitGraphServices");var tp,lFe=(tp=class extends Wg{constructor(){super(["info","showInfo"])}},Nt(tp,"InfoTokenBuilder"),tp),Hte={parser:{TokenBuilder:Nt(()=>new lFe,"TokenBuilder"),ValueConverter:Nt(()=>new SL,"ValueConverter")}};function Wte(t=Hg){const e=bo(Gg(t),Ky),r=bo(Vg({shared:e}),ZPe,Hte);return e.ServiceRegistry.register(r),{shared:e,Info:r}}Nt(Wte,"createInfoServices");var rp,cFe=(rp=class extends Wg{constructor(){super(["packet-beta"])}},Nt(rp,"PacketTokenBuilder"),rp),Yte={parser:{TokenBuilder:Nt(()=>new cFe,"TokenBuilder"),ValueConverter:Nt(()=>new SL,"ValueConverter")}};function qte(t=Hg){const e=bo(Gg(t),Ky),r=bo(Vg({shared:e}),JPe,Yte);return e.ServiceRegistry.register(r),{shared:e,Packet:r}}Nt(qte,"createPacketServices");var np,uFe=(np=class extends Wg{constructor(){super(["pie","showData"])}},Nt(np,"PieTokenBuilder"),np),ip,hFe=(ip=class extends EL{runCustomConverter(e,r,n){if(e.name==="PIE_SECTION_LABEL")return r.replace(/"/g,"").trim()}},Nt(ip,"PieValueConverter"),ip),jte={parser:{TokenBuilder:Nt(()=>new uFe,"TokenBuilder"),ValueConverter:Nt(()=>new hFe,"ValueConverter")}};function Xte(t=Hg){const e=bo(Gg(t),Ky),r=bo(Vg({shared:e}),eFe,jte);return e.ServiceRegistry.register(r),{shared:e,Pie:r}}Nt(Xte,"createPieServices");var ap,dFe=(ap=class extends Wg{constructor(){super(["architecture"])}},Nt(ap,"ArchitectureTokenBuilder"),ap),sp,fFe=(sp=class extends EL{runCustomConverter(e,r,n){if(e.name==="ARCH_ICON")return r.replace(/[()]/g,"").trim();if(e.name==="ARCH_TEXT_ICON")return r.replace(/["()]/g,"");if(e.name==="ARCH_TITLE")return r.replace(/[[\]]/g,"").trim()}},Nt(sp,"ArchitectureValueConverter"),sp),Kte={parser:{TokenBuilder:Nt(()=>new dFe,"TokenBuilder"),ValueConverter:Nt(()=>new fFe,"ValueConverter")}};function Qte(t=Hg){const e=bo(Gg(t),Ky),r=bo(Vg({shared:e}),tFe,Kte);return e.ServiceRegistry.register(r),{shared:e,Architecture:r}}Nt(Qte,"createArchitectureServices");var jh={},pFe={info:Nt(async()=>{const{createInfoServices:t}=await _r(async()=>{const{createInfoServices:r}=await Promise.resolve().then(()=>nrt);return{createInfoServices:r}},void 0),e=t().Info.parser.LangiumParser;jh.info=e},"info"),packet:Nt(async()=>{const{createPacketServices:t}=await _r(async()=>{const{createPacketServices:r}=await Promise.resolve().then(()=>irt);return{createPacketServices:r}},void 0),e=t().Packet.parser.LangiumParser;jh.packet=e},"packet"),pie:Nt(async()=>{const{createPieServices:t}=await _r(async()=>{const{createPieServices:r}=await Promise.resolve().then(()=>art);return{createPieServices:r}},void 0),e=t().Pie.parser.LangiumParser;jh.pie=e},"pie"),architecture:Nt(async()=>{const{createArchitectureServices:t}=await _r(async()=>{const{createArchitectureServices:r}=await Promise.resolve().then(()=>srt);return{createArchitectureServices:r}},void 0),e=t().Architecture.parser.LangiumParser;jh.architecture=e},"architecture"),gitGraph:Nt(async()=>{const{createGitGraphServices:t}=await _r(async()=>{const{createGitGraphServices:r}=await Promise.resolve().then(()=>ort);return{createGitGraphServices:r}},void 0),e=t().GitGraph.parser.LangiumParser;jh.gitGraph=e},"gitGraph")};async function Yg(t,e){const r=pFe[t];if(!r)throw new Error(`Unknown diagram type: ${t}`);jh[t]||await r();const i=jh[t].parse(e);if(i.lexerErrors.length>0||i.parserErrors.length>0)throw new gFe(i);return i.value}Nt(Yg,"parse");var op,gFe=(op=class extends Error{constructor(e){const r=e.lexerErrors.map(i=>i.message).join(`
`),n=e.parserErrors.map(i=>i.message).join(`
`);super(`Parsing failed: ${r} ${n}`),this.result=e}},Nt(op,"MermaidParseError"),op),Br={NORMAL:0,REVERSE:1,HIGHLIGHT:2,MERGE:3,CHERRY_PICK:4},mFe=Ur.gitGraph,Tf=b(()=>Zc({...mFe,...Dn().gitGraph}),"getConfig"),vt=new J9(()=>{const t=Tf(),e=t.mainBranchName,r=t.mainBranchOrder;return{mainBranchName:e,commits:new Map,head:null,branchConfig:new Map([[e,{name:e,order:r}]]),branches:new Map([[e,null]]),currBranch:e,direction:"LR",seq:0,options:{}}});function p6(){return IY({length:7})}b(p6,"getID");function Zte(t,e){const r=Object.create(null);return t.reduce((n,i)=>{const a=e(i);return r[a]||(r[a]=!0,n.push(i)),n},[])}b(Zte,"uniqBy");var vFe=b(function(t){vt.records.direction=t},"setDirection"),yFe=b(function(t){q.debug("options str",t),t=t==null?void 0:t.trim(),t=t||"{}";try{vt.records.options=JSON.parse(t)}catch(e){q.error("error while parsing gitGraph options",e.message)}},"setOptions"),xFe=b(function(){return vt.records.options},"getOptions"),bFe=b(function(t){let e=t.msg,r=t.id;const n=t.type;let i=t.tags;q.info("commit",e,r,n,i),q.debug("Entering commit:",e,r,n,i);const a=Tf();r=et.sanitizeText(r,a),e=et.sanitizeText(e,a),i=i==null?void 0:i.map(o=>et.sanitizeText(o,a));const s={id:r||vt.records.seq+"-"+p6(),message:e,seq:vt.records.seq++,type:n??Br.NORMAL,tags:i??[],parents:vt.records.head==null?[]:[vt.records.head.id],branch:vt.records.currBranch};vt.records.head=s,q.info("main branch",a.mainBranchName),vt.records.commits.set(s.id,s),vt.records.branches.set(vt.records.currBranch,s.id),q.debug("in pushCommit "+s.id)},"commit"),wFe=b(function(t){let e=t.name;const r=t.order;if(e=et.sanitizeText(e,Tf()),vt.records.branches.has(e))throw new Error(`Trying to create an existing branch. (Help: Either use a new name if you want create a new branch or try using "checkout ${e}")`);vt.records.branches.set(e,vt.records.head!=null?vt.records.head.id:null),vt.records.branchConfig.set(e,{name:e,order:r}),Jte(e),q.debug("in createBranch")},"branch"),kFe=b(t=>{let e=t.branch,r=t.id;const n=t.type,i=t.tags,a=Tf();e=et.sanitizeText(e,a),r&&(r=et.sanitizeText(r,a));const s=vt.records.branches.get(vt.records.currBranch),o=vt.records.branches.get(e),l=s?vt.records.commits.get(s):void 0,u=o?vt.records.commits.get(o):void 0;if(l&&u&&l.branch===e)throw new Error(`Cannot merge branch '${e}' into itself.`);if(vt.records.currBranch===e){const p=new Error('Incorrect usage of "merge". Cannot merge a branch to itself');throw p.hash={text:`merge ${e}`,token:`merge ${e}`,expected:["branch abc"]},p}if(l===void 0||!l){const p=new Error(`Incorrect usage of "merge". Current branch (${vt.records.currBranch})has no commits`);throw p.hash={text:`merge ${e}`,token:`merge ${e}`,expected:["commit"]},p}if(!vt.records.branches.has(e)){const p=new Error('Incorrect usage of "merge". Branch to be merged ('+e+") does not exist");throw p.hash={text:`merge ${e}`,token:`merge ${e}`,expected:[`branch ${e}`]},p}if(u===void 0||!u){const p=new Error('Incorrect usage of "merge". Branch to be merged ('+e+") has no commits");throw p.hash={text:`merge ${e}`,token:`merge ${e}`,expected:['"commit"']},p}if(l===u){const p=new Error('Incorrect usage of "merge". Both branches have same head');throw p.hash={text:`merge ${e}`,token:`merge ${e}`,expected:["branch abc"]},p}if(r&&vt.records.commits.has(r)){const p=new Error('Incorrect usage of "merge". Commit with id:'+r+" already exists, use different custom Id");throw p.hash={text:`merge ${e} ${r} ${n} ${i==null?void 0:i.join(" ")}`,token:`merge ${e} ${r} ${n} ${i==null?void 0:i.join(" ")}`,expected:[`merge ${e} ${r}_UNIQUE ${n} ${i==null?void 0:i.join(" ")}`]},p}const h=o||"",d={id:r||`${vt.records.seq}-${p6()}`,message:`merged branch ${e} into ${vt.records.currBranch}`,seq:vt.records.seq++,parents:vt.records.head==null?[]:[vt.records.head.id,h],branch:vt.records.currBranch,type:Br.MERGE,customType:n,customId:!!r,tags:i??[]};vt.records.head=d,vt.records.commits.set(d.id,d),vt.records.branches.set(vt.records.currBranch,d.id),q.debug(vt.records.branches),q.debug("in mergeBranch")},"merge"),TFe=b(function(t){let e=t.id,r=t.targetId,n=t.tags,i=t.parent;q.debug("Entering cherryPick:",e,r,n);const a=Tf();if(e=et.sanitizeText(e,a),r=et.sanitizeText(r,a),n=n==null?void 0:n.map(l=>et.sanitizeText(l,a)),i=et.sanitizeText(i,a),!e||!vt.records.commits.has(e)){const l=new Error('Incorrect usage of "cherryPick". Source commit id should exist and provided');throw l.hash={text:`cherryPick ${e} ${r}`,token:`cherryPick ${e} ${r}`,expected:["cherry-pick abc"]},l}const s=vt.records.commits.get(e);if(s===void 0||!s)throw new Error('Incorrect usage of "cherryPick". Source commit id should exist and provided');if(i&&!(Array.isArray(s.parents)&&s.parents.includes(i)))throw new Error("Invalid operation: The specified parent commit is not an immediate parent of the cherry-picked commit.");const o=s.branch;if(s.type===Br.MERGE&&!i)throw new Error("Incorrect usage of cherry-pick: If the source commit is a merge commit, an immediate parent commit must be specified.");if(!r||!vt.records.commits.has(r)){if(o===vt.records.currBranch){const d=new Error('Incorrect usage of "cherryPick". Source commit is already on current branch');throw d.hash={text:`cherryPick ${e} ${r}`,token:`cherryPick ${e} ${r}`,expected:["cherry-pick abc"]},d}const l=vt.records.branches.get(vt.records.currBranch);if(l===void 0||!l){const d=new Error(`Incorrect usage of "cherry-pick". Current branch (${vt.records.currBranch})has no commits`);throw d.hash={text:`cherryPick ${e} ${r}`,token:`cherryPick ${e} ${r}`,expected:["cherry-pick abc"]},d}const u=vt.records.commits.get(l);if(u===void 0||!u){const d=new Error(`Incorrect usage of "cherry-pick". Current branch (${vt.records.currBranch})has no commits`);throw d.hash={text:`cherryPick ${e} ${r}`,token:`cherryPick ${e} ${r}`,expected:["cherry-pick abc"]},d}const h={id:vt.records.seq+"-"+p6(),message:`cherry-picked ${s==null?void 0:s.message} into ${vt.records.currBranch}`,seq:vt.records.seq++,parents:vt.records.head==null?[]:[vt.records.head.id,s.id],branch:vt.records.currBranch,type:Br.CHERRY_PICK,tags:n?n.filter(Boolean):[`cherry-pick:${s.id}${s.type===Br.MERGE?`|parent:${i}`:""}`]};vt.records.head=h,vt.records.commits.set(h.id,h),vt.records.branches.set(vt.records.currBranch,h.id),q.debug(vt.records.branches),q.debug("in cherryPick")}},"cherryPick"),Jte=b(function(t){if(t=et.sanitizeText(t,Tf()),vt.records.branches.has(t)){vt.records.currBranch=t;const e=vt.records.branches.get(vt.records.currBranch);e===void 0||!e?vt.records.head=null:vt.records.head=vt.records.commits.get(e)??null}else{const e=new Error(`Trying to checkout branch which is not yet created. (Help try using "branch ${t}")`);throw e.hash={text:`checkout ${t}`,token:`checkout ${t}`,expected:[`branch ${t}`]},e}},"checkout");function zC(t,e,r){const n=t.indexOf(e);n===-1?t.push(r):t.splice(n,1,r)}b(zC,"upsert");function CL(t){const e=t.reduce((i,a)=>i.seq>a.seq?i:a,t[0]);let r="";t.forEach(function(i){i===e?r+="	*":r+="	|"});const n=[r,e.id,e.seq];for(const i in vt.records.branches)vt.records.branches.get(i)===e.id&&n.push(i);if(q.debug(n.join(" ")),e.parents&&e.parents.length==2&&e.parents[0]&&e.parents[1]){const i=vt.records.commits.get(e.parents[0]);zC(t,e,i),e.parents[1]&&t.push(vt.records.commits.get(e.parents[1]))}else{if(e.parents.length==0)return;if(e.parents[0]){const i=vt.records.commits.get(e.parents[0]);zC(t,e,i)}}t=Zte(t,i=>i.id),CL(t)}b(CL,"prettyPrintCommitHistory");var EFe=b(function(){q.debug(vt.records.commits);const t=ere()[0];CL([t])},"prettyPrint"),SFe=b(function(){vt.reset(),Ni()},"clear"),CFe=b(function(){return[...vt.records.branchConfig.values()].map((e,r)=>e.order!==null&&e.order!==void 0?e:{...e,order:parseFloat(`0.${r}`)}).sort((e,r)=>(e.order??0)-(r.order??0)).map(({name:e})=>({name:e}))},"getBranchesAsObjArray"),AFe=b(function(){return vt.records.branches},"getBranches"),_Fe=b(function(){return vt.records.commits},"getCommits"),ere=b(function(){const t=[...vt.records.commits.values()];return t.forEach(function(e){q.debug(e.id)}),t.sort((e,r)=>e.seq-r.seq),t},"getCommitsArray"),LFe=b(function(){return vt.records.currBranch},"getCurrentBranch"),NFe=b(function(){return vt.records.direction},"getDirection"),RFe=b(function(){return vt.records.head},"getHead"),tre={commitType:Br,getConfig:Tf,setDirection:vFe,setOptions:yFe,getOptions:xFe,commit:bFe,branch:wFe,merge:kFe,cherryPick:TFe,checkout:Jte,prettyPrint:EFe,clear:SFe,getBranchesAsObjArray:CFe,getBranches:AFe,getCommits:_Fe,getCommitsArray:ere,getCurrentBranch:LFe,getDirection:NFe,getHead:RFe,setAccTitle:Ri,getAccTitle:Qi,getAccDescription:Ji,setAccDescription:Zi,setDiagramTitle:za,getDiagramTitle:ea},MFe=b((t,e)=>{Vy(t,e),t.dir&&e.setDirection(t.dir);for(const r of t.statements)IFe(r,e)},"populate"),IFe=b((t,e)=>{const n={Commit:b(i=>e.commit(DFe(i)),"Commit"),Branch:b(i=>e.branch(OFe(i)),"Branch"),Merge:b(i=>e.merge(PFe(i)),"Merge"),Checkout:b(i=>e.checkout(FFe(i)),"Checkout"),CherryPicking:b(i=>e.cherryPick(BFe(i)),"CherryPicking")}[t.$type];n?n(t):q.error(`Unknown statement type: ${t.$type}`)},"parseStatement"),DFe=b(t=>({id:t.id,msg:t.message??"",type:t.type!==void 0?Br[t.type]:Br.NORMAL,tags:t.tags??void 0}),"parseCommit"),OFe=b(t=>({name:t.name,order:t.order??0}),"parseBranch"),PFe=b(t=>({branch:t.branch,id:t.id??"",type:t.type!==void 0?Br[t.type]:void 0,tags:t.tags??void 0}),"parseMerge"),FFe=b(t=>t.branch,"parseCheckout"),BFe=b(t=>{var r;return{id:t.id,targetId:"",tags:((r=t.tags)==null?void 0:r.length)===0?void 0:t.tags,parent:t.parent}},"parseCherryPicking"),$Fe={parse:b(async t=>{const e=await Yg("gitGraph",t);q.debug(e),MFe(e,tre)},"parse")},uE=we(),Xn=uE==null?void 0:uE.gitGraph,Lu=10,Nu=40,ll=4,sc=2,Xh=8,es=new Map,cs=new Map,J3=30,sm=new Map,e5=[],wu=0,mr="LR",zFe=b(()=>{es.clear(),cs.clear(),sm.clear(),wu=0,e5=[],mr="LR"},"clear"),rre=b(t=>{const e=document.createElementNS("http://www.w3.org/2000/svg","text");return(typeof t=="string"?t.split(/\\n|\n|<br\s*\/?>/gi):t).forEach(n=>{const i=document.createElementNS("http://www.w3.org/2000/svg","tspan");i.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),i.setAttribute("dy","1em"),i.setAttribute("x","0"),i.setAttribute("class","row"),i.textContent=n.trim(),e.appendChild(i)}),e},"drawText"),nre=b(t=>{let e,r,n;return mr==="BT"?(r=b((i,a)=>i<=a,"comparisonFunc"),n=1/0):(r=b((i,a)=>i>=a,"comparisonFunc"),n=0),t.forEach(i=>{var s,o;const a=mr==="TB"||mr=="BT"?(s=cs.get(i))==null?void 0:s.y:(o=cs.get(i))==null?void 0:o.x;a!==void 0&&r(a,n)&&(e=i,n=a)}),e},"findClosestParent"),UFe=b(t=>{let e="",r=1/0;return t.forEach(n=>{const i=cs.get(n).y;i<=r&&(e=n,r=i)}),e||void 0},"findClosestParentBT"),VFe=b((t,e,r)=>{let n=r,i=r;const a=[];t.forEach(s=>{const o=e.get(s);if(!o)throw new Error(`Commit not found for key ${s}`);o.parents.length?(n=HFe(o),i=Math.max(n,i)):a.push(o),WFe(o,n)}),n=i,a.forEach(s=>{YFe(s,n,r)}),t.forEach(s=>{const o=e.get(s);if(o!=null&&o.parents.length){const l=UFe(o.parents);n=cs.get(l).y-Nu,n<=i&&(i=n);const u=es.get(o.branch).pos,h=n-Lu;cs.set(o.id,{x:u,y:h})}})},"setParallelBTPos"),GFe=b(t=>{var n;const e=nre(t.parents.filter(i=>i!==null));if(!e)throw new Error(`Closest parent not found for commit ${t.id}`);const r=(n=cs.get(e))==null?void 0:n.y;if(r===void 0)throw new Error(`Closest parent position not found for commit ${t.id}`);return r},"findClosestParentPos"),HFe=b(t=>GFe(t)+Nu,"calculateCommitPosition"),WFe=b((t,e)=>{const r=es.get(t.branch);if(!r)throw new Error(`Branch not found for commit ${t.id}`);const n=r.pos,i=e+Lu;return cs.set(t.id,{x:n,y:i}),{x:n,y:i}},"setCommitPosition"),YFe=b((t,e,r)=>{const n=es.get(t.branch);if(!n)throw new Error(`Branch not found for commit ${t.id}`);const i=e+r,a=n.pos;cs.set(t.id,{x:a,y:i})},"setRootPosition"),qFe=b((t,e,r,n,i,a)=>{if(a===Br.HIGHLIGHT)t.append("rect").attr("x",r.x-10).attr("y",r.y-10).attr("width",20).attr("height",20).attr("class",`commit ${e.id} commit-highlight${i%Xh} ${n}-outer`),t.append("rect").attr("x",r.x-6).attr("y",r.y-6).attr("width",12).attr("height",12).attr("class",`commit ${e.id} commit${i%Xh} ${n}-inner`);else if(a===Br.CHERRY_PICK)t.append("circle").attr("cx",r.x).attr("cy",r.y).attr("r",10).attr("class",`commit ${e.id} ${n}`),t.append("circle").attr("cx",r.x-3).attr("cy",r.y+2).attr("r",2.75).attr("fill","#fff").attr("class",`commit ${e.id} ${n}`),t.append("circle").attr("cx",r.x+3).attr("cy",r.y+2).attr("r",2.75).attr("fill","#fff").attr("class",`commit ${e.id} ${n}`),t.append("line").attr("x1",r.x+3).attr("y1",r.y+1).attr("x2",r.x).attr("y2",r.y-5).attr("stroke","#fff").attr("class",`commit ${e.id} ${n}`),t.append("line").attr("x1",r.x-3).attr("y1",r.y+1).attr("x2",r.x).attr("y2",r.y-5).attr("stroke","#fff").attr("class",`commit ${e.id} ${n}`);else{const s=t.append("circle");if(s.attr("cx",r.x),s.attr("cy",r.y),s.attr("r",e.type===Br.MERGE?9:10),s.attr("class",`commit ${e.id} commit${i%Xh}`),a===Br.MERGE){const o=t.append("circle");o.attr("cx",r.x),o.attr("cy",r.y),o.attr("r",6),o.attr("class",`commit ${n} ${e.id} commit${i%Xh}`)}a===Br.REVERSE&&t.append("path").attr("d",`M ${r.x-5},${r.y-5}L${r.x+5},${r.y+5}M${r.x-5},${r.y+5}L${r.x+5},${r.y-5}`).attr("class",`commit ${n} ${e.id} commit${i%Xh}`)}},"drawCommitBullet"),jFe=b((t,e,r,n)=>{var i;if(e.type!==Br.CHERRY_PICK&&(e.customId&&e.type===Br.MERGE||e.type!==Br.MERGE)&&(Xn!=null&&Xn.showCommitLabel)){const a=t.append("g"),s=a.insert("rect").attr("class","commit-label-bkg"),o=a.append("text").attr("x",n).attr("y",r.y+25).attr("class","commit-label").text(e.id),l=(i=o.node())==null?void 0:i.getBBox();if(l&&(s.attr("x",r.posWithOffset-l.width/2-sc).attr("y",r.y+13.5).attr("width",l.width+2*sc).attr("height",l.height+2*sc),mr==="TB"||mr==="BT"?(s.attr("x",r.x-(l.width+4*ll+5)).attr("y",r.y-12),o.attr("x",r.x-(l.width+4*ll)).attr("y",r.y+l.height-12)):o.attr("x",r.posWithOffset-l.width/2),Xn.rotateCommitLabel))if(mr==="TB"||mr==="BT")o.attr("transform","rotate(-45, "+r.x+", "+r.y+")"),s.attr("transform","rotate(-45, "+r.x+", "+r.y+")");else{const u=-7.5-(l.width+10)/25*9.5,h=10+l.width/25*8.5;a.attr("transform","translate("+u+", "+h+") rotate(-45, "+n+", "+r.y+")")}}},"drawCommitLabel"),XFe=b((t,e,r,n)=>{var i;if(e.tags.length>0){let a=0,s=0,o=0;const l=[];for(const u of e.tags.reverse()){const h=t.insert("polygon"),d=t.append("circle"),p=t.append("text").attr("y",r.y-16-a).attr("class","tag-label").text(u),f=(i=p.node())==null?void 0:i.getBBox();if(!f)throw new Error("Tag bbox not found");s=Math.max(s,f.width),o=Math.max(o,f.height),p.attr("x",r.posWithOffset-f.width/2),l.push({tag:p,hole:d,rect:h,yOffset:a}),a+=20}for(const{tag:u,hole:h,rect:d,yOffset:p}of l){const f=o/2,g=r.y-19.2-p;if(d.attr("class","tag-label-bkg").attr("points",`
      ${n-s/2-ll/2},${g+sc}  
      ${n-s/2-ll/2},${g-sc}
      ${r.posWithOffset-s/2-ll},${g-f-sc}
      ${r.posWithOffset+s/2+ll},${g-f-sc}
      ${r.posWithOffset+s/2+ll},${g+f+sc}
      ${r.posWithOffset-s/2-ll},${g+f+sc}`),h.attr("cy",g).attr("cx",n-s/2+ll/2).attr("r",1.5).attr("class","tag-hole"),mr==="TB"||mr==="BT"){const m=n+p;d.attr("class","tag-label-bkg").attr("points",`
        ${r.x},${m+2}
        ${r.x},${m-2}
        ${r.x+Lu},${m-f-2}
        ${r.x+Lu+s+4},${m-f-2}
        ${r.x+Lu+s+4},${m+f+2}
        ${r.x+Lu},${m+f+2}`).attr("transform","translate(12,12) rotate(45, "+r.x+","+n+")"),h.attr("cx",r.x+ll/2).attr("cy",m).attr("transform","translate(12,12) rotate(45, "+r.x+","+n+")"),u.attr("x",r.x+5).attr("y",m+3).attr("transform","translate(14,14) rotate(45, "+r.x+","+n+")")}}}},"drawCommitTags"),KFe=b(t=>{switch(t.customType??t.type){case Br.NORMAL:return"commit-normal";case Br.REVERSE:return"commit-reverse";case Br.HIGHLIGHT:return"commit-highlight";case Br.MERGE:return"commit-merge";case Br.CHERRY_PICK:return"commit-cherry-pick";default:return"commit-normal"}},"getCommitClassType"),QFe=b((t,e,r,n)=>{const i={x:0,y:0};if(t.parents.length>0){const a=nre(t.parents);if(a){const s=n.get(a)??i;return e==="TB"?s.y+Nu:e==="BT"?(n.get(t.id)??i).y-Nu:s.x+Nu}}else return e==="TB"?J3:e==="BT"?(n.get(t.id)??i).y-Nu:0;return 0},"calculatePosition"),ZFe=b((t,e,r)=>{var s,o;const n=mr==="BT"&&r?e:e+Lu,i=mr==="TB"||mr==="BT"?n:(s=es.get(t.branch))==null?void 0:s.pos,a=mr==="TB"||mr==="BT"?(o=es.get(t.branch))==null?void 0:o.pos:n;if(a===void 0||i===void 0)throw new Error(`Position were undefined for commit ${t.id}`);return{x:a,y:i,posWithOffset:n}},"getCommitPosition"),lB=b((t,e,r)=>{if(!Xn)throw new Error("GitGraph config not found");const n=t.append("g").attr("class","commit-bullets"),i=t.append("g").attr("class","commit-labels");let a=mr==="TB"||mr==="BT"?J3:0;const s=[...e.keys()],o=(Xn==null?void 0:Xn.parallelCommits)??!1,l=b((h,d)=>{var g,m;const p=(g=e.get(h))==null?void 0:g.seq,f=(m=e.get(d))==null?void 0:m.seq;return p!==void 0&&f!==void 0?p-f:0},"sortKeys");let u=s.sort(l);mr==="BT"&&(o&&VFe(u,e,a),u=u.reverse()),u.forEach(h=>{var f;const d=e.get(h);if(!d)throw new Error(`Commit not found for key ${h}`);o&&(a=QFe(d,mr,a,cs));const p=ZFe(d,a,o);if(r){const g=KFe(d),m=d.customType??d.type,y=((f=es.get(d.branch))==null?void 0:f.index)??0;qFe(n,d,p,g,y,m),jFe(i,d,p,a),XFe(i,d,p,a)}mr==="TB"||mr==="BT"?cs.set(d.id,{x:p.x,y:p.posWithOffset}):cs.set(d.id,{x:p.posWithOffset,y:p.y}),a=mr==="BT"&&o?a+Nu:a+Nu+Lu,a>wu&&(wu=a)})},"drawCommits"),JFe=b((t,e,r,n,i)=>{const s=(mr==="TB"||mr==="BT"?r.x<n.x:r.y<n.y)?e.branch:t.branch,o=b(u=>u.branch===s,"isOnBranchToGetCurve"),l=b(u=>u.seq>t.seq&&u.seq<e.seq,"isBetweenCommits");return[...i.values()].some(u=>l(u)&&o(u))},"shouldRerouteArrow"),om=b((t,e,r=0)=>{const n=t+Math.abs(t-e)/2;if(r>5)return n;if(e5.every(s=>Math.abs(s-n)>=10))return e5.push(n),n;const a=Math.abs(t-e);return om(t,e-a/5,r+1)},"findLane"),eBe=b((t,e,r,n)=>{var f,g,m,y,v;const i=cs.get(e.id),a=cs.get(r.id);if(i===void 0||a===void 0)throw new Error(`Commit positions not found for commits ${e.id} and ${r.id}`);const s=JFe(e,r,i,a,n);let o="",l="",u=0,h=0,d=(f=es.get(r.branch))==null?void 0:f.index;r.type===Br.MERGE&&e.id!==r.parents[0]&&(d=(g=es.get(e.branch))==null?void 0:g.index);let p;if(s){o="A 10 10, 0, 0, 0,",l="A 10 10, 0, 0, 1,",u=10,h=10;const x=i.y<a.y?om(i.y,a.y):om(a.y,i.y),w=i.x<a.x?om(i.x,a.x):om(a.x,i.x);mr==="TB"?i.x<a.x?p=`M ${i.x} ${i.y} L ${w-u} ${i.y} ${l} ${w} ${i.y+h} L ${w} ${a.y-u} ${o} ${w+h} ${a.y} L ${a.x} ${a.y}`:(d=(m=es.get(e.branch))==null?void 0:m.index,p=`M ${i.x} ${i.y} L ${w+u} ${i.y} ${o} ${w} ${i.y+h} L ${w} ${a.y-u} ${l} ${w-h} ${a.y} L ${a.x} ${a.y}`):mr==="BT"?i.x<a.x?p=`M ${i.x} ${i.y} L ${w-u} ${i.y} ${o} ${w} ${i.y-h} L ${w} ${a.y+u} ${l} ${w+h} ${a.y} L ${a.x} ${a.y}`:(d=(y=es.get(e.branch))==null?void 0:y.index,p=`M ${i.x} ${i.y} L ${w+u} ${i.y} ${l} ${w} ${i.y-h} L ${w} ${a.y+u} ${o} ${w-h} ${a.y} L ${a.x} ${a.y}`):i.y<a.y?p=`M ${i.x} ${i.y} L ${i.x} ${x-u} ${o} ${i.x+h} ${x} L ${a.x-u} ${x} ${l} ${a.x} ${x+h} L ${a.x} ${a.y}`:(d=(v=es.get(e.branch))==null?void 0:v.index,p=`M ${i.x} ${i.y} L ${i.x} ${x+u} ${l} ${i.x+h} ${x} L ${a.x-u} ${x} ${o} ${a.x} ${x-h} L ${a.x} ${a.y}`)}else o="A 20 20, 0, 0, 0,",l="A 20 20, 0, 0, 1,",u=20,h=20,mr==="TB"?(i.x<a.x&&(r.type===Br.MERGE&&e.id!==r.parents[0]?p=`M ${i.x} ${i.y} L ${i.x} ${a.y-u} ${o} ${i.x+h} ${a.y} L ${a.x} ${a.y}`:p=`M ${i.x} ${i.y} L ${a.x-u} ${i.y} ${l} ${a.x} ${i.y+h} L ${a.x} ${a.y}`),i.x>a.x&&(o="A 20 20, 0, 0, 0,",l="A 20 20, 0, 0, 1,",u=20,h=20,r.type===Br.MERGE&&e.id!==r.parents[0]?p=`M ${i.x} ${i.y} L ${i.x} ${a.y-u} ${l} ${i.x-h} ${a.y} L ${a.x} ${a.y}`:p=`M ${i.x} ${i.y} L ${a.x+u} ${i.y} ${o} ${a.x} ${i.y+h} L ${a.x} ${a.y}`),i.x===a.x&&(p=`M ${i.x} ${i.y} L ${a.x} ${a.y}`)):mr==="BT"?(i.x<a.x&&(r.type===Br.MERGE&&e.id!==r.parents[0]?p=`M ${i.x} ${i.y} L ${i.x} ${a.y+u} ${l} ${i.x+h} ${a.y} L ${a.x} ${a.y}`:p=`M ${i.x} ${i.y} L ${a.x-u} ${i.y} ${o} ${a.x} ${i.y-h} L ${a.x} ${a.y}`),i.x>a.x&&(o="A 20 20, 0, 0, 0,",l="A 20 20, 0, 0, 1,",u=20,h=20,r.type===Br.MERGE&&e.id!==r.parents[0]?p=`M ${i.x} ${i.y} L ${i.x} ${a.y+u} ${o} ${i.x-h} ${a.y} L ${a.x} ${a.y}`:p=`M ${i.x} ${i.y} L ${a.x-u} ${i.y} ${o} ${a.x} ${i.y-h} L ${a.x} ${a.y}`),i.x===a.x&&(p=`M ${i.x} ${i.y} L ${a.x} ${a.y}`)):(i.y<a.y&&(r.type===Br.MERGE&&e.id!==r.parents[0]?p=`M ${i.x} ${i.y} L ${a.x-u} ${i.y} ${l} ${a.x} ${i.y+h} L ${a.x} ${a.y}`:p=`M ${i.x} ${i.y} L ${i.x} ${a.y-u} ${o} ${i.x+h} ${a.y} L ${a.x} ${a.y}`),i.y>a.y&&(r.type===Br.MERGE&&e.id!==r.parents[0]?p=`M ${i.x} ${i.y} L ${a.x-u} ${i.y} ${o} ${a.x} ${i.y-h} L ${a.x} ${a.y}`:p=`M ${i.x} ${i.y} L ${i.x} ${a.y+u} ${l} ${i.x+h} ${a.y} L ${a.x} ${a.y}`),i.y===a.y&&(p=`M ${i.x} ${i.y} L ${a.x} ${a.y}`));if(p===void 0)throw new Error("Line definition not found");t.append("path").attr("d",p).attr("class","arrow arrow"+d%Xh)},"drawArrow"),tBe=b((t,e)=>{const r=t.append("g").attr("class","commit-arrows");[...e.keys()].forEach(n=>{const i=e.get(n);i.parents&&i.parents.length>0&&i.parents.forEach(a=>{eBe(r,e.get(a),i,e)})})},"drawArrows"),rBe=b((t,e)=>{const r=t.append("g");e.forEach((n,i)=>{var g;const a=i%Xh,s=(g=es.get(n.name))==null?void 0:g.pos;if(s===void 0)throw new Error(`Position not found for branch ${n.name}`);const o=r.append("line");o.attr("x1",0),o.attr("y1",s),o.attr("x2",wu),o.attr("y2",s),o.attr("class","branch branch"+a),mr==="TB"?(o.attr("y1",J3),o.attr("x1",s),o.attr("y2",wu),o.attr("x2",s)):mr==="BT"&&(o.attr("y1",wu),o.attr("x1",s),o.attr("y2",J3),o.attr("x2",s)),e5.push(s);const l=n.name,u=rre(l),h=r.insert("rect"),p=r.insert("g").attr("class","branchLabel").insert("g").attr("class","label branch-label"+a);p.node().appendChild(u);const f=u.getBBox();h.attr("class","branchLabelBkg label"+a).attr("rx",4).attr("ry",4).attr("x",-f.width-4-((Xn==null?void 0:Xn.rotateCommitLabel)===!0?30:0)).attr("y",-f.height/2+8).attr("width",f.width+18).attr("height",f.height+4),p.attr("transform","translate("+(-f.width-14-((Xn==null?void 0:Xn.rotateCommitLabel)===!0?30:0))+", "+(s-f.height/2-1)+")"),mr==="TB"?(h.attr("x",s-f.width/2-10).attr("y",0),p.attr("transform","translate("+(s-f.width/2-5)+", 0)")):mr==="BT"?(h.attr("x",s-f.width/2-10).attr("y",wu),p.attr("transform","translate("+(s-f.width/2-5)+", "+wu+")")):h.attr("transform","translate(-19, "+(s-f.height/2)+")")})},"drawBranches"),nBe=b(function(t,e,r,n,i){return es.set(t,{pos:e,index:r}),e+=50+(i?40:0)+(mr==="TB"||mr==="BT"?n.width/2:0),e},"setBranchPosition"),iBe=b(function(t,e,r,n){if(zFe(),q.debug("in gitgraph renderer",t+`
`,"id:",e,r),!Xn)throw new Error("GitGraph config not found");const i=Xn.rotateCommitLabel??!1,a=n.db;sm=a.getCommits();const s=a.getBranchesAsObjArray();mr=a.getDirection();const o=Ke(`[id="${e}"]`);let l=0;s.forEach((u,h)=>{var y;const d=rre(u.name),p=o.append("g"),f=p.insert("g").attr("class","branchLabel"),g=f.insert("g").attr("class","label branch-label");(y=g.node())==null||y.appendChild(d);const m=d.getBBox();l=nBe(u.name,l,h,m,i),g.remove(),f.remove(),p.remove()}),lB(o,sm,!1),Xn.showBranches&&rBe(o,s),tBe(o,sm),lB(o,sm,!0),Jt.insertTitle(o,"gitTitleText",Xn.titleTopMargin??0,a.getDiagramTitle()),lG(void 0,o,Xn.diagramPadding,Xn.useMaxWidth)},"draw"),aBe={draw:iBe},sBe=b(t=>`
  .commit-id,
  .commit-msg,
  .branch-label {
    fill: lightgrey;
    color: lightgrey;
    font-family: 'trebuchet ms', verdana, arial, sans-serif;
    font-family: var(--mermaid-font-family);
  }
  ${[0,1,2,3,4,5,6,7].map(e=>`
        .branch-label${e} { fill: ${t["gitBranchLabel"+e]}; }
        .commit${e} { stroke: ${t["git"+e]}; fill: ${t["git"+e]}; }
        .commit-highlight${e} { stroke: ${t["gitInv"+e]}; fill: ${t["gitInv"+e]}; }
        .label${e}  { fill: ${t["git"+e]}; }
        .arrow${e} { stroke: ${t["git"+e]}; }
        `).join(`
`)}

  .branch {
    stroke-width: 1;
    stroke: ${t.lineColor};
    stroke-dasharray: 2;
  }
  .commit-label { font-size: ${t.commitLabelFontSize}; fill: ${t.commitLabelColor};}
  .commit-label-bkg { font-size: ${t.commitLabelFontSize}; fill: ${t.commitLabelBackground}; opacity: 0.5; }
  .tag-label { font-size: ${t.tagLabelFontSize}; fill: ${t.tagLabelColor};}
  .tag-label-bkg { fill: ${t.tagLabelBackground}; stroke: ${t.tagLabelBorder}; }
  .tag-hole { fill: ${t.textColor}; }

  .commit-merge {
    stroke: ${t.primaryColor};
    fill: ${t.primaryColor};
  }
  .commit-reverse {
    stroke: ${t.primaryColor};
    fill: ${t.primaryColor};
    stroke-width: 3;
  }
  .commit-highlight-outer {
  }
  .commit-highlight-inner {
    stroke: ${t.primaryColor};
    fill: ${t.primaryColor};
  }

  .arrow { stroke-width: 8; stroke-linecap: round; fill: none}
  .gitTitleText {
    text-anchor: middle;
    font-size: 18px;
    fill: ${t.textColor};
  }
`,"getStyles"),oBe=sBe,lBe={parser:$Fe,db:tre,renderer:aBe,styles:oBe};const cBe=Object.freeze(Object.defineProperty({__proto__:null,diagram:lBe},Symbol.toStringTag,{value:"Module"}));var ire={exports:{}};(function(t,e){(function(r,n){t.exports=n()})(Il,function(){var r="day";return function(n,i,a){var s=function(u){return u.add(4-u.isoWeekday(),r)},o=i.prototype;o.isoWeekYear=function(){return s(this).year()},o.isoWeek=function(u){if(!this.$utils().u(u))return this.add(7*(u-this.isoWeek()),r);var h,d,p,f,g=s(this),m=(h=this.isoWeekYear(),d=this.$u,p=(d?a.utc:a)().year(h).startOf("year"),f=4-p.isoWeekday(),p.isoWeekday()>4&&(f+=7),p.add(f,r));return g.diff(m,"week")+1},o.isoWeekday=function(u){return this.$utils().u(u)?this.day()||7:this.day(this.day()%7?u:u-7)};var l=o.startOf;o.startOf=function(u,h){var d=this.$utils(),p=!!d.u(h)||h;return d.p(u)==="isoweek"?p?this.date(this.date()-(this.isoWeekday()-1)).startOf("day"):this.date(this.date()-1-(this.isoWeekday()-1)+7).endOf("day"):l.bind(this)(u,h)}}})})(ire);var uBe=ire.exports;const hBe=qc(uBe);var are={exports:{}};(function(t,e){(function(r,n){t.exports=n()})(Il,function(){var r={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},n=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|Q|YYYY|YY?|ww?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,i=/\d/,a=/\d\d/,s=/\d\d?/,o=/\d*[^-_:/,()\s\d]+/,l={},u=function(y){return(y=+y)+(y>68?1900:2e3)},h=function(y){return function(v){this[y]=+v}},d=[/[+-]\d\d:?(\d\d)?|Z/,function(y){(this.zone||(this.zone={})).offset=function(v){if(!v||v==="Z")return 0;var x=v.match(/([+-]|\d\d)/g),w=60*x[1]+(+x[2]||0);return w===0?0:x[0]==="+"?-w:w}(y)}],p=function(y){var v=l[y];return v&&(v.indexOf?v:v.s.concat(v.f))},f=function(y,v){var x,w=l.meridiem;if(w){for(var k=1;k<=24;k+=1)if(y.indexOf(w(k,0,v))>-1){x=k>12;break}}else x=y===(v?"pm":"PM");return x},g={A:[o,function(y){this.afternoon=f(y,!1)}],a:[o,function(y){this.afternoon=f(y,!0)}],Q:[i,function(y){this.month=3*(y-1)+1}],S:[i,function(y){this.milliseconds=100*+y}],SS:[a,function(y){this.milliseconds=10*+y}],SSS:[/\d{3}/,function(y){this.milliseconds=+y}],s:[s,h("seconds")],ss:[s,h("seconds")],m:[s,h("minutes")],mm:[s,h("minutes")],H:[s,h("hours")],h:[s,h("hours")],HH:[s,h("hours")],hh:[s,h("hours")],D:[s,h("day")],DD:[a,h("day")],Do:[o,function(y){var v=l.ordinal,x=y.match(/\d+/);if(this.day=x[0],v)for(var w=1;w<=31;w+=1)v(w).replace(/\[|\]/g,"")===y&&(this.day=w)}],w:[s,h("week")],ww:[a,h("week")],M:[s,h("month")],MM:[a,h("month")],MMM:[o,function(y){var v=p("months"),x=(p("monthsShort")||v.map(function(w){return w.slice(0,3)})).indexOf(y)+1;if(x<1)throw new Error;this.month=x%12||x}],MMMM:[o,function(y){var v=p("months").indexOf(y)+1;if(v<1)throw new Error;this.month=v%12||v}],Y:[/[+-]?\d+/,h("year")],YY:[a,function(y){this.year=u(y)}],YYYY:[/\d{4}/,h("year")],Z:d,ZZ:d};function m(y){var v,x;v=y,x=l&&l.formats;for(var w=(y=v.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(L,A,N){var F=N&&N.toUpperCase();return A||x[N]||r[N]||x[F].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(T,D,M){return D||M.slice(1)})})).match(n),k=w.length,E=0;E<k;E+=1){var _=w[E],S=g[_],R=S&&S[0],C=S&&S[1];w[E]=C?{regex:R,parser:C}:_.replace(/^\[|\]$/g,"")}return function(L){for(var A={},N=0,F=0;N<k;N+=1){var T=w[N];if(typeof T=="string")F+=T.length;else{var D=T.regex,M=T.parser,O=L.slice(F),I=D.exec(O)[0];M.call(A,I),L=L.replace(I,"")}}return function(P){var B=P.afternoon;if(B!==void 0){var $=P.hours;B?$<12&&(P.hours+=12):$===12&&(P.hours=0),delete P.afternoon}}(A),A}}return function(y,v,x){x.p.customParseFormat=!0,y&&y.parseTwoDigitYear&&(u=y.parseTwoDigitYear);var w=v.prototype,k=w.parse;w.parse=function(E){var _=E.date,S=E.utc,R=E.args;this.$u=S;var C=R[1];if(typeof C=="string"){var L=R[2]===!0,A=R[3]===!0,N=L||A,F=R[2];A&&(F=R[2]),l=this.$locale(),!L&&F&&(l=x.Ls[F]),this.$d=function(O,I,P,B){try{if(["x","X"].indexOf(I)>-1)return new Date((I==="X"?1e3:1)*O);var $=m(I)(O),V=$.year,W=$.month,K=$.day,Z=$.hours,H=$.minutes,ee=$.seconds,te=$.milliseconds,U=$.zone,j=$.week,Y=new Date,Q=K||(V||W?1:Y.getDate()),ae=V||Y.getFullYear(),ie=0;V&&!W||(ie=W>0?W-1:Y.getMonth());var J,_e=Z||0,ce=H||0,Te=ee||0,be=te||0;return U?new Date(Date.UTC(ae,ie,Q,_e,ce,Te,be+60*U.offset*1e3)):P?new Date(Date.UTC(ae,ie,Q,_e,ce,Te,be)):(J=new Date(ae,ie,Q,_e,ce,Te,be),j&&(J=B(J).week(j).toDate()),J)}catch{return new Date("")}}(_,C,S,x),this.init(),F&&F!==!0&&(this.$L=this.locale(F).$L),N&&_!=this.format(C)&&(this.$d=new Date("")),l={}}else if(C instanceof Array)for(var T=C.length,D=1;D<=T;D+=1){R[1]=C[D-1];var M=x.apply(this,R);if(M.isValid()){this.$d=M.$d,this.$L=M.$L,this.init();break}D===T&&(this.$d=new Date(""))}else k.call(this,E)}}})})(are);var dBe=are.exports;const fBe=qc(dBe);var sre={exports:{}};(function(t,e){(function(r,n){t.exports=n()})(Il,function(){return function(r,n){var i=n.prototype,a=i.format;i.format=function(s){var o=this,l=this.$locale();if(!this.isValid())return a.bind(this)(s);var u=this.$utils(),h=(s||"YYYY-MM-DDTHH:mm:ssZ").replace(/\[([^\]]+)]|Q|wo|ww|w|WW|W|zzz|z|gggg|GGGG|Do|X|x|k{1,2}|S/g,function(d){switch(d){case"Q":return Math.ceil((o.$M+1)/3);case"Do":return l.ordinal(o.$D);case"gggg":return o.weekYear();case"GGGG":return o.isoWeekYear();case"wo":return l.ordinal(o.week(),"W");case"w":case"ww":return u.s(o.week(),d==="w"?1:2,"0");case"W":case"WW":return u.s(o.isoWeek(),d==="W"?1:2,"0");case"k":case"kk":return u.s(String(o.$H===0?24:o.$H),d==="k"?1:2,"0");case"X":return Math.floor(o.$d.getTime()/1e3);case"x":return o.$d.getTime();case"z":return"["+o.offsetName()+"]";case"zzz":return"["+o.offsetName("long")+"]";default:return d}});return a.bind(this)(h)}}})})(sre);var pBe=sre.exports;const gBe=qc(pBe);var UC=function(){var t=b(function(F,T,D,M){for(D=D||{},M=F.length;M--;D[F[M]]=T);return D},"o"),e=[6,8,10,12,13,14,15,16,17,18,20,21,22,23,24,25,26,27,28,29,30,31,33,35,36,38,40],r=[1,26],n=[1,27],i=[1,28],a=[1,29],s=[1,30],o=[1,31],l=[1,32],u=[1,33],h=[1,34],d=[1,9],p=[1,10],f=[1,11],g=[1,12],m=[1,13],y=[1,14],v=[1,15],x=[1,16],w=[1,19],k=[1,20],E=[1,21],_=[1,22],S=[1,23],R=[1,25],C=[1,35],L={trace:b(function(){},"trace"),yy:{},symbols_:{error:2,start:3,gantt:4,document:5,EOF:6,line:7,SPACE:8,statement:9,NL:10,weekday:11,weekday_monday:12,weekday_tuesday:13,weekday_wednesday:14,weekday_thursday:15,weekday_friday:16,weekday_saturday:17,weekday_sunday:18,weekend:19,weekend_friday:20,weekend_saturday:21,dateFormat:22,inclusiveEndDates:23,topAxis:24,axisFormat:25,tickInterval:26,excludes:27,includes:28,todayMarker:29,title:30,acc_title:31,acc_title_value:32,acc_descr:33,acc_descr_value:34,acc_descr_multiline_value:35,section:36,clickStatement:37,taskTxt:38,taskData:39,click:40,callbackname:41,callbackargs:42,href:43,clickStatementDebug:44,$accept:0,$end:1},terminals_:{2:"error",4:"gantt",6:"EOF",8:"SPACE",10:"NL",12:"weekday_monday",13:"weekday_tuesday",14:"weekday_wednesday",15:"weekday_thursday",16:"weekday_friday",17:"weekday_saturday",18:"weekday_sunday",20:"weekend_friday",21:"weekend_saturday",22:"dateFormat",23:"inclusiveEndDates",24:"topAxis",25:"axisFormat",26:"tickInterval",27:"excludes",28:"includes",29:"todayMarker",30:"title",31:"acc_title",32:"acc_title_value",33:"acc_descr",34:"acc_descr_value",35:"acc_descr_multiline_value",36:"section",38:"taskTxt",39:"taskData",40:"click",41:"callbackname",42:"callbackargs",43:"href"},productions_:[0,[3,3],[5,0],[5,2],[7,2],[7,1],[7,1],[7,1],[11,1],[11,1],[11,1],[11,1],[11,1],[11,1],[11,1],[19,1],[19,1],[9,1],[9,1],[9,1],[9,1],[9,1],[9,1],[9,1],[9,1],[9,1],[9,1],[9,1],[9,2],[9,2],[9,1],[9,1],[9,1],[9,2],[37,2],[37,3],[37,3],[37,4],[37,3],[37,4],[37,2],[44,2],[44,3],[44,3],[44,4],[44,3],[44,4],[44,2]],performAction:b(function(T,D,M,O,I,P,B){var $=P.length-1;switch(I){case 1:return P[$-1];case 2:this.$=[];break;case 3:P[$-1].push(P[$]),this.$=P[$-1];break;case 4:case 5:this.$=P[$];break;case 6:case 7:this.$=[];break;case 8:O.setWeekday("monday");break;case 9:O.setWeekday("tuesday");break;case 10:O.setWeekday("wednesday");break;case 11:O.setWeekday("thursday");break;case 12:O.setWeekday("friday");break;case 13:O.setWeekday("saturday");break;case 14:O.setWeekday("sunday");break;case 15:O.setWeekend("friday");break;case 16:O.setWeekend("saturday");break;case 17:O.setDateFormat(P[$].substr(11)),this.$=P[$].substr(11);break;case 18:O.enableInclusiveEndDates(),this.$=P[$].substr(18);break;case 19:O.TopAxis(),this.$=P[$].substr(8);break;case 20:O.setAxisFormat(P[$].substr(11)),this.$=P[$].substr(11);break;case 21:O.setTickInterval(P[$].substr(13)),this.$=P[$].substr(13);break;case 22:O.setExcludes(P[$].substr(9)),this.$=P[$].substr(9);break;case 23:O.setIncludes(P[$].substr(9)),this.$=P[$].substr(9);break;case 24:O.setTodayMarker(P[$].substr(12)),this.$=P[$].substr(12);break;case 27:O.setDiagramTitle(P[$].substr(6)),this.$=P[$].substr(6);break;case 28:this.$=P[$].trim(),O.setAccTitle(this.$);break;case 29:case 30:this.$=P[$].trim(),O.setAccDescription(this.$);break;case 31:O.addSection(P[$].substr(8)),this.$=P[$].substr(8);break;case 33:O.addTask(P[$-1],P[$]),this.$="task";break;case 34:this.$=P[$-1],O.setClickEvent(P[$-1],P[$],null);break;case 35:this.$=P[$-2],O.setClickEvent(P[$-2],P[$-1],P[$]);break;case 36:this.$=P[$-2],O.setClickEvent(P[$-2],P[$-1],null),O.setLink(P[$-2],P[$]);break;case 37:this.$=P[$-3],O.setClickEvent(P[$-3],P[$-2],P[$-1]),O.setLink(P[$-3],P[$]);break;case 38:this.$=P[$-2],O.setClickEvent(P[$-2],P[$],null),O.setLink(P[$-2],P[$-1]);break;case 39:this.$=P[$-3],O.setClickEvent(P[$-3],P[$-1],P[$]),O.setLink(P[$-3],P[$-2]);break;case 40:this.$=P[$-1],O.setLink(P[$-1],P[$]);break;case 41:case 47:this.$=P[$-1]+" "+P[$];break;case 42:case 43:case 45:this.$=P[$-2]+" "+P[$-1]+" "+P[$];break;case 44:case 46:this.$=P[$-3]+" "+P[$-2]+" "+P[$-1]+" "+P[$];break}},"anonymous"),table:[{3:1,4:[1,2]},{1:[3]},t(e,[2,2],{5:3}),{6:[1,4],7:5,8:[1,6],9:7,10:[1,8],11:17,12:r,13:n,14:i,15:a,16:s,17:o,18:l,19:18,20:u,21:h,22:d,23:p,24:f,25:g,26:m,27:y,28:v,29:x,30:w,31:k,33:E,35:_,36:S,37:24,38:R,40:C},t(e,[2,7],{1:[2,1]}),t(e,[2,3]),{9:36,11:17,12:r,13:n,14:i,15:a,16:s,17:o,18:l,19:18,20:u,21:h,22:d,23:p,24:f,25:g,26:m,27:y,28:v,29:x,30:w,31:k,33:E,35:_,36:S,37:24,38:R,40:C},t(e,[2,5]),t(e,[2,6]),t(e,[2,17]),t(e,[2,18]),t(e,[2,19]),t(e,[2,20]),t(e,[2,21]),t(e,[2,22]),t(e,[2,23]),t(e,[2,24]),t(e,[2,25]),t(e,[2,26]),t(e,[2,27]),{32:[1,37]},{34:[1,38]},t(e,[2,30]),t(e,[2,31]),t(e,[2,32]),{39:[1,39]},t(e,[2,8]),t(e,[2,9]),t(e,[2,10]),t(e,[2,11]),t(e,[2,12]),t(e,[2,13]),t(e,[2,14]),t(e,[2,15]),t(e,[2,16]),{41:[1,40],43:[1,41]},t(e,[2,4]),t(e,[2,28]),t(e,[2,29]),t(e,[2,33]),t(e,[2,34],{42:[1,42],43:[1,43]}),t(e,[2,40],{41:[1,44]}),t(e,[2,35],{43:[1,45]}),t(e,[2,36]),t(e,[2,38],{42:[1,46]}),t(e,[2,37]),t(e,[2,39])],defaultActions:{},parseError:b(function(T,D){if(D.recoverable)this.trace(T);else{var M=new Error(T);throw M.hash=D,M}},"parseError"),parse:b(function(T){var D=this,M=[0],O=[],I=[null],P=[],B=this.table,$="",V=0,W=0,K=2,Z=1,H=P.slice.call(arguments,1),ee=Object.create(this.lexer),te={yy:{}};for(var U in this.yy)Object.prototype.hasOwnProperty.call(this.yy,U)&&(te.yy[U]=this.yy[U]);ee.setInput(T,te.yy),te.yy.lexer=ee,te.yy.parser=this,typeof ee.yylloc>"u"&&(ee.yylloc={});var j=ee.yylloc;P.push(j);var Y=ee.options&&ee.options.ranges;typeof te.yy.parseError=="function"?this.parseError=te.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function Q(de){M.length=M.length-2*de,I.length=I.length-de,P.length=P.length-de}b(Q,"popStack");function ae(){var de;return de=O.pop()||ee.lex()||Z,typeof de!="number"&&(de instanceof Array&&(O=de,de=O.pop()),de=D.symbols_[de]||de),de}b(ae,"lex");for(var ie,J,_e,ce,Te={},be,Ue,He,Ve;;){if(J=M[M.length-1],this.defaultActions[J]?_e=this.defaultActions[J]:((ie===null||typeof ie>"u")&&(ie=ae()),_e=B[J]&&B[J][ie]),typeof _e>"u"||!_e.length||!_e[0]){var Re="";Ve=[];for(be in B[J])this.terminals_[be]&&be>K&&Ve.push("'"+this.terminals_[be]+"'");ee.showPosition?Re="Parse error on line "+(V+1)+`:
`+ee.showPosition()+`
Expecting `+Ve.join(", ")+", got '"+(this.terminals_[ie]||ie)+"'":Re="Parse error on line "+(V+1)+": Unexpected "+(ie==Z?"end of input":"'"+(this.terminals_[ie]||ie)+"'"),this.parseError(Re,{text:ee.match,token:this.terminals_[ie]||ie,line:ee.yylineno,loc:j,expected:Ve})}if(_e[0]instanceof Array&&_e.length>1)throw new Error("Parse Error: multiple actions possible at state: "+J+", token: "+ie);switch(_e[0]){case 1:M.push(ie),I.push(ee.yytext),P.push(ee.yylloc),M.push(_e[1]),ie=null,W=ee.yyleng,$=ee.yytext,V=ee.yylineno,j=ee.yylloc;break;case 2:if(Ue=this.productions_[_e[1]][1],Te.$=I[I.length-Ue],Te._$={first_line:P[P.length-(Ue||1)].first_line,last_line:P[P.length-1].last_line,first_column:P[P.length-(Ue||1)].first_column,last_column:P[P.length-1].last_column},Y&&(Te._$.range=[P[P.length-(Ue||1)].range[0],P[P.length-1].range[1]]),ce=this.performAction.apply(Te,[$,W,V,te.yy,_e[1],I,P].concat(H)),typeof ce<"u")return ce;Ue&&(M=M.slice(0,-1*Ue*2),I=I.slice(0,-1*Ue),P=P.slice(0,-1*Ue)),M.push(this.productions_[_e[1]][0]),I.push(Te.$),P.push(Te._$),He=B[M[M.length-2]][M[M.length-1]],M.push(He);break;case 3:return!0}}return!0},"parse")},A=function(){var F={EOF:1,parseError:b(function(D,M){if(this.yy.parser)this.yy.parser.parseError(D,M);else throw new Error(D)},"parseError"),setInput:b(function(T,D){return this.yy=D||this.yy||{},this._input=T,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},"setInput"),input:b(function(){var T=this._input[0];this.yytext+=T,this.yyleng++,this.offset++,this.match+=T,this.matched+=T;var D=T.match(/(?:\r\n?|\n).*/g);return D?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),T},"input"),unput:b(function(T){var D=T.length,M=T.split(/(?:\r\n?|\n)/g);this._input=T+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-D),this.offset-=D;var O=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),M.length-1&&(this.yylineno-=M.length-1);var I=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:M?(M.length===O.length?this.yylloc.first_column:0)+O[O.length-M.length].length-M[0].length:this.yylloc.first_column-D},this.options.ranges&&(this.yylloc.range=[I[0],I[0]+this.yyleng-D]),this.yyleng=this.yytext.length,this},"unput"),more:b(function(){return this._more=!0,this},"more"),reject:b(function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},"reject"),less:b(function(T){this.unput(this.match.slice(T))},"less"),pastInput:b(function(){var T=this.matched.substr(0,this.matched.length-this.match.length);return(T.length>20?"...":"")+T.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:b(function(){var T=this.match;return T.length<20&&(T+=this._input.substr(0,20-T.length)),(T.substr(0,20)+(T.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:b(function(){var T=this.pastInput(),D=new Array(T.length+1).join("-");return T+this.upcomingInput()+`
`+D+"^"},"showPosition"),test_match:b(function(T,D){var M,O,I;if(this.options.backtrack_lexer&&(I={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(I.yylloc.range=this.yylloc.range.slice(0))),O=T[0].match(/(?:\r\n?|\n).*/g),O&&(this.yylineno+=O.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:O?O[O.length-1].length-O[O.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+T[0].length},this.yytext+=T[0],this.match+=T[0],this.matches=T,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(T[0].length),this.matched+=T[0],M=this.performAction.call(this,this.yy,this,D,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),M)return M;if(this._backtrack){for(var P in I)this[P]=I[P];return!1}return!1},"test_match"),next:b(function(){if(this.done)return this.EOF;this._input||(this.done=!0);var T,D,M,O;this._more||(this.yytext="",this.match="");for(var I=this._currentRules(),P=0;P<I.length;P++)if(M=this._input.match(this.rules[I[P]]),M&&(!D||M[0].length>D[0].length)){if(D=M,O=P,this.options.backtrack_lexer){if(T=this.test_match(M,I[P]),T!==!1)return T;if(this._backtrack){D=!1;continue}else return!1}else if(!this.options.flex)break}return D?(T=this.test_match(D,I[O]),T!==!1?T:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:b(function(){var D=this.next();return D||this.lex()},"lex"),begin:b(function(D){this.conditionStack.push(D)},"begin"),popState:b(function(){var D=this.conditionStack.length-1;return D>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:b(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:b(function(D){return D=this.conditionStack.length-1-Math.abs(D||0),D>=0?this.conditionStack[D]:"INITIAL"},"topState"),pushState:b(function(D){this.begin(D)},"pushState"),stateStackSize:b(function(){return this.conditionStack.length},"stateStackSize"),options:{"case-insensitive":!0},performAction:b(function(D,M,O,I){switch(O){case 0:return this.begin("open_directive"),"open_directive";case 1:return this.begin("acc_title"),31;case 2:return this.popState(),"acc_title_value";case 3:return this.begin("acc_descr"),33;case 4:return this.popState(),"acc_descr_value";case 5:this.begin("acc_descr_multiline");break;case 6:this.popState();break;case 7:return"acc_descr_multiline_value";case 8:break;case 9:break;case 10:break;case 11:return 10;case 12:break;case 13:break;case 14:this.begin("href");break;case 15:this.popState();break;case 16:return 43;case 17:this.begin("callbackname");break;case 18:this.popState();break;case 19:this.popState(),this.begin("callbackargs");break;case 20:return 41;case 21:this.popState();break;case 22:return 42;case 23:this.begin("click");break;case 24:this.popState();break;case 25:return 40;case 26:return 4;case 27:return 22;case 28:return 23;case 29:return 24;case 30:return 25;case 31:return 26;case 32:return 28;case 33:return 27;case 34:return 29;case 35:return 12;case 36:return 13;case 37:return 14;case 38:return 15;case 39:return 16;case 40:return 17;case 41:return 18;case 42:return 20;case 43:return 21;case 44:return"date";case 45:return 30;case 46:return"accDescription";case 47:return 36;case 48:return 38;case 49:return 39;case 50:return":";case 51:return 6;case 52:return"INVALID"}},"anonymous"),rules:[/^(?:%%\{)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:%%(?!\{)*[^\n]*)/i,/^(?:[^\}]%%*[^\n]*)/i,/^(?:%%*[^\n]*[\n]*)/i,/^(?:[\n]+)/i,/^(?:\s+)/i,/^(?:%[^\n]*)/i,/^(?:href[\s]+["])/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:call[\s]+)/i,/^(?:\([\s]*\))/i,/^(?:\()/i,/^(?:[^(]*)/i,/^(?:\))/i,/^(?:[^)]*)/i,/^(?:click[\s]+)/i,/^(?:[\s\n])/i,/^(?:[^\s\n]*)/i,/^(?:gantt\b)/i,/^(?:dateFormat\s[^#\n;]+)/i,/^(?:inclusiveEndDates\b)/i,/^(?:topAxis\b)/i,/^(?:axisFormat\s[^#\n;]+)/i,/^(?:tickInterval\s[^#\n;]+)/i,/^(?:includes\s[^#\n;]+)/i,/^(?:excludes\s[^#\n;]+)/i,/^(?:todayMarker\s[^\n;]+)/i,/^(?:weekday\s+monday\b)/i,/^(?:weekday\s+tuesday\b)/i,/^(?:weekday\s+wednesday\b)/i,/^(?:weekday\s+thursday\b)/i,/^(?:weekday\s+friday\b)/i,/^(?:weekday\s+saturday\b)/i,/^(?:weekday\s+sunday\b)/i,/^(?:weekend\s+friday\b)/i,/^(?:weekend\s+saturday\b)/i,/^(?:\d\d\d\d-\d\d-\d\d\b)/i,/^(?:title\s[^\n]+)/i,/^(?:accDescription\s[^#\n;]+)/i,/^(?:section\s[^\n]+)/i,/^(?:[^:\n]+)/i,/^(?::[^#\n;]+)/i,/^(?::)/i,/^(?:$)/i,/^(?:.)/i],conditions:{acc_descr_multiline:{rules:[6,7],inclusive:!1},acc_descr:{rules:[4],inclusive:!1},acc_title:{rules:[2],inclusive:!1},callbackargs:{rules:[21,22],inclusive:!1},callbackname:{rules:[18,19,20],inclusive:!1},href:{rules:[15,16],inclusive:!1},click:{rules:[24,25],inclusive:!1},INITIAL:{rules:[0,1,3,5,8,9,10,11,12,13,14,17,23,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52],inclusive:!0}}};return F}();L.lexer=A;function N(){this.yy={}}return b(N,"Parser"),N.prototype=L,L.Parser=N,new N}();UC.parser=UC;var mBe=UC;fa.extend(hBe);fa.extend(fBe);fa.extend(gBe);var cB={friday:5,saturday:6},xl="",AL="",_L=void 0,LL="",Qy=[],Zy=[],NL=new Map,RL=[],t5=[],lg="",ML="",ore=["active","done","crit","milestone"],IL=[],Jy=!1,DL=!1,OL="sunday",r5="saturday",VC=0,vBe=b(function(){RL=[],t5=[],lg="",IL=[],Nb=0,HC=void 0,Rb=void 0,ni=[],xl="",AL="",ML="",_L=void 0,LL="",Qy=[],Zy=[],Jy=!1,DL=!1,VC=0,NL=new Map,Ni(),OL="sunday",r5="saturday"},"clear"),yBe=b(function(t){AL=t},"setAxisFormat"),xBe=b(function(){return AL},"getAxisFormat"),bBe=b(function(t){_L=t},"setTickInterval"),wBe=b(function(){return _L},"getTickInterval"),kBe=b(function(t){LL=t},"setTodayMarker"),TBe=b(function(){return LL},"getTodayMarker"),EBe=b(function(t){xl=t},"setDateFormat"),SBe=b(function(){Jy=!0},"enableInclusiveEndDates"),CBe=b(function(){return Jy},"endDatesAreInclusive"),ABe=b(function(){DL=!0},"enableTopAxis"),_Be=b(function(){return DL},"topAxisEnabled"),LBe=b(function(t){ML=t},"setDisplayMode"),NBe=b(function(){return ML},"getDisplayMode"),RBe=b(function(){return xl},"getDateFormat"),MBe=b(function(t){Qy=t.toLowerCase().split(/[\s,]+/)},"setIncludes"),IBe=b(function(){return Qy},"getIncludes"),DBe=b(function(t){Zy=t.toLowerCase().split(/[\s,]+/)},"setExcludes"),OBe=b(function(){return Zy},"getExcludes"),PBe=b(function(){return NL},"getLinks"),FBe=b(function(t){lg=t,RL.push(t)},"addSection"),BBe=b(function(){return RL},"getSections"),$Be=b(function(){let t=uB();const e=10;let r=0;for(;!t&&r<e;)t=uB(),r++;return t5=ni,t5},"getTasks"),lre=b(function(t,e,r,n){return n.includes(t.format(e.trim()))?!1:r.includes("weekends")&&(t.isoWeekday()===cB[r5]||t.isoWeekday()===cB[r5]+1)||r.includes(t.format("dddd").toLowerCase())?!0:r.includes(t.format(e.trim()))},"isInvalidDate"),zBe=b(function(t){OL=t},"setWeekday"),UBe=b(function(){return OL},"getWeekday"),VBe=b(function(t){r5=t},"setWeekend"),cre=b(function(t,e,r,n){if(!r.length||t.manualEndTime)return;let i;t.startTime instanceof Date?i=fa(t.startTime):i=fa(t.startTime,e,!0),i=i.add(1,"d");let a;t.endTime instanceof Date?a=fa(t.endTime):a=fa(t.endTime,e,!0);const[s,o]=GBe(i,a,e,r,n);t.endTime=s.toDate(),t.renderEndTime=o},"checkTaskDates"),GBe=b(function(t,e,r,n,i){let a=!1,s=null;for(;t<=e;)a||(s=e.toDate()),a=lre(t,r,n,i),a&&(e=e.add(1,"d")),t=t.add(1,"d");return[e,s]},"fixTaskDates"),GC=b(function(t,e,r){r=r.trim();const i=/^after\s+(?<ids>[\d\w- ]+)/.exec(r);if(i!==null){let s=null;for(const l of i.groups.ids.split(" ")){let u=Ef(l);u!==void 0&&(!s||u.endTime>s.endTime)&&(s=u)}if(s)return s.endTime;const o=new Date;return o.setHours(0,0,0,0),o}let a=fa(r,e.trim(),!0);if(a.isValid())return a.toDate();{q.debug("Invalid date:"+r),q.debug("With date format:"+e.trim());const s=new Date(r);if(s===void 0||isNaN(s.getTime())||s.getFullYear()<-1e4||s.getFullYear()>1e4)throw new Error("Invalid date:"+r);return s}},"getStartDate"),ure=b(function(t){const e=/^(\d+(?:\.\d+)?)([Mdhmswy]|ms)$/.exec(t.trim());return e!==null?[Number.parseFloat(e[1]),e[2]]:[NaN,"ms"]},"parseDuration"),hre=b(function(t,e,r,n=!1){r=r.trim();const a=/^until\s+(?<ids>[\d\w- ]+)/.exec(r);if(a!==null){let h=null;for(const p of a.groups.ids.split(" ")){let f=Ef(p);f!==void 0&&(!h||f.startTime<h.startTime)&&(h=f)}if(h)return h.startTime;const d=new Date;return d.setHours(0,0,0,0),d}let s=fa(r,e.trim(),!0);if(s.isValid())return n&&(s=s.add(1,"d")),s.toDate();let o=fa(t);const[l,u]=ure(r);if(!Number.isNaN(l)){const h=o.add(l,u);h.isValid()&&(o=h)}return o.toDate()},"getEndDate"),Nb=0,N0=b(function(t){return t===void 0?(Nb=Nb+1,"task"+Nb):t},"parseId"),HBe=b(function(t,e){let r;e.substr(0,1)===":"?r=e.substr(1,e.length):r=e;const n=r.split(","),i={};PL(n,i,ore);for(let s=0;s<n.length;s++)n[s]=n[s].trim();let a="";switch(n.length){case 1:i.id=N0(),i.startTime=t.endTime,a=n[0];break;case 2:i.id=N0(),i.startTime=GC(void 0,xl,n[0]),a=n[1];break;case 3:i.id=N0(n[0]),i.startTime=GC(void 0,xl,n[1]),a=n[2];break}return a&&(i.endTime=hre(i.startTime,xl,a,Jy),i.manualEndTime=fa(a,"YYYY-MM-DD",!0).isValid(),cre(i,xl,Zy,Qy)),i},"compileData"),WBe=b(function(t,e){let r;e.substr(0,1)===":"?r=e.substr(1,e.length):r=e;const n=r.split(","),i={};PL(n,i,ore);for(let a=0;a<n.length;a++)n[a]=n[a].trim();switch(n.length){case 1:i.id=N0(),i.startTime={type:"prevTaskEnd",id:t},i.endTime={data:n[0]};break;case 2:i.id=N0(),i.startTime={type:"getStartDate",startData:n[0]},i.endTime={data:n[1]};break;case 3:i.id=N0(n[0]),i.startTime={type:"getStartDate",startData:n[1]},i.endTime={data:n[2]};break}return i},"parseData"),HC,Rb,ni=[],dre={},YBe=b(function(t,e){const r={section:lg,type:lg,processed:!1,manualEndTime:!1,renderEndTime:null,raw:{data:e},task:t,classes:[]},n=WBe(Rb,e);r.raw.startTime=n.startTime,r.raw.endTime=n.endTime,r.id=n.id,r.prevTaskId=Rb,r.active=n.active,r.done=n.done,r.crit=n.crit,r.milestone=n.milestone,r.order=VC,VC++;const i=ni.push(r);Rb=r.id,dre[r.id]=i-1},"addTask"),Ef=b(function(t){const e=dre[t];return ni[e]},"findTaskById"),qBe=b(function(t,e){const r={section:lg,type:lg,description:t,task:t,classes:[]},n=HBe(HC,e);r.startTime=n.startTime,r.endTime=n.endTime,r.id=n.id,r.active=n.active,r.done=n.done,r.crit=n.crit,r.milestone=n.milestone,HC=r,t5.push(r)},"addTaskOrg"),uB=b(function(){const t=b(function(r){const n=ni[r];let i="";switch(ni[r].raw.startTime.type){case"prevTaskEnd":{const a=Ef(n.prevTaskId);n.startTime=a.endTime;break}case"getStartDate":i=GC(void 0,xl,ni[r].raw.startTime.startData),i&&(ni[r].startTime=i);break}return ni[r].startTime&&(ni[r].endTime=hre(ni[r].startTime,xl,ni[r].raw.endTime.data,Jy),ni[r].endTime&&(ni[r].processed=!0,ni[r].manualEndTime=fa(ni[r].raw.endTime.data,"YYYY-MM-DD",!0).isValid(),cre(ni[r],xl,Zy,Qy))),ni[r].processed},"compileTask");let e=!0;for(const[r,n]of ni.entries())t(r),e=e&&n.processed;return e},"compileTasks"),jBe=b(function(t,e){let r=e;we().securityLevel!=="loose"&&(r=bh(e)),t.split(",").forEach(function(n){Ef(n)!==void 0&&(pre(n,()=>{window.open(r,"_self")}),NL.set(n,r))}),fre(t,"clickable")},"setLink"),fre=b(function(t,e){t.split(",").forEach(function(r){let n=Ef(r);n!==void 0&&n.classes.push(e)})},"setClass"),XBe=b(function(t,e,r){if(we().securityLevel!=="loose"||e===void 0)return;let n=[];if(typeof r=="string"){n=r.split(/,(?=(?:(?:[^"]*"){2})*[^"]*$)/);for(let a=0;a<n.length;a++){let s=n[a].trim();s.startsWith('"')&&s.endsWith('"')&&(s=s.substr(1,s.length-2)),n[a]=s}}n.length===0&&n.push(t),Ef(t)!==void 0&&pre(t,()=>{Jt.runFunc(e,...n)})},"setClickFun"),pre=b(function(t,e){IL.push(function(){const r=document.querySelector(`[id="${t}"]`);r!==null&&r.addEventListener("click",function(){e()})},function(){const r=document.querySelector(`[id="${t}-text"]`);r!==null&&r.addEventListener("click",function(){e()})})},"pushFun"),KBe=b(function(t,e,r){t.split(",").forEach(function(n){XBe(n,e,r)}),fre(t,"clickable")},"setClickEvent"),QBe=b(function(t){IL.forEach(function(e){e(t)})},"bindFunctions"),ZBe={getConfig:b(()=>we().gantt,"getConfig"),clear:vBe,setDateFormat:EBe,getDateFormat:RBe,enableInclusiveEndDates:SBe,endDatesAreInclusive:CBe,enableTopAxis:ABe,topAxisEnabled:_Be,setAxisFormat:yBe,getAxisFormat:xBe,setTickInterval:bBe,getTickInterval:wBe,setTodayMarker:kBe,getTodayMarker:TBe,setAccTitle:Ri,getAccTitle:Qi,setDiagramTitle:za,getDiagramTitle:ea,setDisplayMode:LBe,getDisplayMode:NBe,setAccDescription:Zi,getAccDescription:Ji,addSection:FBe,getSections:BBe,getTasks:$Be,addTask:YBe,findTaskById:Ef,addTaskOrg:qBe,setIncludes:MBe,getIncludes:IBe,setExcludes:DBe,getExcludes:OBe,setClickEvent:KBe,setLink:jBe,getLinks:PBe,bindFunctions:QBe,parseDuration:ure,isInvalidDate:lre,setWeekday:zBe,getWeekday:UBe,setWeekend:VBe};function PL(t,e,r){let n=!0;for(;n;)n=!1,r.forEach(function(i){const a="^\\s*"+i+"\\s*$",s=new RegExp(a);t[0].match(s)&&(e[i]=!0,t.shift(1),n=!0)})}b(PL,"getTaskTags");var JBe=b(function(){q.debug("Something is calling, setConf, remove the call")},"setConf"),hB={monday:mv,tuesday:BW,wednesday:$W,thursday:Nd,friday:zW,saturday:UW,sunday:yy},e$e=b((t,e)=>{let r=[...t].map(()=>-1/0),n=[...t].sort((a,s)=>a.startTime-s.startTime||a.order-s.order),i=0;for(const a of n)for(let s=0;s<r.length;s++)if(a.startTime>=r[s]){r[s]=a.endTime,a.order=s+e,s>i&&(i=s);break}return i},"getMaxIntersections"),Ql,t$e=b(function(t,e,r,n){const i=we().gantt,a=we().securityLevel;let s;a==="sandbox"&&(s=Ke("#i"+e));const o=Ke(a==="sandbox"?s.nodes()[0].contentDocument.body:"body"),l=a==="sandbox"?s.nodes()[0].contentDocument:document,u=l.getElementById(e);Ql=u.parentElement.offsetWidth,Ql===void 0&&(Ql=1200),i.useWidth!==void 0&&(Ql=i.useWidth);const h=n.db.getTasks();let d=[];for(const R of h)d.push(R.type);d=S(d);const p={};let f=2*i.topPadding;if(n.db.getDisplayMode()==="compact"||i.displayMode==="compact"){const R={};for(const L of h)R[L.section]===void 0?R[L.section]=[L]:R[L.section].push(L);let C=0;for(const L of Object.keys(R)){const A=e$e(R[L],C)+1;C+=A,f+=A*(i.barHeight+i.barGap),p[L]=A}}else{f+=h.length*(i.barHeight+i.barGap);for(const R of d)p[R]=h.filter(C=>C.type===R).length}u.setAttribute("viewBox","0 0 "+Ql+" "+f);const g=o.select(`[id="${e}"]`),m=dme().domain([qde(h,function(R){return R.startTime}),Yde(h,function(R){return R.endTime})]).rangeRound([0,Ql-i.leftPadding-i.rightPadding]);function y(R,C){const L=R.startTime,A=C.startTime;let N=0;return L>A?N=1:L<A&&(N=-1),N}b(y,"taskCompare"),h.sort(y),v(h,Ql,f),Ki(g,f,Ql,i.useMaxWidth),g.append("text").text(n.db.getDiagramTitle()).attr("x",Ql/2).attr("y",i.titleTopMargin).attr("class","titleText");function v(R,C,L){const A=i.barHeight,N=A+i.barGap,F=i.topPadding,T=i.leftPadding,D=$p().domain([0,d.length]).range(["#00B9FA","#F95002"]).interpolate(mpe);w(N,F,T,C,L,R,n.db.getExcludes(),n.db.getIncludes()),k(T,F,C,L),x(R,N,F,T,A,D,C),E(N,F),_(T,F,C,L)}b(v,"makeGantt");function x(R,C,L,A,N,F,T){const M=[...new Set(R.map(B=>B.order))].map(B=>R.find($=>$.order===B));g.append("g").selectAll("rect").data(M).enter().append("rect").attr("x",0).attr("y",function(B,$){return $=B.order,$*C+L-2}).attr("width",function(){return T-i.rightPadding/2}).attr("height",C).attr("class",function(B){for(const[$,V]of d.entries())if(B.type===V)return"section section"+$%i.numberSectionStyles;return"section section0"});const O=g.append("g").selectAll("rect").data(R).enter(),I=n.db.getLinks();if(O.append("rect").attr("id",function(B){return B.id}).attr("rx",3).attr("ry",3).attr("x",function(B){return B.milestone?m(B.startTime)+A+.5*(m(B.endTime)-m(B.startTime))-.5*N:m(B.startTime)+A}).attr("y",function(B,$){return $=B.order,$*C+L}).attr("width",function(B){return B.milestone?N:m(B.renderEndTime||B.endTime)-m(B.startTime)}).attr("height",N).attr("transform-origin",function(B,$){return $=B.order,(m(B.startTime)+A+.5*(m(B.endTime)-m(B.startTime))).toString()+"px "+($*C+L+.5*N).toString()+"px"}).attr("class",function(B){const $="task";let V="";B.classes.length>0&&(V=B.classes.join(" "));let W=0;for(const[Z,H]of d.entries())B.type===H&&(W=Z%i.numberSectionStyles);let K="";return B.active?B.crit?K+=" activeCrit":K=" active":B.done?B.crit?K=" doneCrit":K=" done":B.crit&&(K+=" crit"),K.length===0&&(K=" task"),B.milestone&&(K=" milestone "+K),K+=W,K+=" "+V,$+K}),O.append("text").attr("id",function(B){return B.id+"-text"}).text(function(B){return B.task}).attr("font-size",i.fontSize).attr("x",function(B){let $=m(B.startTime),V=m(B.renderEndTime||B.endTime);B.milestone&&($+=.5*(m(B.endTime)-m(B.startTime))-.5*N),B.milestone&&(V=$+N);const W=this.getBBox().width;return W>V-$?V+W+1.5*i.leftPadding>T?$+A-5:V+A+5:(V-$)/2+$+A}).attr("y",function(B,$){return $=B.order,$*C+i.barHeight/2+(i.fontSize/2-2)+L}).attr("text-height",N).attr("class",function(B){const $=m(B.startTime);let V=m(B.endTime);B.milestone&&(V=$+N);const W=this.getBBox().width;let K="";B.classes.length>0&&(K=B.classes.join(" "));let Z=0;for(const[ee,te]of d.entries())B.type===te&&(Z=ee%i.numberSectionStyles);let H="";return B.active&&(B.crit?H="activeCritText"+Z:H="activeText"+Z),B.done?B.crit?H=H+" doneCritText"+Z:H=H+" doneText"+Z:B.crit&&(H=H+" critText"+Z),B.milestone&&(H+=" milestoneText"),W>V-$?V+W+1.5*i.leftPadding>T?K+" taskTextOutsideLeft taskTextOutside"+Z+" "+H:K+" taskTextOutsideRight taskTextOutside"+Z+" "+H+" width-"+W:K+" taskText taskText"+Z+" "+H+" width-"+W}),we().securityLevel==="sandbox"){let B;B=Ke("#i"+e);const $=B.nodes()[0].contentDocument;O.filter(function(V){return I.has(V.id)}).each(function(V){var W=$.querySelector("#"+V.id),K=$.querySelector("#"+V.id+"-text");const Z=W.parentNode;var H=$.createElement("a");H.setAttribute("xlink:href",I.get(V.id)),H.setAttribute("target","_top"),Z.appendChild(H),H.appendChild(W),H.appendChild(K)})}}b(x,"drawRects");function w(R,C,L,A,N,F,T,D){if(T.length===0&&D.length===0)return;let M,O;for(const{startTime:W,endTime:K}of F)(M===void 0||W<M)&&(M=W),(O===void 0||K>O)&&(O=K);if(!M||!O)return;if(fa(O).diff(fa(M),"year")>5){q.warn("The difference between the min and max time is more than 5 years. This will cause performance issues. Skipping drawing exclude days.");return}const I=n.db.getDateFormat(),P=[];let B=null,$=fa(M);for(;$.valueOf()<=O;)n.db.isInvalidDate($,I,T,D)?B?B.end=$:B={start:$,end:$}:B&&(P.push(B),B=null),$=$.add(1,"d");g.append("g").selectAll("rect").data(P).enter().append("rect").attr("id",function(W){return"exclude-"+W.start.format("YYYY-MM-DD")}).attr("x",function(W){return m(W.start)+L}).attr("y",i.gridLineStartPadding).attr("width",function(W){const K=W.end.add(1,"day");return m(K)-m(W.start)}).attr("height",N-C-i.gridLineStartPadding).attr("transform-origin",function(W,K){return(m(W.start)+L+.5*(m(W.end)-m(W.start))).toString()+"px "+(K*R+.5*N).toString()+"px"}).attr("class","exclude-range")}b(w,"drawExcludeDays");function k(R,C,L,A){let N=rfe(m).tickSize(-A+C+i.gridLineStartPadding).tickFormat($4(n.db.getAxisFormat()||i.axisFormat||"%Y-%m-%d"));const T=/^([1-9]\d*)(millisecond|second|minute|hour|day|week|month)$/.exec(n.db.getTickInterval()||i.tickInterval);if(T!==null){const D=T[1],M=T[2],O=n.db.getWeekday()||i.weekday;switch(M){case"millisecond":N.ticks(zp.every(D));break;case"second":N.ticks(Cu.every(D));break;case"minute":N.ticks(pv.every(D));break;case"hour":N.ticks(gv.every(D));break;case"day":N.ticks(Ld.every(D));break;case"week":N.ticks(hB[O].every(D));break;case"month":N.ticks(vv.every(D));break}}if(g.append("g").attr("class","grid").attr("transform","translate("+R+", "+(A-50)+")").call(N).selectAll("text").style("text-anchor","middle").attr("fill","#000").attr("stroke","none").attr("font-size",10).attr("dy","1em"),n.db.topAxisEnabled()||i.topAxis){let D=tfe(m).tickSize(-A+C+i.gridLineStartPadding).tickFormat($4(n.db.getAxisFormat()||i.axisFormat||"%Y-%m-%d"));if(T!==null){const M=T[1],O=T[2],I=n.db.getWeekday()||i.weekday;switch(O){case"millisecond":D.ticks(zp.every(M));break;case"second":D.ticks(Cu.every(M));break;case"minute":D.ticks(pv.every(M));break;case"hour":D.ticks(gv.every(M));break;case"day":D.ticks(Ld.every(M));break;case"week":D.ticks(hB[I].every(M));break;case"month":D.ticks(vv.every(M));break}}g.append("g").attr("class","grid").attr("transform","translate("+R+", "+C+")").call(D).selectAll("text").style("text-anchor","middle").attr("fill","#000").attr("stroke","none").attr("font-size",10)}}b(k,"makeGrid");function E(R,C){let L=0;const A=Object.keys(p).map(N=>[N,p[N]]);g.append("g").selectAll("text").data(A).enter().append(function(N){const F=N[0].split(et.lineBreakRegex),T=-(F.length-1)/2,D=l.createElementNS("http://www.w3.org/2000/svg","text");D.setAttribute("dy",T+"em");for(const[M,O]of F.entries()){const I=l.createElementNS("http://www.w3.org/2000/svg","tspan");I.setAttribute("alignment-baseline","central"),I.setAttribute("x","10"),M>0&&I.setAttribute("dy","1em"),I.textContent=O,D.appendChild(I)}return D}).attr("x",10).attr("y",function(N,F){if(F>0)for(let T=0;T<F;T++)return L+=A[F-1][1],N[1]*R/2+L*R+C;else return N[1]*R/2+C}).attr("font-size",i.sectionFontSize).attr("class",function(N){for(const[F,T]of d.entries())if(N[0]===T)return"sectionTitle sectionTitle"+F%i.numberSectionStyles;return"sectionTitle"})}b(E,"vertLabels");function _(R,C,L,A){const N=n.db.getTodayMarker();if(N==="off")return;const F=g.append("g").attr("class","today"),T=new Date,D=F.append("line");D.attr("x1",m(T)+R).attr("x2",m(T)+R).attr("y1",i.titleTopMargin).attr("y2",A-i.titleTopMargin).attr("class","today"),N!==""&&D.attr("style",N.replace(/,/g,";"))}b(_,"drawToday");function S(R){const C={},L=[];for(let A=0,N=R.length;A<N;++A)Object.prototype.hasOwnProperty.call(C,R[A])||(C[R[A]]=!0,L.push(R[A]));return L}b(S,"checkUnique")},"draw"),r$e={setConf:JBe,draw:t$e},n$e=b(t=>`
  .mermaid-main-font {
    font-family: var(--mermaid-font-family, "trebuchet ms", verdana, arial, sans-serif);
  }

  .exclude-range {
    fill: ${t.excludeBkgColor};
  }

  .section {
    stroke: none;
    opacity: 0.2;
  }

  .section0 {
    fill: ${t.sectionBkgColor};
  }

  .section2 {
    fill: ${t.sectionBkgColor2};
  }

  .section1,
  .section3 {
    fill: ${t.altSectionBkgColor};
    opacity: 0.2;
  }

  .sectionTitle0 {
    fill: ${t.titleColor};
  }

  .sectionTitle1 {
    fill: ${t.titleColor};
  }

  .sectionTitle2 {
    fill: ${t.titleColor};
  }

  .sectionTitle3 {
    fill: ${t.titleColor};
  }

  .sectionTitle {
    text-anchor: start;
    font-family: var(--mermaid-font-family, "trebuchet ms", verdana, arial, sans-serif);
  }


  /* Grid and axis */

  .grid .tick {
    stroke: ${t.gridColor};
    opacity: 0.8;
    shape-rendering: crispEdges;
  }

  .grid .tick text {
    font-family: ${t.fontFamily};
    fill: ${t.textColor};
  }

  .grid path {
    stroke-width: 0;
  }


  /* Today line */

  .today {
    fill: none;
    stroke: ${t.todayLineColor};
    stroke-width: 2px;
  }


  /* Task styling */

  /* Default task */

  .task {
    stroke-width: 2;
  }

  .taskText {
    text-anchor: middle;
    font-family: var(--mermaid-font-family, "trebuchet ms", verdana, arial, sans-serif);
  }

  .taskTextOutsideRight {
    fill: ${t.taskTextDarkColor};
    text-anchor: start;
    font-family: var(--mermaid-font-family, "trebuchet ms", verdana, arial, sans-serif);
  }

  .taskTextOutsideLeft {
    fill: ${t.taskTextDarkColor};
    text-anchor: end;
  }


  /* Special case clickable */

  .task.clickable {
    cursor: pointer;
  }

  .taskText.clickable {
    cursor: pointer;
    fill: ${t.taskTextClickableColor} !important;
    font-weight: bold;
  }

  .taskTextOutsideLeft.clickable {
    cursor: pointer;
    fill: ${t.taskTextClickableColor} !important;
    font-weight: bold;
  }

  .taskTextOutsideRight.clickable {
    cursor: pointer;
    fill: ${t.taskTextClickableColor} !important;
    font-weight: bold;
  }


  /* Specific task settings for the sections*/

  .taskText0,
  .taskText1,
  .taskText2,
  .taskText3 {
    fill: ${t.taskTextColor};
  }

  .task0,
  .task1,
  .task2,
  .task3 {
    fill: ${t.taskBkgColor};
    stroke: ${t.taskBorderColor};
  }

  .taskTextOutside0,
  .taskTextOutside2
  {
    fill: ${t.taskTextOutsideColor};
  }

  .taskTextOutside1,
  .taskTextOutside3 {
    fill: ${t.taskTextOutsideColor};
  }


  /* Active task */

  .active0,
  .active1,
  .active2,
  .active3 {
    fill: ${t.activeTaskBkgColor};
    stroke: ${t.activeTaskBorderColor};
  }

  .activeText0,
  .activeText1,
  .activeText2,
  .activeText3 {
    fill: ${t.taskTextDarkColor} !important;
  }


  /* Completed task */

  .done0,
  .done1,
  .done2,
  .done3 {
    stroke: ${t.doneTaskBorderColor};
    fill: ${t.doneTaskBkgColor};
    stroke-width: 2;
  }

  .doneText0,
  .doneText1,
  .doneText2,
  .doneText3 {
    fill: ${t.taskTextDarkColor} !important;
  }


  /* Tasks on the critical line */

  .crit0,
  .crit1,
  .crit2,
  .crit3 {
    stroke: ${t.critBorderColor};
    fill: ${t.critBkgColor};
    stroke-width: 2;
  }

  .activeCrit0,
  .activeCrit1,
  .activeCrit2,
  .activeCrit3 {
    stroke: ${t.critBorderColor};
    fill: ${t.activeTaskBkgColor};
    stroke-width: 2;
  }

  .doneCrit0,
  .doneCrit1,
  .doneCrit2,
  .doneCrit3 {
    stroke: ${t.critBorderColor};
    fill: ${t.doneTaskBkgColor};
    stroke-width: 2;
    cursor: pointer;
    shape-rendering: crispEdges;
  }

  .milestone {
    transform: rotate(45deg) scale(0.8,0.8);
  }

  .milestoneText {
    font-style: italic;
  }
  .doneCritText0,
  .doneCritText1,
  .doneCritText2,
  .doneCritText3 {
    fill: ${t.taskTextDarkColor} !important;
  }

  .activeCritText0,
  .activeCritText1,
  .activeCritText2,
  .activeCritText3 {
    fill: ${t.taskTextDarkColor} !important;
  }

  .titleText {
    text-anchor: middle;
    font-size: 18px;
    fill: ${t.titleColor||t.textColor};
    font-family: var(--mermaid-font-family, "trebuchet ms", verdana, arial, sans-serif);
  }
`,"getStyles"),i$e=n$e,a$e={parser:mBe,db:ZBe,renderer:r$e,styles:i$e};const s$e=Object.freeze(Object.defineProperty({__proto__:null,diagram:a$e},Symbol.toStringTag,{value:"Module"}));var o$e={parse:b(async t=>{const e=await Yg("info",t);q.debug(e)},"parse")},l$e={version:wS},c$e=b(()=>l$e.version,"getVersion"),u$e={getVersion:c$e},h$e=b((t,e,r)=>{q.debug(`rendering info diagram
`+t);const n=mf(e);Ki(n,100,400,!0),n.append("g").append("text").attr("x",100).attr("y",40).attr("class","version").attr("font-size",32).style("text-anchor","middle").text(`v${r}`)},"draw"),d$e={draw:h$e},f$e={parser:o$e,db:u$e,renderer:d$e};const p$e=Object.freeze(Object.defineProperty({__proto__:null,diagram:f$e},Symbol.toStringTag,{value:"Module"}));var gre=Ur.pie,FL={sections:new Map,showData:!1,config:gre},n5=FL.sections,BL=FL.showData,g$e=structuredClone(gre),m$e=b(()=>structuredClone(g$e),"getConfig"),v$e=b(()=>{n5=new Map,BL=FL.showData,Ni()},"clear"),y$e=b(({label:t,value:e})=>{n5.has(t)||(n5.set(t,e),q.debug(`added new section: ${t}, with value: ${e}`))},"addSection"),x$e=b(()=>n5,"getSections"),b$e=b(t=>{BL=t},"setShowData"),w$e=b(()=>BL,"getShowData"),mre={getConfig:m$e,clear:v$e,setDiagramTitle:za,getDiagramTitle:ea,setAccTitle:Ri,getAccTitle:Qi,setAccDescription:Zi,getAccDescription:Ji,addSection:y$e,getSections:x$e,setShowData:b$e,getShowData:w$e},k$e=b((t,e)=>{Vy(t,e),e.setShowData(t.showData),t.sections.map(e.addSection)},"populateDb"),T$e={parse:b(async t=>{const e=await Yg("pie",t);q.debug(e),k$e(e,mre)},"parse")},E$e=b(t=>`
  .pieCircle{
    stroke: ${t.pieStrokeColor};
    stroke-width : ${t.pieStrokeWidth};
    opacity : ${t.pieOpacity};
  }
  .pieOuterCircle{
    stroke: ${t.pieOuterStrokeColor};
    stroke-width: ${t.pieOuterStrokeWidth};
    fill: none;
  }
  .pieTitleText {
    text-anchor: middle;
    font-size: ${t.pieTitleTextSize};
    fill: ${t.pieTitleTextColor};
    font-family: ${t.fontFamily};
  }
  .slice {
    font-family: ${t.fontFamily};
    fill: ${t.pieSectionTextColor};
    font-size:${t.pieSectionTextSize};
    // fill: white;
  }
  .legend text {
    fill: ${t.pieLegendTextColor};
    font-family: ${t.fontFamily};
    font-size: ${t.pieLegendTextSize};
  }
`,"getStyles"),S$e=E$e,C$e=b(t=>{const e=[...t.entries()].map(n=>({label:n[0],value:n[1]})).sort((n,i)=>i.value-n.value);return Ame().value(n=>n.value)(e)},"createPieArcs"),A$e=b((t,e,r,n)=>{q.debug(`rendering pie chart
`+t);const i=n.db,a=we(),s=Zc(i.getConfig(),a.pie),o=40,l=18,u=4,h=450,d=h,p=mf(e),f=p.append("g");f.attr("transform","translate("+d/2+","+h/2+")");const{themeVariables:g}=a;let[m]=pf(g.pieOuterStrokeWidth);m??(m=2);const y=s.textPosition,v=Math.min(d,h)/2-o,x=Vp().innerRadius(0).outerRadius(v),w=Vp().innerRadius(v*y).outerRadius(v*y);f.append("circle").attr("cx",0).attr("cy",0).attr("r",v+m/2).attr("class","pieOuterCircle");const k=i.getSections(),E=C$e(k),_=[g.pie1,g.pie2,g.pie3,g.pie4,g.pie5,g.pie6,g.pie7,g.pie8,g.pie9,g.pie10,g.pie11,g.pie12],S=lw(_);f.selectAll("mySlices").data(E).enter().append("path").attr("d",x).attr("fill",N=>S(N.data.label)).attr("class","pieCircle");let R=0;k.forEach(N=>{R+=N}),f.selectAll("mySlices").data(E).enter().append("text").text(N=>(N.data.value/R*100).toFixed(0)+"%").attr("transform",N=>"translate("+w.centroid(N)+")").style("text-anchor","middle").attr("class","slice"),f.append("text").text(i.getDiagramTitle()).attr("x",0).attr("y",-(h-50)/2).attr("class","pieTitleText");const C=f.selectAll(".legend").data(S.domain()).enter().append("g").attr("class","legend").attr("transform",(N,F)=>{const T=l+u,D=T*S.domain().length/2,M=12*l,O=F*T-D;return"translate("+M+","+O+")"});C.append("rect").attr("width",l).attr("height",l).style("fill",S).style("stroke",S),C.data(E).append("text").attr("x",l+u).attr("y",l-u).text(N=>{const{label:F,value:T}=N.data;return i.getShowData()?`${F} [${T}]`:F});const L=Math.max(...C.selectAll("text").nodes().map(N=>(N==null?void 0:N.getBoundingClientRect().width)??0)),A=d+o+l+u+L;p.attr("viewBox",`0 0 ${A} ${h}`),Ki(p,h,A,s.useMaxWidth)},"draw"),_$e={draw:A$e},L$e={parser:T$e,db:mre,renderer:_$e,styles:S$e};const N$e=Object.freeze(Object.defineProperty({__proto__:null,diagram:L$e},Symbol.toStringTag,{value:"Module"}));var WC=function(){var t=b(function(ve,Ee,Ce,Ne){for(Ce=Ce||{},Ne=ve.length;Ne--;Ce[ve[Ne]]=Ee);return Ce},"o"),e=[1,3],r=[1,4],n=[1,5],i=[1,6],a=[1,7],s=[1,4,5,10,12,13,14,18,25,35,37,39,41,42,48,50,51,52,53,54,55,56,57,60,61,63,64,65,66,67],o=[1,4,5,10,12,13,14,18,25,28,35,37,39,41,42,48,50,51,52,53,54,55,56,57,60,61,63,64,65,66,67],l=[55,56,57],u=[2,36],h=[1,37],d=[1,36],p=[1,38],f=[1,35],g=[1,43],m=[1,41],y=[1,14],v=[1,23],x=[1,18],w=[1,19],k=[1,20],E=[1,21],_=[1,22],S=[1,24],R=[1,25],C=[1,26],L=[1,27],A=[1,28],N=[1,29],F=[1,32],T=[1,33],D=[1,34],M=[1,39],O=[1,40],I=[1,42],P=[1,44],B=[1,62],$=[1,61],V=[4,5,8,10,12,13,14,18,44,47,49,55,56,57,63,64,65,66,67],W=[1,65],K=[1,66],Z=[1,67],H=[1,68],ee=[1,69],te=[1,70],U=[1,71],j=[1,72],Y=[1,73],Q=[1,74],ae=[1,75],ie=[1,76],J=[4,5,6,7,8,9,10,11,12,13,14,15,18],_e=[1,90],ce=[1,91],Te=[1,92],be=[1,99],Ue=[1,93],He=[1,96],Ve=[1,94],Re=[1,95],de=[1,97],X=[1,98],oe=[1,102],me=[10,55,56,57],ne=[4,5,6,8,10,11,13,17,18,19,20,55,56,57],ue={trace:b(function(){},"trace"),yy:{},symbols_:{error:2,idStringToken:3,ALPHA:4,NUM:5,NODE_STRING:6,DOWN:7,MINUS:8,DEFAULT:9,COMMA:10,COLON:11,AMP:12,BRKT:13,MULT:14,UNICODE_TEXT:15,styleComponent:16,UNIT:17,SPACE:18,STYLE:19,PCT:20,idString:21,style:22,stylesOpt:23,classDefStatement:24,CLASSDEF:25,start:26,eol:27,QUADRANT:28,document:29,line:30,statement:31,axisDetails:32,quadrantDetails:33,points:34,title:35,title_value:36,acc_title:37,acc_title_value:38,acc_descr:39,acc_descr_value:40,acc_descr_multiline_value:41,section:42,text:43,point_start:44,point_x:45,point_y:46,class_name:47,"X-AXIS":48,"AXIS-TEXT-DELIMITER":49,"Y-AXIS":50,QUADRANT_1:51,QUADRANT_2:52,QUADRANT_3:53,QUADRANT_4:54,NEWLINE:55,SEMI:56,EOF:57,alphaNumToken:58,textNoTagsToken:59,STR:60,MD_STR:61,alphaNum:62,PUNCTUATION:63,PLUS:64,EQUALS:65,DOT:66,UNDERSCORE:67,$accept:0,$end:1},terminals_:{2:"error",4:"ALPHA",5:"NUM",6:"NODE_STRING",7:"DOWN",8:"MINUS",9:"DEFAULT",10:"COMMA",11:"COLON",12:"AMP",13:"BRKT",14:"MULT",15:"UNICODE_TEXT",17:"UNIT",18:"SPACE",19:"STYLE",20:"PCT",25:"CLASSDEF",28:"QUADRANT",35:"title",36:"title_value",37:"acc_title",38:"acc_title_value",39:"acc_descr",40:"acc_descr_value",41:"acc_descr_multiline_value",42:"section",44:"point_start",45:"point_x",46:"point_y",47:"class_name",48:"X-AXIS",49:"AXIS-TEXT-DELIMITER",50:"Y-AXIS",51:"QUADRANT_1",52:"QUADRANT_2",53:"QUADRANT_3",54:"QUADRANT_4",55:"NEWLINE",56:"SEMI",57:"EOF",60:"STR",61:"MD_STR",63:"PUNCTUATION",64:"PLUS",65:"EQUALS",66:"DOT",67:"UNDERSCORE"},productions_:[0,[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[16,1],[16,1],[16,1],[16,1],[16,1],[16,1],[16,1],[16,1],[16,1],[16,1],[21,1],[21,2],[22,1],[22,2],[23,1],[23,3],[24,5],[26,2],[26,2],[26,2],[29,0],[29,2],[30,2],[31,0],[31,1],[31,2],[31,1],[31,1],[31,1],[31,2],[31,2],[31,2],[31,1],[31,1],[34,4],[34,5],[34,5],[34,6],[32,4],[32,3],[32,2],[32,4],[32,3],[32,2],[33,2],[33,2],[33,2],[33,2],[27,1],[27,1],[27,1],[43,1],[43,2],[43,1],[43,1],[62,1],[62,2],[58,1],[58,1],[58,1],[58,1],[58,1],[58,1],[58,1],[58,1],[58,1],[58,1],[58,1],[59,1],[59,1],[59,1]],performAction:b(function(Ee,Ce,Ne,Se,Ie,Ae,qe){var De=Ae.length-1;switch(Ie){case 23:this.$=Ae[De];break;case 24:this.$=Ae[De-1]+""+Ae[De];break;case 26:this.$=Ae[De-1]+Ae[De];break;case 27:this.$=[Ae[De].trim()];break;case 28:Ae[De-2].push(Ae[De].trim()),this.$=Ae[De-2];break;case 29:this.$=Ae[De-4],Se.addClass(Ae[De-2],Ae[De]);break;case 37:this.$=[];break;case 42:this.$=Ae[De].trim(),Se.setDiagramTitle(this.$);break;case 43:this.$=Ae[De].trim(),Se.setAccTitle(this.$);break;case 44:case 45:this.$=Ae[De].trim(),Se.setAccDescription(this.$);break;case 46:Se.addSection(Ae[De].substr(8)),this.$=Ae[De].substr(8);break;case 47:Se.addPoint(Ae[De-3],"",Ae[De-1],Ae[De],[]);break;case 48:Se.addPoint(Ae[De-4],Ae[De-3],Ae[De-1],Ae[De],[]);break;case 49:Se.addPoint(Ae[De-4],"",Ae[De-2],Ae[De-1],Ae[De]);break;case 50:Se.addPoint(Ae[De-5],Ae[De-4],Ae[De-2],Ae[De-1],Ae[De]);break;case 51:Se.setXAxisLeftText(Ae[De-2]),Se.setXAxisRightText(Ae[De]);break;case 52:Ae[De-1].text+=" ⟶ ",Se.setXAxisLeftText(Ae[De-1]);break;case 53:Se.setXAxisLeftText(Ae[De]);break;case 54:Se.setYAxisBottomText(Ae[De-2]),Se.setYAxisTopText(Ae[De]);break;case 55:Ae[De-1].text+=" ⟶ ",Se.setYAxisBottomText(Ae[De-1]);break;case 56:Se.setYAxisBottomText(Ae[De]);break;case 57:Se.setQuadrant1Text(Ae[De]);break;case 58:Se.setQuadrant2Text(Ae[De]);break;case 59:Se.setQuadrant3Text(Ae[De]);break;case 60:Se.setQuadrant4Text(Ae[De]);break;case 64:this.$={text:Ae[De],type:"text"};break;case 65:this.$={text:Ae[De-1].text+""+Ae[De],type:Ae[De-1].type};break;case 66:this.$={text:Ae[De],type:"text"};break;case 67:this.$={text:Ae[De],type:"markdown"};break;case 68:this.$=Ae[De];break;case 69:this.$=Ae[De-1]+""+Ae[De];break}},"anonymous"),table:[{18:e,26:1,27:2,28:r,55:n,56:i,57:a},{1:[3]},{18:e,26:8,27:2,28:r,55:n,56:i,57:a},{18:e,26:9,27:2,28:r,55:n,56:i,57:a},t(s,[2,33],{29:10}),t(o,[2,61]),t(o,[2,62]),t(o,[2,63]),{1:[2,30]},{1:[2,31]},t(l,u,{30:11,31:12,24:13,32:15,33:16,34:17,43:30,58:31,1:[2,32],4:h,5:d,10:p,12:f,13:g,14:m,18:y,25:v,35:x,37:w,39:k,41:E,42:_,48:S,50:R,51:C,52:L,53:A,54:N,60:F,61:T,63:D,64:M,65:O,66:I,67:P}),t(s,[2,34]),{27:45,55:n,56:i,57:a},t(l,[2,37]),t(l,u,{24:13,32:15,33:16,34:17,43:30,58:31,31:46,4:h,5:d,10:p,12:f,13:g,14:m,18:y,25:v,35:x,37:w,39:k,41:E,42:_,48:S,50:R,51:C,52:L,53:A,54:N,60:F,61:T,63:D,64:M,65:O,66:I,67:P}),t(l,[2,39]),t(l,[2,40]),t(l,[2,41]),{36:[1,47]},{38:[1,48]},{40:[1,49]},t(l,[2,45]),t(l,[2,46]),{18:[1,50]},{4:h,5:d,10:p,12:f,13:g,14:m,43:51,58:31,60:F,61:T,63:D,64:M,65:O,66:I,67:P},{4:h,5:d,10:p,12:f,13:g,14:m,43:52,58:31,60:F,61:T,63:D,64:M,65:O,66:I,67:P},{4:h,5:d,10:p,12:f,13:g,14:m,43:53,58:31,60:F,61:T,63:D,64:M,65:O,66:I,67:P},{4:h,5:d,10:p,12:f,13:g,14:m,43:54,58:31,60:F,61:T,63:D,64:M,65:O,66:I,67:P},{4:h,5:d,10:p,12:f,13:g,14:m,43:55,58:31,60:F,61:T,63:D,64:M,65:O,66:I,67:P},{4:h,5:d,10:p,12:f,13:g,14:m,43:56,58:31,60:F,61:T,63:D,64:M,65:O,66:I,67:P},{4:h,5:d,8:B,10:p,12:f,13:g,14:m,18:$,44:[1,57],47:[1,58],58:60,59:59,63:D,64:M,65:O,66:I,67:P},t(V,[2,64]),t(V,[2,66]),t(V,[2,67]),t(V,[2,70]),t(V,[2,71]),t(V,[2,72]),t(V,[2,73]),t(V,[2,74]),t(V,[2,75]),t(V,[2,76]),t(V,[2,77]),t(V,[2,78]),t(V,[2,79]),t(V,[2,80]),t(s,[2,35]),t(l,[2,38]),t(l,[2,42]),t(l,[2,43]),t(l,[2,44]),{3:64,4:W,5:K,6:Z,7:H,8:ee,9:te,10:U,11:j,12:Y,13:Q,14:ae,15:ie,21:63},t(l,[2,53],{59:59,58:60,4:h,5:d,8:B,10:p,12:f,13:g,14:m,18:$,49:[1,77],63:D,64:M,65:O,66:I,67:P}),t(l,[2,56],{59:59,58:60,4:h,5:d,8:B,10:p,12:f,13:g,14:m,18:$,49:[1,78],63:D,64:M,65:O,66:I,67:P}),t(l,[2,57],{59:59,58:60,4:h,5:d,8:B,10:p,12:f,13:g,14:m,18:$,63:D,64:M,65:O,66:I,67:P}),t(l,[2,58],{59:59,58:60,4:h,5:d,8:B,10:p,12:f,13:g,14:m,18:$,63:D,64:M,65:O,66:I,67:P}),t(l,[2,59],{59:59,58:60,4:h,5:d,8:B,10:p,12:f,13:g,14:m,18:$,63:D,64:M,65:O,66:I,67:P}),t(l,[2,60],{59:59,58:60,4:h,5:d,8:B,10:p,12:f,13:g,14:m,18:$,63:D,64:M,65:O,66:I,67:P}),{45:[1,79]},{44:[1,80]},t(V,[2,65]),t(V,[2,81]),t(V,[2,82]),t(V,[2,83]),{3:82,4:W,5:K,6:Z,7:H,8:ee,9:te,10:U,11:j,12:Y,13:Q,14:ae,15:ie,18:[1,81]},t(J,[2,23]),t(J,[2,1]),t(J,[2,2]),t(J,[2,3]),t(J,[2,4]),t(J,[2,5]),t(J,[2,6]),t(J,[2,7]),t(J,[2,8]),t(J,[2,9]),t(J,[2,10]),t(J,[2,11]),t(J,[2,12]),t(l,[2,52],{58:31,43:83,4:h,5:d,10:p,12:f,13:g,14:m,60:F,61:T,63:D,64:M,65:O,66:I,67:P}),t(l,[2,55],{58:31,43:84,4:h,5:d,10:p,12:f,13:g,14:m,60:F,61:T,63:D,64:M,65:O,66:I,67:P}),{46:[1,85]},{45:[1,86]},{4:_e,5:ce,6:Te,8:be,11:Ue,13:He,16:89,17:Ve,18:Re,19:de,20:X,22:88,23:87},t(J,[2,24]),t(l,[2,51],{59:59,58:60,4:h,5:d,8:B,10:p,12:f,13:g,14:m,18:$,63:D,64:M,65:O,66:I,67:P}),t(l,[2,54],{59:59,58:60,4:h,5:d,8:B,10:p,12:f,13:g,14:m,18:$,63:D,64:M,65:O,66:I,67:P}),t(l,[2,47],{22:88,16:89,23:100,4:_e,5:ce,6:Te,8:be,11:Ue,13:He,17:Ve,18:Re,19:de,20:X}),{46:[1,101]},t(l,[2,29],{10:oe}),t(me,[2,27],{16:103,4:_e,5:ce,6:Te,8:be,11:Ue,13:He,17:Ve,18:Re,19:de,20:X}),t(ne,[2,25]),t(ne,[2,13]),t(ne,[2,14]),t(ne,[2,15]),t(ne,[2,16]),t(ne,[2,17]),t(ne,[2,18]),t(ne,[2,19]),t(ne,[2,20]),t(ne,[2,21]),t(ne,[2,22]),t(l,[2,49],{10:oe}),t(l,[2,48],{22:88,16:89,23:104,4:_e,5:ce,6:Te,8:be,11:Ue,13:He,17:Ve,18:Re,19:de,20:X}),{4:_e,5:ce,6:Te,8:be,11:Ue,13:He,16:89,17:Ve,18:Re,19:de,20:X,22:105},t(ne,[2,26]),t(l,[2,50],{10:oe}),t(me,[2,28],{16:103,4:_e,5:ce,6:Te,8:be,11:Ue,13:He,17:Ve,18:Re,19:de,20:X})],defaultActions:{8:[2,30],9:[2,31]},parseError:b(function(Ee,Ce){if(Ce.recoverable)this.trace(Ee);else{var Ne=new Error(Ee);throw Ne.hash=Ce,Ne}},"parseError"),parse:b(function(Ee){var Ce=this,Ne=[0],Se=[],Ie=[null],Ae=[],qe=this.table,De="",Xe=0,at=0,dt=2,ut=1,kt=Ae.slice.call(arguments,1),je=Object.create(this.lexer),Ye={yy:{}};for(var gt in this.yy)Object.prototype.hasOwnProperty.call(this.yy,gt)&&(Ye.yy[gt]=this.yy[gt]);je.setInput(Ee,Ye.yy),Ye.yy.lexer=je,Ye.yy.parser=this,typeof je.yylloc>"u"&&(je.yylloc={});var We=je.yylloc;Ae.push(We);var tt=je.options&&je.options.ranges;typeof Ye.yy.parseError=="function"?this.parseError=Ye.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function Ft(pr){Ne.length=Ne.length-2*pr,Ie.length=Ie.length-pr,Ae.length=Ae.length-pr}b(Ft,"popStack");function rt(){var pr;return pr=Se.pop()||je.lex()||ut,typeof pr!="number"&&(pr instanceof Array&&(Se=pr,pr=Se.pop()),pr=Ce.symbols_[pr]||pr),pr}b(rt,"lex");for(var Ge,ct,Dt,Vt,tr={},Nr,ur,Pn,Hr;;){if(ct=Ne[Ne.length-1],this.defaultActions[ct]?Dt=this.defaultActions[ct]:((Ge===null||typeof Ge>"u")&&(Ge=rt()),Dt=qe[ct]&&qe[ct][Ge]),typeof Dt>"u"||!Dt.length||!Dt[0]){var an="";Hr=[];for(Nr in qe[ct])this.terminals_[Nr]&&Nr>dt&&Hr.push("'"+this.terminals_[Nr]+"'");je.showPosition?an="Parse error on line "+(Xe+1)+`:
`+je.showPosition()+`
Expecting `+Hr.join(", ")+", got '"+(this.terminals_[Ge]||Ge)+"'":an="Parse error on line "+(Xe+1)+": Unexpected "+(Ge==ut?"end of input":"'"+(this.terminals_[Ge]||Ge)+"'"),this.parseError(an,{text:je.match,token:this.terminals_[Ge]||Ge,line:je.yylineno,loc:We,expected:Hr})}if(Dt[0]instanceof Array&&Dt.length>1)throw new Error("Parse Error: multiple actions possible at state: "+ct+", token: "+Ge);switch(Dt[0]){case 1:Ne.push(Ge),Ie.push(je.yytext),Ae.push(je.yylloc),Ne.push(Dt[1]),Ge=null,at=je.yyleng,De=je.yytext,Xe=je.yylineno,We=je.yylloc;break;case 2:if(ur=this.productions_[Dt[1]][1],tr.$=Ie[Ie.length-ur],tr._$={first_line:Ae[Ae.length-(ur||1)].first_line,last_line:Ae[Ae.length-1].last_line,first_column:Ae[Ae.length-(ur||1)].first_column,last_column:Ae[Ae.length-1].last_column},tt&&(tr._$.range=[Ae[Ae.length-(ur||1)].range[0],Ae[Ae.length-1].range[1]]),Vt=this.performAction.apply(tr,[De,at,Xe,Ye.yy,Dt[1],Ie,Ae].concat(kt)),typeof Vt<"u")return Vt;ur&&(Ne=Ne.slice(0,-1*ur*2),Ie=Ie.slice(0,-1*ur),Ae=Ae.slice(0,-1*ur)),Ne.push(this.productions_[Dt[1]][0]),Ie.push(tr.$),Ae.push(tr._$),Pn=qe[Ne[Ne.length-2]][Ne[Ne.length-1]],Ne.push(Pn);break;case 3:return!0}}return!0},"parse")},pe=function(){var ve={EOF:1,parseError:b(function(Ce,Ne){if(this.yy.parser)this.yy.parser.parseError(Ce,Ne);else throw new Error(Ce)},"parseError"),setInput:b(function(Ee,Ce){return this.yy=Ce||this.yy||{},this._input=Ee,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},"setInput"),input:b(function(){var Ee=this._input[0];this.yytext+=Ee,this.yyleng++,this.offset++,this.match+=Ee,this.matched+=Ee;var Ce=Ee.match(/(?:\r\n?|\n).*/g);return Ce?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),Ee},"input"),unput:b(function(Ee){var Ce=Ee.length,Ne=Ee.split(/(?:\r\n?|\n)/g);this._input=Ee+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-Ce),this.offset-=Ce;var Se=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),Ne.length-1&&(this.yylineno-=Ne.length-1);var Ie=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:Ne?(Ne.length===Se.length?this.yylloc.first_column:0)+Se[Se.length-Ne.length].length-Ne[0].length:this.yylloc.first_column-Ce},this.options.ranges&&(this.yylloc.range=[Ie[0],Ie[0]+this.yyleng-Ce]),this.yyleng=this.yytext.length,this},"unput"),more:b(function(){return this._more=!0,this},"more"),reject:b(function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},"reject"),less:b(function(Ee){this.unput(this.match.slice(Ee))},"less"),pastInput:b(function(){var Ee=this.matched.substr(0,this.matched.length-this.match.length);return(Ee.length>20?"...":"")+Ee.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:b(function(){var Ee=this.match;return Ee.length<20&&(Ee+=this._input.substr(0,20-Ee.length)),(Ee.substr(0,20)+(Ee.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:b(function(){var Ee=this.pastInput(),Ce=new Array(Ee.length+1).join("-");return Ee+this.upcomingInput()+`
`+Ce+"^"},"showPosition"),test_match:b(function(Ee,Ce){var Ne,Se,Ie;if(this.options.backtrack_lexer&&(Ie={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(Ie.yylloc.range=this.yylloc.range.slice(0))),Se=Ee[0].match(/(?:\r\n?|\n).*/g),Se&&(this.yylineno+=Se.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:Se?Se[Se.length-1].length-Se[Se.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+Ee[0].length},this.yytext+=Ee[0],this.match+=Ee[0],this.matches=Ee,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(Ee[0].length),this.matched+=Ee[0],Ne=this.performAction.call(this,this.yy,this,Ce,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),Ne)return Ne;if(this._backtrack){for(var Ae in Ie)this[Ae]=Ie[Ae];return!1}return!1},"test_match"),next:b(function(){if(this.done)return this.EOF;this._input||(this.done=!0);var Ee,Ce,Ne,Se;this._more||(this.yytext="",this.match="");for(var Ie=this._currentRules(),Ae=0;Ae<Ie.length;Ae++)if(Ne=this._input.match(this.rules[Ie[Ae]]),Ne&&(!Ce||Ne[0].length>Ce[0].length)){if(Ce=Ne,Se=Ae,this.options.backtrack_lexer){if(Ee=this.test_match(Ne,Ie[Ae]),Ee!==!1)return Ee;if(this._backtrack){Ce=!1;continue}else return!1}else if(!this.options.flex)break}return Ce?(Ee=this.test_match(Ce,Ie[Se]),Ee!==!1?Ee:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:b(function(){var Ce=this.next();return Ce||this.lex()},"lex"),begin:b(function(Ce){this.conditionStack.push(Ce)},"begin"),popState:b(function(){var Ce=this.conditionStack.length-1;return Ce>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:b(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:b(function(Ce){return Ce=this.conditionStack.length-1-Math.abs(Ce||0),Ce>=0?this.conditionStack[Ce]:"INITIAL"},"topState"),pushState:b(function(Ce){this.begin(Ce)},"pushState"),stateStackSize:b(function(){return this.conditionStack.length},"stateStackSize"),options:{"case-insensitive":!0},performAction:b(function(Ce,Ne,Se,Ie){switch(Se){case 0:break;case 1:break;case 2:return 55;case 3:break;case 4:return this.begin("title"),35;case 5:return this.popState(),"title_value";case 6:return this.begin("acc_title"),37;case 7:return this.popState(),"acc_title_value";case 8:return this.begin("acc_descr"),39;case 9:return this.popState(),"acc_descr_value";case 10:this.begin("acc_descr_multiline");break;case 11:this.popState();break;case 12:return"acc_descr_multiline_value";case 13:return 48;case 14:return 50;case 15:return 49;case 16:return 51;case 17:return 52;case 18:return 53;case 19:return 54;case 20:return 25;case 21:this.begin("md_string");break;case 22:return"MD_STR";case 23:this.popState();break;case 24:this.begin("string");break;case 25:this.popState();break;case 26:return"STR";case 27:this.begin("class_name");break;case 28:return this.popState(),47;case 29:return this.begin("point_start"),44;case 30:return this.begin("point_x"),45;case 31:this.popState();break;case 32:this.popState(),this.begin("point_y");break;case 33:return this.popState(),46;case 34:return 28;case 35:return 4;case 36:return 11;case 37:return 64;case 38:return 10;case 39:return 65;case 40:return 65;case 41:return 14;case 42:return 13;case 43:return 67;case 44:return 66;case 45:return 12;case 46:return 8;case 47:return 5;case 48:return 18;case 49:return 56;case 50:return 63;case 51:return 57}},"anonymous"),rules:[/^(?:%%(?!\{)[^\n]*)/i,/^(?:[^\}]%%[^\n]*)/i,/^(?:[\n\r]+)/i,/^(?:%%[^\n]*)/i,/^(?:title\b)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?: *x-axis *)/i,/^(?: *y-axis *)/i,/^(?: *--+> *)/i,/^(?: *quadrant-1 *)/i,/^(?: *quadrant-2 *)/i,/^(?: *quadrant-3 *)/i,/^(?: *quadrant-4 *)/i,/^(?:classDef\b)/i,/^(?:["][`])/i,/^(?:[^`"]+)/i,/^(?:[`]["])/i,/^(?:["])/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?::::)/i,/^(?:^\w+)/i,/^(?:\s*:\s*\[\s*)/i,/^(?:(1)|(0(.\d+)?))/i,/^(?:\s*\] *)/i,/^(?:\s*,\s*)/i,/^(?:(1)|(0(.\d+)?))/i,/^(?: *quadrantChart *)/i,/^(?:[A-Za-z]+)/i,/^(?::)/i,/^(?:\+)/i,/^(?:,)/i,/^(?:=)/i,/^(?:=)/i,/^(?:\*)/i,/^(?:#)/i,/^(?:[\_])/i,/^(?:\.)/i,/^(?:&)/i,/^(?:-)/i,/^(?:[0-9]+)/i,/^(?:\s)/i,/^(?:;)/i,/^(?:[!"#$%&'*+,-.`?\\_/])/i,/^(?:$)/i],conditions:{class_name:{rules:[28],inclusive:!1},point_y:{rules:[33],inclusive:!1},point_x:{rules:[32],inclusive:!1},point_start:{rules:[30,31],inclusive:!1},acc_descr_multiline:{rules:[11,12],inclusive:!1},acc_descr:{rules:[9],inclusive:!1},acc_title:{rules:[7],inclusive:!1},title:{rules:[5],inclusive:!1},md_string:{rules:[22,23],inclusive:!1},string:{rules:[25,26],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,6,8,10,13,14,15,16,17,18,19,20,21,24,27,29,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51],inclusive:!0}}};return ve}();ue.lexer=pe;function ge(){this.yy={}}return b(ge,"Parser"),ge.prototype=ue,ue.Parser=ge,new ge}();WC.parser=WC;var R$e=WC,Ca=OA(),lp,M$e=(lp=class{constructor(){this.classes=new Map,this.config=this.getDefaultConfig(),this.themeConfig=this.getDefaultThemeConfig(),this.data=this.getDefaultData()}getDefaultData(){return{titleText:"",quadrant1Text:"",quadrant2Text:"",quadrant3Text:"",quadrant4Text:"",xAxisLeftText:"",xAxisRightText:"",yAxisBottomText:"",yAxisTopText:"",points:[]}}getDefaultConfig(){var e,r,n,i,a,s,o,l,u,h,d,p,f,g,m,y,v,x;return{showXAxis:!0,showYAxis:!0,showTitle:!0,chartHeight:((e=Ur.quadrantChart)==null?void 0:e.chartWidth)||500,chartWidth:((r=Ur.quadrantChart)==null?void 0:r.chartHeight)||500,titlePadding:((n=Ur.quadrantChart)==null?void 0:n.titlePadding)||10,titleFontSize:((i=Ur.quadrantChart)==null?void 0:i.titleFontSize)||20,quadrantPadding:((a=Ur.quadrantChart)==null?void 0:a.quadrantPadding)||5,xAxisLabelPadding:((s=Ur.quadrantChart)==null?void 0:s.xAxisLabelPadding)||5,yAxisLabelPadding:((o=Ur.quadrantChart)==null?void 0:o.yAxisLabelPadding)||5,xAxisLabelFontSize:((l=Ur.quadrantChart)==null?void 0:l.xAxisLabelFontSize)||16,yAxisLabelFontSize:((u=Ur.quadrantChart)==null?void 0:u.yAxisLabelFontSize)||16,quadrantLabelFontSize:((h=Ur.quadrantChart)==null?void 0:h.quadrantLabelFontSize)||16,quadrantTextTopPadding:((d=Ur.quadrantChart)==null?void 0:d.quadrantTextTopPadding)||5,pointTextPadding:((p=Ur.quadrantChart)==null?void 0:p.pointTextPadding)||5,pointLabelFontSize:((f=Ur.quadrantChart)==null?void 0:f.pointLabelFontSize)||12,pointRadius:((g=Ur.quadrantChart)==null?void 0:g.pointRadius)||5,xAxisPosition:((m=Ur.quadrantChart)==null?void 0:m.xAxisPosition)||"top",yAxisPosition:((y=Ur.quadrantChart)==null?void 0:y.yAxisPosition)||"left",quadrantInternalBorderStrokeWidth:((v=Ur.quadrantChart)==null?void 0:v.quadrantInternalBorderStrokeWidth)||1,quadrantExternalBorderStrokeWidth:((x=Ur.quadrantChart)==null?void 0:x.quadrantExternalBorderStrokeWidth)||2}}getDefaultThemeConfig(){return{quadrant1Fill:Ca.quadrant1Fill,quadrant2Fill:Ca.quadrant2Fill,quadrant3Fill:Ca.quadrant3Fill,quadrant4Fill:Ca.quadrant4Fill,quadrant1TextFill:Ca.quadrant1TextFill,quadrant2TextFill:Ca.quadrant2TextFill,quadrant3TextFill:Ca.quadrant3TextFill,quadrant4TextFill:Ca.quadrant4TextFill,quadrantPointFill:Ca.quadrantPointFill,quadrantPointTextFill:Ca.quadrantPointTextFill,quadrantXAxisTextFill:Ca.quadrantXAxisTextFill,quadrantYAxisTextFill:Ca.quadrantYAxisTextFill,quadrantTitleFill:Ca.quadrantTitleFill,quadrantInternalBorderStrokeFill:Ca.quadrantInternalBorderStrokeFill,quadrantExternalBorderStrokeFill:Ca.quadrantExternalBorderStrokeFill}}clear(){this.config=this.getDefaultConfig(),this.themeConfig=this.getDefaultThemeConfig(),this.data=this.getDefaultData(),this.classes=new Map,q.info("clear called")}setData(e){this.data={...this.data,...e}}addPoints(e){this.data.points=[...e,...this.data.points]}addClass(e,r){this.classes.set(e,r)}setConfig(e){q.trace("setConfig called with: ",e),this.config={...this.config,...e}}setThemeConfig(e){q.trace("setThemeConfig called with: ",e),this.themeConfig={...this.themeConfig,...e}}calculateSpace(e,r,n,i){const a=this.config.xAxisLabelPadding*2+this.config.xAxisLabelFontSize,s={top:e==="top"&&r?a:0,bottom:e==="bottom"&&r?a:0},o=this.config.yAxisLabelPadding*2+this.config.yAxisLabelFontSize,l={left:this.config.yAxisPosition==="left"&&n?o:0,right:this.config.yAxisPosition==="right"&&n?o:0},u=this.config.titleFontSize+this.config.titlePadding*2,h={top:i?u:0},d=this.config.quadrantPadding+l.left,p=this.config.quadrantPadding+s.top+h.top,f=this.config.chartWidth-this.config.quadrantPadding*2-l.left-l.right,g=this.config.chartHeight-this.config.quadrantPadding*2-s.top-s.bottom-h.top,m=f/2,y=g/2;return{xAxisSpace:s,yAxisSpace:l,titleSpace:h,quadrantSpace:{quadrantLeft:d,quadrantTop:p,quadrantWidth:f,quadrantHalfWidth:m,quadrantHeight:g,quadrantHalfHeight:y}}}getAxisLabels(e,r,n,i){const{quadrantSpace:a,titleSpace:s}=i,{quadrantHalfHeight:o,quadrantHeight:l,quadrantLeft:u,quadrantHalfWidth:h,quadrantTop:d,quadrantWidth:p}=a,f=!!this.data.xAxisRightText,g=!!this.data.yAxisTopText,m=[];return this.data.xAxisLeftText&&r&&m.push({text:this.data.xAxisLeftText,fill:this.themeConfig.quadrantXAxisTextFill,x:u+(f?h/2:0),y:e==="top"?this.config.xAxisLabelPadding+s.top:this.config.xAxisLabelPadding+d+l+this.config.quadrantPadding,fontSize:this.config.xAxisLabelFontSize,verticalPos:f?"center":"left",horizontalPos:"top",rotation:0}),this.data.xAxisRightText&&r&&m.push({text:this.data.xAxisRightText,fill:this.themeConfig.quadrantXAxisTextFill,x:u+h+(f?h/2:0),y:e==="top"?this.config.xAxisLabelPadding+s.top:this.config.xAxisLabelPadding+d+l+this.config.quadrantPadding,fontSize:this.config.xAxisLabelFontSize,verticalPos:f?"center":"left",horizontalPos:"top",rotation:0}),this.data.yAxisBottomText&&n&&m.push({text:this.data.yAxisBottomText,fill:this.themeConfig.quadrantYAxisTextFill,x:this.config.yAxisPosition==="left"?this.config.yAxisLabelPadding:this.config.yAxisLabelPadding+u+p+this.config.quadrantPadding,y:d+l-(g?o/2:0),fontSize:this.config.yAxisLabelFontSize,verticalPos:g?"center":"left",horizontalPos:"top",rotation:-90}),this.data.yAxisTopText&&n&&m.push({text:this.data.yAxisTopText,fill:this.themeConfig.quadrantYAxisTextFill,x:this.config.yAxisPosition==="left"?this.config.yAxisLabelPadding:this.config.yAxisLabelPadding+u+p+this.config.quadrantPadding,y:d+o-(g?o/2:0),fontSize:this.config.yAxisLabelFontSize,verticalPos:g?"center":"left",horizontalPos:"top",rotation:-90}),m}getQuadrants(e){const{quadrantSpace:r}=e,{quadrantHalfHeight:n,quadrantLeft:i,quadrantHalfWidth:a,quadrantTop:s}=r,o=[{text:{text:this.data.quadrant1Text,fill:this.themeConfig.quadrant1TextFill,x:0,y:0,fontSize:this.config.quadrantLabelFontSize,verticalPos:"center",horizontalPos:"middle",rotation:0},x:i+a,y:s,width:a,height:n,fill:this.themeConfig.quadrant1Fill},{text:{text:this.data.quadrant2Text,fill:this.themeConfig.quadrant2TextFill,x:0,y:0,fontSize:this.config.quadrantLabelFontSize,verticalPos:"center",horizontalPos:"middle",rotation:0},x:i,y:s,width:a,height:n,fill:this.themeConfig.quadrant2Fill},{text:{text:this.data.quadrant3Text,fill:this.themeConfig.quadrant3TextFill,x:0,y:0,fontSize:this.config.quadrantLabelFontSize,verticalPos:"center",horizontalPos:"middle",rotation:0},x:i,y:s+n,width:a,height:n,fill:this.themeConfig.quadrant3Fill},{text:{text:this.data.quadrant4Text,fill:this.themeConfig.quadrant4TextFill,x:0,y:0,fontSize:this.config.quadrantLabelFontSize,verticalPos:"center",horizontalPos:"middle",rotation:0},x:i+a,y:s+n,width:a,height:n,fill:this.themeConfig.quadrant4Fill}];for(const l of o)l.text.x=l.x+l.width/2,this.data.points.length===0?(l.text.y=l.y+l.height/2,l.text.horizontalPos="middle"):(l.text.y=l.y+this.config.quadrantTextTopPadding,l.text.horizontalPos="top");return o}getQuadrantPoints(e){const{quadrantSpace:r}=e,{quadrantHeight:n,quadrantLeft:i,quadrantTop:a,quadrantWidth:s}=r,o=$p().domain([0,1]).range([i,s+i]),l=$p().domain([0,1]).range([n+a,a]);return this.data.points.map(h=>{const d=this.classes.get(h.className);return d&&(h={...d,...h}),{x:o(h.x),y:l(h.y),fill:h.color??this.themeConfig.quadrantPointFill,radius:h.radius??this.config.pointRadius,text:{text:h.text,fill:this.themeConfig.quadrantPointTextFill,x:o(h.x),y:l(h.y)+this.config.pointTextPadding,verticalPos:"center",horizontalPos:"top",fontSize:this.config.pointLabelFontSize,rotation:0},strokeColor:h.strokeColor??this.themeConfig.quadrantPointFill,strokeWidth:h.strokeWidth??"0px"}})}getBorders(e){const r=this.config.quadrantExternalBorderStrokeWidth/2,{quadrantSpace:n}=e,{quadrantHalfHeight:i,quadrantHeight:a,quadrantLeft:s,quadrantHalfWidth:o,quadrantTop:l,quadrantWidth:u}=n;return[{strokeFill:this.themeConfig.quadrantExternalBorderStrokeFill,strokeWidth:this.config.quadrantExternalBorderStrokeWidth,x1:s-r,y1:l,x2:s+u+r,y2:l},{strokeFill:this.themeConfig.quadrantExternalBorderStrokeFill,strokeWidth:this.config.quadrantExternalBorderStrokeWidth,x1:s+u,y1:l+r,x2:s+u,y2:l+a-r},{strokeFill:this.themeConfig.quadrantExternalBorderStrokeFill,strokeWidth:this.config.quadrantExternalBorderStrokeWidth,x1:s-r,y1:l+a,x2:s+u+r,y2:l+a},{strokeFill:this.themeConfig.quadrantExternalBorderStrokeFill,strokeWidth:this.config.quadrantExternalBorderStrokeWidth,x1:s,y1:l+r,x2:s,y2:l+a-r},{strokeFill:this.themeConfig.quadrantInternalBorderStrokeFill,strokeWidth:this.config.quadrantInternalBorderStrokeWidth,x1:s+o,y1:l+r,x2:s+o,y2:l+a-r},{strokeFill:this.themeConfig.quadrantInternalBorderStrokeFill,strokeWidth:this.config.quadrantInternalBorderStrokeWidth,x1:s+r,y1:l+i,x2:s+u-r,y2:l+i}]}getTitle(e){if(e)return{text:this.data.titleText,fill:this.themeConfig.quadrantTitleFill,fontSize:this.config.titleFontSize,horizontalPos:"top",verticalPos:"center",rotation:0,y:this.config.titlePadding,x:this.config.chartWidth/2}}build(){const e=this.config.showXAxis&&!!(this.data.xAxisLeftText||this.data.xAxisRightText),r=this.config.showYAxis&&!!(this.data.yAxisTopText||this.data.yAxisBottomText),n=this.config.showTitle&&!!this.data.titleText,i=this.data.points.length>0?"bottom":this.config.xAxisPosition,a=this.calculateSpace(i,e,r,n);return{points:this.getQuadrantPoints(a),quadrants:this.getQuadrants(a),axisLabels:this.getAxisLabels(i,e,r,a),borderLines:this.getBorders(a),title:this.getTitle(n)}}},b(lp,"QuadrantBuilder"),lp),cp,kx=(cp=class extends Error{constructor(e,r,n){super(`value for ${e} ${r} is invalid, please use a valid ${n}`),this.name="InvalidStyleError"}},b(cp,"InvalidStyleError"),cp);function YC(t){return!/^#?([\dA-Fa-f]{6}|[\dA-Fa-f]{3})$/.test(t)}b(YC,"validateHexCode");function vre(t){return!/^\d+$/.test(t)}b(vre,"validateNumber");function yre(t){return!/^\d+px$/.test(t)}b(yre,"validateSizeInPixels");var I$e=we();function Gl(t){return Wn(t.trim(),I$e)}b(Gl,"textSanitizer");var Hi=new M$e;function xre(t){Hi.setData({quadrant1Text:Gl(t.text)})}b(xre,"setQuadrant1Text");function bre(t){Hi.setData({quadrant2Text:Gl(t.text)})}b(bre,"setQuadrant2Text");function wre(t){Hi.setData({quadrant3Text:Gl(t.text)})}b(wre,"setQuadrant3Text");function kre(t){Hi.setData({quadrant4Text:Gl(t.text)})}b(kre,"setQuadrant4Text");function Tre(t){Hi.setData({xAxisLeftText:Gl(t.text)})}b(Tre,"setXAxisLeftText");function Ere(t){Hi.setData({xAxisRightText:Gl(t.text)})}b(Ere,"setXAxisRightText");function Sre(t){Hi.setData({yAxisTopText:Gl(t.text)})}b(Sre,"setYAxisTopText");function Cre(t){Hi.setData({yAxisBottomText:Gl(t.text)})}b(Cre,"setYAxisBottomText");function g6(t){const e={};for(const r of t){const[n,i]=r.trim().split(/\s*:\s*/);if(n==="radius"){if(vre(i))throw new kx(n,i,"number");e.radius=parseInt(i)}else if(n==="color"){if(YC(i))throw new kx(n,i,"hex code");e.color=i}else if(n==="stroke-color"){if(YC(i))throw new kx(n,i,"hex code");e.strokeColor=i}else if(n==="stroke-width"){if(yre(i))throw new kx(n,i,"number of pixels (eg. 10px)");e.strokeWidth=i}else throw new Error(`style named ${n} is not supported.`)}return e}b(g6,"parseStyles");function Are(t,e,r,n,i){const a=g6(i);Hi.addPoints([{x:r,y:n,text:Gl(t.text),className:e,...a}])}b(Are,"addPoint");function _re(t,e){Hi.addClass(t,g6(e))}b(_re,"addClass");function Lre(t){Hi.setConfig({chartWidth:t})}b(Lre,"setWidth");function Nre(t){Hi.setConfig({chartHeight:t})}b(Nre,"setHeight");function Rre(){const t=we(),{themeVariables:e,quadrantChart:r}=t;return r&&Hi.setConfig(r),Hi.setThemeConfig({quadrant1Fill:e.quadrant1Fill,quadrant2Fill:e.quadrant2Fill,quadrant3Fill:e.quadrant3Fill,quadrant4Fill:e.quadrant4Fill,quadrant1TextFill:e.quadrant1TextFill,quadrant2TextFill:e.quadrant2TextFill,quadrant3TextFill:e.quadrant3TextFill,quadrant4TextFill:e.quadrant4TextFill,quadrantPointFill:e.quadrantPointFill,quadrantPointTextFill:e.quadrantPointTextFill,quadrantXAxisTextFill:e.quadrantXAxisTextFill,quadrantYAxisTextFill:e.quadrantYAxisTextFill,quadrantExternalBorderStrokeFill:e.quadrantExternalBorderStrokeFill,quadrantInternalBorderStrokeFill:e.quadrantInternalBorderStrokeFill,quadrantTitleFill:e.quadrantTitleFill}),Hi.setData({titleText:ea()}),Hi.build()}b(Rre,"getQuadrantData");var D$e=b(function(){Hi.clear(),Ni()},"clear"),O$e={setWidth:Lre,setHeight:Nre,setQuadrant1Text:xre,setQuadrant2Text:bre,setQuadrant3Text:wre,setQuadrant4Text:kre,setXAxisLeftText:Tre,setXAxisRightText:Ere,setYAxisTopText:Sre,setYAxisBottomText:Cre,parseStyles:g6,addPoint:Are,addClass:_re,getQuadrantData:Rre,clear:D$e,setAccTitle:Ri,getAccTitle:Qi,setDiagramTitle:za,getDiagramTitle:ea,getAccDescription:Ji,setAccDescription:Zi},P$e=b((t,e,r,n)=>{var R,C,L;function i(A){return A==="top"?"hanging":"middle"}b(i,"getDominantBaseLine");function a(A){return A==="left"?"start":"middle"}b(a,"getTextAnchor");function s(A){return`translate(${A.x}, ${A.y}) rotate(${A.rotation||0})`}b(s,"getTransformation");const o=we();q.debug(`Rendering quadrant chart
`+t);const l=o.securityLevel;let u;l==="sandbox"&&(u=Ke("#i"+e));const d=Ke(l==="sandbox"?u.nodes()[0].contentDocument.body:"body").select(`[id="${e}"]`),p=d.append("g").attr("class","main"),f=((R=o.quadrantChart)==null?void 0:R.chartWidth)??500,g=((C=o.quadrantChart)==null?void 0:C.chartHeight)??500;Ki(d,g,f,((L=o.quadrantChart)==null?void 0:L.useMaxWidth)??!0),d.attr("viewBox","0 0 "+f+" "+g),n.db.setHeight(g),n.db.setWidth(f);const m=n.db.getQuadrantData(),y=p.append("g").attr("class","quadrants"),v=p.append("g").attr("class","border"),x=p.append("g").attr("class","data-points"),w=p.append("g").attr("class","labels"),k=p.append("g").attr("class","title");m.title&&k.append("text").attr("x",0).attr("y",0).attr("fill",m.title.fill).attr("font-size",m.title.fontSize).attr("dominant-baseline",i(m.title.horizontalPos)).attr("text-anchor",a(m.title.verticalPos)).attr("transform",s(m.title)).text(m.title.text),m.borderLines&&v.selectAll("line").data(m.borderLines).enter().append("line").attr("x1",A=>A.x1).attr("y1",A=>A.y1).attr("x2",A=>A.x2).attr("y2",A=>A.y2).style("stroke",A=>A.strokeFill).style("stroke-width",A=>A.strokeWidth);const E=y.selectAll("g.quadrant").data(m.quadrants).enter().append("g").attr("class","quadrant");E.append("rect").attr("x",A=>A.x).attr("y",A=>A.y).attr("width",A=>A.width).attr("height",A=>A.height).attr("fill",A=>A.fill),E.append("text").attr("x",0).attr("y",0).attr("fill",A=>A.text.fill).attr("font-size",A=>A.text.fontSize).attr("dominant-baseline",A=>i(A.text.horizontalPos)).attr("text-anchor",A=>a(A.text.verticalPos)).attr("transform",A=>s(A.text)).text(A=>A.text.text),w.selectAll("g.label").data(m.axisLabels).enter().append("g").attr("class","label").append("text").attr("x",0).attr("y",0).text(A=>A.text).attr("fill",A=>A.fill).attr("font-size",A=>A.fontSize).attr("dominant-baseline",A=>i(A.horizontalPos)).attr("text-anchor",A=>a(A.verticalPos)).attr("transform",A=>s(A));const S=x.selectAll("g.data-point").data(m.points).enter().append("g").attr("class","data-point");S.append("circle").attr("cx",A=>A.x).attr("cy",A=>A.y).attr("r",A=>A.radius).attr("fill",A=>A.fill).attr("stroke",A=>A.strokeColor).attr("stroke-width",A=>A.strokeWidth),S.append("text").attr("x",0).attr("y",0).text(A=>A.text.text).attr("fill",A=>A.text.fill).attr("font-size",A=>A.text.fontSize).attr("dominant-baseline",A=>i(A.text.horizontalPos)).attr("text-anchor",A=>a(A.text.verticalPos)).attr("transform",A=>s(A.text))},"draw"),F$e={draw:P$e},B$e={parser:R$e,db:O$e,renderer:F$e,styles:b(()=>"","styles")};const $$e=Object.freeze(Object.defineProperty({__proto__:null,diagram:B$e},Symbol.toStringTag,{value:"Module"}));var qC=function(){var t=b(function(D,M,O,I){for(O=O||{},I=D.length;I--;O[D[I]]=M);return O},"o"),e=[1,10,12,14,16,18,19,21,23],r=[2,6],n=[1,3],i=[1,5],a=[1,6],s=[1,7],o=[1,5,10,12,14,16,18,19,21,23,34,35,36],l=[1,25],u=[1,26],h=[1,28],d=[1,29],p=[1,30],f=[1,31],g=[1,32],m=[1,33],y=[1,34],v=[1,35],x=[1,36],w=[1,37],k=[1,43],E=[1,42],_=[1,47],S=[1,50],R=[1,10,12,14,16,18,19,21,23,34,35,36],C=[1,10,12,14,16,18,19,21,23,24,26,27,28,34,35,36],L=[1,10,12,14,16,18,19,21,23,24,26,27,28,34,35,36,41,42,43,44,45,46,47,48,49,50],A=[1,64],N={trace:b(function(){},"trace"),yy:{},symbols_:{error:2,start:3,eol:4,XYCHART:5,chartConfig:6,document:7,CHART_ORIENTATION:8,statement:9,title:10,text:11,X_AXIS:12,parseXAxis:13,Y_AXIS:14,parseYAxis:15,LINE:16,plotData:17,BAR:18,acc_title:19,acc_title_value:20,acc_descr:21,acc_descr_value:22,acc_descr_multiline_value:23,SQUARE_BRACES_START:24,commaSeparatedNumbers:25,SQUARE_BRACES_END:26,NUMBER_WITH_DECIMAL:27,COMMA:28,xAxisData:29,bandData:30,ARROW_DELIMITER:31,commaSeparatedTexts:32,yAxisData:33,NEWLINE:34,SEMI:35,EOF:36,alphaNum:37,STR:38,MD_STR:39,alphaNumToken:40,AMP:41,NUM:42,ALPHA:43,PLUS:44,EQUALS:45,MULT:46,DOT:47,BRKT:48,MINUS:49,UNDERSCORE:50,$accept:0,$end:1},terminals_:{2:"error",5:"XYCHART",8:"CHART_ORIENTATION",10:"title",12:"X_AXIS",14:"Y_AXIS",16:"LINE",18:"BAR",19:"acc_title",20:"acc_title_value",21:"acc_descr",22:"acc_descr_value",23:"acc_descr_multiline_value",24:"SQUARE_BRACES_START",26:"SQUARE_BRACES_END",27:"NUMBER_WITH_DECIMAL",28:"COMMA",31:"ARROW_DELIMITER",34:"NEWLINE",35:"SEMI",36:"EOF",38:"STR",39:"MD_STR",41:"AMP",42:"NUM",43:"ALPHA",44:"PLUS",45:"EQUALS",46:"MULT",47:"DOT",48:"BRKT",49:"MINUS",50:"UNDERSCORE"},productions_:[0,[3,2],[3,3],[3,2],[3,1],[6,1],[7,0],[7,2],[9,2],[9,2],[9,2],[9,2],[9,2],[9,3],[9,2],[9,3],[9,2],[9,2],[9,1],[17,3],[25,3],[25,1],[13,1],[13,2],[13,1],[29,1],[29,3],[30,3],[32,3],[32,1],[15,1],[15,2],[15,1],[33,3],[4,1],[4,1],[4,1],[11,1],[11,1],[11,1],[37,1],[37,2],[40,1],[40,1],[40,1],[40,1],[40,1],[40,1],[40,1],[40,1],[40,1],[40,1]],performAction:b(function(M,O,I,P,B,$,V){var W=$.length-1;switch(B){case 5:P.setOrientation($[W]);break;case 9:P.setDiagramTitle($[W].text.trim());break;case 12:P.setLineData({text:"",type:"text"},$[W]);break;case 13:P.setLineData($[W-1],$[W]);break;case 14:P.setBarData({text:"",type:"text"},$[W]);break;case 15:P.setBarData($[W-1],$[W]);break;case 16:this.$=$[W].trim(),P.setAccTitle(this.$);break;case 17:case 18:this.$=$[W].trim(),P.setAccDescription(this.$);break;case 19:this.$=$[W-1];break;case 20:this.$=[Number($[W-2]),...$[W]];break;case 21:this.$=[Number($[W])];break;case 22:P.setXAxisTitle($[W]);break;case 23:P.setXAxisTitle($[W-1]);break;case 24:P.setXAxisTitle({type:"text",text:""});break;case 25:P.setXAxisBand($[W]);break;case 26:P.setXAxisRangeData(Number($[W-2]),Number($[W]));break;case 27:this.$=$[W-1];break;case 28:this.$=[$[W-2],...$[W]];break;case 29:this.$=[$[W]];break;case 30:P.setYAxisTitle($[W]);break;case 31:P.setYAxisTitle($[W-1]);break;case 32:P.setYAxisTitle({type:"text",text:""});break;case 33:P.setYAxisRangeData(Number($[W-2]),Number($[W]));break;case 37:this.$={text:$[W],type:"text"};break;case 38:this.$={text:$[W],type:"text"};break;case 39:this.$={text:$[W],type:"markdown"};break;case 40:this.$=$[W];break;case 41:this.$=$[W-1]+""+$[W];break}},"anonymous"),table:[t(e,r,{3:1,4:2,7:4,5:n,34:i,35:a,36:s}),{1:[3]},t(e,r,{4:2,7:4,3:8,5:n,34:i,35:a,36:s}),t(e,r,{4:2,7:4,6:9,3:10,5:n,8:[1,11],34:i,35:a,36:s}),{1:[2,4],9:12,10:[1,13],12:[1,14],14:[1,15],16:[1,16],18:[1,17],19:[1,18],21:[1,19],23:[1,20]},t(o,[2,34]),t(o,[2,35]),t(o,[2,36]),{1:[2,1]},t(e,r,{4:2,7:4,3:21,5:n,34:i,35:a,36:s}),{1:[2,3]},t(o,[2,5]),t(e,[2,7],{4:22,34:i,35:a,36:s}),{11:23,37:24,38:l,39:u,40:27,41:h,42:d,43:p,44:f,45:g,46:m,47:y,48:v,49:x,50:w},{11:39,13:38,24:k,27:E,29:40,30:41,37:24,38:l,39:u,40:27,41:h,42:d,43:p,44:f,45:g,46:m,47:y,48:v,49:x,50:w},{11:45,15:44,27:_,33:46,37:24,38:l,39:u,40:27,41:h,42:d,43:p,44:f,45:g,46:m,47:y,48:v,49:x,50:w},{11:49,17:48,24:S,37:24,38:l,39:u,40:27,41:h,42:d,43:p,44:f,45:g,46:m,47:y,48:v,49:x,50:w},{11:52,17:51,24:S,37:24,38:l,39:u,40:27,41:h,42:d,43:p,44:f,45:g,46:m,47:y,48:v,49:x,50:w},{20:[1,53]},{22:[1,54]},t(R,[2,18]),{1:[2,2]},t(R,[2,8]),t(R,[2,9]),t(C,[2,37],{40:55,41:h,42:d,43:p,44:f,45:g,46:m,47:y,48:v,49:x,50:w}),t(C,[2,38]),t(C,[2,39]),t(L,[2,40]),t(L,[2,42]),t(L,[2,43]),t(L,[2,44]),t(L,[2,45]),t(L,[2,46]),t(L,[2,47]),t(L,[2,48]),t(L,[2,49]),t(L,[2,50]),t(L,[2,51]),t(R,[2,10]),t(R,[2,22],{30:41,29:56,24:k,27:E}),t(R,[2,24]),t(R,[2,25]),{31:[1,57]},{11:59,32:58,37:24,38:l,39:u,40:27,41:h,42:d,43:p,44:f,45:g,46:m,47:y,48:v,49:x,50:w},t(R,[2,11]),t(R,[2,30],{33:60,27:_}),t(R,[2,32]),{31:[1,61]},t(R,[2,12]),{17:62,24:S},{25:63,27:A},t(R,[2,14]),{17:65,24:S},t(R,[2,16]),t(R,[2,17]),t(L,[2,41]),t(R,[2,23]),{27:[1,66]},{26:[1,67]},{26:[2,29],28:[1,68]},t(R,[2,31]),{27:[1,69]},t(R,[2,13]),{26:[1,70]},{26:[2,21],28:[1,71]},t(R,[2,15]),t(R,[2,26]),t(R,[2,27]),{11:59,32:72,37:24,38:l,39:u,40:27,41:h,42:d,43:p,44:f,45:g,46:m,47:y,48:v,49:x,50:w},t(R,[2,33]),t(R,[2,19]),{25:73,27:A},{26:[2,28]},{26:[2,20]}],defaultActions:{8:[2,1],10:[2,3],21:[2,2],72:[2,28],73:[2,20]},parseError:b(function(M,O){if(O.recoverable)this.trace(M);else{var I=new Error(M);throw I.hash=O,I}},"parseError"),parse:b(function(M){var O=this,I=[0],P=[],B=[null],$=[],V=this.table,W="",K=0,Z=0,H=2,ee=1,te=$.slice.call(arguments,1),U=Object.create(this.lexer),j={yy:{}};for(var Y in this.yy)Object.prototype.hasOwnProperty.call(this.yy,Y)&&(j.yy[Y]=this.yy[Y]);U.setInput(M,j.yy),j.yy.lexer=U,j.yy.parser=this,typeof U.yylloc>"u"&&(U.yylloc={});var Q=U.yylloc;$.push(Q);var ae=U.options&&U.options.ranges;typeof j.yy.parseError=="function"?this.parseError=j.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function ie(oe){I.length=I.length-2*oe,B.length=B.length-oe,$.length=$.length-oe}b(ie,"popStack");function J(){var oe;return oe=P.pop()||U.lex()||ee,typeof oe!="number"&&(oe instanceof Array&&(P=oe,oe=P.pop()),oe=O.symbols_[oe]||oe),oe}b(J,"lex");for(var _e,ce,Te,be,Ue={},He,Ve,Re,de;;){if(ce=I[I.length-1],this.defaultActions[ce]?Te=this.defaultActions[ce]:((_e===null||typeof _e>"u")&&(_e=J()),Te=V[ce]&&V[ce][_e]),typeof Te>"u"||!Te.length||!Te[0]){var X="";de=[];for(He in V[ce])this.terminals_[He]&&He>H&&de.push("'"+this.terminals_[He]+"'");U.showPosition?X="Parse error on line "+(K+1)+`:
`+U.showPosition()+`
Expecting `+de.join(", ")+", got '"+(this.terminals_[_e]||_e)+"'":X="Parse error on line "+(K+1)+": Unexpected "+(_e==ee?"end of input":"'"+(this.terminals_[_e]||_e)+"'"),this.parseError(X,{text:U.match,token:this.terminals_[_e]||_e,line:U.yylineno,loc:Q,expected:de})}if(Te[0]instanceof Array&&Te.length>1)throw new Error("Parse Error: multiple actions possible at state: "+ce+", token: "+_e);switch(Te[0]){case 1:I.push(_e),B.push(U.yytext),$.push(U.yylloc),I.push(Te[1]),_e=null,Z=U.yyleng,W=U.yytext,K=U.yylineno,Q=U.yylloc;break;case 2:if(Ve=this.productions_[Te[1]][1],Ue.$=B[B.length-Ve],Ue._$={first_line:$[$.length-(Ve||1)].first_line,last_line:$[$.length-1].last_line,first_column:$[$.length-(Ve||1)].first_column,last_column:$[$.length-1].last_column},ae&&(Ue._$.range=[$[$.length-(Ve||1)].range[0],$[$.length-1].range[1]]),be=this.performAction.apply(Ue,[W,Z,K,j.yy,Te[1],B,$].concat(te)),typeof be<"u")return be;Ve&&(I=I.slice(0,-1*Ve*2),B=B.slice(0,-1*Ve),$=$.slice(0,-1*Ve)),I.push(this.productions_[Te[1]][0]),B.push(Ue.$),$.push(Ue._$),Re=V[I[I.length-2]][I[I.length-1]],I.push(Re);break;case 3:return!0}}return!0},"parse")},F=function(){var D={EOF:1,parseError:b(function(O,I){if(this.yy.parser)this.yy.parser.parseError(O,I);else throw new Error(O)},"parseError"),setInput:b(function(M,O){return this.yy=O||this.yy||{},this._input=M,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},"setInput"),input:b(function(){var M=this._input[0];this.yytext+=M,this.yyleng++,this.offset++,this.match+=M,this.matched+=M;var O=M.match(/(?:\r\n?|\n).*/g);return O?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),M},"input"),unput:b(function(M){var O=M.length,I=M.split(/(?:\r\n?|\n)/g);this._input=M+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-O),this.offset-=O;var P=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),I.length-1&&(this.yylineno-=I.length-1);var B=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:I?(I.length===P.length?this.yylloc.first_column:0)+P[P.length-I.length].length-I[0].length:this.yylloc.first_column-O},this.options.ranges&&(this.yylloc.range=[B[0],B[0]+this.yyleng-O]),this.yyleng=this.yytext.length,this},"unput"),more:b(function(){return this._more=!0,this},"more"),reject:b(function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},"reject"),less:b(function(M){this.unput(this.match.slice(M))},"less"),pastInput:b(function(){var M=this.matched.substr(0,this.matched.length-this.match.length);return(M.length>20?"...":"")+M.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:b(function(){var M=this.match;return M.length<20&&(M+=this._input.substr(0,20-M.length)),(M.substr(0,20)+(M.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:b(function(){var M=this.pastInput(),O=new Array(M.length+1).join("-");return M+this.upcomingInput()+`
`+O+"^"},"showPosition"),test_match:b(function(M,O){var I,P,B;if(this.options.backtrack_lexer&&(B={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(B.yylloc.range=this.yylloc.range.slice(0))),P=M[0].match(/(?:\r\n?|\n).*/g),P&&(this.yylineno+=P.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:P?P[P.length-1].length-P[P.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+M[0].length},this.yytext+=M[0],this.match+=M[0],this.matches=M,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(M[0].length),this.matched+=M[0],I=this.performAction.call(this,this.yy,this,O,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),I)return I;if(this._backtrack){for(var $ in B)this[$]=B[$];return!1}return!1},"test_match"),next:b(function(){if(this.done)return this.EOF;this._input||(this.done=!0);var M,O,I,P;this._more||(this.yytext="",this.match="");for(var B=this._currentRules(),$=0;$<B.length;$++)if(I=this._input.match(this.rules[B[$]]),I&&(!O||I[0].length>O[0].length)){if(O=I,P=$,this.options.backtrack_lexer){if(M=this.test_match(I,B[$]),M!==!1)return M;if(this._backtrack){O=!1;continue}else return!1}else if(!this.options.flex)break}return O?(M=this.test_match(O,B[P]),M!==!1?M:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:b(function(){var O=this.next();return O||this.lex()},"lex"),begin:b(function(O){this.conditionStack.push(O)},"begin"),popState:b(function(){var O=this.conditionStack.length-1;return O>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:b(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:b(function(O){return O=this.conditionStack.length-1-Math.abs(O||0),O>=0?this.conditionStack[O]:"INITIAL"},"topState"),pushState:b(function(O){this.begin(O)},"pushState"),stateStackSize:b(function(){return this.conditionStack.length},"stateStackSize"),options:{"case-insensitive":!0},performAction:b(function(O,I,P,B){switch(P){case 0:break;case 1:break;case 2:return this.popState(),34;case 3:return this.popState(),34;case 4:return 34;case 5:break;case 6:return 10;case 7:return this.pushState("acc_title"),19;case 8:return this.popState(),"acc_title_value";case 9:return this.pushState("acc_descr"),21;case 10:return this.popState(),"acc_descr_value";case 11:this.pushState("acc_descr_multiline");break;case 12:this.popState();break;case 13:return"acc_descr_multiline_value";case 14:return 5;case 15:return 8;case 16:return this.pushState("axis_data"),"X_AXIS";case 17:return this.pushState("axis_data"),"Y_AXIS";case 18:return this.pushState("axis_band_data"),24;case 19:return 31;case 20:return this.pushState("data"),16;case 21:return this.pushState("data"),18;case 22:return this.pushState("data_inner"),24;case 23:return 27;case 24:return this.popState(),26;case 25:this.popState();break;case 26:this.pushState("string");break;case 27:this.popState();break;case 28:return"STR";case 29:return 24;case 30:return 26;case 31:return 43;case 32:return"COLON";case 33:return 44;case 34:return 28;case 35:return 45;case 36:return 46;case 37:return 48;case 38:return 50;case 39:return 47;case 40:return 41;case 41:return 49;case 42:return 42;case 43:break;case 44:return 35;case 45:return 36}},"anonymous"),rules:[/^(?:%%(?!\{)[^\n]*)/i,/^(?:[^\}]%%[^\n]*)/i,/^(?:(\r?\n))/i,/^(?:(\r?\n))/i,/^(?:[\n\r]+)/i,/^(?:%%[^\n]*)/i,/^(?:title\b)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:\{)/i,/^(?:[^\}]*)/i,/^(?:xychart-beta\b)/i,/^(?:(?:vertical|horizontal))/i,/^(?:x-axis\b)/i,/^(?:y-axis\b)/i,/^(?:\[)/i,/^(?:-->)/i,/^(?:line\b)/i,/^(?:bar\b)/i,/^(?:\[)/i,/^(?:[+-]?(?:\d+(?:\.\d+)?|\.\d+))/i,/^(?:\])/i,/^(?:(?:`\)                                    \{ this\.pushState\(md_string\); \}\n<md_string>\(\?:\(\?!`"\)\.\)\+                  \{ return MD_STR; \}\n<md_string>\(\?:`))/i,/^(?:["])/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:\[)/i,/^(?:\])/i,/^(?:[A-Za-z]+)/i,/^(?::)/i,/^(?:\+)/i,/^(?:,)/i,/^(?:=)/i,/^(?:\*)/i,/^(?:#)/i,/^(?:[\_])/i,/^(?:\.)/i,/^(?:&)/i,/^(?:-)/i,/^(?:[0-9]+)/i,/^(?:\s+)/i,/^(?:;)/i,/^(?:$)/i],conditions:{data_inner:{rules:[0,1,4,5,6,7,9,11,14,15,16,17,20,21,23,24,25,26,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45],inclusive:!0},data:{rules:[0,1,3,4,5,6,7,9,11,14,15,16,17,20,21,22,25,26,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45],inclusive:!0},axis_band_data:{rules:[0,1,4,5,6,7,9,11,14,15,16,17,20,21,24,25,26,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45],inclusive:!0},axis_data:{rules:[0,1,2,4,5,6,7,9,11,14,15,16,17,18,19,20,21,23,25,26,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45],inclusive:!0},acc_descr_multiline:{rules:[12,13],inclusive:!1},acc_descr:{rules:[10],inclusive:!1},acc_title:{rules:[8],inclusive:!1},title:{rules:[],inclusive:!1},md_string:{rules:[],inclusive:!1},string:{rules:[27,28],inclusive:!1},INITIAL:{rules:[0,1,4,5,6,7,9,11,14,15,16,17,20,21,25,26,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45],inclusive:!0}}};return D}();N.lexer=F;function T(){this.yy={}}return b(T,"Parser"),T.prototype=N,N.Parser=T,new T}();qC.parser=qC;var z$e=qC;function jC(t){return t.type==="bar"}b(jC,"isBarPlot");function $L(t){return t.type==="band"}b($L,"isBandAxisData");function R0(t){return t.type==="linear"}b(R0,"isLinearAxisData");var up,Mre=(up=class{constructor(e){this.parentGroup=e}getMaxDimension(e,r){if(!this.parentGroup)return{width:e.reduce((a,s)=>Math.max(s.length,a),0)*r,height:r};const n={width:0,height:0},i=this.parentGroup.append("g").attr("visibility","hidden").attr("font-size",r);for(const a of e){const s=nq(i,1,a),o=s?s.width:a.length*r,l=s?s.height:r;n.width=Math.max(n.width,o),n.height=Math.max(n.height,l)}return i.remove(),n}},b(up,"TextDimensionCalculatorWithFont"),up),dB=.7,fB=.2,hp,Ire=(hp=class{constructor(e,r,n,i){this.axisConfig=e,this.title=r,this.textDimensionCalculator=n,this.axisThemeConfig=i,this.boundingRect={x:0,y:0,width:0,height:0},this.axisPosition="left",this.showTitle=!1,this.showLabel=!1,this.showTick=!1,this.showAxisLine=!1,this.outerPadding=0,this.titleTextHeight=0,this.labelTextHeight=0,this.range=[0,10],this.boundingRect={x:0,y:0,width:0,height:0},this.axisPosition="left"}setRange(e){this.range=e,this.axisPosition==="left"||this.axisPosition==="right"?this.boundingRect.height=e[1]-e[0]:this.boundingRect.width=e[1]-e[0],this.recalculateScale()}getRange(){return[this.range[0]+this.outerPadding,this.range[1]-this.outerPadding]}setAxisPosition(e){this.axisPosition=e,this.setRange(this.range)}getTickDistance(){const e=this.getRange();return Math.abs(e[0]-e[1])/this.getTickValues().length}getAxisOuterPadding(){return this.outerPadding}getLabelDimension(){return this.textDimensionCalculator.getMaxDimension(this.getTickValues().map(e=>e.toString()),this.axisConfig.labelFontSize)}recalculateOuterPaddingToDrawBar(){dB*this.getTickDistance()>this.outerPadding*2&&(this.outerPadding=Math.floor(dB*this.getTickDistance()/2)),this.recalculateScale()}calculateSpaceIfDrawnHorizontally(e){let r=e.height;if(this.axisConfig.showAxisLine&&r>this.axisConfig.axisLineWidth&&(r-=this.axisConfig.axisLineWidth,this.showAxisLine=!0),this.axisConfig.showLabel){const n=this.getLabelDimension(),i=fB*e.width;this.outerPadding=Math.min(n.width/2,i);const a=n.height+this.axisConfig.labelPadding*2;this.labelTextHeight=n.height,a<=r&&(r-=a,this.showLabel=!0)}if(this.axisConfig.showTick&&r>=this.axisConfig.tickLength&&(this.showTick=!0,r-=this.axisConfig.tickLength),this.axisConfig.showTitle&&this.title){const n=this.textDimensionCalculator.getMaxDimension([this.title],this.axisConfig.titleFontSize),i=n.height+this.axisConfig.titlePadding*2;this.titleTextHeight=n.height,i<=r&&(r-=i,this.showTitle=!0)}this.boundingRect.width=e.width,this.boundingRect.height=e.height-r}calculateSpaceIfDrawnVertical(e){let r=e.width;if(this.axisConfig.showAxisLine&&r>this.axisConfig.axisLineWidth&&(r-=this.axisConfig.axisLineWidth,this.showAxisLine=!0),this.axisConfig.showLabel){const n=this.getLabelDimension(),i=fB*e.height;this.outerPadding=Math.min(n.height/2,i);const a=n.width+this.axisConfig.labelPadding*2;a<=r&&(r-=a,this.showLabel=!0)}if(this.axisConfig.showTick&&r>=this.axisConfig.tickLength&&(this.showTick=!0,r-=this.axisConfig.tickLength),this.axisConfig.showTitle&&this.title){const n=this.textDimensionCalculator.getMaxDimension([this.title],this.axisConfig.titleFontSize),i=n.height+this.axisConfig.titlePadding*2;this.titleTextHeight=n.height,i<=r&&(r-=i,this.showTitle=!0)}this.boundingRect.width=e.width-r,this.boundingRect.height=e.height}calculateSpace(e){return this.axisPosition==="left"||this.axisPosition==="right"?this.calculateSpaceIfDrawnVertical(e):this.calculateSpaceIfDrawnHorizontally(e),this.recalculateScale(),{width:this.boundingRect.width,height:this.boundingRect.height}}setBoundingBoxXY(e){this.boundingRect.x=e.x,this.boundingRect.y=e.y}getDrawableElementsForLeftAxis(){const e=[];if(this.showAxisLine){const r=this.boundingRect.x+this.boundingRect.width-this.axisConfig.axisLineWidth/2;e.push({type:"path",groupTexts:["left-axis","axisl-line"],data:[{path:`M ${r},${this.boundingRect.y} L ${r},${this.boundingRect.y+this.boundingRect.height} `,strokeFill:this.axisThemeConfig.axisLineColor,strokeWidth:this.axisConfig.axisLineWidth}]})}if(this.showLabel&&e.push({type:"text",groupTexts:["left-axis","label"],data:this.getTickValues().map(r=>({text:r.toString(),x:this.boundingRect.x+this.boundingRect.width-(this.showLabel?this.axisConfig.labelPadding:0)-(this.showTick?this.axisConfig.tickLength:0)-(this.showAxisLine?this.axisConfig.axisLineWidth:0),y:this.getScaleValue(r),fill:this.axisThemeConfig.labelColor,fontSize:this.axisConfig.labelFontSize,rotation:0,verticalPos:"middle",horizontalPos:"right"}))}),this.showTick){const r=this.boundingRect.x+this.boundingRect.width-(this.showAxisLine?this.axisConfig.axisLineWidth:0);e.push({type:"path",groupTexts:["left-axis","ticks"],data:this.getTickValues().map(n=>({path:`M ${r},${this.getScaleValue(n)} L ${r-this.axisConfig.tickLength},${this.getScaleValue(n)}`,strokeFill:this.axisThemeConfig.tickColor,strokeWidth:this.axisConfig.tickWidth}))})}return this.showTitle&&e.push({type:"text",groupTexts:["left-axis","title"],data:[{text:this.title,x:this.boundingRect.x+this.axisConfig.titlePadding,y:this.boundingRect.y+this.boundingRect.height/2,fill:this.axisThemeConfig.titleColor,fontSize:this.axisConfig.titleFontSize,rotation:270,verticalPos:"top",horizontalPos:"center"}]}),e}getDrawableElementsForBottomAxis(){const e=[];if(this.showAxisLine){const r=this.boundingRect.y+this.axisConfig.axisLineWidth/2;e.push({type:"path",groupTexts:["bottom-axis","axis-line"],data:[{path:`M ${this.boundingRect.x},${r} L ${this.boundingRect.x+this.boundingRect.width},${r}`,strokeFill:this.axisThemeConfig.axisLineColor,strokeWidth:this.axisConfig.axisLineWidth}]})}if(this.showLabel&&e.push({type:"text",groupTexts:["bottom-axis","label"],data:this.getTickValues().map(r=>({text:r.toString(),x:this.getScaleValue(r),y:this.boundingRect.y+this.axisConfig.labelPadding+(this.showTick?this.axisConfig.tickLength:0)+(this.showAxisLine?this.axisConfig.axisLineWidth:0),fill:this.axisThemeConfig.labelColor,fontSize:this.axisConfig.labelFontSize,rotation:0,verticalPos:"top",horizontalPos:"center"}))}),this.showTick){const r=this.boundingRect.y+(this.showAxisLine?this.axisConfig.axisLineWidth:0);e.push({type:"path",groupTexts:["bottom-axis","ticks"],data:this.getTickValues().map(n=>({path:`M ${this.getScaleValue(n)},${r} L ${this.getScaleValue(n)},${r+this.axisConfig.tickLength}`,strokeFill:this.axisThemeConfig.tickColor,strokeWidth:this.axisConfig.tickWidth}))})}return this.showTitle&&e.push({type:"text",groupTexts:["bottom-axis","title"],data:[{text:this.title,x:this.range[0]+(this.range[1]-this.range[0])/2,y:this.boundingRect.y+this.boundingRect.height-this.axisConfig.titlePadding-this.titleTextHeight,fill:this.axisThemeConfig.titleColor,fontSize:this.axisConfig.titleFontSize,rotation:0,verticalPos:"top",horizontalPos:"center"}]}),e}getDrawableElementsForTopAxis(){const e=[];if(this.showAxisLine){const r=this.boundingRect.y+this.boundingRect.height-this.axisConfig.axisLineWidth/2;e.push({type:"path",groupTexts:["top-axis","axis-line"],data:[{path:`M ${this.boundingRect.x},${r} L ${this.boundingRect.x+this.boundingRect.width},${r}`,strokeFill:this.axisThemeConfig.axisLineColor,strokeWidth:this.axisConfig.axisLineWidth}]})}if(this.showLabel&&e.push({type:"text",groupTexts:["top-axis","label"],data:this.getTickValues().map(r=>({text:r.toString(),x:this.getScaleValue(r),y:this.boundingRect.y+(this.showTitle?this.titleTextHeight+this.axisConfig.titlePadding*2:0)+this.axisConfig.labelPadding,fill:this.axisThemeConfig.labelColor,fontSize:this.axisConfig.labelFontSize,rotation:0,verticalPos:"top",horizontalPos:"center"}))}),this.showTick){const r=this.boundingRect.y;e.push({type:"path",groupTexts:["top-axis","ticks"],data:this.getTickValues().map(n=>({path:`M ${this.getScaleValue(n)},${r+this.boundingRect.height-(this.showAxisLine?this.axisConfig.axisLineWidth:0)} L ${this.getScaleValue(n)},${r+this.boundingRect.height-this.axisConfig.tickLength-(this.showAxisLine?this.axisConfig.axisLineWidth:0)}`,strokeFill:this.axisThemeConfig.tickColor,strokeWidth:this.axisConfig.tickWidth}))})}return this.showTitle&&e.push({type:"text",groupTexts:["top-axis","title"],data:[{text:this.title,x:this.boundingRect.x+this.boundingRect.width/2,y:this.boundingRect.y+this.axisConfig.titlePadding,fill:this.axisThemeConfig.titleColor,fontSize:this.axisConfig.titleFontSize,rotation:0,verticalPos:"top",horizontalPos:"center"}]}),e}getDrawableElements(){if(this.axisPosition==="left")return this.getDrawableElementsForLeftAxis();if(this.axisPosition==="right")throw Error("Drawing of right axis is not implemented");return this.axisPosition==="bottom"?this.getDrawableElementsForBottomAxis():this.axisPosition==="top"?this.getDrawableElementsForTopAxis():[]}},b(hp,"BaseAxis"),hp),dp,U$e=(dp=class extends Ire{constructor(e,r,n,i,a){super(e,i,a,r),this.categories=n,this.scale=cS().domain(this.categories).range(this.getRange())}setRange(e){super.setRange(e)}recalculateScale(){this.scale=cS().domain(this.categories).range(this.getRange()).paddingInner(1).paddingOuter(0).align(.5),q.trace("BandAxis axis final categories, range: ",this.categories,this.getRange())}getTickValues(){return this.categories}getScaleValue(e){return this.scale(e)??this.getRange()[0]}},b(dp,"BandAxis"),dp),fp,V$e=(fp=class extends Ire{constructor(e,r,n,i,a){super(e,i,a,r),this.domain=n,this.scale=$p().domain(this.domain).range(this.getRange())}getTickValues(){return this.scale.ticks()}recalculateScale(){const e=[...this.domain];this.axisPosition==="left"&&e.reverse(),this.scale=$p().domain(e).range(this.getRange())}getScaleValue(e){return this.scale(e)}},b(fp,"LinearAxis"),fp);function XC(t,e,r,n){const i=new Mre(n);return $L(t)?new U$e(e,r,t.categories,t.title,i):new V$e(e,r,[t.min,t.max],t.title,i)}b(XC,"getAxis");var pp,G$e=(pp=class{constructor(e,r,n,i){this.textDimensionCalculator=e,this.chartConfig=r,this.chartData=n,this.chartThemeConfig=i,this.boundingRect={x:0,y:0,width:0,height:0},this.showChartTitle=!1}setBoundingBoxXY(e){this.boundingRect.x=e.x,this.boundingRect.y=e.y}calculateSpace(e){const r=this.textDimensionCalculator.getMaxDimension([this.chartData.title],this.chartConfig.titleFontSize),n=Math.max(r.width,e.width),i=r.height+2*this.chartConfig.titlePadding;return r.width<=n&&r.height<=i&&this.chartConfig.showTitle&&this.chartData.title&&(this.boundingRect.width=n,this.boundingRect.height=i,this.showChartTitle=!0),{width:this.boundingRect.width,height:this.boundingRect.height}}getDrawableElements(){const e=[];return this.showChartTitle&&e.push({groupTexts:["chart-title"],type:"text",data:[{fontSize:this.chartConfig.titleFontSize,text:this.chartData.title,verticalPos:"middle",horizontalPos:"center",x:this.boundingRect.x+this.boundingRect.width/2,y:this.boundingRect.y+this.boundingRect.height/2,fill:this.chartThemeConfig.titleColor,rotation:0}]}),e}},b(pp,"ChartTitle"),pp);function Dre(t,e,r,n){const i=new Mre(n);return new G$e(i,t,e,r)}b(Dre,"getChartTitleComponent");var gp,H$e=(gp=class{constructor(e,r,n,i,a){this.plotData=e,this.xAxis=r,this.yAxis=n,this.orientation=i,this.plotIndex=a}getDrawableElement(){const e=this.plotData.data.map(n=>[this.xAxis.getScaleValue(n[0]),this.yAxis.getScaleValue(n[1])]);let r;return this.orientation==="horizontal"?r=Xu().y(n=>n[0]).x(n=>n[1])(e):r=Xu().x(n=>n[0]).y(n=>n[1])(e),r?[{groupTexts:["plot",`line-plot-${this.plotIndex}`],type:"path",data:[{path:r,strokeFill:this.plotData.strokeFill,strokeWidth:this.plotData.strokeWidth}]}]:[]}},b(gp,"LinePlot"),gp),mp,W$e=(mp=class{constructor(e,r,n,i,a,s){this.barData=e,this.boundingRect=r,this.xAxis=n,this.yAxis=i,this.orientation=a,this.plotIndex=s}getDrawableElement(){const e=this.barData.data.map(a=>[this.xAxis.getScaleValue(a[0]),this.yAxis.getScaleValue(a[1])]),n=Math.min(this.xAxis.getAxisOuterPadding()*2,this.xAxis.getTickDistance())*(1-.05),i=n/2;return this.orientation==="horizontal"?[{groupTexts:["plot",`bar-plot-${this.plotIndex}`],type:"rect",data:e.map(a=>({x:this.boundingRect.x,y:a[0]-i,height:n,width:a[1]-this.boundingRect.x,fill:this.barData.fill,strokeWidth:0,strokeFill:this.barData.fill}))}]:[{groupTexts:["plot",`bar-plot-${this.plotIndex}`],type:"rect",data:e.map(a=>({x:a[0]-i,y:a[1],width:n,height:this.boundingRect.y+this.boundingRect.height-a[1],fill:this.barData.fill,strokeWidth:0,strokeFill:this.barData.fill}))}]}},b(mp,"BarPlot"),mp),vp,Y$e=(vp=class{constructor(e,r,n){this.chartConfig=e,this.chartData=r,this.chartThemeConfig=n,this.boundingRect={x:0,y:0,width:0,height:0}}setAxes(e,r){this.xAxis=e,this.yAxis=r}setBoundingBoxXY(e){this.boundingRect.x=e.x,this.boundingRect.y=e.y}calculateSpace(e){return this.boundingRect.width=e.width,this.boundingRect.height=e.height,{width:this.boundingRect.width,height:this.boundingRect.height}}getDrawableElements(){if(!(this.xAxis&&this.yAxis))throw Error("Axes must be passed to render Plots");const e=[];for(const[r,n]of this.chartData.plots.entries())switch(n.type){case"line":{const i=new H$e(n,this.xAxis,this.yAxis,this.chartConfig.chartOrientation,r);e.push(...i.getDrawableElement())}break;case"bar":{const i=new W$e(n,this.boundingRect,this.xAxis,this.yAxis,this.chartConfig.chartOrientation,r);e.push(...i.getDrawableElement())}break}return e}},b(vp,"BasePlot"),vp);function Ore(t,e,r){return new Y$e(t,e,r)}b(Ore,"getPlotComponent");var yp,q$e=(yp=class{constructor(e,r,n,i){this.chartConfig=e,this.chartData=r,this.componentStore={title:Dre(e,r,n,i),plot:Ore(e,r,n),xAxis:XC(r.xAxis,e.xAxis,{titleColor:n.xAxisTitleColor,labelColor:n.xAxisLabelColor,tickColor:n.xAxisTickColor,axisLineColor:n.xAxisLineColor},i),yAxis:XC(r.yAxis,e.yAxis,{titleColor:n.yAxisTitleColor,labelColor:n.yAxisLabelColor,tickColor:n.yAxisTickColor,axisLineColor:n.yAxisLineColor},i)}}calculateVerticalSpace(){let e=this.chartConfig.width,r=this.chartConfig.height,n=0,i=0,a=Math.floor(e*this.chartConfig.plotReservedSpacePercent/100),s=Math.floor(r*this.chartConfig.plotReservedSpacePercent/100),o=this.componentStore.plot.calculateSpace({width:a,height:s});e-=o.width,r-=o.height,o=this.componentStore.title.calculateSpace({width:this.chartConfig.width,height:r}),i=o.height,r-=o.height,this.componentStore.xAxis.setAxisPosition("bottom"),o=this.componentStore.xAxis.calculateSpace({width:e,height:r}),r-=o.height,this.componentStore.yAxis.setAxisPosition("left"),o=this.componentStore.yAxis.calculateSpace({width:e,height:r}),n=o.width,e-=o.width,e>0&&(a+=e,e=0),r>0&&(s+=r,r=0),this.componentStore.plot.calculateSpace({width:a,height:s}),this.componentStore.plot.setBoundingBoxXY({x:n,y:i}),this.componentStore.xAxis.setRange([n,n+a]),this.componentStore.xAxis.setBoundingBoxXY({x:n,y:i+s}),this.componentStore.yAxis.setRange([i,i+s]),this.componentStore.yAxis.setBoundingBoxXY({x:0,y:i}),this.chartData.plots.some(l=>jC(l))&&this.componentStore.xAxis.recalculateOuterPaddingToDrawBar()}calculateHorizontalSpace(){let e=this.chartConfig.width,r=this.chartConfig.height,n=0,i=0,a=0,s=Math.floor(e*this.chartConfig.plotReservedSpacePercent/100),o=Math.floor(r*this.chartConfig.plotReservedSpacePercent/100),l=this.componentStore.plot.calculateSpace({width:s,height:o});e-=l.width,r-=l.height,l=this.componentStore.title.calculateSpace({width:this.chartConfig.width,height:r}),n=l.height,r-=l.height,this.componentStore.xAxis.setAxisPosition("left"),l=this.componentStore.xAxis.calculateSpace({width:e,height:r}),e-=l.width,i=l.width,this.componentStore.yAxis.setAxisPosition("top"),l=this.componentStore.yAxis.calculateSpace({width:e,height:r}),r-=l.height,a=n+l.height,e>0&&(s+=e,e=0),r>0&&(o+=r,r=0),this.componentStore.plot.calculateSpace({width:s,height:o}),this.componentStore.plot.setBoundingBoxXY({x:i,y:a}),this.componentStore.yAxis.setRange([i,i+s]),this.componentStore.yAxis.setBoundingBoxXY({x:i,y:n}),this.componentStore.xAxis.setRange([a,a+o]),this.componentStore.xAxis.setBoundingBoxXY({x:0,y:a}),this.chartData.plots.some(u=>jC(u))&&this.componentStore.xAxis.recalculateOuterPaddingToDrawBar()}calculateSpace(){this.chartConfig.chartOrientation==="horizontal"?this.calculateHorizontalSpace():this.calculateVerticalSpace()}getDrawableElement(){this.calculateSpace();const e=[];this.componentStore.plot.setAxes(this.componentStore.xAxis,this.componentStore.yAxis);for(const r of Object.values(this.componentStore))e.push(...r.getDrawableElements());return e}},b(yp,"Orchestrator"),yp),xp,j$e=(xp=class{static build(e,r,n,i){return new q$e(e,r,n,i).getDrawableElement()}},b(xp,"XYChartBuilder"),xp),zv=0,Pre,Uv=VL(),Vv=UL(),Fr=GL(),KC=Vv.plotColorPalette.split(",").map(t=>t.trim()),m6=!1,zL=!1;function UL(){const t=OA(),e=Dn();return Zc(t.xyChart,e.themeVariables.xyChart)}b(UL,"getChartDefaultThemeConfig");function VL(){const t=Dn();return Zc(Ur.xyChart,t.xyChart)}b(VL,"getChartDefaultConfig");function GL(){return{yAxis:{type:"linear",title:"",min:1/0,max:-1/0},xAxis:{type:"band",title:"",categories:[]},title:"",plots:[]}}b(GL,"getChartDefaultData");function v6(t){const e=Dn();return Wn(t.trim(),e)}b(v6,"textSanitizer");function Fre(t){Pre=t}b(Fre,"setTmpSVGG");function Bre(t){t==="horizontal"?Uv.chartOrientation="horizontal":Uv.chartOrientation="vertical"}b(Bre,"setOrientation");function $re(t){Fr.xAxis.title=v6(t.text)}b($re,"setXAxisTitle");function HL(t,e){Fr.xAxis={type:"linear",title:Fr.xAxis.title,min:t,max:e},m6=!0}b(HL,"setXAxisRangeData");function zre(t){Fr.xAxis={type:"band",title:Fr.xAxis.title,categories:t.map(e=>v6(e.text))},m6=!0}b(zre,"setXAxisBand");function Ure(t){Fr.yAxis.title=v6(t.text)}b(Ure,"setYAxisTitle");function Vre(t,e){Fr.yAxis={type:"linear",title:Fr.yAxis.title,min:t,max:e},zL=!0}b(Vre,"setYAxisRangeData");function Gre(t){const e=Math.min(...t),r=Math.max(...t),n=R0(Fr.yAxis)?Fr.yAxis.min:1/0,i=R0(Fr.yAxis)?Fr.yAxis.max:-1/0;Fr.yAxis={type:"linear",title:Fr.yAxis.title,min:Math.min(n,e),max:Math.max(i,r)}}b(Gre,"setYAxisRangeFromPlotData");function WL(t){let e=[];if(t.length===0)return e;if(!m6){const r=R0(Fr.xAxis)?Fr.xAxis.min:1/0,n=R0(Fr.xAxis)?Fr.xAxis.max:-1/0;HL(Math.min(r,1),Math.max(n,t.length))}if(zL||Gre(t),$L(Fr.xAxis)&&(e=Fr.xAxis.categories.map((r,n)=>[r,t[n]])),R0(Fr.xAxis)){const r=Fr.xAxis.min,n=Fr.xAxis.max,i=(n-r)/(t.length-1),a=[];for(let s=r;s<=n;s+=i)a.push(`${s}`);e=a.map((s,o)=>[s,t[o]])}return e}b(WL,"transformDataWithoutCategory");function YL(t){return KC[t===0?0:t%KC.length]}b(YL,"getPlotColorFromPalette");function Hre(t,e){const r=WL(e);Fr.plots.push({type:"line",strokeFill:YL(zv),strokeWidth:2,data:r}),zv++}b(Hre,"setLineData");function Wre(t,e){const r=WL(e);Fr.plots.push({type:"bar",fill:YL(zv),data:r}),zv++}b(Wre,"setBarData");function Yre(){if(Fr.plots.length===0)throw Error("No Plot to render, please provide a plot with some data");return Fr.title=ea(),j$e.build(Uv,Fr,Vv,Pre)}b(Yre,"getDrawableElem");function qre(){return Vv}b(qre,"getChartThemeConfig");function jre(){return Uv}b(jre,"getChartConfig");var X$e=b(function(){Ni(),zv=0,Uv=VL(),Fr=GL(),Vv=UL(),KC=Vv.plotColorPalette.split(",").map(t=>t.trim()),m6=!1,zL=!1},"clear"),K$e={getDrawableElem:Yre,clear:X$e,setAccTitle:Ri,getAccTitle:Qi,setDiagramTitle:za,getDiagramTitle:ea,getAccDescription:Ji,setAccDescription:Zi,setOrientation:Bre,setXAxisTitle:$re,setXAxisRangeData:HL,setXAxisBand:zre,setYAxisTitle:Ure,setYAxisRangeData:Vre,setLineData:Hre,setBarData:Wre,setTmpSVGG:Fre,getChartThemeConfig:qre,getChartConfig:jre},Q$e=b((t,e,r,n)=>{const i=n.db,a=i.getChartThemeConfig(),s=i.getChartConfig();function o(y){return y==="top"?"text-before-edge":"middle"}b(o,"getDominantBaseLine");function l(y){return y==="left"?"start":y==="right"?"end":"middle"}b(l,"getTextAnchor");function u(y){return`translate(${y.x}, ${y.y}) rotate(${y.rotation||0})`}b(u,"getTextTransformation"),q.debug(`Rendering xychart chart
`+t);const h=mf(e),d=h.append("g").attr("class","main"),p=d.append("rect").attr("width",s.width).attr("height",s.height).attr("class","background");Ki(h,s.height,s.width,!0),h.attr("viewBox",`0 0 ${s.width} ${s.height}`),p.attr("fill",a.backgroundColor),i.setTmpSVGG(h.append("g").attr("class","mermaid-tmp-group"));const f=i.getDrawableElem(),g={};function m(y){let v=d,x="";for(const[w]of y.entries()){let k=d;w>0&&g[x]&&(k=g[x]),x+=y[w],v=g[x],v||(v=g[x]=k.append("g").attr("class",y[w]))}return v}b(m,"getGroup");for(const y of f){if(y.data.length===0)continue;const v=m(y.groupTexts);switch(y.type){case"rect":v.selectAll("rect").data(y.data).enter().append("rect").attr("x",x=>x.x).attr("y",x=>x.y).attr("width",x=>x.width).attr("height",x=>x.height).attr("fill",x=>x.fill).attr("stroke",x=>x.strokeFill).attr("stroke-width",x=>x.strokeWidth);break;case"text":v.selectAll("text").data(y.data).enter().append("text").attr("x",0).attr("y",0).attr("fill",x=>x.fill).attr("font-size",x=>x.fontSize).attr("dominant-baseline",x=>o(x.verticalPos)).attr("text-anchor",x=>l(x.horizontalPos)).attr("transform",x=>u(x)).text(x=>x.text);break;case"path":v.selectAll("path").data(y.data).enter().append("path").attr("d",x=>x.path).attr("fill",x=>x.fill?x.fill:"none").attr("stroke",x=>x.strokeFill).attr("stroke-width",x=>x.strokeWidth);break}}},"draw"),Z$e={draw:Q$e},J$e={parser:z$e,db:K$e,renderer:Z$e};const eze=Object.freeze(Object.defineProperty({__proto__:null,diagram:J$e},Symbol.toStringTag,{value:"Module"}));var QC=function(){var t=b(function(Z,H,ee,te){for(ee=ee||{},te=Z.length;te--;ee[Z[te]]=H);return ee},"o"),e=[1,3],r=[1,4],n=[1,5],i=[1,6],a=[5,6,8,9,11,13,31,32,33,34,35,36,44,62,63],s=[1,18],o=[2,7],l=[1,22],u=[1,23],h=[1,24],d=[1,25],p=[1,26],f=[1,27],g=[1,20],m=[1,28],y=[1,29],v=[62,63],x=[5,8,9,11,13,31,32,33,34,35,36,44,51,53,62,63],w=[1,47],k=[1,48],E=[1,49],_=[1,50],S=[1,51],R=[1,52],C=[1,53],L=[53,54],A=[1,64],N=[1,60],F=[1,61],T=[1,62],D=[1,63],M=[1,65],O=[1,69],I=[1,70],P=[1,67],B=[1,68],$=[5,8,9,11,13,31,32,33,34,35,36,44,62,63],V={trace:b(function(){},"trace"),yy:{},symbols_:{error:2,start:3,directive:4,NEWLINE:5,RD:6,diagram:7,EOF:8,acc_title:9,acc_title_value:10,acc_descr:11,acc_descr_value:12,acc_descr_multiline_value:13,requirementDef:14,elementDef:15,relationshipDef:16,requirementType:17,requirementName:18,STRUCT_START:19,requirementBody:20,ID:21,COLONSEP:22,id:23,TEXT:24,text:25,RISK:26,riskLevel:27,VERIFYMTHD:28,verifyType:29,STRUCT_STOP:30,REQUIREMENT:31,FUNCTIONAL_REQUIREMENT:32,INTERFACE_REQUIREMENT:33,PERFORMANCE_REQUIREMENT:34,PHYSICAL_REQUIREMENT:35,DESIGN_CONSTRAINT:36,LOW_RISK:37,MED_RISK:38,HIGH_RISK:39,VERIFY_ANALYSIS:40,VERIFY_DEMONSTRATION:41,VERIFY_INSPECTION:42,VERIFY_TEST:43,ELEMENT:44,elementName:45,elementBody:46,TYPE:47,type:48,DOCREF:49,ref:50,END_ARROW_L:51,relationship:52,LINE:53,END_ARROW_R:54,CONTAINS:55,COPIES:56,DERIVES:57,SATISFIES:58,VERIFIES:59,REFINES:60,TRACES:61,unqString:62,qString:63,$accept:0,$end:1},terminals_:{2:"error",5:"NEWLINE",6:"RD",8:"EOF",9:"acc_title",10:"acc_title_value",11:"acc_descr",12:"acc_descr_value",13:"acc_descr_multiline_value",19:"STRUCT_START",21:"ID",22:"COLONSEP",24:"TEXT",26:"RISK",28:"VERIFYMTHD",30:"STRUCT_STOP",31:"REQUIREMENT",32:"FUNCTIONAL_REQUIREMENT",33:"INTERFACE_REQUIREMENT",34:"PERFORMANCE_REQUIREMENT",35:"PHYSICAL_REQUIREMENT",36:"DESIGN_CONSTRAINT",37:"LOW_RISK",38:"MED_RISK",39:"HIGH_RISK",40:"VERIFY_ANALYSIS",41:"VERIFY_DEMONSTRATION",42:"VERIFY_INSPECTION",43:"VERIFY_TEST",44:"ELEMENT",47:"TYPE",49:"DOCREF",51:"END_ARROW_L",53:"LINE",54:"END_ARROW_R",55:"CONTAINS",56:"COPIES",57:"DERIVES",58:"SATISFIES",59:"VERIFIES",60:"REFINES",61:"TRACES",62:"unqString",63:"qString"},productions_:[0,[3,3],[3,2],[3,4],[4,2],[4,2],[4,1],[7,0],[7,2],[7,2],[7,2],[7,2],[7,2],[14,5],[20,5],[20,5],[20,5],[20,5],[20,2],[20,1],[17,1],[17,1],[17,1],[17,1],[17,1],[17,1],[27,1],[27,1],[27,1],[29,1],[29,1],[29,1],[29,1],[15,5],[46,5],[46,5],[46,2],[46,1],[16,5],[16,5],[52,1],[52,1],[52,1],[52,1],[52,1],[52,1],[52,1],[18,1],[18,1],[23,1],[23,1],[25,1],[25,1],[45,1],[45,1],[48,1],[48,1],[50,1],[50,1]],performAction:b(function(H,ee,te,U,j,Y,Q){var ae=Y.length-1;switch(j){case 4:this.$=Y[ae].trim(),U.setAccTitle(this.$);break;case 5:case 6:this.$=Y[ae].trim(),U.setAccDescription(this.$);break;case 7:this.$=[];break;case 13:U.addRequirement(Y[ae-3],Y[ae-4]);break;case 14:U.setNewReqId(Y[ae-2]);break;case 15:U.setNewReqText(Y[ae-2]);break;case 16:U.setNewReqRisk(Y[ae-2]);break;case 17:U.setNewReqVerifyMethod(Y[ae-2]);break;case 20:this.$=U.RequirementType.REQUIREMENT;break;case 21:this.$=U.RequirementType.FUNCTIONAL_REQUIREMENT;break;case 22:this.$=U.RequirementType.INTERFACE_REQUIREMENT;break;case 23:this.$=U.RequirementType.PERFORMANCE_REQUIREMENT;break;case 24:this.$=U.RequirementType.PHYSICAL_REQUIREMENT;break;case 25:this.$=U.RequirementType.DESIGN_CONSTRAINT;break;case 26:this.$=U.RiskLevel.LOW_RISK;break;case 27:this.$=U.RiskLevel.MED_RISK;break;case 28:this.$=U.RiskLevel.HIGH_RISK;break;case 29:this.$=U.VerifyType.VERIFY_ANALYSIS;break;case 30:this.$=U.VerifyType.VERIFY_DEMONSTRATION;break;case 31:this.$=U.VerifyType.VERIFY_INSPECTION;break;case 32:this.$=U.VerifyType.VERIFY_TEST;break;case 33:U.addElement(Y[ae-3]);break;case 34:U.setNewElementType(Y[ae-2]);break;case 35:U.setNewElementDocRef(Y[ae-2]);break;case 38:U.addRelationship(Y[ae-2],Y[ae],Y[ae-4]);break;case 39:U.addRelationship(Y[ae-2],Y[ae-4],Y[ae]);break;case 40:this.$=U.Relationships.CONTAINS;break;case 41:this.$=U.Relationships.COPIES;break;case 42:this.$=U.Relationships.DERIVES;break;case 43:this.$=U.Relationships.SATISFIES;break;case 44:this.$=U.Relationships.VERIFIES;break;case 45:this.$=U.Relationships.REFINES;break;case 46:this.$=U.Relationships.TRACES;break}},"anonymous"),table:[{3:1,4:2,6:e,9:r,11:n,13:i},{1:[3]},{3:8,4:2,5:[1,7],6:e,9:r,11:n,13:i},{5:[1,9]},{10:[1,10]},{12:[1,11]},t(a,[2,6]),{3:12,4:2,6:e,9:r,11:n,13:i},{1:[2,2]},{4:17,5:s,7:13,8:o,9:r,11:n,13:i,14:14,15:15,16:16,17:19,23:21,31:l,32:u,33:h,34:d,35:p,36:f,44:g,62:m,63:y},t(a,[2,4]),t(a,[2,5]),{1:[2,1]},{8:[1,30]},{4:17,5:s,7:31,8:o,9:r,11:n,13:i,14:14,15:15,16:16,17:19,23:21,31:l,32:u,33:h,34:d,35:p,36:f,44:g,62:m,63:y},{4:17,5:s,7:32,8:o,9:r,11:n,13:i,14:14,15:15,16:16,17:19,23:21,31:l,32:u,33:h,34:d,35:p,36:f,44:g,62:m,63:y},{4:17,5:s,7:33,8:o,9:r,11:n,13:i,14:14,15:15,16:16,17:19,23:21,31:l,32:u,33:h,34:d,35:p,36:f,44:g,62:m,63:y},{4:17,5:s,7:34,8:o,9:r,11:n,13:i,14:14,15:15,16:16,17:19,23:21,31:l,32:u,33:h,34:d,35:p,36:f,44:g,62:m,63:y},{4:17,5:s,7:35,8:o,9:r,11:n,13:i,14:14,15:15,16:16,17:19,23:21,31:l,32:u,33:h,34:d,35:p,36:f,44:g,62:m,63:y},{18:36,62:[1,37],63:[1,38]},{45:39,62:[1,40],63:[1,41]},{51:[1,42],53:[1,43]},t(v,[2,20]),t(v,[2,21]),t(v,[2,22]),t(v,[2,23]),t(v,[2,24]),t(v,[2,25]),t(x,[2,49]),t(x,[2,50]),{1:[2,3]},{8:[2,8]},{8:[2,9]},{8:[2,10]},{8:[2,11]},{8:[2,12]},{19:[1,44]},{19:[2,47]},{19:[2,48]},{19:[1,45]},{19:[2,53]},{19:[2,54]},{52:46,55:w,56:k,57:E,58:_,59:S,60:R,61:C},{52:54,55:w,56:k,57:E,58:_,59:S,60:R,61:C},{5:[1,55]},{5:[1,56]},{53:[1,57]},t(L,[2,40]),t(L,[2,41]),t(L,[2,42]),t(L,[2,43]),t(L,[2,44]),t(L,[2,45]),t(L,[2,46]),{54:[1,58]},{5:A,20:59,21:N,24:F,26:T,28:D,30:M},{5:O,30:I,46:66,47:P,49:B},{23:71,62:m,63:y},{23:72,62:m,63:y},t($,[2,13]),{22:[1,73]},{22:[1,74]},{22:[1,75]},{22:[1,76]},{5:A,20:77,21:N,24:F,26:T,28:D,30:M},t($,[2,19]),t($,[2,33]),{22:[1,78]},{22:[1,79]},{5:O,30:I,46:80,47:P,49:B},t($,[2,37]),t($,[2,38]),t($,[2,39]),{23:81,62:m,63:y},{25:82,62:[1,83],63:[1,84]},{27:85,37:[1,86],38:[1,87],39:[1,88]},{29:89,40:[1,90],41:[1,91],42:[1,92],43:[1,93]},t($,[2,18]),{48:94,62:[1,95],63:[1,96]},{50:97,62:[1,98],63:[1,99]},t($,[2,36]),{5:[1,100]},{5:[1,101]},{5:[2,51]},{5:[2,52]},{5:[1,102]},{5:[2,26]},{5:[2,27]},{5:[2,28]},{5:[1,103]},{5:[2,29]},{5:[2,30]},{5:[2,31]},{5:[2,32]},{5:[1,104]},{5:[2,55]},{5:[2,56]},{5:[1,105]},{5:[2,57]},{5:[2,58]},{5:A,20:106,21:N,24:F,26:T,28:D,30:M},{5:A,20:107,21:N,24:F,26:T,28:D,30:M},{5:A,20:108,21:N,24:F,26:T,28:D,30:M},{5:A,20:109,21:N,24:F,26:T,28:D,30:M},{5:O,30:I,46:110,47:P,49:B},{5:O,30:I,46:111,47:P,49:B},t($,[2,14]),t($,[2,15]),t($,[2,16]),t($,[2,17]),t($,[2,34]),t($,[2,35])],defaultActions:{8:[2,2],12:[2,1],30:[2,3],31:[2,8],32:[2,9],33:[2,10],34:[2,11],35:[2,12],37:[2,47],38:[2,48],40:[2,53],41:[2,54],83:[2,51],84:[2,52],86:[2,26],87:[2,27],88:[2,28],90:[2,29],91:[2,30],92:[2,31],93:[2,32],95:[2,55],96:[2,56],98:[2,57],99:[2,58]},parseError:b(function(H,ee){if(ee.recoverable)this.trace(H);else{var te=new Error(H);throw te.hash=ee,te}},"parseError"),parse:b(function(H){var ee=this,te=[0],U=[],j=[null],Y=[],Q=this.table,ae="",ie=0,J=0,_e=2,ce=1,Te=Y.slice.call(arguments,1),be=Object.create(this.lexer),Ue={yy:{}};for(var He in this.yy)Object.prototype.hasOwnProperty.call(this.yy,He)&&(Ue.yy[He]=this.yy[He]);be.setInput(H,Ue.yy),Ue.yy.lexer=be,Ue.yy.parser=this,typeof be.yylloc>"u"&&(be.yylloc={});var Ve=be.yylloc;Y.push(Ve);var Re=be.options&&be.options.ranges;typeof Ue.yy.parseError=="function"?this.parseError=Ue.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function de(Se){te.length=te.length-2*Se,j.length=j.length-Se,Y.length=Y.length-Se}b(de,"popStack");function X(){var Se;return Se=U.pop()||be.lex()||ce,typeof Se!="number"&&(Se instanceof Array&&(U=Se,Se=U.pop()),Se=ee.symbols_[Se]||Se),Se}b(X,"lex");for(var oe,me,ne,ue,pe={},ge,ve,Ee,Ce;;){if(me=te[te.length-1],this.defaultActions[me]?ne=this.defaultActions[me]:((oe===null||typeof oe>"u")&&(oe=X()),ne=Q[me]&&Q[me][oe]),typeof ne>"u"||!ne.length||!ne[0]){var Ne="";Ce=[];for(ge in Q[me])this.terminals_[ge]&&ge>_e&&Ce.push("'"+this.terminals_[ge]+"'");be.showPosition?Ne="Parse error on line "+(ie+1)+`:
`+be.showPosition()+`
Expecting `+Ce.join(", ")+", got '"+(this.terminals_[oe]||oe)+"'":Ne="Parse error on line "+(ie+1)+": Unexpected "+(oe==ce?"end of input":"'"+(this.terminals_[oe]||oe)+"'"),this.parseError(Ne,{text:be.match,token:this.terminals_[oe]||oe,line:be.yylineno,loc:Ve,expected:Ce})}if(ne[0]instanceof Array&&ne.length>1)throw new Error("Parse Error: multiple actions possible at state: "+me+", token: "+oe);switch(ne[0]){case 1:te.push(oe),j.push(be.yytext),Y.push(be.yylloc),te.push(ne[1]),oe=null,J=be.yyleng,ae=be.yytext,ie=be.yylineno,Ve=be.yylloc;break;case 2:if(ve=this.productions_[ne[1]][1],pe.$=j[j.length-ve],pe._$={first_line:Y[Y.length-(ve||1)].first_line,last_line:Y[Y.length-1].last_line,first_column:Y[Y.length-(ve||1)].first_column,last_column:Y[Y.length-1].last_column},Re&&(pe._$.range=[Y[Y.length-(ve||1)].range[0],Y[Y.length-1].range[1]]),ue=this.performAction.apply(pe,[ae,J,ie,Ue.yy,ne[1],j,Y].concat(Te)),typeof ue<"u")return ue;ve&&(te=te.slice(0,-1*ve*2),j=j.slice(0,-1*ve),Y=Y.slice(0,-1*ve)),te.push(this.productions_[ne[1]][0]),j.push(pe.$),Y.push(pe._$),Ee=Q[te[te.length-2]][te[te.length-1]],te.push(Ee);break;case 3:return!0}}return!0},"parse")},W=function(){var Z={EOF:1,parseError:b(function(ee,te){if(this.yy.parser)this.yy.parser.parseError(ee,te);else throw new Error(ee)},"parseError"),setInput:b(function(H,ee){return this.yy=ee||this.yy||{},this._input=H,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},"setInput"),input:b(function(){var H=this._input[0];this.yytext+=H,this.yyleng++,this.offset++,this.match+=H,this.matched+=H;var ee=H.match(/(?:\r\n?|\n).*/g);return ee?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),H},"input"),unput:b(function(H){var ee=H.length,te=H.split(/(?:\r\n?|\n)/g);this._input=H+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-ee),this.offset-=ee;var U=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),te.length-1&&(this.yylineno-=te.length-1);var j=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:te?(te.length===U.length?this.yylloc.first_column:0)+U[U.length-te.length].length-te[0].length:this.yylloc.first_column-ee},this.options.ranges&&(this.yylloc.range=[j[0],j[0]+this.yyleng-ee]),this.yyleng=this.yytext.length,this},"unput"),more:b(function(){return this._more=!0,this},"more"),reject:b(function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},"reject"),less:b(function(H){this.unput(this.match.slice(H))},"less"),pastInput:b(function(){var H=this.matched.substr(0,this.matched.length-this.match.length);return(H.length>20?"...":"")+H.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:b(function(){var H=this.match;return H.length<20&&(H+=this._input.substr(0,20-H.length)),(H.substr(0,20)+(H.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:b(function(){var H=this.pastInput(),ee=new Array(H.length+1).join("-");return H+this.upcomingInput()+`
`+ee+"^"},"showPosition"),test_match:b(function(H,ee){var te,U,j;if(this.options.backtrack_lexer&&(j={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(j.yylloc.range=this.yylloc.range.slice(0))),U=H[0].match(/(?:\r\n?|\n).*/g),U&&(this.yylineno+=U.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:U?U[U.length-1].length-U[U.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+H[0].length},this.yytext+=H[0],this.match+=H[0],this.matches=H,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(H[0].length),this.matched+=H[0],te=this.performAction.call(this,this.yy,this,ee,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),te)return te;if(this._backtrack){for(var Y in j)this[Y]=j[Y];return!1}return!1},"test_match"),next:b(function(){if(this.done)return this.EOF;this._input||(this.done=!0);var H,ee,te,U;this._more||(this.yytext="",this.match="");for(var j=this._currentRules(),Y=0;Y<j.length;Y++)if(te=this._input.match(this.rules[j[Y]]),te&&(!ee||te[0].length>ee[0].length)){if(ee=te,U=Y,this.options.backtrack_lexer){if(H=this.test_match(te,j[Y]),H!==!1)return H;if(this._backtrack){ee=!1;continue}else return!1}else if(!this.options.flex)break}return ee?(H=this.test_match(ee,j[U]),H!==!1?H:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:b(function(){var ee=this.next();return ee||this.lex()},"lex"),begin:b(function(ee){this.conditionStack.push(ee)},"begin"),popState:b(function(){var ee=this.conditionStack.length-1;return ee>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:b(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:b(function(ee){return ee=this.conditionStack.length-1-Math.abs(ee||0),ee>=0?this.conditionStack[ee]:"INITIAL"},"topState"),pushState:b(function(ee){this.begin(ee)},"pushState"),stateStackSize:b(function(){return this.conditionStack.length},"stateStackSize"),options:{"case-insensitive":!0},performAction:b(function(ee,te,U,j){switch(U){case 0:return"title";case 1:return this.begin("acc_title"),9;case 2:return this.popState(),"acc_title_value";case 3:return this.begin("acc_descr"),11;case 4:return this.popState(),"acc_descr_value";case 5:this.begin("acc_descr_multiline");break;case 6:this.popState();break;case 7:return"acc_descr_multiline_value";case 8:return 5;case 9:break;case 10:break;case 11:break;case 12:return 8;case 13:return 6;case 14:return 19;case 15:return 30;case 16:return 22;case 17:return 21;case 18:return 24;case 19:return 26;case 20:return 28;case 21:return 31;case 22:return 32;case 23:return 33;case 24:return 34;case 25:return 35;case 26:return 36;case 27:return 37;case 28:return 38;case 29:return 39;case 30:return 40;case 31:return 41;case 32:return 42;case 33:return 43;case 34:return 44;case 35:return 55;case 36:return 56;case 37:return 57;case 38:return 58;case 39:return 59;case 40:return 60;case 41:return 61;case 42:return 47;case 43:return 49;case 44:return 51;case 45:return 54;case 46:return 53;case 47:this.begin("string");break;case 48:this.popState();break;case 49:return"qString";case 50:return te.yytext=te.yytext.trim(),62}},"anonymous"),rules:[/^(?:title\s[^#\n;]+)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:(\r?\n)+)/i,/^(?:\s+)/i,/^(?:#[^\n]*)/i,/^(?:%[^\n]*)/i,/^(?:$)/i,/^(?:requirementDiagram\b)/i,/^(?:\{)/i,/^(?:\})/i,/^(?::)/i,/^(?:id\b)/i,/^(?:text\b)/i,/^(?:risk\b)/i,/^(?:verifyMethod\b)/i,/^(?:requirement\b)/i,/^(?:functionalRequirement\b)/i,/^(?:interfaceRequirement\b)/i,/^(?:performanceRequirement\b)/i,/^(?:physicalRequirement\b)/i,/^(?:designConstraint\b)/i,/^(?:low\b)/i,/^(?:medium\b)/i,/^(?:high\b)/i,/^(?:analysis\b)/i,/^(?:demonstration\b)/i,/^(?:inspection\b)/i,/^(?:test\b)/i,/^(?:element\b)/i,/^(?:contains\b)/i,/^(?:copies\b)/i,/^(?:derives\b)/i,/^(?:satisfies\b)/i,/^(?:verifies\b)/i,/^(?:refines\b)/i,/^(?:traces\b)/i,/^(?:type\b)/i,/^(?:docref\b)/i,/^(?:<-)/i,/^(?:->)/i,/^(?:-)/i,/^(?:["])/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:[\w][^\r\n\{\<\>\-\=]*)/i],conditions:{acc_descr_multiline:{rules:[6,7],inclusive:!1},acc_descr:{rules:[4],inclusive:!1},acc_title:{rules:[2],inclusive:!1},unqString:{rules:[],inclusive:!1},token:{rules:[],inclusive:!1},string:{rules:[48,49],inclusive:!1},INITIAL:{rules:[0,1,3,5,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,50],inclusive:!0}}};return Z}();V.lexer=W;function K(){this.yy={}}return b(K,"Parser"),K.prototype=V,V.Parser=K,new K}();QC.parser=QC;var tze=QC,qL=[],ts={},$m=new Map,Gu={},zm=new Map,rze={REQUIREMENT:"Requirement",FUNCTIONAL_REQUIREMENT:"Functional Requirement",INTERFACE_REQUIREMENT:"Interface Requirement",PERFORMANCE_REQUIREMENT:"Performance Requirement",PHYSICAL_REQUIREMENT:"Physical Requirement",DESIGN_CONSTRAINT:"Design Constraint"},nze={LOW_RISK:"Low",MED_RISK:"Medium",HIGH_RISK:"High"},ize={VERIFY_ANALYSIS:"Analysis",VERIFY_DEMONSTRATION:"Demonstration",VERIFY_INSPECTION:"Inspection",VERIFY_TEST:"Test"},aze={CONTAINS:"contains",COPIES:"copies",DERIVES:"derives",SATISFIES:"satisfies",VERIFIES:"verifies",REFINES:"refines",TRACES:"traces"},sze=b((t,e)=>($m.has(t)||$m.set(t,{name:t,type:e,id:ts.id,text:ts.text,risk:ts.risk,verifyMethod:ts.verifyMethod}),ts={},$m.get(t)),"addRequirement"),oze=b(()=>$m,"getRequirements"),lze=b(t=>{ts!==void 0&&(ts.id=t)},"setNewReqId"),cze=b(t=>{ts!==void 0&&(ts.text=t)},"setNewReqText"),uze=b(t=>{ts!==void 0&&(ts.risk=t)},"setNewReqRisk"),hze=b(t=>{ts!==void 0&&(ts.verifyMethod=t)},"setNewReqVerifyMethod"),dze=b(t=>(zm.has(t)||(zm.set(t,{name:t,type:Gu.type,docRef:Gu.docRef}),q.info("Added new requirement: ",t)),Gu={},zm.get(t)),"addElement"),fze=b(()=>zm,"getElements"),pze=b(t=>{Gu!==void 0&&(Gu.type=t)},"setNewElementType"),gze=b(t=>{Gu!==void 0&&(Gu.docRef=t)},"setNewElementDocRef"),mze=b((t,e,r)=>{qL.push({type:t,src:e,dst:r})},"addRelationship"),vze=b(()=>qL,"getRelationships"),yze=b(()=>{qL=[],ts={},$m=new Map,Gu={},zm=new Map,Ni()},"clear"),xze={RequirementType:rze,RiskLevel:nze,VerifyType:ize,Relationships:aze,getConfig:b(()=>we().req,"getConfig"),addRequirement:sze,getRequirements:oze,setNewReqId:lze,setNewReqText:cze,setNewReqRisk:uze,setNewReqVerifyMethod:hze,setAccTitle:Ri,getAccTitle:Qi,setAccDescription:Zi,getAccDescription:Ji,addElement:dze,getElements:fze,setNewElementType:pze,setNewElementDocRef:gze,addRelationship:mze,getRelationships:vze,clear:yze},bze=b(t=>`

  marker {
    fill: ${t.relationColor};
    stroke: ${t.relationColor};
  }

  marker.cross {
    stroke: ${t.lineColor};
  }

  svg {
    font-family: ${t.fontFamily};
    font-size: ${t.fontSize};
  }

  .reqBox {
    fill: ${t.requirementBackground};
    fill-opacity: 1.0;
    stroke: ${t.requirementBorderColor};
    stroke-width: ${t.requirementBorderSize};
  }
  
  .reqTitle, .reqLabel{
    fill:  ${t.requirementTextColor};
  }
  .reqLabelBox {
    fill: ${t.relationLabelBackground};
    fill-opacity: 1.0;
  }

  .req-title-line {
    stroke: ${t.requirementBorderColor};
    stroke-width: ${t.requirementBorderSize};
  }
  .relationshipLine {
    stroke: ${t.relationColor};
    stroke-width: 1;
  }
  .relationshipLabel {
    fill: ${t.relationLabelColor};
  }

`,"getStyles"),wze=bze,ZC={CONTAINS:"contains",ARROW:"arrow"},kze=b((t,e)=>{let r=t.append("defs").append("marker").attr("id",ZC.CONTAINS+"_line_ending").attr("refX",0).attr("refY",e.line_height/2).attr("markerWidth",e.line_height).attr("markerHeight",e.line_height).attr("orient","auto").append("g");r.append("circle").attr("cx",e.line_height/2).attr("cy",e.line_height/2).attr("r",e.line_height/2).attr("fill","none"),r.append("line").attr("x1",0).attr("x2",e.line_height).attr("y1",e.line_height/2).attr("y2",e.line_height/2).attr("stroke-width",1),r.append("line").attr("y1",0).attr("y2",e.line_height).attr("x1",e.line_height/2).attr("x2",e.line_height/2).attr("stroke-width",1),t.append("defs").append("marker").attr("id",ZC.ARROW+"_line_ending").attr("refX",e.line_height).attr("refY",.5*e.line_height).attr("markerWidth",e.line_height).attr("markerHeight",e.line_height).attr("orient","auto").append("path").attr("d",`M0,0
      L${e.line_height},${e.line_height/2}
      M${e.line_height},${e.line_height/2}
      L0,${e.line_height}`).attr("stroke-width",1)},"insertLineEndings"),Xre={ReqMarkers:ZC,insertLineEndings:kze},Ln={},pB=0,Kre=b((t,e)=>t.insert("rect","#"+e).attr("class","req reqBox").attr("x",0).attr("y",0).attr("width",Ln.rect_min_width+"px").attr("height",Ln.rect_min_height+"px"),"newRectNode"),Qre=b((t,e,r)=>{let n=Ln.rect_min_width/2,i=t.append("text").attr("class","req reqLabel reqTitle").attr("id",e).attr("x",n).attr("y",Ln.rect_padding).attr("dominant-baseline","hanging"),a=0;r.forEach(u=>{a==0?i.append("tspan").attr("text-anchor","middle").attr("x",Ln.rect_min_width/2).attr("dy",0).text(u):i.append("tspan").attr("text-anchor","middle").attr("x",Ln.rect_min_width/2).attr("dy",Ln.line_height*.75).text(u),a++});let s=1.5*Ln.rect_padding,o=a*Ln.line_height*.75,l=s+o;return t.append("line").attr("class","req-title-line").attr("x1","0").attr("x2",Ln.rect_min_width).attr("y1",l).attr("y2",l),{titleNode:i,y:l}},"newTitleNode"),Zre=b((t,e,r,n)=>{let i=t.append("text").attr("class","req reqLabel").attr("id",e).attr("x",Ln.rect_padding).attr("y",n).attr("dominant-baseline","hanging"),a=0;const s=30;let o=[];return r.forEach(l=>{let u=l.length;for(;u>s&&a<3;){let h=l.substring(0,s);l=l.substring(s,l.length),u=l.length,o[o.length]=h,a++}if(a==3){let h=o[o.length-1];o[o.length-1]=h.substring(0,h.length-4)+"..."}else o[o.length]=l;a=0}),o.forEach(l=>{i.append("tspan").attr("x",Ln.rect_padding).attr("dy",Ln.line_height).text(l)}),i},"newBodyNode"),Tze=b((t,e,r,n)=>{const i=e.node().getTotalLength(),a=e.node().getPointAtLength(i*.5),s="rel"+pB;pB++;const l=t.append("text").attr("class","req relationshipLabel").attr("id",s).attr("x",a.x).attr("y",a.y).attr("text-anchor","middle").attr("dominant-baseline","middle").text(n).node().getBBox();t.insert("rect","#"+s).attr("class","req reqLabelBox").attr("x",a.x-l.width/2).attr("y",a.y-l.height/2).attr("width",l.width).attr("height",l.height).attr("fill","white").attr("fill-opacity","85%")},"addEdgeLabel"),Eze=b(function(t,e,r,n,i){const a=r.edge(cg(e.src),cg(e.dst)),s=Xu().x(function(l){return l.x}).y(function(l){return l.y}),o=t.insert("path","#"+n).attr("class","er relationshipLine").attr("d",s(a.points)).attr("fill","none");e.type==i.db.Relationships.CONTAINS?o.attr("marker-start","url("+et.getUrl(Ln.arrowMarkerAbsolute)+"#"+e.type+"_line_ending)"):(o.attr("stroke-dasharray","10,7"),o.attr("marker-end","url("+et.getUrl(Ln.arrowMarkerAbsolute)+"#"+Xre.ReqMarkers.ARROW+"_line_ending)")),Tze(t,o,Ln,`<<${e.type}>>`)},"drawRelationshipFromLayout"),Sze=b((t,e,r)=>{t.forEach((n,i)=>{i=cg(i),q.info("Added new requirement: ",i);const a=r.append("g").attr("id",i),s="req-"+i,o=Kre(a,s);let l=[],u=Qre(a,i+"_title",[`<<${n.type}>>`,`${n.name}`]);l.push(u.titleNode);let h=Zre(a,i+"_body",[`Id: ${n.id}`,`Text: ${n.text}`,`Risk: ${n.risk}`,`Verification: ${n.verifyMethod}`],u.y);l.push(h);const d=o.node().getBBox();e.setNode(i,{width:d.width,height:d.height,shape:"rect",id:i})})},"drawReqs"),Cze=b((t,e,r)=>{t.forEach((n,i)=>{const a=cg(i),s=r.append("g").attr("id",a),o="element-"+a,l=Kre(s,o);let u=[],h=Qre(s,o+"_title",["<<Element>>",`${i}`]);u.push(h.titleNode);let d=Zre(s,o+"_body",[`Type: ${n.type||"Not Specified"}`,`Doc Ref: ${n.docRef||"None"}`],h.y);u.push(d);const p=l.node().getBBox();e.setNode(a,{width:p.width,height:p.height,shape:"rect",id:a})})},"drawElements"),Aze=b((t,e)=>(t.forEach(function(r){let n=cg(r.src),i=cg(r.dst);e.setEdge(n,i,{relationship:r})}),t),"addRelationships"),_ze=b(function(t,e){e.nodes().forEach(function(r){r!==void 0&&e.node(r)!==void 0&&(t.select("#"+r),t.select("#"+r).attr("transform","translate("+(e.node(r).x-e.node(r).width/2)+","+(e.node(r).y-e.node(r).height/2)+" )"))})},"adjustEntities"),cg=b(t=>t.replace(/\s/g,"").replace(/\./g,"_"),"elementString"),Lze=b((t,e,r,n)=>{Ln=we().requirement;const i=Ln.securityLevel;let a;i==="sandbox"&&(a=Ke("#i"+e));const o=Ke(i==="sandbox"?a.nodes()[0].contentDocument.body:"body").select(`[id='${e}']`);Xre.insertLineEndings(o,Ln);const l=new bi({multigraph:!1,compound:!1,directed:!0}).setGraph({rankdir:Ln.layoutDirection,marginx:20,marginy:20,nodesep:100,edgesep:100,ranksep:100}).setDefaultEdgeLabel(function(){return{}});let u=n.db.getRequirements(),h=n.db.getElements(),d=n.db.getRelationships();Sze(u,l,o),Cze(h,l,o),Aze(d,l),Fg(l),_ze(o,l),d.forEach(function(y){Eze(o,y,l,e,n)});const p=Ln.rect_padding,f=o.node().getBBox(),g=f.width+p*2,m=f.height+p*2;Ki(o,m,g,Ln.useMaxWidth),o.attr("viewBox",`${f.x-p} ${f.y-p} ${g} ${m}`)},"draw"),Nze={draw:Lze},Rze={parser:tze,db:xze,renderer:Nze,styles:wze};const Mze=Object.freeze(Object.defineProperty({__proto__:null,diagram:Rze},Symbol.toStringTag,{value:"Module"}));var JC=function(){var t=b(function(U,j,Y,Q){for(Y=Y||{},Q=U.length;Q--;Y[U[Q]]=j);return Y},"o"),e=[1,2],r=[1,3],n=[1,4],i=[2,4],a=[1,9],s=[1,11],o=[1,13],l=[1,14],u=[1,16],h=[1,17],d=[1,18],p=[1,24],f=[1,25],g=[1,26],m=[1,27],y=[1,28],v=[1,29],x=[1,30],w=[1,31],k=[1,32],E=[1,33],_=[1,34],S=[1,35],R=[1,36],C=[1,37],L=[1,38],A=[1,39],N=[1,41],F=[1,42],T=[1,43],D=[1,44],M=[1,45],O=[1,46],I=[1,4,5,13,14,16,18,21,23,29,30,31,33,35,36,37,38,39,41,43,44,46,47,48,49,50,52,53,54,59,60,61,62,70],P=[4,5,16,50,52,53],B=[4,5,13,14,16,18,21,23,29,30,31,33,35,36,37,38,39,41,43,44,46,50,52,53,54,59,60,61,62,70],$=[4,5,13,14,16,18,21,23,29,30,31,33,35,36,37,38,39,41,43,44,46,49,50,52,53,54,59,60,61,62,70],V=[4,5,13,14,16,18,21,23,29,30,31,33,35,36,37,38,39,41,43,44,46,48,50,52,53,54,59,60,61,62,70],W=[4,5,13,14,16,18,21,23,29,30,31,33,35,36,37,38,39,41,43,44,46,47,50,52,53,54,59,60,61,62,70],K=[68,69,70],Z=[1,122],H={trace:b(function(){},"trace"),yy:{},symbols_:{error:2,start:3,SPACE:4,NEWLINE:5,SD:6,document:7,line:8,statement:9,box_section:10,box_line:11,participant_statement:12,create:13,box:14,restOfLine:15,end:16,signal:17,autonumber:18,NUM:19,off:20,activate:21,actor:22,deactivate:23,note_statement:24,links_statement:25,link_statement:26,properties_statement:27,details_statement:28,title:29,legacy_title:30,acc_title:31,acc_title_value:32,acc_descr:33,acc_descr_value:34,acc_descr_multiline_value:35,loop:36,rect:37,opt:38,alt:39,else_sections:40,par:41,par_sections:42,par_over:43,critical:44,option_sections:45,break:46,option:47,and:48,else:49,participant:50,AS:51,participant_actor:52,destroy:53,note:54,placement:55,text2:56,over:57,actor_pair:58,links:59,link:60,properties:61,details:62,spaceList:63,",":64,left_of:65,right_of:66,signaltype:67,"+":68,"-":69,ACTOR:70,SOLID_OPEN_ARROW:71,DOTTED_OPEN_ARROW:72,SOLID_ARROW:73,BIDIRECTIONAL_SOLID_ARROW:74,DOTTED_ARROW:75,BIDIRECTIONAL_DOTTED_ARROW:76,SOLID_CROSS:77,DOTTED_CROSS:78,SOLID_POINT:79,DOTTED_POINT:80,TXT:81,$accept:0,$end:1},terminals_:{2:"error",4:"SPACE",5:"NEWLINE",6:"SD",13:"create",14:"box",15:"restOfLine",16:"end",18:"autonumber",19:"NUM",20:"off",21:"activate",23:"deactivate",29:"title",30:"legacy_title",31:"acc_title",32:"acc_title_value",33:"acc_descr",34:"acc_descr_value",35:"acc_descr_multiline_value",36:"loop",37:"rect",38:"opt",39:"alt",41:"par",43:"par_over",44:"critical",46:"break",47:"option",48:"and",49:"else",50:"participant",51:"AS",52:"participant_actor",53:"destroy",54:"note",57:"over",59:"links",60:"link",61:"properties",62:"details",64:",",65:"left_of",66:"right_of",68:"+",69:"-",70:"ACTOR",71:"SOLID_OPEN_ARROW",72:"DOTTED_OPEN_ARROW",73:"SOLID_ARROW",74:"BIDIRECTIONAL_SOLID_ARROW",75:"DOTTED_ARROW",76:"BIDIRECTIONAL_DOTTED_ARROW",77:"SOLID_CROSS",78:"DOTTED_CROSS",79:"SOLID_POINT",80:"DOTTED_POINT",81:"TXT"},productions_:[0,[3,2],[3,2],[3,2],[7,0],[7,2],[8,2],[8,1],[8,1],[10,0],[10,2],[11,2],[11,1],[11,1],[9,1],[9,2],[9,4],[9,2],[9,4],[9,3],[9,3],[9,2],[9,3],[9,3],[9,2],[9,2],[9,2],[9,2],[9,2],[9,1],[9,1],[9,2],[9,2],[9,1],[9,4],[9,4],[9,4],[9,4],[9,4],[9,4],[9,4],[9,4],[45,1],[45,4],[42,1],[42,4],[40,1],[40,4],[12,5],[12,3],[12,5],[12,3],[12,3],[24,4],[24,4],[25,3],[26,3],[27,3],[28,3],[63,2],[63,1],[58,3],[58,1],[55,1],[55,1],[17,5],[17,5],[17,4],[22,1],[67,1],[67,1],[67,1],[67,1],[67,1],[67,1],[67,1],[67,1],[67,1],[67,1],[56,1]],performAction:b(function(j,Y,Q,ae,ie,J,_e){var ce=J.length-1;switch(ie){case 3:return ae.apply(J[ce]),J[ce];case 4:case 9:this.$=[];break;case 5:case 10:J[ce-1].push(J[ce]),this.$=J[ce-1];break;case 6:case 7:case 11:case 12:this.$=J[ce];break;case 8:case 13:this.$=[];break;case 15:J[ce].type="createParticipant",this.$=J[ce];break;case 16:J[ce-1].unshift({type:"boxStart",boxData:ae.parseBoxData(J[ce-2])}),J[ce-1].push({type:"boxEnd",boxText:J[ce-2]}),this.$=J[ce-1];break;case 18:this.$={type:"sequenceIndex",sequenceIndex:Number(J[ce-2]),sequenceIndexStep:Number(J[ce-1]),sequenceVisible:!0,signalType:ae.LINETYPE.AUTONUMBER};break;case 19:this.$={type:"sequenceIndex",sequenceIndex:Number(J[ce-1]),sequenceIndexStep:1,sequenceVisible:!0,signalType:ae.LINETYPE.AUTONUMBER};break;case 20:this.$={type:"sequenceIndex",sequenceVisible:!1,signalType:ae.LINETYPE.AUTONUMBER};break;case 21:this.$={type:"sequenceIndex",sequenceVisible:!0,signalType:ae.LINETYPE.AUTONUMBER};break;case 22:this.$={type:"activeStart",signalType:ae.LINETYPE.ACTIVE_START,actor:J[ce-1].actor};break;case 23:this.$={type:"activeEnd",signalType:ae.LINETYPE.ACTIVE_END,actor:J[ce-1].actor};break;case 29:ae.setDiagramTitle(J[ce].substring(6)),this.$=J[ce].substring(6);break;case 30:ae.setDiagramTitle(J[ce].substring(7)),this.$=J[ce].substring(7);break;case 31:this.$=J[ce].trim(),ae.setAccTitle(this.$);break;case 32:case 33:this.$=J[ce].trim(),ae.setAccDescription(this.$);break;case 34:J[ce-1].unshift({type:"loopStart",loopText:ae.parseMessage(J[ce-2]),signalType:ae.LINETYPE.LOOP_START}),J[ce-1].push({type:"loopEnd",loopText:J[ce-2],signalType:ae.LINETYPE.LOOP_END}),this.$=J[ce-1];break;case 35:J[ce-1].unshift({type:"rectStart",color:ae.parseMessage(J[ce-2]),signalType:ae.LINETYPE.RECT_START}),J[ce-1].push({type:"rectEnd",color:ae.parseMessage(J[ce-2]),signalType:ae.LINETYPE.RECT_END}),this.$=J[ce-1];break;case 36:J[ce-1].unshift({type:"optStart",optText:ae.parseMessage(J[ce-2]),signalType:ae.LINETYPE.OPT_START}),J[ce-1].push({type:"optEnd",optText:ae.parseMessage(J[ce-2]),signalType:ae.LINETYPE.OPT_END}),this.$=J[ce-1];break;case 37:J[ce-1].unshift({type:"altStart",altText:ae.parseMessage(J[ce-2]),signalType:ae.LINETYPE.ALT_START}),J[ce-1].push({type:"altEnd",signalType:ae.LINETYPE.ALT_END}),this.$=J[ce-1];break;case 38:J[ce-1].unshift({type:"parStart",parText:ae.parseMessage(J[ce-2]),signalType:ae.LINETYPE.PAR_START}),J[ce-1].push({type:"parEnd",signalType:ae.LINETYPE.PAR_END}),this.$=J[ce-1];break;case 39:J[ce-1].unshift({type:"parStart",parText:ae.parseMessage(J[ce-2]),signalType:ae.LINETYPE.PAR_OVER_START}),J[ce-1].push({type:"parEnd",signalType:ae.LINETYPE.PAR_END}),this.$=J[ce-1];break;case 40:J[ce-1].unshift({type:"criticalStart",criticalText:ae.parseMessage(J[ce-2]),signalType:ae.LINETYPE.CRITICAL_START}),J[ce-1].push({type:"criticalEnd",signalType:ae.LINETYPE.CRITICAL_END}),this.$=J[ce-1];break;case 41:J[ce-1].unshift({type:"breakStart",breakText:ae.parseMessage(J[ce-2]),signalType:ae.LINETYPE.BREAK_START}),J[ce-1].push({type:"breakEnd",optText:ae.parseMessage(J[ce-2]),signalType:ae.LINETYPE.BREAK_END}),this.$=J[ce-1];break;case 43:this.$=J[ce-3].concat([{type:"option",optionText:ae.parseMessage(J[ce-1]),signalType:ae.LINETYPE.CRITICAL_OPTION},J[ce]]);break;case 45:this.$=J[ce-3].concat([{type:"and",parText:ae.parseMessage(J[ce-1]),signalType:ae.LINETYPE.PAR_AND},J[ce]]);break;case 47:this.$=J[ce-3].concat([{type:"else",altText:ae.parseMessage(J[ce-1]),signalType:ae.LINETYPE.ALT_ELSE},J[ce]]);break;case 48:J[ce-3].draw="participant",J[ce-3].type="addParticipant",J[ce-3].description=ae.parseMessage(J[ce-1]),this.$=J[ce-3];break;case 49:J[ce-1].draw="participant",J[ce-1].type="addParticipant",this.$=J[ce-1];break;case 50:J[ce-3].draw="actor",J[ce-3].type="addParticipant",J[ce-3].description=ae.parseMessage(J[ce-1]),this.$=J[ce-3];break;case 51:J[ce-1].draw="actor",J[ce-1].type="addParticipant",this.$=J[ce-1];break;case 52:J[ce-1].type="destroyParticipant",this.$=J[ce-1];break;case 53:this.$=[J[ce-1],{type:"addNote",placement:J[ce-2],actor:J[ce-1].actor,text:J[ce]}];break;case 54:J[ce-2]=[].concat(J[ce-1],J[ce-1]).slice(0,2),J[ce-2][0]=J[ce-2][0].actor,J[ce-2][1]=J[ce-2][1].actor,this.$=[J[ce-1],{type:"addNote",placement:ae.PLACEMENT.OVER,actor:J[ce-2].slice(0,2),text:J[ce]}];break;case 55:this.$=[J[ce-1],{type:"addLinks",actor:J[ce-1].actor,text:J[ce]}];break;case 56:this.$=[J[ce-1],{type:"addALink",actor:J[ce-1].actor,text:J[ce]}];break;case 57:this.$=[J[ce-1],{type:"addProperties",actor:J[ce-1].actor,text:J[ce]}];break;case 58:this.$=[J[ce-1],{type:"addDetails",actor:J[ce-1].actor,text:J[ce]}];break;case 61:this.$=[J[ce-2],J[ce]];break;case 62:this.$=J[ce];break;case 63:this.$=ae.PLACEMENT.LEFTOF;break;case 64:this.$=ae.PLACEMENT.RIGHTOF;break;case 65:this.$=[J[ce-4],J[ce-1],{type:"addMessage",from:J[ce-4].actor,to:J[ce-1].actor,signalType:J[ce-3],msg:J[ce],activate:!0},{type:"activeStart",signalType:ae.LINETYPE.ACTIVE_START,actor:J[ce-1].actor}];break;case 66:this.$=[J[ce-4],J[ce-1],{type:"addMessage",from:J[ce-4].actor,to:J[ce-1].actor,signalType:J[ce-3],msg:J[ce]},{type:"activeEnd",signalType:ae.LINETYPE.ACTIVE_END,actor:J[ce-4].actor}];break;case 67:this.$=[J[ce-3],J[ce-1],{type:"addMessage",from:J[ce-3].actor,to:J[ce-1].actor,signalType:J[ce-2],msg:J[ce]}];break;case 68:this.$={type:"addParticipant",actor:J[ce]};break;case 69:this.$=ae.LINETYPE.SOLID_OPEN;break;case 70:this.$=ae.LINETYPE.DOTTED_OPEN;break;case 71:this.$=ae.LINETYPE.SOLID;break;case 72:this.$=ae.LINETYPE.BIDIRECTIONAL_SOLID;break;case 73:this.$=ae.LINETYPE.DOTTED;break;case 74:this.$=ae.LINETYPE.BIDIRECTIONAL_DOTTED;break;case 75:this.$=ae.LINETYPE.SOLID_CROSS;break;case 76:this.$=ae.LINETYPE.DOTTED_CROSS;break;case 77:this.$=ae.LINETYPE.SOLID_POINT;break;case 78:this.$=ae.LINETYPE.DOTTED_POINT;break;case 79:this.$=ae.parseMessage(J[ce].trim().substring(1));break}},"anonymous"),table:[{3:1,4:e,5:r,6:n},{1:[3]},{3:5,4:e,5:r,6:n},{3:6,4:e,5:r,6:n},t([1,4,5,13,14,18,21,23,29,30,31,33,35,36,37,38,39,41,43,44,46,50,52,53,54,59,60,61,62,70],i,{7:7}),{1:[2,1]},{1:[2,2]},{1:[2,3],4:a,5:s,8:8,9:10,12:12,13:o,14:l,17:15,18:u,21:h,22:40,23:d,24:19,25:20,26:21,27:22,28:23,29:p,30:f,31:g,33:m,35:y,36:v,37:x,38:w,39:k,41:E,43:_,44:S,46:R,50:C,52:L,53:A,54:N,59:F,60:T,61:D,62:M,70:O},t(I,[2,5]),{9:47,12:12,13:o,14:l,17:15,18:u,21:h,22:40,23:d,24:19,25:20,26:21,27:22,28:23,29:p,30:f,31:g,33:m,35:y,36:v,37:x,38:w,39:k,41:E,43:_,44:S,46:R,50:C,52:L,53:A,54:N,59:F,60:T,61:D,62:M,70:O},t(I,[2,7]),t(I,[2,8]),t(I,[2,14]),{12:48,50:C,52:L,53:A},{15:[1,49]},{5:[1,50]},{5:[1,53],19:[1,51],20:[1,52]},{22:54,70:O},{22:55,70:O},{5:[1,56]},{5:[1,57]},{5:[1,58]},{5:[1,59]},{5:[1,60]},t(I,[2,29]),t(I,[2,30]),{32:[1,61]},{34:[1,62]},t(I,[2,33]),{15:[1,63]},{15:[1,64]},{15:[1,65]},{15:[1,66]},{15:[1,67]},{15:[1,68]},{15:[1,69]},{15:[1,70]},{22:71,70:O},{22:72,70:O},{22:73,70:O},{67:74,71:[1,75],72:[1,76],73:[1,77],74:[1,78],75:[1,79],76:[1,80],77:[1,81],78:[1,82],79:[1,83],80:[1,84]},{55:85,57:[1,86],65:[1,87],66:[1,88]},{22:89,70:O},{22:90,70:O},{22:91,70:O},{22:92,70:O},t([5,51,64,71,72,73,74,75,76,77,78,79,80,81],[2,68]),t(I,[2,6]),t(I,[2,15]),t(P,[2,9],{10:93}),t(I,[2,17]),{5:[1,95],19:[1,94]},{5:[1,96]},t(I,[2,21]),{5:[1,97]},{5:[1,98]},t(I,[2,24]),t(I,[2,25]),t(I,[2,26]),t(I,[2,27]),t(I,[2,28]),t(I,[2,31]),t(I,[2,32]),t(B,i,{7:99}),t(B,i,{7:100}),t(B,i,{7:101}),t($,i,{40:102,7:103}),t(V,i,{42:104,7:105}),t(V,i,{7:105,42:106}),t(W,i,{45:107,7:108}),t(B,i,{7:109}),{5:[1,111],51:[1,110]},{5:[1,113],51:[1,112]},{5:[1,114]},{22:117,68:[1,115],69:[1,116],70:O},t(K,[2,69]),t(K,[2,70]),t(K,[2,71]),t(K,[2,72]),t(K,[2,73]),t(K,[2,74]),t(K,[2,75]),t(K,[2,76]),t(K,[2,77]),t(K,[2,78]),{22:118,70:O},{22:120,58:119,70:O},{70:[2,63]},{70:[2,64]},{56:121,81:Z},{56:123,81:Z},{56:124,81:Z},{56:125,81:Z},{4:[1,128],5:[1,130],11:127,12:129,16:[1,126],50:C,52:L,53:A},{5:[1,131]},t(I,[2,19]),t(I,[2,20]),t(I,[2,22]),t(I,[2,23]),{4:a,5:s,8:8,9:10,12:12,13:o,14:l,16:[1,132],17:15,18:u,21:h,22:40,23:d,24:19,25:20,26:21,27:22,28:23,29:p,30:f,31:g,33:m,35:y,36:v,37:x,38:w,39:k,41:E,43:_,44:S,46:R,50:C,52:L,53:A,54:N,59:F,60:T,61:D,62:M,70:O},{4:a,5:s,8:8,9:10,12:12,13:o,14:l,16:[1,133],17:15,18:u,21:h,22:40,23:d,24:19,25:20,26:21,27:22,28:23,29:p,30:f,31:g,33:m,35:y,36:v,37:x,38:w,39:k,41:E,43:_,44:S,46:R,50:C,52:L,53:A,54:N,59:F,60:T,61:D,62:M,70:O},{4:a,5:s,8:8,9:10,12:12,13:o,14:l,16:[1,134],17:15,18:u,21:h,22:40,23:d,24:19,25:20,26:21,27:22,28:23,29:p,30:f,31:g,33:m,35:y,36:v,37:x,38:w,39:k,41:E,43:_,44:S,46:R,50:C,52:L,53:A,54:N,59:F,60:T,61:D,62:M,70:O},{16:[1,135]},{4:a,5:s,8:8,9:10,12:12,13:o,14:l,16:[2,46],17:15,18:u,21:h,22:40,23:d,24:19,25:20,26:21,27:22,28:23,29:p,30:f,31:g,33:m,35:y,36:v,37:x,38:w,39:k,41:E,43:_,44:S,46:R,49:[1,136],50:C,52:L,53:A,54:N,59:F,60:T,61:D,62:M,70:O},{16:[1,137]},{4:a,5:s,8:8,9:10,12:12,13:o,14:l,16:[2,44],17:15,18:u,21:h,22:40,23:d,24:19,25:20,26:21,27:22,28:23,29:p,30:f,31:g,33:m,35:y,36:v,37:x,38:w,39:k,41:E,43:_,44:S,46:R,48:[1,138],50:C,52:L,53:A,54:N,59:F,60:T,61:D,62:M,70:O},{16:[1,139]},{16:[1,140]},{4:a,5:s,8:8,9:10,12:12,13:o,14:l,16:[2,42],17:15,18:u,21:h,22:40,23:d,24:19,25:20,26:21,27:22,28:23,29:p,30:f,31:g,33:m,35:y,36:v,37:x,38:w,39:k,41:E,43:_,44:S,46:R,47:[1,141],50:C,52:L,53:A,54:N,59:F,60:T,61:D,62:M,70:O},{4:a,5:s,8:8,9:10,12:12,13:o,14:l,16:[1,142],17:15,18:u,21:h,22:40,23:d,24:19,25:20,26:21,27:22,28:23,29:p,30:f,31:g,33:m,35:y,36:v,37:x,38:w,39:k,41:E,43:_,44:S,46:R,50:C,52:L,53:A,54:N,59:F,60:T,61:D,62:M,70:O},{15:[1,143]},t(I,[2,49]),{15:[1,144]},t(I,[2,51]),t(I,[2,52]),{22:145,70:O},{22:146,70:O},{56:147,81:Z},{56:148,81:Z},{56:149,81:Z},{64:[1,150],81:[2,62]},{5:[2,55]},{5:[2,79]},{5:[2,56]},{5:[2,57]},{5:[2,58]},t(I,[2,16]),t(P,[2,10]),{12:151,50:C,52:L,53:A},t(P,[2,12]),t(P,[2,13]),t(I,[2,18]),t(I,[2,34]),t(I,[2,35]),t(I,[2,36]),t(I,[2,37]),{15:[1,152]},t(I,[2,38]),{15:[1,153]},t(I,[2,39]),t(I,[2,40]),{15:[1,154]},t(I,[2,41]),{5:[1,155]},{5:[1,156]},{56:157,81:Z},{56:158,81:Z},{5:[2,67]},{5:[2,53]},{5:[2,54]},{22:159,70:O},t(P,[2,11]),t($,i,{7:103,40:160}),t(V,i,{7:105,42:161}),t(W,i,{7:108,45:162}),t(I,[2,48]),t(I,[2,50]),{5:[2,65]},{5:[2,66]},{81:[2,61]},{16:[2,47]},{16:[2,45]},{16:[2,43]}],defaultActions:{5:[2,1],6:[2,2],87:[2,63],88:[2,64],121:[2,55],122:[2,79],123:[2,56],124:[2,57],125:[2,58],147:[2,67],148:[2,53],149:[2,54],157:[2,65],158:[2,66],159:[2,61],160:[2,47],161:[2,45],162:[2,43]},parseError:b(function(j,Y){if(Y.recoverable)this.trace(j);else{var Q=new Error(j);throw Q.hash=Y,Q}},"parseError"),parse:b(function(j){var Y=this,Q=[0],ae=[],ie=[null],J=[],_e=this.table,ce="",Te=0,be=0,Ue=2,He=1,Ve=J.slice.call(arguments,1),Re=Object.create(this.lexer),de={yy:{}};for(var X in this.yy)Object.prototype.hasOwnProperty.call(this.yy,X)&&(de.yy[X]=this.yy[X]);Re.setInput(j,de.yy),de.yy.lexer=Re,de.yy.parser=this,typeof Re.yylloc>"u"&&(Re.yylloc={});var oe=Re.yylloc;J.push(oe);var me=Re.options&&Re.options.ranges;typeof de.yy.parseError=="function"?this.parseError=de.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function ne(De){Q.length=Q.length-2*De,ie.length=ie.length-De,J.length=J.length-De}b(ne,"popStack");function ue(){var De;return De=ae.pop()||Re.lex()||He,typeof De!="number"&&(De instanceof Array&&(ae=De,De=ae.pop()),De=Y.symbols_[De]||De),De}b(ue,"lex");for(var pe,ge,ve,Ee,Ce={},Ne,Se,Ie,Ae;;){if(ge=Q[Q.length-1],this.defaultActions[ge]?ve=this.defaultActions[ge]:((pe===null||typeof pe>"u")&&(pe=ue()),ve=_e[ge]&&_e[ge][pe]),typeof ve>"u"||!ve.length||!ve[0]){var qe="";Ae=[];for(Ne in _e[ge])this.terminals_[Ne]&&Ne>Ue&&Ae.push("'"+this.terminals_[Ne]+"'");Re.showPosition?qe="Parse error on line "+(Te+1)+`:
`+Re.showPosition()+`
Expecting `+Ae.join(", ")+", got '"+(this.terminals_[pe]||pe)+"'":qe="Parse error on line "+(Te+1)+": Unexpected "+(pe==He?"end of input":"'"+(this.terminals_[pe]||pe)+"'"),this.parseError(qe,{text:Re.match,token:this.terminals_[pe]||pe,line:Re.yylineno,loc:oe,expected:Ae})}if(ve[0]instanceof Array&&ve.length>1)throw new Error("Parse Error: multiple actions possible at state: "+ge+", token: "+pe);switch(ve[0]){case 1:Q.push(pe),ie.push(Re.yytext),J.push(Re.yylloc),Q.push(ve[1]),pe=null,be=Re.yyleng,ce=Re.yytext,Te=Re.yylineno,oe=Re.yylloc;break;case 2:if(Se=this.productions_[ve[1]][1],Ce.$=ie[ie.length-Se],Ce._$={first_line:J[J.length-(Se||1)].first_line,last_line:J[J.length-1].last_line,first_column:J[J.length-(Se||1)].first_column,last_column:J[J.length-1].last_column},me&&(Ce._$.range=[J[J.length-(Se||1)].range[0],J[J.length-1].range[1]]),Ee=this.performAction.apply(Ce,[ce,be,Te,de.yy,ve[1],ie,J].concat(Ve)),typeof Ee<"u")return Ee;Se&&(Q=Q.slice(0,-1*Se*2),ie=ie.slice(0,-1*Se),J=J.slice(0,-1*Se)),Q.push(this.productions_[ve[1]][0]),ie.push(Ce.$),J.push(Ce._$),Ie=_e[Q[Q.length-2]][Q[Q.length-1]],Q.push(Ie);break;case 3:return!0}}return!0},"parse")},ee=function(){var U={EOF:1,parseError:b(function(Y,Q){if(this.yy.parser)this.yy.parser.parseError(Y,Q);else throw new Error(Y)},"parseError"),setInput:b(function(j,Y){return this.yy=Y||this.yy||{},this._input=j,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},"setInput"),input:b(function(){var j=this._input[0];this.yytext+=j,this.yyleng++,this.offset++,this.match+=j,this.matched+=j;var Y=j.match(/(?:\r\n?|\n).*/g);return Y?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),j},"input"),unput:b(function(j){var Y=j.length,Q=j.split(/(?:\r\n?|\n)/g);this._input=j+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-Y),this.offset-=Y;var ae=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),Q.length-1&&(this.yylineno-=Q.length-1);var ie=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:Q?(Q.length===ae.length?this.yylloc.first_column:0)+ae[ae.length-Q.length].length-Q[0].length:this.yylloc.first_column-Y},this.options.ranges&&(this.yylloc.range=[ie[0],ie[0]+this.yyleng-Y]),this.yyleng=this.yytext.length,this},"unput"),more:b(function(){return this._more=!0,this},"more"),reject:b(function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},"reject"),less:b(function(j){this.unput(this.match.slice(j))},"less"),pastInput:b(function(){var j=this.matched.substr(0,this.matched.length-this.match.length);return(j.length>20?"...":"")+j.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:b(function(){var j=this.match;return j.length<20&&(j+=this._input.substr(0,20-j.length)),(j.substr(0,20)+(j.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:b(function(){var j=this.pastInput(),Y=new Array(j.length+1).join("-");return j+this.upcomingInput()+`
`+Y+"^"},"showPosition"),test_match:b(function(j,Y){var Q,ae,ie;if(this.options.backtrack_lexer&&(ie={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(ie.yylloc.range=this.yylloc.range.slice(0))),ae=j[0].match(/(?:\r\n?|\n).*/g),ae&&(this.yylineno+=ae.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:ae?ae[ae.length-1].length-ae[ae.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+j[0].length},this.yytext+=j[0],this.match+=j[0],this.matches=j,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(j[0].length),this.matched+=j[0],Q=this.performAction.call(this,this.yy,this,Y,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),Q)return Q;if(this._backtrack){for(var J in ie)this[J]=ie[J];return!1}return!1},"test_match"),next:b(function(){if(this.done)return this.EOF;this._input||(this.done=!0);var j,Y,Q,ae;this._more||(this.yytext="",this.match="");for(var ie=this._currentRules(),J=0;J<ie.length;J++)if(Q=this._input.match(this.rules[ie[J]]),Q&&(!Y||Q[0].length>Y[0].length)){if(Y=Q,ae=J,this.options.backtrack_lexer){if(j=this.test_match(Q,ie[J]),j!==!1)return j;if(this._backtrack){Y=!1;continue}else return!1}else if(!this.options.flex)break}return Y?(j=this.test_match(Y,ie[ae]),j!==!1?j:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:b(function(){var Y=this.next();return Y||this.lex()},"lex"),begin:b(function(Y){this.conditionStack.push(Y)},"begin"),popState:b(function(){var Y=this.conditionStack.length-1;return Y>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:b(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:b(function(Y){return Y=this.conditionStack.length-1-Math.abs(Y||0),Y>=0?this.conditionStack[Y]:"INITIAL"},"topState"),pushState:b(function(Y){this.begin(Y)},"pushState"),stateStackSize:b(function(){return this.conditionStack.length},"stateStackSize"),options:{"case-insensitive":!0},performAction:b(function(Y,Q,ae,ie){switch(ae){case 0:return 5;case 1:break;case 2:break;case 3:break;case 4:break;case 5:break;case 6:return 19;case 7:return this.begin("LINE"),14;case 8:return this.begin("ID"),50;case 9:return this.begin("ID"),52;case 10:return 13;case 11:return this.begin("ID"),53;case 12:return Q.yytext=Q.yytext.trim(),this.begin("ALIAS"),70;case 13:return this.popState(),this.popState(),this.begin("LINE"),51;case 14:return this.popState(),this.popState(),5;case 15:return this.begin("LINE"),36;case 16:return this.begin("LINE"),37;case 17:return this.begin("LINE"),38;case 18:return this.begin("LINE"),39;case 19:return this.begin("LINE"),49;case 20:return this.begin("LINE"),41;case 21:return this.begin("LINE"),43;case 22:return this.begin("LINE"),48;case 23:return this.begin("LINE"),44;case 24:return this.begin("LINE"),47;case 25:return this.begin("LINE"),46;case 26:return this.popState(),15;case 27:return 16;case 28:return 65;case 29:return 66;case 30:return 59;case 31:return 60;case 32:return 61;case 33:return 62;case 34:return 57;case 35:return 54;case 36:return this.begin("ID"),21;case 37:return this.begin("ID"),23;case 38:return 29;case 39:return 30;case 40:return this.begin("acc_title"),31;case 41:return this.popState(),"acc_title_value";case 42:return this.begin("acc_descr"),33;case 43:return this.popState(),"acc_descr_value";case 44:this.begin("acc_descr_multiline");break;case 45:this.popState();break;case 46:return"acc_descr_multiline_value";case 47:return 6;case 48:return 18;case 49:return 20;case 50:return 64;case 51:return 5;case 52:return Q.yytext=Q.yytext.trim(),70;case 53:return 73;case 54:return 74;case 55:return 75;case 56:return 76;case 57:return 71;case 58:return 72;case 59:return 77;case 60:return 78;case 61:return 79;case 62:return 80;case 63:return 81;case 64:return 68;case 65:return 69;case 66:return 5;case 67:return"INVALID"}},"anonymous"),rules:[/^(?:[\n]+)/i,/^(?:\s+)/i,/^(?:((?!\n)\s)+)/i,/^(?:#[^\n]*)/i,/^(?:%(?!\{)[^\n]*)/i,/^(?:[^\}]%%[^\n]*)/i,/^(?:[0-9]+(?=[ \n]+))/i,/^(?:box\b)/i,/^(?:participant\b)/i,/^(?:actor\b)/i,/^(?:create\b)/i,/^(?:destroy\b)/i,/^(?:[^\<->\->:\n,;]+?([\-]*[^\<->\->:\n,;]+?)*?(?=((?!\n)\s)+as(?!\n)\s|[#\n;]|$))/i,/^(?:as\b)/i,/^(?:(?:))/i,/^(?:loop\b)/i,/^(?:rect\b)/i,/^(?:opt\b)/i,/^(?:alt\b)/i,/^(?:else\b)/i,/^(?:par\b)/i,/^(?:par_over\b)/i,/^(?:and\b)/i,/^(?:critical\b)/i,/^(?:option\b)/i,/^(?:break\b)/i,/^(?:(?:[:]?(?:no)?wrap)?[^#\n;]*)/i,/^(?:end\b)/i,/^(?:left of\b)/i,/^(?:right of\b)/i,/^(?:links\b)/i,/^(?:link\b)/i,/^(?:properties\b)/i,/^(?:details\b)/i,/^(?:over\b)/i,/^(?:note\b)/i,/^(?:activate\b)/i,/^(?:deactivate\b)/i,/^(?:title\s[^#\n;]+)/i,/^(?:title:\s[^#\n;]+)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:sequenceDiagram\b)/i,/^(?:autonumber\b)/i,/^(?:off\b)/i,/^(?:,)/i,/^(?:;)/i,/^(?:[^\+\<->\->:\n,;]+((?!(-x|--x|-\)|--\)))[\-]*[^\+\<->\->:\n,;]+)*)/i,/^(?:->>)/i,/^(?:<<->>)/i,/^(?:-->>)/i,/^(?:<<-->>)/i,/^(?:->)/i,/^(?:-->)/i,/^(?:-[x])/i,/^(?:--[x])/i,/^(?:-[\)])/i,/^(?:--[\)])/i,/^(?::(?:(?:no)?wrap)?[^#\n;]+)/i,/^(?:\+)/i,/^(?:-)/i,/^(?:$)/i,/^(?:.)/i],conditions:{acc_descr_multiline:{rules:[45,46],inclusive:!1},acc_descr:{rules:[43],inclusive:!1},acc_title:{rules:[41],inclusive:!1},ID:{rules:[2,3,12],inclusive:!1},ALIAS:{rules:[2,3,13,14],inclusive:!1},LINE:{rules:[2,3,26],inclusive:!1},INITIAL:{rules:[0,1,3,4,5,6,7,8,9,10,11,15,16,17,18,19,20,21,22,23,24,25,27,28,29,30,31,32,33,34,35,36,37,38,39,40,42,44,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67],inclusive:!0}}};return U}();H.lexer=ee;function te(){this.yy={}}return b(te,"Parser"),te.prototype=H,H.Parser=te,new te}();JC.parser=JC;var Ize=JC,Mt=new J9(()=>({prevActor:void 0,actors:new Map,createdActors:new Map,destroyedActors:new Map,boxes:[],messages:[],notes:[],sequenceNumbersEnabled:!1,wrapEnabled:void 0,currentBox:void 0,lastCreated:void 0,lastDestroyed:void 0})),Dze=b(function(t){Mt.records.boxes.push({name:t.text,wrap:t.wrap??Wd(),fill:t.color,actorKeys:[]}),Mt.records.currentBox=Mt.records.boxes.slice(-1)[0]},"addBox"),e8=b(function(t,e,r,n){let i=Mt.records.currentBox;const a=Mt.records.actors.get(t);if(a){if(Mt.records.currentBox&&a.box&&Mt.records.currentBox!==a.box)throw new Error(`A same participant should only be defined in one Box: ${a.name} can't be in '${a.box.name}' and in '${Mt.records.currentBox.name}' at the same time.`);if(i=a.box?a.box:Mt.records.currentBox,a.box=i,a&&e===a.name&&r==null)return}if((r==null?void 0:r.text)==null&&(r={text:e,type:n}),(n==null||r.text==null)&&(r={text:e,type:n}),Mt.records.actors.set(t,{box:i,name:e,description:r.text,wrap:r.wrap??Wd(),prevActor:Mt.records.prevActor,links:{},properties:{},actorCnt:null,rectData:null,type:n??"participant"}),Mt.records.prevActor){const s=Mt.records.actors.get(Mt.records.prevActor);s&&(s.nextActor=t)}Mt.records.currentBox&&Mt.records.currentBox.actorKeys.push(t),Mt.records.prevActor=t},"addActor"),Oze=b(t=>{let e,r=0;if(!t)return 0;for(e=0;e<Mt.records.messages.length;e++)Mt.records.messages[e].type===Gv.ACTIVE_START&&Mt.records.messages[e].from===t&&r++,Mt.records.messages[e].type===Gv.ACTIVE_END&&Mt.records.messages[e].from===t&&r--;return r},"activationCount"),Pze=b(function(t,e,r,n){Mt.records.messages.push({from:t,to:e,message:r.text,wrap:r.wrap??Wd(),answer:n})},"addMessage"),Bn=b(function(t,e,r,n,i=!1){if(n===Gv.ACTIVE_END&&Oze(t??"")<1){const s=new Error("Trying to inactivate an inactive participant ("+t+")");throw s.hash={text:"->>-",token:"->>-",line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:["'ACTIVE_PARTICIPANT'"]},s}return Mt.records.messages.push({from:t,to:e,message:(r==null?void 0:r.text)??"",wrap:(r==null?void 0:r.wrap)??Wd(),type:n,activate:i}),!0},"addSignal"),Fze=b(function(){return Mt.records.boxes.length>0},"hasAtLeastOneBox"),Bze=b(function(){return Mt.records.boxes.some(t=>t.name)},"hasAtLeastOneBoxWithTitle"),$ze=b(function(){return Mt.records.messages},"getMessages"),zze=b(function(){return Mt.records.boxes},"getBoxes"),Uze=b(function(){return Mt.records.actors},"getActors"),Vze=b(function(){return Mt.records.createdActors},"getCreatedActors"),Gze=b(function(){return Mt.records.destroyedActors},"getDestroyedActors"),e2=b(function(t){return Mt.records.actors.get(t)},"getActor"),Hze=b(function(){return[...Mt.records.actors.keys()]},"getActorKeys"),Wze=b(function(){Mt.records.sequenceNumbersEnabled=!0},"enableSequenceNumbers"),Yze=b(function(){Mt.records.sequenceNumbersEnabled=!1},"disableSequenceNumbers"),qze=b(()=>Mt.records.sequenceNumbersEnabled,"showSequenceNumbers"),jze=b(function(t){Mt.records.wrapEnabled=t},"setWrap"),Jre=b(t=>{if(t===void 0)return{};t=t.trim();const e=/^:?wrap:/.exec(t)!==null?!0:/^:?nowrap:/.exec(t)!==null?!1:void 0;return{cleanedText:(e===void 0?t:t.replace(/^:?(?:no)?wrap:/,"")).trim(),wrap:e}},"extractWrap"),Wd=b(()=>{var t;return Mt.records.wrapEnabled!==void 0?Mt.records.wrapEnabled:((t=we().sequence)==null?void 0:t.wrap)??!1},"autoWrap"),Xze=b(function(){Mt.reset(),Ni()},"clear"),Kze=b(function(t){const e=t.trim(),{wrap:r,cleanedText:n}=Jre(e),i={text:n,wrap:r};return q.debug(`parseMessage: ${JSON.stringify(i)}`),i},"parseMessage"),Qze=b(function(t){const e=/^((?:rgba?|hsla?)\s*\(.*\)|\w*)(.*)$/.exec(t);let r=e!=null&&e[1]?e[1].trim():"transparent",n=e!=null&&e[2]?e[2].trim():void 0;if(window!=null&&window.CSS)window.CSS.supports("color",r)||(r="transparent",n=t.trim());else{const s=new Option().style;s.color=r,s.color!==r&&(r="transparent",n=t.trim())}const{wrap:i,cleanedText:a}=Jre(n);return{text:a?Wn(a,we()):void 0,color:r,wrap:i}},"parseBoxData"),Gv={SOLID:0,DOTTED:1,NOTE:2,SOLID_CROSS:3,DOTTED_CROSS:4,SOLID_OPEN:5,DOTTED_OPEN:6,LOOP_START:10,LOOP_END:11,ALT_START:12,ALT_ELSE:13,ALT_END:14,OPT_START:15,OPT_END:16,ACTIVE_START:17,ACTIVE_END:18,PAR_START:19,PAR_AND:20,PAR_END:21,RECT_START:22,RECT_END:23,SOLID_POINT:24,DOTTED_POINT:25,AUTONUMBER:26,CRITICAL_START:27,CRITICAL_OPTION:28,CRITICAL_END:29,BREAK_START:30,BREAK_END:31,PAR_OVER_START:32,BIDIRECTIONAL_SOLID:33,BIDIRECTIONAL_DOTTED:34},Zze={FILLED:0,OPEN:1},Jze={LEFTOF:0,RIGHTOF:1,OVER:2},ene=b(function(t,e,r){const n={actor:t,placement:e,message:r.text,wrap:r.wrap??Wd()},i=[].concat(t,t);Mt.records.notes.push(n),Mt.records.messages.push({from:i[0],to:i[1],message:r.text,wrap:r.wrap??Wd(),type:Gv.NOTE,placement:e})},"addNote"),tne=b(function(t,e){const r=e2(t);try{let n=Wn(e.text,we());n=n.replace(/&amp;/g,"&"),n=n.replace(/&equals;/g,"=");const i=JSON.parse(n);y6(r,i)}catch(n){q.error("error while parsing actor link text",n)}},"addLinks"),eUe=b(function(t,e){const r=e2(t);try{const n={};let i=Wn(e.text,we());const a=i.indexOf("@");i=i.replace(/&amp;/g,"&"),i=i.replace(/&equals;/g,"=");const s=i.slice(0,a-1).trim(),o=i.slice(a+1).trim();n[s]=o,y6(r,n)}catch(n){q.error("error while parsing actor link text",n)}},"addALink");function y6(t,e){if(t.links==null)t.links=e;else for(const r in e)t.links[r]=e[r]}b(y6,"insertLinks");var rne=b(function(t,e){const r=e2(t);try{const n=Wn(e.text,we()),i=JSON.parse(n);jL(r,i)}catch(n){q.error("error while parsing actor properties text",n)}},"addProperties");function jL(t,e){if(t.properties==null)t.properties=e;else for(const r in e)t.properties[r]=e[r]}b(jL,"insertProperties");function nne(){Mt.records.currentBox=void 0}b(nne,"boxEnd");var ine=b(function(t,e){const r=e2(t),n=document.getElementById(e.text);try{const i=n.innerHTML,a=JSON.parse(i);a.properties&&jL(r,a.properties),a.links&&y6(r,a.links)}catch(i){q.error("error while parsing actor details text",i)}},"addDetails"),tUe=b(function(t,e){if((t==null?void 0:t.properties)!==void 0)return t.properties[e]},"getActorProperty"),ane=b(function(t){if(Array.isArray(t))t.forEach(function(e){ane(e)});else switch(t.type){case"sequenceIndex":Mt.records.messages.push({from:void 0,to:void 0,message:{start:t.sequenceIndex,step:t.sequenceIndexStep,visible:t.sequenceVisible},wrap:!1,type:t.signalType});break;case"addParticipant":e8(t.actor,t.actor,t.description,t.draw);break;case"createParticipant":if(Mt.records.actors.has(t.actor))throw new Error("It is not possible to have actors with the same id, even if one is destroyed before the next is created. Use 'AS' aliases to simulate the behavior");Mt.records.lastCreated=t.actor,e8(t.actor,t.actor,t.description,t.draw),Mt.records.createdActors.set(t.actor,Mt.records.messages.length);break;case"destroyParticipant":Mt.records.lastDestroyed=t.actor,Mt.records.destroyedActors.set(t.actor,Mt.records.messages.length);break;case"activeStart":Bn(t.actor,void 0,void 0,t.signalType);break;case"activeEnd":Bn(t.actor,void 0,void 0,t.signalType);break;case"addNote":ene(t.actor,t.placement,t.text);break;case"addLinks":tne(t.actor,t.text);break;case"addALink":eUe(t.actor,t.text);break;case"addProperties":rne(t.actor,t.text);break;case"addDetails":ine(t.actor,t.text);break;case"addMessage":if(Mt.records.lastCreated){if(t.to!==Mt.records.lastCreated)throw new Error("The created participant "+Mt.records.lastCreated.name+" does not have an associated creating message after its declaration. Please check the sequence diagram.");Mt.records.lastCreated=void 0}else if(Mt.records.lastDestroyed){if(t.to!==Mt.records.lastDestroyed&&t.from!==Mt.records.lastDestroyed)throw new Error("The destroyed participant "+Mt.records.lastDestroyed.name+" does not have an associated destroying message after its declaration. Please check the sequence diagram.");Mt.records.lastDestroyed=void 0}Bn(t.from,t.to,t.msg,t.signalType,t.activate);break;case"boxStart":Dze(t.boxData);break;case"boxEnd":nne();break;case"loopStart":Bn(void 0,void 0,t.loopText,t.signalType);break;case"loopEnd":Bn(void 0,void 0,void 0,t.signalType);break;case"rectStart":Bn(void 0,void 0,t.color,t.signalType);break;case"rectEnd":Bn(void 0,void 0,void 0,t.signalType);break;case"optStart":Bn(void 0,void 0,t.optText,t.signalType);break;case"optEnd":Bn(void 0,void 0,void 0,t.signalType);break;case"altStart":Bn(void 0,void 0,t.altText,t.signalType);break;case"else":Bn(void 0,void 0,t.altText,t.signalType);break;case"altEnd":Bn(void 0,void 0,void 0,t.signalType);break;case"setAccTitle":Ri(t.text);break;case"parStart":Bn(void 0,void 0,t.parText,t.signalType);break;case"and":Bn(void 0,void 0,t.parText,t.signalType);break;case"parEnd":Bn(void 0,void 0,void 0,t.signalType);break;case"criticalStart":Bn(void 0,void 0,t.criticalText,t.signalType);break;case"option":Bn(void 0,void 0,t.optionText,t.signalType);break;case"criticalEnd":Bn(void 0,void 0,void 0,t.signalType);break;case"breakStart":Bn(void 0,void 0,t.breakText,t.signalType);break;case"breakEnd":Bn(void 0,void 0,void 0,t.signalType);break}},"apply"),gB={addActor:e8,addMessage:Pze,addSignal:Bn,addLinks:tne,addDetails:ine,addProperties:rne,autoWrap:Wd,setWrap:jze,enableSequenceNumbers:Wze,disableSequenceNumbers:Yze,showSequenceNumbers:qze,getMessages:$ze,getActors:Uze,getCreatedActors:Vze,getDestroyedActors:Gze,getActor:e2,getActorKeys:Hze,getActorProperty:tUe,getAccTitle:Qi,getBoxes:zze,getDiagramTitle:ea,setDiagramTitle:za,getConfig:b(()=>we().sequence,"getConfig"),clear:Xze,parseMessage:Kze,parseBoxData:Qze,LINETYPE:Gv,ARROWTYPE:Zze,PLACEMENT:Jze,addNote:ene,setAccTitle:Ri,apply:ane,setAccDescription:Zi,getAccDescription:Ji,hasAtLeastOneBox:Fze,hasAtLeastOneBoxWithTitle:Bze},rUe=b(t=>`.actor {
    stroke: ${t.actorBorder};
    fill: ${t.actorBkg};
  }

  text.actor > tspan {
    fill: ${t.actorTextColor};
    stroke: none;
  }

  .actor-line {
    stroke: ${t.actorLineColor};
  }

  .messageLine0 {
    stroke-width: 1.5;
    stroke-dasharray: none;
    stroke: ${t.signalColor};
  }

  .messageLine1 {
    stroke-width: 1.5;
    stroke-dasharray: 2, 2;
    stroke: ${t.signalColor};
  }

  #arrowhead path {
    fill: ${t.signalColor};
    stroke: ${t.signalColor};
  }

  .sequenceNumber {
    fill: ${t.sequenceNumberColor};
  }

  #sequencenumber {
    fill: ${t.signalColor};
  }

  #crosshead path {
    fill: ${t.signalColor};
    stroke: ${t.signalColor};
  }

  .messageText {
    fill: ${t.signalTextColor};
    stroke: none;
  }

  .labelBox {
    stroke: ${t.labelBoxBorderColor};
    fill: ${t.labelBoxBkgColor};
  }

  .labelText, .labelText > tspan {
    fill: ${t.labelTextColor};
    stroke: none;
  }

  .loopText, .loopText > tspan {
    fill: ${t.loopTextColor};
    stroke: none;
  }

  .loopLine {
    stroke-width: 2px;
    stroke-dasharray: 2, 2;
    stroke: ${t.labelBoxBorderColor};
    fill: ${t.labelBoxBorderColor};
  }

  .note {
    //stroke: #decc93;
    stroke: ${t.noteBorderColor};
    fill: ${t.noteBkgColor};
  }

  .noteText, .noteText > tspan {
    fill: ${t.noteTextColor};
    stroke: none;
  }

  .activation0 {
    fill: ${t.activationBkgColor};
    stroke: ${t.activationBorderColor};
  }

  .activation1 {
    fill: ${t.activationBkgColor};
    stroke: ${t.activationBorderColor};
  }

  .activation2 {
    fill: ${t.activationBkgColor};
    stroke: ${t.activationBorderColor};
  }

  .actorPopupMenu {
    position: absolute;
  }

  .actorPopupMenuPanel {
    position: absolute;
    fill: ${t.actorBkg};
    box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);
    filter: drop-shadow(3px 5px 2px rgb(0 0 0 / 0.4));
}
  .actor-man line {
    stroke: ${t.actorBorder};
    fill: ${t.actorBkg};
  }
  .actor-man circle, line {
    stroke: ${t.actorBorder};
    fill: ${t.actorBkg};
    stroke-width: 2px;
  }
`,"getStyles"),nUe=rUe,ud=18*2,sne="actor-top",one="actor-bottom",iUe="actor-box",mB="actor-man",XL=b(function(t,e){return Xw(t,e)},"drawRect"),aUe=b(function(t,e,r,n,i){if(e.links===void 0||e.links===null||Object.keys(e.links).length===0)return{height:0,width:0};const a=e.links,s=e.actorCnt,o=e.rectData;var l="none";i&&(l="block !important");const u=t.append("g");u.attr("id","actor"+s+"_popup"),u.attr("class","actorPopupMenu"),u.attr("display",l);var h="";o.class!==void 0&&(h=" "+o.class);let d=o.width>r?o.width:r;const p=u.append("rect");if(p.attr("class","actorPopupMenuPanel"+h),p.attr("x",o.x),p.attr("y",o.height),p.attr("fill",o.fill),p.attr("stroke",o.stroke),p.attr("width",d),p.attr("height",o.height),p.attr("rx",o.rx),p.attr("ry",o.ry),a!=null){var f=20;for(let y in a){var g=u.append("a"),m=bh(a[y]);g.attr("xlink:href",m),g.attr("target","_blank"),kUe(n)(y,g,o.x+10,o.height+f,d,20,{class:"actor"},n),f+=30}}return p.attr("height",f),{height:o.height+f,width:d}},"drawPopup"),sUe=b(function(t){return"var pu = document.getElementById('"+t+"'); if (pu != null) { pu.style.display = pu.style.display == 'block' ? 'none' : 'block'; }"},"popupMenuToggle"),i5=b(async function(t,e,r=null){let n=t.append("foreignObject");const i=await py(e.text,Dn()),s=n.append("xhtml:div").attr("style","width: fit-content;").attr("xmlns","http://www.w3.org/1999/xhtml").html(i).node().getBoundingClientRect();if(n.attr("height",Math.round(s.height)).attr("width",Math.round(s.width)),e.class==="noteText"){const o=t.node().firstChild;o.setAttribute("height",s.height+2*e.textMargin);const l=o.getBBox();n.attr("x",Math.round(l.x+l.width/2-s.width/2)).attr("y",Math.round(l.y+l.height/2-s.height/2))}else if(r){let{startx:o,stopx:l,starty:u}=r;if(o>l){const h=o;o=l,l=h}n.attr("x",Math.round(o+Math.abs(o-l)/2-s.width/2)),e.class==="loopText"?n.attr("y",Math.round(u)):n.attr("y",Math.round(u-s.height))}return[n]},"drawKatex"),ug=b(function(t,e){let r=0,n=0;const i=e.text.split(et.lineBreakRegex),[a,s]=pf(e.fontSize);let o=[],l=0,u=b(()=>e.y,"yfunc");if(e.valign!==void 0&&e.textMargin!==void 0&&e.textMargin>0)switch(e.valign){case"top":case"start":u=b(()=>Math.round(e.y+e.textMargin),"yfunc");break;case"middle":case"center":u=b(()=>Math.round(e.y+(r+n+e.textMargin)/2),"yfunc");break;case"bottom":case"end":u=b(()=>Math.round(e.y+(r+n+2*e.textMargin)-e.textMargin),"yfunc");break}if(e.anchor!==void 0&&e.textMargin!==void 0&&e.width!==void 0)switch(e.anchor){case"left":case"start":e.x=Math.round(e.x+e.textMargin),e.anchor="start",e.dominantBaseline="middle",e.alignmentBaseline="middle";break;case"middle":case"center":e.x=Math.round(e.x+e.width/2),e.anchor="middle",e.dominantBaseline="middle",e.alignmentBaseline="middle";break;case"right":case"end":e.x=Math.round(e.x+e.width-e.textMargin),e.anchor="end",e.dominantBaseline="middle",e.alignmentBaseline="middle";break}for(let[h,d]of i.entries()){e.textMargin!==void 0&&e.textMargin===0&&a!==void 0&&(l=h*a);const p=t.append("text");p.attr("x",e.x),p.attr("y",u()),e.anchor!==void 0&&p.attr("text-anchor",e.anchor).attr("dominant-baseline",e.dominantBaseline).attr("alignment-baseline",e.alignmentBaseline),e.fontFamily!==void 0&&p.style("font-family",e.fontFamily),s!==void 0&&p.style("font-size",s),e.fontWeight!==void 0&&p.style("font-weight",e.fontWeight),e.fill!==void 0&&p.attr("fill",e.fill),e.class!==void 0&&p.attr("class",e.class),e.dy!==void 0?p.attr("dy",e.dy):l!==0&&p.attr("dy",l);const f=d||SY;if(e.tspan){const g=p.append("tspan");g.attr("x",e.x),e.fill!==void 0&&g.attr("fill",e.fill),g.text(f)}else p.text(f);e.valign!==void 0&&e.textMargin!==void 0&&e.textMargin>0&&(n+=(p._groups||p)[0][0].getBBox().height,r=n),o.push(p)}return o},"drawText"),lne=b(function(t,e){function r(i,a,s,o,l){return i+","+a+" "+(i+s)+","+a+" "+(i+s)+","+(a+o-l)+" "+(i+s-l*1.2)+","+(a+o)+" "+i+","+(a+o)}b(r,"genPoints");const n=t.append("polygon");return n.attr("points",r(e.x,e.y,e.width,e.height,7)),n.attr("class","labelBox"),e.y=e.y+e.height/2,ug(t,e),n},"drawLabel"),pl=-1,cne=b((t,e,r,n)=>{t.select&&r.forEach(i=>{const a=e.get(i),s=t.select("#actor"+a.actorCnt);!n.mirrorActors&&a.stopy?s.attr("y2",a.stopy+a.height/2):n.mirrorActors&&s.attr("y2",a.stopy)})},"fixLifeLineHeights"),oUe=b(function(t,e,r,n){var f,g;const i=n?e.stopy:e.starty,a=e.x+e.width/2,s=i+e.height,o=t.append("g").lower();var l=o;n||(pl++,Object.keys(e.links||{}).length&&!r.forceMenus&&l.attr("onclick",sUe(`actor${pl}_popup`)).attr("cursor","pointer"),l.append("line").attr("id","actor"+pl).attr("x1",a).attr("y1",s).attr("x2",a).attr("y2",2e3).attr("class","actor-line 200").attr("stroke-width","0.5px").attr("stroke","#999").attr("name",e.name),l=o.append("g"),e.actorCnt=pl,e.links!=null&&l.attr("id","root-"+pl));const u=bf();var h="actor";(f=e.properties)!=null&&f.class?h=e.properties.class:u.fill="#eaeaea",n?h+=` ${one}`:h+=` ${sne}`,u.x=e.x,u.y=i,u.width=e.width,u.height=e.height,u.class=h,u.rx=3,u.ry=3,u.name=e.name;const d=XL(l,u);if(e.rectData=u,(g=e.properties)!=null&&g.icon){const m=e.properties.icon.trim();m.charAt(0)==="@"?E9e(l,u.x+u.width-20,u.y+10,m.substr(1)):T9e(l,u.x+u.width-20,u.y+10,m)}KL(r,Oa(e.description))(e.description,l,u.x,u.y,u.width,u.height,{class:`actor ${iUe}`},r);let p=e.height;if(d.node){const m=d.node().getBBox();e.height=m.height,p=m.height}return p},"drawActorTypeParticipant"),lUe=b(function(t,e,r,n){const i=n?e.stopy:e.starty,a=e.x+e.width/2,s=i+80,o=t.append("g").lower();n||(pl++,o.append("line").attr("id","actor"+pl).attr("x1",a).attr("y1",s).attr("x2",a).attr("y2",2e3).attr("class","actor-line 200").attr("stroke-width","0.5px").attr("stroke","#999").attr("name",e.name),e.actorCnt=pl);const l=t.append("g");let u=mB;n?u+=` ${one}`:u+=` ${sne}`,l.attr("class",u),l.attr("name",e.name);const h=bf();h.x=e.x,h.y=i,h.fill="#eaeaea",h.width=e.width,h.height=e.height,h.class="actor",h.rx=3,h.ry=3,l.append("line").attr("id","actor-man-torso"+pl).attr("x1",a).attr("y1",i+25).attr("x2",a).attr("y2",i+45),l.append("line").attr("id","actor-man-arms"+pl).attr("x1",a-ud/2).attr("y1",i+33).attr("x2",a+ud/2).attr("y2",i+33),l.append("line").attr("x1",a-ud/2).attr("y1",i+60).attr("x2",a).attr("y2",i+45),l.append("line").attr("x1",a).attr("y1",i+45).attr("x2",a+ud/2-2).attr("y2",i+60);const d=l.append("circle");d.attr("cx",e.x+e.width/2),d.attr("cy",i+10),d.attr("r",15),d.attr("width",e.width),d.attr("height",e.height);const p=l.node().getBBox();return e.height=p.height,KL(r,Oa(e.description))(e.description,l,h.x,h.y+35,h.width,h.height,{class:`actor ${mB}`},r),e.height},"drawActorTypeActor"),cUe=b(async function(t,e,r,n){switch(e.type){case"actor":return await lUe(t,e,r,n);case"participant":return await oUe(t,e,r,n)}},"drawActor"),uUe=b(function(t,e,r){const i=t.append("g");une(i,e),e.name&&KL(r)(e.name,i,e.x,e.y+(e.textMaxHeight||0)/2,e.width,0,{class:"text"},r),i.lower()},"drawBox"),hUe=b(function(t){return t.append("g")},"anchorElement"),dUe=b(function(t,e,r,n,i){const a=bf(),s=e.anchored;a.x=e.startx,a.y=e.starty,a.class="activation"+i%3,a.width=e.stopx-e.startx,a.height=r-e.starty,XL(s,a)},"drawActivation"),fUe=b(async function(t,e,r,n){const{boxMargin:i,boxTextMargin:a,labelBoxHeight:s,labelBoxWidth:o,messageFontFamily:l,messageFontSize:u,messageFontWeight:h}=n,d=t.append("g"),p=b(function(m,y,v,x){return d.append("line").attr("x1",m).attr("y1",y).attr("x2",v).attr("y2",x).attr("class","loopLine")},"drawLoopLine");p(e.startx,e.starty,e.stopx,e.starty),p(e.stopx,e.starty,e.stopx,e.stopy),p(e.startx,e.stopy,e.stopx,e.stopy),p(e.startx,e.starty,e.startx,e.stopy),e.sections!==void 0&&e.sections.forEach(function(m){p(e.startx,m.y,e.stopx,m.y).style("stroke-dasharray","3, 3")});let f=G9();f.text=r,f.x=e.startx,f.y=e.starty,f.fontFamily=l,f.fontSize=u,f.fontWeight=h,f.anchor="middle",f.valign="middle",f.tspan=!1,f.width=o||50,f.height=s||20,f.textMargin=a,f.class="labelText",lne(d,f),f=hne(),f.text=e.title,f.x=e.startx+o/2+(e.stopx-e.startx)/2,f.y=e.starty+i+a,f.anchor="middle",f.valign="middle",f.textMargin=a,f.class="loopText",f.fontFamily=l,f.fontSize=u,f.fontWeight=h,f.wrap=!0;let g=Oa(f.text)?await i5(d,f,e):ug(d,f);if(e.sectionTitles!==void 0){for(const[m,y]of Object.entries(e.sectionTitles))if(y.message){f.text=y.message,f.x=e.startx+(e.stopx-e.startx)/2,f.y=e.sections[m].y+i+a,f.class="loopText",f.anchor="middle",f.valign="middle",f.tspan=!1,f.fontFamily=l,f.fontSize=u,f.fontWeight=h,f.wrap=e.wrap,Oa(f.text)?(e.starty=e.sections[m].y,await i5(d,f,e)):ug(d,f);let v=Math.round(g.map(x=>(x._groups||x)[0][0].getBBox().height).reduce((x,w)=>x+w));e.sections[m].height+=v-(i+a)}}return e.height=Math.round(e.stopy-e.starty),d},"drawLoop"),une=b(function(t,e){nJ(t,e)},"drawBackgroundRect"),pUe=b(function(t){t.append("defs").append("symbol").attr("id","database").attr("fill-rule","evenodd").attr("clip-rule","evenodd").append("path").attr("transform","scale(.5)").attr("d","M12.258.001l.256.004.255.005.253.008.251.01.249.012.247.015.246.016.242.019.241.02.239.023.236.024.233.027.231.028.229.031.225.032.223.034.22.036.217.038.214.04.211.041.208.043.205.045.201.046.198.048.194.05.191.051.187.053.183.054.18.056.175.057.172.059.168.06.163.061.16.063.155.064.15.066.074.033.073.033.071.034.07.034.069.035.068.035.067.035.066.035.064.036.064.036.062.036.06.036.06.037.058.037.058.037.055.038.055.038.053.038.052.038.051.039.05.039.048.039.047.039.045.04.044.04.043.04.041.04.04.041.039.041.037.041.036.041.034.041.033.042.032.042.03.042.029.042.027.042.026.043.024.043.023.043.021.043.02.043.018.044.017.043.015.044.013.044.012.044.011.045.009.044.007.045.006.045.004.045.002.045.001.045v17l-.001.045-.002.045-.004.045-.006.045-.007.045-.009.044-.011.045-.012.044-.013.044-.015.044-.017.043-.018.044-.02.043-.021.043-.023.043-.024.043-.026.043-.027.042-.029.042-.03.042-.032.042-.033.042-.034.041-.036.041-.037.041-.039.041-.04.041-.041.04-.043.04-.044.04-.045.04-.047.039-.048.039-.05.039-.051.039-.052.038-.053.038-.055.038-.055.038-.058.037-.058.037-.06.037-.06.036-.062.036-.064.036-.064.036-.066.035-.067.035-.068.035-.069.035-.07.034-.071.034-.073.033-.074.033-.15.066-.155.064-.16.063-.163.061-.168.06-.172.059-.175.057-.18.056-.183.054-.187.053-.191.051-.194.05-.198.048-.201.046-.205.045-.208.043-.211.041-.214.04-.217.038-.22.036-.223.034-.225.032-.229.031-.231.028-.233.027-.236.024-.239.023-.241.02-.242.019-.246.016-.247.015-.249.012-.251.01-.253.008-.255.005-.256.004-.258.001-.258-.001-.256-.004-.255-.005-.253-.008-.251-.01-.249-.012-.247-.015-.245-.016-.243-.019-.241-.02-.238-.023-.236-.024-.234-.027-.231-.028-.228-.031-.226-.032-.223-.034-.22-.036-.217-.038-.214-.04-.211-.041-.208-.043-.204-.045-.201-.046-.198-.048-.195-.05-.19-.051-.187-.053-.184-.054-.179-.056-.176-.057-.172-.059-.167-.06-.164-.061-.159-.063-.155-.064-.151-.066-.074-.033-.072-.033-.072-.034-.07-.034-.069-.035-.068-.035-.067-.035-.066-.035-.064-.036-.063-.036-.062-.036-.061-.036-.06-.037-.058-.037-.057-.037-.056-.038-.055-.038-.053-.038-.052-.038-.051-.039-.049-.039-.049-.039-.046-.039-.046-.04-.044-.04-.043-.04-.041-.04-.04-.041-.039-.041-.037-.041-.036-.041-.034-.041-.033-.042-.032-.042-.03-.042-.029-.042-.027-.042-.026-.043-.024-.043-.023-.043-.021-.043-.02-.043-.018-.044-.017-.043-.015-.044-.013-.044-.012-.044-.011-.045-.009-.044-.007-.045-.006-.045-.004-.045-.002-.045-.001-.045v-17l.001-.045.002-.045.004-.045.006-.045.007-.045.009-.044.011-.045.012-.044.013-.044.015-.044.017-.043.018-.044.02-.043.021-.043.023-.043.024-.043.026-.043.027-.042.029-.042.03-.042.032-.042.033-.042.034-.041.036-.041.037-.041.039-.041.04-.041.041-.04.043-.04.044-.04.046-.04.046-.039.049-.039.049-.039.051-.039.052-.038.053-.038.055-.038.056-.038.057-.037.058-.037.06-.037.061-.036.062-.036.063-.036.064-.036.066-.035.067-.035.068-.035.069-.035.07-.034.072-.034.072-.033.074-.033.151-.066.155-.064.159-.063.164-.061.167-.06.172-.059.176-.057.179-.056.184-.054.187-.053.19-.051.195-.05.198-.048.201-.046.204-.045.208-.043.211-.041.214-.04.217-.038.22-.036.223-.034.226-.032.228-.031.231-.028.234-.027.236-.024.238-.023.241-.02.243-.019.245-.016.247-.015.249-.012.251-.01.253-.008.255-.005.256-.004.258-.001.258.001zm-9.258 20.499v.01l.001.021.003.021.004.022.005.021.006.022.007.022.009.023.01.022.011.023.012.023.013.023.015.023.016.024.017.023.018.024.019.024.021.024.022.025.023.024.024.025.052.049.056.05.061.051.066.051.07.051.075.051.079.052.084.052.088.052.092.052.097.052.102.051.105.052.11.052.114.051.119.051.123.051.127.05.131.05.135.05.139.048.144.049.147.047.152.047.155.047.16.045.163.045.167.043.171.043.176.041.178.041.183.039.187.039.19.037.194.035.197.035.202.033.204.031.209.03.212.029.216.027.219.025.222.024.226.021.23.02.233.018.236.016.24.015.243.012.246.01.249.008.253.005.256.004.259.001.26-.001.257-.004.254-.005.25-.008.247-.011.244-.012.241-.014.237-.016.233-.018.231-.021.226-.021.224-.024.22-.026.216-.027.212-.028.21-.031.205-.031.202-.034.198-.034.194-.036.191-.037.187-.039.183-.04.179-.04.175-.042.172-.043.168-.044.163-.045.16-.046.155-.046.152-.047.148-.048.143-.049.139-.049.136-.05.131-.05.126-.05.123-.051.118-.052.114-.051.11-.052.106-.052.101-.052.096-.052.092-.052.088-.053.083-.051.079-.052.074-.052.07-.051.065-.051.06-.051.056-.05.051-.05.023-.024.023-.025.021-.024.02-.024.019-.024.018-.024.017-.024.015-.023.014-.024.013-.023.012-.023.01-.023.01-.022.008-.022.006-.022.006-.022.004-.022.004-.021.001-.021.001-.021v-4.127l-.077.055-.08.053-.083.054-.085.053-.087.052-.09.052-.093.051-.095.05-.097.05-.1.049-.102.049-.105.048-.106.047-.109.047-.111.046-.114.045-.115.045-.118.044-.12.043-.122.042-.124.042-.126.041-.128.04-.13.04-.132.038-.134.038-.135.037-.138.037-.139.035-.142.035-.143.034-.144.033-.147.032-.148.031-.15.03-.151.03-.153.029-.154.027-.156.027-.158.026-.159.025-.161.024-.162.023-.163.022-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.011-.178.01-.179.008-.179.008-.181.006-.182.005-.182.004-.184.003-.184.002h-.37l-.184-.002-.184-.003-.182-.004-.182-.005-.181-.006-.179-.008-.179-.008-.178-.01-.176-.011-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.022-.162-.023-.161-.024-.159-.025-.157-.026-.156-.027-.155-.027-.153-.029-.151-.03-.15-.03-.148-.031-.146-.032-.145-.033-.143-.034-.141-.035-.14-.035-.137-.037-.136-.037-.134-.038-.132-.038-.13-.04-.128-.04-.126-.041-.124-.042-.122-.042-.12-.044-.117-.043-.116-.045-.113-.045-.112-.046-.109-.047-.106-.047-.105-.048-.102-.049-.1-.049-.097-.05-.095-.05-.093-.052-.09-.051-.087-.052-.085-.053-.083-.054-.08-.054-.077-.054v4.127zm0-5.654v.011l.001.021.003.021.004.021.005.022.006.022.007.022.009.022.01.022.011.023.012.023.013.023.015.024.016.023.017.024.018.024.019.024.021.024.022.024.023.025.024.024.052.05.056.05.061.05.066.051.07.051.075.052.079.051.084.052.088.052.092.052.097.052.102.052.105.052.11.051.114.051.119.052.123.05.127.051.131.05.135.049.139.049.144.048.147.048.152.047.155.046.16.045.163.045.167.044.171.042.176.042.178.04.183.04.187.038.19.037.194.036.197.034.202.033.204.032.209.03.212.028.216.027.219.025.222.024.226.022.23.02.233.018.236.016.24.014.243.012.246.01.249.008.253.006.256.003.259.001.26-.001.257-.003.254-.006.25-.008.247-.01.244-.012.241-.015.237-.016.233-.018.231-.02.226-.022.224-.024.22-.025.216-.027.212-.029.21-.03.205-.032.202-.033.198-.035.194-.036.191-.037.187-.039.183-.039.179-.041.175-.042.172-.043.168-.044.163-.045.16-.045.155-.047.152-.047.148-.048.143-.048.139-.05.136-.049.131-.05.126-.051.123-.051.118-.051.114-.052.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.051.07-.052.065-.051.06-.05.056-.051.051-.049.023-.025.023-.024.021-.025.02-.024.019-.024.018-.024.017-.024.015-.023.014-.023.013-.024.012-.022.01-.023.01-.023.008-.022.006-.022.006-.022.004-.021.004-.022.001-.021.001-.021v-4.139l-.077.054-.08.054-.083.054-.085.052-.087.053-.09.051-.093.051-.095.051-.097.05-.1.049-.102.049-.105.048-.106.047-.109.047-.111.046-.114.045-.115.044-.118.044-.12.044-.122.042-.124.042-.126.041-.128.04-.13.039-.132.039-.134.038-.135.037-.138.036-.139.036-.142.035-.143.033-.144.033-.147.033-.148.031-.15.03-.151.03-.153.028-.154.028-.156.027-.158.026-.159.025-.161.024-.162.023-.163.022-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.011-.178.009-.179.009-.179.007-.181.007-.182.005-.182.004-.184.003-.184.002h-.37l-.184-.002-.184-.003-.182-.004-.182-.005-.181-.007-.179-.007-.179-.009-.178-.009-.176-.011-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.022-.162-.023-.161-.024-.159-.025-.157-.026-.156-.027-.155-.028-.153-.028-.151-.03-.15-.03-.148-.031-.146-.033-.145-.033-.143-.033-.141-.035-.14-.036-.137-.036-.136-.037-.134-.038-.132-.039-.13-.039-.128-.04-.126-.041-.124-.042-.122-.043-.12-.043-.117-.044-.116-.044-.113-.046-.112-.046-.109-.046-.106-.047-.105-.048-.102-.049-.1-.049-.097-.05-.095-.051-.093-.051-.09-.051-.087-.053-.085-.052-.083-.054-.08-.054-.077-.054v4.139zm0-5.666v.011l.001.02.003.022.004.021.005.022.006.021.007.022.009.023.01.022.011.023.012.023.013.023.015.023.016.024.017.024.018.023.019.024.021.025.022.024.023.024.024.025.052.05.056.05.061.05.066.051.07.051.075.052.079.051.084.052.088.052.092.052.097.052.102.052.105.051.11.052.114.051.119.051.123.051.127.05.131.05.135.05.139.049.144.048.147.048.152.047.155.046.16.045.163.045.167.043.171.043.176.042.178.04.183.04.187.038.19.037.194.036.197.034.202.033.204.032.209.03.212.028.216.027.219.025.222.024.226.021.23.02.233.018.236.017.24.014.243.012.246.01.249.008.253.006.256.003.259.001.26-.001.257-.003.254-.006.25-.008.247-.01.244-.013.241-.014.237-.016.233-.018.231-.02.226-.022.224-.024.22-.025.216-.027.212-.029.21-.03.205-.032.202-.033.198-.035.194-.036.191-.037.187-.039.183-.039.179-.041.175-.042.172-.043.168-.044.163-.045.16-.045.155-.047.152-.047.148-.048.143-.049.139-.049.136-.049.131-.051.126-.05.123-.051.118-.052.114-.051.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.052.07-.051.065-.051.06-.051.056-.05.051-.049.023-.025.023-.025.021-.024.02-.024.019-.024.018-.024.017-.024.015-.023.014-.024.013-.023.012-.023.01-.022.01-.023.008-.022.006-.022.006-.022.004-.022.004-.021.001-.021.001-.021v-4.153l-.077.054-.08.054-.083.053-.085.053-.087.053-.09.051-.093.051-.095.051-.097.05-.1.049-.102.048-.105.048-.106.048-.109.046-.111.046-.114.046-.115.044-.118.044-.12.043-.122.043-.124.042-.126.041-.128.04-.13.039-.132.039-.134.038-.135.037-.138.036-.139.036-.142.034-.143.034-.144.033-.147.032-.148.032-.15.03-.151.03-.153.028-.154.028-.156.027-.158.026-.159.024-.161.024-.162.023-.163.023-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.01-.178.01-.179.009-.179.007-.181.006-.182.006-.182.004-.184.003-.184.001-.185.001-.185-.001-.184-.001-.184-.003-.182-.004-.182-.006-.181-.006-.179-.007-.179-.009-.178-.01-.176-.01-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.023-.162-.023-.161-.024-.159-.024-.157-.026-.156-.027-.155-.028-.153-.028-.151-.03-.15-.03-.148-.032-.146-.032-.145-.033-.143-.034-.141-.034-.14-.036-.137-.036-.136-.037-.134-.038-.132-.039-.13-.039-.128-.041-.126-.041-.124-.041-.122-.043-.12-.043-.117-.044-.116-.044-.113-.046-.112-.046-.109-.046-.106-.048-.105-.048-.102-.048-.1-.05-.097-.049-.095-.051-.093-.051-.09-.052-.087-.052-.085-.053-.083-.053-.08-.054-.077-.054v4.153zm8.74-8.179l-.257.004-.254.005-.25.008-.247.011-.244.012-.241.014-.237.016-.233.018-.231.021-.226.022-.224.023-.22.026-.216.027-.212.028-.21.031-.205.032-.202.033-.198.034-.194.036-.191.038-.187.038-.183.04-.179.041-.175.042-.172.043-.168.043-.163.045-.16.046-.155.046-.152.048-.148.048-.143.048-.139.049-.136.05-.131.05-.126.051-.123.051-.118.051-.114.052-.11.052-.106.052-.101.052-.096.052-.092.052-.088.052-.083.052-.079.052-.074.051-.07.052-.065.051-.06.05-.056.05-.051.05-.023.025-.023.024-.021.024-.02.025-.019.024-.018.024-.017.023-.015.024-.014.023-.013.023-.012.023-.01.023-.01.022-.008.022-.006.023-.006.021-.004.022-.004.021-.001.021-.001.021.001.021.001.021.004.021.004.022.006.021.006.023.008.022.01.022.01.023.012.023.013.023.014.023.015.024.017.023.018.024.019.024.02.025.021.024.023.024.023.025.051.05.056.05.06.05.065.051.07.052.074.051.079.052.083.052.088.052.092.052.096.052.101.052.106.052.11.052.114.052.118.051.123.051.126.051.131.05.136.05.139.049.143.048.148.048.152.048.155.046.16.046.163.045.168.043.172.043.175.042.179.041.183.04.187.038.191.038.194.036.198.034.202.033.205.032.21.031.212.028.216.027.22.026.224.023.226.022.231.021.233.018.237.016.241.014.244.012.247.011.25.008.254.005.257.004.26.001.26-.001.257-.004.254-.005.25-.008.247-.011.244-.012.241-.014.237-.016.233-.018.231-.021.226-.022.224-.023.22-.026.216-.027.212-.028.21-.031.205-.032.202-.033.198-.034.194-.036.191-.038.187-.038.183-.04.179-.041.175-.042.172-.043.168-.043.163-.045.16-.046.155-.046.152-.048.148-.048.143-.048.139-.049.136-.05.131-.05.126-.051.123-.051.118-.051.114-.052.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.051.07-.052.065-.051.06-.05.056-.05.051-.05.023-.025.023-.024.021-.024.02-.025.019-.024.018-.024.017-.023.015-.024.014-.023.013-.023.012-.023.01-.023.01-.022.008-.022.006-.023.006-.021.004-.022.004-.021.001-.021.001-.021-.001-.021-.001-.021-.004-.021-.004-.022-.006-.021-.006-.023-.008-.022-.01-.022-.01-.023-.012-.023-.013-.023-.014-.023-.015-.024-.017-.023-.018-.024-.019-.024-.02-.025-.021-.024-.023-.024-.023-.025-.051-.05-.056-.05-.06-.05-.065-.051-.07-.052-.074-.051-.079-.052-.083-.052-.088-.052-.092-.052-.096-.052-.101-.052-.106-.052-.11-.052-.114-.052-.118-.051-.123-.051-.126-.051-.131-.05-.136-.05-.139-.049-.143-.048-.148-.048-.152-.048-.155-.046-.16-.046-.163-.045-.168-.043-.172-.043-.175-.042-.179-.041-.183-.04-.187-.038-.191-.038-.194-.036-.198-.034-.202-.033-.205-.032-.21-.031-.212-.028-.216-.027-.22-.026-.224-.023-.226-.022-.231-.021-.233-.018-.237-.016-.241-.014-.244-.012-.247-.011-.25-.008-.254-.005-.257-.004-.26-.001-.26.001z")},"insertDatabaseIcon"),gUe=b(function(t){t.append("defs").append("symbol").attr("id","computer").attr("width","24").attr("height","24").append("path").attr("transform","scale(.5)").attr("d","M2 2v13h20v-13h-20zm18 11h-16v-9h16v9zm-10.228 6l.466-1h3.524l.467 1h-4.457zm14.228 3h-24l2-6h2.104l-1.33 4h18.45l-1.297-4h2.073l2 6zm-5-10h-14v-7h14v7z")},"insertComputerIcon"),mUe=b(function(t){t.append("defs").append("symbol").attr("id","clock").attr("width","24").attr("height","24").append("path").attr("transform","scale(.5)").attr("d","M12 2c5.514 0 10 4.486 10 10s-4.486 10-10 10-10-4.486-10-10 4.486-10 10-10zm0-2c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12zm5.848 12.459c.202.038.202.333.001.372-1.907.361-6.045 1.111-6.547 1.111-.719 0-1.301-.582-1.301-1.301 0-.512.77-5.447 1.125-7.445.034-.192.312-.181.343.014l.985 6.238 5.394 1.011z")},"insertClockIcon"),vUe=b(function(t){t.append("defs").append("marker").attr("id","arrowhead").attr("refX",7.9).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto-start-reverse").append("path").attr("d","M -1 0 L 10 5 L 0 10 z")},"insertArrowHead"),yUe=b(function(t){t.append("defs").append("marker").attr("id","filled-head").attr("refX",15.5).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L14,7 L9,1 Z")},"insertArrowFilledHead"),xUe=b(function(t){t.append("defs").append("marker").attr("id","sequencenumber").attr("refX",15).attr("refY",15).attr("markerWidth",60).attr("markerHeight",40).attr("orient","auto").append("circle").attr("cx",15).attr("cy",15).attr("r",6)},"insertSequenceNumber"),bUe=b(function(t){t.append("defs").append("marker").attr("id","crosshead").attr("markerWidth",15).attr("markerHeight",8).attr("orient","auto").attr("refX",4).attr("refY",4.5).append("path").attr("fill","none").attr("stroke","#000000").style("stroke-dasharray","0, 0").attr("stroke-width","1pt").attr("d","M 1,2 L 6,7 M 6,2 L 1,7")},"insertArrowCrossHead"),hne=b(function(){return{x:0,y:0,fill:void 0,anchor:void 0,style:"#666",width:void 0,height:void 0,textMargin:0,rx:0,ry:0,tspan:!0,valign:void 0}},"getTextObj"),wUe=b(function(){return{x:0,y:0,fill:"#EDF2AE",stroke:"#666",width:100,anchor:"start",height:100,rx:0,ry:0}},"getNoteRect"),KL=function(){function t(a,s,o,l,u,h,d){const p=s.append("text").attr("x",o+u/2).attr("y",l+h/2+5).style("text-anchor","middle").text(a);i(p,d)}b(t,"byText");function e(a,s,o,l,u,h,d,p){const{actorFontSize:f,actorFontFamily:g,actorFontWeight:m}=p,[y,v]=pf(f),x=a.split(et.lineBreakRegex);for(let w=0;w<x.length;w++){const k=w*y-y*(x.length-1)/2,E=s.append("text").attr("x",o+u/2).attr("y",l).style("text-anchor","middle").style("font-size",v).style("font-weight",m).style("font-family",g);E.append("tspan").attr("x",o+u/2).attr("dy",k).text(x[w]),E.attr("y",l+h/2).attr("dominant-baseline","central").attr("alignment-baseline","central"),i(E,d)}}b(e,"byTspan");function r(a,s,o,l,u,h,d,p){const f=s.append("switch"),m=f.append("foreignObject").attr("x",o).attr("y",l).attr("width",u).attr("height",h).append("xhtml:div").style("display","table").style("height","100%").style("width","100%");m.append("div").style("display","table-cell").style("text-align","center").style("vertical-align","middle").text(a),e(a,f,o,l,u,h,d,p),i(m,d)}b(r,"byFo");async function n(a,s,o,l,u,h,d,p){const f=await fy(a,Dn()),g=s.append("switch"),y=g.append("foreignObject").attr("x",o+u/2-f.width/2).attr("y",l+h/2-f.height/2).attr("width",f.width).attr("height",f.height).append("xhtml:div").style("height","100%").style("width","100%");y.append("div").style("text-align","center").style("vertical-align","middle").html(await py(a,Dn())),e(a,g,o,l,u,h,d,p),i(y,d)}b(n,"byKatex");function i(a,s){for(const o in s)s.hasOwnProperty(o)&&a.attr(o,s[o])}return b(i,"_setTextAttrs"),function(a,s=!1){return s?n:a.textPlacement==="fo"?r:a.textPlacement==="old"?t:e}}(),kUe=function(){function t(i,a,s,o,l,u,h){const d=a.append("text").attr("x",s).attr("y",o).style("text-anchor","start").text(i);n(d,h)}b(t,"byText");function e(i,a,s,o,l,u,h,d){const{actorFontSize:p,actorFontFamily:f,actorFontWeight:g}=d,m=i.split(et.lineBreakRegex);for(let y=0;y<m.length;y++){const v=y*p-p*(m.length-1)/2,x=a.append("text").attr("x",s).attr("y",o).style("text-anchor","start").style("font-size",p).style("font-weight",g).style("font-family",f);x.append("tspan").attr("x",s).attr("dy",v).text(m[y]),x.attr("y",o+u/2).attr("dominant-baseline","central").attr("alignment-baseline","central"),n(x,h)}}b(e,"byTspan");function r(i,a,s,o,l,u,h,d){const p=a.append("switch"),g=p.append("foreignObject").attr("x",s).attr("y",o).attr("width",l).attr("height",u).append("xhtml:div").style("display","table").style("height","100%").style("width","100%");g.append("div").style("display","table-cell").style("text-align","center").style("vertical-align","middle").text(i),e(i,p,s,o,l,u,h,d),n(g,h)}b(r,"byFo");function n(i,a){for(const s in a)a.hasOwnProperty(s)&&i.attr(s,a[s])}return b(n,"_setTextAttrs"),function(i){return i.textPlacement==="fo"?r:i.textPlacement==="old"?t:e}}(),$n={drawRect:XL,drawText:ug,drawLabel:lne,drawActor:cUe,drawBox:uUe,drawPopup:aUe,anchorElement:hUe,drawActivation:dUe,drawLoop:fUe,drawBackgroundRect:une,insertArrowHead:vUe,insertArrowFilledHead:yUe,insertSequenceNumber:xUe,insertArrowCrossHead:bUe,insertDatabaseIcon:pUe,insertComputerIcon:gUe,insertClockIcon:mUe,getTextObj:hne,getNoteRect:wUe,fixLifeLineHeights:cne,sanitizeUrl:bh},Oe={},Ze={data:{startx:void 0,stopx:void 0,starty:void 0,stopy:void 0},verticalPos:0,sequenceItems:[],activations:[],models:{getHeight:b(function(){return Math.max.apply(null,this.actors.length===0?[0]:this.actors.map(t=>t.height||0))+(this.loops.length===0?0:this.loops.map(t=>t.height||0).reduce((t,e)=>t+e))+(this.messages.length===0?0:this.messages.map(t=>t.height||0).reduce((t,e)=>t+e))+(this.notes.length===0?0:this.notes.map(t=>t.height||0).reduce((t,e)=>t+e))},"getHeight"),clear:b(function(){this.actors=[],this.boxes=[],this.loops=[],this.messages=[],this.notes=[]},"clear"),addBox:b(function(t){this.boxes.push(t)},"addBox"),addActor:b(function(t){this.actors.push(t)},"addActor"),addLoop:b(function(t){this.loops.push(t)},"addLoop"),addMessage:b(function(t){this.messages.push(t)},"addMessage"),addNote:b(function(t){this.notes.push(t)},"addNote"),lastActor:b(function(){return this.actors[this.actors.length-1]},"lastActor"),lastLoop:b(function(){return this.loops[this.loops.length-1]},"lastLoop"),lastMessage:b(function(){return this.messages[this.messages.length-1]},"lastMessage"),lastNote:b(function(){return this.notes[this.notes.length-1]},"lastNote"),actors:[],boxes:[],loops:[],messages:[],notes:[]},init:b(function(){this.sequenceItems=[],this.activations=[],this.models.clear(),this.data={startx:void 0,stopx:void 0,starty:void 0,stopy:void 0},this.verticalPos=0,pne(we())},"init"),updateVal:b(function(t,e,r,n){t[e]===void 0?t[e]=r:t[e]=n(r,t[e])},"updateVal"),updateBounds:b(function(t,e,r,n){const i=this;let a=0;function s(o){return b(function(u){a++;const h=i.sequenceItems.length-a+1;i.updateVal(u,"starty",e-h*Oe.boxMargin,Math.min),i.updateVal(u,"stopy",n+h*Oe.boxMargin,Math.max),i.updateVal(Ze.data,"startx",t-h*Oe.boxMargin,Math.min),i.updateVal(Ze.data,"stopx",r+h*Oe.boxMargin,Math.max),o!=="activation"&&(i.updateVal(u,"startx",t-h*Oe.boxMargin,Math.min),i.updateVal(u,"stopx",r+h*Oe.boxMargin,Math.max),i.updateVal(Ze.data,"starty",e-h*Oe.boxMargin,Math.min),i.updateVal(Ze.data,"stopy",n+h*Oe.boxMargin,Math.max))},"updateItemBounds")}b(s,"updateFn"),this.sequenceItems.forEach(s()),this.activations.forEach(s("activation"))},"updateBounds"),insert:b(function(t,e,r,n){const i=et.getMin(t,r),a=et.getMax(t,r),s=et.getMin(e,n),o=et.getMax(e,n);this.updateVal(Ze.data,"startx",i,Math.min),this.updateVal(Ze.data,"starty",s,Math.min),this.updateVal(Ze.data,"stopx",a,Math.max),this.updateVal(Ze.data,"stopy",o,Math.max),this.updateBounds(i,s,a,o)},"insert"),newActivation:b(function(t,e,r){const n=r.get(t.from),i=x6(t.from).length||0,a=n.x+n.width/2+(i-1)*Oe.activationWidth/2;this.activations.push({startx:a,starty:this.verticalPos+2,stopx:a+Oe.activationWidth,stopy:void 0,actor:t.from,anchored:$n.anchorElement(e)})},"newActivation"),endActivation:b(function(t){const e=this.activations.map(function(r){return r.actor}).lastIndexOf(t.from);return this.activations.splice(e,1)[0]},"endActivation"),createLoop:b(function(t={message:void 0,wrap:!1,width:void 0},e){return{startx:void 0,starty:this.verticalPos,stopx:void 0,stopy:void 0,title:t.message,wrap:t.wrap,width:t.width,height:0,fill:e}},"createLoop"),newLoop:b(function(t={message:void 0,wrap:!1,width:void 0},e){this.sequenceItems.push(this.createLoop(t,e))},"newLoop"),endLoop:b(function(){return this.sequenceItems.pop()},"endLoop"),isLoopOverlap:b(function(){return this.sequenceItems.length?this.sequenceItems[this.sequenceItems.length-1].overlap:!1},"isLoopOverlap"),addSectionToLoop:b(function(t){const e=this.sequenceItems.pop();e.sections=e.sections||[],e.sectionTitles=e.sectionTitles||[],e.sections.push({y:Ze.getVerticalPos(),height:0}),e.sectionTitles.push(t),this.sequenceItems.push(e)},"addSectionToLoop"),saveVerticalPos:b(function(){this.isLoopOverlap()&&(this.savedVerticalPos=this.verticalPos)},"saveVerticalPos"),resetVerticalPos:b(function(){this.isLoopOverlap()&&(this.verticalPos=this.savedVerticalPos)},"resetVerticalPos"),bumpVerticalPos:b(function(t){this.verticalPos=this.verticalPos+t,this.data.stopy=et.getMax(this.data.stopy,this.verticalPos)},"bumpVerticalPos"),getVerticalPos:b(function(){return this.verticalPos},"getVerticalPos"),getBounds:b(function(){return{bounds:this.data,models:this.models}},"getBounds")},TUe=b(async function(t,e){Ze.bumpVerticalPos(Oe.boxMargin),e.height=Oe.boxMargin,e.starty=Ze.getVerticalPos();const r=bf();r.x=e.startx,r.y=e.starty,r.width=e.width||Oe.width,r.class="note";const n=t.append("g"),i=$n.drawRect(n,r),a=G9();a.x=e.startx,a.y=e.starty,a.width=r.width,a.dy="1em",a.text=e.message,a.class="noteText",a.fontFamily=Oe.noteFontFamily,a.fontSize=Oe.noteFontSize,a.fontWeight=Oe.noteFontWeight,a.anchor=Oe.noteAlign,a.textMargin=Oe.noteMargin,a.valign="center";const s=Oa(a.text)?await i5(n,a):ug(n,a),o=Math.round(s.map(l=>(l._groups||l)[0][0].getBBox().height).reduce((l,u)=>l+u));i.attr("height",o+2*Oe.noteMargin),e.height+=o+2*Oe.noteMargin,Ze.bumpVerticalPos(o+2*Oe.noteMargin),e.stopy=e.starty+o+2*Oe.noteMargin,e.stopx=e.startx+r.width,Ze.insert(e.startx,e.starty,e.stopx,e.stopy),Ze.models.addNote(e)},"drawNote"),Yd=b(t=>({fontFamily:t.messageFontFamily,fontSize:t.messageFontSize,fontWeight:t.messageFontWeight}),"messageFont"),Vf=b(t=>({fontFamily:t.noteFontFamily,fontSize:t.noteFontSize,fontWeight:t.noteFontWeight}),"noteFont"),t8=b(t=>({fontFamily:t.actorFontFamily,fontSize:t.actorFontSize,fontWeight:t.actorFontWeight}),"actorFont");async function dne(t,e){Ze.bumpVerticalPos(10);const{startx:r,stopx:n,message:i}=e,a=et.splitBreaks(i).length,s=Oa(i),o=s?await fy(i,we()):Jt.calculateTextDimensions(i,Yd(Oe));if(!s){const d=o.height/a;e.height+=d,Ze.bumpVerticalPos(d)}let l,u=o.height-10;const h=o.width;if(r===n){l=Ze.getVerticalPos()+u,Oe.rightAngles||(u+=Oe.boxMargin,l=Ze.getVerticalPos()+u),u+=30;const d=et.getMax(h/2,Oe.width/2);Ze.insert(r-d,Ze.getVerticalPos()-10+u,n+d,Ze.getVerticalPos()+30+u)}else u+=Oe.boxMargin,l=Ze.getVerticalPos()+u,Ze.insert(r,l-10,n,l);return Ze.bumpVerticalPos(u),e.height+=u,e.stopy=e.starty+e.height,Ze.insert(e.fromBounds,e.starty,e.toBounds,e.stopy),l}b(dne,"boundMessage");var EUe=b(async function(t,e,r,n){const{startx:i,stopx:a,starty:s,message:o,type:l,sequenceIndex:u,sequenceVisible:h}=e,d=Jt.calculateTextDimensions(o,Yd(Oe)),p=G9();p.x=i,p.y=s+10,p.width=a-i,p.class="messageText",p.dy="1em",p.text=o,p.fontFamily=Oe.messageFontFamily,p.fontSize=Oe.messageFontSize,p.fontWeight=Oe.messageFontWeight,p.anchor=Oe.messageAlign,p.valign="center",p.textMargin=Oe.wrapPadding,p.tspan=!1,Oa(p.text)?await i5(t,p,{startx:i,stopx:a,starty:r}):ug(t,p);const f=d.width;let g;i===a?Oe.rightAngles?g=t.append("path").attr("d",`M  ${i},${r} H ${i+et.getMax(Oe.width/2,f/2)} V ${r+25} H ${i}`):g=t.append("path").attr("d","M "+i+","+r+" C "+(i+60)+","+(r-10)+" "+(i+60)+","+(r+30)+" "+i+","+(r+20)):(g=t.append("line"),g.attr("x1",i),g.attr("y1",r),g.attr("x2",a),g.attr("y2",r)),l===n.db.LINETYPE.DOTTED||l===n.db.LINETYPE.DOTTED_CROSS||l===n.db.LINETYPE.DOTTED_POINT||l===n.db.LINETYPE.DOTTED_OPEN||l===n.db.LINETYPE.BIDIRECTIONAL_DOTTED?(g.style("stroke-dasharray","3, 3"),g.attr("class","messageLine1")):g.attr("class","messageLine0");let m="";Oe.arrowMarkerAbsolute&&(m=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,m=m.replace(/\(/g,"\\("),m=m.replace(/\)/g,"\\)")),g.attr("stroke-width",2),g.attr("stroke","none"),g.style("fill","none"),(l===n.db.LINETYPE.SOLID||l===n.db.LINETYPE.DOTTED)&&g.attr("marker-end","url("+m+"#arrowhead)"),(l===n.db.LINETYPE.BIDIRECTIONAL_SOLID||l===n.db.LINETYPE.BIDIRECTIONAL_DOTTED)&&(g.attr("marker-start","url("+m+"#arrowhead)"),g.attr("marker-end","url("+m+"#arrowhead)")),(l===n.db.LINETYPE.SOLID_POINT||l===n.db.LINETYPE.DOTTED_POINT)&&g.attr("marker-end","url("+m+"#filled-head)"),(l===n.db.LINETYPE.SOLID_CROSS||l===n.db.LINETYPE.DOTTED_CROSS)&&g.attr("marker-end","url("+m+"#crosshead)"),(h||Oe.showSequenceNumbers)&&(g.attr("marker-start","url("+m+"#sequencenumber)"),t.append("text").attr("x",i).attr("y",r+4).attr("font-family","sans-serif").attr("font-size","12px").attr("text-anchor","middle").attr("class","sequenceNumber").text(u))},"drawMessage"),SUe=b(function(t,e,r,n,i,a,s){let o=0,l=0,u,h=0;for(const d of n){const p=e.get(d),f=p.box;u&&u!=f&&(s||Ze.models.addBox(u),l+=Oe.boxMargin+u.margin),f&&f!=u&&(s||(f.x=o+l,f.y=i),l+=f.margin),p.width=p.width||Oe.width,p.height=et.getMax(p.height||Oe.height,Oe.height),p.margin=p.margin||Oe.actorMargin,h=et.getMax(h,p.height),r.get(p.name)&&(l+=p.width/2),p.x=o+l,p.starty=Ze.getVerticalPos(),Ze.insert(p.x,i,p.x+p.width,p.height),o+=p.width+l,p.box&&(p.box.width=o+f.margin-p.box.x),l=p.margin,u=p.box,Ze.models.addActor(p)}u&&!s&&Ze.models.addBox(u),Ze.bumpVerticalPos(h)},"addActorRenderingData"),r8=b(async function(t,e,r,n){if(n){let i=0;Ze.bumpVerticalPos(Oe.boxMargin*2);for(const a of r){const s=e.get(a);s.stopy||(s.stopy=Ze.getVerticalPos());const o=await $n.drawActor(t,s,Oe,!0);i=et.getMax(i,o)}Ze.bumpVerticalPos(i+Oe.boxMargin)}else for(const i of r){const a=e.get(i);await $n.drawActor(t,a,Oe,!1)}},"drawActors"),fne=b(function(t,e,r,n){let i=0,a=0;for(const s of r){const o=e.get(s),l=AUe(o),u=$n.drawPopup(t,o,l,Oe,Oe.forceMenus,n);u.height>i&&(i=u.height),u.width+o.x>a&&(a=u.width+o.x)}return{maxHeight:i,maxWidth:a}},"drawActorsPopup"),pne=b(function(t){ci(Oe,t),t.fontFamily&&(Oe.actorFontFamily=Oe.noteFontFamily=Oe.messageFontFamily=t.fontFamily),t.fontSize&&(Oe.actorFontSize=Oe.noteFontSize=Oe.messageFontSize=t.fontSize),t.fontWeight&&(Oe.actorFontWeight=Oe.noteFontWeight=Oe.messageFontWeight=t.fontWeight)},"setConf"),x6=b(function(t){return Ze.activations.filter(function(e){return e.actor===t})},"actorActivations"),vB=b(function(t,e){const r=e.get(t),n=x6(t),i=n.reduce(function(s,o){return et.getMin(s,o.startx)},r.x+r.width/2-1),a=n.reduce(function(s,o){return et.getMax(s,o.stopx)},r.x+r.width/2+1);return[i,a]},"activationBounds");function Eo(t,e,r,n,i){Ze.bumpVerticalPos(r);let a=n;if(e.id&&e.message&&t[e.id]){const s=t[e.id].width,o=Yd(Oe);e.message=Jt.wrapLabel(`[${e.message}]`,s-2*Oe.wrapPadding,o),e.width=s,e.wrap=!0;const l=Jt.calculateTextDimensions(e.message,o),u=et.getMax(l.height,Oe.labelBoxHeight);a=n+u,q.debug(`${u} - ${e.message}`)}i(e),Ze.bumpVerticalPos(a)}b(Eo,"adjustLoopHeightForWrap");function gne(t,e,r,n,i,a,s){function o(u,h){u.x<i.get(t.from).x?(Ze.insert(e.stopx-h,e.starty,e.startx,e.stopy+u.height/2+Oe.noteMargin),e.stopx=e.stopx+h):(Ze.insert(e.startx,e.starty,e.stopx+h,e.stopy+u.height/2+Oe.noteMargin),e.stopx=e.stopx-h)}b(o,"receiverAdjustment");function l(u,h){u.x<i.get(t.to).x?(Ze.insert(e.startx-h,e.starty,e.stopx,e.stopy+u.height/2+Oe.noteMargin),e.startx=e.startx+h):(Ze.insert(e.stopx,e.starty,e.startx+h,e.stopy+u.height/2+Oe.noteMargin),e.startx=e.startx-h)}if(b(l,"senderAdjustment"),a.get(t.to)==n){const u=i.get(t.to),h=u.type=="actor"?ud/2+3:u.width/2+3;o(u,h),u.starty=r-u.height/2,Ze.bumpVerticalPos(u.height/2)}else if(s.get(t.from)==n){const u=i.get(t.from);if(Oe.mirrorActors){const h=u.type=="actor"?ud/2:u.width/2;l(u,h)}u.stopy=r-u.height/2,Ze.bumpVerticalPos(u.height/2)}else if(s.get(t.to)==n){const u=i.get(t.to);if(Oe.mirrorActors){const h=u.type=="actor"?ud/2+3:u.width/2+3;o(u,h)}u.stopy=r-u.height/2,Ze.bumpVerticalPos(u.height/2)}}b(gne,"adjustCreatedDestroyedData");var CUe=b(async function(t,e,r,n){const{securityLevel:i,sequence:a}=we();Oe=a;let s;i==="sandbox"&&(s=Ke("#i"+e));const o=Ke(i==="sandbox"?s.nodes()[0].contentDocument.body:"body"),l=i==="sandbox"?s.nodes()[0].contentDocument:document;Ze.init(),q.debug(n.db);const u=i==="sandbox"?o.select(`[id="${e}"]`):Ke(`[id="${e}"]`),h=n.db.getActors(),d=n.db.getCreatedActors(),p=n.db.getDestroyedActors(),f=n.db.getBoxes();let g=n.db.getActorKeys();const m=n.db.getMessages(),y=n.db.getDiagramTitle(),v=n.db.hasAtLeastOneBox(),x=n.db.hasAtLeastOneBoxWithTitle(),w=await mne(h,m,n);if(Oe.height=await vne(h,w,f),$n.insertComputerIcon(u),$n.insertDatabaseIcon(u),$n.insertClockIcon(u),v&&(Ze.bumpVerticalPos(Oe.boxMargin),x&&Ze.bumpVerticalPos(f[0].textMaxHeight)),Oe.hideUnusedParticipants===!0){const I=new Set;m.forEach(P=>{I.add(P.from),I.add(P.to)}),g=g.filter(P=>I.has(P))}SUe(u,h,d,g,0,m,!1);const k=await NUe(m,h,w,n);$n.insertArrowHead(u),$n.insertArrowCrossHead(u),$n.insertArrowFilledHead(u),$n.insertSequenceNumber(u);function E(I,P){const B=Ze.endActivation(I);B.starty+18>P&&(B.starty=P-6,P+=12),$n.drawActivation(u,B,P,Oe,x6(I.from).length),Ze.insert(B.startx,P-10,B.stopx,P)}b(E,"activeEnd");let _=1,S=1;const R=[],C=[];let L=0;for(const I of m){let P,B,$;switch(I.type){case n.db.LINETYPE.NOTE:Ze.resetVerticalPos(),B=I.noteModel,await TUe(u,B);break;case n.db.LINETYPE.ACTIVE_START:Ze.newActivation(I,u,h);break;case n.db.LINETYPE.ACTIVE_END:E(I,Ze.getVerticalPos());break;case n.db.LINETYPE.LOOP_START:Eo(k,I,Oe.boxMargin,Oe.boxMargin+Oe.boxTextMargin,V=>Ze.newLoop(V));break;case n.db.LINETYPE.LOOP_END:P=Ze.endLoop(),await $n.drawLoop(u,P,"loop",Oe),Ze.bumpVerticalPos(P.stopy-Ze.getVerticalPos()),Ze.models.addLoop(P);break;case n.db.LINETYPE.RECT_START:Eo(k,I,Oe.boxMargin,Oe.boxMargin,V=>Ze.newLoop(void 0,V.message));break;case n.db.LINETYPE.RECT_END:P=Ze.endLoop(),C.push(P),Ze.models.addLoop(P),Ze.bumpVerticalPos(P.stopy-Ze.getVerticalPos());break;case n.db.LINETYPE.OPT_START:Eo(k,I,Oe.boxMargin,Oe.boxMargin+Oe.boxTextMargin,V=>Ze.newLoop(V));break;case n.db.LINETYPE.OPT_END:P=Ze.endLoop(),await $n.drawLoop(u,P,"opt",Oe),Ze.bumpVerticalPos(P.stopy-Ze.getVerticalPos()),Ze.models.addLoop(P);break;case n.db.LINETYPE.ALT_START:Eo(k,I,Oe.boxMargin,Oe.boxMargin+Oe.boxTextMargin,V=>Ze.newLoop(V));break;case n.db.LINETYPE.ALT_ELSE:Eo(k,I,Oe.boxMargin+Oe.boxTextMargin,Oe.boxMargin,V=>Ze.addSectionToLoop(V));break;case n.db.LINETYPE.ALT_END:P=Ze.endLoop(),await $n.drawLoop(u,P,"alt",Oe),Ze.bumpVerticalPos(P.stopy-Ze.getVerticalPos()),Ze.models.addLoop(P);break;case n.db.LINETYPE.PAR_START:case n.db.LINETYPE.PAR_OVER_START:Eo(k,I,Oe.boxMargin,Oe.boxMargin+Oe.boxTextMargin,V=>Ze.newLoop(V)),Ze.saveVerticalPos();break;case n.db.LINETYPE.PAR_AND:Eo(k,I,Oe.boxMargin+Oe.boxTextMargin,Oe.boxMargin,V=>Ze.addSectionToLoop(V));break;case n.db.LINETYPE.PAR_END:P=Ze.endLoop(),await $n.drawLoop(u,P,"par",Oe),Ze.bumpVerticalPos(P.stopy-Ze.getVerticalPos()),Ze.models.addLoop(P);break;case n.db.LINETYPE.AUTONUMBER:_=I.message.start||_,S=I.message.step||S,I.message.visible?n.db.enableSequenceNumbers():n.db.disableSequenceNumbers();break;case n.db.LINETYPE.CRITICAL_START:Eo(k,I,Oe.boxMargin,Oe.boxMargin+Oe.boxTextMargin,V=>Ze.newLoop(V));break;case n.db.LINETYPE.CRITICAL_OPTION:Eo(k,I,Oe.boxMargin+Oe.boxTextMargin,Oe.boxMargin,V=>Ze.addSectionToLoop(V));break;case n.db.LINETYPE.CRITICAL_END:P=Ze.endLoop(),await $n.drawLoop(u,P,"critical",Oe),Ze.bumpVerticalPos(P.stopy-Ze.getVerticalPos()),Ze.models.addLoop(P);break;case n.db.LINETYPE.BREAK_START:Eo(k,I,Oe.boxMargin,Oe.boxMargin+Oe.boxTextMargin,V=>Ze.newLoop(V));break;case n.db.LINETYPE.BREAK_END:P=Ze.endLoop(),await $n.drawLoop(u,P,"break",Oe),Ze.bumpVerticalPos(P.stopy-Ze.getVerticalPos()),Ze.models.addLoop(P);break;default:try{$=I.msgModel,$.starty=Ze.getVerticalPos(),$.sequenceIndex=_,$.sequenceVisible=n.db.showSequenceNumbers();const V=await dne(u,$);gne(I,$,V,L,h,d,p),R.push({messageModel:$,lineStartY:V}),Ze.models.addMessage($)}catch(V){q.error("error while drawing message",V)}}[n.db.LINETYPE.SOLID_OPEN,n.db.LINETYPE.DOTTED_OPEN,n.db.LINETYPE.SOLID,n.db.LINETYPE.DOTTED,n.db.LINETYPE.SOLID_CROSS,n.db.LINETYPE.DOTTED_CROSS,n.db.LINETYPE.SOLID_POINT,n.db.LINETYPE.DOTTED_POINT,n.db.LINETYPE.BIDIRECTIONAL_SOLID,n.db.LINETYPE.BIDIRECTIONAL_DOTTED].includes(I.type)&&(_=_+S),L++}q.debug("createdActors",d),q.debug("destroyedActors",p),await r8(u,h,g,!1);for(const I of R)await EUe(u,I.messageModel,I.lineStartY,n);Oe.mirrorActors&&await r8(u,h,g,!0),C.forEach(I=>$n.drawBackgroundRect(u,I)),cne(u,h,g,Oe);for(const I of Ze.models.boxes)I.height=Ze.getVerticalPos()-I.y,Ze.insert(I.x,I.y,I.x+I.width,I.height),I.startx=I.x,I.starty=I.y,I.stopx=I.startx+I.width,I.stopy=I.starty+I.height,I.stroke="rgb(0,0,0, 0.5)",$n.drawBox(u,I,Oe);v&&Ze.bumpVerticalPos(Oe.boxMargin);const A=fne(u,h,g,l),{bounds:N}=Ze.getBounds();N.startx===void 0&&(N.startx=0),N.starty===void 0&&(N.starty=0),N.stopx===void 0&&(N.stopx=0),N.stopy===void 0&&(N.stopy=0);let F=N.stopy-N.starty;F<A.maxHeight&&(F=A.maxHeight);let T=F+2*Oe.diagramMarginY;Oe.mirrorActors&&(T=T-Oe.boxMargin+Oe.bottomMarginAdj);let D=N.stopx-N.startx;D<A.maxWidth&&(D=A.maxWidth);const M=D+2*Oe.diagramMarginX;y&&u.append("text").text(y).attr("x",(N.stopx-N.startx)/2-2*Oe.diagramMarginX).attr("y",-25),Ki(u,T,M,Oe.useMaxWidth);const O=y?40:0;u.attr("viewBox",N.startx-Oe.diagramMarginX+" -"+(Oe.diagramMarginY+O)+" "+M+" "+(T+O)),q.debug("models:",Ze.models)},"draw");async function mne(t,e,r){const n={};for(const i of e)if(t.get(i.to)&&t.get(i.from)){const a=t.get(i.to);if(i.placement===r.db.PLACEMENT.LEFTOF&&!a.prevActor||i.placement===r.db.PLACEMENT.RIGHTOF&&!a.nextActor)continue;const s=i.placement!==void 0,o=!s,l=s?Vf(Oe):Yd(Oe),u=i.wrap?Jt.wrapLabel(i.message,Oe.width-2*Oe.wrapPadding,l):i.message,d=(Oa(u)?await fy(i.message,we()):Jt.calculateTextDimensions(u,l)).width+2*Oe.wrapPadding;o&&i.from===a.nextActor?n[i.to]=et.getMax(n[i.to]||0,d):o&&i.from===a.prevActor?n[i.from]=et.getMax(n[i.from]||0,d):o&&i.from===i.to?(n[i.from]=et.getMax(n[i.from]||0,d/2),n[i.to]=et.getMax(n[i.to]||0,d/2)):i.placement===r.db.PLACEMENT.RIGHTOF?n[i.from]=et.getMax(n[i.from]||0,d):i.placement===r.db.PLACEMENT.LEFTOF?n[a.prevActor]=et.getMax(n[a.prevActor]||0,d):i.placement===r.db.PLACEMENT.OVER&&(a.prevActor&&(n[a.prevActor]=et.getMax(n[a.prevActor]||0,d/2)),a.nextActor&&(n[i.from]=et.getMax(n[i.from]||0,d/2)))}return q.debug("maxMessageWidthPerActor:",n),n}b(mne,"getMaxMessageWidthPerActor");var AUe=b(function(t){let e=0;const r=t8(Oe);for(const n in t.links){const a=Jt.calculateTextDimensions(n,r).width+2*Oe.wrapPadding+2*Oe.boxMargin;e<a&&(e=a)}return e},"getRequiredPopupWidth");async function vne(t,e,r){let n=0;for(const a of t.keys()){const s=t.get(a);s.wrap&&(s.description=Jt.wrapLabel(s.description,Oe.width-2*Oe.wrapPadding,t8(Oe)));const o=Oa(s.description)?await fy(s.description,we()):Jt.calculateTextDimensions(s.description,t8(Oe));s.width=s.wrap?Oe.width:et.getMax(Oe.width,o.width+2*Oe.wrapPadding),s.height=s.wrap?et.getMax(o.height,Oe.height):Oe.height,n=et.getMax(n,s.height)}for(const a in e){const s=t.get(a);if(!s)continue;const o=t.get(s.nextActor);if(!o){const d=e[a]+Oe.actorMargin-s.width/2;s.margin=et.getMax(d,Oe.actorMargin);continue}const u=e[a]+Oe.actorMargin-s.width/2-o.width/2;s.margin=et.getMax(u,Oe.actorMargin)}let i=0;return r.forEach(a=>{const s=Yd(Oe);let o=a.actorKeys.reduce((h,d)=>h+=t.get(d).width+(t.get(d).margin||0),0);o-=2*Oe.boxTextMargin,a.wrap&&(a.name=Jt.wrapLabel(a.name,o-2*Oe.wrapPadding,s));const l=Jt.calculateTextDimensions(a.name,s);i=et.getMax(l.height,i);const u=et.getMax(o,l.width+2*Oe.wrapPadding);if(a.margin=Oe.boxTextMargin,o<u){const h=(u-o)/2;a.margin+=h}}),r.forEach(a=>a.textMaxHeight=i),et.getMax(n,Oe.height)}b(vne,"calculateActorMargins");var _Ue=b(async function(t,e,r){const n=e.get(t.from),i=e.get(t.to),a=n.x,s=i.x,o=t.wrap&&t.message;let l=Oa(t.message)?await fy(t.message,we()):Jt.calculateTextDimensions(o?Jt.wrapLabel(t.message,Oe.width,Vf(Oe)):t.message,Vf(Oe));const u={width:o?Oe.width:et.getMax(Oe.width,l.width+2*Oe.noteMargin),height:0,startx:n.x,stopx:0,starty:0,stopy:0,message:t.message};return t.placement===r.db.PLACEMENT.RIGHTOF?(u.width=o?et.getMax(Oe.width,l.width):et.getMax(n.width/2+i.width/2,l.width+2*Oe.noteMargin),u.startx=a+(n.width+Oe.actorMargin)/2):t.placement===r.db.PLACEMENT.LEFTOF?(u.width=o?et.getMax(Oe.width,l.width+2*Oe.noteMargin):et.getMax(n.width/2+i.width/2,l.width+2*Oe.noteMargin),u.startx=a-u.width+(n.width-Oe.actorMargin)/2):t.to===t.from?(l=Jt.calculateTextDimensions(o?Jt.wrapLabel(t.message,et.getMax(Oe.width,n.width),Vf(Oe)):t.message,Vf(Oe)),u.width=o?et.getMax(Oe.width,n.width):et.getMax(n.width,Oe.width,l.width+2*Oe.noteMargin),u.startx=a+(n.width-u.width)/2):(u.width=Math.abs(a+n.width/2-(s+i.width/2))+Oe.actorMargin,u.startx=a<s?a+n.width/2-Oe.actorMargin/2:s+i.width/2-Oe.actorMargin/2),o&&(u.message=Jt.wrapLabel(t.message,u.width-2*Oe.wrapPadding,Vf(Oe))),q.debug(`NM:[${u.startx},${u.stopx},${u.starty},${u.stopy}:${u.width},${u.height}=${t.message}]`),u},"buildNoteModel"),LUe=b(function(t,e,r){if(![r.db.LINETYPE.SOLID_OPEN,r.db.LINETYPE.DOTTED_OPEN,r.db.LINETYPE.SOLID,r.db.LINETYPE.DOTTED,r.db.LINETYPE.SOLID_CROSS,r.db.LINETYPE.DOTTED_CROSS,r.db.LINETYPE.SOLID_POINT,r.db.LINETYPE.DOTTED_POINT,r.db.LINETYPE.BIDIRECTIONAL_SOLID,r.db.LINETYPE.BIDIRECTIONAL_DOTTED].includes(t.type))return{};const[n,i]=vB(t.from,e),[a,s]=vB(t.to,e),o=n<=a;let l=o?i:n,u=o?a:s;const h=Math.abs(a-s)>2,d=b(m=>o?-m:m,"adjustValue");t.from===t.to?u=l:(t.activate&&!h&&(u+=d(Oe.activationWidth/2-1)),[r.db.LINETYPE.SOLID_OPEN,r.db.LINETYPE.DOTTED_OPEN].includes(t.type)||(u+=d(3)),[r.db.LINETYPE.BIDIRECTIONAL_SOLID,r.db.LINETYPE.BIDIRECTIONAL_DOTTED].includes(t.type)&&(l-=d(3)));const p=[n,i,a,s],f=Math.abs(l-u);t.wrap&&t.message&&(t.message=Jt.wrapLabel(t.message,et.getMax(f+2*Oe.wrapPadding,Oe.width),Yd(Oe)));const g=Jt.calculateTextDimensions(t.message,Yd(Oe));return{width:et.getMax(t.wrap?0:g.width+2*Oe.wrapPadding,f+2*Oe.wrapPadding,Oe.width),height:0,startx:l,stopx:u,starty:0,stopy:0,message:t.message,type:t.type,wrap:t.wrap,fromBounds:Math.min.apply(null,p),toBounds:Math.max.apply(null,p)}},"buildMessageModel"),NUe=b(async function(t,e,r,n){const i={},a=[];let s,o,l;for(const u of t){switch(u.id=Jt.random({length:10}),u.type){case n.db.LINETYPE.LOOP_START:case n.db.LINETYPE.ALT_START:case n.db.LINETYPE.OPT_START:case n.db.LINETYPE.PAR_START:case n.db.LINETYPE.PAR_OVER_START:case n.db.LINETYPE.CRITICAL_START:case n.db.LINETYPE.BREAK_START:a.push({id:u.id,msg:u.message,from:Number.MAX_SAFE_INTEGER,to:Number.MIN_SAFE_INTEGER,width:0});break;case n.db.LINETYPE.ALT_ELSE:case n.db.LINETYPE.PAR_AND:case n.db.LINETYPE.CRITICAL_OPTION:u.message&&(s=a.pop(),i[s.id]=s,i[u.id]=s,a.push(s));break;case n.db.LINETYPE.LOOP_END:case n.db.LINETYPE.ALT_END:case n.db.LINETYPE.OPT_END:case n.db.LINETYPE.PAR_END:case n.db.LINETYPE.CRITICAL_END:case n.db.LINETYPE.BREAK_END:s=a.pop(),i[s.id]=s;break;case n.db.LINETYPE.ACTIVE_START:{const d=e.get(u.from?u.from:u.to.actor),p=x6(u.from?u.from:u.to.actor).length,f=d.x+d.width/2+(p-1)*Oe.activationWidth/2,g={startx:f,stopx:f+Oe.activationWidth,actor:u.from,enabled:!0};Ze.activations.push(g)}break;case n.db.LINETYPE.ACTIVE_END:{const d=Ze.activations.map(p=>p.actor).lastIndexOf(u.from);Ze.activations.splice(d,1).splice(0,1)}break}u.placement!==void 0?(o=await _Ue(u,e,n),u.noteModel=o,a.forEach(d=>{s=d,s.from=et.getMin(s.from,o.startx),s.to=et.getMax(s.to,o.startx+o.width),s.width=et.getMax(s.width,Math.abs(s.from-s.to))-Oe.labelBoxWidth})):(l=LUe(u,e,n),u.msgModel=l,l.startx&&l.stopx&&a.length>0&&a.forEach(d=>{if(s=d,l.startx===l.stopx){const p=e.get(u.from),f=e.get(u.to);s.from=et.getMin(p.x-l.width/2,p.x-p.width/2,s.from),s.to=et.getMax(f.x+l.width/2,f.x+p.width/2,s.to),s.width=et.getMax(s.width,Math.abs(s.to-s.from))-Oe.labelBoxWidth}else s.from=et.getMin(l.startx,s.from),s.to=et.getMax(l.stopx,s.to),s.width=et.getMax(s.width,l.width)-Oe.labelBoxWidth}))}return Ze.activations=[],q.debug("Loop type widths:",i),i},"calculateLoopBounds"),RUe={bounds:Ze,drawActors:r8,drawActorsPopup:fne,setConf:pne,draw:CUe},MUe={parser:Ize,db:gB,renderer:RUe,styles:nUe,init:b(({wrap:t})=>{gB.setWrap(t)},"init")};const IUe=Object.freeze(Object.defineProperty({__proto__:null,diagram:MUe},Symbol.toStringTag,{value:"Module"}));var n8=function(){var t=b(function(Ve,Re,de,X){for(de=de||{},X=Ve.length;X--;de[Ve[X]]=Re);return de},"o"),e=[1,17],r=[1,18],n=[1,19],i=[1,39],a=[1,40],s=[1,25],o=[1,23],l=[1,24],u=[1,31],h=[1,32],d=[1,33],p=[1,34],f=[1,35],g=[1,36],m=[1,26],y=[1,27],v=[1,28],x=[1,29],w=[1,43],k=[1,30],E=[1,42],_=[1,44],S=[1,41],R=[1,45],C=[1,9],L=[1,8,9],A=[1,56],N=[1,57],F=[1,58],T=[1,59],D=[1,60],M=[1,61],O=[1,62],I=[1,8,9,40],P=[1,74],B=[1,8,9,12,13,22,38,40,43,60,61,62,63,64,65,66,71,73],$=[1,8,9,12,13,17,20,22,38,40,43,47,60,61,62,63,64,65,66,71,73,75,81,96,98,99],V=[13,75,81,96,98,99],W=[13,65,66,75,81,96,98,99],K=[13,60,61,62,63,64,75,81,96,98,99],Z=[1,94],H=[1,111],ee=[1,109],te=[1,103],U=[1,104],j=[1,105],Y=[1,106],Q=[1,107],ae=[1,108],ie=[1,110],J=[1,8,9,38,40,43],_e=[1,8,9,22],ce=[1,8,9,79],Te=[1,8,9,22,74,75,79,81,82,83,84,85,86],be={trace:b(function(){},"trace"),yy:{},symbols_:{error:2,start:3,mermaidDoc:4,statements:5,graphConfig:6,CLASS_DIAGRAM:7,NEWLINE:8,EOF:9,statement:10,classLabel:11,SQS:12,STR:13,SQE:14,namespaceName:15,alphaNumToken:16,DOT:17,className:18,classLiteralName:19,GENERICTYPE:20,relationStatement:21,LABEL:22,namespaceStatement:23,classStatement:24,memberStatement:25,annotationStatement:26,clickStatement:27,styleStatement:28,cssClassStatement:29,noteStatement:30,direction:31,acc_title:32,acc_title_value:33,acc_descr:34,acc_descr_value:35,acc_descr_multiline_value:36,namespaceIdentifier:37,STRUCT_START:38,classStatements:39,STRUCT_STOP:40,NAMESPACE:41,classIdentifier:42,STYLE_SEPARATOR:43,members:44,CLASS:45,ANNOTATION_START:46,ANNOTATION_END:47,MEMBER:48,SEPARATOR:49,relation:50,NOTE_FOR:51,noteText:52,NOTE:53,direction_tb:54,direction_bt:55,direction_rl:56,direction_lr:57,relationType:58,lineType:59,AGGREGATION:60,EXTENSION:61,COMPOSITION:62,DEPENDENCY:63,LOLLIPOP:64,LINE:65,DOTTED_LINE:66,CALLBACK:67,LINK:68,LINK_TARGET:69,CLICK:70,CALLBACK_NAME:71,CALLBACK_ARGS:72,HREF:73,STYLE:74,ALPHA:75,stylesOpt:76,CSSCLASS:77,style:78,COMMA:79,styleComponent:80,NUM:81,COLON:82,UNIT:83,SPACE:84,BRKT:85,PCT:86,commentToken:87,textToken:88,graphCodeTokens:89,textNoTagsToken:90,TAGSTART:91,TAGEND:92,"==":93,"--":94,DEFAULT:95,MINUS:96,keywords:97,UNICODE_TEXT:98,BQUOTE_STR:99,$accept:0,$end:1},terminals_:{2:"error",7:"CLASS_DIAGRAM",8:"NEWLINE",9:"EOF",12:"SQS",13:"STR",14:"SQE",17:"DOT",20:"GENERICTYPE",22:"LABEL",32:"acc_title",33:"acc_title_value",34:"acc_descr",35:"acc_descr_value",36:"acc_descr_multiline_value",38:"STRUCT_START",40:"STRUCT_STOP",41:"NAMESPACE",43:"STYLE_SEPARATOR",45:"CLASS",46:"ANNOTATION_START",47:"ANNOTATION_END",48:"MEMBER",49:"SEPARATOR",51:"NOTE_FOR",53:"NOTE",54:"direction_tb",55:"direction_bt",56:"direction_rl",57:"direction_lr",60:"AGGREGATION",61:"EXTENSION",62:"COMPOSITION",63:"DEPENDENCY",64:"LOLLIPOP",65:"LINE",66:"DOTTED_LINE",67:"CALLBACK",68:"LINK",69:"LINK_TARGET",70:"CLICK",71:"CALLBACK_NAME",72:"CALLBACK_ARGS",73:"HREF",74:"STYLE",75:"ALPHA",77:"CSSCLASS",79:"COMMA",81:"NUM",82:"COLON",83:"UNIT",84:"SPACE",85:"BRKT",86:"PCT",89:"graphCodeTokens",91:"TAGSTART",92:"TAGEND",93:"==",94:"--",95:"DEFAULT",96:"MINUS",97:"keywords",98:"UNICODE_TEXT",99:"BQUOTE_STR"},productions_:[0,[3,1],[3,1],[4,1],[6,4],[5,1],[5,2],[5,3],[11,3],[15,1],[15,3],[15,2],[18,1],[18,3],[18,1],[18,2],[18,2],[18,2],[10,1],[10,2],[10,1],[10,1],[10,1],[10,1],[10,1],[10,1],[10,1],[10,1],[10,1],[10,2],[10,2],[10,1],[23,4],[23,5],[37,2],[39,1],[39,2],[39,3],[24,1],[24,3],[24,4],[24,6],[42,2],[42,3],[26,4],[44,1],[44,2],[25,1],[25,2],[25,1],[25,1],[21,3],[21,4],[21,4],[21,5],[30,3],[30,2],[31,1],[31,1],[31,1],[31,1],[50,3],[50,2],[50,2],[50,1],[58,1],[58,1],[58,1],[58,1],[58,1],[59,1],[59,1],[27,3],[27,4],[27,3],[27,4],[27,4],[27,5],[27,3],[27,4],[27,4],[27,5],[27,4],[27,5],[27,5],[27,6],[28,3],[29,3],[76,1],[76,3],[78,1],[78,2],[80,1],[80,1],[80,1],[80,1],[80,1],[80,1],[80,1],[80,1],[80,1],[87,1],[87,1],[88,1],[88,1],[88,1],[88,1],[88,1],[88,1],[88,1],[90,1],[90,1],[90,1],[90,1],[16,1],[16,1],[16,1],[16,1],[19,1],[52,1]],performAction:b(function(Re,de,X,oe,me,ne,ue){var pe=ne.length-1;switch(me){case 8:this.$=ne[pe-1];break;case 9:case 12:case 14:this.$=ne[pe];break;case 10:case 13:this.$=ne[pe-2]+"."+ne[pe];break;case 11:case 15:this.$=ne[pe-1]+ne[pe];break;case 16:case 17:this.$=ne[pe-1]+"~"+ne[pe]+"~";break;case 18:oe.addRelation(ne[pe]);break;case 19:ne[pe-1].title=oe.cleanupLabel(ne[pe]),oe.addRelation(ne[pe-1]);break;case 29:this.$=ne[pe].trim(),oe.setAccTitle(this.$);break;case 30:case 31:this.$=ne[pe].trim(),oe.setAccDescription(this.$);break;case 32:oe.addClassesToNamespace(ne[pe-3],ne[pe-1]);break;case 33:oe.addClassesToNamespace(ne[pe-4],ne[pe-1]);break;case 34:this.$=ne[pe],oe.addNamespace(ne[pe]);break;case 35:this.$=[ne[pe]];break;case 36:this.$=[ne[pe-1]];break;case 37:ne[pe].unshift(ne[pe-2]),this.$=ne[pe];break;case 39:oe.setCssClass(ne[pe-2],ne[pe]);break;case 40:oe.addMembers(ne[pe-3],ne[pe-1]);break;case 41:oe.setCssClass(ne[pe-5],ne[pe-3]),oe.addMembers(ne[pe-5],ne[pe-1]);break;case 42:this.$=ne[pe],oe.addClass(ne[pe]);break;case 43:this.$=ne[pe-1],oe.addClass(ne[pe-1]),oe.setClassLabel(ne[pe-1],ne[pe]);break;case 44:oe.addAnnotation(ne[pe],ne[pe-2]);break;case 45:this.$=[ne[pe]];break;case 46:ne[pe].push(ne[pe-1]),this.$=ne[pe];break;case 47:break;case 48:oe.addMember(ne[pe-1],oe.cleanupLabel(ne[pe]));break;case 49:break;case 50:break;case 51:this.$={id1:ne[pe-2],id2:ne[pe],relation:ne[pe-1],relationTitle1:"none",relationTitle2:"none"};break;case 52:this.$={id1:ne[pe-3],id2:ne[pe],relation:ne[pe-1],relationTitle1:ne[pe-2],relationTitle2:"none"};break;case 53:this.$={id1:ne[pe-3],id2:ne[pe],relation:ne[pe-2],relationTitle1:"none",relationTitle2:ne[pe-1]};break;case 54:this.$={id1:ne[pe-4],id2:ne[pe],relation:ne[pe-2],relationTitle1:ne[pe-3],relationTitle2:ne[pe-1]};break;case 55:oe.addNote(ne[pe],ne[pe-1]);break;case 56:oe.addNote(ne[pe]);break;case 57:oe.setDirection("TB");break;case 58:oe.setDirection("BT");break;case 59:oe.setDirection("RL");break;case 60:oe.setDirection("LR");break;case 61:this.$={type1:ne[pe-2],type2:ne[pe],lineType:ne[pe-1]};break;case 62:this.$={type1:"none",type2:ne[pe],lineType:ne[pe-1]};break;case 63:this.$={type1:ne[pe-1],type2:"none",lineType:ne[pe]};break;case 64:this.$={type1:"none",type2:"none",lineType:ne[pe]};break;case 65:this.$=oe.relationType.AGGREGATION;break;case 66:this.$=oe.relationType.EXTENSION;break;case 67:this.$=oe.relationType.COMPOSITION;break;case 68:this.$=oe.relationType.DEPENDENCY;break;case 69:this.$=oe.relationType.LOLLIPOP;break;case 70:this.$=oe.lineType.LINE;break;case 71:this.$=oe.lineType.DOTTED_LINE;break;case 72:case 78:this.$=ne[pe-2],oe.setClickEvent(ne[pe-1],ne[pe]);break;case 73:case 79:this.$=ne[pe-3],oe.setClickEvent(ne[pe-2],ne[pe-1]),oe.setTooltip(ne[pe-2],ne[pe]);break;case 74:this.$=ne[pe-2],oe.setLink(ne[pe-1],ne[pe]);break;case 75:this.$=ne[pe-3],oe.setLink(ne[pe-2],ne[pe-1],ne[pe]);break;case 76:this.$=ne[pe-3],oe.setLink(ne[pe-2],ne[pe-1]),oe.setTooltip(ne[pe-2],ne[pe]);break;case 77:this.$=ne[pe-4],oe.setLink(ne[pe-3],ne[pe-2],ne[pe]),oe.setTooltip(ne[pe-3],ne[pe-1]);break;case 80:this.$=ne[pe-3],oe.setClickEvent(ne[pe-2],ne[pe-1],ne[pe]);break;case 81:this.$=ne[pe-4],oe.setClickEvent(ne[pe-3],ne[pe-2],ne[pe-1]),oe.setTooltip(ne[pe-3],ne[pe]);break;case 82:this.$=ne[pe-3],oe.setLink(ne[pe-2],ne[pe]);break;case 83:this.$=ne[pe-4],oe.setLink(ne[pe-3],ne[pe-1],ne[pe]);break;case 84:this.$=ne[pe-4],oe.setLink(ne[pe-3],ne[pe-1]),oe.setTooltip(ne[pe-3],ne[pe]);break;case 85:this.$=ne[pe-5],oe.setLink(ne[pe-4],ne[pe-2],ne[pe]),oe.setTooltip(ne[pe-4],ne[pe-1]);break;case 86:this.$=ne[pe-2],oe.setCssStyle(ne[pe-1],ne[pe]);break;case 87:oe.setCssClass(ne[pe-1],ne[pe]);break;case 88:this.$=[ne[pe]];break;case 89:ne[pe-2].push(ne[pe]),this.$=ne[pe-2];break;case 91:this.$=ne[pe-1]+ne[pe];break}},"anonymous"),table:[{3:1,4:2,5:3,6:4,7:[1,6],10:5,16:37,18:20,19:38,21:7,23:8,24:9,25:10,26:11,27:12,28:13,29:14,30:15,31:16,32:e,34:r,36:n,37:21,41:i,42:22,45:a,46:s,48:o,49:l,51:u,53:h,54:d,55:p,56:f,57:g,67:m,68:y,70:v,74:x,75:w,77:k,81:E,96:_,98:S,99:R},{1:[3]},{1:[2,1]},{1:[2,2]},{1:[2,3]},t(C,[2,5],{8:[1,46]}),{8:[1,47]},t(L,[2,18],{22:[1,48]}),t(L,[2,20]),t(L,[2,21]),t(L,[2,22]),t(L,[2,23]),t(L,[2,24]),t(L,[2,25]),t(L,[2,26]),t(L,[2,27]),t(L,[2,28]),{33:[1,49]},{35:[1,50]},t(L,[2,31]),t(L,[2,47],{50:51,58:54,59:55,13:[1,52],22:[1,53],60:A,61:N,62:F,63:T,64:D,65:M,66:O}),{38:[1,63]},t(I,[2,38],{38:[1,65],43:[1,64]}),t(L,[2,49]),t(L,[2,50]),{16:66,75:w,81:E,96:_,98:S},{16:37,18:67,19:38,75:w,81:E,96:_,98:S,99:R},{16:37,18:68,19:38,75:w,81:E,96:_,98:S,99:R},{16:37,18:69,19:38,75:w,81:E,96:_,98:S,99:R},{75:[1,70]},{13:[1,71]},{16:37,18:72,19:38,75:w,81:E,96:_,98:S,99:R},{13:P,52:73},t(L,[2,57]),t(L,[2,58]),t(L,[2,59]),t(L,[2,60]),t(B,[2,12],{16:37,19:38,18:76,17:[1,75],20:[1,77],75:w,81:E,96:_,98:S,99:R}),t(B,[2,14],{20:[1,78]}),{15:79,16:80,75:w,81:E,96:_,98:S},{16:37,18:81,19:38,75:w,81:E,96:_,98:S,99:R},t($,[2,114]),t($,[2,115]),t($,[2,116]),t($,[2,117]),t([1,8,9,12,13,20,22,38,40,43,60,61,62,63,64,65,66,71,73],[2,118]),t(C,[2,6],{10:5,21:7,23:8,24:9,25:10,26:11,27:12,28:13,29:14,30:15,31:16,18:20,37:21,42:22,16:37,19:38,5:82,32:e,34:r,36:n,41:i,45:a,46:s,48:o,49:l,51:u,53:h,54:d,55:p,56:f,57:g,67:m,68:y,70:v,74:x,75:w,77:k,81:E,96:_,98:S,99:R}),{5:83,10:5,16:37,18:20,19:38,21:7,23:8,24:9,25:10,26:11,27:12,28:13,29:14,30:15,31:16,32:e,34:r,36:n,37:21,41:i,42:22,45:a,46:s,48:o,49:l,51:u,53:h,54:d,55:p,56:f,57:g,67:m,68:y,70:v,74:x,75:w,77:k,81:E,96:_,98:S,99:R},t(L,[2,19]),t(L,[2,29]),t(L,[2,30]),{13:[1,85],16:37,18:84,19:38,75:w,81:E,96:_,98:S,99:R},{50:86,58:54,59:55,60:A,61:N,62:F,63:T,64:D,65:M,66:O},t(L,[2,48]),{59:87,65:M,66:O},t(V,[2,64],{58:88,60:A,61:N,62:F,63:T,64:D}),t(W,[2,65]),t(W,[2,66]),t(W,[2,67]),t(W,[2,68]),t(W,[2,69]),t(K,[2,70]),t(K,[2,71]),{8:[1,90],24:91,39:89,42:22,45:a},{16:92,75:w,81:E,96:_,98:S},{44:93,48:Z},{47:[1,95]},{13:[1,96]},{13:[1,97]},{71:[1,98],73:[1,99]},{22:H,74:ee,75:te,76:100,78:101,80:102,81:U,82:j,83:Y,84:Q,85:ae,86:ie},{75:[1,112]},{13:P,52:113},t(L,[2,56]),t(L,[2,119]),{16:37,18:114,19:38,75:w,81:E,96:_,98:S,99:R},t(B,[2,15]),t(B,[2,16]),t(B,[2,17]),{38:[2,34]},{15:116,16:80,17:[1,115],38:[2,9],75:w,81:E,96:_,98:S},t(J,[2,42],{11:117,12:[1,118]}),t(C,[2,7]),{9:[1,119]},t(_e,[2,51]),{16:37,18:120,19:38,75:w,81:E,96:_,98:S,99:R},{13:[1,122],16:37,18:121,19:38,75:w,81:E,96:_,98:S,99:R},t(V,[2,63],{58:123,60:A,61:N,62:F,63:T,64:D}),t(V,[2,62]),{40:[1,124]},{24:91,39:125,42:22,45:a},{8:[1,126],40:[2,35]},t(I,[2,39],{38:[1,127]}),{40:[1,128]},{40:[2,45],44:129,48:Z},{16:37,18:130,19:38,75:w,81:E,96:_,98:S,99:R},t(L,[2,72],{13:[1,131]}),t(L,[2,74],{13:[1,133],69:[1,132]}),t(L,[2,78],{13:[1,134],72:[1,135]}),{13:[1,136]},t(L,[2,86],{79:[1,137]}),t(ce,[2,88],{80:138,22:H,74:ee,75:te,81:U,82:j,83:Y,84:Q,85:ae,86:ie}),t(Te,[2,90]),t(Te,[2,92]),t(Te,[2,93]),t(Te,[2,94]),t(Te,[2,95]),t(Te,[2,96]),t(Te,[2,97]),t(Te,[2,98]),t(Te,[2,99]),t(Te,[2,100]),t(L,[2,87]),t(L,[2,55]),t(B,[2,13]),{15:139,16:80,75:w,81:E,96:_,98:S},{38:[2,11]},t(J,[2,43]),{13:[1,140]},{1:[2,4]},t(_e,[2,53]),t(_e,[2,52]),{16:37,18:141,19:38,75:w,81:E,96:_,98:S,99:R},t(V,[2,61]),t(L,[2,32]),{40:[1,142]},{24:91,39:143,40:[2,36],42:22,45:a},{44:144,48:Z},t(I,[2,40]),{40:[2,46]},t(L,[2,44]),t(L,[2,73]),t(L,[2,75]),t(L,[2,76],{69:[1,145]}),t(L,[2,79]),t(L,[2,80],{13:[1,146]}),t(L,[2,82],{13:[1,148],69:[1,147]}),{22:H,74:ee,75:te,78:149,80:102,81:U,82:j,83:Y,84:Q,85:ae,86:ie},t(Te,[2,91]),{38:[2,10]},{14:[1,150]},t(_e,[2,54]),t(L,[2,33]),{40:[2,37]},{40:[1,151]},t(L,[2,77]),t(L,[2,81]),t(L,[2,83]),t(L,[2,84],{69:[1,152]}),t(ce,[2,89],{80:138,22:H,74:ee,75:te,81:U,82:j,83:Y,84:Q,85:ae,86:ie}),t(J,[2,8]),t(I,[2,41]),t(L,[2,85])],defaultActions:{2:[2,1],3:[2,2],4:[2,3],79:[2,34],116:[2,11],119:[2,4],129:[2,46],139:[2,10],143:[2,37]},parseError:b(function(Re,de){if(de.recoverable)this.trace(Re);else{var X=new Error(Re);throw X.hash=de,X}},"parseError"),parse:b(function(Re){var de=this,X=[0],oe=[],me=[null],ne=[],ue=this.table,pe="",ge=0,ve=0,Ee=2,Ce=1,Ne=ne.slice.call(arguments,1),Se=Object.create(this.lexer),Ie={yy:{}};for(var Ae in this.yy)Object.prototype.hasOwnProperty.call(this.yy,Ae)&&(Ie.yy[Ae]=this.yy[Ae]);Se.setInput(Re,Ie.yy),Ie.yy.lexer=Se,Ie.yy.parser=this,typeof Se.yylloc>"u"&&(Se.yylloc={});var qe=Se.yylloc;ne.push(qe);var De=Se.options&&Se.options.ranges;typeof Ie.yy.parseError=="function"?this.parseError=Ie.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function Xe(Ge){X.length=X.length-2*Ge,me.length=me.length-Ge,ne.length=ne.length-Ge}b(Xe,"popStack");function at(){var Ge;return Ge=oe.pop()||Se.lex()||Ce,typeof Ge!="number"&&(Ge instanceof Array&&(oe=Ge,Ge=oe.pop()),Ge=de.symbols_[Ge]||Ge),Ge}b(at,"lex");for(var dt,ut,kt,je,Ye={},gt,We,tt,Ft;;){if(ut=X[X.length-1],this.defaultActions[ut]?kt=this.defaultActions[ut]:((dt===null||typeof dt>"u")&&(dt=at()),kt=ue[ut]&&ue[ut][dt]),typeof kt>"u"||!kt.length||!kt[0]){var rt="";Ft=[];for(gt in ue[ut])this.terminals_[gt]&&gt>Ee&&Ft.push("'"+this.terminals_[gt]+"'");Se.showPosition?rt="Parse error on line "+(ge+1)+`:
`+Se.showPosition()+`
Expecting `+Ft.join(", ")+", got '"+(this.terminals_[dt]||dt)+"'":rt="Parse error on line "+(ge+1)+": Unexpected "+(dt==Ce?"end of input":"'"+(this.terminals_[dt]||dt)+"'"),this.parseError(rt,{text:Se.match,token:this.terminals_[dt]||dt,line:Se.yylineno,loc:qe,expected:Ft})}if(kt[0]instanceof Array&&kt.length>1)throw new Error("Parse Error: multiple actions possible at state: "+ut+", token: "+dt);switch(kt[0]){case 1:X.push(dt),me.push(Se.yytext),ne.push(Se.yylloc),X.push(kt[1]),dt=null,ve=Se.yyleng,pe=Se.yytext,ge=Se.yylineno,qe=Se.yylloc;break;case 2:if(We=this.productions_[kt[1]][1],Ye.$=me[me.length-We],Ye._$={first_line:ne[ne.length-(We||1)].first_line,last_line:ne[ne.length-1].last_line,first_column:ne[ne.length-(We||1)].first_column,last_column:ne[ne.length-1].last_column},De&&(Ye._$.range=[ne[ne.length-(We||1)].range[0],ne[ne.length-1].range[1]]),je=this.performAction.apply(Ye,[pe,ve,ge,Ie.yy,kt[1],me,ne].concat(Ne)),typeof je<"u")return je;We&&(X=X.slice(0,-1*We*2),me=me.slice(0,-1*We),ne=ne.slice(0,-1*We)),X.push(this.productions_[kt[1]][0]),me.push(Ye.$),ne.push(Ye._$),tt=ue[X[X.length-2]][X[X.length-1]],X.push(tt);break;case 3:return!0}}return!0},"parse")},Ue=function(){var Ve={EOF:1,parseError:b(function(de,X){if(this.yy.parser)this.yy.parser.parseError(de,X);else throw new Error(de)},"parseError"),setInput:b(function(Re,de){return this.yy=de||this.yy||{},this._input=Re,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},"setInput"),input:b(function(){var Re=this._input[0];this.yytext+=Re,this.yyleng++,this.offset++,this.match+=Re,this.matched+=Re;var de=Re.match(/(?:\r\n?|\n).*/g);return de?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),Re},"input"),unput:b(function(Re){var de=Re.length,X=Re.split(/(?:\r\n?|\n)/g);this._input=Re+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-de),this.offset-=de;var oe=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),X.length-1&&(this.yylineno-=X.length-1);var me=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:X?(X.length===oe.length?this.yylloc.first_column:0)+oe[oe.length-X.length].length-X[0].length:this.yylloc.first_column-de},this.options.ranges&&(this.yylloc.range=[me[0],me[0]+this.yyleng-de]),this.yyleng=this.yytext.length,this},"unput"),more:b(function(){return this._more=!0,this},"more"),reject:b(function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},"reject"),less:b(function(Re){this.unput(this.match.slice(Re))},"less"),pastInput:b(function(){var Re=this.matched.substr(0,this.matched.length-this.match.length);return(Re.length>20?"...":"")+Re.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:b(function(){var Re=this.match;return Re.length<20&&(Re+=this._input.substr(0,20-Re.length)),(Re.substr(0,20)+(Re.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:b(function(){var Re=this.pastInput(),de=new Array(Re.length+1).join("-");return Re+this.upcomingInput()+`
`+de+"^"},"showPosition"),test_match:b(function(Re,de){var X,oe,me;if(this.options.backtrack_lexer&&(me={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(me.yylloc.range=this.yylloc.range.slice(0))),oe=Re[0].match(/(?:\r\n?|\n).*/g),oe&&(this.yylineno+=oe.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:oe?oe[oe.length-1].length-oe[oe.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+Re[0].length},this.yytext+=Re[0],this.match+=Re[0],this.matches=Re,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(Re[0].length),this.matched+=Re[0],X=this.performAction.call(this,this.yy,this,de,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),X)return X;if(this._backtrack){for(var ne in me)this[ne]=me[ne];return!1}return!1},"test_match"),next:b(function(){if(this.done)return this.EOF;this._input||(this.done=!0);var Re,de,X,oe;this._more||(this.yytext="",this.match="");for(var me=this._currentRules(),ne=0;ne<me.length;ne++)if(X=this._input.match(this.rules[me[ne]]),X&&(!de||X[0].length>de[0].length)){if(de=X,oe=ne,this.options.backtrack_lexer){if(Re=this.test_match(X,me[ne]),Re!==!1)return Re;if(this._backtrack){de=!1;continue}else return!1}else if(!this.options.flex)break}return de?(Re=this.test_match(de,me[oe]),Re!==!1?Re:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:b(function(){var de=this.next();return de||this.lex()},"lex"),begin:b(function(de){this.conditionStack.push(de)},"begin"),popState:b(function(){var de=this.conditionStack.length-1;return de>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:b(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:b(function(de){return de=this.conditionStack.length-1-Math.abs(de||0),de>=0?this.conditionStack[de]:"INITIAL"},"topState"),pushState:b(function(de){this.begin(de)},"pushState"),stateStackSize:b(function(){return this.conditionStack.length},"stateStackSize"),options:{},performAction:b(function(de,X,oe,me){switch(oe){case 0:return 54;case 1:return 55;case 2:return 56;case 3:return 57;case 4:break;case 5:break;case 6:return this.begin("acc_title"),32;case 7:return this.popState(),"acc_title_value";case 8:return this.begin("acc_descr"),34;case 9:return this.popState(),"acc_descr_value";case 10:this.begin("acc_descr_multiline");break;case 11:this.popState();break;case 12:return"acc_descr_multiline_value";case 13:return 8;case 14:break;case 15:return 7;case 16:return 7;case 17:return"EDGE_STATE";case 18:this.begin("callback_name");break;case 19:this.popState();break;case 20:this.popState(),this.begin("callback_args");break;case 21:return 71;case 22:this.popState();break;case 23:return 72;case 24:this.popState();break;case 25:return"STR";case 26:this.begin("string");break;case 27:return 74;case 28:return this.begin("namespace"),41;case 29:return this.popState(),8;case 30:break;case 31:return this.begin("namespace-body"),38;case 32:return this.popState(),40;case 33:return"EOF_IN_STRUCT";case 34:return 8;case 35:break;case 36:return"EDGE_STATE";case 37:return this.begin("class"),45;case 38:return this.popState(),8;case 39:break;case 40:return this.popState(),this.popState(),40;case 41:return this.begin("class-body"),38;case 42:return this.popState(),40;case 43:return"EOF_IN_STRUCT";case 44:return"EDGE_STATE";case 45:return"OPEN_IN_STRUCT";case 46:break;case 47:return"MEMBER";case 48:return 77;case 49:return 67;case 50:return 68;case 51:return 70;case 52:return 51;case 53:return 53;case 54:return 46;case 55:return 47;case 56:return 73;case 57:this.popState();break;case 58:return"GENERICTYPE";case 59:this.begin("generic");break;case 60:this.popState();break;case 61:return"BQUOTE_STR";case 62:this.begin("bqstring");break;case 63:return 69;case 64:return 69;case 65:return 69;case 66:return 69;case 67:return 61;case 68:return 61;case 69:return 63;case 70:return 63;case 71:return 62;case 72:return 60;case 73:return 64;case 74:return 65;case 75:return 66;case 76:return 22;case 77:return 43;case 78:return 96;case 79:return 17;case 80:return"PLUS";case 81:return 82;case 82:return 79;case 83:return 85;case 84:return 85;case 85:return 86;case 86:return"EQUALS";case 87:return"EQUALS";case 88:return 75;case 89:return 12;case 90:return 14;case 91:return"PUNCTUATION";case 92:return 81;case 93:return 98;case 94:return 84;case 95:return 84;case 96:return 9}},"anonymous"),rules:[/^(?:.*direction\s+TB[^\n]*)/,/^(?:.*direction\s+BT[^\n]*)/,/^(?:.*direction\s+RL[^\n]*)/,/^(?:.*direction\s+LR[^\n]*)/,/^(?:%%(?!\{)*[^\n]*(\r?\n?)+)/,/^(?:%%[^\n]*(\r?\n)*)/,/^(?:accTitle\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*\{\s*)/,/^(?:[\}])/,/^(?:[^\}]*)/,/^(?:\s*(\r?\n)+)/,/^(?:\s+)/,/^(?:classDiagram-v2\b)/,/^(?:classDiagram\b)/,/^(?:\[\*\])/,/^(?:call[\s]+)/,/^(?:\([\s]*\))/,/^(?:\()/,/^(?:[^(]*)/,/^(?:\))/,/^(?:[^)]*)/,/^(?:["])/,/^(?:[^"]*)/,/^(?:["])/,/^(?:style\b)/,/^(?:namespace\b)/,/^(?:\s*(\r?\n)+)/,/^(?:\s+)/,/^(?:[{])/,/^(?:[}])/,/^(?:$)/,/^(?:\s*(\r?\n)+)/,/^(?:\s+)/,/^(?:\[\*\])/,/^(?:class\b)/,/^(?:\s*(\r?\n)+)/,/^(?:\s+)/,/^(?:[}])/,/^(?:[{])/,/^(?:[}])/,/^(?:$)/,/^(?:\[\*\])/,/^(?:[{])/,/^(?:[\n])/,/^(?:[^{}\n]*)/,/^(?:cssClass\b)/,/^(?:callback\b)/,/^(?:link\b)/,/^(?:click\b)/,/^(?:note for\b)/,/^(?:note\b)/,/^(?:<<)/,/^(?:>>)/,/^(?:href\b)/,/^(?:[~])/,/^(?:[^~]*)/,/^(?:~)/,/^(?:[`])/,/^(?:[^`]+)/,/^(?:[`])/,/^(?:_self\b)/,/^(?:_blank\b)/,/^(?:_parent\b)/,/^(?:_top\b)/,/^(?:\s*<\|)/,/^(?:\s*\|>)/,/^(?:\s*>)/,/^(?:\s*<)/,/^(?:\s*\*)/,/^(?:\s*o\b)/,/^(?:\s*\(\))/,/^(?:--)/,/^(?:\.\.)/,/^(?::{1}[^:\n;]+)/,/^(?::{3})/,/^(?:-)/,/^(?:\.)/,/^(?:\+)/,/^(?::)/,/^(?:,)/,/^(?:#)/,/^(?:#)/,/^(?:%)/,/^(?:=)/,/^(?:=)/,/^(?:\w+)/,/^(?:\[)/,/^(?:\])/,/^(?:[!"#$%&'*+,-.`?\\/])/,/^(?:[0-9]+)/,/^(?:[\u00AA\u00B5\u00BA\u00C0-\u00D6\u00D8-\u00F6]|[\u00F8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377]|[\u037A-\u037D\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5]|[\u03F7-\u0481\u048A-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA]|[\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE]|[\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA]|[\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0]|[\u08A2-\u08AC\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0977]|[\u0979-\u097F\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2]|[\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A]|[\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39]|[\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8]|[\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C]|[\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C]|[\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99]|[\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0]|[\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C33\u0C35-\u0C39\u0C3D]|[\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3]|[\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10]|[\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1]|[\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81]|[\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3]|[\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6]|[\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A]|[\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081]|[\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D]|[\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0]|[\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310]|[\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C]|[\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u1700-\u170C\u170E-\u1711]|[\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7]|[\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191C]|[\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19C1-\u19C7\u1A00-\u1A16]|[\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF]|[\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC]|[\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D]|[\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D]|[\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3]|[\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F]|[\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128]|[\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184]|[\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3]|[\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6]|[\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE]|[\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C]|[\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D]|[\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC]|[\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B]|[\uA640-\uA66E\uA67F-\uA697\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788]|[\uA78B-\uA78E\uA790-\uA793\uA7A0-\uA7AA\uA7F8-\uA801\uA803-\uA805]|[\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB]|[\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uAA00-\uAA28]|[\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA80-\uAAAF\uAAB1\uAAB5]|[\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4]|[\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E]|[\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D]|[\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36]|[\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D]|[\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC]|[\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF]|[\uFFD2-\uFFD7\uFFDA-\uFFDC])/,/^(?:\s)/,/^(?:\s)/,/^(?:$)/],conditions:{"namespace-body":{rules:[26,32,33,34,35,36,37,48,49,50,51,52,53,54,55,56,59,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,85,86,87,88,89,90,91,92,93,94,96],inclusive:!1},namespace:{rules:[26,28,29,30,31,48,49,50,51,52,53,54,55,56,59,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,85,86,87,88,89,90,91,92,93,94,96],inclusive:!1},"class-body":{rules:[26,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,59,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,85,86,87,88,89,90,91,92,93,94,96],inclusive:!1},class:{rules:[26,38,39,40,41,48,49,50,51,52,53,54,55,56,59,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,85,86,87,88,89,90,91,92,93,94,96],inclusive:!1},acc_descr_multiline:{rules:[11,12,26,48,49,50,51,52,53,54,55,56,59,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,85,86,87,88,89,90,91,92,93,94,96],inclusive:!1},acc_descr:{rules:[9,26,48,49,50,51,52,53,54,55,56,59,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,85,86,87,88,89,90,91,92,93,94,96],inclusive:!1},acc_title:{rules:[7,26,48,49,50,51,52,53,54,55,56,59,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,85,86,87,88,89,90,91,92,93,94,96],inclusive:!1},callback_args:{rules:[22,23,26,48,49,50,51,52,53,54,55,56,59,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,85,86,87,88,89,90,91,92,93,94,96],inclusive:!1},callback_name:{rules:[19,20,21,26,48,49,50,51,52,53,54,55,56,59,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,85,86,87,88,89,90,91,92,93,94,96],inclusive:!1},href:{rules:[26,48,49,50,51,52,53,54,55,56,59,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,85,86,87,88,89,90,91,92,93,94,96],inclusive:!1},struct:{rules:[26,48,49,50,51,52,53,54,55,56,59,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,85,86,87,88,89,90,91,92,93,94,96],inclusive:!1},generic:{rules:[26,48,49,50,51,52,53,54,55,56,57,58,59,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,85,86,87,88,89,90,91,92,93,94,96],inclusive:!1},bqstring:{rules:[26,48,49,50,51,52,53,54,55,56,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,85,86,87,88,89,90,91,92,93,94,96],inclusive:!1},string:{rules:[24,25,26,48,49,50,51,52,53,54,55,56,59,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,85,86,87,88,89,90,91,92,93,94,96],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,5,6,8,10,13,14,15,16,17,18,26,27,28,37,48,49,50,51,52,53,54,55,56,59,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96],inclusive:!0}}};return Ve}();be.lexer=Ue;function He(){this.yy={}}return b(He,"Parser"),He.prototype=be,be.Parser=He,new He}();n8.parser=n8;var yne=n8,yB=["#","+","~","-",""],bp,xB=(bp=class{constructor(e,r){this.memberType=r,this.visibility="",this.classifier="";const n=Wn(e,we());this.parseMember(n)}getDisplayDetails(){let e=this.visibility+_m(this.id);this.memberType==="method"&&(e+=`(${_m(this.parameters.trim())})`,this.returnType&&(e+=" : "+_m(this.returnType))),e=e.trim();const r=this.parseClassifier();return{displayText:e,cssStyle:r}}parseMember(e){let r="";if(this.memberType==="method"){const i=/([#+~-])?(.+)\((.*)\)([\s$*])?(.*)([$*])?/.exec(e);if(i){const a=i[1]?i[1].trim():"";if(yB.includes(a)&&(this.visibility=a),this.id=i[2].trim(),this.parameters=i[3]?i[3].trim():"",r=i[4]?i[4].trim():"",this.returnType=i[5]?i[5].trim():"",r===""){const s=this.returnType.substring(this.returnType.length-1);/[$*]/.exec(s)&&(r=s,this.returnType=this.returnType.substring(0,this.returnType.length-1))}}}else{const n=e.length,i=e.substring(0,1),a=e.substring(n-1);yB.includes(i)&&(this.visibility=i),/[$*]/.exec(a)&&(r=a),this.id=e.substring(this.visibility===""?0:1,r===""?n:n-1)}this.classifier=r}parseClassifier(){switch(this.classifier){case"*":return"font-style:italic;";case"$":return"text-decoration:underline;";default:return""}}},b(bp,"ClassMember"),bp),b6="classId-",QL=[],mi=new Map,a5=[],bB=0,Vc=new Map,i8=0,Hv=[],qd=b(t=>et.sanitizeText(t,we()),"sanitizeText"),jd=b(function(t){const e=et.sanitizeText(t,we());let r="",n=e;if(e.indexOf("~")>0){const i=e.split("~");n=qd(i[0]),r=qd(i[1])}return{className:n,type:r}},"splitClassNameAndType"),DUe=b(function(t,e){const r=et.sanitizeText(t,we());e&&(e=qd(e));const{className:n}=jd(r);mi.get(n).label=e},"setClassLabel"),s5=b(function(t){const e=et.sanitizeText(t,we()),{className:r,type:n}=jd(e);if(mi.has(r))return;const i=et.sanitizeText(r,we());mi.set(i,{id:i,type:n,label:i,cssClasses:[],methods:[],members:[],annotations:[],styles:[],domId:b6+i+"-"+bB}),bB++},"addClass"),xne=b(function(t){const e=et.sanitizeText(t,we());if(mi.has(e))return mi.get(e).domId;throw new Error("Class not found: "+e)},"lookUpDomId"),OUe=b(function(){QL=[],mi=new Map,a5=[],Hv=[],Hv.push(wne),Vc=new Map,i8=0,JL="TB",Ni()},"clear"),PUe=b(function(t){return mi.get(t)},"getClass"),FUe=b(function(){return mi},"getClasses"),BUe=b(function(){return QL},"getRelations"),$Ue=b(function(){return a5},"getNotes"),zUe=b(function(t){q.debug("Adding relation: "+JSON.stringify(t)),s5(t.id1),s5(t.id2),t.id1=jd(t.id1).className,t.id2=jd(t.id2).className,t.relationTitle1=et.sanitizeText(t.relationTitle1.trim(),we()),t.relationTitle2=et.sanitizeText(t.relationTitle2.trim(),we()),QL.push(t)},"addRelation"),UUe=b(function(t,e){const r=jd(t).className;mi.get(r).annotations.push(e)},"addAnnotation"),bne=b(function(t,e){s5(t);const r=jd(t).className,n=mi.get(r);if(typeof e=="string"){const i=e.trim();i.startsWith("<<")&&i.endsWith(">>")?n.annotations.push(qd(i.substring(2,i.length-2))):i.indexOf(")")>0?n.methods.push(new xB(i,"method")):i&&n.members.push(new xB(i,"attribute"))}},"addMember"),VUe=b(function(t,e){Array.isArray(e)&&(e.reverse(),e.forEach(r=>bne(t,r)))},"addMembers"),GUe=b(function(t,e){const r={id:`note${a5.length}`,class:e,text:t};a5.push(r)},"addNote"),HUe=b(function(t){return t.startsWith(":")&&(t=t.substring(1)),qd(t.trim())},"cleanupLabel"),ZL=b(function(t,e){t.split(",").forEach(function(r){let n=r;/\d/.exec(r[0])&&(n=b6+n);const i=mi.get(n);i&&i.cssClasses.push(e)})},"setCssClass"),WUe=b(function(t,e){t.split(",").forEach(function(r){e!==void 0&&(mi.get(r).tooltip=qd(e))})},"setTooltip"),YUe=b(function(t,e){return e&&Vc.has(e)?Vc.get(e).classes.get(t).tooltip:mi.get(t).tooltip},"getTooltip"),qUe=b(function(t,e,r){const n=we();t.split(",").forEach(function(i){let a=i;/\d/.exec(i[0])&&(a=b6+a);const s=mi.get(a);s&&(s.link=Jt.formatUrl(e,n),n.securityLevel==="sandbox"?s.linkTarget="_top":typeof r=="string"?s.linkTarget=qd(r):s.linkTarget="_blank")}),ZL(t,"clickable")},"setLink"),jUe=b(function(t,e,r){t.split(",").forEach(function(n){XUe(n,e,r),mi.get(n).haveCallback=!0}),ZL(t,"clickable")},"setClickEvent"),XUe=b(function(t,e,r){const n=et.sanitizeText(t,we());if(we().securityLevel!=="loose"||e===void 0)return;const a=n;if(mi.has(a)){const s=xne(a);let o=[];if(typeof r=="string"){o=r.split(/,(?=(?:(?:[^"]*"){2})*[^"]*$)/);for(let l=0;l<o.length;l++){let u=o[l].trim();u.startsWith('"')&&u.endsWith('"')&&(u=u.substr(1,u.length-2)),o[l]=u}}o.length===0&&o.push(s),Hv.push(function(){const l=document.querySelector(`[id="${s}"]`);l!==null&&l.addEventListener("click",function(){Jt.runFunc(e,...o)},!1)})}},"setClickFunc"),KUe=b(function(t){Hv.forEach(function(e){e(t)})},"bindFunctions"),QUe={LINE:0,DOTTED_LINE:1},ZUe={AGGREGATION:0,EXTENSION:1,COMPOSITION:2,DEPENDENCY:3,LOLLIPOP:4},wne=b(function(t){let e=Ke(".mermaidTooltip");(e._groups||e)[0][0]===null&&(e=Ke("body").append("div").attr("class","mermaidTooltip").style("opacity",0)),Ke(t).select("svg").selectAll("g.node").on("mouseover",function(){const i=Ke(this);if(i.attr("title")===null)return;const s=this.getBoundingClientRect();e.transition().duration(200).style("opacity",".9"),e.text(i.attr("title")).style("left",window.scrollX+s.left+(s.right-s.left)/2+"px").style("top",window.scrollY+s.top-14+document.body.scrollTop+"px"),e.html(e.html().replace(/&lt;br\/&gt;/g,"<br/>")),i.classed("hover",!0)}).on("mouseout",function(){e.transition().duration(500).style("opacity",0),Ke(this).classed("hover",!1)})},"setupToolTips");Hv.push(wne);var JL="TB",JUe=b(()=>JL,"getDirection"),eVe=b(t=>{JL=t},"setDirection"),tVe=b(function(t){Vc.has(t)||(Vc.set(t,{id:t,classes:new Map,children:{},domId:b6+t+"-"+i8}),i8++)},"addNamespace"),rVe=b(function(t){return Vc.get(t)},"getNamespace"),nVe=b(function(){return Vc},"getNamespaces"),iVe=b(function(t,e){if(Vc.has(t))for(const r of e){const{className:n}=jd(r);mi.get(n).parent=t,Vc.get(t).classes.set(n,mi.get(n))}},"addClassesToNamespace"),aVe=b(function(t,e){const r=mi.get(t);if(!(!e||!r))for(const n of e)n.includes(",")?r.styles.push(...n.split(",")):r.styles.push(n)},"setCssStyle"),o5={setAccTitle:Ri,getAccTitle:Qi,getAccDescription:Ji,setAccDescription:Zi,getConfig:b(()=>we().class,"getConfig"),addClass:s5,bindFunctions:KUe,clear:OUe,getClass:PUe,getClasses:FUe,getNotes:$Ue,addAnnotation:UUe,addNote:GUe,getRelations:BUe,addRelation:zUe,getDirection:JUe,setDirection:eVe,addMember:bne,addMembers:VUe,cleanupLabel:HUe,lineType:QUe,relationType:ZUe,setClickEvent:jUe,setCssClass:ZL,setLink:qUe,getTooltip:YUe,setTooltip:WUe,lookUpDomId:xne,setDiagramTitle:za,getDiagramTitle:ea,setClassLabel:DUe,addNamespace:tVe,addClassesToNamespace:iVe,getNamespace:rVe,getNamespaces:nVe,setCssStyle:aVe},sVe=b(t=>`g.classGroup text {
  fill: ${t.nodeBorder||t.classText};
  stroke: none;
  font-family: ${t.fontFamily};
  font-size: 10px;

  .title {
    font-weight: bolder;
  }

}

.nodeLabel, .edgeLabel {
  color: ${t.classText};
}
.edgeLabel .label rect {
  fill: ${t.mainBkg};
}
.label text {
  fill: ${t.classText};
}
.edgeLabel .label span {
  background: ${t.mainBkg};
}

.classTitle {
  font-weight: bolder;
}
.node rect,
  .node circle,
  .node ellipse,
  .node polygon,
  .node path {
    fill: ${t.mainBkg};
    stroke: ${t.nodeBorder};
    stroke-width: 1px;
  }


.divider {
  stroke: ${t.nodeBorder};
  stroke-width: 1;
}

g.clickable {
  cursor: pointer;
}

g.classGroup rect {
  fill: ${t.mainBkg};
  stroke: ${t.nodeBorder};
}

g.classGroup line {
  stroke: ${t.nodeBorder};
  stroke-width: 1;
}

.classLabel .box {
  stroke: none;
  stroke-width: 0;
  fill: ${t.mainBkg};
  opacity: 0.5;
}

.classLabel .label {
  fill: ${t.nodeBorder};
  font-size: 10px;
}

.relation {
  stroke: ${t.lineColor};
  stroke-width: 1;
  fill: none;
}

.dashed-line{
  stroke-dasharray: 3;
}

.dotted-line{
  stroke-dasharray: 1 2;
}

#compositionStart, .composition {
  fill: ${t.lineColor} !important;
  stroke: ${t.lineColor} !important;
  stroke-width: 1;
}

#compositionEnd, .composition {
  fill: ${t.lineColor} !important;
  stroke: ${t.lineColor} !important;
  stroke-width: 1;
}

#dependencyStart, .dependency {
  fill: ${t.lineColor} !important;
  stroke: ${t.lineColor} !important;
  stroke-width: 1;
}

#dependencyStart, .dependency {
  fill: ${t.lineColor} !important;
  stroke: ${t.lineColor} !important;
  stroke-width: 1;
}

#extensionStart, .extension {
  fill: transparent !important;
  stroke: ${t.lineColor} !important;
  stroke-width: 1;
}

#extensionEnd, .extension {
  fill: transparent !important;
  stroke: ${t.lineColor} !important;
  stroke-width: 1;
}

#aggregationStart, .aggregation {
  fill: transparent !important;
  stroke: ${t.lineColor} !important;
  stroke-width: 1;
}

#aggregationEnd, .aggregation {
  fill: transparent !important;
  stroke: ${t.lineColor} !important;
  stroke-width: 1;
}

#lollipopStart, .lollipop {
  fill: ${t.mainBkg} !important;
  stroke: ${t.lineColor} !important;
  stroke-width: 1;
}

#lollipopEnd, .lollipop {
  fill: ${t.mainBkg} !important;
  stroke: ${t.lineColor} !important;
  stroke-width: 1;
}

.edgeTerminals {
  font-size: 11px;
  line-height: initial;
}

.classTitleText {
  text-anchor: middle;
  font-size: 18px;
  fill: ${t.textColor};
}
`,"getStyles"),kne=sVe,wB=0,oVe=b(function(t,e,r,n,i){const a=b(function(x){switch(x){case i.db.relationType.AGGREGATION:return"aggregation";case i.db.relationType.EXTENSION:return"extension";case i.db.relationType.COMPOSITION:return"composition";case i.db.relationType.DEPENDENCY:return"dependency";case i.db.relationType.LOLLIPOP:return"lollipop"}},"getRelationType");e.points=e.points.filter(x=>!Number.isNaN(x.y));const s=e.points,o=Xu().x(function(x){return x.x}).y(function(x){return x.y}).curve(Tg),l=t.append("path").attr("d",o(s)).attr("id","edge"+wB).attr("class","relation");let u="";n.arrowMarkerAbsolute&&(u=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,u=u.replace(/\(/g,"\\("),u=u.replace(/\)/g,"\\)")),r.relation.lineType==1&&l.attr("class","relation dashed-line"),r.relation.lineType==10&&l.attr("class","relation dotted-line"),r.relation.type1!=="none"&&l.attr("marker-start","url("+u+"#"+a(r.relation.type1)+"Start)"),r.relation.type2!=="none"&&l.attr("marker-end","url("+u+"#"+a(r.relation.type2)+"End)");let h,d;const p=e.points.length;let f=Jt.calcLabelPosition(e.points);h=f.x,d=f.y;let g,m,y,v;if(p%2!==0&&p>1){let x=Jt.calcCardinalityPosition(r.relation.type1!=="none",e.points,e.points[0]),w=Jt.calcCardinalityPosition(r.relation.type2!=="none",e.points,e.points[p-1]);q.debug("cardinality_1_point "+JSON.stringify(x)),q.debug("cardinality_2_point "+JSON.stringify(w)),g=x.x,m=x.y,y=w.x,v=w.y}if(r.title!==void 0){const x=t.append("g").attr("class","classLabel"),w=x.append("text").attr("class","label").attr("x",h).attr("y",d).attr("fill","red").attr("text-anchor","middle").text(r.title);window.label=w;const k=w.node().getBBox();x.insert("rect",":first-child").attr("class","box").attr("x",k.x-n.padding/2).attr("y",k.y-n.padding/2).attr("width",k.width+n.padding).attr("height",k.height+n.padding)}q.info("Rendering relation "+JSON.stringify(r)),r.relationTitle1!==void 0&&r.relationTitle1!=="none"&&t.append("g").attr("class","cardinality").append("text").attr("class","type1").attr("x",g).attr("y",m).attr("fill","black").attr("font-size","6").text(r.relationTitle1),r.relationTitle2!==void 0&&r.relationTitle2!=="none"&&t.append("g").attr("class","cardinality").append("text").attr("class","type2").attr("x",y).attr("y",v).attr("fill","black").attr("font-size","6").text(r.relationTitle2),wB++},"drawEdge"),lVe=b(function(t,e,r,n){q.debug("Rendering class ",e,r);const i=e.id,a={id:i,label:e.id,width:0,height:0},s=t.append("g").attr("id",n.db.lookUpDomId(i)).attr("class","classGroup");let o;e.link?o=s.append("svg:a").attr("xlink:href",e.link).attr("target",e.linkTarget).append("text").attr("y",r.textHeight+r.padding).attr("x",0):o=s.append("text").attr("y",r.textHeight+r.padding).attr("x",0);let l=!0;e.annotations.forEach(function(w){const k=o.append("tspan").text("«"+w+"»");l||k.attr("dy",r.textHeight),l=!1});let u=Tne(e);const h=o.append("tspan").text(u).attr("class","title");l||h.attr("dy",r.textHeight);const d=o.node().getBBox().height;let p,f,g;if(e.members.length>0){p=s.append("line").attr("x1",0).attr("y1",r.padding+d+r.dividerMargin/2).attr("y2",r.padding+d+r.dividerMargin/2);const w=s.append("text").attr("x",r.padding).attr("y",d+r.dividerMargin+r.textHeight).attr("fill","white").attr("class","classText");l=!0,e.members.forEach(function(k){kB(w,k,l,r),l=!1}),f=w.node().getBBox()}if(e.methods.length>0){g=s.append("line").attr("x1",0).attr("y1",r.padding+d+r.dividerMargin+f.height).attr("y2",r.padding+d+r.dividerMargin+f.height);const w=s.append("text").attr("x",r.padding).attr("y",d+2*r.dividerMargin+f.height+r.textHeight).attr("fill","white").attr("class","classText");l=!0,e.methods.forEach(function(k){kB(w,k,l,r),l=!1})}const m=s.node().getBBox();var y=" ";e.cssClasses.length>0&&(y=y+e.cssClasses.join(" "));const x=s.insert("rect",":first-child").attr("x",0).attr("y",0).attr("width",m.width+2*r.padding).attr("height",m.height+r.padding+.5*r.dividerMargin).attr("class",y).node().getBBox().width;return o.node().childNodes.forEach(function(w){w.setAttribute("x",(x-w.getBBox().width)/2)}),e.tooltip&&o.insert("title").text(e.tooltip),p&&p.attr("x2",x),g&&g.attr("x2",x),a.width=x,a.height=m.height+r.padding+.5*r.dividerMargin,a},"drawClass"),Tne=b(function(t){let e=t.id;return t.type&&(e+="<"+_m(t.type)+">"),e},"getClassTitleString"),cVe=b(function(t,e,r,n){q.debug("Rendering note ",e,r);const i=e.id,a={id:i,text:e.text,width:0,height:0},s=t.append("g").attr("id",i).attr("class","classGroup");let o=s.append("text").attr("y",r.textHeight+r.padding).attr("x",0);const l=JSON.parse(`"${e.text}"`).split(`
`);l.forEach(function(p){q.debug(`Adding line: ${p}`),o.append("tspan").text(p).attr("class","title").attr("dy",r.textHeight)});const u=s.node().getBBox(),d=s.insert("rect",":first-child").attr("x",0).attr("y",0).attr("width",u.width+2*r.padding).attr("height",u.height+l.length*r.textHeight+r.padding+.5*r.dividerMargin).node().getBBox().width;return o.node().childNodes.forEach(function(p){p.setAttribute("x",(d-p.getBBox().width)/2)}),a.width=d,a.height=u.height+l.length*r.textHeight+r.padding+.5*r.dividerMargin,a},"drawNote"),kB=b(function(t,e,r,n){const{displayText:i,cssStyle:a}=e.getDisplayDetails(),s=t.append("tspan").attr("x",n.padding).text(i);a!==""&&s.attr("style",e.cssStyle),r||s.attr("dy",n.textHeight)},"addTspan"),hE={getClassTitleString:Tne,drawClass:lVe,drawEdge:oVe,drawNote:cVe},Mb={},Tx=20,F1=b(function(t){const e=Object.entries(Mb).find(r=>r[1].label===t);if(e)return e[0]},"getGraphId"),uVe=b(function(t){t.append("defs").append("marker").attr("id","extensionStart").attr("class","extension").attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 1,7 L18,13 V 1 Z"),t.append("defs").append("marker").attr("id","extensionEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 1,1 V 13 L18,7 Z"),t.append("defs").append("marker").attr("id","compositionStart").attr("class","extension").attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),t.append("defs").append("marker").attr("id","compositionEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),t.append("defs").append("marker").attr("id","aggregationStart").attr("class","extension").attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),t.append("defs").append("marker").attr("id","aggregationEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),t.append("defs").append("marker").attr("id","dependencyStart").attr("class","extension").attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 5,7 L9,13 L1,7 L9,1 Z"),t.append("defs").append("marker").attr("id","dependencyEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L14,7 L9,1 Z")},"insertMarkers"),hVe=b(function(t,e,r,n){const i=we().class;Mb={},q.info("Rendering diagram "+t);const a=we().securityLevel;let s;a==="sandbox"&&(s=Ke("#i"+e));const o=Ke(a==="sandbox"?s.nodes()[0].contentDocument.body:"body"),l=o.select(`[id='${e}']`);uVe(l);const u=new bi({multigraph:!0});u.setGraph({isMultiGraph:!0}),u.setDefaultEdgeLabel(function(){return{}});const h=n.db.getClasses(),d=[...h.keys()];for(const x of d){const w=h.get(x),k=hE.drawClass(l,w,i,n);Mb[k.id]=k,u.setNode(k.id,k),q.info("Org height: "+k.height)}n.db.getRelations().forEach(function(x){q.info("tjoho"+F1(x.id1)+F1(x.id2)+JSON.stringify(x)),u.setEdge(F1(x.id1),F1(x.id2),{relation:x},x.title||"DEFAULT")}),n.db.getNotes().forEach(function(x){q.debug(`Adding note: ${JSON.stringify(x)}`);const w=hE.drawNote(l,x,i,n);Mb[w.id]=w,u.setNode(w.id,w),x.class&&h.has(x.class)&&u.setEdge(x.id,F1(x.class),{relation:{id1:x.id,id2:x.class,relation:{type1:"none",type2:"none",lineType:10}}},"DEFAULT")}),Fg(u),u.nodes().forEach(function(x){x!==void 0&&u.node(x)!==void 0&&(q.debug("Node "+x+": "+JSON.stringify(u.node(x))),o.select("#"+(n.db.lookUpDomId(x)||x)).attr("transform","translate("+(u.node(x).x-u.node(x).width/2)+","+(u.node(x).y-u.node(x).height/2)+" )"))}),u.edges().forEach(function(x){x!==void 0&&u.edge(x)!==void 0&&(q.debug("Edge "+x.v+" -> "+x.w+": "+JSON.stringify(u.edge(x))),hE.drawEdge(l,u.edge(x),u.edge(x).relation,i,n))});const g=l.node().getBBox(),m=g.width+Tx*2,y=g.height+Tx*2;Ki(l,y,m,i.useMaxWidth);const v=`${g.x-Tx} ${g.y-Tx} ${m} ${y}`;q.debug(`viewBox ${v}`),l.attr("viewBox",v)},"draw"),dVe={draw:hVe},fVe={parser:yne,db:o5,renderer:dVe,styles:kne,init:b(t=>{t.class||(t.class={}),t.class.arrowMarkerAbsolute=t.arrowMarkerAbsolute,o5.clear()},"init")};const pVe=Object.freeze(Object.defineProperty({__proto__:null,diagram:fVe},Symbol.toStringTag,{value:"Module"}));var gVe=b((t,e,r,n)=>{e.forEach(i=>{SVe[i](t,r,n)})},"insertMarkers"),mVe=b((t,e,r)=>{q.trace("Making markers for ",r),t.append("defs").append("marker").attr("id",r+"_"+e+"-extensionStart").attr("class","marker extension "+e).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 1,7 L18,13 V 1 Z"),t.append("defs").append("marker").attr("id",r+"_"+e+"-extensionEnd").attr("class","marker extension "+e).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 1,1 V 13 L18,7 Z")},"extension"),vVe=b((t,e,r)=>{t.append("defs").append("marker").attr("id",r+"_"+e+"-compositionStart").attr("class","marker composition "+e).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),t.append("defs").append("marker").attr("id",r+"_"+e+"-compositionEnd").attr("class","marker composition "+e).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z")},"composition"),yVe=b((t,e,r)=>{t.append("defs").append("marker").attr("id",r+"_"+e+"-aggregationStart").attr("class","marker aggregation "+e).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),t.append("defs").append("marker").attr("id",r+"_"+e+"-aggregationEnd").attr("class","marker aggregation "+e).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z")},"aggregation"),xVe=b((t,e,r)=>{t.append("defs").append("marker").attr("id",r+"_"+e+"-dependencyStart").attr("class","marker dependency "+e).attr("refX",6).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 5,7 L9,13 L1,7 L9,1 Z"),t.append("defs").append("marker").attr("id",r+"_"+e+"-dependencyEnd").attr("class","marker dependency "+e).attr("refX",13).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L14,7 L9,1 Z")},"dependency"),bVe=b((t,e,r)=>{t.append("defs").append("marker").attr("id",r+"_"+e+"-lollipopStart").attr("class","marker lollipop "+e).attr("refX",13).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("circle").attr("stroke","black").attr("fill","transparent").attr("cx",7).attr("cy",7).attr("r",6),t.append("defs").append("marker").attr("id",r+"_"+e+"-lollipopEnd").attr("class","marker lollipop "+e).attr("refX",1).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("circle").attr("stroke","black").attr("fill","transparent").attr("cx",7).attr("cy",7).attr("r",6)},"lollipop"),wVe=b((t,e,r)=>{t.append("marker").attr("id",r+"_"+e+"-pointEnd").attr("class","marker "+e).attr("viewBox","0 0 10 10").attr("refX",6).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").append("path").attr("d","M 0 0 L 10 5 L 0 10 z").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0"),t.append("marker").attr("id",r+"_"+e+"-pointStart").attr("class","marker "+e).attr("viewBox","0 0 10 10").attr("refX",4.5).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").append("path").attr("d","M 0 5 L 10 10 L 10 0 z").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0")},"point"),kVe=b((t,e,r)=>{t.append("marker").attr("id",r+"_"+e+"-circleEnd").attr("class","marker "+e).attr("viewBox","0 0 10 10").attr("refX",11).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("circle").attr("cx","5").attr("cy","5").attr("r","5").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0"),t.append("marker").attr("id",r+"_"+e+"-circleStart").attr("class","marker "+e).attr("viewBox","0 0 10 10").attr("refX",-1).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("circle").attr("cx","5").attr("cy","5").attr("r","5").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0")},"circle"),TVe=b((t,e,r)=>{t.append("marker").attr("id",r+"_"+e+"-crossEnd").attr("class","marker cross "+e).attr("viewBox","0 0 11 11").attr("refX",12).attr("refY",5.2).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("path").attr("d","M 1,1 l 9,9 M 10,1 l -9,9").attr("class","arrowMarkerPath").style("stroke-width",2).style("stroke-dasharray","1,0"),t.append("marker").attr("id",r+"_"+e+"-crossStart").attr("class","marker cross "+e).attr("viewBox","0 0 11 11").attr("refX",-1).attr("refY",5.2).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("path").attr("d","M 1,1 l 9,9 M 10,1 l -9,9").attr("class","arrowMarkerPath").style("stroke-width",2).style("stroke-dasharray","1,0")},"cross"),EVe=b((t,e,r)=>{t.append("defs").append("marker").attr("id",r+"_"+e+"-barbEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",14).attr("markerUnits","strokeWidth").attr("orient","auto").append("path").attr("d","M 19,7 L9,13 L14,7 L9,1 Z")},"barb"),SVe={extension:mVe,composition:vVe,aggregation:yVe,dependency:xVe,lollipop:bVe,point:wVe,circle:kVe,cross:TVe,barb:EVe},Ene=gVe;function a8(t,e){e&&t.attr("style",e)}b(a8,"applyStyle");function Sne(t){const e=Ke(document.createElementNS("http://www.w3.org/2000/svg","foreignObject")),r=e.append("xhtml:div"),n=t.label,i=t.isNode?"nodeLabel":"edgeLabel",a=r.append("span");return a.html(n),a8(a,t.labelStyle),a.attr("class",i),a8(r,t.labelStyle),r.style("display","inline-block"),r.style("white-space","nowrap"),r.attr("xmlns","http://www.w3.org/1999/xhtml"),e.node()}b(Sne,"addHtmlLabel");var CVe=b((t,e,r,n)=>{let i=t||"";if(typeof i=="object"&&(i=i[0]),tn(we().flowchart.htmlLabels)){i=i.replace(/\\n|\n/g,"<br />"),q.debug("vertexText"+i);const a={isNode:n,label:S_(Id(i)),labelStyle:e.replace("fill:","color:")};return Sne(a)}else{const a=document.createElementNS("http://www.w3.org/2000/svg","text");a.setAttribute("style",e.replace("color:","fill:"));let s=[];typeof i=="string"?s=i.split(/\\n|\n|<br\s*\/?>/gi):Array.isArray(i)?s=i:s=[];for(const o of s){const l=document.createElementNS("http://www.w3.org/2000/svg","tspan");l.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),l.setAttribute("dy","1em"),l.setAttribute("x","0"),r?l.setAttribute("class","title-row"):l.setAttribute("class","row"),l.textContent=o.trim(),a.appendChild(l)}return a}},"createLabel"),rs=CVe,Ii=b(async(t,e,r,n)=>{const i=we();let a;const s=e.useHtmlLabels||tn(i.flowchart.htmlLabels);r?a=r:a="node default";const o=t.insert("g").attr("class",a).attr("id",e.domId||e.id),l=o.insert("g").attr("class","label").attr("style",e.labelStyle);let u;e.labelText===void 0?u="":u=typeof e.labelText=="string"?e.labelText:e.labelText[0];const h=l.node();let d;e.labelType==="markdown"?d=Fl(l,Wn(Id(u),i),{useHtmlLabels:s,width:e.width||i.flowchart.wrappingWidth,classes:"markdown-node-label"},i):d=h.appendChild(rs(Wn(Id(u),i),e.labelStyle,!1,n));let p=d.getBBox();const f=e.padding/2;if(tn(i.flowchart.htmlLabels)){const g=d.children[0],m=Ke(d),y=g.getElementsByTagName("img");if(y){const v=u.replace(/<img[^>]*>/g,"").trim()==="";await Promise.all([...y].map(x=>new Promise(w=>{function k(){if(x.style.display="flex",x.style.flexDirection="column",v){const E=i.fontSize?i.fontSize:window.getComputedStyle(document.body).fontSize,S=parseInt(E,10)*5+"px";x.style.minWidth=S,x.style.maxWidth=S}else x.style.width="100%";w(x)}b(k,"setupImage"),setTimeout(()=>{x.complete&&k()}),x.addEventListener("error",k),x.addEventListener("load",k)})))}p=g.getBoundingClientRect(),m.attr("width",p.width),m.attr("height",p.height)}return s?l.attr("transform","translate("+-p.width/2+", "+-p.height/2+")"):l.attr("transform","translate(0, "+-p.height/2+")"),e.centerLabel&&l.attr("transform","translate("+-p.width/2+", "+-p.height/2+")"),l.insert("rect",":first-child"),{shapeSvg:o,bbox:p,halfPadding:f,label:l}},"labelHelper"),Cn=b((t,e)=>{const r=e.node().getBBox();t.width=r.width,t.height=r.height},"updateNodeBounds");function rl(t,e,r,n){return t.insert("polygon",":first-child").attr("points",n.map(function(i){return i.x+","+i.y}).join(" ")).attr("class","label-container").attr("transform","translate("+-e/2+","+r/2+")")}b(rl,"insertPolygonShape");var AVe=b(t=>{const e=new Set;for(const r of t)switch(r){case"x":e.add("right"),e.add("left");break;case"y":e.add("up"),e.add("down");break;default:e.add(r);break}return e},"expandAndDeduplicateDirections"),_Ve=b((t,e,r)=>{const n=AVe(t),i=2,a=e.height+2*r.padding,s=a/i,o=e.width+2*s+r.padding,l=r.padding/2;return n.has("right")&&n.has("left")&&n.has("up")&&n.has("down")?[{x:0,y:0},{x:s,y:0},{x:o/2,y:2*l},{x:o-s,y:0},{x:o,y:0},{x:o,y:-a/3},{x:o+2*l,y:-a/2},{x:o,y:-2*a/3},{x:o,y:-a},{x:o-s,y:-a},{x:o/2,y:-a-2*l},{x:s,y:-a},{x:0,y:-a},{x:0,y:-2*a/3},{x:-2*l,y:-a/2},{x:0,y:-a/3}]:n.has("right")&&n.has("left")&&n.has("up")?[{x:s,y:0},{x:o-s,y:0},{x:o,y:-a/2},{x:o-s,y:-a},{x:s,y:-a},{x:0,y:-a/2}]:n.has("right")&&n.has("left")&&n.has("down")?[{x:0,y:0},{x:s,y:-a},{x:o-s,y:-a},{x:o,y:0}]:n.has("right")&&n.has("up")&&n.has("down")?[{x:0,y:0},{x:o,y:-s},{x:o,y:-a+s},{x:0,y:-a}]:n.has("left")&&n.has("up")&&n.has("down")?[{x:o,y:0},{x:0,y:-s},{x:0,y:-a+s},{x:o,y:-a}]:n.has("right")&&n.has("left")?[{x:s,y:0},{x:s,y:-l},{x:o-s,y:-l},{x:o-s,y:0},{x:o,y:-a/2},{x:o-s,y:-a},{x:o-s,y:-a+l},{x:s,y:-a+l},{x:s,y:-a},{x:0,y:-a/2}]:n.has("up")&&n.has("down")?[{x:o/2,y:0},{x:0,y:-l},{x:s,y:-l},{x:s,y:-a+l},{x:0,y:-a+l},{x:o/2,y:-a},{x:o,y:-a+l},{x:o-s,y:-a+l},{x:o-s,y:-l},{x:o,y:-l}]:n.has("right")&&n.has("up")?[{x:0,y:0},{x:o,y:-s},{x:0,y:-a}]:n.has("right")&&n.has("down")?[{x:0,y:0},{x:o,y:0},{x:0,y:-a}]:n.has("left")&&n.has("up")?[{x:o,y:0},{x:0,y:-s},{x:o,y:-a}]:n.has("left")&&n.has("down")?[{x:o,y:0},{x:0,y:0},{x:o,y:-a}]:n.has("right")?[{x:s,y:-l},{x:s,y:-l},{x:o-s,y:-l},{x:o-s,y:0},{x:o,y:-a/2},{x:o-s,y:-a},{x:o-s,y:-a+l},{x:s,y:-a+l},{x:s,y:-a+l}]:n.has("left")?[{x:s,y:0},{x:s,y:-l},{x:o-s,y:-l},{x:o-s,y:-a+l},{x:s,y:-a+l},{x:s,y:-a},{x:0,y:-a/2}]:n.has("up")?[{x:s,y:-l},{x:s,y:-a+l},{x:0,y:-a+l},{x:o/2,y:-a},{x:o,y:-a+l},{x:o-s,y:-a+l},{x:o-s,y:-l}]:n.has("down")?[{x:o/2,y:0},{x:0,y:-l},{x:s,y:-l},{x:s,y:-a+l},{x:o-s,y:-a+l},{x:o-s,y:-l},{x:o,y:-l}]:[{x:0,y:0}]},"getArrowPoints");function Cne(t,e){return t.intersect(e)}b(Cne,"intersectNode");var LVe=Cne;function Ane(t,e,r,n){var i=t.x,a=t.y,s=i-n.x,o=a-n.y,l=Math.sqrt(e*e*o*o+r*r*s*s),u=Math.abs(e*r*s/l);n.x<i&&(u=-u);var h=Math.abs(e*r*o/l);return n.y<a&&(h=-h),{x:i+u,y:a+h}}b(Ane,"intersectEllipse");var _ne=Ane;function Lne(t,e,r){return _ne(t,e,e,r)}b(Lne,"intersectCircle");var NVe=Lne;function Nne(t,e,r,n){var i,a,s,o,l,u,h,d,p,f,g,m,y,v,x;if(i=e.y-t.y,s=t.x-e.x,l=e.x*t.y-t.x*e.y,p=i*r.x+s*r.y+l,f=i*n.x+s*n.y+l,!(p!==0&&f!==0&&s8(p,f))&&(a=n.y-r.y,o=r.x-n.x,u=n.x*r.y-r.x*n.y,h=a*t.x+o*t.y+u,d=a*e.x+o*e.y+u,!(h!==0&&d!==0&&s8(h,d))&&(g=i*o-a*s,g!==0)))return m=Math.abs(g/2),y=s*u-o*l,v=y<0?(y-m)/g:(y+m)/g,y=a*l-i*u,x=y<0?(y-m)/g:(y+m)/g,{x:v,y:x}}b(Nne,"intersectLine");function s8(t,e){return t*e>0}b(s8,"sameSign");var RVe=Nne,MVe=Rne;function Rne(t,e,r){var n=t.x,i=t.y,a=[],s=Number.POSITIVE_INFINITY,o=Number.POSITIVE_INFINITY;typeof e.forEach=="function"?e.forEach(function(g){s=Math.min(s,g.x),o=Math.min(o,g.y)}):(s=Math.min(s,e.x),o=Math.min(o,e.y));for(var l=n-t.width/2-s,u=i-t.height/2-o,h=0;h<e.length;h++){var d=e[h],p=e[h<e.length-1?h+1:0],f=RVe(t,r,{x:l+d.x,y:u+d.y},{x:l+p.x,y:u+p.y});f&&a.push(f)}return a.length?(a.length>1&&a.sort(function(g,m){var y=g.x-r.x,v=g.y-r.y,x=Math.sqrt(y*y+v*v),w=m.x-r.x,k=m.y-r.y,E=Math.sqrt(w*w+k*k);return x<E?-1:x===E?0:1}),a[0]):t}b(Rne,"intersectPolygon");var IVe=b((t,e)=>{var r=t.x,n=t.y,i=e.x-r,a=e.y-n,s=t.width/2,o=t.height/2,l,u;return Math.abs(a)*s>Math.abs(i)*o?(a<0&&(o=-o),l=a===0?0:o*i/a,u=o):(i<0&&(s=-s),l=s,u=i===0?0:s*a/i),{x:r+l,y:n+u}},"intersectRect"),t2=IVe,yn={node:LVe,circle:NVe,ellipse:_ne,polygon:MVe,rect:t2},DVe=b(async(t,e)=>{e.useHtmlLabels||we().flowchart.htmlLabels||(e.centerLabel=!0);const{shapeSvg:n,bbox:i,halfPadding:a}=await Ii(t,e,"node "+e.classes,!0);q.info("Classes = ",e.classes);const s=n.insert("rect",":first-child");return s.attr("rx",e.rx).attr("ry",e.ry).attr("x",-i.width/2-a).attr("y",-i.height/2-a).attr("width",i.width+e.padding).attr("height",i.height+e.padding),Cn(e,s),e.intersect=function(o){return yn.rect(e,o)},n},"note"),OVe=DVe,TB=b(t=>t?" "+t:"","formatClass"),zs=b((t,e)=>`${e||"node default"}${TB(t.classes)} ${TB(t.class)}`,"getClassesFromNode"),EB=b(async(t,e)=>{const{shapeSvg:r,bbox:n}=await Ii(t,e,zs(e,void 0),!0),i=n.width+e.padding,a=n.height+e.padding,s=i+a,o=[{x:s/2,y:0},{x:s,y:-s/2},{x:s/2,y:-s},{x:0,y:-s/2}];q.info("Question main (Circle)");const l=rl(r,s,s,o);return l.attr("style",e.style),Cn(e,l),e.intersect=function(u){return q.warn("Intersect called"),yn.polygon(e,o,u)},r},"question"),PVe=b((t,e)=>{const r=t.insert("g").attr("class","node default").attr("id",e.domId||e.id),n=28,i=[{x:0,y:n/2},{x:n/2,y:0},{x:0,y:-n/2},{x:-n/2,y:0}];return r.insert("polygon",":first-child").attr("points",i.map(function(s){return s.x+","+s.y}).join(" ")).attr("class","state-start").attr("r",7).attr("width",28).attr("height",28),e.width=28,e.height=28,e.intersect=function(s){return yn.circle(e,14,s)},r},"choice"),FVe=b(async(t,e)=>{const{shapeSvg:r,bbox:n}=await Ii(t,e,zs(e,void 0),!0),i=4,a=n.height+e.padding,s=a/i,o=n.width+2*s+e.padding,l=[{x:s,y:0},{x:o-s,y:0},{x:o,y:-a/2},{x:o-s,y:-a},{x:s,y:-a},{x:0,y:-a/2}],u=rl(r,o,a,l);return u.attr("style",e.style),Cn(e,u),e.intersect=function(h){return yn.polygon(e,l,h)},r},"hexagon"),BVe=b(async(t,e)=>{const{shapeSvg:r,bbox:n}=await Ii(t,e,void 0,!0),i=2,a=n.height+2*e.padding,s=a/i,o=n.width+2*s+e.padding,l=_Ve(e.directions,n,e),u=rl(r,o,a,l);return u.attr("style",e.style),Cn(e,u),e.intersect=function(h){return yn.polygon(e,l,h)},r},"block_arrow"),$Ve=b(async(t,e)=>{const{shapeSvg:r,bbox:n}=await Ii(t,e,zs(e,void 0),!0),i=n.width+e.padding,a=n.height+e.padding,s=[{x:-a/2,y:0},{x:i,y:0},{x:i,y:-a},{x:-a/2,y:-a},{x:0,y:-a/2}];return rl(r,i,a,s).attr("style",e.style),e.width=i+a,e.height=a,e.intersect=function(l){return yn.polygon(e,s,l)},r},"rect_left_inv_arrow"),zVe=b(async(t,e)=>{const{shapeSvg:r,bbox:n}=await Ii(t,e,zs(e),!0),i=n.width+e.padding,a=n.height+e.padding,s=[{x:-2*a/6,y:0},{x:i-a/6,y:0},{x:i+2*a/6,y:-a},{x:a/6,y:-a}],o=rl(r,i,a,s);return o.attr("style",e.style),Cn(e,o),e.intersect=function(l){return yn.polygon(e,s,l)},r},"lean_right"),UVe=b(async(t,e)=>{const{shapeSvg:r,bbox:n}=await Ii(t,e,zs(e,void 0),!0),i=n.width+e.padding,a=n.height+e.padding,s=[{x:2*a/6,y:0},{x:i+a/6,y:0},{x:i-2*a/6,y:-a},{x:-a/6,y:-a}],o=rl(r,i,a,s);return o.attr("style",e.style),Cn(e,o),e.intersect=function(l){return yn.polygon(e,s,l)},r},"lean_left"),VVe=b(async(t,e)=>{const{shapeSvg:r,bbox:n}=await Ii(t,e,zs(e,void 0),!0),i=n.width+e.padding,a=n.height+e.padding,s=[{x:-2*a/6,y:0},{x:i+2*a/6,y:0},{x:i-a/6,y:-a},{x:a/6,y:-a}],o=rl(r,i,a,s);return o.attr("style",e.style),Cn(e,o),e.intersect=function(l){return yn.polygon(e,s,l)},r},"trapezoid"),GVe=b(async(t,e)=>{const{shapeSvg:r,bbox:n}=await Ii(t,e,zs(e,void 0),!0),i=n.width+e.padding,a=n.height+e.padding,s=[{x:a/6,y:0},{x:i-a/6,y:0},{x:i+2*a/6,y:-a},{x:-2*a/6,y:-a}],o=rl(r,i,a,s);return o.attr("style",e.style),Cn(e,o),e.intersect=function(l){return yn.polygon(e,s,l)},r},"inv_trapezoid"),HVe=b(async(t,e)=>{const{shapeSvg:r,bbox:n}=await Ii(t,e,zs(e,void 0),!0),i=n.width+e.padding,a=n.height+e.padding,s=[{x:0,y:0},{x:i+a/2,y:0},{x:i,y:-a/2},{x:i+a/2,y:-a},{x:0,y:-a}],o=rl(r,i,a,s);return o.attr("style",e.style),Cn(e,o),e.intersect=function(l){return yn.polygon(e,s,l)},r},"rect_right_inv_arrow"),WVe=b(async(t,e)=>{const{shapeSvg:r,bbox:n}=await Ii(t,e,zs(e,void 0),!0),i=n.width+e.padding,a=i/2,s=a/(2.5+i/50),o=n.height+s+e.padding,l="M 0,"+s+" a "+a+","+s+" 0,0,0 "+i+" 0 a "+a+","+s+" 0,0,0 "+-i+" 0 l 0,"+o+" a "+a+","+s+" 0,0,0 "+i+" 0 l 0,"+-o,u=r.attr("label-offset-y",s).insert("path",":first-child").attr("style",e.style).attr("d",l).attr("transform","translate("+-i/2+","+-(o/2+s)+")");return Cn(e,u),e.intersect=function(h){const d=yn.rect(e,h),p=d.x-e.x;if(a!=0&&(Math.abs(p)<e.width/2||Math.abs(p)==e.width/2&&Math.abs(d.y-e.y)>e.height/2-s)){let f=s*s*(1-p*p/(a*a));f!=0&&(f=Math.sqrt(f)),f=s-f,h.y-e.y>0&&(f=-f),d.y+=f}return d},r},"cylinder"),YVe=b(async(t,e)=>{const{shapeSvg:r,bbox:n,halfPadding:i}=await Ii(t,e,"node "+e.classes+" "+e.class,!0),a=r.insert("rect",":first-child"),s=e.positioned?e.width:n.width+e.padding,o=e.positioned?e.height:n.height+e.padding,l=e.positioned?-s/2:-n.width/2-i,u=e.positioned?-o/2:-n.height/2-i;if(a.attr("class","basic label-container").attr("style",e.style).attr("rx",e.rx).attr("ry",e.ry).attr("x",l).attr("y",u).attr("width",s).attr("height",o),e.props){const h=new Set(Object.keys(e.props));e.props.borders&&(w6(a,e.props.borders,s,o),h.delete("borders")),h.forEach(d=>{q.warn(`Unknown node property ${d}`)})}return Cn(e,a),e.intersect=function(h){return yn.rect(e,h)},r},"rect"),qVe=b(async(t,e)=>{const{shapeSvg:r,bbox:n,halfPadding:i}=await Ii(t,e,"node "+e.classes,!0),a=r.insert("rect",":first-child"),s=e.positioned?e.width:n.width+e.padding,o=e.positioned?e.height:n.height+e.padding,l=e.positioned?-s/2:-n.width/2-i,u=e.positioned?-o/2:-n.height/2-i;if(a.attr("class","basic cluster composite label-container").attr("style",e.style).attr("rx",e.rx).attr("ry",e.ry).attr("x",l).attr("y",u).attr("width",s).attr("height",o),e.props){const h=new Set(Object.keys(e.props));e.props.borders&&(w6(a,e.props.borders,s,o),h.delete("borders")),h.forEach(d=>{q.warn(`Unknown node property ${d}`)})}return Cn(e,a),e.intersect=function(h){return yn.rect(e,h)},r},"composite"),jVe=b(async(t,e)=>{const{shapeSvg:r}=await Ii(t,e,"label",!0);q.trace("Classes = ",e.class);const n=r.insert("rect",":first-child"),i=0,a=0;if(n.attr("width",i).attr("height",a),r.attr("class","label edgeLabel"),e.props){const s=new Set(Object.keys(e.props));e.props.borders&&(w6(n,e.props.borders,i,a),s.delete("borders")),s.forEach(o=>{q.warn(`Unknown node property ${o}`)})}return Cn(e,n),e.intersect=function(s){return yn.rect(e,s)},r},"labelRect");function w6(t,e,r,n){const i=[],a=b(o=>{i.push(o,0)},"addBorder"),s=b(o=>{i.push(0,o)},"skipBorder");e.includes("t")?(q.debug("add top border"),a(r)):s(r),e.includes("r")?(q.debug("add right border"),a(n)):s(n),e.includes("b")?(q.debug("add bottom border"),a(r)):s(r),e.includes("l")?(q.debug("add left border"),a(n)):s(n),t.attr("stroke-dasharray",i.join(" "))}b(w6,"applyNodePropertyBorders");var XVe=b((t,e)=>{let r;e.classes?r="node "+e.classes:r="node default";const n=t.insert("g").attr("class",r).attr("id",e.domId||e.id),i=n.insert("rect",":first-child"),a=n.insert("line"),s=n.insert("g").attr("class","label"),o=e.labelText.flat?e.labelText.flat():e.labelText;let l="";typeof o=="object"?l=o[0]:l=o,q.info("Label text abc79",l,o,typeof o=="object");const u=s.node().appendChild(rs(l,e.labelStyle,!0,!0));let h={width:0,height:0};if(tn(we().flowchart.htmlLabels)){const m=u.children[0],y=Ke(u);h=m.getBoundingClientRect(),y.attr("width",h.width),y.attr("height",h.height)}q.info("Text 2",o);const d=o.slice(1,o.length);let p=u.getBBox();const f=s.node().appendChild(rs(d.join?d.join("<br/>"):d,e.labelStyle,!0,!0));if(tn(we().flowchart.htmlLabels)){const m=f.children[0],y=Ke(f);h=m.getBoundingClientRect(),y.attr("width",h.width),y.attr("height",h.height)}const g=e.padding/2;return Ke(f).attr("transform","translate( "+(h.width>p.width?0:(p.width-h.width)/2)+", "+(p.height+g+5)+")"),Ke(u).attr("transform","translate( "+(h.width<p.width?0:-(p.width-h.width)/2)+", 0)"),h=s.node().getBBox(),s.attr("transform","translate("+-h.width/2+", "+(-h.height/2-g+3)+")"),i.attr("class","outer title-state").attr("x",-h.width/2-g).attr("y",-h.height/2-g).attr("width",h.width+e.padding).attr("height",h.height+e.padding),a.attr("class","divider").attr("x1",-h.width/2-g).attr("x2",h.width/2+g).attr("y1",-h.height/2-g+p.height+g).attr("y2",-h.height/2-g+p.height+g),Cn(e,i),e.intersect=function(m){return yn.rect(e,m)},n},"rectWithTitle"),KVe=b(async(t,e)=>{const{shapeSvg:r,bbox:n}=await Ii(t,e,zs(e,void 0),!0),i=n.height+e.padding,a=n.width+i/4+e.padding,s=r.insert("rect",":first-child").attr("style",e.style).attr("rx",i/2).attr("ry",i/2).attr("x",-a/2).attr("y",-i/2).attr("width",a).attr("height",i);return Cn(e,s),e.intersect=function(o){return yn.rect(e,o)},r},"stadium"),QVe=b(async(t,e)=>{const{shapeSvg:r,bbox:n,halfPadding:i}=await Ii(t,e,zs(e,void 0),!0),a=r.insert("circle",":first-child");return a.attr("style",e.style).attr("rx",e.rx).attr("ry",e.ry).attr("r",n.width/2+i).attr("width",n.width+e.padding).attr("height",n.height+e.padding),q.info("Circle main"),Cn(e,a),e.intersect=function(s){return q.info("Circle intersect",e,n.width/2+i,s),yn.circle(e,n.width/2+i,s)},r},"circle"),ZVe=b(async(t,e)=>{const{shapeSvg:r,bbox:n,halfPadding:i}=await Ii(t,e,zs(e,void 0),!0),a=5,s=r.insert("g",":first-child"),o=s.insert("circle"),l=s.insert("circle");return s.attr("class",e.class),o.attr("style",e.style).attr("rx",e.rx).attr("ry",e.ry).attr("r",n.width/2+i+a).attr("width",n.width+e.padding+a*2).attr("height",n.height+e.padding+a*2),l.attr("style",e.style).attr("rx",e.rx).attr("ry",e.ry).attr("r",n.width/2+i).attr("width",n.width+e.padding).attr("height",n.height+e.padding),q.info("DoubleCircle main"),Cn(e,o),e.intersect=function(u){return q.info("DoubleCircle intersect",e,n.width/2+i+a,u),yn.circle(e,n.width/2+i+a,u)},r},"doublecircle"),JVe=b(async(t,e)=>{const{shapeSvg:r,bbox:n}=await Ii(t,e,zs(e,void 0),!0),i=n.width+e.padding,a=n.height+e.padding,s=[{x:0,y:0},{x:i,y:0},{x:i,y:-a},{x:0,y:-a},{x:0,y:0},{x:-8,y:0},{x:i+8,y:0},{x:i+8,y:-a},{x:-8,y:-a},{x:-8,y:0}],o=rl(r,i,a,s);return o.attr("style",e.style),Cn(e,o),e.intersect=function(l){return yn.polygon(e,s,l)},r},"subroutine"),eGe=b((t,e)=>{const r=t.insert("g").attr("class","node default").attr("id",e.domId||e.id),n=r.insert("circle",":first-child");return n.attr("class","state-start").attr("r",7).attr("width",14).attr("height",14),Cn(e,n),e.intersect=function(i){return yn.circle(e,7,i)},r},"start"),SB=b((t,e,r)=>{const n=t.insert("g").attr("class","node default").attr("id",e.domId||e.id);let i=70,a=10;r==="LR"&&(i=10,a=70);const s=n.append("rect").attr("x",-1*i/2).attr("y",-1*a/2).attr("width",i).attr("height",a).attr("class","fork-join");return Cn(e,s),e.height=e.height+e.padding/2,e.width=e.width+e.padding/2,e.intersect=function(o){return yn.rect(e,o)},n},"forkJoin"),tGe=b((t,e)=>{const r=t.insert("g").attr("class","node default").attr("id",e.domId||e.id),n=r.insert("circle",":first-child"),i=r.insert("circle",":first-child");return i.attr("class","state-start").attr("r",7).attr("width",14).attr("height",14),n.attr("class","state-end").attr("r",5).attr("width",10).attr("height",10),Cn(e,i),e.intersect=function(a){return yn.circle(e,7,a)},r},"end"),rGe=b((t,e)=>{var R;const r=e.padding/2,n=4,i=8;let a;e.classes?a="node "+e.classes:a="node default";const s=t.insert("g").attr("class",a).attr("id",e.domId||e.id),o=s.insert("rect",":first-child"),l=s.insert("line"),u=s.insert("line");let h=0,d=n;const p=s.insert("g").attr("class","label");let f=0;const g=(R=e.classData.annotations)==null?void 0:R[0],m=e.classData.annotations[0]?"«"+e.classData.annotations[0]+"»":"",y=p.node().appendChild(rs(m,e.labelStyle,!0,!0));let v=y.getBBox();if(tn(we().flowchart.htmlLabels)){const C=y.children[0],L=Ke(y);v=C.getBoundingClientRect(),L.attr("width",v.width),L.attr("height",v.height)}e.classData.annotations[0]&&(d+=v.height+n,h+=v.width);let x=e.classData.label;e.classData.type!==void 0&&e.classData.type!==""&&(we().flowchart.htmlLabels?x+="&lt;"+e.classData.type+"&gt;":x+="<"+e.classData.type+">");const w=p.node().appendChild(rs(x,e.labelStyle,!0,!0));Ke(w).attr("class","classTitle");let k=w.getBBox();if(tn(we().flowchart.htmlLabels)){const C=w.children[0],L=Ke(w);k=C.getBoundingClientRect(),L.attr("width",k.width),L.attr("height",k.height)}d+=k.height+n,k.width>h&&(h=k.width);const E=[];e.classData.members.forEach(C=>{const L=C.getDisplayDetails();let A=L.displayText;we().flowchart.htmlLabels&&(A=A.replace(/</g,"&lt;").replace(/>/g,"&gt;"));const N=p.node().appendChild(rs(A,L.cssStyle?L.cssStyle:e.labelStyle,!0,!0));let F=N.getBBox();if(tn(we().flowchart.htmlLabels)){const T=N.children[0],D=Ke(N);F=T.getBoundingClientRect(),D.attr("width",F.width),D.attr("height",F.height)}F.width>h&&(h=F.width),d+=F.height+n,E.push(N)}),d+=i;const _=[];if(e.classData.methods.forEach(C=>{const L=C.getDisplayDetails();let A=L.displayText;we().flowchart.htmlLabels&&(A=A.replace(/</g,"&lt;").replace(/>/g,"&gt;"));const N=p.node().appendChild(rs(A,L.cssStyle?L.cssStyle:e.labelStyle,!0,!0));let F=N.getBBox();if(tn(we().flowchart.htmlLabels)){const T=N.children[0],D=Ke(N);F=T.getBoundingClientRect(),D.attr("width",F.width),D.attr("height",F.height)}F.width>h&&(h=F.width),d+=F.height+n,_.push(N)}),d+=i,g){let C=(h-v.width)/2;Ke(y).attr("transform","translate( "+(-1*h/2+C)+", "+-1*d/2+")"),f=v.height+n}let S=(h-k.width)/2;return Ke(w).attr("transform","translate( "+(-1*h/2+S)+", "+(-1*d/2+f)+")"),f+=k.height+n,l.attr("class","divider").attr("x1",-h/2-r).attr("x2",h/2+r).attr("y1",-d/2-r+i+f).attr("y2",-d/2-r+i+f),f+=i,E.forEach(C=>{Ke(C).attr("transform","translate( "+-h/2+", "+(-1*d/2+f+i/2)+")");const L=C==null?void 0:C.getBBox();f+=((L==null?void 0:L.height)??0)+n}),f+=i,u.attr("class","divider").attr("x1",-h/2-r).attr("x2",h/2+r).attr("y1",-d/2-r+i+f).attr("y2",-d/2-r+i+f),f+=i,_.forEach(C=>{Ke(C).attr("transform","translate( "+-h/2+", "+(-1*d/2+f)+")");const L=C==null?void 0:C.getBBox();f+=((L==null?void 0:L.height)??0)+n}),o.attr("style",e.style).attr("class","outer title-state").attr("x",-h/2-r).attr("y",-(d/2)-r).attr("width",h+e.padding).attr("height",d+e.padding),Cn(e,o),e.intersect=function(C){return yn.rect(e,C)},s},"class_box"),CB={rhombus:EB,composite:qVe,question:EB,rect:YVe,labelRect:jVe,rectWithTitle:XVe,choice:PVe,circle:QVe,doublecircle:ZVe,stadium:KVe,hexagon:FVe,block_arrow:BVe,rect_left_inv_arrow:$Ve,lean_right:zVe,lean_left:UVe,trapezoid:VVe,inv_trapezoid:GVe,rect_right_inv_arrow:HVe,cylinder:WVe,start:eGe,end:tGe,note:OVe,subroutine:JVe,fork:SB,join:SB,class_box:rGe},M0={},eN=b(async(t,e,r)=>{let n,i;if(e.link){let a;we().securityLevel==="sandbox"?a="_top":e.linkTarget&&(a=e.linkTarget||"_blank"),n=t.insert("svg:a").attr("xlink:href",e.link).attr("target",a),i=await CB[e.shape](n,e,r)}else i=await CB[e.shape](t,e,r),n=i;return e.tooltip&&i.attr("title",e.tooltip),e.class&&i.attr("class","node default "+e.class),M0[e.id]=n,e.haveCallback&&M0[e.id].attr("class",M0[e.id].attr("class")+" clickable"),n},"insertNode"),nGe=b((t,e)=>{M0[e.id]=t},"setNodeElem"),iGe=b(()=>{M0={}},"clear"),o8=b(t=>{const e=M0[t.id];q.trace("Transforming node",t.diff,t,"translate("+(t.x-t.width/2-5)+", "+t.width/2+")");const r=8,n=t.diff||0;return t.clusterNode?e.attr("transform","translate("+(t.x+n-t.width/2)+", "+(t.y-t.height/2-r)+")"):e.attr("transform","translate("+t.x+", "+t.y+")"),n},"positionNode"),aGe=b((t,e,r,n,i)=>{e.arrowTypeStart&&AB(t,"start",e.arrowTypeStart,r,n,i),e.arrowTypeEnd&&AB(t,"end",e.arrowTypeEnd,r,n,i)},"addEdgeMarkers"),sGe={arrow_cross:"cross",arrow_point:"point",arrow_barb:"barb",arrow_circle:"circle",aggregation:"aggregation",extension:"extension",composition:"composition",dependency:"dependency",lollipop:"lollipop"},AB=b((t,e,r,n,i,a)=>{const s=sGe[r];if(!s){q.warn(`Unknown arrow type: ${r}`);return}const o=e==="start"?"Start":"End";t.attr(`marker-${e}`,`url(${n}#${i}_${a}-${s}${o})`)},"addEdgeMarker"),l5={},$i={},oGe=b(()=>{l5={},$i={}},"clear"),Mne=b((t,e)=>{const r=we(),n=tn(r.flowchart.htmlLabels),i=e.labelType==="markdown"?Fl(t,e.label,{style:e.labelStyle,useHtmlLabels:n,addSvgBackground:!0},r):rs(e.label,e.labelStyle),a=t.insert("g").attr("class","edgeLabel"),s=a.insert("g").attr("class","label");s.node().appendChild(i);let o=i.getBBox();if(n){const u=i.children[0],h=Ke(i);o=u.getBoundingClientRect(),h.attr("width",o.width),h.attr("height",o.height)}s.attr("transform","translate("+-o.width/2+", "+-o.height/2+")"),l5[e.id]=a,e.width=o.width,e.height=o.height;let l;if(e.startLabelLeft){const u=rs(e.startLabelLeft,e.labelStyle),h=t.insert("g").attr("class","edgeTerminals"),d=h.insert("g").attr("class","inner");l=d.node().appendChild(u);const p=u.getBBox();d.attr("transform","translate("+-p.width/2+", "+-p.height/2+")"),$i[e.id]||($i[e.id]={}),$i[e.id].startLeft=h,lm(l,e.startLabelLeft)}if(e.startLabelRight){const u=rs(e.startLabelRight,e.labelStyle),h=t.insert("g").attr("class","edgeTerminals"),d=h.insert("g").attr("class","inner");l=h.node().appendChild(u),d.node().appendChild(u);const p=u.getBBox();d.attr("transform","translate("+-p.width/2+", "+-p.height/2+")"),$i[e.id]||($i[e.id]={}),$i[e.id].startRight=h,lm(l,e.startLabelRight)}if(e.endLabelLeft){const u=rs(e.endLabelLeft,e.labelStyle),h=t.insert("g").attr("class","edgeTerminals"),d=h.insert("g").attr("class","inner");l=d.node().appendChild(u);const p=u.getBBox();d.attr("transform","translate("+-p.width/2+", "+-p.height/2+")"),h.node().appendChild(u),$i[e.id]||($i[e.id]={}),$i[e.id].endLeft=h,lm(l,e.endLabelLeft)}if(e.endLabelRight){const u=rs(e.endLabelRight,e.labelStyle),h=t.insert("g").attr("class","edgeTerminals"),d=h.insert("g").attr("class","inner");l=d.node().appendChild(u);const p=u.getBBox();d.attr("transform","translate("+-p.width/2+", "+-p.height/2+")"),h.node().appendChild(u),$i[e.id]||($i[e.id]={}),$i[e.id].endRight=h,lm(l,e.endLabelRight)}return i},"insertEdgeLabel");function lm(t,e){we().flowchart.htmlLabels&&t&&(t.style.width=e.length*9+"px",t.style.height="12px")}b(lm,"setTerminalWidth");var Ine=b((t,e)=>{q.debug("Moving label abc88 ",t.id,t.label,l5[t.id],e);let r=e.updatedPath?e.updatedPath:e.originalPath;const n=we(),{subGraphTitleTotalMargin:i}=of(n);if(t.label){const a=l5[t.id];let s=t.x,o=t.y;if(r){const l=Jt.calcLabelPosition(r);q.debug("Moving label "+t.label+" from (",s,",",o,") to (",l.x,",",l.y,") abc88"),e.updatedPath&&(s=l.x,o=l.y)}a.attr("transform",`translate(${s}, ${o+i/2})`)}if(t.startLabelLeft){const a=$i[t.id].startLeft;let s=t.x,o=t.y;if(r){const l=Jt.calcTerminalLabelPosition(t.arrowTypeStart?10:0,"start_left",r);s=l.x,o=l.y}a.attr("transform",`translate(${s}, ${o})`)}if(t.startLabelRight){const a=$i[t.id].startRight;let s=t.x,o=t.y;if(r){const l=Jt.calcTerminalLabelPosition(t.arrowTypeStart?10:0,"start_right",r);s=l.x,o=l.y}a.attr("transform",`translate(${s}, ${o})`)}if(t.endLabelLeft){const a=$i[t.id].endLeft;let s=t.x,o=t.y;if(r){const l=Jt.calcTerminalLabelPosition(t.arrowTypeEnd?10:0,"end_left",r);s=l.x,o=l.y}a.attr("transform",`translate(${s}, ${o})`)}if(t.endLabelRight){const a=$i[t.id].endRight;let s=t.x,o=t.y;if(r){const l=Jt.calcTerminalLabelPosition(t.arrowTypeEnd?10:0,"end_right",r);s=l.x,o=l.y}a.attr("transform",`translate(${s}, ${o})`)}},"positionEdgeLabel"),lGe=b((t,e)=>{const r=t.x,n=t.y,i=Math.abs(e.x-r),a=Math.abs(e.y-n),s=t.width/2,o=t.height/2;return i>=s||a>=o},"outsideNode"),cGe=b((t,e,r)=>{q.debug(`intersection calc abc89:
  outsidePoint: ${JSON.stringify(e)}
  insidePoint : ${JSON.stringify(r)}
  node        : x:${t.x} y:${t.y} w:${t.width} h:${t.height}`);const n=t.x,i=t.y,a=Math.abs(n-r.x),s=t.width/2;let o=r.x<e.x?s-a:s+a;const l=t.height/2,u=Math.abs(e.y-r.y),h=Math.abs(e.x-r.x);if(Math.abs(i-e.y)*s>Math.abs(n-e.x)*l){let d=r.y<e.y?e.y-l-i:i-l-e.y;o=h*d/u;const p={x:r.x<e.x?r.x+o:r.x-h+o,y:r.y<e.y?r.y+u-d:r.y-u+d};return o===0&&(p.x=e.x,p.y=e.y),h===0&&(p.x=e.x),u===0&&(p.y=e.y),q.debug(`abc89 topp/bott calc, Q ${u}, q ${d}, R ${h}, r ${o}`,p),p}else{r.x<e.x?o=e.x-s-n:o=n-s-e.x;let d=u*o/h,p=r.x<e.x?r.x+h-o:r.x-h+o,f=r.y<e.y?r.y+d:r.y-d;return q.debug(`sides calc abc89, Q ${u}, q ${d}, R ${h}, r ${o}`,{_x:p,_y:f}),o===0&&(p=e.x,f=e.y),h===0&&(p=e.x),u===0&&(f=e.y),{x:p,y:f}}},"intersection"),_B=b((t,e)=>{q.debug("abc88 cutPathAtIntersect",t,e);let r=[],n=t[0],i=!1;return t.forEach(a=>{if(!lGe(e,a)&&!i){const s=cGe(e,n,a);let o=!1;r.forEach(l=>{o=o||l.x===s.x&&l.y===s.y}),r.some(l=>l.x===s.x&&l.y===s.y)||r.push(s),i=!0}else n=a,i||r.push(a)}),r},"cutPathAtIntersect"),Dne=b(function(t,e,r,n,i,a,s){let o=r.points;q.debug("abc88 InsertEdge: edge=",r,"e=",e);let l=!1;const u=a.node(e.v);var h=a.node(e.w);h!=null&&h.intersect&&(u!=null&&u.intersect)&&(o=o.slice(1,r.points.length-1),o.unshift(u.intersect(o[0])),o.push(h.intersect(o[o.length-1]))),r.toCluster&&(q.debug("to cluster abc88",n[r.toCluster]),o=_B(r.points,n[r.toCluster].node),l=!0),r.fromCluster&&(q.debug("from cluster abc88",n[r.fromCluster]),o=_B(o.reverse(),n[r.fromCluster].node).reverse(),l=!0);const d=o.filter(k=>!Number.isNaN(k.y));let p=Tg;r.curve&&(i==="graph"||i==="flowchart")&&(p=r.curve);const{x:f,y:g}=QH(r),m=Xu().x(f).y(g).curve(p);let y;switch(r.thickness){case"normal":y="edge-thickness-normal";break;case"thick":y="edge-thickness-thick";break;case"invisible":y="edge-thickness-thick";break;default:y=""}switch(r.pattern){case"solid":y+=" edge-pattern-solid";break;case"dotted":y+=" edge-pattern-dotted";break;case"dashed":y+=" edge-pattern-dashed";break}const v=t.append("path").attr("d",m(d)).attr("id",r.id).attr("class"," "+y+(r.classes?" "+r.classes:"")).attr("style",r.style);let x="";(we().flowchart.arrowMarkerAbsolute||we().state.arrowMarkerAbsolute)&&(x=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,x=x.replace(/\(/g,"\\("),x=x.replace(/\)/g,"\\)")),aGe(v,r,x,s,i);let w={};return l&&(w.updatedPath=o),w.originalPath=r.points,w},"insertEdge"),ar={},Po={},One={},uGe=b(()=>{Po={},One={},ar={}},"clear"),c5=b((t,e)=>(q.trace("In isDescendant",e," ",t," = ",Po[e].includes(t)),!!Po[e].includes(t)),"isDescendant"),hGe=b((t,e)=>(q.info("Descendants of ",e," is ",Po[e]),q.info("Edge is ",t),t.v===e||t.w===e?!1:Po[e]?Po[e].includes(t.v)||c5(t.v,e)||c5(t.w,e)||Po[e].includes(t.w):(q.debug("Tilt, ",e,",not in descendants"),!1)),"edgeInCluster"),Pne=b((t,e,r,n)=>{q.warn("Copying children of ",t,"root",n,"data",e.node(t),n);const i=e.children(t)||[];t!==n&&i.push(t),q.warn("Copying (nodes) clusterId",t,"nodes",i),i.forEach(a=>{if(e.children(a).length>0)Pne(a,e,r,n);else{const s=e.node(a);q.info("cp ",a," to ",n," with parent ",t),r.setNode(a,s),n!==e.parent(a)&&(q.warn("Setting parent",a,e.parent(a)),r.setParent(a,e.parent(a))),t!==n&&a!==t?(q.debug("Setting parent",a,t),r.setParent(a,t)):(q.info("In copy ",t,"root",n,"data",e.node(t),n),q.debug("Not Setting parent for node=",a,"cluster!==rootId",t!==n,"node!==clusterId",a!==t));const o=e.edges(a);q.debug("Copying Edges",o),o.forEach(l=>{q.info("Edge",l);const u=e.edge(l.v,l.w,l.name);q.info("Edge data",u,n);try{hGe(l,n)?(q.info("Copying as ",l.v,l.w,u,l.name),r.setEdge(l.v,l.w,u,l.name),q.info("newGraph edges ",r.edges(),r.edge(r.edges()[0]))):q.info("Skipping copy of edge ",l.v,"-->",l.w," rootId: ",n," clusterId:",t)}catch(h){q.error(h)}})}q.debug("Removing node",a),e.removeNode(a)})},"copy"),Fne=b((t,e)=>{const r=e.children(t);let n=[...r];for(const i of r)One[i]=t,n=[...n,...Fne(i,e)];return n},"extractDescendants"),Wv=b((t,e)=>{q.trace("Searching",t);const r=e.children(t);if(q.trace("Searching children of id ",t,r),r.length<1)return q.trace("This is a valid node",t),t;for(const n of r){const i=Wv(n,e);if(i)return q.trace("Found replacement for",t," => ",i),i}},"findNonClusterChild"),Ex=b(t=>!ar[t]||!ar[t].externalConnections?t:ar[t]?ar[t].id:t,"getAnchorId"),dGe=b((t,e)=>{if(!t||e>10){q.debug("Opting out, no graph ");return}else q.debug("Opting in, graph ");t.nodes().forEach(function(r){t.children(r).length>0&&(q.warn("Cluster identified",r," Replacement id in edges: ",Wv(r,t)),Po[r]=Fne(r,t),ar[r]={id:Wv(r,t),clusterData:t.node(r)})}),t.nodes().forEach(function(r){const n=t.children(r),i=t.edges();n.length>0?(q.debug("Cluster identified",r,Po),i.forEach(a=>{if(a.v!==r&&a.w!==r){const s=c5(a.v,r),o=c5(a.w,r);s^o&&(q.warn("Edge: ",a," leaves cluster ",r),q.warn("Descendants of XXX ",r,": ",Po[r]),ar[r].externalConnections=!0)}})):q.debug("Not a cluster ",r,Po)});for(let r of Object.keys(ar)){const n=ar[r].id,i=t.parent(n);i!==r&&ar[i]&&!ar[i].externalConnections&&(ar[r].id=i)}t.edges().forEach(function(r){const n=t.edge(r);q.warn("Edge "+r.v+" -> "+r.w+": "+JSON.stringify(r)),q.warn("Edge "+r.v+" -> "+r.w+": "+JSON.stringify(t.edge(r)));let i=r.v,a=r.w;if(q.warn("Fix XXX",ar,"ids:",r.v,r.w,"Translating: ",ar[r.v]," --- ",ar[r.w]),ar[r.v]&&ar[r.w]&&ar[r.v]===ar[r.w]){q.warn("Fixing and trixing link to self - removing XXX",r.v,r.w,r.name),q.warn("Fixing and trixing - removing XXX",r.v,r.w,r.name),i=Ex(r.v),a=Ex(r.w),t.removeEdge(r.v,r.w,r.name);const s=r.w+"---"+r.v;t.setNode(s,{domId:s,id:s,labelStyle:"",labelText:n.label,padding:0,shape:"labelRect",style:""});const o=structuredClone(n),l=structuredClone(n);o.label="",o.arrowTypeEnd="none",l.label="",o.fromCluster=r.v,l.toCluster=r.v,t.setEdge(i,s,o,r.name+"-cyclic-special"),t.setEdge(s,a,l,r.name+"-cyclic-special")}else if(ar[r.v]||ar[r.w]){if(q.warn("Fixing and trixing - removing XXX",r.v,r.w,r.name),i=Ex(r.v),a=Ex(r.w),t.removeEdge(r.v,r.w,r.name),i!==r.v){const s=t.parent(i);ar[s].externalConnections=!0,n.fromCluster=r.v}if(a!==r.w){const s=t.parent(a);ar[s].externalConnections=!0,n.toCluster=r.w}q.warn("Fix Replacing with XXX",i,a,r.name),t.setEdge(i,a,n,r.name)}}),q.warn("Adjusted Graph",Zn(t)),Bne(t,0),q.trace(ar)},"adjustClustersAndEdges"),Bne=b((t,e)=>{var i,a;if(q.warn("extractor - ",e,Zn(t),t.children("D")),e>10){q.error("Bailing out");return}let r=t.nodes(),n=!1;for(const s of r){const o=t.children(s);n=n||o.length>0}if(!n){q.debug("Done, no node has children",t.nodes());return}q.debug("Nodes = ",r,e);for(const s of r)if(q.debug("Extracting node",s,ar,ar[s]&&!ar[s].externalConnections,!t.parent(s),t.node(s),t.children("D")," Depth ",e),!ar[s])q.debug("Not a cluster",s,e);else if(!ar[s].externalConnections&&t.children(s)&&t.children(s).length>0){q.warn("Cluster without external connections, without a parent and with children",s,e);let l=t.graph().rankdir==="TB"?"LR":"TB";(a=(i=ar[s])==null?void 0:i.clusterData)!=null&&a.dir&&(l=ar[s].clusterData.dir,q.warn("Fixing dir",ar[s].clusterData.dir,l));const u=new bi({multigraph:!0,compound:!0}).setGraph({rankdir:l,nodesep:50,ranksep:50,marginx:8,marginy:8}).setDefaultEdgeLabel(function(){return{}});q.warn("Old graph before copy",Zn(t)),Pne(s,t,u,s),t.setNode(s,{clusterNode:!0,id:s,clusterData:ar[s].clusterData,labelText:ar[s].labelText,graph:u}),q.warn("New graph after copy node: (",s,")",Zn(u)),q.debug("Old graph after copy",Zn(t))}else q.warn("Cluster ** ",s," **not meeting the criteria !externalConnections:",!ar[s].externalConnections," no parent: ",!t.parent(s)," children ",t.children(s)&&t.children(s).length>0,t.children("D"),e),q.debug(ar);r=t.nodes(),q.warn("New list of nodes",r);for(const s of r){const o=t.node(s);q.warn(" Now next level",s,o),o.clusterNode&&Bne(o.graph,e+1)}},"extractor"),$ne=b((t,e)=>{if(e.length===0)return[];let r=Object.assign(e);return e.forEach(n=>{const i=t.children(n),a=$ne(t,i);r=[...r,...a]}),r},"sorter"),fGe=b(t=>$ne(t,t.children()),"sortNodesByHierarchy"),pGe=b((t,e)=>{q.info("Creating subgraph rect for ",e.id,e);const r=we(),n=t.insert("g").attr("class","cluster"+(e.class?" "+e.class:"")).attr("id",e.id),i=n.insert("rect",":first-child"),a=tn(r.flowchart.htmlLabels),s=n.insert("g").attr("class","cluster-label"),o=e.labelType==="markdown"?Fl(s,e.labelText,{style:e.labelStyle,useHtmlLabels:a},r):s.node().appendChild(rs(e.labelText,e.labelStyle,void 0,!0));let l=o.getBBox();if(tn(r.flowchart.htmlLabels)){const g=o.children[0],m=Ke(o);l=g.getBoundingClientRect(),m.attr("width",l.width),m.attr("height",l.height)}const u=0*e.padding,h=u/2,d=e.width<=l.width+u?l.width+u:e.width;e.width<=l.width+u?e.diff=(l.width-e.width)/2-e.padding/2:e.diff=-e.padding/2,q.trace("Data ",e,JSON.stringify(e)),i.attr("style",e.style).attr("rx",e.rx).attr("ry",e.ry).attr("x",e.x-d/2).attr("y",e.y-e.height/2-h).attr("width",d).attr("height",e.height+u);const{subGraphTitleTopMargin:p}=of(r);a?s.attr("transform",`translate(${e.x-l.width/2}, ${e.y-e.height/2+p})`):s.attr("transform",`translate(${e.x}, ${e.y-e.height/2+p})`);const f=i.node().getBBox();return e.width=f.width,e.height=f.height,e.intersect=function(g){return t2(e,g)},n},"rect"),gGe=b((t,e)=>{const r=t.insert("g").attr("class","note-cluster").attr("id",e.id),n=r.insert("rect",":first-child"),i=0*e.padding,a=i/2;n.attr("rx",e.rx).attr("ry",e.ry).attr("x",e.x-e.width/2-a).attr("y",e.y-e.height/2-a).attr("width",e.width+i).attr("height",e.height+i).attr("fill","none");const s=n.node().getBBox();return e.width=s.width,e.height=s.height,e.intersect=function(o){return t2(e,o)},r},"noteGroup"),mGe=b((t,e)=>{const r=we(),n=t.insert("g").attr("class",e.classes).attr("id",e.id),i=n.insert("rect",":first-child"),a=n.insert("g").attr("class","cluster-label"),s=n.append("rect"),o=a.node().appendChild(rs(e.labelText,e.labelStyle,void 0,!0));let l=o.getBBox();if(tn(r.flowchart.htmlLabels)){const g=o.children[0],m=Ke(o);l=g.getBoundingClientRect(),m.attr("width",l.width),m.attr("height",l.height)}l=o.getBBox();const u=0*e.padding,h=u/2,d=e.width<=l.width+e.padding?l.width+e.padding:e.width;e.width<=l.width+e.padding?e.diff=(l.width+e.padding*0-e.width)/2:e.diff=-e.padding/2,i.attr("class","outer").attr("x",e.x-d/2-h).attr("y",e.y-e.height/2-h).attr("width",d+u).attr("height",e.height+u),s.attr("class","inner").attr("x",e.x-d/2-h).attr("y",e.y-e.height/2-h+l.height-1).attr("width",d+u).attr("height",e.height+u-l.height-3);const{subGraphTitleTopMargin:p}=of(r);a.attr("transform",`translate(${e.x-l.width/2}, ${e.y-e.height/2-e.padding/3+(tn(r.flowchart.htmlLabels)?5:3)+p})`);const f=i.node().getBBox();return e.height=f.height,e.intersect=function(g){return t2(e,g)},n},"roundedWithTitle"),vGe=b((t,e)=>{const r=t.insert("g").attr("class",e.classes).attr("id",e.id),n=r.insert("rect",":first-child"),i=0*e.padding,a=i/2;n.attr("class","divider").attr("x",e.x-e.width/2-a).attr("y",e.y-e.height/2).attr("width",e.width+i).attr("height",e.height+i);const s=n.node().getBBox();return e.width=s.width,e.height=s.height,e.diff=-e.padding/2,e.intersect=function(o){return t2(e,o)},r},"divider"),yGe={rect:pGe,roundedWithTitle:mGe,noteGroup:gGe,divider:vGe},zne={},xGe=b((t,e)=>{q.trace("Inserting cluster");const r=e.shape||"rect";zne[e.id]=yGe[r](t,e)},"insertCluster"),bGe=b(()=>{zne={}},"clear"),Une=b(async(t,e,r,n,i,a)=>{q.info("Graph in recursive render: XXX",Zn(e),i);const s=e.graph().rankdir;q.trace("Dir in recursive render - dir:",s);const o=t.insert("g").attr("class","root");e.nodes()?q.info("Recursive render XXX",e.nodes()):q.info("No nodes found for",e),e.edges().length>0&&q.trace("Recursive edges",e.edge(e.edges()[0]));const l=o.insert("g").attr("class","clusters"),u=o.insert("g").attr("class","edgePaths"),h=o.insert("g").attr("class","edgeLabels"),d=o.insert("g").attr("class","nodes");await Promise.all(e.nodes().map(async function(g){const m=e.node(g);if(i!==void 0){const y=JSON.parse(JSON.stringify(i.clusterData));q.info("Setting data for cluster XXX (",g,") ",y,i),e.setNode(i.id,y),e.parent(g)||(q.trace("Setting parent",g,i.id),e.setParent(g,i.id,y))}if(q.info("(Insert) Node XXX"+g+": "+JSON.stringify(e.node(g))),m!=null&&m.clusterNode){q.info("Cluster identified",g,m.width,e.node(g));const{ranksep:y,nodesep:v}=e.graph();m.graph.setGraph({...m.graph.graph(),ranksep:y,nodesep:v});const x=await Une(d,m.graph,r,n,e.node(g),a),w=x.elem;Cn(m,w),m.diff=x.diff||0,q.info("Node bounds (abc123)",g,m,m.width,m.x,m.y),nGe(w,m),q.warn("Recursive render complete ",w,m)}else e.children(g).length>0?(q.info("Cluster - the non recursive path XXX",g,m.id,m,e),q.info(Wv(m.id,e)),ar[m.id]={id:Wv(m.id,e),node:m}):(q.info("Node - the non recursive path",g,m.id,m),await eN(d,e.node(g),{config:a,dir:s}))})),e.edges().forEach(async function(g){const m=e.edge(g.v,g.w,g.name);q.info("Edge "+g.v+" -> "+g.w+": "+JSON.stringify(g)),q.info("Edge "+g.v+" -> "+g.w+": ",g," ",JSON.stringify(e.edge(g))),q.info("Fix",ar,"ids:",g.v,g.w,"Translating: ",ar[g.v],ar[g.w]),await Mne(h,m)}),e.edges().forEach(function(g){q.info("Edge "+g.v+" -> "+g.w+": "+JSON.stringify(g))}),q.info("Graph before layout:",JSON.stringify(Zn(e))),q.info("#############################################"),q.info("###                Layout                 ###"),q.info("#############################################"),q.info(e),Fg(e),q.info("Graph after layout:",JSON.stringify(Zn(e)));let p=0;const{subGraphTitleTotalMargin:f}=of(a);return fGe(e).forEach(function(g){const m=e.node(g);q.info("Position "+g+": "+JSON.stringify(e.node(g))),q.info("Position "+g+": ("+m.x,","+m.y,") width: ",m.width," height: ",m.height),m!=null&&m.clusterNode?(m.y+=f,o8(m)):e.children(g).length>0?(m.height+=f,xGe(l,m),ar[m.id].node=m):(m.y+=f/2,o8(m))}),e.edges().forEach(function(g){const m=e.edge(g);q.info("Edge "+g.v+" -> "+g.w+": "+JSON.stringify(m),m),m.points.forEach(v=>v.y+=f/2);const y=Dne(u,g,m,ar,r,e,n);Ine(m,y)}),e.nodes().forEach(function(g){const m=e.node(g);q.info(g,m.type,m.diff),m.type==="group"&&(p=m.diff)}),{elem:o,diff:p}},"recursiveRender"),wGe=b(async(t,e,r,n,i)=>{Ene(t,r,n,i),iGe(),oGe(),bGe(),uGe(),q.warn("Graph at first:",JSON.stringify(Zn(e))),dGe(e),q.warn("Graph after:",JSON.stringify(Zn(e)));const a=we();await Une(t,e,n,i,void 0,a)},"render"),tN=b(t=>et.sanitizeText(t,we()),"sanitizeText"),l8={dividerMargin:10,padding:5,textHeight:10,curve:void 0},kGe=b(function(t,e,r,n){q.info("keys:",[...t.keys()]),q.info(t),t.forEach(function(i){var o,l;const s={shape:"rect",id:i.id,domId:i.domId,labelText:tN(i.id),labelStyle:"",style:"fill: none; stroke: black",padding:((o=we().flowchart)==null?void 0:o.padding)??((l=we().class)==null?void 0:l.padding)};e.setNode(i.id,s),Vne(i.classes,e,r,n,i.id),q.info("setNode",s)})},"addNamespaces"),Vne=b(function(t,e,r,n,i){q.info("keys:",[...t.keys()]),q.info(t),[...t.values()].filter(a=>a.parent===i).forEach(function(a){var p,f;const s=a.cssClasses.join(" "),o=Sy(a.styles),l=a.label??a.id,u=0,d={labelStyle:o.labelStyle,shape:"class_box",labelText:tN(l),classData:a,rx:u,ry:u,class:s,style:o.style,id:a.id,domId:a.domId,tooltip:n.db.getTooltip(a.id,i)||"",haveCallback:a.haveCallback,link:a.link,width:a.type==="group"?500:void 0,type:a.type,padding:((p=we().flowchart)==null?void 0:p.padding)??((f=we().class)==null?void 0:f.padding)};e.setNode(a.id,d),i&&e.setParent(a.id,i),q.info("setNode",d)})},"addClasses"),TGe=b(function(t,e,r,n){q.info(t),t.forEach(function(i,a){var m,y;const s=i,o="",l={labelStyle:"",style:""},u=s.text,h=0,p={labelStyle:l.labelStyle,shape:"note",labelText:tN(u),noteData:s,rx:h,ry:h,class:o,style:l.style,id:s.id,domId:s.id,tooltip:"",type:"note",padding:((m=we().flowchart)==null?void 0:m.padding)??((y=we().class)==null?void 0:y.padding)};if(e.setNode(s.id,p),q.info("setNode",p),!s.class||!n.has(s.class))return;const f=r+a,g={id:`edgeNote${f}`,classes:"relation",pattern:"dotted",arrowhead:"none",startLabelRight:"",endLabelLeft:"",arrowTypeStart:"none",arrowTypeEnd:"none",style:"fill:none",labelStyle:"",curve:Ey(l8.curve,cw)};e.setEdge(s.id,s.class,g,f)})},"addNotes"),EGe=b(function(t,e){const r=we().flowchart;let n=0;t.forEach(function(i){var s;n++;const a={classes:"relation",pattern:i.relation.lineType==1?"dashed":"solid",id:OY(i.id1,i.id2,{prefix:"id",counter:n}),arrowhead:i.type==="arrow_open"?"none":"normal",startLabelRight:i.relationTitle1==="none"?"":i.relationTitle1,endLabelLeft:i.relationTitle2==="none"?"":i.relationTitle2,arrowTypeStart:c8(i.relation.type1),arrowTypeEnd:c8(i.relation.type2),style:"fill:none",labelStyle:"",curve:Ey(r==null?void 0:r.curve,cw)};if(q.info(a,i),i.style!==void 0){const o=Sy(i.style);a.style=o.style,a.labelStyle=o.labelStyle}i.text=i.title,i.text===void 0?i.style!==void 0&&(a.arrowheadStyle="fill: #333"):(a.arrowheadStyle="fill: #333",a.labelpos="c",((s=we().flowchart)==null?void 0:s.htmlLabels)??we().htmlLabels?(a.labelType="html",a.label='<span class="edgeLabel">'+i.text+"</span>"):(a.labelType="text",a.label=i.text.replace(et.lineBreakRegex,`
`),i.style===void 0&&(a.style=a.style||"stroke: #333; stroke-width: 1.5px;fill:none"),a.labelStyle=a.labelStyle.replace("color:","fill:"))),e.setEdge(i.id1,i.id2,a,n)})},"addRelations"),SGe=b(function(t){l8={...l8,...t}},"setConf"),CGe=b(async function(t,e,r,n){q.info("Drawing class - ",e);const i=we().flowchart??we().class,a=we().securityLevel;q.info("config:",i);const s=(i==null?void 0:i.nodeSpacing)??50,o=(i==null?void 0:i.rankSpacing)??50,l=new bi({multigraph:!0,compound:!0}).setGraph({rankdir:n.db.getDirection(),nodesep:s,ranksep:o,marginx:8,marginy:8}).setDefaultEdgeLabel(function(){return{}}),u=n.db.getNamespaces(),h=n.db.getClasses(),d=n.db.getRelations(),p=n.db.getNotes();q.info(d),kGe(u,l,e,n),Vne(h,l,e,n),EGe(d,l),TGe(p,l,d.length+1,h);let f;a==="sandbox"&&(f=Ke("#i"+e));const g=Ke(a==="sandbox"?f.nodes()[0].contentDocument.body:"body"),m=g.select(`[id="${e}"]`),y=g.select("#"+e+" g");if(await wGe(y,l,["aggregation","extension","composition","dependency","lollipop"],"classDiagram",e),Jt.insertTitle(m,"classTitleText",(i==null?void 0:i.titleTopMargin)??5,n.db.getDiagramTitle()),kg(l,m,i==null?void 0:i.diagramPadding,i==null?void 0:i.useMaxWidth),!(i!=null&&i.htmlLabels)){const v=a==="sandbox"?f.nodes()[0].contentDocument:document,x=v.querySelectorAll('[id="'+e+'"] .edgeLabel .label');for(const w of x){const k=w.getBBox(),E=v.createElementNS("http://www.w3.org/2000/svg","rect");E.setAttribute("rx",0),E.setAttribute("ry",0),E.setAttribute("width",k.width),E.setAttribute("height",k.height),w.insertBefore(E,w.firstChild)}}},"draw");function c8(t){let e;switch(t){case 0:e="aggregation";break;case 1:e="extension";break;case 2:e="composition";break;case 3:e="dependency";break;case 4:e="lollipop";break;default:e="none"}return e}b(c8,"getArrowMarker");var AGe={setConf:SGe,draw:CGe},_Ge={parser:yne,db:o5,renderer:AGe,styles:kne,init:b(t=>{t.class||(t.class={}),t.class.arrowMarkerAbsolute=t.arrowMarkerAbsolute,o5.clear()},"init")};const LGe=Object.freeze(Object.defineProperty({__proto__:null,diagram:_Ge},Symbol.toStringTag,{value:"Module"}));var u8=function(){var t=b(function(I,P,B,$){for(B=B||{},$=I.length;$--;B[I[$]]=P);return B},"o"),e=[1,2],r=[1,3],n=[1,4],i=[2,4],a=[1,9],s=[1,11],o=[1,16],l=[1,17],u=[1,18],h=[1,19],d=[1,32],p=[1,20],f=[1,21],g=[1,22],m=[1,23],y=[1,24],v=[1,26],x=[1,27],w=[1,28],k=[1,29],E=[1,30],_=[1,31],S=[1,34],R=[1,35],C=[1,36],L=[1,37],A=[1,33],N=[1,4,5,16,17,19,21,22,24,25,26,27,28,29,33,35,37,38,42,45,48,49,50,51,54],F=[1,4,5,14,15,16,17,19,21,22,24,25,26,27,28,29,33,35,37,38,42,45,48,49,50,51,54],T=[4,5,16,17,19,21,22,24,25,26,27,28,29,33,35,37,38,42,45,48,49,50,51,54],D={trace:b(function(){},"trace"),yy:{},symbols_:{error:2,start:3,SPACE:4,NL:5,SD:6,document:7,line:8,statement:9,classDefStatement:10,styleStatement:11,cssClassStatement:12,idStatement:13,DESCR:14,"-->":15,HIDE_EMPTY:16,scale:17,WIDTH:18,COMPOSIT_STATE:19,STRUCT_START:20,STRUCT_STOP:21,STATE_DESCR:22,AS:23,ID:24,FORK:25,JOIN:26,CHOICE:27,CONCURRENT:28,note:29,notePosition:30,NOTE_TEXT:31,direction:32,acc_title:33,acc_title_value:34,acc_descr:35,acc_descr_value:36,acc_descr_multiline_value:37,classDef:38,CLASSDEF_ID:39,CLASSDEF_STYLEOPTS:40,DEFAULT:41,style:42,STYLE_IDS:43,STYLEDEF_STYLEOPTS:44,class:45,CLASSENTITY_IDS:46,STYLECLASS:47,direction_tb:48,direction_bt:49,direction_rl:50,direction_lr:51,eol:52,";":53,EDGE_STATE:54,STYLE_SEPARATOR:55,left_of:56,right_of:57,$accept:0,$end:1},terminals_:{2:"error",4:"SPACE",5:"NL",6:"SD",14:"DESCR",15:"-->",16:"HIDE_EMPTY",17:"scale",18:"WIDTH",19:"COMPOSIT_STATE",20:"STRUCT_START",21:"STRUCT_STOP",22:"STATE_DESCR",23:"AS",24:"ID",25:"FORK",26:"JOIN",27:"CHOICE",28:"CONCURRENT",29:"note",31:"NOTE_TEXT",33:"acc_title",34:"acc_title_value",35:"acc_descr",36:"acc_descr_value",37:"acc_descr_multiline_value",38:"classDef",39:"CLASSDEF_ID",40:"CLASSDEF_STYLEOPTS",41:"DEFAULT",42:"style",43:"STYLE_IDS",44:"STYLEDEF_STYLEOPTS",45:"class",46:"CLASSENTITY_IDS",47:"STYLECLASS",48:"direction_tb",49:"direction_bt",50:"direction_rl",51:"direction_lr",53:";",54:"EDGE_STATE",55:"STYLE_SEPARATOR",56:"left_of",57:"right_of"},productions_:[0,[3,2],[3,2],[3,2],[7,0],[7,2],[8,2],[8,1],[8,1],[9,1],[9,1],[9,1],[9,1],[9,2],[9,3],[9,4],[9,1],[9,2],[9,1],[9,4],[9,3],[9,6],[9,1],[9,1],[9,1],[9,1],[9,4],[9,4],[9,1],[9,2],[9,2],[9,1],[10,3],[10,3],[11,3],[12,3],[32,1],[32,1],[32,1],[32,1],[52,1],[52,1],[13,1],[13,1],[13,3],[13,3],[30,1],[30,1]],performAction:b(function(P,B,$,V,W,K,Z){var H=K.length-1;switch(W){case 3:return V.setRootDoc(K[H]),K[H];case 4:this.$=[];break;case 5:K[H]!="nl"&&(K[H-1].push(K[H]),this.$=K[H-1]);break;case 6:case 7:this.$=K[H];break;case 8:this.$="nl";break;case 12:this.$=K[H];break;case 13:const j=K[H-1];j.description=V.trimColon(K[H]),this.$=j;break;case 14:this.$={stmt:"relation",state1:K[H-2],state2:K[H]};break;case 15:const Y=V.trimColon(K[H]);this.$={stmt:"relation",state1:K[H-3],state2:K[H-1],description:Y};break;case 19:this.$={stmt:"state",id:K[H-3],type:"default",description:"",doc:K[H-1]};break;case 20:var ee=K[H],te=K[H-2].trim();if(K[H].match(":")){var U=K[H].split(":");ee=U[0],te=[te,U[1]]}this.$={stmt:"state",id:ee,type:"default",description:te};break;case 21:this.$={stmt:"state",id:K[H-3],type:"default",description:K[H-5],doc:K[H-1]};break;case 22:this.$={stmt:"state",id:K[H],type:"fork"};break;case 23:this.$={stmt:"state",id:K[H],type:"join"};break;case 24:this.$={stmt:"state",id:K[H],type:"choice"};break;case 25:this.$={stmt:"state",id:V.getDividerId(),type:"divider"};break;case 26:this.$={stmt:"state",id:K[H-1].trim(),note:{position:K[H-2].trim(),text:K[H].trim()}};break;case 29:this.$=K[H].trim(),V.setAccTitle(this.$);break;case 30:case 31:this.$=K[H].trim(),V.setAccDescription(this.$);break;case 32:case 33:this.$={stmt:"classDef",id:K[H-1].trim(),classes:K[H].trim()};break;case 34:this.$={stmt:"style",id:K[H-1].trim(),styleClass:K[H].trim()};break;case 35:this.$={stmt:"applyClass",id:K[H-1].trim(),styleClass:K[H].trim()};break;case 36:V.setDirection("TB"),this.$={stmt:"dir",value:"TB"};break;case 37:V.setDirection("BT"),this.$={stmt:"dir",value:"BT"};break;case 38:V.setDirection("RL"),this.$={stmt:"dir",value:"RL"};break;case 39:V.setDirection("LR"),this.$={stmt:"dir",value:"LR"};break;case 42:case 43:this.$={stmt:"state",id:K[H].trim(),type:"default",description:""};break;case 44:this.$={stmt:"state",id:K[H-2].trim(),classes:[K[H].trim()],type:"default",description:""};break;case 45:this.$={stmt:"state",id:K[H-2].trim(),classes:[K[H].trim()],type:"default",description:""};break}},"anonymous"),table:[{3:1,4:e,5:r,6:n},{1:[3]},{3:5,4:e,5:r,6:n},{3:6,4:e,5:r,6:n},t([1,4,5,16,17,19,22,24,25,26,27,28,29,33,35,37,38,42,45,48,49,50,51,54],i,{7:7}),{1:[2,1]},{1:[2,2]},{1:[2,3],4:a,5:s,8:8,9:10,10:12,11:13,12:14,13:15,16:o,17:l,19:u,22:h,24:d,25:p,26:f,27:g,28:m,29:y,32:25,33:v,35:x,37:w,38:k,42:E,45:_,48:S,49:R,50:C,51:L,54:A},t(N,[2,5]),{9:38,10:12,11:13,12:14,13:15,16:o,17:l,19:u,22:h,24:d,25:p,26:f,27:g,28:m,29:y,32:25,33:v,35:x,37:w,38:k,42:E,45:_,48:S,49:R,50:C,51:L,54:A},t(N,[2,7]),t(N,[2,8]),t(N,[2,9]),t(N,[2,10]),t(N,[2,11]),t(N,[2,12],{14:[1,39],15:[1,40]}),t(N,[2,16]),{18:[1,41]},t(N,[2,18],{20:[1,42]}),{23:[1,43]},t(N,[2,22]),t(N,[2,23]),t(N,[2,24]),t(N,[2,25]),{30:44,31:[1,45],56:[1,46],57:[1,47]},t(N,[2,28]),{34:[1,48]},{36:[1,49]},t(N,[2,31]),{39:[1,50],41:[1,51]},{43:[1,52]},{46:[1,53]},t(F,[2,42],{55:[1,54]}),t(F,[2,43],{55:[1,55]}),t(N,[2,36]),t(N,[2,37]),t(N,[2,38]),t(N,[2,39]),t(N,[2,6]),t(N,[2,13]),{13:56,24:d,54:A},t(N,[2,17]),t(T,i,{7:57}),{24:[1,58]},{24:[1,59]},{23:[1,60]},{24:[2,46]},{24:[2,47]},t(N,[2,29]),t(N,[2,30]),{40:[1,61]},{40:[1,62]},{44:[1,63]},{47:[1,64]},{24:[1,65]},{24:[1,66]},t(N,[2,14],{14:[1,67]}),{4:a,5:s,8:8,9:10,10:12,11:13,12:14,13:15,16:o,17:l,19:u,21:[1,68],22:h,24:d,25:p,26:f,27:g,28:m,29:y,32:25,33:v,35:x,37:w,38:k,42:E,45:_,48:S,49:R,50:C,51:L,54:A},t(N,[2,20],{20:[1,69]}),{31:[1,70]},{24:[1,71]},t(N,[2,32]),t(N,[2,33]),t(N,[2,34]),t(N,[2,35]),t(F,[2,44]),t(F,[2,45]),t(N,[2,15]),t(N,[2,19]),t(T,i,{7:72}),t(N,[2,26]),t(N,[2,27]),{4:a,5:s,8:8,9:10,10:12,11:13,12:14,13:15,16:o,17:l,19:u,21:[1,73],22:h,24:d,25:p,26:f,27:g,28:m,29:y,32:25,33:v,35:x,37:w,38:k,42:E,45:_,48:S,49:R,50:C,51:L,54:A},t(N,[2,21])],defaultActions:{5:[2,1],6:[2,2],46:[2,46],47:[2,47]},parseError:b(function(P,B){if(B.recoverable)this.trace(P);else{var $=new Error(P);throw $.hash=B,$}},"parseError"),parse:b(function(P){var B=this,$=[0],V=[],W=[null],K=[],Z=this.table,H="",ee=0,te=0,U=2,j=1,Y=K.slice.call(arguments,1),Q=Object.create(this.lexer),ae={yy:{}};for(var ie in this.yy)Object.prototype.hasOwnProperty.call(this.yy,ie)&&(ae.yy[ie]=this.yy[ie]);Q.setInput(P,ae.yy),ae.yy.lexer=Q,ae.yy.parser=this,typeof Q.yylloc>"u"&&(Q.yylloc={});var J=Q.yylloc;K.push(J);var _e=Q.options&&Q.options.ranges;typeof ae.yy.parseError=="function"?this.parseError=ae.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function ce(ue){$.length=$.length-2*ue,W.length=W.length-ue,K.length=K.length-ue}b(ce,"popStack");function Te(){var ue;return ue=V.pop()||Q.lex()||j,typeof ue!="number"&&(ue instanceof Array&&(V=ue,ue=V.pop()),ue=B.symbols_[ue]||ue),ue}b(Te,"lex");for(var be,Ue,He,Ve,Re={},de,X,oe,me;;){if(Ue=$[$.length-1],this.defaultActions[Ue]?He=this.defaultActions[Ue]:((be===null||typeof be>"u")&&(be=Te()),He=Z[Ue]&&Z[Ue][be]),typeof He>"u"||!He.length||!He[0]){var ne="";me=[];for(de in Z[Ue])this.terminals_[de]&&de>U&&me.push("'"+this.terminals_[de]+"'");Q.showPosition?ne="Parse error on line "+(ee+1)+`:
`+Q.showPosition()+`
Expecting `+me.join(", ")+", got '"+(this.terminals_[be]||be)+"'":ne="Parse error on line "+(ee+1)+": Unexpected "+(be==j?"end of input":"'"+(this.terminals_[be]||be)+"'"),this.parseError(ne,{text:Q.match,token:this.terminals_[be]||be,line:Q.yylineno,loc:J,expected:me})}if(He[0]instanceof Array&&He.length>1)throw new Error("Parse Error: multiple actions possible at state: "+Ue+", token: "+be);switch(He[0]){case 1:$.push(be),W.push(Q.yytext),K.push(Q.yylloc),$.push(He[1]),be=null,te=Q.yyleng,H=Q.yytext,ee=Q.yylineno,J=Q.yylloc;break;case 2:if(X=this.productions_[He[1]][1],Re.$=W[W.length-X],Re._$={first_line:K[K.length-(X||1)].first_line,last_line:K[K.length-1].last_line,first_column:K[K.length-(X||1)].first_column,last_column:K[K.length-1].last_column},_e&&(Re._$.range=[K[K.length-(X||1)].range[0],K[K.length-1].range[1]]),Ve=this.performAction.apply(Re,[H,te,ee,ae.yy,He[1],W,K].concat(Y)),typeof Ve<"u")return Ve;X&&($=$.slice(0,-1*X*2),W=W.slice(0,-1*X),K=K.slice(0,-1*X)),$.push(this.productions_[He[1]][0]),W.push(Re.$),K.push(Re._$),oe=Z[$[$.length-2]][$[$.length-1]],$.push(oe);break;case 3:return!0}}return!0},"parse")},M=function(){var I={EOF:1,parseError:b(function(B,$){if(this.yy.parser)this.yy.parser.parseError(B,$);else throw new Error(B)},"parseError"),setInput:b(function(P,B){return this.yy=B||this.yy||{},this._input=P,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},"setInput"),input:b(function(){var P=this._input[0];this.yytext+=P,this.yyleng++,this.offset++,this.match+=P,this.matched+=P;var B=P.match(/(?:\r\n?|\n).*/g);return B?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),P},"input"),unput:b(function(P){var B=P.length,$=P.split(/(?:\r\n?|\n)/g);this._input=P+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-B),this.offset-=B;var V=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),$.length-1&&(this.yylineno-=$.length-1);var W=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:$?($.length===V.length?this.yylloc.first_column:0)+V[V.length-$.length].length-$[0].length:this.yylloc.first_column-B},this.options.ranges&&(this.yylloc.range=[W[0],W[0]+this.yyleng-B]),this.yyleng=this.yytext.length,this},"unput"),more:b(function(){return this._more=!0,this},"more"),reject:b(function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},"reject"),less:b(function(P){this.unput(this.match.slice(P))},"less"),pastInput:b(function(){var P=this.matched.substr(0,this.matched.length-this.match.length);return(P.length>20?"...":"")+P.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:b(function(){var P=this.match;return P.length<20&&(P+=this._input.substr(0,20-P.length)),(P.substr(0,20)+(P.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:b(function(){var P=this.pastInput(),B=new Array(P.length+1).join("-");return P+this.upcomingInput()+`
`+B+"^"},"showPosition"),test_match:b(function(P,B){var $,V,W;if(this.options.backtrack_lexer&&(W={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(W.yylloc.range=this.yylloc.range.slice(0))),V=P[0].match(/(?:\r\n?|\n).*/g),V&&(this.yylineno+=V.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:V?V[V.length-1].length-V[V.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+P[0].length},this.yytext+=P[0],this.match+=P[0],this.matches=P,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(P[0].length),this.matched+=P[0],$=this.performAction.call(this,this.yy,this,B,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),$)return $;if(this._backtrack){for(var K in W)this[K]=W[K];return!1}return!1},"test_match"),next:b(function(){if(this.done)return this.EOF;this._input||(this.done=!0);var P,B,$,V;this._more||(this.yytext="",this.match="");for(var W=this._currentRules(),K=0;K<W.length;K++)if($=this._input.match(this.rules[W[K]]),$&&(!B||$[0].length>B[0].length)){if(B=$,V=K,this.options.backtrack_lexer){if(P=this.test_match($,W[K]),P!==!1)return P;if(this._backtrack){B=!1;continue}else return!1}else if(!this.options.flex)break}return B?(P=this.test_match(B,W[V]),P!==!1?P:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:b(function(){var B=this.next();return B||this.lex()},"lex"),begin:b(function(B){this.conditionStack.push(B)},"begin"),popState:b(function(){var B=this.conditionStack.length-1;return B>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:b(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:b(function(B){return B=this.conditionStack.length-1-Math.abs(B||0),B>=0?this.conditionStack[B]:"INITIAL"},"topState"),pushState:b(function(B){this.begin(B)},"pushState"),stateStackSize:b(function(){return this.conditionStack.length},"stateStackSize"),options:{"case-insensitive":!0},performAction:b(function(B,$,V,W){switch(V){case 0:return 41;case 1:return 48;case 2:return 49;case 3:return 50;case 4:return 51;case 5:break;case 6:break;case 7:return 5;case 8:break;case 9:break;case 10:break;case 11:break;case 12:return this.pushState("SCALE"),17;case 13:return 18;case 14:this.popState();break;case 15:return this.begin("acc_title"),33;case 16:return this.popState(),"acc_title_value";case 17:return this.begin("acc_descr"),35;case 18:return this.popState(),"acc_descr_value";case 19:this.begin("acc_descr_multiline");break;case 20:this.popState();break;case 21:return"acc_descr_multiline_value";case 22:return this.pushState("CLASSDEF"),38;case 23:return this.popState(),this.pushState("CLASSDEFID"),"DEFAULT_CLASSDEF_ID";case 24:return this.popState(),this.pushState("CLASSDEFID"),39;case 25:return this.popState(),40;case 26:return this.pushState("CLASS"),45;case 27:return this.popState(),this.pushState("CLASS_STYLE"),46;case 28:return this.popState(),47;case 29:return this.pushState("STYLE"),42;case 30:return this.popState(),this.pushState("STYLEDEF_STYLES"),43;case 31:return this.popState(),44;case 32:return this.pushState("SCALE"),17;case 33:return 18;case 34:this.popState();break;case 35:this.pushState("STATE");break;case 36:return this.popState(),$.yytext=$.yytext.slice(0,-8).trim(),25;case 37:return this.popState(),$.yytext=$.yytext.slice(0,-8).trim(),26;case 38:return this.popState(),$.yytext=$.yytext.slice(0,-10).trim(),27;case 39:return this.popState(),$.yytext=$.yytext.slice(0,-8).trim(),25;case 40:return this.popState(),$.yytext=$.yytext.slice(0,-8).trim(),26;case 41:return this.popState(),$.yytext=$.yytext.slice(0,-10).trim(),27;case 42:return 48;case 43:return 49;case 44:return 50;case 45:return 51;case 46:this.pushState("STATE_STRING");break;case 47:return this.pushState("STATE_ID"),"AS";case 48:return this.popState(),"ID";case 49:this.popState();break;case 50:return"STATE_DESCR";case 51:return 19;case 52:this.popState();break;case 53:return this.popState(),this.pushState("struct"),20;case 54:break;case 55:return this.popState(),21;case 56:break;case 57:return this.begin("NOTE"),29;case 58:return this.popState(),this.pushState("NOTE_ID"),56;case 59:return this.popState(),this.pushState("NOTE_ID"),57;case 60:this.popState(),this.pushState("FLOATING_NOTE");break;case 61:return this.popState(),this.pushState("FLOATING_NOTE_ID"),"AS";case 62:break;case 63:return"NOTE_TEXT";case 64:return this.popState(),"ID";case 65:return this.popState(),this.pushState("NOTE_TEXT"),24;case 66:return this.popState(),$.yytext=$.yytext.substr(2).trim(),31;case 67:return this.popState(),$.yytext=$.yytext.slice(0,-8).trim(),31;case 68:return 6;case 69:return 6;case 70:return 16;case 71:return 54;case 72:return 24;case 73:return $.yytext=$.yytext.trim(),14;case 74:return 15;case 75:return 28;case 76:return 55;case 77:return 5;case 78:return"INVALID"}},"anonymous"),rules:[/^(?:default\b)/i,/^(?:.*direction\s+TB[^\n]*)/i,/^(?:.*direction\s+BT[^\n]*)/i,/^(?:.*direction\s+RL[^\n]*)/i,/^(?:.*direction\s+LR[^\n]*)/i,/^(?:%%(?!\{)[^\n]*)/i,/^(?:[^\}]%%[^\n]*)/i,/^(?:[\n]+)/i,/^(?:[\s]+)/i,/^(?:((?!\n)\s)+)/i,/^(?:#[^\n]*)/i,/^(?:%[^\n]*)/i,/^(?:scale\s+)/i,/^(?:\d+)/i,/^(?:\s+width\b)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:classDef\s+)/i,/^(?:DEFAULT\s+)/i,/^(?:\w+\s+)/i,/^(?:[^\n]*)/i,/^(?:class\s+)/i,/^(?:(\w+)+((,\s*\w+)*))/i,/^(?:[^\n]*)/i,/^(?:style\s+)/i,/^(?:[\w,]+\s+)/i,/^(?:[^\n]*)/i,/^(?:scale\s+)/i,/^(?:\d+)/i,/^(?:\s+width\b)/i,/^(?:state\s+)/i,/^(?:.*<<fork>>)/i,/^(?:.*<<join>>)/i,/^(?:.*<<choice>>)/i,/^(?:.*\[\[fork\]\])/i,/^(?:.*\[\[join\]\])/i,/^(?:.*\[\[choice\]\])/i,/^(?:.*direction\s+TB[^\n]*)/i,/^(?:.*direction\s+BT[^\n]*)/i,/^(?:.*direction\s+RL[^\n]*)/i,/^(?:.*direction\s+LR[^\n]*)/i,/^(?:["])/i,/^(?:\s*as\s+)/i,/^(?:[^\n\{]*)/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:[^\n\s\{]+)/i,/^(?:\n)/i,/^(?:\{)/i,/^(?:%%(?!\{)[^\n]*)/i,/^(?:\})/i,/^(?:[\n])/i,/^(?:note\s+)/i,/^(?:left of\b)/i,/^(?:right of\b)/i,/^(?:")/i,/^(?:\s*as\s*)/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:[^\n]*)/i,/^(?:\s*[^:\n\s\-]+)/i,/^(?:\s*:[^:\n;]+)/i,/^(?:[\s\S]*?end note\b)/i,/^(?:stateDiagram\s+)/i,/^(?:stateDiagram-v2\s+)/i,/^(?:hide empty description\b)/i,/^(?:\[\*\])/i,/^(?:[^:\n\s\-\{]+)/i,/^(?:\s*:[^:\n;]+)/i,/^(?:-->)/i,/^(?:--)/i,/^(?::::)/i,/^(?:$)/i,/^(?:.)/i],conditions:{LINE:{rules:[9,10],inclusive:!1},struct:{rules:[9,10,22,26,29,35,42,43,44,45,54,55,56,57,71,72,73,74,75],inclusive:!1},FLOATING_NOTE_ID:{rules:[64],inclusive:!1},FLOATING_NOTE:{rules:[61,62,63],inclusive:!1},NOTE_TEXT:{rules:[66,67],inclusive:!1},NOTE_ID:{rules:[65],inclusive:!1},NOTE:{rules:[58,59,60],inclusive:!1},STYLEDEF_STYLEOPTS:{rules:[],inclusive:!1},STYLEDEF_STYLES:{rules:[31],inclusive:!1},STYLE_IDS:{rules:[],inclusive:!1},STYLE:{rules:[30],inclusive:!1},CLASS_STYLE:{rules:[28],inclusive:!1},CLASS:{rules:[27],inclusive:!1},CLASSDEFID:{rules:[25],inclusive:!1},CLASSDEF:{rules:[23,24],inclusive:!1},acc_descr_multiline:{rules:[20,21],inclusive:!1},acc_descr:{rules:[18],inclusive:!1},acc_title:{rules:[16],inclusive:!1},SCALE:{rules:[13,14,33,34],inclusive:!1},ALIAS:{rules:[],inclusive:!1},STATE_ID:{rules:[48],inclusive:!1},STATE_STRING:{rules:[49,50],inclusive:!1},FORK_STATE:{rules:[],inclusive:!1},STATE:{rules:[9,10,36,37,38,39,40,41,46,47,51,52,53],inclusive:!1},ID:{rules:[9,10],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,5,6,7,8,10,11,12,15,17,19,22,26,29,32,35,53,57,68,69,70,71,72,73,74,76,77,78],inclusive:!0}}};return I}();D.lexer=M;function O(){this.yy={}}return b(O,"Parser"),O.prototype=D,D.Parser=O,new O}();u8.parser=u8;var Gne=u8,NGe="LR",Hne="TB",u5="state",rN="relation",RGe="classDef",MGe="style",IGe="applyClass",r2="default",Wne="divider",Yne="fill:none",qne="fill: #333",jne="c",Xne="text",Kne="normal",dE="rect",fE="rectWithTitle",DGe="stateStart",OGe="stateEnd",LB="divider",NB="roundedWithTitle",PGe="note",FGe="noteGroup",n2="statediagram",BGe="state",$Ge=`${n2}-${BGe}`,Qne="transition",zGe="note",UGe="note-edge",VGe=`${Qne} ${UGe}`,GGe=`${n2}-${zGe}`,HGe="cluster",WGe=`${n2}-${HGe}`,YGe="cluster-alt",qGe=`${n2}-${YGe}`,Zne="parent",Jne="note",jGe="state",nN="----",XGe=`${nN}${Jne}`,RB=`${nN}${Zne}`,eie=b((t,e=Hne)=>{if(!t.doc)return e;let r=e;for(const n of t.doc)n.stmt==="dir"&&(r=n.value);return r},"getDir"),KGe=b(function(t,e){return e.db.extract(e.db.getRootDocV2()),e.db.getClasses()},"getClasses"),QGe=b(async function(t,e,r,n){q.info("REF0:"),q.info("Drawing state diagram (v2)",e);const{securityLevel:i,state:a,layout:s}=we();n.db.extract(n.db.getRootDocV2());const o=n.db.getData(),l=dJ(e,i);o.type=n.type,o.layoutAlgorithm=s,o.nodeSpacing=(a==null?void 0:a.nodeSpacing)||50,o.rankSpacing=(a==null?void 0:a.rankSpacing)||50,o.markers=["barb"],o.diagramId=e,await Rq(o,l);const u=8;Jt.insertTitle(l,"statediagramTitleText",(a==null?void 0:a.titleTopMargin)??25,n.db.getDiagramTitle()),fJ(l,u,n2,(a==null?void 0:a.useMaxWidth)??!0)},"draw"),ZGe={getClasses:KGe,draw:QGe,getDir:eie},Ib=new Map,ku=0;function Db(t="",e=0,r="",n=nN){const i=r!==null&&r.length>0?`${n}${r}`:"";return`${jGe}-${t}${i}-${e}`}b(Db,"stateDomId");var JGe=b((t,e,r,n,i,a,s,o)=>{q.trace("items",e),e.forEach(l=>{switch(l.stmt){case u5:um(t,l,r,n,i,a,s,o);break;case r2:um(t,l,r,n,i,a,s,o);break;case rN:{um(t,l.state1,r,n,i,a,s,o),um(t,l.state2,r,n,i,a,s,o);const u={id:"edge"+ku,start:l.state1.id,end:l.state2.id,arrowhead:"normal",arrowTypeEnd:"arrow_barb",style:Yne,labelStyle:"",label:et.sanitizeText(l.description,we()),arrowheadStyle:qne,labelpos:jne,labelType:Xne,thickness:Kne,classes:Qne,look:s};i.push(u),ku++}break}})},"setupDoc"),MB=b((t,e=Hne)=>{let r=e;if(t.doc)for(const n of t.doc)n.stmt==="dir"&&(r=n.value);return r},"getDir");function cm(t,e,r){if(!e.id||e.id==="</join></fork>"||e.id==="</choice>")return;e.cssClasses&&(Array.isArray(e.cssCompiledStyles)||(e.cssCompiledStyles=[]),e.cssClasses.split(" ").forEach(i=>{if(r.get(i)){const a=r.get(i);e.cssCompiledStyles=[...e.cssCompiledStyles,...a.styles]}}));const n=t.find(i=>i.id===e.id);n?Object.assign(n,e):t.push(e)}b(cm,"insertOrUpdateNode");function tie(t){var e;return((e=t==null?void 0:t.classes)==null?void 0:e.join(" "))??""}b(tie,"getClassesFromDbInfo");function rie(t){return(t==null?void 0:t.styles)??[]}b(rie,"getStylesFromDbInfo");var um=b((t,e,r,n,i,a,s,o)=>{var p,f;const l=e.id,u=r.get(l),h=tie(u),d=rie(u);if(q.info("dataFetcher parsedItem",e,u,d),l!=="root"){let g=dE;e.start===!0?g=DGe:e.start===!1&&(g=OGe),e.type!==r2&&(g=e.type),Ib.get(l)||Ib.set(l,{id:l,shape:g,description:et.sanitizeText(l,we()),cssClasses:`${h} ${$Ge}`,cssStyles:d});const m=Ib.get(l);e.description&&(Array.isArray(m.description)?(m.shape=fE,m.description.push(e.description)):((p=m.description)==null?void 0:p.length)>0?(m.shape=fE,m.description===l?m.description=[e.description]:m.description=[m.description,e.description]):(m.shape=dE,m.description=e.description),m.description=et.sanitizeTextOrArray(m.description,we())),((f=m.description)==null?void 0:f.length)===1&&m.shape===fE&&(m.type==="group"?m.shape=NB:m.shape=dE),!m.type&&e.doc&&(q.info("Setting cluster for XCX",l,MB(e)),m.type="group",m.isGroup=!0,m.dir=MB(e),m.shape=e.type===Wne?LB:NB,m.cssClasses=`${m.cssClasses} ${WGe} ${a?qGe:""}`);const y={labelStyle:"",shape:m.shape,label:m.description,cssClasses:m.cssClasses,cssCompiledStyles:[],cssStyles:m.cssStyles,id:l,dir:m.dir,domId:Db(l,ku),type:m.type,isGroup:m.type==="group",padding:8,rx:10,ry:10,look:s};if(y.shape===LB&&(y.label=""),t&&t.id!=="root"&&(q.trace("Setting node ",l," to be child of its parent ",t.id),y.parentId=t.id),y.centerLabel=!0,e.note){const v={labelStyle:"",shape:PGe,label:e.note.text,cssClasses:GGe,cssStyles:[],cssCompilesStyles:[],id:l+XGe+"-"+ku,domId:Db(l,ku,Jne),type:m.type,isGroup:m.type==="group",padding:we().flowchart.padding,look:s,position:e.note.position},x=l+RB,w={labelStyle:"",shape:FGe,label:e.note.text,cssClasses:m.cssClasses,cssStyles:[],id:l+RB,domId:Db(l,ku,Zne),type:"group",isGroup:!0,padding:16,look:s,position:e.note.position};ku++,w.id=x,v.parentId=x,cm(n,w,o),cm(n,v,o),cm(n,y,o);let k=l,E=v.id;e.note.position==="left of"&&(k=v.id,E=l),i.push({id:k+"-"+E,start:k,end:E,arrowhead:"none",arrowTypeEnd:"",style:Yne,labelStyle:"",classes:VGe,arrowheadStyle:qne,labelpos:jne,labelType:Xne,thickness:Kne,look:s})}else cm(n,y,o)}e.doc&&(q.trace("Adding nodes children "),JGe(e,e.doc,r,n,i,!a,s,o))},"dataFetcher"),eHe=b(()=>{Ib.clear(),ku=0},"reset"),iN="[*]",nie="start",iie=iN,aie="end",IB="color",DB="fill",tHe="bgFill",rHe=",";function aN(){return new Map}b(aN,"newClassesList");var h5=[],sN=[],sie=NGe,d5=[],I0=aN(),oie=b(()=>({relations:[],states:new Map,documents:{}}),"newDoc"),f5={root:oie()},qa=f5.root,Yv=0,OB=0,nHe={LINE:0,DOTTED_LINE:1},iHe={AGGREGATION:0,EXTENSION:1,COMPOSITION:2,DEPENDENCY:3},Sx=b(t=>JSON.parse(JSON.stringify(t)),"clone"),aHe=b(t=>{q.info("Setting root doc",t),d5=t},"setRootDoc"),sHe=b(()=>d5,"getRootDoc"),Ob=b((t,e,r)=>{if(e.stmt===rN)Ob(t,e.state1,!0),Ob(t,e.state2,!1);else if(e.stmt===u5&&(e.id==="[*]"?(e.id=r?t.id+"_start":t.id+"_end",e.start=r):e.id=e.id.trim()),e.doc){const n=[];let i=[],a;for(a=0;a<e.doc.length;a++)if(e.doc[a].type===Wne){const s=Sx(e.doc[a]);s.doc=Sx(i),n.push(s),i=[]}else i.push(e.doc[a]);if(n.length>0&&i.length>0){const s={stmt:u5,id:RY(),type:"divider",doc:Sx(i)};n.push(Sx(s)),e.doc=n}e.doc.forEach(s=>Ob(e,s,!0))}},"docTranslator"),oN=b(()=>(Ob({id:"root"},{id:"root",doc:d5},!0),{id:"root",doc:d5}),"getRootDocV2"),oHe=b(t=>{let e;t.doc?e=t.doc:e=t,q.info(e),lie(!0),q.info("Extract initial document:",e),e.forEach(a=>{switch(q.warn("Statement",a.stmt),a.stmt){case u5:uh(a.id.trim(),a.type,a.doc,a.description,a.note,a.classes,a.styles,a.textStyles);break;case rN:fie(a.state1,a.state2,a.description);break;case RGe:pie(a.id.trim(),a.classes);break;case MGe:{const s=a.id.trim().split(","),o=a.styleClass.split(",");s.forEach(l=>{let u=Xd(l);if(u===void 0){const h=l.trim();uh(h),u=Xd(h)}u.styles=o.map(h=>{var d;return(d=h.replace(/;/g,""))==null?void 0:d.trim()})})}break;case IGe:lN(a.id.trim(),a.styleClass);break}});const r=cie(),i=we().look;eHe(),um(void 0,oN(),r,h5,sN,!0,i,I0),h5.forEach(a=>{if(Array.isArray(a.label)){if(a.description=a.label.slice(1),a.isGroup&&a.description.length>0)throw new Error("Group nodes can only have label. Remove the additional description for node ["+a.id+"]");a.label=a.label[0]}})},"extract"),uh=b(function(t,e=r2,r=null,n=null,i=null,a=null,s=null,o=null){const l=t==null?void 0:t.trim();if(qa.states.has(l)?(qa.states.get(l).doc||(qa.states.get(l).doc=r),qa.states.get(l).type||(qa.states.get(l).type=e)):(q.info("Adding state ",l,n),qa.states.set(l,{id:l,descriptions:[],type:e,doc:r,note:i,classes:[],styles:[],textStyles:[]})),n&&(q.info("Setting state description",l,n),typeof n=="string"&&h8(l,n.trim()),typeof n=="object"&&n.forEach(u=>h8(l,u.trim()))),i){const u=qa.states.get(l);u.note=i,u.note.text=et.sanitizeText(u.note.text,we())}a&&(q.info("Setting state classes",l,a),(typeof a=="string"?[a]:a).forEach(h=>lN(l,h.trim()))),s&&(q.info("Setting state styles",l,s),(typeof s=="string"?[s]:s).forEach(h=>fHe(l,h.trim()))),o&&(q.info("Setting state styles",l,s),(typeof o=="string"?[o]:o).forEach(h=>pHe(l,h.trim())))},"addState"),lie=b(function(t){h5=[],sN=[],f5={root:oie()},qa=f5.root,Yv=0,I0=aN(),t||Ni()},"clear"),Xd=b(function(t){return qa.states.get(t)},"getState"),cie=b(function(){return qa.states},"getStates"),lHe=b(function(){q.info("Documents = ",f5)},"logDocuments"),cHe=b(function(){return qa.relations},"getRelations");function p5(t=""){let e=t;return t===iN&&(Yv++,e=`${nie}${Yv}`),e}b(p5,"startIdIfNeeded");function g5(t="",e=r2){return t===iN?nie:e}b(g5,"startTypeIfNeeded");function uie(t=""){let e=t;return t===iie&&(Yv++,e=`${aie}${Yv}`),e}b(uie,"endIdIfNeeded");function hie(t="",e=r2){return t===iie?aie:e}b(hie,"endTypeIfNeeded");function die(t,e,r){let n=p5(t.id.trim()),i=g5(t.id.trim(),t.type),a=p5(e.id.trim()),s=g5(e.id.trim(),e.type);uh(n,i,t.doc,t.description,t.note,t.classes,t.styles,t.textStyles),uh(a,s,e.doc,e.description,e.note,e.classes,e.styles,e.textStyles),qa.relations.push({id1:n,id2:a,relationTitle:et.sanitizeText(r,we())})}b(die,"addRelationObjs");var fie=b(function(t,e,r){if(typeof t=="object")die(t,e,r);else{const n=p5(t.trim()),i=g5(t),a=uie(e.trim()),s=hie(e);uh(n,i),uh(a,s),qa.relations.push({id1:n,id2:a,title:et.sanitizeText(r,we())})}},"addRelation"),h8=b(function(t,e){const r=qa.states.get(t),n=e.startsWith(":")?e.replace(":","").trim():e;r.descriptions.push(et.sanitizeText(n,we()))},"addDescription"),uHe=b(function(t){return t.substring(0,1)===":"?t.substr(2).trim():t.trim()},"cleanupLabel"),hHe=b(()=>(OB++,"divider-id-"+OB),"getDividerId"),pie=b(function(t,e=""){I0.has(t)||I0.set(t,{id:t,styles:[],textStyles:[]});const r=I0.get(t);e!=null&&e.split(rHe).forEach(n=>{const i=n.replace(/([^;]*);/,"$1").trim();if(RegExp(IB).exec(n)){const s=i.replace(DB,tHe).replace(IB,DB);r.textStyles.push(s)}r.styles.push(i)})},"addStyleClass"),dHe=b(function(){return I0},"getClasses"),lN=b(function(t,e){t.split(",").forEach(function(r){let n=Xd(r);if(n===void 0){const i=r.trim();uh(i),n=Xd(i)}n.classes.push(e)})},"setCssClass"),fHe=b(function(t,e){const r=Xd(t);r!==void 0&&r.styles.push(e)},"setStyle"),pHe=b(function(t,e){const r=Xd(t);r!==void 0&&r.textStyles.push(e)},"setTextStyle"),gHe=b(()=>sie,"getDirection"),mHe=b(t=>{sie=t},"setDirection"),vHe=b(t=>t&&t[0]===":"?t.substr(1).trim():t.trim(),"trimColon"),yHe=b(()=>{const t=we();return{nodes:h5,edges:sN,other:{},config:t,direction:eie(oN())}},"getData"),cc={getConfig:b(()=>we().state,"getConfig"),getData:yHe,addState:uh,clear:lie,getState:Xd,getStates:cie,getRelations:cHe,getClasses:dHe,getDirection:gHe,addRelation:fie,getDividerId:hHe,setDirection:mHe,cleanupLabel:uHe,lineType:nHe,relationType:iHe,logDocuments:lHe,getRootDoc:sHe,setRootDoc:aHe,getRootDocV2:oN,extract:oHe,trimColon:vHe,getAccTitle:Qi,setAccTitle:Ri,getAccDescription:Ji,setAccDescription:Zi,addStyleClass:pie,setCssClass:lN,addDescription:h8,setDiagramTitle:za,getDiagramTitle:ea},xHe=b(t=>`
defs #statediagram-barbEnd {
    fill: ${t.transitionColor};
    stroke: ${t.transitionColor};
  }
g.stateGroup text {
  fill: ${t.nodeBorder};
  stroke: none;
  font-size: 10px;
}
g.stateGroup text {
  fill: ${t.textColor};
  stroke: none;
  font-size: 10px;

}
g.stateGroup .state-title {
  font-weight: bolder;
  fill: ${t.stateLabelColor};
}

g.stateGroup rect {
  fill: ${t.mainBkg};
  stroke: ${t.nodeBorder};
}

g.stateGroup line {
  stroke: ${t.lineColor};
  stroke-width: 1;
}

.transition {
  stroke: ${t.transitionColor};
  stroke-width: 1;
  fill: none;
}

.stateGroup .composit {
  fill: ${t.background};
  border-bottom: 1px
}

.stateGroup .alt-composit {
  fill: #e0e0e0;
  border-bottom: 1px
}

.state-note {
  stroke: ${t.noteBorderColor};
  fill: ${t.noteBkgColor};

  text {
    fill: ${t.noteTextColor};
    stroke: none;
    font-size: 10px;
  }
}

.stateLabel .box {
  stroke: none;
  stroke-width: 0;
  fill: ${t.mainBkg};
  opacity: 0.5;
}

.edgeLabel .label rect {
  fill: ${t.labelBackgroundColor};
  opacity: 0.5;
}
.edgeLabel {
  background-color: ${t.edgeLabelBackground};
  p {
    background-color: ${t.edgeLabelBackground};
  }
  rect {
    opacity: 0.5;
    background-color: ${t.edgeLabelBackground};
    fill: ${t.edgeLabelBackground};
  }
  text-align: center;
}
.edgeLabel .label text {
  fill: ${t.transitionLabelColor||t.tertiaryTextColor};
}
.label div .edgeLabel {
  color: ${t.transitionLabelColor||t.tertiaryTextColor};
}

.stateLabel text {
  fill: ${t.stateLabelColor};
  font-size: 10px;
  font-weight: bold;
}

.node circle.state-start {
  fill: ${t.specialStateColor};
  stroke: ${t.specialStateColor};
}

.node .fork-join {
  fill: ${t.specialStateColor};
  stroke: ${t.specialStateColor};
}

.node circle.state-end {
  fill: ${t.innerEndBackground};
  stroke: ${t.background};
  stroke-width: 1.5
}
.end-state-inner {
  fill: ${t.compositeBackground||t.background};
  // stroke: ${t.background};
  stroke-width: 1.5
}

.node rect {
  fill: ${t.stateBkg||t.mainBkg};
  stroke: ${t.stateBorder||t.nodeBorder};
  stroke-width: 1px;
}
.node polygon {
  fill: ${t.mainBkg};
  stroke: ${t.stateBorder||t.nodeBorder};;
  stroke-width: 1px;
}
#statediagram-barbEnd {
  fill: ${t.lineColor};
}

.statediagram-cluster rect {
  fill: ${t.compositeTitleBackground};
  stroke: ${t.stateBorder||t.nodeBorder};
  stroke-width: 1px;
}

.cluster-label, .nodeLabel {
  color: ${t.stateLabelColor};
  // line-height: 1;
}

.statediagram-cluster rect.outer {
  rx: 5px;
  ry: 5px;
}
.statediagram-state .divider {
  stroke: ${t.stateBorder||t.nodeBorder};
}

.statediagram-state .title-state {
  rx: 5px;
  ry: 5px;
}
.statediagram-cluster.statediagram-cluster .inner {
  fill: ${t.compositeBackground||t.background};
}
.statediagram-cluster.statediagram-cluster-alt .inner {
  fill: ${t.altBackground?t.altBackground:"#efefef"};
}

.statediagram-cluster .inner {
  rx:0;
  ry:0;
}

.statediagram-state rect.basic {
  rx: 5px;
  ry: 5px;
}
.statediagram-state rect.divider {
  stroke-dasharray: 10,10;
  fill: ${t.altBackground?t.altBackground:"#efefef"};
}

.note-edge {
  stroke-dasharray: 5;
}

.statediagram-note rect {
  fill: ${t.noteBkgColor};
  stroke: ${t.noteBorderColor};
  stroke-width: 1px;
  rx: 0;
  ry: 0;
}
.statediagram-note rect {
  fill: ${t.noteBkgColor};
  stroke: ${t.noteBorderColor};
  stroke-width: 1px;
  rx: 0;
  ry: 0;
}

.statediagram-note text {
  fill: ${t.noteTextColor};
}

.statediagram-note .nodeLabel {
  color: ${t.noteTextColor};
}
.statediagram .edgeLabel {
  color: red; // ${t.noteTextColor};
}

#dependencyStart, #dependencyEnd {
  fill: ${t.lineColor};
  stroke: ${t.lineColor};
  stroke-width: 1;
}

.statediagramTitleText {
  text-anchor: middle;
  font-size: 18px;
  fill: ${t.textColor};
}
`,"getStyles"),gie=xHe,cN={},bHe=b((t,e)=>{cN[t]=e},"set"),wHe=b(t=>cN[t],"get"),mie=b(()=>Object.keys(cN),"keys"),kHe=b(()=>mie().length,"size"),THe={get:wHe,set:bHe,keys:mie,size:kHe},EHe=b(t=>t.append("circle").attr("class","start-state").attr("r",we().state.sizeUnit).attr("cx",we().state.padding+we().state.sizeUnit).attr("cy",we().state.padding+we().state.sizeUnit),"drawStartState"),SHe=b(t=>t.append("line").style("stroke","grey").style("stroke-dasharray","3").attr("x1",we().state.textHeight).attr("class","divider").attr("x2",we().state.textHeight*2).attr("y1",0).attr("y2",0),"drawDivider"),CHe=b((t,e)=>{const r=t.append("text").attr("x",2*we().state.padding).attr("y",we().state.textHeight+2*we().state.padding).attr("font-size",we().state.fontSize).attr("class","state-title").text(e.id),n=r.node().getBBox();return t.insert("rect",":first-child").attr("x",we().state.padding).attr("y",we().state.padding).attr("width",n.width+2*we().state.padding).attr("height",n.height+2*we().state.padding).attr("rx",we().state.radius),r},"drawSimpleState"),AHe=b((t,e)=>{const r=b(function(p,f,g){const m=p.append("tspan").attr("x",2*we().state.padding).text(f);g||m.attr("dy",we().state.textHeight)},"addTspan"),i=t.append("text").attr("x",2*we().state.padding).attr("y",we().state.textHeight+1.3*we().state.padding).attr("font-size",we().state.fontSize).attr("class","state-title").text(e.descriptions[0]).node().getBBox(),a=i.height,s=t.append("text").attr("x",we().state.padding).attr("y",a+we().state.padding*.4+we().state.dividerMargin+we().state.textHeight).attr("class","state-description");let o=!0,l=!0;e.descriptions.forEach(function(p){o||(r(s,p,l),l=!1),o=!1});const u=t.append("line").attr("x1",we().state.padding).attr("y1",we().state.padding+a+we().state.dividerMargin/2).attr("y2",we().state.padding+a+we().state.dividerMargin/2).attr("class","descr-divider"),h=s.node().getBBox(),d=Math.max(h.width,i.width);return u.attr("x2",d+3*we().state.padding),t.insert("rect",":first-child").attr("x",we().state.padding).attr("y",we().state.padding).attr("width",d+2*we().state.padding).attr("height",h.height+a+2*we().state.padding).attr("rx",we().state.radius),t},"drawDescrState"),_He=b((t,e,r)=>{const n=we().state.padding,i=2*we().state.padding,a=t.node().getBBox(),s=a.width,o=a.x,l=t.append("text").attr("x",0).attr("y",we().state.titleShift).attr("font-size",we().state.fontSize).attr("class","state-title").text(e.id),h=l.node().getBBox().width+i;let d=Math.max(h,s);d===s&&(d=d+i);let p;const f=t.node().getBBox();e.doc,p=o-n,h>s&&(p=(s-d)/2+n),Math.abs(o-f.x)<n&&h>s&&(p=o-(h-s)/2);const g=1-we().state.textHeight;return t.insert("rect",":first-child").attr("x",p).attr("y",g).attr("class",r?"alt-composit":"composit").attr("width",d).attr("height",f.height+we().state.textHeight+we().state.titleShift+1).attr("rx","0"),l.attr("x",p+n),h<=s&&l.attr("x",o+(d-i)/2-h/2+n),t.insert("rect",":first-child").attr("x",p).attr("y",we().state.titleShift-we().state.textHeight-we().state.padding).attr("width",d).attr("height",we().state.textHeight*3).attr("rx",we().state.radius),t.insert("rect",":first-child").attr("x",p).attr("y",we().state.titleShift-we().state.textHeight-we().state.padding).attr("width",d).attr("height",f.height+3+2*we().state.textHeight).attr("rx",we().state.radius),t},"addTitleAndBox"),LHe=b(t=>(t.append("circle").attr("class","end-state-outer").attr("r",we().state.sizeUnit+we().state.miniPadding).attr("cx",we().state.padding+we().state.sizeUnit+we().state.miniPadding).attr("cy",we().state.padding+we().state.sizeUnit+we().state.miniPadding),t.append("circle").attr("class","end-state-inner").attr("r",we().state.sizeUnit).attr("cx",we().state.padding+we().state.sizeUnit+2).attr("cy",we().state.padding+we().state.sizeUnit+2)),"drawEndState"),NHe=b((t,e)=>{let r=we().state.forkWidth,n=we().state.forkHeight;if(e.parentId){let i=r;r=n,n=i}return t.append("rect").style("stroke","black").style("fill","black").attr("width",r).attr("height",n).attr("x",we().state.padding).attr("y",we().state.padding)},"drawForkJoinState"),RHe=b((t,e,r,n)=>{let i=0;const a=n.append("text");a.style("text-anchor","start"),a.attr("class","noteText");let s=t.replace(/\r\n/g,"<br/>");s=s.replace(/\n/g,"<br/>");const o=s.split(et.lineBreakRegex);let l=1.25*we().state.noteMargin;for(const u of o){const h=u.trim();if(h.length>0){const d=a.append("tspan");if(d.text(h),l===0){const p=d.node().getBBox();l+=p.height}i+=l,d.attr("x",e+we().state.noteMargin),d.attr("y",r+i+1.25*we().state.noteMargin)}}return{textWidth:a.node().getBBox().width,textHeight:i}},"_drawLongText"),MHe=b((t,e)=>{e.attr("class","state-note");const r=e.append("rect").attr("x",0).attr("y",we().state.padding),n=e.append("g"),{textWidth:i,textHeight:a}=RHe(t,0,0,n);return r.attr("height",a+2*we().state.noteMargin),r.attr("width",i+we().state.noteMargin*2),r},"drawNote"),PB=b(function(t,e){const r=e.id,n={id:r,label:e.id,width:0,height:0},i=t.append("g").attr("id",r).attr("class","stateGroup");e.type==="start"&&EHe(i),e.type==="end"&&LHe(i),(e.type==="fork"||e.type==="join")&&NHe(i,e),e.type==="note"&&MHe(e.note.text,i),e.type==="divider"&&SHe(i),e.type==="default"&&e.descriptions.length===0&&CHe(i,e),e.type==="default"&&e.descriptions.length>0&&AHe(i,e);const a=i.node().getBBox();return n.width=a.width+2*we().state.padding,n.height=a.height+2*we().state.padding,THe.set(r,n),n},"drawState"),FB=0,IHe=b(function(t,e,r){const n=b(function(l){switch(l){case cc.relationType.AGGREGATION:return"aggregation";case cc.relationType.EXTENSION:return"extension";case cc.relationType.COMPOSITION:return"composition";case cc.relationType.DEPENDENCY:return"dependency"}},"getRelationType");e.points=e.points.filter(l=>!Number.isNaN(l.y));const i=e.points,a=Xu().x(function(l){return l.x}).y(function(l){return l.y}).curve(Tg),s=t.append("path").attr("d",a(i)).attr("id","edge"+FB).attr("class","transition");let o="";if(we().state.arrowMarkerAbsolute&&(o=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,o=o.replace(/\(/g,"\\("),o=o.replace(/\)/g,"\\)")),s.attr("marker-end","url("+o+"#"+n(cc.relationType.DEPENDENCY)+"End)"),r.title!==void 0){const l=t.append("g").attr("class","stateLabel"),{x:u,y:h}=Jt.calcLabelPosition(e.points),d=et.getRows(r.title);let p=0;const f=[];let g=0,m=0;for(let x=0;x<=d.length;x++){const w=l.append("text").attr("text-anchor","middle").text(d[x]).attr("x",u).attr("y",h+p),k=w.node().getBBox();g=Math.max(g,k.width),m=Math.min(m,k.x),q.info(k.x,u,h+p),p===0&&(p=w.node().getBBox().height,q.info("Title height",p,h)),f.push(w)}let y=p*d.length;if(d.length>1){const x=(d.length-1)*p*.5;f.forEach((w,k)=>w.attr("y",h+k*p-x)),y=p*d.length}const v=l.node().getBBox();l.insert("rect",":first-child").attr("class","box").attr("x",u-g/2-we().state.padding/2).attr("y",h-y/2-we().state.padding/2-3.5).attr("width",g+we().state.padding).attr("height",y+we().state.padding),q.info(v)}FB++},"drawEdge"),Ts,pE={},DHe=b(function(){},"setConf"),OHe=b(function(t){t.append("defs").append("marker").attr("id","dependencyEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 19,7 L9,13 L14,7 L9,1 Z")},"insertMarkers"),PHe=b(function(t,e,r,n){Ts=we().state;const i=we().securityLevel;let a;i==="sandbox"&&(a=Ke("#i"+e));const s=Ke(i==="sandbox"?a.nodes()[0].contentDocument.body:"body"),o=i==="sandbox"?a.nodes()[0].contentDocument:document;q.debug("Rendering diagram "+t);const l=s.select(`[id='${e}']`);OHe(l);const u=n.db.getRootDoc();vie(u,l,void 0,!1,s,o,n);const h=Ts.padding,d=l.node().getBBox(),p=d.width+h*2,f=d.height+h*2,g=p*1.75;Ki(l,f,g,Ts.useMaxWidth),l.attr("viewBox",`${d.x-Ts.padding}  ${d.y-Ts.padding} `+p+" "+f)},"draw"),FHe=b(t=>t?t.length*Ts.fontSizeFactor:1,"getLabelWidth"),vie=b((t,e,r,n,i,a,s)=>{const o=new bi({compound:!0,multigraph:!0});let l,u=!0;for(l=0;l<t.length;l++)if(t[l].stmt==="relation"){u=!1;break}r?o.setGraph({rankdir:"LR",multigraph:!0,compound:!0,ranker:"tight-tree",ranksep:u?1:Ts.edgeLengthFactor,nodeSep:u?1:50,isMultiGraph:!0}):o.setGraph({rankdir:"TB",multigraph:!0,compound:!0,ranksep:u?1:Ts.edgeLengthFactor,nodeSep:u?1:50,ranker:"tight-tree",isMultiGraph:!0}),o.setDefaultEdgeLabel(function(){return{}}),s.db.extract(t);const h=s.db.getStates(),d=s.db.getRelations(),p=Object.keys(h);for(const v of p){const x=h[v];r&&(x.parentId=r);let w;if(x.doc){let k=e.append("g").attr("id",x.id).attr("class","stateGroup");w=vie(x.doc,k,x.id,!n,i,a,s);{k=_He(k,x,n);let E=k.node().getBBox();w.width=E.width,w.height=E.height+Ts.padding/2,pE[x.id]={y:Ts.compositTitleSize}}}else w=PB(e,x,o);if(x.note){const k={descriptions:[],id:x.id+"-note",note:x.note,type:"note"},E=PB(e,k,o);x.note.position==="left of"?(o.setNode(w.id+"-note",E),o.setNode(w.id,w)):(o.setNode(w.id,w),o.setNode(w.id+"-note",E)),o.setParent(w.id,w.id+"-group"),o.setParent(w.id+"-note",w.id+"-group")}else o.setNode(w.id,w)}q.debug("Count=",o.nodeCount(),o);let f=0;d.forEach(function(v){f++,q.debug("Setting edge",v),o.setEdge(v.id1,v.id2,{relation:v,width:FHe(v.title),height:Ts.labelHeight*et.getRows(v.title).length,labelpos:"c"},"id"+f)}),Fg(o),q.debug("Graph after layout",o.nodes());const g=e.node();o.nodes().forEach(function(v){v!==void 0&&o.node(v)!==void 0?(q.warn("Node "+v+": "+JSON.stringify(o.node(v))),i.select("#"+g.id+" #"+v).attr("transform","translate("+(o.node(v).x-o.node(v).width/2)+","+(o.node(v).y+(pE[v]?pE[v].y:0)-o.node(v).height/2)+" )"),i.select("#"+g.id+" #"+v).attr("data-x-shift",o.node(v).x-o.node(v).width/2),a.querySelectorAll("#"+g.id+" #"+v+" .divider").forEach(w=>{const k=w.parentElement;let E=0,_=0;k&&(k.parentElement&&(E=k.parentElement.getBBox().width),_=parseInt(k.getAttribute("data-x-shift"),10),Number.isNaN(_)&&(_=0)),w.setAttribute("x1",0-_+8),w.setAttribute("x2",E-_-8)})):q.debug("No Node "+v+": "+JSON.stringify(o.node(v)))});let m=g.getBBox();o.edges().forEach(function(v){v!==void 0&&o.edge(v)!==void 0&&(q.debug("Edge "+v.v+" -> "+v.w+": "+JSON.stringify(o.edge(v))),IHe(e,o.edge(v),o.edge(v).relation))}),m=g.getBBox();const y={id:r||"root",label:r||"root",width:0,height:0};return y.width=m.width+2*Ts.padding,y.height=m.height+2*Ts.padding,q.debug("Doc rendered",y,o),y},"renderDoc"),BHe={setConf:DHe,draw:PHe},$He={parser:Gne,db:cc,renderer:BHe,styles:gie,init:b(t=>{t.state||(t.state={}),t.state.arrowMarkerAbsolute=t.arrowMarkerAbsolute,cc.clear()},"init")};const zHe=Object.freeze(Object.defineProperty({__proto__:null,diagram:$He},Symbol.toStringTag,{value:"Module"}));var UHe={parser:Gne,db:cc,renderer:ZGe,styles:gie,init:b(t=>{t.state||(t.state={}),t.state.arrowMarkerAbsolute=t.arrowMarkerAbsolute,cc.clear()},"init")};const VHe=Object.freeze(Object.defineProperty({__proto__:null,diagram:UHe},Symbol.toStringTag,{value:"Module"}));var d8=function(){var t=b(function(d,p,f,g){for(f=f||{},g=d.length;g--;f[d[g]]=p);return f},"o"),e=[6,8,10,11,12,14,16,17,18],r=[1,9],n=[1,10],i=[1,11],a=[1,12],s=[1,13],o=[1,14],l={trace:b(function(){},"trace"),yy:{},symbols_:{error:2,start:3,journey:4,document:5,EOF:6,line:7,SPACE:8,statement:9,NEWLINE:10,title:11,acc_title:12,acc_title_value:13,acc_descr:14,acc_descr_value:15,acc_descr_multiline_value:16,section:17,taskName:18,taskData:19,$accept:0,$end:1},terminals_:{2:"error",4:"journey",6:"EOF",8:"SPACE",10:"NEWLINE",11:"title",12:"acc_title",13:"acc_title_value",14:"acc_descr",15:"acc_descr_value",16:"acc_descr_multiline_value",17:"section",18:"taskName",19:"taskData"},productions_:[0,[3,3],[5,0],[5,2],[7,2],[7,1],[7,1],[7,1],[9,1],[9,2],[9,2],[9,1],[9,1],[9,2]],performAction:b(function(p,f,g,m,y,v,x){var w=v.length-1;switch(y){case 1:return v[w-1];case 2:this.$=[];break;case 3:v[w-1].push(v[w]),this.$=v[w-1];break;case 4:case 5:this.$=v[w];break;case 6:case 7:this.$=[];break;case 8:m.setDiagramTitle(v[w].substr(6)),this.$=v[w].substr(6);break;case 9:this.$=v[w].trim(),m.setAccTitle(this.$);break;case 10:case 11:this.$=v[w].trim(),m.setAccDescription(this.$);break;case 12:m.addSection(v[w].substr(8)),this.$=v[w].substr(8);break;case 13:m.addTask(v[w-1],v[w]),this.$="task";break}},"anonymous"),table:[{3:1,4:[1,2]},{1:[3]},t(e,[2,2],{5:3}),{6:[1,4],7:5,8:[1,6],9:7,10:[1,8],11:r,12:n,14:i,16:a,17:s,18:o},t(e,[2,7],{1:[2,1]}),t(e,[2,3]),{9:15,11:r,12:n,14:i,16:a,17:s,18:o},t(e,[2,5]),t(e,[2,6]),t(e,[2,8]),{13:[1,16]},{15:[1,17]},t(e,[2,11]),t(e,[2,12]),{19:[1,18]},t(e,[2,4]),t(e,[2,9]),t(e,[2,10]),t(e,[2,13])],defaultActions:{},parseError:b(function(p,f){if(f.recoverable)this.trace(p);else{var g=new Error(p);throw g.hash=f,g}},"parseError"),parse:b(function(p){var f=this,g=[0],m=[],y=[null],v=[],x=this.table,w="",k=0,E=0,_=2,S=1,R=v.slice.call(arguments,1),C=Object.create(this.lexer),L={yy:{}};for(var A in this.yy)Object.prototype.hasOwnProperty.call(this.yy,A)&&(L.yy[A]=this.yy[A]);C.setInput(p,L.yy),L.yy.lexer=C,L.yy.parser=this,typeof C.yylloc>"u"&&(C.yylloc={});var N=C.yylloc;v.push(N);var F=C.options&&C.options.ranges;typeof L.yy.parseError=="function"?this.parseError=L.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function T(H){g.length=g.length-2*H,y.length=y.length-H,v.length=v.length-H}b(T,"popStack");function D(){var H;return H=m.pop()||C.lex()||S,typeof H!="number"&&(H instanceof Array&&(m=H,H=m.pop()),H=f.symbols_[H]||H),H}b(D,"lex");for(var M,O,I,P,B={},$,V,W,K;;){if(O=g[g.length-1],this.defaultActions[O]?I=this.defaultActions[O]:((M===null||typeof M>"u")&&(M=D()),I=x[O]&&x[O][M]),typeof I>"u"||!I.length||!I[0]){var Z="";K=[];for($ in x[O])this.terminals_[$]&&$>_&&K.push("'"+this.terminals_[$]+"'");C.showPosition?Z="Parse error on line "+(k+1)+`:
`+C.showPosition()+`
Expecting `+K.join(", ")+", got '"+(this.terminals_[M]||M)+"'":Z="Parse error on line "+(k+1)+": Unexpected "+(M==S?"end of input":"'"+(this.terminals_[M]||M)+"'"),this.parseError(Z,{text:C.match,token:this.terminals_[M]||M,line:C.yylineno,loc:N,expected:K})}if(I[0]instanceof Array&&I.length>1)throw new Error("Parse Error: multiple actions possible at state: "+O+", token: "+M);switch(I[0]){case 1:g.push(M),y.push(C.yytext),v.push(C.yylloc),g.push(I[1]),M=null,E=C.yyleng,w=C.yytext,k=C.yylineno,N=C.yylloc;break;case 2:if(V=this.productions_[I[1]][1],B.$=y[y.length-V],B._$={first_line:v[v.length-(V||1)].first_line,last_line:v[v.length-1].last_line,first_column:v[v.length-(V||1)].first_column,last_column:v[v.length-1].last_column},F&&(B._$.range=[v[v.length-(V||1)].range[0],v[v.length-1].range[1]]),P=this.performAction.apply(B,[w,E,k,L.yy,I[1],y,v].concat(R)),typeof P<"u")return P;V&&(g=g.slice(0,-1*V*2),y=y.slice(0,-1*V),v=v.slice(0,-1*V)),g.push(this.productions_[I[1]][0]),y.push(B.$),v.push(B._$),W=x[g[g.length-2]][g[g.length-1]],g.push(W);break;case 3:return!0}}return!0},"parse")},u=function(){var d={EOF:1,parseError:b(function(f,g){if(this.yy.parser)this.yy.parser.parseError(f,g);else throw new Error(f)},"parseError"),setInput:b(function(p,f){return this.yy=f||this.yy||{},this._input=p,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},"setInput"),input:b(function(){var p=this._input[0];this.yytext+=p,this.yyleng++,this.offset++,this.match+=p,this.matched+=p;var f=p.match(/(?:\r\n?|\n).*/g);return f?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),p},"input"),unput:b(function(p){var f=p.length,g=p.split(/(?:\r\n?|\n)/g);this._input=p+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-f),this.offset-=f;var m=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),g.length-1&&(this.yylineno-=g.length-1);var y=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:g?(g.length===m.length?this.yylloc.first_column:0)+m[m.length-g.length].length-g[0].length:this.yylloc.first_column-f},this.options.ranges&&(this.yylloc.range=[y[0],y[0]+this.yyleng-f]),this.yyleng=this.yytext.length,this},"unput"),more:b(function(){return this._more=!0,this},"more"),reject:b(function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},"reject"),less:b(function(p){this.unput(this.match.slice(p))},"less"),pastInput:b(function(){var p=this.matched.substr(0,this.matched.length-this.match.length);return(p.length>20?"...":"")+p.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:b(function(){var p=this.match;return p.length<20&&(p+=this._input.substr(0,20-p.length)),(p.substr(0,20)+(p.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:b(function(){var p=this.pastInput(),f=new Array(p.length+1).join("-");return p+this.upcomingInput()+`
`+f+"^"},"showPosition"),test_match:b(function(p,f){var g,m,y;if(this.options.backtrack_lexer&&(y={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(y.yylloc.range=this.yylloc.range.slice(0))),m=p[0].match(/(?:\r\n?|\n).*/g),m&&(this.yylineno+=m.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:m?m[m.length-1].length-m[m.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+p[0].length},this.yytext+=p[0],this.match+=p[0],this.matches=p,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(p[0].length),this.matched+=p[0],g=this.performAction.call(this,this.yy,this,f,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),g)return g;if(this._backtrack){for(var v in y)this[v]=y[v];return!1}return!1},"test_match"),next:b(function(){if(this.done)return this.EOF;this._input||(this.done=!0);var p,f,g,m;this._more||(this.yytext="",this.match="");for(var y=this._currentRules(),v=0;v<y.length;v++)if(g=this._input.match(this.rules[y[v]]),g&&(!f||g[0].length>f[0].length)){if(f=g,m=v,this.options.backtrack_lexer){if(p=this.test_match(g,y[v]),p!==!1)return p;if(this._backtrack){f=!1;continue}else return!1}else if(!this.options.flex)break}return f?(p=this.test_match(f,y[m]),p!==!1?p:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:b(function(){var f=this.next();return f||this.lex()},"lex"),begin:b(function(f){this.conditionStack.push(f)},"begin"),popState:b(function(){var f=this.conditionStack.length-1;return f>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:b(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:b(function(f){return f=this.conditionStack.length-1-Math.abs(f||0),f>=0?this.conditionStack[f]:"INITIAL"},"topState"),pushState:b(function(f){this.begin(f)},"pushState"),stateStackSize:b(function(){return this.conditionStack.length},"stateStackSize"),options:{"case-insensitive":!0},performAction:b(function(f,g,m,y){switch(m){case 0:break;case 1:break;case 2:return 10;case 3:break;case 4:break;case 5:return 4;case 6:return 11;case 7:return this.begin("acc_title"),12;case 8:return this.popState(),"acc_title_value";case 9:return this.begin("acc_descr"),14;case 10:return this.popState(),"acc_descr_value";case 11:this.begin("acc_descr_multiline");break;case 12:this.popState();break;case 13:return"acc_descr_multiline_value";case 14:return 17;case 15:return 18;case 16:return 19;case 17:return":";case 18:return 6;case 19:return"INVALID"}},"anonymous"),rules:[/^(?:%(?!\{)[^\n]*)/i,/^(?:[^\}]%%[^\n]*)/i,/^(?:[\n]+)/i,/^(?:\s+)/i,/^(?:#[^\n]*)/i,/^(?:journey\b)/i,/^(?:title\s[^#\n;]+)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:section\s[^#:\n;]+)/i,/^(?:[^#:\n;]+)/i,/^(?::[^#\n;]+)/i,/^(?::)/i,/^(?:$)/i,/^(?:.)/i],conditions:{acc_descr_multiline:{rules:[12,13],inclusive:!1},acc_descr:{rules:[10],inclusive:!1},acc_title:{rules:[8],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,5,6,7,9,11,14,15,16,17,18,19],inclusive:!0}}};return d}();l.lexer=u;function h(){this.yy={}}return b(h,"Parser"),h.prototype=l,l.Parser=h,new h}();d8.parser=d8;var GHe=d8,hg="",uN=[],qv=[],jv=[],HHe=b(function(){uN.length=0,qv.length=0,hg="",jv.length=0,Ni()},"clear"),WHe=b(function(t){hg=t,uN.push(t)},"addSection"),YHe=b(function(){return uN},"getSections"),qHe=b(function(){let t=BB();const e=100;let r=0;for(;!t&&r<e;)t=BB(),r++;return qv.push(...jv),qv},"getTasks"),jHe=b(function(){const t=[];return qv.forEach(r=>{r.people&&t.push(...r.people)}),[...new Set(t)].sort()},"updateActors"),XHe=b(function(t,e){const r=e.substr(1).split(":");let n=0,i=[];r.length===1?(n=Number(r[0]),i=[]):(n=Number(r[0]),i=r[1].split(","));const a=i.map(o=>o.trim()),s={section:hg,type:hg,people:a,task:t,score:n};jv.push(s)},"addTask"),KHe=b(function(t){const e={section:hg,type:hg,description:t,task:t,classes:[]};qv.push(e)},"addTaskOrg"),BB=b(function(){const t=b(function(r){return jv[r].processed},"compileTask");let e=!0;for(const[r,n]of jv.entries())t(r),e=e&&n.processed;return e},"compileTasks"),QHe=b(function(){return jHe()},"getActors"),$B={getConfig:b(()=>we().journey,"getConfig"),clear:HHe,setDiagramTitle:za,getDiagramTitle:ea,setAccTitle:Ri,getAccTitle:Qi,setAccDescription:Zi,getAccDescription:Ji,addSection:WHe,getSections:YHe,getTasks:qHe,addTask:XHe,addTaskOrg:KHe,getActors:QHe},ZHe=b(t=>`.label {
    font-family: 'trebuchet ms', verdana, arial, sans-serif;
    font-family: var(--mermaid-font-family);
    color: ${t.textColor};
  }
  .mouth {
    stroke: #666;
  }

  line {
    stroke: ${t.textColor}
  }

  .legend {
    fill: ${t.textColor};
  }

  .label text {
    fill: #333;
  }
  .label {
    color: ${t.textColor}
  }

  .face {
    ${t.faceColor?`fill: ${t.faceColor}`:"fill: #FFF8DC"};
    stroke: #999;
  }

  .node rect,
  .node circle,
  .node ellipse,
  .node polygon,
  .node path {
    fill: ${t.mainBkg};
    stroke: ${t.nodeBorder};
    stroke-width: 1px;
  }

  .node .label {
    text-align: center;
  }
  .node.clickable {
    cursor: pointer;
  }

  .arrowheadPath {
    fill: ${t.arrowheadColor};
  }

  .edgePath .path {
    stroke: ${t.lineColor};
    stroke-width: 1.5px;
  }

  .flowchart-link {
    stroke: ${t.lineColor};
    fill: none;
  }

  .edgeLabel {
    background-color: ${t.edgeLabelBackground};
    rect {
      opacity: 0.5;
    }
    text-align: center;
  }

  .cluster rect {
  }

  .cluster text {
    fill: ${t.titleColor};
  }

  div.mermaidTooltip {
    position: absolute;
    text-align: center;
    max-width: 200px;
    padding: 2px;
    font-family: 'trebuchet ms', verdana, arial, sans-serif;
    font-family: var(--mermaid-font-family);
    font-size: 12px;
    background: ${t.tertiaryColor};
    border: 1px solid ${t.border2};
    border-radius: 2px;
    pointer-events: none;
    z-index: 100;
  }

  .task-type-0, .section-type-0  {
    ${t.fillType0?`fill: ${t.fillType0}`:""};
  }
  .task-type-1, .section-type-1  {
    ${t.fillType0?`fill: ${t.fillType1}`:""};
  }
  .task-type-2, .section-type-2  {
    ${t.fillType0?`fill: ${t.fillType2}`:""};
  }
  .task-type-3, .section-type-3  {
    ${t.fillType0?`fill: ${t.fillType3}`:""};
  }
  .task-type-4, .section-type-4  {
    ${t.fillType0?`fill: ${t.fillType4}`:""};
  }
  .task-type-5, .section-type-5  {
    ${t.fillType0?`fill: ${t.fillType5}`:""};
  }
  .task-type-6, .section-type-6  {
    ${t.fillType0?`fill: ${t.fillType6}`:""};
  }
  .task-type-7, .section-type-7  {
    ${t.fillType0?`fill: ${t.fillType7}`:""};
  }

  .actor-0 {
    ${t.actor0?`fill: ${t.actor0}`:""};
  }
  .actor-1 {
    ${t.actor1?`fill: ${t.actor1}`:""};
  }
  .actor-2 {
    ${t.actor2?`fill: ${t.actor2}`:""};
  }
  .actor-3 {
    ${t.actor3?`fill: ${t.actor3}`:""};
  }
  .actor-4 {
    ${t.actor4?`fill: ${t.actor4}`:""};
  }
  .actor-5 {
    ${t.actor5?`fill: ${t.actor5}`:""};
  }
`,"getStyles"),JHe=ZHe,hN=b(function(t,e){return Xw(t,e)},"drawRect"),eWe=b(function(t,e){const n=t.append("circle").attr("cx",e.cx).attr("cy",e.cy).attr("class","face").attr("r",15).attr("stroke-width",2).attr("overflow","visible"),i=t.append("g");i.append("circle").attr("cx",e.cx-15/3).attr("cy",e.cy-15/3).attr("r",1.5).attr("stroke-width",2).attr("fill","#666").attr("stroke","#666"),i.append("circle").attr("cx",e.cx+15/3).attr("cy",e.cy-15/3).attr("r",1.5).attr("stroke-width",2).attr("fill","#666").attr("stroke","#666");function a(l){const u=Vp().startAngle(Math.PI/2).endAngle(3*(Math.PI/2)).innerRadius(7.5).outerRadius(6.8181818181818175);l.append("path").attr("class","mouth").attr("d",u).attr("transform","translate("+e.cx+","+(e.cy+2)+")")}b(a,"smile");function s(l){const u=Vp().startAngle(3*Math.PI/2).endAngle(5*(Math.PI/2)).innerRadius(7.5).outerRadius(6.8181818181818175);l.append("path").attr("class","mouth").attr("d",u).attr("transform","translate("+e.cx+","+(e.cy+7)+")")}b(s,"sad");function o(l){l.append("line").attr("class","mouth").attr("stroke",2).attr("x1",e.cx-5).attr("y1",e.cy+7).attr("x2",e.cx+5).attr("y2",e.cy+7).attr("class","mouth").attr("stroke-width","1px").attr("stroke","#666")}return b(o,"ambivalent"),e.score>3?a(i):e.score<3?s(i):o(i),n},"drawFace"),yie=b(function(t,e){const r=t.append("circle");return r.attr("cx",e.cx),r.attr("cy",e.cy),r.attr("class","actor-"+e.pos),r.attr("fill",e.fill),r.attr("stroke",e.stroke),r.attr("r",e.r),r.class!==void 0&&r.attr("class",r.class),e.title!==void 0&&r.append("title").text(e.title),r},"drawCircle"),xie=b(function(t,e){return k9e(t,e)},"drawText"),tWe=b(function(t,e){function r(i,a,s,o,l){return i+","+a+" "+(i+s)+","+a+" "+(i+s)+","+(a+o-l)+" "+(i+s-l*1.2)+","+(a+o)+" "+i+","+(a+o)}b(r,"genPoints");const n=t.append("polygon");n.attr("points",r(e.x,e.y,50,20,7)),n.attr("class","labelBox"),e.y=e.y+e.labelMargin,e.x=e.x+.5*e.labelMargin,xie(t,e)},"drawLabel"),rWe=b(function(t,e,r){const n=t.append("g"),i=bf();i.x=e.x,i.y=e.y,i.fill=e.fill,i.width=r.width*e.taskCount+r.diagramMarginX*(e.taskCount-1),i.height=r.height,i.class="journey-section section-type-"+e.num,i.rx=3,i.ry=3,hN(n,i),bie(r)(e.text,n,i.x,i.y,i.width,i.height,{class:"journey-section section-type-"+e.num},r,e.colour)},"drawSection"),zB=-1,nWe=b(function(t,e,r){const n=e.x+r.width/2,i=t.append("g");zB++;const a=300+5*30;i.append("line").attr("id","task"+zB).attr("x1",n).attr("y1",e.y).attr("x2",n).attr("y2",a).attr("class","task-line").attr("stroke-width","1px").attr("stroke-dasharray","4 2").attr("stroke","#666"),eWe(i,{cx:n,cy:300+(5-e.score)*30,score:e.score});const s=bf();s.x=e.x,s.y=e.y,s.fill=e.fill,s.width=r.width,s.height=r.height,s.class="task task-type-"+e.num,s.rx=3,s.ry=3,hN(i,s);let o=e.x+14;e.people.forEach(l=>{const u=e.actors[l].color,h={cx:o,cy:e.y,r:7,fill:u,stroke:"#000",title:l,pos:e.actors[l].position};yie(i,h),o+=10}),bie(r)(e.task,i,s.x,s.y,s.width,s.height,{class:"task"},r,e.colour)},"drawTask"),iWe=b(function(t,e){nJ(t,e)},"drawBackgroundRect"),bie=function(){function t(i,a,s,o,l,u,h,d){const p=a.append("text").attr("x",s+l/2).attr("y",o+u/2+5).style("font-color",d).style("text-anchor","middle").text(i);n(p,h)}b(t,"byText");function e(i,a,s,o,l,u,h,d,p){const{taskFontSize:f,taskFontFamily:g}=d,m=i.split(/<br\s*\/?>/gi);for(let y=0;y<m.length;y++){const v=y*f-f*(m.length-1)/2,x=a.append("text").attr("x",s+l/2).attr("y",o).attr("fill",p).style("text-anchor","middle").style("font-size",f).style("font-family",g);x.append("tspan").attr("x",s+l/2).attr("dy",v).text(m[y]),x.attr("y",o+u/2).attr("dominant-baseline","central").attr("alignment-baseline","central"),n(x,h)}}b(e,"byTspan");function r(i,a,s,o,l,u,h,d){const p=a.append("switch"),g=p.append("foreignObject").attr("x",s).attr("y",o).attr("width",l).attr("height",u).attr("position","fixed").append("xhtml:div").style("display","table").style("height","100%").style("width","100%");g.append("div").attr("class","label").style("display","table-cell").style("text-align","center").style("vertical-align","middle").text(i),e(i,p,s,o,l,u,h,d),n(g,h)}b(r,"byFo");function n(i,a){for(const s in a)s in a&&i.attr(s,a[s])}return b(n,"_setTextAttrs"),function(i){return i.textPlacement==="fo"?r:i.textPlacement==="old"?t:e}}(),aWe=b(function(t){t.append("defs").append("marker").attr("id","arrowhead").attr("refX",5).attr("refY",2).attr("markerWidth",6).attr("markerHeight",4).attr("orient","auto").append("path").attr("d","M 0,0 V 4 L6,2 Z")},"initGraphics"),Xv={drawRect:hN,drawCircle:yie,drawSection:rWe,drawText:xie,drawLabel:tWe,drawTask:nWe,drawBackgroundRect:iWe,initGraphics:aWe},sWe=b(function(t){Object.keys(t).forEach(function(r){k6[r]=t[r]})},"setConf"),mc={};function wie(t){const e=we().journey;let r=60;Object.keys(mc).forEach(n=>{const i=mc[n].color,a={cx:20,cy:r,r:7,fill:i,stroke:"#000",pos:mc[n].position};Xv.drawCircle(t,a);const s={x:40,y:r+7,fill:"#666",text:n,textMargin:e.boxTextMargin|5};Xv.drawText(t,s),r+=20})}b(wie,"drawActorLegend");var k6=we().journey,Kh=k6.leftMargin,oWe=b(function(t,e,r,n){const i=we().journey,a=we().securityLevel;let s;a==="sandbox"&&(s=Ke("#i"+e));const o=Ke(a==="sandbox"?s.nodes()[0].contentDocument.body:"body");qs.init();const l=o.select("#"+e);Xv.initGraphics(l);const u=n.db.getTasks(),h=n.db.getDiagramTitle(),d=n.db.getActors();for(const v in mc)delete mc[v];let p=0;d.forEach(v=>{mc[v]={color:i.actorColours[p%i.actorColours.length],position:p},p++}),wie(l),qs.insert(0,0,Kh,Object.keys(mc).length*50),lWe(l,u,0);const f=qs.getBounds();h&&l.append("text").text(h).attr("x",Kh).attr("font-size","4ex").attr("font-weight","bold").attr("y",25);const g=f.stopy-f.starty+2*i.diagramMarginY,m=Kh+f.stopx+2*i.diagramMarginX;Ki(l,g,m,i.useMaxWidth),l.append("line").attr("x1",Kh).attr("y1",i.height*4).attr("x2",m-Kh-4).attr("y2",i.height*4).attr("stroke-width",4).attr("stroke","black").attr("marker-end","url(#arrowhead)");const y=h?70:0;l.attr("viewBox",`${f.startx} -25 ${m} ${g+y}`),l.attr("preserveAspectRatio","xMinYMin meet"),l.attr("height",g+y+25)},"draw"),qs={data:{startx:void 0,stopx:void 0,starty:void 0,stopy:void 0},verticalPos:0,sequenceItems:[],init:b(function(){this.sequenceItems=[],this.data={startx:void 0,stopx:void 0,starty:void 0,stopy:void 0},this.verticalPos=0},"init"),updateVal:b(function(t,e,r,n){t[e]===void 0?t[e]=r:t[e]=n(r,t[e])},"updateVal"),updateBounds:b(function(t,e,r,n){const i=we().journey,a=this;let s=0;function o(l){return b(function(h){s++;const d=a.sequenceItems.length-s+1;a.updateVal(h,"starty",e-d*i.boxMargin,Math.min),a.updateVal(h,"stopy",n+d*i.boxMargin,Math.max),a.updateVal(qs.data,"startx",t-d*i.boxMargin,Math.min),a.updateVal(qs.data,"stopx",r+d*i.boxMargin,Math.max),l!=="activation"&&(a.updateVal(h,"startx",t-d*i.boxMargin,Math.min),a.updateVal(h,"stopx",r+d*i.boxMargin,Math.max),a.updateVal(qs.data,"starty",e-d*i.boxMargin,Math.min),a.updateVal(qs.data,"stopy",n+d*i.boxMargin,Math.max))},"updateItemBounds")}b(o,"updateFn"),this.sequenceItems.forEach(o())},"updateBounds"),insert:b(function(t,e,r,n){const i=Math.min(t,r),a=Math.max(t,r),s=Math.min(e,n),o=Math.max(e,n);this.updateVal(qs.data,"startx",i,Math.min),this.updateVal(qs.data,"starty",s,Math.min),this.updateVal(qs.data,"stopx",a,Math.max),this.updateVal(qs.data,"stopy",o,Math.max),this.updateBounds(i,s,a,o)},"insert"),bumpVerticalPos:b(function(t){this.verticalPos=this.verticalPos+t,this.data.stopy=this.verticalPos},"bumpVerticalPos"),getVerticalPos:b(function(){return this.verticalPos},"getVerticalPos"),getBounds:b(function(){return this.data},"getBounds")},gE=k6.sectionFills,UB=k6.sectionColours,lWe=b(function(t,e,r){const n=we().journey;let i="";const a=n.height*2+n.diagramMarginY,s=r+a;let o=0,l="#CCC",u="black",h=0;for(const[d,p]of e.entries()){if(i!==p.section){l=gE[o%gE.length],h=o%gE.length,u=UB[o%UB.length];let g=0;const m=p.section;for(let v=d;v<e.length&&e[v].section==m;v++)g=g+1;const y={x:d*n.taskMargin+d*n.width+Kh,y:50,text:p.section,fill:l,num:h,colour:u,taskCount:g};Xv.drawSection(t,y,n),i=p.section,o++}const f=p.people.reduce((g,m)=>(mc[m]&&(g[m]=mc[m]),g),{});p.x=d*n.taskMargin+d*n.width+Kh,p.y=s,p.width=n.diagramMarginX,p.height=n.diagramMarginY,p.colour=u,p.fill=l,p.num=h,p.actors=f,Xv.drawTask(t,p,n),qs.insert(p.x,p.y,p.x+p.width+n.taskMargin,300+5*30)}},"drawTasks"),VB={setConf:sWe,draw:oWe},cWe={parser:GHe,db:$B,renderer:VB,styles:JHe,init:b(t=>{VB.setConf(t.journey),$B.clear()},"init")};const uWe=Object.freeze(Object.defineProperty({__proto__:null,diagram:cWe},Symbol.toStringTag,{value:"Module"}));var f8=function(){var t=b(function(p,f,g,m){for(g=g||{},m=p.length;m--;g[p[m]]=f);return g},"o"),e=[6,8,10,11,12,14,16,17,20,21],r=[1,9],n=[1,10],i=[1,11],a=[1,12],s=[1,13],o=[1,16],l=[1,17],u={trace:b(function(){},"trace"),yy:{},symbols_:{error:2,start:3,timeline:4,document:5,EOF:6,line:7,SPACE:8,statement:9,NEWLINE:10,title:11,acc_title:12,acc_title_value:13,acc_descr:14,acc_descr_value:15,acc_descr_multiline_value:16,section:17,period_statement:18,event_statement:19,period:20,event:21,$accept:0,$end:1},terminals_:{2:"error",4:"timeline",6:"EOF",8:"SPACE",10:"NEWLINE",11:"title",12:"acc_title",13:"acc_title_value",14:"acc_descr",15:"acc_descr_value",16:"acc_descr_multiline_value",17:"section",20:"period",21:"event"},productions_:[0,[3,3],[5,0],[5,2],[7,2],[7,1],[7,1],[7,1],[9,1],[9,2],[9,2],[9,1],[9,1],[9,1],[9,1],[18,1],[19,1]],performAction:b(function(f,g,m,y,v,x,w){var k=x.length-1;switch(v){case 1:return x[k-1];case 2:this.$=[];break;case 3:x[k-1].push(x[k]),this.$=x[k-1];break;case 4:case 5:this.$=x[k];break;case 6:case 7:this.$=[];break;case 8:y.getCommonDb().setDiagramTitle(x[k].substr(6)),this.$=x[k].substr(6);break;case 9:this.$=x[k].trim(),y.getCommonDb().setAccTitle(this.$);break;case 10:case 11:this.$=x[k].trim(),y.getCommonDb().setAccDescription(this.$);break;case 12:y.addSection(x[k].substr(8)),this.$=x[k].substr(8);break;case 15:y.addTask(x[k],0,""),this.$=x[k];break;case 16:y.addEvent(x[k].substr(2)),this.$=x[k];break}},"anonymous"),table:[{3:1,4:[1,2]},{1:[3]},t(e,[2,2],{5:3}),{6:[1,4],7:5,8:[1,6],9:7,10:[1,8],11:r,12:n,14:i,16:a,17:s,18:14,19:15,20:o,21:l},t(e,[2,7],{1:[2,1]}),t(e,[2,3]),{9:18,11:r,12:n,14:i,16:a,17:s,18:14,19:15,20:o,21:l},t(e,[2,5]),t(e,[2,6]),t(e,[2,8]),{13:[1,19]},{15:[1,20]},t(e,[2,11]),t(e,[2,12]),t(e,[2,13]),t(e,[2,14]),t(e,[2,15]),t(e,[2,16]),t(e,[2,4]),t(e,[2,9]),t(e,[2,10])],defaultActions:{},parseError:b(function(f,g){if(g.recoverable)this.trace(f);else{var m=new Error(f);throw m.hash=g,m}},"parseError"),parse:b(function(f){var g=this,m=[0],y=[],v=[null],x=[],w=this.table,k="",E=0,_=0,S=2,R=1,C=x.slice.call(arguments,1),L=Object.create(this.lexer),A={yy:{}};for(var N in this.yy)Object.prototype.hasOwnProperty.call(this.yy,N)&&(A.yy[N]=this.yy[N]);L.setInput(f,A.yy),A.yy.lexer=L,A.yy.parser=this,typeof L.yylloc>"u"&&(L.yylloc={});var F=L.yylloc;x.push(F);var T=L.options&&L.options.ranges;typeof A.yy.parseError=="function"?this.parseError=A.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function D(ee){m.length=m.length-2*ee,v.length=v.length-ee,x.length=x.length-ee}b(D,"popStack");function M(){var ee;return ee=y.pop()||L.lex()||R,typeof ee!="number"&&(ee instanceof Array&&(y=ee,ee=y.pop()),ee=g.symbols_[ee]||ee),ee}b(M,"lex");for(var O,I,P,B,$={},V,W,K,Z;;){if(I=m[m.length-1],this.defaultActions[I]?P=this.defaultActions[I]:((O===null||typeof O>"u")&&(O=M()),P=w[I]&&w[I][O]),typeof P>"u"||!P.length||!P[0]){var H="";Z=[];for(V in w[I])this.terminals_[V]&&V>S&&Z.push("'"+this.terminals_[V]+"'");L.showPosition?H="Parse error on line "+(E+1)+`:
`+L.showPosition()+`
Expecting `+Z.join(", ")+", got '"+(this.terminals_[O]||O)+"'":H="Parse error on line "+(E+1)+": Unexpected "+(O==R?"end of input":"'"+(this.terminals_[O]||O)+"'"),this.parseError(H,{text:L.match,token:this.terminals_[O]||O,line:L.yylineno,loc:F,expected:Z})}if(P[0]instanceof Array&&P.length>1)throw new Error("Parse Error: multiple actions possible at state: "+I+", token: "+O);switch(P[0]){case 1:m.push(O),v.push(L.yytext),x.push(L.yylloc),m.push(P[1]),O=null,_=L.yyleng,k=L.yytext,E=L.yylineno,F=L.yylloc;break;case 2:if(W=this.productions_[P[1]][1],$.$=v[v.length-W],$._$={first_line:x[x.length-(W||1)].first_line,last_line:x[x.length-1].last_line,first_column:x[x.length-(W||1)].first_column,last_column:x[x.length-1].last_column},T&&($._$.range=[x[x.length-(W||1)].range[0],x[x.length-1].range[1]]),B=this.performAction.apply($,[k,_,E,A.yy,P[1],v,x].concat(C)),typeof B<"u")return B;W&&(m=m.slice(0,-1*W*2),v=v.slice(0,-1*W),x=x.slice(0,-1*W)),m.push(this.productions_[P[1]][0]),v.push($.$),x.push($._$),K=w[m[m.length-2]][m[m.length-1]],m.push(K);break;case 3:return!0}}return!0},"parse")},h=function(){var p={EOF:1,parseError:b(function(g,m){if(this.yy.parser)this.yy.parser.parseError(g,m);else throw new Error(g)},"parseError"),setInput:b(function(f,g){return this.yy=g||this.yy||{},this._input=f,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},"setInput"),input:b(function(){var f=this._input[0];this.yytext+=f,this.yyleng++,this.offset++,this.match+=f,this.matched+=f;var g=f.match(/(?:\r\n?|\n).*/g);return g?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),f},"input"),unput:b(function(f){var g=f.length,m=f.split(/(?:\r\n?|\n)/g);this._input=f+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-g),this.offset-=g;var y=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),m.length-1&&(this.yylineno-=m.length-1);var v=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:m?(m.length===y.length?this.yylloc.first_column:0)+y[y.length-m.length].length-m[0].length:this.yylloc.first_column-g},this.options.ranges&&(this.yylloc.range=[v[0],v[0]+this.yyleng-g]),this.yyleng=this.yytext.length,this},"unput"),more:b(function(){return this._more=!0,this},"more"),reject:b(function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},"reject"),less:b(function(f){this.unput(this.match.slice(f))},"less"),pastInput:b(function(){var f=this.matched.substr(0,this.matched.length-this.match.length);return(f.length>20?"...":"")+f.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:b(function(){var f=this.match;return f.length<20&&(f+=this._input.substr(0,20-f.length)),(f.substr(0,20)+(f.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:b(function(){var f=this.pastInput(),g=new Array(f.length+1).join("-");return f+this.upcomingInput()+`
`+g+"^"},"showPosition"),test_match:b(function(f,g){var m,y,v;if(this.options.backtrack_lexer&&(v={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(v.yylloc.range=this.yylloc.range.slice(0))),y=f[0].match(/(?:\r\n?|\n).*/g),y&&(this.yylineno+=y.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:y?y[y.length-1].length-y[y.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+f[0].length},this.yytext+=f[0],this.match+=f[0],this.matches=f,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(f[0].length),this.matched+=f[0],m=this.performAction.call(this,this.yy,this,g,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),m)return m;if(this._backtrack){for(var x in v)this[x]=v[x];return!1}return!1},"test_match"),next:b(function(){if(this.done)return this.EOF;this._input||(this.done=!0);var f,g,m,y;this._more||(this.yytext="",this.match="");for(var v=this._currentRules(),x=0;x<v.length;x++)if(m=this._input.match(this.rules[v[x]]),m&&(!g||m[0].length>g[0].length)){if(g=m,y=x,this.options.backtrack_lexer){if(f=this.test_match(m,v[x]),f!==!1)return f;if(this._backtrack){g=!1;continue}else return!1}else if(!this.options.flex)break}return g?(f=this.test_match(g,v[y]),f!==!1?f:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:b(function(){var g=this.next();return g||this.lex()},"lex"),begin:b(function(g){this.conditionStack.push(g)},"begin"),popState:b(function(){var g=this.conditionStack.length-1;return g>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:b(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:b(function(g){return g=this.conditionStack.length-1-Math.abs(g||0),g>=0?this.conditionStack[g]:"INITIAL"},"topState"),pushState:b(function(g){this.begin(g)},"pushState"),stateStackSize:b(function(){return this.conditionStack.length},"stateStackSize"),options:{"case-insensitive":!0},performAction:b(function(g,m,y,v){switch(y){case 0:break;case 1:break;case 2:return 10;case 3:break;case 4:break;case 5:return 4;case 6:return 11;case 7:return this.begin("acc_title"),12;case 8:return this.popState(),"acc_title_value";case 9:return this.begin("acc_descr"),14;case 10:return this.popState(),"acc_descr_value";case 11:this.begin("acc_descr_multiline");break;case 12:this.popState();break;case 13:return"acc_descr_multiline_value";case 14:return 17;case 15:return 21;case 16:return 20;case 17:return 6;case 18:return"INVALID"}},"anonymous"),rules:[/^(?:%(?!\{)[^\n]*)/i,/^(?:[^\}]%%[^\n]*)/i,/^(?:[\n]+)/i,/^(?:\s+)/i,/^(?:#[^\n]*)/i,/^(?:timeline\b)/i,/^(?:title\s[^\n]+)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:section\s[^:\n]+)/i,/^(?::\s[^:\n]+)/i,/^(?:[^#:\n]+)/i,/^(?:$)/i,/^(?:.)/i],conditions:{acc_descr_multiline:{rules:[12,13],inclusive:!1},acc_descr:{rules:[10],inclusive:!1},acc_title:{rules:[8],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,5,6,7,9,11,14,15,16,17,18],inclusive:!0}}};return p}();u.lexer=h;function d(){this.yy={}}return b(d,"Parser"),d.prototype=u,u.Parser=d,new d}();f8.parser=f8;var hWe=f8,kie={};YV(kie,{addEvent:()=>Nie,addSection:()=>Cie,addTask:()=>Lie,addTaskOrg:()=>Rie,clear:()=>Sie,default:()=>dWe,getCommonDb:()=>Eie,getSections:()=>Aie,getTasks:()=>_ie});var dg="",Tie=0,dN=[],m5=[],fg=[],Eie=b(()=>PA,"getCommonDb"),Sie=b(function(){dN.length=0,m5.length=0,dg="",fg.length=0,Ni()},"clear"),Cie=b(function(t){dg=t,dN.push(t)},"addSection"),Aie=b(function(){return dN},"getSections"),_ie=b(function(){let t=GB();const e=100;let r=0;for(;!t&&r<e;)t=GB(),r++;return m5.push(...fg),m5},"getTasks"),Lie=b(function(t,e,r){const n={id:Tie++,section:dg,type:dg,task:t,score:e||0,events:r?[r]:[]};fg.push(n)},"addTask"),Nie=b(function(t){fg.find(r=>r.id===Tie-1).events.push(t)},"addEvent"),Rie=b(function(t){const e={section:dg,type:dg,description:t,task:t,classes:[]};m5.push(e)},"addTaskOrg"),GB=b(function(){const t=b(function(r){return fg[r].processed},"compileTask");let e=!0;for(const[r,n]of fg.entries())t(r),e=e&&n.processed;return e},"compileTasks"),dWe={clear:Sie,getCommonDb:Eie,addSection:Cie,getSections:Aie,getTasks:_ie,addTask:Lie,addTaskOrg:Rie,addEvent:Nie},fWe=12,T6=b(function(t,e){const r=t.append("rect");return r.attr("x",e.x),r.attr("y",e.y),r.attr("fill",e.fill),r.attr("stroke",e.stroke),r.attr("width",e.width),r.attr("height",e.height),r.attr("rx",e.rx),r.attr("ry",e.ry),e.class!==void 0&&r.attr("class",e.class),r},"drawRect"),pWe=b(function(t,e){const n=t.append("circle").attr("cx",e.cx).attr("cy",e.cy).attr("class","face").attr("r",15).attr("stroke-width",2).attr("overflow","visible"),i=t.append("g");i.append("circle").attr("cx",e.cx-15/3).attr("cy",e.cy-15/3).attr("r",1.5).attr("stroke-width",2).attr("fill","#666").attr("stroke","#666"),i.append("circle").attr("cx",e.cx+15/3).attr("cy",e.cy-15/3).attr("r",1.5).attr("stroke-width",2).attr("fill","#666").attr("stroke","#666");function a(l){const u=Vp().startAngle(Math.PI/2).endAngle(3*(Math.PI/2)).innerRadius(7.5).outerRadius(6.8181818181818175);l.append("path").attr("class","mouth").attr("d",u).attr("transform","translate("+e.cx+","+(e.cy+2)+")")}b(a,"smile");function s(l){const u=Vp().startAngle(3*Math.PI/2).endAngle(5*(Math.PI/2)).innerRadius(7.5).outerRadius(6.8181818181818175);l.append("path").attr("class","mouth").attr("d",u).attr("transform","translate("+e.cx+","+(e.cy+7)+")")}b(s,"sad");function o(l){l.append("line").attr("class","mouth").attr("stroke",2).attr("x1",e.cx-5).attr("y1",e.cy+7).attr("x2",e.cx+5).attr("y2",e.cy+7).attr("class","mouth").attr("stroke-width","1px").attr("stroke","#666")}return b(o,"ambivalent"),e.score>3?a(i):e.score<3?s(i):o(i),n},"drawFace"),gWe=b(function(t,e){const r=t.append("circle");return r.attr("cx",e.cx),r.attr("cy",e.cy),r.attr("class","actor-"+e.pos),r.attr("fill",e.fill),r.attr("stroke",e.stroke),r.attr("r",e.r),r.class!==void 0&&r.attr("class",r.class),e.title!==void 0&&r.append("title").text(e.title),r},"drawCircle"),Mie=b(function(t,e){const r=e.text.replace(/<br\s*\/?>/gi," "),n=t.append("text");n.attr("x",e.x),n.attr("y",e.y),n.attr("class","legend"),n.style("text-anchor",e.anchor),e.class!==void 0&&n.attr("class",e.class);const i=n.append("tspan");return i.attr("x",e.x+e.textMargin*2),i.text(r),n},"drawText"),mWe=b(function(t,e){function r(i,a,s,o,l){return i+","+a+" "+(i+s)+","+a+" "+(i+s)+","+(a+o-l)+" "+(i+s-l*1.2)+","+(a+o)+" "+i+","+(a+o)}b(r,"genPoints");const n=t.append("polygon");n.attr("points",r(e.x,e.y,50,20,7)),n.attr("class","labelBox"),e.y=e.y+e.labelMargin,e.x=e.x+.5*e.labelMargin,Mie(t,e)},"drawLabel"),vWe=b(function(t,e,r){const n=t.append("g"),i=fN();i.x=e.x,i.y=e.y,i.fill=e.fill,i.width=r.width,i.height=r.height,i.class="journey-section section-type-"+e.num,i.rx=3,i.ry=3,T6(n,i),Iie(r)(e.text,n,i.x,i.y,i.width,i.height,{class:"journey-section section-type-"+e.num},r,e.colour)},"drawSection"),HB=-1,yWe=b(function(t,e,r){const n=e.x+r.width/2,i=t.append("g");HB++;const a=300+5*30;i.append("line").attr("id","task"+HB).attr("x1",n).attr("y1",e.y).attr("x2",n).attr("y2",a).attr("class","task-line").attr("stroke-width","1px").attr("stroke-dasharray","4 2").attr("stroke","#666"),pWe(i,{cx:n,cy:300+(5-e.score)*30,score:e.score});const s=fN();s.x=e.x,s.y=e.y,s.fill=e.fill,s.width=r.width,s.height=r.height,s.class="task task-type-"+e.num,s.rx=3,s.ry=3,T6(i,s),Iie(r)(e.task,i,s.x,s.y,s.width,s.height,{class:"task"},r,e.colour)},"drawTask"),xWe=b(function(t,e){T6(t,{x:e.startx,y:e.starty,width:e.stopx-e.startx,height:e.stopy-e.starty,fill:e.fill,class:"rect"}).lower()},"drawBackgroundRect"),bWe=b(function(){return{x:0,y:0,fill:void 0,"text-anchor":"start",width:100,height:100,textMargin:0,rx:0,ry:0}},"getTextObj"),fN=b(function(){return{x:0,y:0,width:100,anchor:"start",height:100,rx:0,ry:0}},"getNoteRect"),Iie=function(){function t(i,a,s,o,l,u,h,d){const p=a.append("text").attr("x",s+l/2).attr("y",o+u/2+5).style("font-color",d).style("text-anchor","middle").text(i);n(p,h)}b(t,"byText");function e(i,a,s,o,l,u,h,d,p){const{taskFontSize:f,taskFontFamily:g}=d,m=i.split(/<br\s*\/?>/gi);for(let y=0;y<m.length;y++){const v=y*f-f*(m.length-1)/2,x=a.append("text").attr("x",s+l/2).attr("y",o).attr("fill",p).style("text-anchor","middle").style("font-size",f).style("font-family",g);x.append("tspan").attr("x",s+l/2).attr("dy",v).text(m[y]),x.attr("y",o+u/2).attr("dominant-baseline","central").attr("alignment-baseline","central"),n(x,h)}}b(e,"byTspan");function r(i,a,s,o,l,u,h,d){const p=a.append("switch"),g=p.append("foreignObject").attr("x",s).attr("y",o).attr("width",l).attr("height",u).attr("position","fixed").append("xhtml:div").style("display","table").style("height","100%").style("width","100%");g.append("div").attr("class","label").style("display","table-cell").style("text-align","center").style("vertical-align","middle").text(i),e(i,p,s,o,l,u,h,d),n(g,h)}b(r,"byFo");function n(i,a){for(const s in a)s in a&&i.attr(s,a[s])}return b(n,"_setTextAttrs"),function(i){return i.textPlacement==="fo"?r:i.textPlacement==="old"?t:e}}(),wWe=b(function(t){t.append("defs").append("marker").attr("id","arrowhead").attr("refX",5).attr("refY",2).attr("markerWidth",6).attr("markerHeight",4).attr("orient","auto").append("path").attr("d","M 0,0 V 4 L6,2 Z")},"initGraphics");function pN(t,e){t.each(function(){var r=Ke(this),n=r.text().split(/(\s+|<br>)/).reverse(),i,a=[],s=1.1,o=r.attr("y"),l=parseFloat(r.attr("dy")),u=r.text(null).append("tspan").attr("x",0).attr("y",o).attr("dy",l+"em");for(let h=0;h<n.length;h++)i=n[n.length-1-h],a.push(i),u.text(a.join(" ").trim()),(u.node().getComputedTextLength()>e||i==="<br>")&&(a.pop(),u.text(a.join(" ").trim()),i==="<br>"?a=[""]:a=[i],u=r.append("tspan").attr("x",0).attr("y",o).attr("dy",s+"em").text(i))})}b(pN,"wrap");var kWe=b(function(t,e,r,n){var d;const i=r%fWe-1,a=t.append("g");e.section=i,a.attr("class",(e.class?e.class+" ":"")+"timeline-node "+("section-"+i));const s=a.append("g"),o=a.append("g"),u=o.append("text").text(e.descr).attr("dy","1em").attr("alignment-baseline","middle").attr("dominant-baseline","middle").attr("text-anchor","middle").call(pN,e.width).node().getBBox(),h=(d=n.fontSize)!=null&&d.replace?n.fontSize.replace("px",""):n.fontSize;return e.height=u.height+h*1.1*.5+e.padding,e.height=Math.max(e.height,e.maxHeight),e.width=e.width+2*e.padding,o.attr("transform","translate("+e.width/2+", "+e.padding/2+")"),EWe(s,e,i,n),e},"drawNode"),TWe=b(function(t,e,r){var o;const n=t.append("g"),a=n.append("text").text(e.descr).attr("dy","1em").attr("alignment-baseline","middle").attr("dominant-baseline","middle").attr("text-anchor","middle").call(pN,e.width).node().getBBox(),s=(o=r.fontSize)!=null&&o.replace?r.fontSize.replace("px",""):r.fontSize;return n.remove(),a.height+s*1.1*.5+e.padding},"getVirtualNodeHeight"),EWe=b(function(t,e,r){t.append("path").attr("id","node-"+e.id).attr("class","node-bkg node-"+e.type).attr("d",`M0 ${e.height-5} v${-e.height+2*5} q0,-5 5,-5 h${e.width-2*5} q5,0 5,5 v${e.height-5} H0 Z`),t.append("line").attr("class","node-line-"+r).attr("x1",0).attr("y1",e.height).attr("x2",e.width).attr("y2",e.height)},"defaultBkg"),Qh={drawRect:T6,drawCircle:gWe,drawSection:vWe,drawText:Mie,drawLabel:mWe,drawTask:yWe,drawBackgroundRect:xWe,getTextObj:bWe,getNoteRect:fN,initGraphics:wWe,drawNode:kWe,getVirtualNodeHeight:TWe},SWe=b(function(t,e,r,n){var C,L;const i=we(),a=i.leftMargin??50;q.debug("timeline",n.db);const s=i.securityLevel;let o;s==="sandbox"&&(o=Ke("#i"+e));const u=Ke(s==="sandbox"?o.nodes()[0].contentDocument.body:"body").select("#"+e);u.append("g");const h=n.db.getTasks(),d=n.db.getCommonDb().getDiagramTitle();q.debug("task",h),Qh.initGraphics(u);const p=n.db.getSections();q.debug("sections",p);let f=0,g=0,m=0,y=0,v=50+a,x=50;y=50;let w=0,k=!0;p.forEach(function(A){const N={number:w,descr:A,section:w,width:150,padding:20,maxHeight:f},F=Qh.getVirtualNodeHeight(u,N,i);q.debug("sectionHeight before draw",F),f=Math.max(f,F+20)});let E=0,_=0;q.debug("tasks.length",h.length);for(const[A,N]of h.entries()){const F={number:A,descr:N,section:N.section,width:150,padding:20,maxHeight:g},T=Qh.getVirtualNodeHeight(u,F,i);q.debug("taskHeight before draw",T),g=Math.max(g,T+20),E=Math.max(E,N.events.length);let D=0;for(const M of N.events){const O={descr:M,section:N.section,number:N.section,width:150,padding:20,maxHeight:50};D+=Qh.getVirtualNodeHeight(u,O,i)}_=Math.max(_,D)}q.debug("maxSectionHeight before draw",f),q.debug("maxTaskHeight before draw",g),p&&p.length>0?p.forEach(A=>{const N=h.filter(M=>M.section===A),F={number:w,descr:A,section:w,width:200*Math.max(N.length,1)-50,padding:20,maxHeight:f};q.debug("sectionNode",F);const T=u.append("g"),D=Qh.drawNode(T,F,w,i);q.debug("sectionNode output",D),T.attr("transform",`translate(${v}, ${y})`),x+=f+50,N.length>0&&WB(u,N,w,v,x,g,i,E,_,f,!1),v+=200*Math.max(N.length,1),x=y,w++}):(k=!1,WB(u,h,w,v,x,g,i,E,_,f,!0));const S=u.node().getBBox();q.debug("bounds",S),d&&u.append("text").text(d).attr("x",S.width/2-a).attr("font-size","4ex").attr("font-weight","bold").attr("y",20),m=k?f+g+150:g+100,u.append("g").attr("class","lineWrapper").append("line").attr("x1",a).attr("y1",m).attr("x2",S.width+3*a).attr("y2",m).attr("stroke-width",4).attr("stroke","black").attr("marker-end","url(#arrowhead)"),kg(void 0,u,((C=i.timeline)==null?void 0:C.padding)??50,((L=i.timeline)==null?void 0:L.useMaxWidth)??!1)},"draw"),WB=b(function(t,e,r,n,i,a,s,o,l,u,h){var d;for(const p of e){const f={descr:p.task,section:r,number:r,width:150,padding:20,maxHeight:a};q.debug("taskNode",f);const g=t.append("g").attr("class","taskWrapper"),y=Qh.drawNode(g,f,r,s).height;if(q.debug("taskHeight after draw",y),g.attr("transform",`translate(${n}, ${i})`),a=Math.max(a,y),p.events){const v=t.append("g").attr("class","lineWrapper");let x=a;i+=100,x=x+CWe(t,p.events,r,n,i,s),i-=100,v.append("line").attr("x1",n+190/2).attr("y1",i+a).attr("x2",n+190/2).attr("y2",i+a+(h?a:u)+l+120).attr("stroke-width",2).attr("stroke","black").attr("marker-end","url(#arrowhead)").attr("stroke-dasharray","5,5")}n=n+200,h&&!((d=s.timeline)!=null&&d.disableMulticolor)&&r++}i=i-10},"drawTasks"),CWe=b(function(t,e,r,n,i,a){let s=0;const o=i;i=i+100;for(const l of e){const u={descr:l,section:r,number:r,width:150,padding:20,maxHeight:50};q.debug("eventNode",u);const h=t.append("g").attr("class","eventWrapper"),p=Qh.drawNode(h,u,r,a).height;s=s+p,h.attr("transform",`translate(${n}, ${i})`),i=i+10+p}return i=o,s},"drawEvents"),AWe={setConf:b(()=>{},"setConf"),draw:SWe},_We=b(t=>{let e="";for(let r=0;r<t.THEME_COLOR_LIMIT;r++)t["lineColor"+r]=t["lineColor"+r]||t["cScaleInv"+r],sf(t["lineColor"+r])?t["lineColor"+r]=Ot(t["lineColor"+r],20):t["lineColor"+r]=Gt(t["lineColor"+r],20);for(let r=0;r<t.THEME_COLOR_LIMIT;r++){const n=""+(17-3*r);e+=`
    .section-${r-1} rect, .section-${r-1} path, .section-${r-1} circle, .section-${r-1} path  {
      fill: ${t["cScale"+r]};
    }
    .section-${r-1} text {
     fill: ${t["cScaleLabel"+r]};
    }
    .node-icon-${r-1} {
      font-size: 40px;
      color: ${t["cScaleLabel"+r]};
    }
    .section-edge-${r-1}{
      stroke: ${t["cScale"+r]};
    }
    .edge-depth-${r-1}{
      stroke-width: ${n};
    }
    .section-${r-1} line {
      stroke: ${t["cScaleInv"+r]} ;
      stroke-width: 3;
    }

    .lineWrapper line{
      stroke: ${t["cScaleLabel"+r]} ;
    }

    .disabled, .disabled circle, .disabled text {
      fill: lightgray;
    }
    .disabled text {
      fill: #efefef;
    }
    `}return e},"genSections"),LWe=b(t=>`
  .edge {
    stroke-width: 3;
  }
  ${_We(t)}
  .section-root rect, .section-root path, .section-root circle  {
    fill: ${t.git0};
  }
  .section-root text {
    fill: ${t.gitBranchLabel0};
  }
  .icon-container {
    height:100%;
    display: flex;
    justify-content: center;
    align-items: center;
  }
  .edge {
    fill: none;
  }
  .eventWrapper  {
   filter: brightness(120%);
  }
`,"getStyles"),NWe=LWe,RWe={db:kie,renderer:AWe,parser:hWe,styles:NWe};const MWe=Object.freeze(Object.defineProperty({__proto__:null,diagram:RWe},Symbol.toStringTag,{value:"Module"}));function vi(t){"@babel/helpers - typeof";return vi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vi(t)}function gN(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function IWe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function mN(t,e,r){return e&&IWe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Die(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ao(t,e){return DWe(t)||OWe(t,e)||Oie(t,e)||PWe()}function DWe(t){if(Array.isArray(t))return t}function OWe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n=[],i=!0,a=!1,s,o;try{for(r=r.call(t);!(i=(s=r.next()).done)&&(n.push(s.value),!(e&&n.length===e));i=!0);}catch(l){a=!0,o=l}finally{try{!i&&r.return!=null&&r.return()}finally{if(a)throw o}}return n}}function Oie(t,e){if(t){if(typeof t=="string")return YB(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return YB(t,e)}}function YB(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function PWe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Pie(t,e){var r=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=Oie(t))||e){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(l){throw l},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a=!0,s=!1,o;return{s:function(){r=r.call(t)},n:function(){var l=r.next();return a=l.done,l},e:function(l){s=!0,o=l},f:function(){try{!a&&r.return!=null&&r.return()}finally{if(s)throw o}}}}var ii=typeof window>"u"?null:window,qB=ii?ii.navigator:null;ii&&ii.document;var FWe=vi(""),Fie=vi({}),BWe=vi(function(){}),$We=typeof HTMLElement>"u"?"undefined":vi(HTMLElement),i2=function(e){return e&&e.instanceString&&En(e.instanceString)?e.instanceString():null},Bt=function(e){return e!=null&&vi(e)==FWe},En=function(e){return e!=null&&vi(e)===BWe},Xr=function(e){return!Ns(e)&&(Array.isArray?Array.isArray(e):e!=null&&e instanceof Array)},Tr=function(e){return e!=null&&vi(e)===Fie&&!Xr(e)&&e.constructor===Object},zWe=function(e){return e!=null&&vi(e)===Fie},mt=function(e){return e!=null&&vi(e)===vi(1)&&!isNaN(e)},UWe=function(e){return mt(e)&&Math.floor(e)===e},v5=function(e){if($We!=="undefined")return e!=null&&e instanceof HTMLElement},Ns=function(e){return a2(e)||Bie(e)},a2=function(e){return i2(e)==="collection"&&e._private.single},Bie=function(e){return i2(e)==="collection"&&!e._private.single},vN=function(e){return i2(e)==="core"},$ie=function(e){return i2(e)==="stylesheet"},VWe=function(e){return i2(e)==="event"},hh=function(e){return e==null?!0:!!(e===""||e.match(/^\s+$/))},GWe=function(e){return typeof HTMLElement>"u"?!1:e instanceof HTMLElement},HWe=function(e){return Tr(e)&&mt(e.x1)&&mt(e.x2)&&mt(e.y1)&&mt(e.y2)},WWe=function(e){return zWe(e)&&En(e.then)},YWe=function(){return qB&&qB.userAgent.match(/msie|trident|edge/i)},Kv=function(e,r){r||(r=function(){if(arguments.length===1)return arguments[0];if(arguments.length===0)return"undefined";for(var a=[],s=0;s<arguments.length;s++)a.push(arguments[s]);return a.join("$")});var n=function i(){var a=this,s=arguments,o,l=r.apply(a,s),u=i.cache;return(o=u[l])||(o=u[l]=e.apply(a,s)),o};return n.cache={},n},yN=Kv(function(t){return t.replace(/([A-Z])/g,function(e){return"-"+e.toLowerCase()})}),E6=Kv(function(t){return t.replace(/(-\w)/g,function(e){return e[1].toUpperCase()})}),zie=Kv(function(t,e){return t+e[0].toUpperCase()+e.substring(1)},function(t,e){return t+"$"+e}),jB=function(e){return hh(e)?e:e.charAt(0).toUpperCase()+e.substring(1)},di="(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))",qWe="rgb[a]?\\(("+di+"[%]?)\\s*,\\s*("+di+"[%]?)\\s*,\\s*("+di+"[%]?)(?:\\s*,\\s*("+di+"))?\\)",jWe="rgb[a]?\\((?:"+di+"[%]?)\\s*,\\s*(?:"+di+"[%]?)\\s*,\\s*(?:"+di+"[%]?)(?:\\s*,\\s*(?:"+di+"))?\\)",XWe="hsl[a]?\\(("+di+")\\s*,\\s*("+di+"[%])\\s*,\\s*("+di+"[%])(?:\\s*,\\s*("+di+"))?\\)",KWe="hsl[a]?\\((?:"+di+")\\s*,\\s*(?:"+di+"[%])\\s*,\\s*(?:"+di+"[%])(?:\\s*,\\s*(?:"+di+"))?\\)",QWe="\\#[0-9a-fA-F]{3}",ZWe="\\#[0-9a-fA-F]{6}",Uie=function(e,r){return e<r?-1:e>r?1:0},JWe=function(e,r){return-1*Uie(e,r)},jt=Object.assign!=null?Object.assign.bind(Object):function(t){for(var e=arguments,r=1;r<e.length;r++){var n=e[r];if(n!=null)for(var i=Object.keys(n),a=0;a<i.length;a++){var s=i[a];t[s]=n[s]}}return t},eYe=function(e){if(!(!(e.length===4||e.length===7)||e[0]!=="#")){var r=e.length===4,n,i,a,s=16;return r?(n=parseInt(e[1]+e[1],s),i=parseInt(e[2]+e[2],s),a=parseInt(e[3]+e[3],s)):(n=parseInt(e[1]+e[2],s),i=parseInt(e[3]+e[4],s),a=parseInt(e[5]+e[6],s)),[n,i,a]}},tYe=function(e){var r,n,i,a,s,o,l,u;function h(g,m,y){return y<0&&(y+=1),y>1&&(y-=1),y<1/6?g+(m-g)*6*y:y<1/2?m:y<2/3?g+(m-g)*(2/3-y)*6:g}var d=new RegExp("^"+XWe+"$").exec(e);if(d){if(n=parseInt(d[1]),n<0?n=(360- -1*n%360)%360:n>360&&(n=n%360),n/=360,i=parseFloat(d[2]),i<0||i>100||(i=i/100,a=parseFloat(d[3]),a<0||a>100)||(a=a/100,s=d[4],s!==void 0&&(s=parseFloat(s),s<0||s>1)))return;if(i===0)o=l=u=Math.round(a*255);else{var p=a<.5?a*(1+i):a+i-a*i,f=2*a-p;o=Math.round(255*h(f,p,n+1/3)),l=Math.round(255*h(f,p,n)),u=Math.round(255*h(f,p,n-1/3))}r=[o,l,u,s]}return r},rYe=function(e){var r,n=new RegExp("^"+qWe+"$").exec(e);if(n){r=[];for(var i=[],a=1;a<=3;a++){var s=n[a];if(s[s.length-1]==="%"&&(i[a]=!0),s=parseFloat(s),i[a]&&(s=s/100*255),s<0||s>255)return;r.push(Math.floor(s))}var o=i[1]||i[2]||i[3],l=i[1]&&i[2]&&i[3];if(o&&!l)return;var u=n[4];if(u!==void 0){if(u=parseFloat(u),u<0||u>1)return;r.push(u)}}return r},nYe=function(e){return aYe[e.toLowerCase()]},iYe=function(e){return(Xr(e)?e:null)||nYe(e)||eYe(e)||rYe(e)||tYe(e)},aYe={transparent:[0,0,0,0],aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],grey:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},Vie=function(e){for(var r=e.map,n=e.keys,i=n.length,a=0;a<i;a++){var s=n[a];if(Tr(s))throw Error("Tried to set map with object key");a<n.length-1?(r[s]==null&&(r[s]={}),r=r[s]):r[s]=e.value}},Gie=function(e){for(var r=e.map,n=e.keys,i=n.length,a=0;a<i;a++){var s=n[a];if(Tr(s))throw Error("Tried to get map with object key");if(r=r[s],r==null)return r}return r};function sYe(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var Kd=sYe,hm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function oYe(t,e){return e={exports:{}},t(e,e.exports),e.exports}var lYe=typeof hm=="object"&&hm&&hm.Object===Object&&hm,cYe=lYe,uYe=typeof self=="object"&&self&&self.Object===Object&&self,hYe=cYe||uYe||Function("return this")(),S6=hYe,dYe=function(){return S6.Date.now()},mE=dYe,fYe=/\s/;function pYe(t){for(var e=t.length;e--&&fYe.test(t.charAt(e)););return e}var gYe=pYe,mYe=/^\s+/;function vYe(t){return t&&t.slice(0,gYe(t)+1).replace(mYe,"")}var yYe=vYe,xYe=S6.Symbol,pg=xYe,Hie=Object.prototype,bYe=Hie.hasOwnProperty,wYe=Hie.toString,B1=pg?pg.toStringTag:void 0;function kYe(t){var e=bYe.call(t,B1),r=t[B1];try{t[B1]=void 0;var n=!0}catch{}var i=wYe.call(t);return n&&(e?t[B1]=r:delete t[B1]),i}var TYe=kYe,EYe=Object.prototype,SYe=EYe.toString;function CYe(t){return SYe.call(t)}var AYe=CYe,_Ye="[object Null]",LYe="[object Undefined]",XB=pg?pg.toStringTag:void 0;function NYe(t){return t==null?t===void 0?LYe:_Ye:XB&&XB in Object(t)?TYe(t):AYe(t)}var Wie=NYe;function RYe(t){return t!=null&&typeof t=="object"}var MYe=RYe,IYe="[object Symbol]";function DYe(t){return typeof t=="symbol"||MYe(t)&&Wie(t)==IYe}var s2=DYe,KB=NaN,OYe=/^[-+]0x[0-9a-f]+$/i,PYe=/^0b[01]+$/i,FYe=/^0o[0-7]+$/i,BYe=parseInt;function $Ye(t){if(typeof t=="number")return t;if(s2(t))return KB;if(Kd(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=Kd(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=yYe(t);var r=PYe.test(t);return r||FYe.test(t)?BYe(t.slice(2),r?2:8):OYe.test(t)?KB:+t}var QB=$Ye,zYe="Expected a function",UYe=Math.max,VYe=Math.min;function GYe(t,e,r){var n,i,a,s,o,l,u=0,h=!1,d=!1,p=!0;if(typeof t!="function")throw new TypeError(zYe);e=QB(e)||0,Kd(r)&&(h=!!r.leading,d="maxWait"in r,a=d?UYe(QB(r.maxWait)||0,e):a,p="trailing"in r?!!r.trailing:p);function f(_){var S=n,R=i;return n=i=void 0,u=_,s=t.apply(R,S),s}function g(_){return u=_,o=setTimeout(v,e),h?f(_):s}function m(_){var S=_-l,R=_-u,C=e-S;return d?VYe(C,a-R):C}function y(_){var S=_-l,R=_-u;return l===void 0||S>=e||S<0||d&&R>=a}function v(){var _=mE();if(y(_))return x(_);o=setTimeout(v,m(_))}function x(_){return o=void 0,p&&n?f(_):(n=i=void 0,s)}function w(){o!==void 0&&clearTimeout(o),u=0,n=l=i=o=void 0}function k(){return o===void 0?s:x(mE())}function E(){var _=mE(),S=y(_);if(n=arguments,i=this,l=_,S){if(o===void 0)return g(l);if(d)return clearTimeout(o),o=setTimeout(v,e),f(l)}return o===void 0&&(o=setTimeout(v,e)),s}return E.cancel=w,E.flush=k,E}var C6=GYe,vE=ii?ii.performance:null,Yie=vE&&vE.now?function(){return vE.now()}:function(){return Date.now()},HYe=function(){if(ii){if(ii.requestAnimationFrame)return function(t){ii.requestAnimationFrame(t)};if(ii.mozRequestAnimationFrame)return function(t){ii.mozRequestAnimationFrame(t)};if(ii.webkitRequestAnimationFrame)return function(t){ii.webkitRequestAnimationFrame(t)};if(ii.msRequestAnimationFrame)return function(t){ii.msRequestAnimationFrame(t)}}return function(t){t&&setTimeout(function(){t(Yie())},1e3/60)}}(),y5=function(e){return HYe(e)},Gc=Yie,h0=9261,qie=65599,dm=5381,jie=function(e){for(var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:h0,n=r,i;i=e.next(),!i.done;)n=n*qie+i.value|0;return n},Qv=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:h0;return r*qie+e|0},Zv=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:dm;return(r<<5)+r+e|0},WYe=function(e,r){return e*2097152+r},uu=function(e){return e[0]*2097152+e[1]},Cx=function(e,r){return[Qv(e[0],r[0]),Zv(e[1],r[1])]},YYe=function(e,r){var n={value:0,done:!1},i=0,a=e.length,s={next:function(){return i<a?n.value=e[i++]:n.done=!0,n}};return jie(s,r)},Qd=function(e,r){var n={value:0,done:!1},i=0,a=e.length,s={next:function(){return i<a?n.value=e.charCodeAt(i++):n.done=!0,n}};return jie(s,r)},Xie=function(){return qYe(arguments)},qYe=function(e){for(var r,n=0;n<e.length;n++){var i=e[n];n===0?r=Qd(i):r=Qd(i,r)}return r},ZB=!0,jYe=console.warn!=null,XYe=console.trace!=null,xN=Number.MAX_SAFE_INTEGER||9007199254740991,Kie=function(){return!0},x5=function(){return!1},JB=function(){return 0},bN=function(){},In=function(e){throw new Error(e)},Qie=function(e){if(e!==void 0)ZB=!!e;else return ZB},Or=function(e){Qie()&&(jYe?console.warn(e):(console.log(e),XYe&&console.trace()))},KYe=function(e){return jt({},e)},bl=function(e){return e==null?e:Xr(e)?e.slice():Tr(e)?KYe(e):e},QYe=function(e){return e.slice()},Zie=function(e,r){for(r=e="";e++<36;r+=e*51&52?(e^15?8^Math.random()*(e^20?16:4):4).toString(16):"-");return r},ZYe={},Jie=function(){return ZYe},ta=function(e){var r=Object.keys(e);return function(n){for(var i={},a=0;a<r.length;a++){var s=r[a],o=n==null?void 0:n[s];i[s]=o===void 0?e[s]:o}return i}},dh=function(e,r,n){for(var i=e.length-1;i>=0;i--)e[i]===r&&e.splice(i,1)},wN=function(e){e.splice(0,e.length)},JYe=function(e,r){for(var n=0;n<r.length;n++){var i=r[n];e.push(i)}},Do=function(e,r,n){return n&&(r=zie(n,r)),e[r]},Tu=function(e,r,n,i){n&&(r=zie(n,r)),e[r]=i},eqe=function(){function t(){gN(this,t),this._obj={}}return mN(t,[{key:"set",value:function(r,n){return this._obj[r]=n,this}},{key:"delete",value:function(r){return this._obj[r]=void 0,this}},{key:"clear",value:function(){this._obj={}}},{key:"has",value:function(r){return this._obj[r]!==void 0}},{key:"get",value:function(r){return this._obj[r]}}]),t}(),wl=typeof Map<"u"?Map:eqe,tqe="undefined",rqe=function(){function t(e){if(gN(this,t),this._obj=Object.create(null),this.size=0,e!=null){var r;e.instanceString!=null&&e.instanceString()===this.instanceString()?r=e.toArray():r=e;for(var n=0;n<r.length;n++)this.add(r[n])}}return mN(t,[{key:"instanceString",value:function(){return"set"}},{key:"add",value:function(r){var n=this._obj;n[r]!==1&&(n[r]=1,this.size++)}},{key:"delete",value:function(r){var n=this._obj;n[r]===1&&(n[r]=0,this.size--)}},{key:"clear",value:function(){this._obj=Object.create(null)}},{key:"has",value:function(r){return this._obj[r]===1}},{key:"toArray",value:function(){var r=this;return Object.keys(this._obj).filter(function(n){return r.has(n)})}},{key:"forEach",value:function(r,n){return this.toArray().forEach(r,n)}}]),t}(),qg=(typeof Set>"u"?"undefined":vi(Set))!==tqe?Set:rqe,A6=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(e===void 0||r===void 0||!vN(e)){In("An element must have a core reference and parameters set");return}var i=r.group;if(i==null&&(r.data&&r.data.source!=null&&r.data.target!=null?i="edges":i="nodes"),i!=="nodes"&&i!=="edges"){In("An element must be of type `nodes` or `edges`; you specified `"+i+"`");return}this.length=1,this[0]=this;var a=this._private={cy:e,single:!0,data:r.data||{},position:r.position||{x:0,y:0},autoWidth:void 0,autoHeight:void 0,autoPadding:void 0,compoundBoundsClean:!1,listeners:[],group:i,style:{},rstyle:{},styleCxts:[],styleKeys:{},removed:!0,selected:!!r.selected,selectable:r.selectable===void 0?!0:!!r.selectable,locked:!!r.locked,grabbed:!1,grabbable:r.grabbable===void 0?!0:!!r.grabbable,pannable:r.pannable===void 0?i==="edges":!!r.pannable,active:!1,classes:new qg,animation:{current:[],queue:[]},rscratch:{},scratch:r.scratch||{},edges:[],children:[],parent:r.parent&&r.parent.isNode()?r.parent:null,traversalCache:{},backgrounding:!1,bbCache:null,bbCacheShift:{x:0,y:0},bodyBounds:null,overlayBounds:null,labelBounds:{all:null,source:null,target:null,main:null},arrowBounds:{source:null,target:null,"mid-source":null,"mid-target":null}};if(a.position.x==null&&(a.position.x=0),a.position.y==null&&(a.position.y=0),r.renderedPosition){var s=r.renderedPosition,o=e.pan(),l=e.zoom();a.position={x:(s.x-o.x)/l,y:(s.y-o.y)/l}}var u=[];Xr(r.classes)?u=r.classes:Bt(r.classes)&&(u=r.classes.split(/\s+/));for(var h=0,d=u.length;h<d;h++){var p=u[h];!p||p===""||a.classes.add(p)}this.createEmitter();var f=r.style||r.css;f&&(Or("Setting a `style` bypass at element creation should be done only when absolutely necessary.  Try to use the stylesheet instead."),this.style(f)),(n===void 0||n)&&this.restore()},e$=function(e){return e={bfs:e.bfs||!e.dfs,dfs:e.dfs||!e.bfs},function(n,i,a){var s;Tr(n)&&!Ns(n)&&(s=n,n=s.roots||s.root,i=s.visit,a=s.directed),a=arguments.length===2&&!En(i)?i:a,i=En(i)?i:function(){};for(var o=this._private.cy,l=n=Bt(n)?this.filter(n):n,u=[],h=[],d={},p={},f={},g=0,m,y=this.byGroup(),v=y.nodes,x=y.edges,w=0;w<l.length;w++){var k=l[w],E=k.id();k.isNode()&&(u.unshift(k),e.bfs&&(f[E]=!0,h.push(k)),p[E]=0)}for(var _=function(){var F=e.bfs?u.shift():u.pop(),T=F.id();if(e.dfs){if(f[T])return"continue";f[T]=!0,h.push(F)}var D=p[T],M=d[T],O=M!=null?M.source():null,I=M!=null?M.target():null,P=M==null?void 0:F.same(O)?I[0]:O[0],B=void 0;if(B=i(F,M,P,g++,D),B===!0)return m=F,"break";if(B===!1)return"break";for(var $=F.connectedEdges().filter(function(H){return(!a||H.source().same(F))&&x.has(H)}),V=0;V<$.length;V++){var W=$[V],K=W.connectedNodes().filter(function(H){return!H.same(F)&&v.has(H)}),Z=K.id();K.length!==0&&!f[Z]&&(K=K[0],u.push(K),e.bfs&&(f[Z]=!0,h.push(K)),d[Z]=W,p[Z]=p[T]+1)}};u.length!==0;){var S=_();if(S!=="continue"&&S==="break")break}for(var R=o.collection(),C=0;C<h.length;C++){var L=h[C],A=d[L.id()];A!=null&&R.push(A),R.push(L)}return{path:o.collection(R),found:o.collection(m)}}},Jv={breadthFirstSearch:e$({bfs:!0}),depthFirstSearch:e$({dfs:!0})};Jv.bfs=Jv.breadthFirstSearch;Jv.dfs=Jv.depthFirstSearch;var nqe=oYe(function(t,e){(function(){var r,n,i,a,s,o,l,u,h,d,p,f,g,m,y;i=Math.floor,d=Math.min,n=function(v,x){return v<x?-1:v>x?1:0},h=function(v,x,w,k,E){var _;if(w==null&&(w=0),E==null&&(E=n),w<0)throw new Error("lo must be non-negative");for(k==null&&(k=v.length);w<k;)_=i((w+k)/2),E(x,v[_])<0?k=_:w=_+1;return[].splice.apply(v,[w,w-w].concat(x)),x},o=function(v,x,w){return w==null&&(w=n),v.push(x),m(v,0,v.length-1,w)},s=function(v,x){var w,k;return x==null&&(x=n),w=v.pop(),v.length?(k=v[0],v[0]=w,y(v,0,x)):k=w,k},u=function(v,x,w){var k;return w==null&&(w=n),k=v[0],v[0]=x,y(v,0,w),k},l=function(v,x,w){var k;return w==null&&(w=n),v.length&&w(v[0],x)<0&&(k=[v[0],x],x=k[0],v[0]=k[1],y(v,0,w)),x},a=function(v,x){var w,k,E,_,S,R;for(x==null&&(x=n),_=(function(){R=[];for(var C=0,L=i(v.length/2);0<=L?C<L:C>L;0<=L?C++:C--)R.push(C);return R}).apply(this).reverse(),S=[],k=0,E=_.length;k<E;k++)w=_[k],S.push(y(v,w,x));return S},g=function(v,x,w){var k;if(w==null&&(w=n),k=v.indexOf(x),k!==-1)return m(v,0,k,w),y(v,k,w)},p=function(v,x,w){var k,E,_,S,R;if(w==null&&(w=n),E=v.slice(0,x),!E.length)return E;for(a(E,w),R=v.slice(x),_=0,S=R.length;_<S;_++)k=R[_],l(E,k,w);return E.sort(w).reverse()},f=function(v,x,w){var k,E,_,S,R,C,L,A,N;if(w==null&&(w=n),x*10<=v.length){if(_=v.slice(0,x).sort(w),!_.length)return _;for(E=_[_.length-1],L=v.slice(x),S=0,C=L.length;S<C;S++)k=L[S],w(k,E)<0&&(h(_,k,0,null,w),_.pop(),E=_[_.length-1]);return _}for(a(v,w),N=[],R=0,A=d(x,v.length);0<=A?R<A:R>A;0<=A?++R:--R)N.push(s(v,w));return N},m=function(v,x,w,k){var E,_,S;for(k==null&&(k=n),E=v[w];w>x;){if(S=w-1>>1,_=v[S],k(E,_)<0){v[w]=_,w=S;continue}break}return v[w]=E},y=function(v,x,w){var k,E,_,S,R;for(w==null&&(w=n),E=v.length,R=x,_=v[x],k=2*x+1;k<E;)S=k+1,S<E&&!(w(v[k],v[S])<0)&&(k=S),v[x]=v[k],x=k,k=2*x+1;return v[x]=_,m(v,R,x,w)},r=function(){v.push=o,v.pop=s,v.replace=u,v.pushpop=l,v.heapify=a,v.updateItem=g,v.nlargest=p,v.nsmallest=f;function v(x){this.cmp=x??n,this.nodes=[]}return v.prototype.push=function(x){return o(this.nodes,x,this.cmp)},v.prototype.pop=function(){return s(this.nodes,this.cmp)},v.prototype.peek=function(){return this.nodes[0]},v.prototype.contains=function(x){return this.nodes.indexOf(x)!==-1},v.prototype.replace=function(x){return u(this.nodes,x,this.cmp)},v.prototype.pushpop=function(x){return l(this.nodes,x,this.cmp)},v.prototype.heapify=function(){return a(this.nodes,this.cmp)},v.prototype.updateItem=function(x){return g(this.nodes,x,this.cmp)},v.prototype.clear=function(){return this.nodes=[]},v.prototype.empty=function(){return this.nodes.length===0},v.prototype.size=function(){return this.nodes.length},v.prototype.clone=function(){var x;return x=new v,x.nodes=this.nodes.slice(0),x},v.prototype.toArray=function(){return this.nodes.slice(0)},v.prototype.insert=v.prototype.push,v.prototype.top=v.prototype.peek,v.prototype.front=v.prototype.peek,v.prototype.has=v.prototype.contains,v.prototype.copy=v.prototype.clone,v}(),function(v,x){return t.exports=x()}(this,function(){return r})}).call(hm)}),o2=nqe,iqe=ta({root:null,weight:function(e){return 1},directed:!1}),aqe={dijkstra:function(e){if(!Tr(e)){var r=arguments;e={root:r[0],weight:r[1],directed:r[2]}}var n=iqe(e),i=n.root,a=n.weight,s=n.directed,o=this,l=a,u=Bt(i)?this.filter(i)[0]:i[0],h={},d={},p={},f=this.byGroup(),g=f.nodes,m=f.edges;m.unmergeBy(function(D){return D.isLoop()});for(var y=function(M){return h[M.id()]},v=function(M,O){h[M.id()]=O,x.updateItem(M)},x=new o2(function(D,M){return y(D)-y(M)}),w=0;w<g.length;w++){var k=g[w];h[k.id()]=k.same(u)?0:1/0,x.push(k)}for(var E=function(M,O){for(var I=(s?M.edgesTo(O):M.edgesWith(O)).intersect(m),P=1/0,B,$=0;$<I.length;$++){var V=I[$],W=l(V);(W<P||!B)&&(P=W,B=V)}return{edge:B,dist:P}};x.size()>0;){var _=x.pop(),S=y(_),R=_.id();if(p[R]=S,S!==1/0)for(var C=_.neighborhood().intersect(g),L=0;L<C.length;L++){var A=C[L],N=A.id(),F=E(_,A),T=S+F.dist;T<y(A)&&(v(A,T),d[N]={node:_,edge:F.edge})}}return{distanceTo:function(M){var O=Bt(M)?g.filter(M)[0]:M[0];return p[O.id()]},pathTo:function(M){var O=Bt(M)?g.filter(M)[0]:M[0],I=[],P=O,B=P.id();if(O.length>0)for(I.unshift(O);d[B];){var $=d[B];I.unshift($.edge),I.unshift($.node),P=$.node,B=P.id()}return o.spawn(I)}}}},sqe={kruskal:function(e){e=e||function(w){return 1};for(var r=this.byGroup(),n=r.nodes,i=r.edges,a=n.length,s=new Array(a),o=n,l=function(k){for(var E=0;E<s.length;E++){var _=s[E];if(_.has(k))return E}},u=0;u<a;u++)s[u]=this.spawn(n[u]);for(var h=i.sort(function(w,k){return e(w)-e(k)}),d=0;d<h.length;d++){var p=h[d],f=p.source()[0],g=p.target()[0],m=l(f),y=l(g),v=s[m],x=s[y];m!==y&&(o.merge(p),v.merge(x),s.splice(y,1))}return o}},oqe=ta({root:null,goal:null,weight:function(e){return 1},heuristic:function(e){return 0},directed:!1}),lqe={aStar:function(e){var r=this.cy(),n=oqe(e),i=n.root,a=n.goal,s=n.heuristic,o=n.directed,l=n.weight;i=r.collection(i)[0],a=r.collection(a)[0];var u=i.id(),h=a.id(),d={},p={},f={},g=new o2(function(B,$){return p[B.id()]-p[$.id()]}),m=new qg,y={},v={},x=function($,V){g.push($),m.add(V)},w,k,E=function(){w=g.pop(),k=w.id(),m.delete(k)},_=function($){return m.has($)};x(i,u),d[u]=0,p[u]=s(i);for(var S=0;g.size()>0;){if(E(),S++,k===h){for(var R=[],C=a,L=h,A=v[L];R.unshift(C),A!=null&&R.unshift(A),C=y[L],C!=null;)L=C.id(),A=v[L];return{found:!0,distance:d[k],path:this.spawn(R),steps:S}}f[k]=!0;for(var N=w._private.edges,F=0;F<N.length;F++){var T=N[F];if(this.hasElementWithId(T.id())&&!(o&&T.data("source")!==k)){var D=T.source(),M=T.target(),O=D.id()!==k?D:M,I=O.id();if(this.hasElementWithId(I)&&!f[I]){var P=d[k]+l(T);if(!_(I)){d[I]=P,p[I]=P+s(O),x(O,I),y[I]=w,v[I]=T;continue}P<d[I]&&(d[I]=P,p[I]=P+s(O),y[I]=w,v[I]=T)}}}}return{found:!1,distance:void 0,path:void 0,steps:S}}},cqe=ta({weight:function(e){return 1},directed:!1}),uqe={floydWarshall:function(e){for(var r=this.cy(),n=cqe(e),i=n.weight,a=n.directed,s=i,o=this.byGroup(),l=o.nodes,u=o.edges,h=l.length,d=h*h,p=function(W){return l.indexOf(W)},f=function(W){return l[W]},g=new Array(d),m=0;m<d;m++){var y=m%h,v=(m-y)/h;v===y?g[m]=0:g[m]=1/0}for(var x=new Array(d),w=new Array(d),k=0;k<u.length;k++){var E=u[k],_=E.source()[0],S=E.target()[0];if(_!==S){var R=p(_),C=p(S),L=R*h+C,A=s(E);if(g[L]>A&&(g[L]=A,x[L]=C,w[L]=E),!a){var N=C*h+R;!a&&g[N]>A&&(g[N]=A,x[N]=R,w[N]=E)}}}for(var F=0;F<h;F++)for(var T=0;T<h;T++)for(var D=T*h+F,M=0;M<h;M++){var O=T*h+M,I=F*h+M;g[D]+g[I]<g[O]&&(g[O]=g[D]+g[I],x[O]=x[D])}var P=function(W){return(Bt(W)?r.filter(W):W)[0]},B=function(W){return p(P(W))},$={distance:function(W,K){var Z=B(W),H=B(K);return g[Z*h+H]},path:function(W,K){var Z=B(W),H=B(K),ee=f(Z);if(Z===H)return ee.collection();if(x[Z*h+H]==null)return r.collection();var te=r.collection(),U=Z,j;for(te.merge(ee);Z!==H;)U=Z,Z=x[Z*h+H],j=w[U*h+Z],te.merge(j),te.merge(f(Z));return te}};return $}},hqe=ta({weight:function(e){return 1},directed:!1,root:null}),dqe={bellmanFord:function(e){var r=this,n=hqe(e),i=n.weight,a=n.directed,s=n.root,o=i,l=this,u=this.cy(),h=this.byGroup(),d=h.edges,p=h.nodes,f=p.length,g=new wl,m=!1,y=[];s=u.collection(s)[0],d.unmergeBy(function(ce){return ce.isLoop()});for(var v=d.length,x=function(Te){var be=g.get(Te.id());return be||(be={},g.set(Te.id(),be)),be},w=function(Te){return(Bt(Te)?u.$(Te):Te)[0]},k=function(Te){return x(w(Te)).dist},E=function(Te){for(var be=arguments.length>1&&arguments[1]!==void 0?arguments[1]:s,Ue=w(Te),He=[],Ve=Ue;;){if(Ve==null)return r.spawn();var Re=x(Ve),de=Re.edge,X=Re.pred;if(He.unshift(Ve[0]),Ve.same(be)&&He.length>0)break;de!=null&&He.unshift(de),Ve=X}return l.spawn(He)},_=0;_<f;_++){var S=p[_],R=x(S);S.same(s)?R.dist=0:R.dist=1/0,R.pred=null,R.edge=null}for(var C=!1,L=function(Te,be,Ue,He,Ve,Re){var de=He.dist+Re;de<Ve.dist&&!Ue.same(He.edge)&&(Ve.dist=de,Ve.pred=Te,Ve.edge=Ue,C=!0)},A=1;A<f;A++){C=!1;for(var N=0;N<v;N++){var F=d[N],T=F.source(),D=F.target(),M=o(F),O=x(T),I=x(D);L(T,D,F,O,I,M),a||L(D,T,F,I,O,M)}if(!C)break}if(C)for(var P=[],B=0;B<v;B++){var $=d[B],V=$.source(),W=$.target(),K=o($),Z=x(V).dist,H=x(W).dist;if(Z+K<H||!a&&H+K<Z)if(m||(Or("Graph contains a negative weight cycle for Bellman-Ford"),m=!0),e.findNegativeWeightCycles!==!1){var ee=[];Z+K<H&&ee.push(V),!a&&H+K<Z&&ee.push(W);for(var te=ee.length,U=0;U<te;U++){var j=ee[U],Y=[j];Y.push(x(j).edge);for(var Q=x(j).pred;Y.indexOf(Q)===-1;)Y.push(Q),Y.push(x(Q).edge),Q=x(Q).pred;Y=Y.slice(Y.indexOf(Q));for(var ae=Y[0].id(),ie=0,J=2;J<Y.length;J+=2)Y[J].id()<ae&&(ae=Y[J].id(),ie=J);Y=Y.slice(ie).concat(Y.slice(0,ie)),Y.push(Y[0]);var _e=Y.map(function(ce){return ce.id()}).join(",");P.indexOf(_e)===-1&&(y.push(l.spawn(Y)),P.push(_e))}}else break}return{distanceTo:k,pathTo:E,hasNegativeWeightCycle:m,negativeWeightCycles:y}}},fqe=Math.sqrt(2),pqe=function(e,r,n){n.length===0&&In("Karger-Stein must be run on a connected (sub)graph");for(var i=n[e],a=i[1],s=i[2],o=r[a],l=r[s],u=n,h=u.length-1;h>=0;h--){var d=u[h],p=d[1],f=d[2];(r[p]===o&&r[f]===l||r[p]===l&&r[f]===o)&&u.splice(h,1)}for(var g=0;g<u.length;g++){var m=u[g];m[1]===l?(u[g]=m.slice(),u[g][1]=o):m[2]===l&&(u[g]=m.slice(),u[g][2]=o)}for(var y=0;y<r.length;y++)r[y]===l&&(r[y]=o);return u},yE=function(e,r,n,i){for(;n>i;){var a=Math.floor(Math.random()*r.length);r=pqe(a,e,r),n--}return r},gqe={kargerStein:function(){var e=this,r=this.byGroup(),n=r.nodes,i=r.edges;i.unmergeBy(function(I){return I.isLoop()});var a=n.length,s=i.length,o=Math.ceil(Math.pow(Math.log(a)/Math.LN2,2)),l=Math.floor(a/fqe);if(a<2){In("At least 2 nodes are required for Karger-Stein algorithm");return}for(var u=[],h=0;h<s;h++){var d=i[h];u.push([h,n.indexOf(d.source()),n.indexOf(d.target())])}for(var p=1/0,f=[],g=new Array(a),m=new Array(a),y=new Array(a),v=function(P,B){for(var $=0;$<a;$++)B[$]=P[$]},x=0;x<=o;x++){for(var w=0;w<a;w++)m[w]=w;var k=yE(m,u.slice(),a,l),E=k.slice();v(m,y);var _=yE(m,k,l,2),S=yE(y,E,l,2);_.length<=S.length&&_.length<p?(p=_.length,f=_,v(m,g)):S.length<=_.length&&S.length<p&&(p=S.length,f=S,v(y,g))}for(var R=this.spawn(f.map(function(I){return i[I[0]]})),C=this.spawn(),L=this.spawn(),A=g[0],N=0;N<g.length;N++){var F=g[N],T=n[N];F===A?C.merge(T):L.merge(T)}var D=function(P){var B=e.spawn();return P.forEach(function($){B.merge($),$.connectedEdges().forEach(function(V){e.contains(V)&&!R.contains(V)&&B.merge(V)})}),B},M=[D(C),D(L)],O={cut:R,components:M,partition1:C,partition2:L};return O}},mqe=function(e){return{x:e.x,y:e.y}},_6=function(e,r,n){return{x:e.x*r+n.x,y:e.y*r+n.y}},eae=function(e,r,n){return{x:(e.x-n.x)/r,y:(e.y-n.y)/r}},d0=function(e){return{x:e[0],y:e[1]}},vqe=function(e){for(var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.length,i=1/0,a=r;a<n;a++){var s=e[a];isFinite(s)&&(i=Math.min(s,i))}return i},yqe=function(e){for(var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.length,i=-1/0,a=r;a<n;a++){var s=e[a];isFinite(s)&&(i=Math.max(s,i))}return i},xqe=function(e){for(var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.length,i=0,a=0,s=r;s<n;s++){var o=e[s];isFinite(o)&&(i+=o,a++)}return i/a},bqe=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.length,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,s=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0;i?e=e.slice(r,n):(n<e.length&&e.splice(n,e.length-n),r>0&&e.splice(0,r));for(var o=0,l=e.length-1;l>=0;l--){var u=e[l];s?isFinite(u)||(e[l]=-1/0,o++):e.splice(l,1)}a&&e.sort(function(p,f){return p-f});var h=e.length,d=Math.floor(h/2);return h%2!==0?e[d+1+o]:(e[d-1+o]+e[d+o])/2},wqe=function(e){return Math.PI*e/180},Ax=function(e,r){return Math.atan2(r,e)-Math.PI/2},kN=Math.log2||function(t){return Math.log(t)/Math.log(2)},tae=function(e){return e>0?1:e<0?-1:0},Zd=function(e,r){return Math.sqrt(Gh(e,r))},Gh=function(e,r){var n=r.x-e.x,i=r.y-e.y;return n*n+i*i},kqe=function(e){for(var r=e.length,n=0,i=0;i<r;i++)n+=e[i];for(var a=0;a<r;a++)e[a]=e[a]/n;return e},Ti=function(e,r,n,i){return(1-i)*(1-i)*e+2*(1-i)*i*r+i*i*n},D0=function(e,r,n,i){return{x:Ti(e.x,r.x,n.x,i),y:Ti(e.y,r.y,n.y,i)}},Tqe=function(e,r,n,i){var a={x:r.x-e.x,y:r.y-e.y},s=Zd(e,r),o={x:a.x/s,y:a.y/s};return n=n??0,i=i??n*s,{x:e.x+o.x*i,y:e.y+o.y*i}},ey=function(e,r,n){return Math.max(e,Math.min(n,r))},fs=function(e){if(e==null)return{x1:1/0,y1:1/0,x2:-1/0,y2:-1/0,w:0,h:0};if(e.x1!=null&&e.y1!=null){if(e.x2!=null&&e.y2!=null&&e.x2>=e.x1&&e.y2>=e.y1)return{x1:e.x1,y1:e.y1,x2:e.x2,y2:e.y2,w:e.x2-e.x1,h:e.y2-e.y1};if(e.w!=null&&e.h!=null&&e.w>=0&&e.h>=0)return{x1:e.x1,y1:e.y1,x2:e.x1+e.w,y2:e.y1+e.h,w:e.w,h:e.h}}},Eqe=function(e){return{x1:e.x1,x2:e.x2,w:e.w,y1:e.y1,y2:e.y2,h:e.h}},Sqe=function(e){e.x1=1/0,e.y1=1/0,e.x2=-1/0,e.y2=-1/0,e.w=0,e.h=0},Cqe=function(e,r,n){return{x1:e.x1+r,x2:e.x2+r,y1:e.y1+n,y2:e.y2+n,w:e.w,h:e.h}},rae=function(e,r){e.x1=Math.min(e.x1,r.x1),e.x2=Math.max(e.x2,r.x2),e.w=e.x2-e.x1,e.y1=Math.min(e.y1,r.y1),e.y2=Math.max(e.y2,r.y2),e.h=e.y2-e.y1},Aqe=function(e,r,n){e.x1=Math.min(e.x1,r),e.x2=Math.max(e.x2,r),e.w=e.x2-e.x1,e.y1=Math.min(e.y1,n),e.y2=Math.max(e.y2,n),e.h=e.y2-e.y1},Pb=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return e.x1-=r,e.x2+=r,e.y1-=r,e.y2+=r,e.w=e.x2-e.x1,e.h=e.y2-e.y1,e},Fb=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[0],n,i,a,s;if(r.length===1)n=i=a=s=r[0];else if(r.length===2)n=a=r[0],s=i=r[1];else if(r.length===4){var o=Ao(r,4);n=o[0],i=o[1],a=o[2],s=o[3]}return e.x1-=s,e.x2+=i,e.y1-=n,e.y2+=a,e.w=e.x2-e.x1,e.h=e.y2-e.y1,e},t$=function(e,r){e.x1=r.x1,e.y1=r.y1,e.x2=r.x2,e.y2=r.y2,e.w=e.x2-e.x1,e.h=e.y2-e.y1},TN=function(e,r){return!(e.x1>r.x2||r.x1>e.x2||e.x2<r.x1||r.x2<e.x1||e.y2<r.y1||r.y2<e.y1||e.y1>r.y2||r.y1>e.y2)},gg=function(e,r,n){return e.x1<=r&&r<=e.x2&&e.y1<=n&&n<=e.y2},_qe=function(e,r){return gg(e,r.x,r.y)},nae=function(e,r){return gg(e,r.x1,r.y1)&&gg(e,r.x2,r.y2)},iae=function(e,r,n,i,a,s,o){var l=arguments.length>7&&arguments[7]!==void 0?arguments[7]:"auto",u=l==="auto"?Jd(a,s):l,h=a/2,d=s/2;u=Math.min(u,h,d);var p=u!==h,f=u!==d,g;if(p){var m=n-h+u-o,y=i-d-o,v=n+h-u+o,x=y;if(g=Ru(e,r,n,i,m,y,v,x,!1),g.length>0)return g}if(f){var w=n+h+o,k=i-d+u-o,E=w,_=i+d-u+o;if(g=Ru(e,r,n,i,w,k,E,_,!1),g.length>0)return g}if(p){var S=n-h+u-o,R=i+d+o,C=n+h-u+o,L=R;if(g=Ru(e,r,n,i,S,R,C,L,!1),g.length>0)return g}if(f){var A=n-h-o,N=i-d+u-o,F=A,T=i+d-u+o;if(g=Ru(e,r,n,i,A,N,F,T,!1),g.length>0)return g}var D;{var M=n-h+u,O=i-d+u;if(D=fm(e,r,n,i,M,O,u+o),D.length>0&&D[0]<=M&&D[1]<=O)return[D[0],D[1]]}{var I=n+h-u,P=i-d+u;if(D=fm(e,r,n,i,I,P,u+o),D.length>0&&D[0]>=I&&D[1]<=P)return[D[0],D[1]]}{var B=n+h-u,$=i+d-u;if(D=fm(e,r,n,i,B,$,u+o),D.length>0&&D[0]>=B&&D[1]>=$)return[D[0],D[1]]}{var V=n-h+u,W=i+d-u;if(D=fm(e,r,n,i,V,W,u+o),D.length>0&&D[0]<=V&&D[1]>=W)return[D[0],D[1]]}return[]},Lqe=function(e,r,n,i,a,s,o){var l=o,u=Math.min(n,a),h=Math.max(n,a),d=Math.min(i,s),p=Math.max(i,s);return u-l<=e&&e<=h+l&&d-l<=r&&r<=p+l},Nqe=function(e,r,n,i,a,s,o,l,u){var h={x1:Math.min(n,o,a)-u,x2:Math.max(n,o,a)+u,y1:Math.min(i,l,s)-u,y2:Math.max(i,l,s)+u};return!(e<h.x1||e>h.x2||r<h.y1||r>h.y2)},Rqe=function(e,r,n,i){n-=i;var a=r*r-4*e*n;if(a<0)return[];var s=Math.sqrt(a),o=2*e,l=(-r+s)/o,u=(-r-s)/o;return[l,u]},Mqe=function(e,r,n,i,a){var s=1e-5;e===0&&(e=s),r/=e,n/=e,i/=e;var o,l,u,h,d,p,f,g;if(l=(3*n-r*r)/9,u=-(27*i)+r*(9*n-2*(r*r)),u/=54,o=l*l*l+u*u,a[1]=0,f=r/3,o>0){d=u+Math.sqrt(o),d=d<0?-Math.pow(-d,1/3):Math.pow(d,1/3),p=u-Math.sqrt(o),p=p<0?-Math.pow(-p,1/3):Math.pow(p,1/3),a[0]=-f+d+p,f+=(d+p)/2,a[4]=a[2]=-f,f=Math.sqrt(3)*(-p+d)/2,a[3]=f,a[5]=-f;return}if(a[5]=a[3]=0,o===0){g=u<0?-Math.pow(-u,1/3):Math.pow(u,1/3),a[0]=-f+2*g,a[4]=a[2]=-(g+f);return}l=-l,h=l*l*l,h=Math.acos(u/Math.sqrt(h)),g=2*Math.sqrt(l),a[0]=-f+g*Math.cos(h/3),a[2]=-f+g*Math.cos((h+2*Math.PI)/3),a[4]=-f+g*Math.cos((h+4*Math.PI)/3)},Iqe=function(e,r,n,i,a,s,o,l){var u=1*n*n-4*n*a+2*n*o+4*a*a-4*a*o+o*o+i*i-4*i*s+2*i*l+4*s*s-4*s*l+l*l,h=1*9*n*a-3*n*n-3*n*o-6*a*a+3*a*o+9*i*s-3*i*i-3*i*l-6*s*s+3*s*l,d=1*3*n*n-6*n*a+n*o-n*e+2*a*a+2*a*e-o*e+3*i*i-6*i*s+i*l-i*r+2*s*s+2*s*r-l*r,p=1*n*a-n*n+n*e-a*e+i*s-i*i+i*r-s*r,f=[];Mqe(u,h,d,p,f);for(var g=1e-7,m=[],y=0;y<6;y+=2)Math.abs(f[y+1])<g&&f[y]>=0&&f[y]<=1&&m.push(f[y]);m.push(1),m.push(0);for(var v=-1,x,w,k,E=0;E<m.length;E++)x=Math.pow(1-m[E],2)*n+2*(1-m[E])*m[E]*a+m[E]*m[E]*o,w=Math.pow(1-m[E],2)*i+2*(1-m[E])*m[E]*s+m[E]*m[E]*l,k=Math.pow(x-e,2)+Math.pow(w-r,2),v>=0?k<v&&(v=k):v=k;return v},Dqe=function(e,r,n,i,a,s){var o=[e-n,r-i],l=[a-n,s-i],u=l[0]*l[0]+l[1]*l[1],h=o[0]*o[0]+o[1]*o[1],d=o[0]*l[0]+o[1]*l[1],p=d*d/u;return d<0?h:p>u?(e-a)*(e-a)+(r-s)*(r-s):h-p},Qa=function(e,r,n){for(var i,a,s,o,l,u=0,h=0;h<n.length/2;h++)if(i=n[h*2],a=n[h*2+1],h+1<n.length/2?(s=n[(h+1)*2],o=n[(h+1)*2+1]):(s=n[(h+1-n.length/2)*2],o=n[(h+1-n.length/2)*2+1]),!(i==e&&s==e))if(i>=e&&e>=s||i<=e&&e<=s)l=(e-i)/(s-i)*(o-a)+a,l>r&&u++;else continue;return u%2!==0},Hc=function(e,r,n,i,a,s,o,l,u){var h=new Array(n.length),d;l[0]!=null?(d=Math.atan(l[1]/l[0]),l[0]<0?d=d+Math.PI/2:d=-d-Math.PI/2):d=l;for(var p=Math.cos(-d),f=Math.sin(-d),g=0;g<h.length/2;g++)h[g*2]=s/2*(n[g*2]*p-n[g*2+1]*f),h[g*2+1]=o/2*(n[g*2+1]*p+n[g*2]*f),h[g*2]+=i,h[g*2+1]+=a;var m;if(u>0){var y=w5(h,-u);m=b5(y)}else m=h;return Qa(e,r,m)},Oqe=function(e,r,n,i,a,s,o,l){for(var u=new Array(n.length*2),h=0;h<l.length;h++){var d=l[h];u[h*4+0]=d.startX,u[h*4+1]=d.startY,u[h*4+2]=d.stopX,u[h*4+3]=d.stopY;var p=Math.pow(d.cx-e,2)+Math.pow(d.cy-r,2);if(p<=Math.pow(d.radius,2))return!0}return Qa(e,r,u)},b5=function(e){for(var r=new Array(e.length/2),n,i,a,s,o,l,u,h,d=0;d<e.length/4;d++){n=e[d*4],i=e[d*4+1],a=e[d*4+2],s=e[d*4+3],d<e.length/4-1?(o=e[(d+1)*4],l=e[(d+1)*4+1],u=e[(d+1)*4+2],h=e[(d+1)*4+3]):(o=e[0],l=e[1],u=e[2],h=e[3]);var p=Ru(n,i,a,s,o,l,u,h,!0);r[d*2]=p[0],r[d*2+1]=p[1]}return r},w5=function(e,r){for(var n=new Array(e.length*2),i,a,s,o,l=0;l<e.length/2;l++){i=e[l*2],a=e[l*2+1],l<e.length/2-1?(s=e[(l+1)*2],o=e[(l+1)*2+1]):(s=e[0],o=e[1]);var u=o-a,h=-(s-i),d=Math.sqrt(u*u+h*h),p=u/d,f=h/d;n[l*4]=i+p*r,n[l*4+1]=a+f*r,n[l*4+2]=s+p*r,n[l*4+3]=o+f*r}return n},Pqe=function(e,r,n,i,a,s){var o=n-e,l=i-r;o/=a,l/=s;var u=Math.sqrt(o*o+l*l),h=u-1;if(h<0)return[];var d=h/u;return[(n-e)*d+e,(i-r)*d+r]},hd=function(e,r,n,i,a,s,o){return e-=a,r-=s,e/=n/2+o,r/=i/2+o,e*e+r*r<=1},fm=function(e,r,n,i,a,s,o){var l=[n-e,i-r],u=[e-a,r-s],h=l[0]*l[0]+l[1]*l[1],d=2*(u[0]*l[0]+u[1]*l[1]),p=u[0]*u[0]+u[1]*u[1]-o*o,f=d*d-4*h*p;if(f<0)return[];var g=(-d+Math.sqrt(f))/(2*h),m=(-d-Math.sqrt(f))/(2*h),y=Math.min(g,m),v=Math.max(g,m),x=[];if(y>=0&&y<=1&&x.push(y),v>=0&&v<=1&&x.push(v),x.length===0)return[];var w=x[0]*l[0]+e,k=x[0]*l[1]+r;if(x.length>1){if(x[0]==x[1])return[w,k];var E=x[1]*l[0]+e,_=x[1]*l[1]+r;return[w,k,E,_]}else return[w,k]},xE=function(e,r,n){return r<=e&&e<=n||n<=e&&e<=r?e:e<=r&&r<=n||n<=r&&r<=e?r:n},Ru=function(e,r,n,i,a,s,o,l,u){var h=e-a,d=n-e,p=o-a,f=r-s,g=i-r,m=l-s,y=p*f-m*h,v=d*f-g*h,x=m*d-p*g;if(x!==0){var w=y/x,k=v/x,E=.001,_=0-E,S=1+E;return _<=w&&w<=S&&_<=k&&k<=S?[e+w*d,r+w*g]:u?[e+w*d,r+w*g]:[]}else return y===0||v===0?xE(e,n,o)===o?[o,l]:xE(e,n,a)===a?[a,s]:xE(a,o,n)===n?[n,i]:[]:[]},ty=function(e,r,n,i,a,s,o,l){var u=[],h,d=new Array(n.length),p=!0;s==null&&(p=!1);var f;if(p){for(var g=0;g<d.length/2;g++)d[g*2]=n[g*2]*s+i,d[g*2+1]=n[g*2+1]*o+a;if(l>0){var m=w5(d,-l);f=b5(m)}else f=d}else f=n;for(var y,v,x,w,k=0;k<f.length/2;k++)y=f[k*2],v=f[k*2+1],k<f.length/2-1?(x=f[(k+1)*2],w=f[(k+1)*2+1]):(x=f[0],w=f[1]),h=Ru(e,r,i,a,y,v,x,w),h.length!==0&&u.push(h[0],h[1]);return u},Fqe=function(e,r,n,i,a,s,o,l,u){var h=[],d,p=new Array(n.length*2);u.forEach(function(x,w){w===0?(p[p.length-2]=x.startX,p[p.length-1]=x.startY):(p[w*4-2]=x.startX,p[w*4-1]=x.startY),p[w*4]=x.stopX,p[w*4+1]=x.stopY,d=fm(e,r,i,a,x.cx,x.cy,x.radius),d.length!==0&&h.push(d[0],d[1])});for(var f=0;f<p.length/4;f++)d=Ru(e,r,i,a,p[f*4],p[f*4+1],p[f*4+2],p[f*4+3],!1),d.length!==0&&h.push(d[0],d[1]);if(h.length>2){for(var g=[h[0],h[1]],m=Math.pow(g[0]-e,2)+Math.pow(g[1]-r,2),y=1;y<h.length/2;y++){var v=Math.pow(h[y*2]-e,2)+Math.pow(h[y*2+1]-r,2);v<=m&&(g[0]=h[y*2],g[1]=h[y*2+1],m=v)}return g}return h},_x=function(e,r,n){var i=[e[0]-r[0],e[1]-r[1]],a=Math.sqrt(i[0]*i[0]+i[1]*i[1]),s=(a-n)/a;return s<0&&(s=1e-5),[r[0]+s*i[0],r[1]+s*i[1]]},Aa=function(e,r){var n=p8(e,r);return n=aae(n),n},aae=function(e){for(var r,n,i=e.length/2,a=1/0,s=1/0,o=-1/0,l=-1/0,u=0;u<i;u++)r=e[2*u],n=e[2*u+1],a=Math.min(a,r),o=Math.max(o,r),s=Math.min(s,n),l=Math.max(l,n);for(var h=2/(o-a),d=2/(l-s),p=0;p<i;p++)r=e[2*p]=e[2*p]*h,n=e[2*p+1]=e[2*p+1]*d,a=Math.min(a,r),o=Math.max(o,r),s=Math.min(s,n),l=Math.max(l,n);if(s<-1)for(var f=0;f<i;f++)n=e[2*f+1]=e[2*f+1]+(-1-s);return e},p8=function(e,r){var n=1/e*2*Math.PI,i=e%2===0?Math.PI/2+n/2:Math.PI/2;i+=r;for(var a=new Array(e*2),s,o=0;o<e;o++)s=o*n+i,a[2*o]=Math.cos(s),a[2*o+1]=Math.sin(-s);return a},Jd=function(e,r){return Math.min(e/4,r/4,8)},sae=function(e,r){return Math.min(e/10,r/10,8)},EN=function(){return 8},Bqe=function(e,r,n){return[e-2*r+n,2*(r-e),e]},g8=function(e,r){return{heightOffset:Math.min(15,.05*r),widthOffset:Math.min(100,.25*e),ctrlPtOffsetPct:.05}},$qe=ta({dampingFactor:.8,precision:1e-6,iterations:200,weight:function(e){return 1}}),zqe={pageRank:function(e){for(var r=$qe(e),n=r.dampingFactor,i=r.precision,a=r.iterations,s=r.weight,o=this._private.cy,l=this.byGroup(),u=l.nodes,h=l.edges,d=u.length,p=d*d,f=h.length,g=new Array(p),m=new Array(d),y=(1-n)/d,v=0;v<d;v++){for(var x=0;x<d;x++){var w=v*d+x;g[w]=0}m[v]=0}for(var k=0;k<f;k++){var E=h[k],_=E.data("source"),S=E.data("target");if(_!==S){var R=u.indexOfId(_),C=u.indexOfId(S),L=s(E),A=C*d+R;g[A]+=L,m[R]+=L}}for(var N=1/d+y,F=0;F<d;F++)if(m[F]===0)for(var T=0;T<d;T++){var D=T*d+F;g[D]=N}else for(var M=0;M<d;M++){var O=M*d+F;g[O]=g[O]/m[F]+y}for(var I=new Array(d),P=new Array(d),B,$=0;$<d;$++)I[$]=1;for(var V=0;V<a;V++){for(var W=0;W<d;W++)P[W]=0;for(var K=0;K<d;K++)for(var Z=0;Z<d;Z++){var H=K*d+Z;P[K]+=g[H]*I[Z]}kqe(P),B=I,I=P,P=B;for(var ee=0,te=0;te<d;te++){var U=B[te]-I[te];ee+=U*U}if(ee<i)break}var j={rank:function(Q){return Q=o.collection(Q)[0],I[u.indexOf(Q)]}};return j}},r$=ta({root:null,weight:function(e){return 1},directed:!1,alpha:0}),O0={degreeCentralityNormalized:function(e){e=r$(e);var r=this.cy(),n=this.nodes(),i=n.length;if(e.directed){for(var h={},d={},p=0,f=0,g=0;g<i;g++){var m=n[g],y=m.id();e.root=m;var v=this.degreeCentrality(e);p<v.indegree&&(p=v.indegree),f<v.outdegree&&(f=v.outdegree),h[y]=v.indegree,d[y]=v.outdegree}return{indegree:function(w){return p==0?0:(Bt(w)&&(w=r.filter(w)),h[w.id()]/p)},outdegree:function(w){return f===0?0:(Bt(w)&&(w=r.filter(w)),d[w.id()]/f)}}}else{for(var a={},s=0,o=0;o<i;o++){var l=n[o];e.root=l;var u=this.degreeCentrality(e);s<u.degree&&(s=u.degree),a[l.id()]=u.degree}return{degree:function(w){return s===0?0:(Bt(w)&&(w=r.filter(w)),a[w.id()]/s)}}}},degreeCentrality:function(e){e=r$(e);var r=this.cy(),n=this,i=e,a=i.root,s=i.weight,o=i.directed,l=i.alpha;if(a=r.collection(a)[0],o){for(var f=a.connectedEdges(),g=f.filter(function(_){return _.target().same(a)&&n.has(_)}),m=f.filter(function(_){return _.source().same(a)&&n.has(_)}),y=g.length,v=m.length,x=0,w=0,k=0;k<g.length;k++)x+=s(g[k]);for(var E=0;E<m.length;E++)w+=s(m[E]);return{indegree:Math.pow(y,1-l)*Math.pow(x,l),outdegree:Math.pow(v,1-l)*Math.pow(w,l)}}else{for(var u=a.connectedEdges().intersection(n),h=u.length,d=0,p=0;p<u.length;p++)d+=s(u[p]);return{degree:Math.pow(h,1-l)*Math.pow(d,l)}}}};O0.dc=O0.degreeCentrality;O0.dcn=O0.degreeCentralityNormalised=O0.degreeCentralityNormalized;var n$=ta({harmonic:!0,weight:function(){return 1},directed:!1,root:null}),P0={closenessCentralityNormalized:function(e){for(var r=n$(e),n=r.harmonic,i=r.weight,a=r.directed,s=this.cy(),o={},l=0,u=this.nodes(),h=this.floydWarshall({weight:i,directed:a}),d=0;d<u.length;d++){for(var p=0,f=u[d],g=0;g<u.length;g++)if(d!==g){var m=h.distance(f,u[g]);n?p+=1/m:p+=m}n||(p=1/p),l<p&&(l=p),o[f.id()]=p}return{closeness:function(v){return l==0?0:(Bt(v)?v=s.filter(v)[0].id():v=v.id(),o[v]/l)}}},closenessCentrality:function(e){var r=n$(e),n=r.root,i=r.weight,a=r.directed,s=r.harmonic;n=this.filter(n)[0];for(var o=this.dijkstra({root:n,weight:i,directed:a}),l=0,u=this.nodes(),h=0;h<u.length;h++){var d=u[h];if(!d.same(n)){var p=o.distanceTo(d);s?l+=1/p:l+=p}}return s?l:1/l}};P0.cc=P0.closenessCentrality;P0.ccn=P0.closenessCentralityNormalised=P0.closenessCentralityNormalized;var Uqe=ta({weight:null,directed:!1}),m8={betweennessCentrality:function(e){for(var r=Uqe(e),n=r.directed,i=r.weight,a=i!=null,s=this.cy(),o=this.nodes(),l={},u={},h=0,d={set:function(w,k){u[w]=k,k>h&&(h=k)},get:function(w){return u[w]}},p=0;p<o.length;p++){var f=o[p],g=f.id();n?l[g]=f.outgoers().nodes():l[g]=f.openNeighborhood().nodes(),d.set(g,0)}for(var m=function(w){for(var k=o[w].id(),E=[],_={},S={},R={},C=new o2(function(Z,H){return R[Z]-R[H]}),L=0;L<o.length;L++){var A=o[L].id();_[A]=[],S[A]=0,R[A]=1/0}for(S[k]=1,R[k]=0,C.push(k);!C.empty();){var N=C.pop();if(E.push(N),a)for(var F=0;F<l[N].length;F++){var T=l[N][F],D=s.getElementById(N),M=void 0;D.edgesTo(T).length>0?M=D.edgesTo(T)[0]:M=T.edgesTo(D)[0];var O=i(M);T=T.id(),R[T]>R[N]+O&&(R[T]=R[N]+O,C.nodes.indexOf(T)<0?C.push(T):C.updateItem(T),S[T]=0,_[T]=[]),R[T]==R[N]+O&&(S[T]=S[T]+S[N],_[T].push(N))}else for(var I=0;I<l[N].length;I++){var P=l[N][I].id();R[P]==1/0&&(C.push(P),R[P]=R[N]+1),R[P]==R[N]+1&&(S[P]=S[P]+S[N],_[P].push(N))}}for(var B={},$=0;$<o.length;$++)B[o[$].id()]=0;for(;E.length>0;){for(var V=E.pop(),W=0;W<_[V].length;W++){var K=_[V][W];B[K]=B[K]+S[K]/S[V]*(1+B[V])}V!=o[w].id()&&d.set(V,d.get(V)+B[V])}},y=0;y<o.length;y++)m(y);var v={betweenness:function(w){var k=s.collection(w).id();return d.get(k)},betweennessNormalized:function(w){if(h==0)return 0;var k=s.collection(w).id();return d.get(k)/h}};return v.betweennessNormalised=v.betweennessNormalized,v}};m8.bc=m8.betweennessCentrality;var Vqe=ta({expandFactor:2,inflateFactor:2,multFactor:1,maxIterations:20,attributes:[function(t){return 1}]}),Gqe=function(e){return Vqe(e)},Hqe=function(e,r){for(var n=0,i=0;i<r.length;i++)n+=r[i](e);return n},Wqe=function(e,r,n){for(var i=0;i<r;i++)e[i*r+i]=n},oae=function(e,r){for(var n,i=0;i<r;i++){n=0;for(var a=0;a<r;a++)n+=e[a*r+i];for(var s=0;s<r;s++)e[s*r+i]=e[s*r+i]/n}},Yqe=function(e,r,n){for(var i=new Array(n*n),a=0;a<n;a++){for(var s=0;s<n;s++)i[a*n+s]=0;for(var o=0;o<n;o++)for(var l=0;l<n;l++)i[a*n+l]+=e[a*n+o]*r[o*n+l]}return i},qqe=function(e,r,n){for(var i=e.slice(0),a=1;a<n;a++)e=Yqe(e,i,r);return e},jqe=function(e,r,n){for(var i=new Array(r*r),a=0;a<r*r;a++)i[a]=Math.pow(e[a],n);return oae(i,r),i},Xqe=function(e,r,n,i){for(var a=0;a<n;a++){var s=Math.round(e[a]*Math.pow(10,i))/Math.pow(10,i),o=Math.round(r[a]*Math.pow(10,i))/Math.pow(10,i);if(s!==o)return!1}return!0},Kqe=function(e,r,n,i){for(var a=[],s=0;s<r;s++){for(var o=[],l=0;l<r;l++)Math.round(e[s*r+l]*1e3)/1e3>0&&o.push(n[l]);o.length!==0&&a.push(i.collection(o))}return a},Qqe=function(e,r){for(var n=0;n<e.length;n++)if(!r[n]||e[n].id()!==r[n].id())return!1;return!0},Zqe=function(e){for(var r=0;r<e.length;r++)for(var n=0;n<e.length;n++)r!=n&&Qqe(e[r],e[n])&&e.splice(n,1);return e},i$=function(e){for(var r=this.nodes(),n=this.edges(),i=this.cy(),a=Gqe(e),s={},o=0;o<r.length;o++)s[r[o].id()]=o;for(var l=r.length,u=l*l,h=new Array(u),d,p=0;p<u;p++)h[p]=0;for(var f=0;f<n.length;f++){var g=n[f],m=s[g.source().id()],y=s[g.target().id()],v=Hqe(g,a.attributes);h[m*l+y]+=v,h[y*l+m]+=v}Wqe(h,l,a.multFactor),oae(h,l);for(var x=!0,w=0;x&&w<a.maxIterations;)x=!1,d=qqe(h,l,a.expandFactor),h=jqe(d,l,a.inflateFactor),Xqe(h,d,u,4)||(x=!0),w++;var k=Kqe(h,l,r,i);return k=Zqe(k),k},Jqe={markovClustering:i$,mcl:i$},eje=function(e){return e},lae=function(e,r){return Math.abs(r-e)},a$=function(e,r,n){return e+lae(r,n)},s$=function(e,r,n){return e+Math.pow(n-r,2)},tje=function(e){return Math.sqrt(e)},rje=function(e,r,n){return Math.max(e,lae(r,n))},$1=function(e,r,n,i,a){for(var s=arguments.length>5&&arguments[5]!==void 0?arguments[5]:eje,o=i,l,u,h=0;h<e;h++)l=r(h),u=n(h),o=a(o,l,u);return s(o)},mg={euclidean:function(e,r,n){return e>=2?$1(e,r,n,0,s$,tje):$1(e,r,n,0,a$)},squaredEuclidean:function(e,r,n){return $1(e,r,n,0,s$)},manhattan:function(e,r,n){return $1(e,r,n,0,a$)},max:function(e,r,n){return $1(e,r,n,-1/0,rje)}};mg["squared-euclidean"]=mg.squaredEuclidean;mg.squaredeuclidean=mg.squaredEuclidean;function L6(t,e,r,n,i,a){var s;return En(t)?s=t:s=mg[t]||mg.euclidean,e===0&&En(t)?s(i,a):s(e,r,n,i,a)}var nje=ta({k:2,m:2,sensitivityThreshold:1e-4,distance:"euclidean",maxIterations:10,attributes:[],testMode:!1,testCentroids:null}),SN=function(e){return nje(e)},k5=function(e,r,n,i,a){var s=a!=="kMedoids",o=s?function(d){return n[d]}:function(d){return i[d](n)},l=function(p){return i[p](r)},u=n,h=r;return L6(e,i.length,o,l,u,h)},bE=function(e,r,n){for(var i=n.length,a=new Array(i),s=new Array(i),o=new Array(r),l=null,u=0;u<i;u++)a[u]=e.min(n[u]).value,s[u]=e.max(n[u]).value;for(var h=0;h<r;h++){l=[];for(var d=0;d<i;d++)l[d]=Math.random()*(s[d]-a[d])+a[d];o[h]=l}return o},cae=function(e,r,n,i,a){for(var s=1/0,o=0,l=0;l<r.length;l++){var u=k5(n,e,r[l],i,a);u<s&&(s=u,o=l)}return o},uae=function(e,r,n){for(var i=[],a=null,s=0;s<r.length;s++)a=r[s],n[a.id()]===e&&i.push(a);return i},ije=function(e,r,n){return Math.abs(r-e)<=n},aje=function(e,r,n){for(var i=0;i<e.length;i++)for(var a=0;a<e[i].length;a++){var s=Math.abs(e[i][a]-r[i][a]);if(s>n)return!1}return!0},sje=function(e,r,n){for(var i=0;i<n;i++)if(e===r[i])return!0;return!1},o$=function(e,r){var n=new Array(r);if(e.length<50)for(var i=0;i<r;i++){for(var a=e[Math.floor(Math.random()*e.length)];sje(a,n,i);)a=e[Math.floor(Math.random()*e.length)];n[i]=a}else for(var s=0;s<r;s++)n[s]=e[Math.floor(Math.random()*e.length)];return n},l$=function(e,r,n){for(var i=0,a=0;a<r.length;a++)i+=k5("manhattan",r[a],e,n,"kMedoids");return i},oje=function(e){var r=this.cy(),n=this.nodes(),i=null,a=SN(e),s=new Array(a.k),o={},l;a.testMode?typeof a.testCentroids=="number"?(a.testCentroids,l=bE(n,a.k,a.attributes)):vi(a.testCentroids)==="object"?l=a.testCentroids:l=bE(n,a.k,a.attributes):l=bE(n,a.k,a.attributes);for(var u=!0,h=0;u&&h<a.maxIterations;){for(var d=0;d<n.length;d++)i=n[d],o[i.id()]=cae(i,l,a.distance,a.attributes,"kMeans");u=!1;for(var p=0;p<a.k;p++){var f=uae(p,n,o);if(f.length!==0){for(var g=a.attributes.length,m=l[p],y=new Array(g),v=new Array(g),x=0;x<g;x++){v[x]=0;for(var w=0;w<f.length;w++)i=f[w],v[x]+=a.attributes[x](i);y[x]=v[x]/f.length,ije(y[x],m[x],a.sensitivityThreshold)||(u=!0)}l[p]=y,s[p]=r.collection(f)}}h++}return s},lje=function(e){var r=this.cy(),n=this.nodes(),i=null,a=SN(e),s=new Array(a.k),o,l={},u,h=new Array(a.k);a.testMode?typeof a.testCentroids=="number"||(vi(a.testCentroids)==="object"?o=a.testCentroids:o=o$(n,a.k)):o=o$(n,a.k);for(var d=!0,p=0;d&&p<a.maxIterations;){for(var f=0;f<n.length;f++)i=n[f],l[i.id()]=cae(i,o,a.distance,a.attributes,"kMedoids");d=!1;for(var g=0;g<o.length;g++){var m=uae(g,n,l);if(m.length!==0){h[g]=l$(o[g],m,a.attributes);for(var y=0;y<m.length;y++)u=l$(m[y],m,a.attributes),u<h[g]&&(h[g]=u,o[g]=m[y],d=!0);s[g]=r.collection(m)}}p++}return s},cje=function(e,r,n,i,a){for(var s,o,l=0;l<r.length;l++)for(var u=0;u<e.length;u++)i[l][u]=Math.pow(n[l][u],a.m);for(var h=0;h<e.length;h++)for(var d=0;d<a.attributes.length;d++){s=0,o=0;for(var p=0;p<r.length;p++)s+=i[p][h]*a.attributes[d](r[p]),o+=i[p][h];e[h][d]=s/o}},uje=function(e,r,n,i,a){for(var s=0;s<e.length;s++)r[s]=e[s].slice();for(var o,l,u,h=2/(a.m-1),d=0;d<n.length;d++)for(var p=0;p<i.length;p++){o=0;for(var f=0;f<n.length;f++)l=k5(a.distance,i[p],n[d],a.attributes,"cmeans"),u=k5(a.distance,i[p],n[f],a.attributes,"cmeans"),o+=Math.pow(l/u,h);e[p][d]=1/o}},hje=function(e,r,n,i){for(var a=new Array(n.k),s=0;s<a.length;s++)a[s]=[];for(var o,l,u=0;u<r.length;u++){o=-1/0,l=-1;for(var h=0;h<r[0].length;h++)r[u][h]>o&&(o=r[u][h],l=h);a[l].push(e[u])}for(var d=0;d<a.length;d++)a[d]=i.collection(a[d]);return a},c$=function(e){var r=this.cy(),n=this.nodes(),i=SN(e),a,s,o,l,u;l=new Array(n.length);for(var h=0;h<n.length;h++)l[h]=new Array(i.k);o=new Array(n.length);for(var d=0;d<n.length;d++)o[d]=new Array(i.k);for(var p=0;p<n.length;p++){for(var f=0,g=0;g<i.k;g++)o[p][g]=Math.random(),f+=o[p][g];for(var m=0;m<i.k;m++)o[p][m]=o[p][m]/f}s=new Array(i.k);for(var y=0;y<i.k;y++)s[y]=new Array(i.attributes.length);u=new Array(n.length);for(var v=0;v<n.length;v++)u[v]=new Array(i.k);for(var x=!0,w=0;x&&w<i.maxIterations;)x=!1,cje(s,n,o,u,i),uje(o,l,s,n,i),aje(o,l,i.sensitivityThreshold)||(x=!0),w++;return a=hje(n,o,i,r),{clusters:a,degreeOfMembership:o}},dje={kMeans:oje,kMedoids:lje,fuzzyCMeans:c$,fcm:c$},fje=ta({distance:"euclidean",linkage:"min",mode:"threshold",threshold:1/0,addDendrogram:!1,dendrogramDepth:0,attributes:[]}),pje={single:"min",complete:"max"},gje=function(e){var r=fje(e),n=pje[r.linkage];return n!=null&&(r.linkage=n),r},u$=function(e,r,n,i,a){for(var s=0,o=1/0,l,u=a.attributes,h=function(C,L){return L6(a.distance,u.length,function(A){return u[A](C)},function(A){return u[A](L)},C,L)},d=0;d<e.length;d++){var p=e[d].key,f=n[p][i[p]];f<o&&(s=p,o=f)}if(a.mode==="threshold"&&o>=a.threshold||a.mode==="dendrogram"&&e.length===1)return!1;var g=r[s],m=r[i[s]],y;a.mode==="dendrogram"?y={left:g,right:m,key:g.key}:y={value:g.value.concat(m.value),key:g.key},e[g.index]=y,e.splice(m.index,1),r[g.key]=y;for(var v=0;v<e.length;v++){var x=e[v];g.key===x.key?l=1/0:a.linkage==="min"?(l=n[g.key][x.key],n[g.key][x.key]>n[m.key][x.key]&&(l=n[m.key][x.key])):a.linkage==="max"?(l=n[g.key][x.key],n[g.key][x.key]<n[m.key][x.key]&&(l=n[m.key][x.key])):a.linkage==="mean"?l=(n[g.key][x.key]*g.size+n[m.key][x.key]*m.size)/(g.size+m.size):a.mode==="dendrogram"?l=h(x.value,g.value):l=h(x.value[0],g.value[0]),n[g.key][x.key]=n[x.key][g.key]=l}for(var w=0;w<e.length;w++){var k=e[w].key;if(i[k]===g.key||i[k]===m.key){for(var E=k,_=0;_<e.length;_++){var S=e[_].key;n[k][S]<n[k][E]&&(E=S)}i[k]=E}e[w].index=w}return g.key=m.key=g.index=m.index=null,!0},Lx=function t(e,r,n){e&&(e.value?r.push(e.value):(e.left&&t(e.left,r),e.right&&t(e.right,r)))},mje=function t(e,r){if(!e)return"";if(e.left&&e.right){var n=t(e.left,r),i=t(e.right,r),a=r.add({group:"nodes",data:{id:n+","+i}});return r.add({group:"edges",data:{source:n,target:a.id()}}),r.add({group:"edges",data:{source:i,target:a.id()}}),a.id()}else if(e.value)return e.value.id()},vje=function t(e,r,n){if(!e)return[];var i=[],a=[],s=[];return r===0?(e.left&&Lx(e.left,i),e.right&&Lx(e.right,a),s=i.concat(a),[n.collection(s)]):r===1?e.value?[n.collection(e.value)]:(e.left&&Lx(e.left,i),e.right&&Lx(e.right,a),[n.collection(i),n.collection(a)]):e.value?[n.collection(e.value)]:(e.left&&(i=t(e.left,r-1,n)),e.right&&(a=t(e.right,r-1,n)),i.concat(a))},h$=function(e){for(var r=this.cy(),n=this.nodes(),i=gje(e),a=i.attributes,s=function(w,k){return L6(i.distance,a.length,function(E){return a[E](w)},function(E){return a[E](k)},w,k)},o=[],l=[],u=[],h=[],d=0;d<n.length;d++){var p={value:i.mode==="dendrogram"?n[d]:[n[d]],key:d,index:d};o[d]=p,h[d]=p,l[d]=[],u[d]=0}for(var f=0;f<o.length;f++)for(var g=0;g<=f;g++){var m=void 0;i.mode==="dendrogram"?m=f===g?1/0:s(o[f].value,o[g].value):m=f===g?1/0:s(o[f].value[0],o[g].value[0]),l[f][g]=m,l[g][f]=m,m<l[f][u[f]]&&(u[f]=g)}for(var y=u$(o,h,l,u,i);y;)y=u$(o,h,l,u,i);var v;return i.mode==="dendrogram"?(v=vje(o[0],i.dendrogramDepth,r),i.addDendrogram&&mje(o[0],r)):(v=new Array(o.length),o.forEach(function(x,w){x.key=x.index=null,v[w]=r.collection(x.value)})),v},yje={hierarchicalClustering:h$,hca:h$},xje=ta({distance:"euclidean",preference:"median",damping:.8,maxIterations:1e3,minIterations:100,attributes:[]}),bje=function(e){var r=e.damping,n=e.preference;.5<=r&&r<1||In("Damping must range on [0.5, 1).  Got: ".concat(r));var i=["median","mean","min","max"];return i.some(function(a){return a===n})||mt(n)||In("Preference must be one of [".concat(i.map(function(a){return"'".concat(a,"'")}).join(", "),"] or a number.  Got: ").concat(n)),xje(e)},wje=function(e,r,n,i){var a=function(o,l){return i[l](o)};return-L6(e,i.length,function(s){return a(r,s)},function(s){return a(n,s)},r,n)},kje=function(e,r){var n=null;return r==="median"?n=bqe(e):r==="mean"?n=xqe(e):r==="min"?n=vqe(e):r==="max"?n=yqe(e):n=r,n},Tje=function(e,r,n){for(var i=[],a=0;a<e;a++)r[a*e+a]+n[a*e+a]>0&&i.push(a);return i},d$=function(e,r,n){for(var i=[],a=0;a<e;a++){for(var s=-1,o=-1/0,l=0;l<n.length;l++){var u=n[l];r[a*e+u]>o&&(s=u,o=r[a*e+u])}s>0&&i.push(s)}for(var h=0;h<n.length;h++)i[n[h]]=n[h];return i},Eje=function(e,r,n){for(var i=d$(e,r,n),a=0;a<n.length;a++){for(var s=[],o=0;o<i.length;o++)i[o]===n[a]&&s.push(o);for(var l=-1,u=-1/0,h=0;h<s.length;h++){for(var d=0,p=0;p<s.length;p++)d+=r[s[p]*e+s[h]];d>u&&(l=h,u=d)}n[a]=s[l]}return i=d$(e,r,n),i},f$=function(e){for(var r=this.cy(),n=this.nodes(),i=bje(e),a={},s=0;s<n.length;s++)a[n[s].id()]=s;var o,l,u,h,d,p;o=n.length,l=o*o,u=new Array(l);for(var f=0;f<l;f++)u[f]=-1/0;for(var g=0;g<o;g++)for(var m=0;m<o;m++)g!==m&&(u[g*o+m]=wje(i.distance,n[g],n[m],i.attributes));h=kje(u,i.preference);for(var y=0;y<o;y++)u[y*o+y]=h;d=new Array(l);for(var v=0;v<l;v++)d[v]=0;p=new Array(l);for(var x=0;x<l;x++)p[x]=0;for(var w=new Array(o),k=new Array(o),E=new Array(o),_=0;_<o;_++)w[_]=0,k[_]=0,E[_]=0;for(var S=new Array(o*i.minIterations),R=0;R<S.length;R++)S[R]=0;var C;for(C=0;C<i.maxIterations;C++){for(var L=0;L<o;L++){for(var A=-1/0,N=-1/0,F=-1,T=0,D=0;D<o;D++)w[D]=d[L*o+D],T=p[L*o+D]+u[L*o+D],T>=A?(N=A,A=T,F=D):T>N&&(N=T);for(var M=0;M<o;M++)d[L*o+M]=(1-i.damping)*(u[L*o+M]-A)+i.damping*w[M];d[L*o+F]=(1-i.damping)*(u[L*o+F]-N)+i.damping*w[F]}for(var O=0;O<o;O++){for(var I=0,P=0;P<o;P++)w[P]=p[P*o+O],k[P]=Math.max(0,d[P*o+O]),I+=k[P];I-=k[O],k[O]=d[O*o+O],I+=k[O];for(var B=0;B<o;B++)p[B*o+O]=(1-i.damping)*Math.min(0,I-k[B])+i.damping*w[B];p[O*o+O]=(1-i.damping)*(I-k[O])+i.damping*w[O]}for(var $=0,V=0;V<o;V++){var W=p[V*o+V]+d[V*o+V]>0?1:0;S[C%i.minIterations*o+V]=W,$+=W}if($>0&&(C>=i.minIterations-1||C==i.maxIterations-1)){for(var K=0,Z=0;Z<o;Z++){E[Z]=0;for(var H=0;H<i.minIterations;H++)E[Z]+=S[H*o+Z];(E[Z]===0||E[Z]===i.minIterations)&&K++}if(K===o)break}}for(var ee=Tje(o,d,p),te=Eje(o,u,ee),U={},j=0;j<ee.length;j++)U[ee[j]]=[];for(var Y=0;Y<n.length;Y++){var Q=a[n[Y].id()],ae=te[Q];ae!=null&&U[ae].push(n[Y])}for(var ie=new Array(ee.length),J=0;J<ee.length;J++)ie[J]=r.collection(U[ee[J]]);return ie},Sje={affinityPropagation:f$,ap:f$},Cje=ta({root:void 0,directed:!1}),Aje={hierholzer:function(e){if(!Tr(e)){var r=arguments;e={root:r[0],directed:r[1]}}var n=Cje(e),i=n.root,a=n.directed,s=this,o=!1,l,u,h;i&&(h=Bt(i)?this.filter(i)[0].id():i[0].id());var d={},p={};a?s.forEach(function(x){var w=x.id();if(x.isNode()){var k=x.indegree(!0),E=x.outdegree(!0),_=k-E,S=E-k;_==1?l?o=!0:l=w:S==1?u?o=!0:u=w:(S>1||_>1)&&(o=!0),d[w]=[],x.outgoers().forEach(function(R){R.isEdge()&&d[w].push(R.id())})}else p[w]=[void 0,x.target().id()]}):s.forEach(function(x){var w=x.id();if(x.isNode()){var k=x.degree(!0);k%2&&(l?u?o=!0:u=w:l=w),d[w]=[],x.connectedEdges().forEach(function(E){return d[w].push(E.id())})}else p[w]=[x.source().id(),x.target().id()]});var f={found:!1,trail:void 0};if(o)return f;if(u&&l)if(a){if(h&&u!=h)return f;h=u}else{if(h&&u!=h&&l!=h)return f;h||(h=u)}else h||(h=s[0].id());var g=function(w){for(var k=w,E=[w],_,S,R;d[k].length;)_=d[k].shift(),S=p[_][0],R=p[_][1],k!=R?(d[R]=d[R].filter(function(C){return C!=_}),k=R):!a&&k!=S&&(d[S]=d[S].filter(function(C){return C!=_}),k=S),E.unshift(_),E.unshift(k);return E},m=[],y=[];for(y=g(h);y.length!=1;)d[y[0]].length==0?(m.unshift(s.getElementById(y.shift())),m.unshift(s.getElementById(y.shift()))):y=g(y.shift()).concat(y);m.unshift(s.getElementById(y.shift()));for(var v in d)if(d[v].length)return f;return f.found=!0,f.trail=this.spawn(m,!0),f}},Nx=function(){var e=this,r={},n=0,i=0,a=[],s=[],o={},l=function(p,f){for(var g=s.length-1,m=[],y=e.spawn();s[g].x!=p||s[g].y!=f;)m.push(s.pop().edge),g--;m.push(s.pop().edge),m.forEach(function(v){var x=v.connectedNodes().intersection(e);y.merge(v),x.forEach(function(w){var k=w.id(),E=w.connectedEdges().intersection(e);y.merge(w),r[k].cutVertex?y.merge(E.filter(function(_){return _.isLoop()})):y.merge(E)})}),a.push(y)},u=function d(p,f,g){p===g&&(i+=1),r[f]={id:n,low:n++,cutVertex:!1};var m=e.getElementById(f).connectedEdges().intersection(e);if(m.size()===0)a.push(e.spawn(e.getElementById(f)));else{var y,v,x,w;m.forEach(function(k){y=k.source().id(),v=k.target().id(),x=y===f?v:y,x!==g&&(w=k.id(),o[w]||(o[w]=!0,s.push({x:f,y:x,edge:k})),x in r?r[f].low=Math.min(r[f].low,r[x].id):(d(p,x,f),r[f].low=Math.min(r[f].low,r[x].low),r[f].id<=r[x].low&&(r[f].cutVertex=!0,l(f,x))))})}};e.forEach(function(d){if(d.isNode()){var p=d.id();p in r||(i=0,u(p,p),r[p].cutVertex=i>1)}});var h=Object.keys(r).filter(function(d){return r[d].cutVertex}).map(function(d){return e.getElementById(d)});return{cut:e.spawn(h),components:a}},_je={hopcroftTarjanBiconnected:Nx,htbc:Nx,htb:Nx,hopcroftTarjanBiconnectedComponents:Nx},Rx=function(){var e=this,r={},n=0,i=[],a=[],s=e.spawn(e),o=function l(u){a.push(u),r[u]={index:n,low:n++,explored:!1};var h=e.getElementById(u).connectedEdges().intersection(e);if(h.forEach(function(m){var y=m.target().id();y!==u&&(y in r||l(y),r[y].explored||(r[u].low=Math.min(r[u].low,r[y].low)))}),r[u].index===r[u].low){for(var d=e.spawn();;){var p=a.pop();if(d.merge(e.getElementById(p)),r[p].low=r[u].index,r[p].explored=!0,p===u)break}var f=d.edgesWith(d),g=d.merge(f);i.push(g),s=s.difference(g)}};return e.forEach(function(l){if(l.isNode()){var u=l.id();u in r||o(u)}}),{cut:s,components:i}},Lje={tarjanStronglyConnected:Rx,tsc:Rx,tscc:Rx,tarjanStronglyConnectedComponents:Rx},hae={};[Jv,aqe,sqe,lqe,uqe,dqe,gqe,zqe,O0,P0,m8,Jqe,dje,yje,Sje,Aje,_je,Lje].forEach(function(t){jt(hae,t)});/*!
Embeddable Minimum Strictly-Compliant Promises/A+ 1.1.1 Thenable
Copyright (c) 2013-2014 Ralf S. Engelschall (http://engelschall.com)
Licensed under The MIT License (http://opensource.org/licenses/MIT)
*/var dae=0,fae=1,pae=2,Wc=function t(e){if(!(this instanceof t))return new t(e);this.id="Thenable/1.0.7",this.state=dae,this.fulfillValue=void 0,this.rejectReason=void 0,this.onFulfilled=[],this.onRejected=[],this.proxy={then:this.then.bind(this)},typeof e=="function"&&e.call(this,this.fulfill.bind(this),this.reject.bind(this))};Wc.prototype={fulfill:function(e){return p$(this,fae,"fulfillValue",e)},reject:function(e){return p$(this,pae,"rejectReason",e)},then:function(e,r){var n=this,i=new Wc;return n.onFulfilled.push(m$(e,i,"fulfill")),n.onRejected.push(m$(r,i,"reject")),gae(n),i.proxy}};var p$=function(e,r,n,i){return e.state===dae&&(e.state=r,e[n]=i,gae(e)),e},gae=function(e){e.state===fae?g$(e,"onFulfilled",e.fulfillValue):e.state===pae&&g$(e,"onRejected",e.rejectReason)},g$=function(e,r,n){if(e[r].length!==0){var i=e[r];e[r]=[];var a=function(){for(var o=0;o<i.length;o++)i[o](n)};typeof setImmediate=="function"?setImmediate(a):setTimeout(a,0)}},m$=function(e,r,n){return function(i){if(typeof e!="function")r[n].call(r,i);else{var a;try{a=e(i)}catch(s){r.reject(s);return}Nje(r,a)}}},Nje=function t(e,r){if(e===r||e.proxy===r){e.reject(new TypeError("cannot resolve promise with itself"));return}var n;if(vi(r)==="object"&&r!==null||typeof r=="function")try{n=r.then}catch(a){e.reject(a);return}if(typeof n=="function"){var i=!1;try{n.call(r,function(a){i||(i=!0,a===r?e.reject(new TypeError("circular thenable chain")):t(e,a))},function(a){i||(i=!0,e.reject(a))})}catch(a){i||e.reject(a)}return}e.fulfill(r)};Wc.all=function(t){return new Wc(function(e,r){for(var n=new Array(t.length),i=0,a=function(l,u){n[l]=u,i++,i===t.length&&e(n)},s=0;s<t.length;s++)(function(o){var l=t[o],u=l!=null&&l.then!=null;if(u)l.then(function(d){a(o,d)},function(d){r(d)});else{var h=l;a(o,h)}})(s)})};Wc.resolve=function(t){return new Wc(function(e,r){e(t)})};Wc.reject=function(t){return new Wc(function(e,r){r(t)})};var jg=typeof Promise<"u"?Promise:Wc,v8=function(e,r,n){var i=vN(e),a=!i,s=this._private=jt({duration:1e3},r,n);if(s.target=e,s.style=s.style||s.css,s.started=!1,s.playing=!1,s.hooked=!1,s.applying=!1,s.progress=0,s.completes=[],s.frames=[],s.complete&&En(s.complete)&&s.completes.push(s.complete),a){var o=e.position();s.startPosition=s.startPosition||{x:o.x,y:o.y},s.startStyle=s.startStyle||e.cy().style().getAnimationStartStyle(e,s.style)}if(i){var l=e.pan();s.startPan={x:l.x,y:l.y},s.startZoom=e.zoom()}this.length=1,this[0]=this},ef=v8.prototype;jt(ef,{instanceString:function(){return"animation"},hook:function(){var e=this._private;if(!e.hooked){var r,n=e.target._private.animation;e.queue?r=n.queue:r=n.current,r.push(this),Ns(e.target)&&e.target.cy().addToAnimationPool(e.target),e.hooked=!0}return this},play:function(){var e=this._private;return e.progress===1&&(e.progress=0),e.playing=!0,e.started=!1,e.stopped=!1,this.hook(),this},playing:function(){return this._private.playing},apply:function(){var e=this._private;return e.applying=!0,e.started=!1,e.stopped=!1,this.hook(),this},applying:function(){return this._private.applying},pause:function(){var e=this._private;return e.playing=!1,e.started=!1,this},stop:function(){var e=this._private;return e.playing=!1,e.started=!1,e.stopped=!0,this},rewind:function(){return this.progress(0)},fastforward:function(){return this.progress(1)},time:function(e){var r=this._private;return e===void 0?r.progress*r.duration:this.progress(e/r.duration)},progress:function(e){var r=this._private,n=r.playing;return e===void 0?r.progress:(n&&this.pause(),r.progress=e,r.started=!1,n&&this.play(),this)},completed:function(){return this._private.progress===1},reverse:function(){var e=this._private,r=e.playing;r&&this.pause(),e.progress=1-e.progress,e.started=!1;var n=function(u,h){var d=e[u];d!=null&&(e[u]=e[h],e[h]=d)};if(n("zoom","startZoom"),n("pan","startPan"),n("position","startPosition"),e.style)for(var i=0;i<e.style.length;i++){var a=e.style[i],s=a.name,o=e.startStyle[s];e.startStyle[s]=a,e.style[i]=o}return r&&this.play(),this},promise:function(e){var r=this._private,n;switch(e){case"frame":n=r.frames;break;default:case"complete":case"completed":n=r.completes}return new jg(function(i,a){n.push(function(){i()})})}});ef.complete=ef.completed;ef.run=ef.play;ef.running=ef.playing;var Rje={animated:function(){return function(){var r=this,n=r.length!==void 0,i=n?r:[r],a=this._private.cy||this;if(!a.styleEnabled())return!1;var s=i[0];if(s)return s._private.animation.current.length>0}},clearQueue:function(){return function(){var r=this,n=r.length!==void 0,i=n?r:[r],a=this._private.cy||this;if(!a.styleEnabled())return this;for(var s=0;s<i.length;s++){var o=i[s];o._private.animation.queue=[]}return this}},delay:function(){return function(r,n){var i=this._private.cy||this;return i.styleEnabled()?this.animate({delay:r,duration:r,complete:n}):this}},delayAnimation:function(){return function(r,n){var i=this._private.cy||this;return i.styleEnabled()?this.animation({delay:r,duration:r,complete:n}):this}},animation:function(){return function(r,n){var i=this,a=i.length!==void 0,s=a?i:[i],o=this._private.cy||this,l=!a,u=!l;if(!o.styleEnabled())return this;var h=o.style();r=jt({},r,n);var d=Object.keys(r).length===0;if(d)return new v8(s[0],r);switch(r.duration===void 0&&(r.duration=400),r.duration){case"slow":r.duration=600;break;case"fast":r.duration=200;break}if(u&&(r.style=h.getPropsList(r.style||r.css),r.css=void 0),u&&r.renderedPosition!=null){var p=r.renderedPosition,f=o.pan(),g=o.zoom();r.position=eae(p,g,f)}if(l&&r.panBy!=null){var m=r.panBy,y=o.pan();r.pan={x:y.x+m.x,y:y.y+m.y}}var v=r.center||r.centre;if(l&&v!=null){var x=o.getCenterPan(v.eles,r.zoom);x!=null&&(r.pan=x)}if(l&&r.fit!=null){var w=r.fit,k=o.getFitViewport(w.eles||w.boundingBox,w.padding);k!=null&&(r.pan=k.pan,r.zoom=k.zoom)}if(l&&Tr(r.zoom)){var E=o.getZoomedViewport(r.zoom);E!=null?(E.zoomed&&(r.zoom=E.zoom),E.panned&&(r.pan=E.pan)):r.zoom=null}return new v8(s[0],r)}},animate:function(){return function(r,n){var i=this,a=i.length!==void 0,s=a?i:[i],o=this._private.cy||this;if(!o.styleEnabled())return this;n&&(r=jt({},r,n));for(var l=0;l<s.length;l++){var u=s[l],h=u.animated()&&(r.queue===void 0||r.queue),d=u.animation(r,h?{queue:!0}:void 0);d.play()}return this}},stop:function(){return function(r,n){var i=this,a=i.length!==void 0,s=a?i:[i],o=this._private.cy||this;if(!o.styleEnabled())return this;for(var l=0;l<s.length;l++){for(var u=s[l],h=u._private,d=h.animation.current,p=0;p<d.length;p++){var f=d[p],g=f._private;n&&(g.duration=0)}r&&(h.animation.queue=[]),n||(h.animation.current=[])}return o.notify("draw"),this}}},Mje=Array.isArray,N6=Mje,Ije=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Dje=/^\w*$/;function Oje(t,e){if(N6(t))return!1;var r=typeof t;return r=="number"||r=="symbol"||r=="boolean"||t==null||s2(t)?!0:Dje.test(t)||!Ije.test(t)||e!=null&&t in Object(e)}var Pje=Oje,Fje="[object AsyncFunction]",Bje="[object Function]",$je="[object GeneratorFunction]",zje="[object Proxy]";function Uje(t){if(!Kd(t))return!1;var e=Wie(t);return e==Bje||e==$je||e==Fje||e==zje}var Vje=Uje,Gje=S6["__core-js_shared__"],wE=Gje,v$=function(){var t=/[^.]+$/.exec(wE&&wE.keys&&wE.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function Hje(t){return!!v$&&v$ in t}var Wje=Hje,Yje=Function.prototype,qje=Yje.toString;function jje(t){if(t!=null){try{return qje.call(t)}catch{}try{return t+""}catch{}}return""}var Xje=jje,Kje=/[\\^$.*+?()[\]{}|]/g,Qje=/^\[object .+?Constructor\]$/,Zje=Function.prototype,Jje=Object.prototype,eXe=Zje.toString,tXe=Jje.hasOwnProperty,rXe=RegExp("^"+eXe.call(tXe).replace(Kje,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function nXe(t){if(!Kd(t)||Wje(t))return!1;var e=Vje(t)?rXe:Qje;return e.test(Xje(t))}var iXe=nXe;function aXe(t,e){return t==null?void 0:t[e]}var sXe=aXe;function oXe(t,e){var r=sXe(t,e);return iXe(r)?r:void 0}var CN=oXe,lXe=CN(Object,"create"),ry=lXe;function cXe(){this.__data__=ry?ry(null):{},this.size=0}var uXe=cXe;function hXe(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var dXe=hXe,fXe="__lodash_hash_undefined__",pXe=Object.prototype,gXe=pXe.hasOwnProperty;function mXe(t){var e=this.__data__;if(ry){var r=e[t];return r===fXe?void 0:r}return gXe.call(e,t)?e[t]:void 0}var vXe=mXe,yXe=Object.prototype,xXe=yXe.hasOwnProperty;function bXe(t){var e=this.__data__;return ry?e[t]!==void 0:xXe.call(e,t)}var wXe=bXe,kXe="__lodash_hash_undefined__";function TXe(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=ry&&e===void 0?kXe:e,this}var EXe=TXe;function Xg(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Xg.prototype.clear=uXe;Xg.prototype.delete=dXe;Xg.prototype.get=vXe;Xg.prototype.has=wXe;Xg.prototype.set=EXe;var y$=Xg;function SXe(){this.__data__=[],this.size=0}var CXe=SXe;function AXe(t,e){return t===e||t!==t&&e!==e}var mae=AXe;function _Xe(t,e){for(var r=t.length;r--;)if(mae(t[r][0],e))return r;return-1}var R6=_Xe,LXe=Array.prototype,NXe=LXe.splice;function RXe(t){var e=this.__data__,r=R6(e,t);if(r<0)return!1;var n=e.length-1;return r==n?e.pop():NXe.call(e,r,1),--this.size,!0}var MXe=RXe;function IXe(t){var e=this.__data__,r=R6(e,t);return r<0?void 0:e[r][1]}var DXe=IXe;function OXe(t){return R6(this.__data__,t)>-1}var PXe=OXe;function FXe(t,e){var r=this.__data__,n=R6(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this}var BXe=FXe;function Kg(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Kg.prototype.clear=CXe;Kg.prototype.delete=MXe;Kg.prototype.get=DXe;Kg.prototype.has=PXe;Kg.prototype.set=BXe;var $Xe=Kg,zXe=CN(S6,"Map"),UXe=zXe;function VXe(){this.size=0,this.__data__={hash:new y$,map:new(UXe||$Xe),string:new y$}}var GXe=VXe;function HXe(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var WXe=HXe;function YXe(t,e){var r=t.__data__;return WXe(e)?r[typeof e=="string"?"string":"hash"]:r.map}var M6=YXe;function qXe(t){var e=M6(this,t).delete(t);return this.size-=e?1:0,e}var jXe=qXe;function XXe(t){return M6(this,t).get(t)}var KXe=XXe;function QXe(t){return M6(this,t).has(t)}var ZXe=QXe;function JXe(t,e){var r=M6(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this}var eKe=JXe;function Qg(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Qg.prototype.clear=GXe;Qg.prototype.delete=jXe;Qg.prototype.get=KXe;Qg.prototype.has=ZXe;Qg.prototype.set=eKe;var vae=Qg,tKe="Expected a function";function AN(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(tKe);var r=function(){var n=arguments,i=e?e.apply(this,n):n[0],a=r.cache;if(a.has(i))return a.get(i);var s=t.apply(this,n);return r.cache=a.set(i,s)||a,s};return r.cache=new(AN.Cache||vae),r}AN.Cache=vae;var rKe=AN,nKe=500;function iKe(t){var e=rKe(t,function(n){return r.size===nKe&&r.clear(),n}),r=e.cache;return e}var aKe=iKe,sKe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,oKe=/\\(\\)?/g,lKe=aKe(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(sKe,function(r,n,i,a){e.push(i?a.replace(oKe,"$1"):n||r)}),e}),yae=lKe;function cKe(t,e){for(var r=-1,n=t==null?0:t.length,i=Array(n);++r<n;)i[r]=e(t[r],r,t);return i}var xae=cKe,uKe=1/0,x$=pg?pg.prototype:void 0,b$=x$?x$.toString:void 0;function bae(t){if(typeof t=="string")return t;if(N6(t))return xae(t,bae)+"";if(s2(t))return b$?b$.call(t):"";var e=t+"";return e=="0"&&1/t==-uKe?"-0":e}var hKe=bae;function dKe(t){return t==null?"":hKe(t)}var wae=dKe;function fKe(t,e){return N6(t)?t:Pje(t,e)?[t]:yae(wae(t))}var kae=fKe,pKe=1/0;function gKe(t){if(typeof t=="string"||s2(t))return t;var e=t+"";return e=="0"&&1/t==-pKe?"-0":e}var _N=gKe;function mKe(t,e){e=kae(e,t);for(var r=0,n=e.length;t!=null&&r<n;)t=t[_N(e[r++])];return r&&r==n?t:void 0}var vKe=mKe;function yKe(t,e,r){var n=t==null?void 0:vKe(t,e);return n===void 0?r:n}var xKe=yKe,bKe=function(){try{var t=CN(Object,"defineProperty");return t({},"",{}),t}catch{}}(),w$=bKe;function wKe(t,e,r){e=="__proto__"&&w$?w$(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}var kKe=wKe,TKe=Object.prototype,EKe=TKe.hasOwnProperty;function SKe(t,e,r){var n=t[e];(!(EKe.call(t,e)&&mae(n,r))||r===void 0&&!(e in t))&&kKe(t,e,r)}var CKe=SKe,AKe=9007199254740991,_Ke=/^(?:0|[1-9]\d*)$/;function LKe(t,e){var r=typeof t;return e=e??AKe,!!e&&(r=="number"||r!="symbol"&&_Ke.test(t))&&t>-1&&t%1==0&&t<e}var NKe=LKe;function RKe(t,e,r,n){if(!Kd(t))return t;e=kae(e,t);for(var i=-1,a=e.length,s=a-1,o=t;o!=null&&++i<a;){var l=_N(e[i]),u=r;if(l==="__proto__"||l==="constructor"||l==="prototype")return t;if(i!=s){var h=o[l];u=n?n(h,l,o):void 0,u===void 0&&(u=Kd(h)?h:NKe(e[i+1])?[]:{})}CKe(o,l,u),o=o[l]}return t}var MKe=RKe;function IKe(t,e,r){return t==null?t:MKe(t,e,r)}var DKe=IKe;function OKe(t,e){var r=-1,n=t.length;for(e||(e=Array(n));++r<n;)e[r]=t[r];return e}var PKe=OKe;function FKe(t){return N6(t)?xae(t,_N):s2(t)?[t]:PKe(yae(wae(t)))}var BKe=FKe,$Ke={data:function(e){var r={field:"data",bindingEvent:"data",allowBinding:!1,allowSetting:!1,allowGetting:!1,settingEvent:"data",settingTriggersEvent:!1,triggerFnName:"trigger",immutableKeys:{},updateStyle:!1,beforeGet:function(i){},beforeSet:function(i,a){},onSet:function(i){},canSet:function(i){return!0}};return e=jt({},r,e),function(i,a){var s=e,o=this,l=o.length!==void 0,u=l?o:[o],h=l?o[0]:o;if(Bt(i)){var d=i.indexOf(".")!==-1,p=d&&BKe(i);if(s.allowGetting&&a===void 0){var f;return h&&(s.beforeGet(h),p&&h._private[s.field][i]===void 0?f=xKe(h._private[s.field],p):f=h._private[s.field][i]),f}else if(s.allowSetting&&a!==void 0){var g=!s.immutableKeys[i];if(g){var m=Die({},i,a);s.beforeSet(o,m);for(var y=0,v=u.length;y<v;y++){var x=u[y];s.canSet(x)&&(p&&h._private[s.field][i]===void 0?DKe(x._private[s.field],p,a):x._private[s.field][i]=a)}s.updateStyle&&o.updateStyle(),s.onSet(o),s.settingTriggersEvent&&o[s.triggerFnName](s.settingEvent)}}}else if(s.allowSetting&&Tr(i)){var w=i,k,E,_=Object.keys(w);s.beforeSet(o,w);for(var S=0;S<_.length;S++){k=_[S],E=w[k];var R=!s.immutableKeys[k];if(R)for(var C=0;C<u.length;C++){var L=u[C];s.canSet(L)&&(L._private[s.field][k]=E)}}s.updateStyle&&o.updateStyle(),s.onSet(o),s.settingTriggersEvent&&o[s.triggerFnName](s.settingEvent)}else if(s.allowBinding&&En(i)){var A=i;o.on(s.bindingEvent,A)}else if(s.allowGetting&&i===void 0){var N;return h&&(s.beforeGet(h),N=h._private[s.field]),N}return o}},removeData:function(e){var r={field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!1,immutableKeys:{}};return e=jt({},r,e),function(i){var a=e,s=this,o=s.length!==void 0,l=o?s:[s];if(Bt(i)){for(var u=i.split(/\s+/),h=u.length,d=0;d<h;d++){var p=u[d];if(!hh(p)){var f=!a.immutableKeys[p];if(f)for(var g=0,m=l.length;g<m;g++)l[g]._private[a.field][p]=void 0}}a.triggerEvent&&s[a.triggerFnName](a.event)}else if(i===void 0){for(var y=0,v=l.length;y<v;y++)for(var x=l[y]._private[a.field],w=Object.keys(x),k=0;k<w.length;k++){var E=w[k],_=!a.immutableKeys[E];_&&(x[E]=void 0)}a.triggerEvent&&s[a.triggerFnName](a.event)}return s}}},zKe={eventAliasesOn:function(e){var r=e;r.addListener=r.listen=r.bind=r.on,r.unlisten=r.unbind=r.off=r.removeListener,r.trigger=r.emit,r.pon=r.promiseOn=function(n,i){var a=this,s=Array.prototype.slice.call(arguments,0);return new jg(function(o,l){var u=function(f){a.off.apply(a,d),o(f)},h=s.concat([u]),d=h.concat([]);a.on.apply(a,h)})}}},Mr={};[Rje,$Ke,zKe].forEach(function(t){jt(Mr,t)});var UKe={animate:Mr.animate(),animation:Mr.animation(),animated:Mr.animated(),clearQueue:Mr.clearQueue(),delay:Mr.delay(),delayAnimation:Mr.delayAnimation(),stop:Mr.stop()},Bb={classes:function(e){var r=this;if(e===void 0){var n=[];return r[0]._private.classes.forEach(function(g){return n.push(g)}),n}else Xr(e)||(e=(e||"").match(/\S+/g)||[]);for(var i=[],a=new qg(e),s=0;s<r.length;s++){for(var o=r[s],l=o._private,u=l.classes,h=!1,d=0;d<e.length;d++){var p=e[d],f=u.has(p);if(!f){h=!0;break}}h||(h=u.size!==e.length),h&&(l.classes=a,i.push(o))}return i.length>0&&this.spawn(i).updateStyle().emit("class"),r},addClass:function(e){return this.toggleClass(e,!0)},hasClass:function(e){var r=this[0];return r!=null&&r._private.classes.has(e)},toggleClass:function(e,r){Xr(e)||(e=e.match(/\S+/g)||[]);for(var n=this,i=r===void 0,a=[],s=0,o=n.length;s<o;s++)for(var l=n[s],u=l._private.classes,h=!1,d=0;d<e.length;d++){var p=e[d],f=u.has(p),g=!1;r||i&&!f?(u.add(p),g=!0):(!r||i&&f)&&(u.delete(p),g=!0),!h&&g&&(a.push(l),h=!0)}return a.length>0&&this.spawn(a).updateStyle().emit("class"),n},removeClass:function(e){return this.toggleClass(e,!1)},flashClass:function(e,r){var n=this;if(r==null)r=250;else if(r===0)return n;return n.addClass(e),setTimeout(function(){n.removeClass(e)},r),n}};Bb.className=Bb.classNames=Bb.classes;var wr={metaChar:"[\\!\\\"\\#\\$\\%\\&\\'\\(\\)\\*\\+\\,\\.\\/\\:\\;\\<\\=\\>\\?\\@\\[\\]\\^\\`\\{\\|\\}\\~]",comparatorOp:"=|\\!=|>|>=|<|<=|\\$=|\\^=|\\*=",boolOp:"\\?|\\!|\\^",string:`"(?:\\\\"|[^"])*"|'(?:\\\\'|[^'])*'`,number:di,meta:"degree|indegree|outdegree",separator:"\\s*,\\s*",descendant:"\\s+",child:"\\s+>\\s+",subject:"\\$",group:"node|edge|\\*",directedEdge:"\\s+->\\s+",undirectedEdge:"\\s+<->\\s+"};wr.variable="(?:[\\w-.]|(?:\\\\"+wr.metaChar+"))+";wr.className="(?:[\\w-]|(?:\\\\"+wr.metaChar+"))+";wr.value=wr.string+"|"+wr.number;wr.id=wr.variable;(function(){var t,e,r;for(t=wr.comparatorOp.split("|"),r=0;r<t.length;r++)e=t[r],wr.comparatorOp+="|@"+e;for(t=wr.comparatorOp.split("|"),r=0;r<t.length;r++)e=t[r],!(e.indexOf("!")>=0)&&e!=="="&&(wr.comparatorOp+="|\\!"+e)})();var zr=function(){return{checks:[]}},At={GROUP:0,COLLECTION:1,FILTER:2,DATA_COMPARE:3,DATA_EXIST:4,DATA_BOOL:5,META_COMPARE:6,STATE:7,ID:8,CLASS:9,UNDIRECTED_EDGE:10,DIRECTED_EDGE:11,NODE_SOURCE:12,NODE_TARGET:13,NODE_NEIGHBOR:14,CHILD:15,DESCENDANT:16,PARENT:17,ANCESTOR:18,COMPOUND_SPLIT:19,TRUE:20},y8=[{selector:":selected",matches:function(e){return e.selected()}},{selector:":unselected",matches:function(e){return!e.selected()}},{selector:":selectable",matches:function(e){return e.selectable()}},{selector:":unselectable",matches:function(e){return!e.selectable()}},{selector:":locked",matches:function(e){return e.locked()}},{selector:":unlocked",matches:function(e){return!e.locked()}},{selector:":visible",matches:function(e){return e.visible()}},{selector:":hidden",matches:function(e){return!e.visible()}},{selector:":transparent",matches:function(e){return e.transparent()}},{selector:":grabbed",matches:function(e){return e.grabbed()}},{selector:":free",matches:function(e){return!e.grabbed()}},{selector:":removed",matches:function(e){return e.removed()}},{selector:":inside",matches:function(e){return!e.removed()}},{selector:":grabbable",matches:function(e){return e.grabbable()}},{selector:":ungrabbable",matches:function(e){return!e.grabbable()}},{selector:":animated",matches:function(e){return e.animated()}},{selector:":unanimated",matches:function(e){return!e.animated()}},{selector:":parent",matches:function(e){return e.isParent()}},{selector:":childless",matches:function(e){return e.isChildless()}},{selector:":child",matches:function(e){return e.isChild()}},{selector:":orphan",matches:function(e){return e.isOrphan()}},{selector:":nonorphan",matches:function(e){return e.isChild()}},{selector:":compound",matches:function(e){return e.isNode()?e.isParent():e.source().isParent()||e.target().isParent()}},{selector:":loop",matches:function(e){return e.isLoop()}},{selector:":simple",matches:function(e){return e.isSimple()}},{selector:":active",matches:function(e){return e.active()}},{selector:":inactive",matches:function(e){return!e.active()}},{selector:":backgrounding",matches:function(e){return e.backgrounding()}},{selector:":nonbackgrounding",matches:function(e){return!e.backgrounding()}}].sort(function(t,e){return JWe(t.selector,e.selector)}),VKe=function(){for(var t={},e,r=0;r<y8.length;r++)e=y8[r],t[e.selector]=e.matches;return t}(),GKe=function(e,r){return VKe[e](r)},HKe="("+y8.map(function(t){return t.selector}).join("|")+")",Df=function(e){return e.replace(new RegExp("\\\\("+wr.metaChar+")","g"),function(r,n){return n})},hu=function(e,r,n){e[e.length-1]=n},x8=[{name:"group",query:!0,regex:"("+wr.group+")",populate:function(e,r,n){var i=Ao(n,1),a=i[0];r.checks.push({type:At.GROUP,value:a==="*"?a:a+"s"})}},{name:"state",query:!0,regex:HKe,populate:function(e,r,n){var i=Ao(n,1),a=i[0];r.checks.push({type:At.STATE,value:a})}},{name:"id",query:!0,regex:"\\#("+wr.id+")",populate:function(e,r,n){var i=Ao(n,1),a=i[0];r.checks.push({type:At.ID,value:Df(a)})}},{name:"className",query:!0,regex:"\\.("+wr.className+")",populate:function(e,r,n){var i=Ao(n,1),a=i[0];r.checks.push({type:At.CLASS,value:Df(a)})}},{name:"dataExists",query:!0,regex:"\\[\\s*("+wr.variable+")\\s*\\]",populate:function(e,r,n){var i=Ao(n,1),a=i[0];r.checks.push({type:At.DATA_EXIST,field:Df(a)})}},{name:"dataCompare",query:!0,regex:"\\[\\s*("+wr.variable+")\\s*("+wr.comparatorOp+")\\s*("+wr.value+")\\s*\\]",populate:function(e,r,n){var i=Ao(n,3),a=i[0],s=i[1],o=i[2],l=new RegExp("^"+wr.string+"$").exec(o)!=null;l?o=o.substring(1,o.length-1):o=parseFloat(o),r.checks.push({type:At.DATA_COMPARE,field:Df(a),operator:s,value:o})}},{name:"dataBool",query:!0,regex:"\\[\\s*("+wr.boolOp+")\\s*("+wr.variable+")\\s*\\]",populate:function(e,r,n){var i=Ao(n,2),a=i[0],s=i[1];r.checks.push({type:At.DATA_BOOL,field:Df(s),operator:a})}},{name:"metaCompare",query:!0,regex:"\\[\\[\\s*("+wr.meta+")\\s*("+wr.comparatorOp+")\\s*("+wr.number+")\\s*\\]\\]",populate:function(e,r,n){var i=Ao(n,3),a=i[0],s=i[1],o=i[2];r.checks.push({type:At.META_COMPARE,field:Df(a),operator:s,value:parseFloat(o)})}},{name:"nextQuery",separator:!0,regex:wr.separator,populate:function(e,r){var n=e.currentSubject,i=e.edgeCount,a=e.compoundCount,s=e[e.length-1];n!=null&&(s.subject=n,e.currentSubject=null),s.edgeCount=i,s.compoundCount=a,e.edgeCount=0,e.compoundCount=0;var o=e[e.length++]=zr();return o}},{name:"directedEdge",separator:!0,regex:wr.directedEdge,populate:function(e,r){if(e.currentSubject==null){var n=zr(),i=r,a=zr();return n.checks.push({type:At.DIRECTED_EDGE,source:i,target:a}),hu(e,r,n),e.edgeCount++,a}else{var s=zr(),o=r,l=zr();return s.checks.push({type:At.NODE_SOURCE,source:o,target:l}),hu(e,r,s),e.edgeCount++,l}}},{name:"undirectedEdge",separator:!0,regex:wr.undirectedEdge,populate:function(e,r){if(e.currentSubject==null){var n=zr(),i=r,a=zr();return n.checks.push({type:At.UNDIRECTED_EDGE,nodes:[i,a]}),hu(e,r,n),e.edgeCount++,a}else{var s=zr(),o=r,l=zr();return s.checks.push({type:At.NODE_NEIGHBOR,node:o,neighbor:l}),hu(e,r,s),l}}},{name:"child",separator:!0,regex:wr.child,populate:function(e,r){if(e.currentSubject==null){var n=zr(),i=zr(),a=e[e.length-1];return n.checks.push({type:At.CHILD,parent:a,child:i}),hu(e,r,n),e.compoundCount++,i}else if(e.currentSubject===r){var s=zr(),o=e[e.length-1],l=zr(),u=zr(),h=zr(),d=zr();return s.checks.push({type:At.COMPOUND_SPLIT,left:o,right:l,subject:u}),u.checks=r.checks,r.checks=[{type:At.TRUE}],d.checks.push({type:At.TRUE}),l.checks.push({type:At.PARENT,parent:d,child:h}),hu(e,o,s),e.currentSubject=u,e.compoundCount++,h}else{var p=zr(),f=zr(),g=[{type:At.PARENT,parent:p,child:f}];return p.checks=r.checks,r.checks=g,e.compoundCount++,f}}},{name:"descendant",separator:!0,regex:wr.descendant,populate:function(e,r){if(e.currentSubject==null){var n=zr(),i=zr(),a=e[e.length-1];return n.checks.push({type:At.DESCENDANT,ancestor:a,descendant:i}),hu(e,r,n),e.compoundCount++,i}else if(e.currentSubject===r){var s=zr(),o=e[e.length-1],l=zr(),u=zr(),h=zr(),d=zr();return s.checks.push({type:At.COMPOUND_SPLIT,left:o,right:l,subject:u}),u.checks=r.checks,r.checks=[{type:At.TRUE}],d.checks.push({type:At.TRUE}),l.checks.push({type:At.ANCESTOR,ancestor:d,descendant:h}),hu(e,o,s),e.currentSubject=u,e.compoundCount++,h}else{var p=zr(),f=zr(),g=[{type:At.ANCESTOR,ancestor:p,descendant:f}];return p.checks=r.checks,r.checks=g,e.compoundCount++,f}}},{name:"subject",modifier:!0,regex:wr.subject,populate:function(e,r){if(e.currentSubject!=null&&e.currentSubject!==r)return Or("Redefinition of subject in selector `"+e.toString()+"`"),!1;e.currentSubject=r;var n=e[e.length-1],i=n.checks[0],a=i==null?null:i.type;a===At.DIRECTED_EDGE?i.type=At.NODE_TARGET:a===At.UNDIRECTED_EDGE&&(i.type=At.NODE_NEIGHBOR,i.node=i.nodes[1],i.neighbor=i.nodes[0],i.nodes=null)}}];x8.forEach(function(t){return t.regexObj=new RegExp("^"+t.regex)});var WKe=function(e){for(var r,n,i,a=0;a<x8.length;a++){var s=x8[a],o=s.name,l=e.match(s.regexObj);if(l!=null){n=l,r=s,i=o;var u=l[0];e=e.substring(u.length);break}}return{expr:r,match:n,name:i,remaining:e}},YKe=function(e){var r=e.match(/^\s+/);if(r){var n=r[0];e=e.substring(n.length)}return e},qKe=function(e){var r=this,n=r.inputText=e,i=r[0]=zr();for(r.length=1,n=YKe(n);;){var a=WKe(n);if(a.expr==null)return Or("The selector `"+e+"`is invalid"),!1;var s=a.match.slice(1),o=a.expr.populate(r,i,s);if(o===!1)return!1;if(o!=null&&(i=o),n=a.remaining,n.match(/^\s*$/))break}var l=r[r.length-1];r.currentSubject!=null&&(l.subject=r.currentSubject),l.edgeCount=r.edgeCount,l.compoundCount=r.compoundCount;for(var u=0;u<r.length;u++){var h=r[u];if(h.compoundCount>0&&h.edgeCount>0)return Or("The selector `"+e+"` is invalid because it uses both a compound selector and an edge selector"),!1;if(h.edgeCount>1)return Or("The selector `"+e+"` is invalid because it uses multiple edge selectors"),!1;h.edgeCount===1&&Or("The selector `"+e+"` is deprecated.  Edge selectors do not take effect on changes to source and target nodes after an edge is added, for performance reasons.  Use a class or data selector on edges instead, updating the class or data of an edge when your app detects a change in source or target nodes.")}return!0},jKe=function(){if(this.toStringCache!=null)return this.toStringCache;for(var e=function(h){return h??""},r=function(h){return Bt(h)?'"'+h+'"':e(h)},n=function(h){return" "+h+" "},i=function(h,d){var p=h.type,f=h.value;switch(p){case At.GROUP:{var g=e(f);return g.substring(0,g.length-1)}case At.DATA_COMPARE:{var m=h.field,y=h.operator;return"["+m+n(e(y))+r(f)+"]"}case At.DATA_BOOL:{var v=h.operator,x=h.field;return"["+e(v)+x+"]"}case At.DATA_EXIST:{var w=h.field;return"["+w+"]"}case At.META_COMPARE:{var k=h.operator,E=h.field;return"[["+E+n(e(k))+r(f)+"]]"}case At.STATE:return f;case At.ID:return"#"+f;case At.CLASS:return"."+f;case At.PARENT:case At.CHILD:return a(h.parent,d)+n(">")+a(h.child,d);case At.ANCESTOR:case At.DESCENDANT:return a(h.ancestor,d)+" "+a(h.descendant,d);case At.COMPOUND_SPLIT:{var _=a(h.left,d),S=a(h.subject,d),R=a(h.right,d);return _+(_.length>0?" ":"")+S+R}case At.TRUE:return""}},a=function(h,d){return h.checks.reduce(function(p,f,g){return p+(d===h&&g===0?"$":"")+i(f,d)},"")},s="",o=0;o<this.length;o++){var l=this[o];s+=a(l,l.subject),this.length>1&&o<this.length-1&&(s+=", ")}return this.toStringCache=s,s},XKe={parse:qKe,toString:jKe},Tae=function(e,r,n){var i,a=Bt(e),s=mt(e),o=Bt(n),l,u,h=!1,d=!1,p=!1;switch(r.indexOf("!")>=0&&(r=r.replace("!",""),d=!0),r.indexOf("@")>=0&&(r=r.replace("@",""),h=!0),(a||o||h)&&(l=!a&&!s?"":""+e,u=""+n),h&&(e=l=l.toLowerCase(),n=u=u.toLowerCase()),r){case"*=":i=l.indexOf(u)>=0;break;case"$=":i=l.indexOf(u,l.length-u.length)>=0;break;case"^=":i=l.indexOf(u)===0;break;case"=":i=e===n;break;case">":p=!0,i=e>n;break;case">=":p=!0,i=e>=n;break;case"<":p=!0,i=e<n;break;case"<=":p=!0,i=e<=n;break;default:i=!1;break}return d&&(e!=null||!p)&&(i=!i),i},KKe=function(e,r){switch(r){case"?":return!!e;case"!":return!e;case"^":return e===void 0}},QKe=function(e){return e!==void 0},LN=function(e,r){return e.data(r)},ZKe=function(e,r){return e[r]()},On=[],dn=function(e,r){return e.checks.every(function(n){return On[n.type](n,r)})};On[At.GROUP]=function(t,e){var r=t.value;return r==="*"||r===e.group()};On[At.STATE]=function(t,e){var r=t.value;return GKe(r,e)};On[At.ID]=function(t,e){var r=t.value;return e.id()===r};On[At.CLASS]=function(t,e){var r=t.value;return e.hasClass(r)};On[At.META_COMPARE]=function(t,e){var r=t.field,n=t.operator,i=t.value;return Tae(ZKe(e,r),n,i)};On[At.DATA_COMPARE]=function(t,e){var r=t.field,n=t.operator,i=t.value;return Tae(LN(e,r),n,i)};On[At.DATA_BOOL]=function(t,e){var r=t.field,n=t.operator;return KKe(LN(e,r),n)};On[At.DATA_EXIST]=function(t,e){var r=t.field;return t.operator,QKe(LN(e,r))};On[At.UNDIRECTED_EDGE]=function(t,e){var r=t.nodes[0],n=t.nodes[1],i=e.source(),a=e.target();return dn(r,i)&&dn(n,a)||dn(n,i)&&dn(r,a)};On[At.NODE_NEIGHBOR]=function(t,e){return dn(t.node,e)&&e.neighborhood().some(function(r){return r.isNode()&&dn(t.neighbor,r)})};On[At.DIRECTED_EDGE]=function(t,e){return dn(t.source,e.source())&&dn(t.target,e.target())};On[At.NODE_SOURCE]=function(t,e){return dn(t.source,e)&&e.outgoers().some(function(r){return r.isNode()&&dn(t.target,r)})};On[At.NODE_TARGET]=function(t,e){return dn(t.target,e)&&e.incomers().some(function(r){return r.isNode()&&dn(t.source,r)})};On[At.CHILD]=function(t,e){return dn(t.child,e)&&dn(t.parent,e.parent())};On[At.PARENT]=function(t,e){return dn(t.parent,e)&&e.children().some(function(r){return dn(t.child,r)})};On[At.DESCENDANT]=function(t,e){return dn(t.descendant,e)&&e.ancestors().some(function(r){return dn(t.ancestor,r)})};On[At.ANCESTOR]=function(t,e){return dn(t.ancestor,e)&&e.descendants().some(function(r){return dn(t.descendant,r)})};On[At.COMPOUND_SPLIT]=function(t,e){return dn(t.subject,e)&&dn(t.left,e)&&dn(t.right,e)};On[At.TRUE]=function(){return!0};On[At.COLLECTION]=function(t,e){var r=t.value;return r.has(e)};On[At.FILTER]=function(t,e){var r=t.value;return r(e)};var JKe=function(e){var r=this;if(r.length===1&&r[0].checks.length===1&&r[0].checks[0].type===At.ID)return e.getElementById(r[0].checks[0].value).collection();var n=function(a){for(var s=0;s<r.length;s++){var o=r[s];if(dn(o,a))return!0}return!1};return r.text()==null&&(n=function(){return!0}),e.filter(n)},eQe=function(e){for(var r=this,n=0;n<r.length;n++){var i=r[n];if(dn(i,e))return!0}return!1},tQe={matches:eQe,filter:JKe},fh=function(e){this.inputText=e,this.currentSubject=null,this.compoundCount=0,this.edgeCount=0,this.length=0,e==null||Bt(e)&&e.match(/^\s*$/)||(Ns(e)?this.addQuery({checks:[{type:At.COLLECTION,value:e.collection()}]}):En(e)?this.addQuery({checks:[{type:At.FILTER,value:e}]}):Bt(e)?this.parse(e)||(this.invalid=!0):In("A selector must be created from a string; found "))},ph=fh.prototype;[XKe,tQe].forEach(function(t){return jt(ph,t)});ph.text=function(){return this.inputText};ph.size=function(){return this.length};ph.eq=function(t){return this[t]};ph.sameText=function(t){return!this.invalid&&!t.invalid&&this.text()===t.text()};ph.addQuery=function(t){this[this.length++]=t};ph.selector=ph.toString;var Hu={allAre:function(e){var r=new fh(e);return this.every(function(n){return r.matches(n)})},is:function(e){var r=new fh(e);return this.some(function(n){return r.matches(n)})},some:function(e,r){for(var n=0;n<this.length;n++){var i=r?e.apply(r,[this[n],n,this]):e(this[n],n,this);if(i)return!0}return!1},every:function(e,r){for(var n=0;n<this.length;n++){var i=r?e.apply(r,[this[n],n,this]):e(this[n],n,this);if(!i)return!1}return!0},same:function(e){if(this===e)return!0;e=this.cy().collection(e);var r=this.length,n=e.length;return r!==n?!1:r===1?this[0]===e[0]:this.every(function(i){return e.hasElementWithId(i.id())})},anySame:function(e){return e=this.cy().collection(e),this.some(function(r){return e.hasElementWithId(r.id())})},allAreNeighbors:function(e){e=this.cy().collection(e);var r=this.neighborhood();return e.every(function(n){return r.hasElementWithId(n.id())})},contains:function(e){e=this.cy().collection(e);var r=this;return e.every(function(n){return r.hasElementWithId(n.id())})}};Hu.allAreNeighbours=Hu.allAreNeighbors;Hu.has=Hu.contains;Hu.equal=Hu.equals=Hu.same;var ao=function(e,r){return function(i,a,s,o){var l=i,u=this,h;if(l==null?h="":Ns(l)&&l.length===1&&(h=l.id()),u.length===1&&h){var d=u[0]._private,p=d.traversalCache=d.traversalCache||{},f=p[r]=p[r]||[],g=Qd(h),m=f[g];return m||(f[g]=e.call(u,i,a,s,o))}else return e.call(u,i,a,s,o)}},vg={parent:function(e){var r=[];if(this.length===1){var n=this[0]._private.parent;if(n)return n}for(var i=0;i<this.length;i++){var a=this[i],s=a._private.parent;s&&r.push(s)}return this.spawn(r,!0).filter(e)},parents:function(e){for(var r=[],n=this.parent();n.nonempty();){for(var i=0;i<n.length;i++){var a=n[i];r.push(a)}n=n.parent()}return this.spawn(r,!0).filter(e)},commonAncestors:function(e){for(var r,n=0;n<this.length;n++){var i=this[n],a=i.parents();r=r||a,r=r.intersect(a)}return r.filter(e)},orphans:function(e){return this.stdFilter(function(r){return r.isOrphan()}).filter(e)},nonorphans:function(e){return this.stdFilter(function(r){return r.isChild()}).filter(e)},children:ao(function(t){for(var e=[],r=0;r<this.length;r++)for(var n=this[r],i=n._private.children,a=0;a<i.length;a++)e.push(i[a]);return this.spawn(e,!0).filter(t)},"children"),siblings:function(e){return this.parent().children().not(this).filter(e)},isParent:function(){var e=this[0];if(e)return e.isNode()&&e._private.children.length!==0},isChildless:function(){var e=this[0];if(e)return e.isNode()&&e._private.children.length===0},isChild:function(){var e=this[0];if(e)return e.isNode()&&e._private.parent!=null},isOrphan:function(){var e=this[0];if(e)return e.isNode()&&e._private.parent==null},descendants:function(e){var r=[];function n(i){for(var a=0;a<i.length;a++){var s=i[a];r.push(s),s.children().nonempty()&&n(s.children())}}return n(this.children()),this.spawn(r,!0).filter(e)}};function NN(t,e,r,n){for(var i=[],a=new qg,s=t.cy(),o=s.hasCompoundNodes(),l=0;l<t.length;l++){var u=t[l];r?i.push(u):o&&n(i,a,u)}for(;i.length>0;){var h=i.shift();e(h),a.add(h.id()),o&&n(i,a,h)}return t}function Eae(t,e,r){if(r.isParent())for(var n=r._private.children,i=0;i<n.length;i++){var a=n[i];e.has(a.id())||t.push(a)}}vg.forEachDown=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return NN(this,t,e,Eae)};function Sae(t,e,r){if(r.isChild()){var n=r._private.parent;e.has(n.id())||t.push(n)}}vg.forEachUp=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return NN(this,t,e,Sae)};function rQe(t,e,r){Sae(t,e,r),Eae(t,e,r)}vg.forEachUpAndDown=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return NN(this,t,e,rQe)};vg.ancestors=vg.parents;var ny,Cae;ny=Cae={data:Mr.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),removeData:Mr.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),scratch:Mr.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeScratch:Mr.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0}),rscratch:Mr.data({field:"rscratch",allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!0}),removeRscratch:Mr.removeData({field:"rscratch",triggerEvent:!1}),id:function(){var e=this[0];if(e)return e._private.data.id}};ny.attr=ny.data;ny.removeAttr=ny.removeData;var nQe=Cae,I6={};function kE(t){return function(e){var r=this;if(e===void 0&&(e=!0),r.length!==0)if(r.isNode()&&!r.removed()){for(var n=0,i=r[0],a=i._private.edges,s=0;s<a.length;s++){var o=a[s];!e&&o.isLoop()||(n+=t(i,o))}return n}else return}}jt(I6,{degree:kE(function(t,e){return e.source().same(e.target())?2:1}),indegree:kE(function(t,e){return e.target().same(t)?1:0}),outdegree:kE(function(t,e){return e.source().same(t)?1:0})});function Of(t,e){return function(r){for(var n,i=this.nodes(),a=0;a<i.length;a++){var s=i[a],o=s[t](r);o!==void 0&&(n===void 0||e(o,n))&&(n=o)}return n}}jt(I6,{minDegree:Of("degree",function(t,e){return t<e}),maxDegree:Of("degree",function(t,e){return t>e}),minIndegree:Of("indegree",function(t,e){return t<e}),maxIndegree:Of("indegree",function(t,e){return t>e}),minOutdegree:Of("outdegree",function(t,e){return t<e}),maxOutdegree:Of("outdegree",function(t,e){return t>e})});jt(I6,{totalDegree:function(e){for(var r=0,n=this.nodes(),i=0;i<n.length;i++)r+=n[i].degree(e);return r}});var Yo,Aae,_ae=function(e,r,n){for(var i=0;i<e.length;i++){var a=e[i];if(!a.locked()){var s=a._private.position,o={x:r.x!=null?r.x-s.x:0,y:r.y!=null?r.y-s.y:0};a.isParent()&&!(o.x===0&&o.y===0)&&a.children().shift(o,n),a.dirtyBoundingBoxCache()}}},k$={field:"position",bindingEvent:"position",allowBinding:!0,allowSetting:!0,settingEvent:"position",settingTriggersEvent:!0,triggerFnName:"emitAndNotify",allowGetting:!0,validKeys:["x","y"],beforeGet:function(e){e.updateCompoundBounds()},beforeSet:function(e,r){_ae(e,r,!1)},onSet:function(e){e.dirtyCompoundBoundsCache()},canSet:function(e){return!e.locked()}};Yo=Aae={position:Mr.data(k$),silentPosition:Mr.data(jt({},k$,{allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!1,beforeSet:function(e,r){_ae(e,r,!0)},onSet:function(e){e.dirtyCompoundBoundsCache()}})),positions:function(e,r){if(Tr(e))r?this.silentPosition(e):this.position(e);else if(En(e)){var n=e,i=this.cy();i.startBatch();for(var a=0;a<this.length;a++){var s=this[a],o=void 0;(o=n(s,a))&&(r?s.silentPosition(o):s.position(o))}i.endBatch()}return this},silentPositions:function(e){return this.positions(e,!0)},shift:function(e,r,n){var i;if(Tr(e)?(i={x:mt(e.x)?e.x:0,y:mt(e.y)?e.y:0},n=r):Bt(e)&&mt(r)&&(i={x:0,y:0},i[e]=r),i!=null){var a=this.cy();a.startBatch();for(var s=0;s<this.length;s++){var o=this[s];if(!(a.hasCompoundNodes()&&o.isChild()&&o.ancestors().anySame(this))){var l=o.position(),u={x:l.x+i.x,y:l.y+i.y};n?o.silentPosition(u):o.position(u)}}a.endBatch()}return this},silentShift:function(e,r){return Tr(e)?this.shift(e,!0):Bt(e)&&mt(r)&&this.shift(e,r,!0),this},renderedPosition:function(e,r){var n=this[0],i=this.cy(),a=i.zoom(),s=i.pan(),o=Tr(e)?e:void 0,l=o!==void 0||r!==void 0&&Bt(e);if(n&&n.isNode())if(l)for(var u=0;u<this.length;u++){var h=this[u];r!==void 0?h.position(e,(r-s[e])/a):o!==void 0&&h.position(eae(o,a,s))}else{var d=n.position();return o=_6(d,a,s),e===void 0?o:o[e]}else if(!l)return;return this},relativePosition:function(e,r){var n=this[0],i=this.cy(),a=Tr(e)?e:void 0,s=a!==void 0||r!==void 0&&Bt(e),o=i.hasCompoundNodes();if(n&&n.isNode())if(s)for(var l=0;l<this.length;l++){var u=this[l],h=o?u.parent():null,d=h&&h.length>0,p=d;d&&(h=h[0]);var f=p?h.position():{x:0,y:0};r!==void 0?u.position(e,r+f[e]):a!==void 0&&u.position({x:a.x+f.x,y:a.y+f.y})}else{var g=n.position(),m=o?n.parent():null,y=m&&m.length>0,v=y;y&&(m=m[0]);var x=v?m.position():{x:0,y:0};return a={x:g.x-x.x,y:g.y-x.y},e===void 0?a:a[e]}else if(!s)return;return this}};Yo.modelPosition=Yo.point=Yo.position;Yo.modelPositions=Yo.points=Yo.positions;Yo.renderedPoint=Yo.renderedPosition;Yo.relativePoint=Yo.relativePosition;var iQe=Aae,F0,Ch;F0=Ch={};Ch.renderedBoundingBox=function(t){var e=this.boundingBox(t),r=this.cy(),n=r.zoom(),i=r.pan(),a=e.x1*n+i.x,s=e.x2*n+i.x,o=e.y1*n+i.y,l=e.y2*n+i.y;return{x1:a,x2:s,y1:o,y2:l,w:s-a,h:l-o}};Ch.dirtyCompoundBoundsCache=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,e=this.cy();return!e.styleEnabled()||!e.hasCompoundNodes()?this:(this.forEachUp(function(r){if(r.isParent()){var n=r._private;n.compoundBoundsClean=!1,n.bbCache=null,t||r.emitAndNotify("bounds")}}),this)};Ch.updateCompoundBounds=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,e=this.cy();if(!e.styleEnabled()||!e.hasCompoundNodes())return this;if(!t&&e.batching())return this;function r(s){if(!s.isParent())return;var o=s._private,l=s.children(),u=s.pstyle("compound-sizing-wrt-labels").value==="include",h={width:{val:s.pstyle("min-width").pfValue,left:s.pstyle("min-width-bias-left"),right:s.pstyle("min-width-bias-right")},height:{val:s.pstyle("min-height").pfValue,top:s.pstyle("min-height-bias-top"),bottom:s.pstyle("min-height-bias-bottom")}},d=l.boundingBox({includeLabels:u,includeOverlays:!1,useCache:!1}),p=o.position;(d.w===0||d.h===0)&&(d={w:s.pstyle("width").pfValue,h:s.pstyle("height").pfValue},d.x1=p.x-d.w/2,d.x2=p.x+d.w/2,d.y1=p.y-d.h/2,d.y2=p.y+d.h/2);function f(C,L,A){var N=0,F=0,T=L+A;return C>0&&T>0&&(N=L/T*C,F=A/T*C),{biasDiff:N,biasComplementDiff:F}}function g(C,L,A,N){if(A.units==="%")switch(N){case"width":return C>0?A.pfValue*C:0;case"height":return L>0?A.pfValue*L:0;case"average":return C>0&&L>0?A.pfValue*(C+L)/2:0;case"min":return C>0&&L>0?C>L?A.pfValue*L:A.pfValue*C:0;case"max":return C>0&&L>0?C>L?A.pfValue*C:A.pfValue*L:0;default:return 0}else return A.units==="px"?A.pfValue:0}var m=h.width.left.value;h.width.left.units==="px"&&h.width.val>0&&(m=m*100/h.width.val);var y=h.width.right.value;h.width.right.units==="px"&&h.width.val>0&&(y=y*100/h.width.val);var v=h.height.top.value;h.height.top.units==="px"&&h.height.val>0&&(v=v*100/h.height.val);var x=h.height.bottom.value;h.height.bottom.units==="px"&&h.height.val>0&&(x=x*100/h.height.val);var w=f(h.width.val-d.w,m,y),k=w.biasDiff,E=w.biasComplementDiff,_=f(h.height.val-d.h,v,x),S=_.biasDiff,R=_.biasComplementDiff;o.autoPadding=g(d.w,d.h,s.pstyle("padding"),s.pstyle("padding-relative-to").value),o.autoWidth=Math.max(d.w,h.width.val),p.x=(-k+d.x1+d.x2+E)/2,o.autoHeight=Math.max(d.h,h.height.val),p.y=(-S+d.y1+d.y2+R)/2}for(var n=0;n<this.length;n++){var i=this[n],a=i._private;(!a.compoundBoundsClean||t)&&(r(i),e.batching()||(a.compoundBoundsClean=!0))}return this};var Zs=function(e){return e===1/0||e===-1/0?0:e},No=function(e,r,n,i,a){i-r===0||a-n===0||r==null||n==null||i==null||a==null||(e.x1=r<e.x1?r:e.x1,e.x2=i>e.x2?i:e.x2,e.y1=n<e.y1?n:e.y1,e.y2=a>e.y2?a:e.y2,e.w=e.x2-e.x1,e.h=e.y2-e.y1)},Hh=function(e,r){return r==null?e:No(e,r.x1,r.y1,r.x2,r.y2)},z1=function(e,r,n){return Do(e,r,n)},Mx=function(e,r,n){if(!r.cy().headless()){var i=r._private,a=i.rstyle,s=a.arrowWidth/2,o=r.pstyle(n+"-arrow-shape").value,l,u;if(o!=="none"){n==="source"?(l=a.srcX,u=a.srcY):n==="target"?(l=a.tgtX,u=a.tgtY):(l=a.midX,u=a.midY);var h=i.arrowBounds=i.arrowBounds||{},d=h[n]=h[n]||{};d.x1=l-s,d.y1=u-s,d.x2=l+s,d.y2=u+s,d.w=d.x2-d.x1,d.h=d.y2-d.y1,Pb(d,1),No(e,d.x1,d.y1,d.x2,d.y2)}}},TE=function(e,r,n){if(!r.cy().headless()){var i;n?i=n+"-":i="";var a=r._private,s=a.rstyle,o=r.pstyle(i+"label").strValue;if(o){var l=r.pstyle("text-halign"),u=r.pstyle("text-valign"),h=z1(s,"labelWidth",n),d=z1(s,"labelHeight",n),p=z1(s,"labelX",n),f=z1(s,"labelY",n),g=r.pstyle(i+"text-margin-x").pfValue,m=r.pstyle(i+"text-margin-y").pfValue,y=r.isEdge(),v=r.pstyle(i+"text-rotation"),x=r.pstyle("text-outline-width").pfValue,w=r.pstyle("text-border-width").pfValue,k=w/2,E=r.pstyle("text-background-padding").pfValue,_=2,S=d,R=h,C=R/2,L=S/2,A,N,F,T;if(y)A=p-C,N=p+C,F=f-L,T=f+L;else{switch(l.value){case"left":A=p-R,N=p;break;case"center":A=p-C,N=p+C;break;case"right":A=p,N=p+R;break}switch(u.value){case"top":F=f-S,T=f;break;case"center":F=f-L,T=f+L;break;case"bottom":F=f,T=f+S;break}}A+=g-Math.max(x,k)-E-_,N+=g+Math.max(x,k)+E+_,F+=m-Math.max(x,k)-E-_,T+=m+Math.max(x,k)+E+_;var D=n||"main",M=a.labelBounds,O=M[D]=M[D]||{};O.x1=A,O.y1=F,O.x2=N,O.y2=T,O.w=N-A,O.h=T-F;var I=y&&v.strValue==="autorotate",P=v.pfValue!=null&&v.pfValue!==0;if(I||P){var B=I?z1(a.rstyle,"labelAngle",n):v.pfValue,$=Math.cos(B),V=Math.sin(B),W=(A+N)/2,K=(F+T)/2;if(!y){switch(l.value){case"left":W=N;break;case"right":W=A;break}switch(u.value){case"top":K=T;break;case"bottom":K=F;break}}var Z=function(ae,ie){return ae=ae-W,ie=ie-K,{x:ae*$-ie*V+W,y:ae*V+ie*$+K}},H=Z(A,F),ee=Z(A,T),te=Z(N,F),U=Z(N,T);A=Math.min(H.x,ee.x,te.x,U.x),N=Math.max(H.x,ee.x,te.x,U.x),F=Math.min(H.y,ee.y,te.y,U.y),T=Math.max(H.y,ee.y,te.y,U.y)}var j=D+"Rot",Y=M[j]=M[j]||{};Y.x1=A,Y.y1=F,Y.x2=N,Y.y2=T,Y.w=N-A,Y.h=T-F,No(e,A,F,N,T),No(a.labelBounds.all,A,F,N,T)}return e}},aQe=function(e,r){if(!r.cy().headless()){var n=r.pstyle("outline-opacity").value,i=r.pstyle("outline-width").value;if(n>0&&i>0){var a=r.pstyle("outline-offset").value,s=r.pstyle("shape").value,o=i+a,l=(e.w+o*2)/e.w,u=(e.h+o*2)/e.h,h=0,d=0;["diamond","pentagon","round-triangle"].includes(s)?(l=(e.w+o*2.4)/e.w,d=-o/3.6):["concave-hexagon","rhomboid","right-rhomboid"].includes(s)?l=(e.w+o*2.4)/e.w:s==="star"?(l=(e.w+o*2.8)/e.w,u=(e.h+o*2.6)/e.h,d=-o/3.8):s==="triangle"?(l=(e.w+o*2.8)/e.w,u=(e.h+o*2.4)/e.h,d=-o/1.4):s==="vee"&&(l=(e.w+o*4.4)/e.w,u=(e.h+o*3.8)/e.h,d=-o*.5);var p=e.h*u-e.h,f=e.w*l-e.w;if(Fb(e,[Math.ceil(p/2),Math.ceil(f/2)]),h!=0||d!==0){var g=Cqe(e,h,d);rae(e,g)}}}},sQe=function(e,r){var n=e._private.cy,i=n.styleEnabled(),a=n.headless(),s=fs(),o=e._private,l=e.isNode(),u=e.isEdge(),h,d,p,f,g,m,y=o.rstyle,v=l&&i?e.pstyle("bounds-expansion").pfValue:[0],x=function(_e){return _e.pstyle("display").value!=="none"},w=!i||x(e)&&(!u||x(e.source())&&x(e.target()));if(w){var k=0,E=0;i&&r.includeOverlays&&(k=e.pstyle("overlay-opacity").value,k!==0&&(E=e.pstyle("overlay-padding").value));var _=0,S=0;i&&r.includeUnderlays&&(_=e.pstyle("underlay-opacity").value,_!==0&&(S=e.pstyle("underlay-padding").value));var R=Math.max(E,S),C=0,L=0;if(i&&(C=e.pstyle("width").pfValue,L=C/2),l&&r.includeNodes){var A=e.position();g=A.x,m=A.y;var N=e.outerWidth(),F=N/2,T=e.outerHeight(),D=T/2;h=g-F,d=g+F,p=m-D,f=m+D,No(s,h,p,d,f),i&&r.includeOutlines&&aQe(s,e)}else if(u&&r.includeEdges)if(i&&!a){var M=e.pstyle("curve-style").strValue;if(h=Math.min(y.srcX,y.midX,y.tgtX),d=Math.max(y.srcX,y.midX,y.tgtX),p=Math.min(y.srcY,y.midY,y.tgtY),f=Math.max(y.srcY,y.midY,y.tgtY),h-=L,d+=L,p-=L,f+=L,No(s,h,p,d,f),M==="haystack"){var O=y.haystackPts;if(O&&O.length===2){if(h=O[0].x,p=O[0].y,d=O[1].x,f=O[1].y,h>d){var I=h;h=d,d=I}if(p>f){var P=p;p=f,f=P}No(s,h-L,p-L,d+L,f+L)}}else if(M==="bezier"||M==="unbundled-bezier"||M.endsWith("segments")||M.endsWith("taxi")){var B;switch(M){case"bezier":case"unbundled-bezier":B=y.bezierPts;break;case"segments":case"taxi":case"round-segments":case"round-taxi":B=y.linePts;break}if(B!=null)for(var $=0;$<B.length;$++){var V=B[$];h=V.x-L,d=V.x+L,p=V.y-L,f=V.y+L,No(s,h,p,d,f)}}}else{var W=e.source(),K=W.position(),Z=e.target(),H=Z.position();if(h=K.x,d=H.x,p=K.y,f=H.y,h>d){var ee=h;h=d,d=ee}if(p>f){var te=p;p=f,f=te}h-=L,d+=L,p-=L,f+=L,No(s,h,p,d,f)}if(i&&r.includeEdges&&u&&(Mx(s,e,"mid-source"),Mx(s,e,"mid-target"),Mx(s,e,"source"),Mx(s,e,"target")),i){var U=e.pstyle("ghost").value==="yes";if(U){var j=e.pstyle("ghost-offset-x").pfValue,Y=e.pstyle("ghost-offset-y").pfValue;No(s,s.x1+j,s.y1+Y,s.x2+j,s.y2+Y)}}var Q=o.bodyBounds=o.bodyBounds||{};t$(Q,s),Fb(Q,v),Pb(Q,1),i&&(h=s.x1,d=s.x2,p=s.y1,f=s.y2,No(s,h-R,p-R,d+R,f+R));var ae=o.overlayBounds=o.overlayBounds||{};t$(ae,s),Fb(ae,v),Pb(ae,1);var ie=o.labelBounds=o.labelBounds||{};ie.all!=null?Sqe(ie.all):ie.all=fs(),i&&r.includeLabels&&(r.includeMainLabels&&TE(s,e,null),u&&(r.includeSourceLabels&&TE(s,e,"source"),r.includeTargetLabels&&TE(s,e,"target")))}return s.x1=Zs(s.x1),s.y1=Zs(s.y1),s.x2=Zs(s.x2),s.y2=Zs(s.y2),s.w=Zs(s.x2-s.x1),s.h=Zs(s.y2-s.y1),s.w>0&&s.h>0&&w&&(Fb(s,v),Pb(s,1)),s},Lae=function(e){var r=0,n=function(s){return(s?1:0)<<r++},i=0;return i+=n(e.incudeNodes),i+=n(e.includeEdges),i+=n(e.includeLabels),i+=n(e.includeMainLabels),i+=n(e.includeSourceLabels),i+=n(e.includeTargetLabels),i+=n(e.includeOverlays),i+=n(e.includeOutlines),i},Nae=function(e){if(e.isEdge()){var r=e.source().position(),n=e.target().position(),i=function(s){return Math.round(s)};return YYe([i(r.x),i(r.y),i(n.x),i(n.y)])}else return 0},T$=function(e,r){var n=e._private,i,a=e.isEdge(),s=r==null?E$:Lae(r),o=s===E$,l=Nae(e),u=n.bbCachePosKey===l,h=r.useCache&&u,d=function(m){return m._private.bbCache==null||m._private.styleDirty},p=!h||d(e)||a&&d(e.source())||d(e.target());if(p?(u||e.recalculateRenderedStyle(h),i=sQe(e,iy),n.bbCache=i,n.bbCachePosKey=l):i=n.bbCache,!o){var f=e.isNode();i=fs(),(r.includeNodes&&f||r.includeEdges&&!f)&&(r.includeOverlays?Hh(i,n.overlayBounds):Hh(i,n.bodyBounds)),r.includeLabels&&(r.includeMainLabels&&(!a||r.includeSourceLabels&&r.includeTargetLabels)?Hh(i,n.labelBounds.all):(r.includeMainLabels&&Hh(i,n.labelBounds.mainRot),r.includeSourceLabels&&Hh(i,n.labelBounds.sourceRot),r.includeTargetLabels&&Hh(i,n.labelBounds.targetRot))),i.w=i.x2-i.x1,i.h=i.y2-i.y1}return i},iy={includeNodes:!0,includeEdges:!0,includeLabels:!0,includeMainLabels:!0,includeSourceLabels:!0,includeTargetLabels:!0,includeOverlays:!0,includeUnderlays:!0,includeOutlines:!0,useCache:!0},E$=Lae(iy),S$=ta(iy);Ch.boundingBox=function(t){var e;if(this.length===1&&this[0]._private.bbCache!=null&&!this[0]._private.styleDirty&&(t===void 0||t.useCache===void 0||t.useCache===!0))t===void 0?t=iy:t=S$(t),e=T$(this[0],t);else{e=fs(),t=t||iy;var r=S$(t),n=this,i=n.cy(),a=i.styleEnabled();if(a)for(var s=0;s<n.length;s++){var o=n[s],l=o._private,u=Nae(o),h=l.bbCachePosKey===u,d=r.useCache&&h&&!l.styleDirty;o.recalculateRenderedStyle(d)}this.updateCompoundBounds(!t.useCache);for(var p=0;p<n.length;p++){var f=n[p];Hh(e,T$(f,r))}}return e.x1=Zs(e.x1),e.y1=Zs(e.y1),e.x2=Zs(e.x2),e.y2=Zs(e.y2),e.w=Zs(e.x2-e.x1),e.h=Zs(e.y2-e.y1),e};Ch.dirtyBoundingBoxCache=function(){for(var t=0;t<this.length;t++){var e=this[t]._private;e.bbCache=null,e.bbCachePosKey=null,e.bodyBounds=null,e.overlayBounds=null,e.labelBounds.all=null,e.labelBounds.source=null,e.labelBounds.target=null,e.labelBounds.main=null,e.labelBounds.sourceRot=null,e.labelBounds.targetRot=null,e.labelBounds.mainRot=null,e.arrowBounds.source=null,e.arrowBounds.target=null,e.arrowBounds["mid-source"]=null,e.arrowBounds["mid-target"]=null}return this.emitAndNotify("bounds"),this};Ch.boundingBoxAt=function(t){var e=this.nodes(),r=this.cy(),n=r.hasCompoundNodes(),i=r.collection();if(n&&(i=e.filter(function(u){return u.isParent()}),e=e.not(i)),Tr(t)){var a=t;t=function(){return a}}var s=function(h,d){return h._private.bbAtOldPos=t(h,d)},o=function(h){return h._private.bbAtOldPos};r.startBatch(),e.forEach(s).silentPositions(t),n&&(i.dirtyCompoundBoundsCache(),i.dirtyBoundingBoxCache(),i.updateCompoundBounds(!0));var l=Eqe(this.boundingBox({useCache:!1}));return e.silentPositions(o),n&&(i.dirtyCompoundBoundsCache(),i.dirtyBoundingBoxCache(),i.updateCompoundBounds(!0)),r.endBatch(),l};F0.boundingbox=F0.bb=F0.boundingBox;F0.renderedBoundingbox=F0.renderedBoundingBox;var oQe=Ch,pm,l2;pm=l2={};var Rae=function(e){e.uppercaseName=jB(e.name),e.autoName="auto"+e.uppercaseName,e.labelName="label"+e.uppercaseName,e.outerName="outer"+e.uppercaseName,e.uppercaseOuterName=jB(e.outerName),pm[e.name]=function(){var n=this[0],i=n._private,a=i.cy,s=a._private.styleEnabled;if(n)if(s){if(n.isParent())return n.updateCompoundBounds(),i[e.autoName]||0;var o=n.pstyle(e.name);switch(o.strValue){case"label":return n.recalculateRenderedStyle(),i.rstyle[e.labelName]||0;default:return o.pfValue}}else return 1},pm["outer"+e.uppercaseName]=function(){var n=this[0],i=n._private,a=i.cy,s=a._private.styleEnabled;if(n)if(s){var o=n[e.name](),l=n.pstyle("border-width").pfValue,u=2*n.padding();return o+l+u}else return 1},pm["rendered"+e.uppercaseName]=function(){var n=this[0];if(n){var i=n[e.name]();return i*this.cy().zoom()}},pm["rendered"+e.uppercaseOuterName]=function(){var n=this[0];if(n){var i=n[e.outerName]();return i*this.cy().zoom()}}};Rae({name:"width"});Rae({name:"height"});l2.padding=function(){var t=this[0],e=t._private;return t.isParent()?(t.updateCompoundBounds(),e.autoPadding!==void 0?e.autoPadding:t.pstyle("padding").pfValue):t.pstyle("padding").pfValue};l2.paddedHeight=function(){var t=this[0];return t.height()+2*t.padding()};l2.paddedWidth=function(){var t=this[0];return t.width()+2*t.padding()};var lQe=l2,cQe=function(e,r){if(e.isEdge())return r(e)},uQe=function(e,r){if(e.isEdge()){var n=e.cy();return _6(r(e),n.zoom(),n.pan())}},hQe=function(e,r){if(e.isEdge()){var n=e.cy(),i=n.pan(),a=n.zoom();return r(e).map(function(s){return _6(s,a,i)})}},dQe=function(e){return e.renderer().getControlPoints(e)},fQe=function(e){return e.renderer().getSegmentPoints(e)},pQe=function(e){return e.renderer().getSourceEndpoint(e)},gQe=function(e){return e.renderer().getTargetEndpoint(e)},mQe=function(e){return e.renderer().getEdgeMidpoint(e)},C$={controlPoints:{get:dQe,mult:!0},segmentPoints:{get:fQe,mult:!0},sourceEndpoint:{get:pQe},targetEndpoint:{get:gQe},midpoint:{get:mQe}},vQe=function(e){return"rendered"+e[0].toUpperCase()+e.substr(1)},yQe=Object.keys(C$).reduce(function(t,e){var r=C$[e],n=vQe(e);return t[e]=function(){return cQe(this,r.get)},r.mult?t[n]=function(){return hQe(this,r.get)}:t[n]=function(){return uQe(this,r.get)},t},{}),xQe=jt({},iQe,oQe,lQe,yQe);/*!
Event object based on jQuery events, MIT license

https://jquery.org/license/
https://tldrlegal.com/license/mit-license
https://github.com/jquery/jquery/blob/master/src/event.js
*/var Mae=function(e,r){this.recycle(e,r)};function U1(){return!1}function Ix(){return!0}Mae.prototype={instanceString:function(){return"event"},recycle:function(e,r){if(this.isImmediatePropagationStopped=this.isPropagationStopped=this.isDefaultPrevented=U1,e!=null&&e.preventDefault?(this.type=e.type,this.isDefaultPrevented=e.defaultPrevented?Ix:U1):e!=null&&e.type?r=e:this.type=e,r!=null&&(this.originalEvent=r.originalEvent,this.type=r.type!=null?r.type:this.type,this.cy=r.cy,this.target=r.target,this.position=r.position,this.renderedPosition=r.renderedPosition,this.namespace=r.namespace,this.layout=r.layout),this.cy!=null&&this.position!=null&&this.renderedPosition==null){var n=this.position,i=this.cy.zoom(),a=this.cy.pan();this.renderedPosition={x:n.x*i+a.x,y:n.y*i+a.y}}this.timeStamp=e&&e.timeStamp||Date.now()},preventDefault:function(){this.isDefaultPrevented=Ix;var e=this.originalEvent;e&&e.preventDefault&&e.preventDefault()},stopPropagation:function(){this.isPropagationStopped=Ix;var e=this.originalEvent;e&&e.stopPropagation&&e.stopPropagation()},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=Ix,this.stopPropagation()},isDefaultPrevented:U1,isPropagationStopped:U1,isImmediatePropagationStopped:U1};var Iae=/^([^.]+)(\.(?:[^.]+))?$/,bQe=".*",Dae={qualifierCompare:function(e,r){return e===r},eventMatches:function(){return!0},addEventFields:function(){},callbackContext:function(e){return e},beforeEmit:function(){},afterEmit:function(){},bubble:function(){return!1},parent:function(){return null},context:null},A$=Object.keys(Dae),wQe={};function D6(){for(var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:wQe,e=arguments.length>1?arguments[1]:void 0,r=0;r<A$.length;r++){var n=A$[r];this[n]=t[n]||Dae[n]}this.context=e||this.context,this.listeners=[],this.emitting=0}var gh=D6.prototype,Oae=function(e,r,n,i,a,s,o){En(i)&&(a=i,i=null),o&&(s==null?s=o:s=jt({},s,o));for(var l=Xr(n)?n:n.split(/\s+/),u=0;u<l.length;u++){var h=l[u];if(!hh(h)){var d=h.match(Iae);if(d){var p=d[1],f=d[2]?d[2]:null,g=r(e,h,p,f,i,a,s);if(g===!1)break}}}},_$=function(e,r){return e.addEventFields(e.context,r),new Mae(r.type,r)},kQe=function(e,r,n){if(VWe(n)){r(e,n);return}else if(Tr(n)){r(e,_$(e,n));return}for(var i=Xr(n)?n:n.split(/\s+/),a=0;a<i.length;a++){var s=i[a];if(!hh(s)){var o=s.match(Iae);if(o){var l=o[1],u=o[2]?o[2]:null,h=_$(e,{type:l,namespace:u,target:e.context});r(e,h)}}}};gh.on=gh.addListener=function(t,e,r,n,i){return Oae(this,function(a,s,o,l,u,h,d){En(h)&&a.listeners.push({event:s,callback:h,type:o,namespace:l,qualifier:u,conf:d})},t,e,r,n,i),this};gh.one=function(t,e,r,n){return this.on(t,e,r,n,{one:!0})};gh.removeListener=gh.off=function(t,e,r,n){var i=this;this.emitting!==0&&(this.listeners=QYe(this.listeners));for(var a=this.listeners,s=function(u){var h=a[u];Oae(i,function(d,p,f,g,m,y){if((h.type===f||t==="*")&&(!g&&h.namespace!==".*"||h.namespace===g)&&(!m||d.qualifierCompare(h.qualifier,m))&&(!y||h.callback===y))return a.splice(u,1),!1},t,e,r,n)},o=a.length-1;o>=0;o--)s(o);return this};gh.removeAllListeners=function(){return this.removeListener("*")};gh.emit=gh.trigger=function(t,e,r){var n=this.listeners,i=n.length;return this.emitting++,Xr(e)||(e=[e]),kQe(this,function(a,s){r!=null&&(n=[{event:s.event,type:s.type,namespace:s.namespace,callback:r}],i=n.length);for(var o=function(h){var d=n[h];if(d.type===s.type&&(!d.namespace||d.namespace===s.namespace||d.namespace===bQe)&&a.eventMatches(a.context,d,s)){var p=[s];e!=null&&JYe(p,e),a.beforeEmit(a.context,d,s),d.conf&&d.conf.one&&(a.listeners=a.listeners.filter(function(m){return m!==d}));var f=a.callbackContext(a.context,d,s),g=d.callback.apply(f,p);a.afterEmit(a.context,d,s),g===!1&&(s.stopPropagation(),s.preventDefault())}},l=0;l<i;l++)o(l);a.bubble(a.context)&&!s.isPropagationStopped()&&a.parent(a.context).emit(s,e)},t),this.emitting--,this};var TQe={qualifierCompare:function(e,r){return e==null||r==null?e==null&&r==null:e.sameText(r)},eventMatches:function(e,r,n){var i=r.qualifier;return i!=null?e!==n.target&&a2(n.target)&&i.matches(n.target):!0},addEventFields:function(e,r){r.cy=e.cy(),r.target=e},callbackContext:function(e,r,n){return r.qualifier!=null?n.target:e},beforeEmit:function(e,r){r.conf&&r.conf.once&&r.conf.onceCollection.removeListener(r.event,r.qualifier,r.callback)},bubble:function(){return!0},parent:function(e){return e.isChild()?e.parent():e.cy()}},Dx=function(e){return Bt(e)?new fh(e):e},Pae={createEmitter:function(){for(var e=0;e<this.length;e++){var r=this[e],n=r._private;n.emitter||(n.emitter=new D6(TQe,r))}return this},emitter:function(){return this._private.emitter},on:function(e,r,n){for(var i=Dx(r),a=0;a<this.length;a++){var s=this[a];s.emitter().on(e,i,n)}return this},removeListener:function(e,r,n){for(var i=Dx(r),a=0;a<this.length;a++){var s=this[a];s.emitter().removeListener(e,i,n)}return this},removeAllListeners:function(){for(var e=0;e<this.length;e++){var r=this[e];r.emitter().removeAllListeners()}return this},one:function(e,r,n){for(var i=Dx(r),a=0;a<this.length;a++){var s=this[a];s.emitter().one(e,i,n)}return this},once:function(e,r,n){for(var i=Dx(r),a=0;a<this.length;a++){var s=this[a];s.emitter().on(e,i,n,{once:!0,onceCollection:this})}},emit:function(e,r){for(var n=0;n<this.length;n++){var i=this[n];i.emitter().emit(e,r)}return this},emitAndNotify:function(e,r){if(this.length!==0)return this.cy().notify(e,this),this.emit(e,r),this}};Mr.eventAliasesOn(Pae);var Fae={nodes:function(e){return this.filter(function(r){return r.isNode()}).filter(e)},edges:function(e){return this.filter(function(r){return r.isEdge()}).filter(e)},byGroup:function(){for(var e=this.spawn(),r=this.spawn(),n=0;n<this.length;n++){var i=this[n];i.isNode()?e.push(i):r.push(i)}return{nodes:e,edges:r}},filter:function(e,r){if(e===void 0)return this;if(Bt(e)||Ns(e))return new fh(e).filter(this);if(En(e)){for(var n=this.spawn(),i=this,a=0;a<i.length;a++){var s=i[a],o=r?e.apply(r,[s,a,i]):e(s,a,i);o&&n.push(s)}return n}return this.spawn()},not:function(e){if(e){Bt(e)&&(e=this.filter(e));for(var r=this.spawn(),n=0;n<this.length;n++){var i=this[n],a=e.has(i);a||r.push(i)}return r}else return this},absoluteComplement:function(){var e=this.cy();return e.mutableElements().not(this)},intersect:function(e){if(Bt(e)){var r=e;return this.filter(r)}for(var n=this.spawn(),i=this,a=e,s=this.length<e.length,o=s?i:a,l=s?a:i,u=0;u<o.length;u++){var h=o[u];l.has(h)&&n.push(h)}return n},xor:function(e){var r=this._private.cy;Bt(e)&&(e=r.$(e));var n=this.spawn(),i=this,a=e,s=function(l,u){for(var h=0;h<l.length;h++){var d=l[h],p=d._private.data.id,f=u.hasElementWithId(p);f||n.push(d)}};return s(i,a),s(a,i),n},diff:function(e){var r=this._private.cy;Bt(e)&&(e=r.$(e));var n=this.spawn(),i=this.spawn(),a=this.spawn(),s=this,o=e,l=function(h,d,p){for(var f=0;f<h.length;f++){var g=h[f],m=g._private.data.id,y=d.hasElementWithId(m);y?a.merge(g):p.push(g)}};return l(s,o,n),l(o,s,i),{left:n,right:i,both:a}},add:function(e){var r=this._private.cy;if(!e)return this;if(Bt(e)){var n=e;e=r.mutableElements().filter(n)}for(var i=this.spawnSelf(),a=0;a<e.length;a++){var s=e[a],o=!this.has(s);o&&i.push(s)}return i},merge:function(e){var r=this._private,n=r.cy;if(!e)return this;if(e&&Bt(e)){var i=e;e=n.mutableElements().filter(i)}for(var a=r.map,s=0;s<e.length;s++){var o=e[s],l=o._private.data.id,u=!a.has(l);if(u){var h=this.length++;this[h]=o,a.set(l,{ele:o,index:h})}}return this},unmergeAt:function(e){var r=this[e],n=r.id(),i=this._private,a=i.map;this[e]=void 0,a.delete(n);var s=e===this.length-1;if(this.length>1&&!s){var o=this.length-1,l=this[o],u=l._private.data.id;this[o]=void 0,this[e]=l,a.set(u,{ele:l,index:e})}return this.length--,this},unmergeOne:function(e){e=e[0];var r=this._private,n=e._private.data.id,i=r.map,a=i.get(n);if(!a)return this;var s=a.index;return this.unmergeAt(s),this},unmerge:function(e){var r=this._private.cy;if(!e)return this;if(e&&Bt(e)){var n=e;e=r.mutableElements().filter(n)}for(var i=0;i<e.length;i++)this.unmergeOne(e[i]);return this},unmergeBy:function(e){for(var r=this.length-1;r>=0;r--){var n=this[r];e(n)&&this.unmergeAt(r)}return this},map:function(e,r){for(var n=[],i=this,a=0;a<i.length;a++){var s=i[a],o=r?e.apply(r,[s,a,i]):e(s,a,i);n.push(o)}return n},reduce:function(e,r){for(var n=r,i=this,a=0;a<i.length;a++)n=e(n,i[a],a,i);return n},max:function(e,r){for(var n=-1/0,i,a=this,s=0;s<a.length;s++){var o=a[s],l=r?e.apply(r,[o,s,a]):e(o,s,a);l>n&&(n=l,i=o)}return{value:n,ele:i}},min:function(e,r){for(var n=1/0,i,a=this,s=0;s<a.length;s++){var o=a[s],l=r?e.apply(r,[o,s,a]):e(o,s,a);l<n&&(n=l,i=o)}return{value:n,ele:i}}},Cr=Fae;Cr.u=Cr["|"]=Cr["+"]=Cr.union=Cr.or=Cr.add;Cr["\\"]=Cr["!"]=Cr["-"]=Cr.difference=Cr.relativeComplement=Cr.subtract=Cr.not;Cr.n=Cr["&"]=Cr["."]=Cr.and=Cr.intersection=Cr.intersect;Cr["^"]=Cr["(+)"]=Cr["(-)"]=Cr.symmetricDifference=Cr.symdiff=Cr.xor;Cr.fnFilter=Cr.filterFn=Cr.stdFilter=Cr.filter;Cr.complement=Cr.abscomp=Cr.absoluteComplement;var EQe={isNode:function(){return this.group()==="nodes"},isEdge:function(){return this.group()==="edges"},isLoop:function(){return this.isEdge()&&this.source()[0]===this.target()[0]},isSimple:function(){return this.isEdge()&&this.source()[0]!==this.target()[0]},group:function(){var e=this[0];if(e)return e._private.group}},Bae=function(e,r){var n=e.cy(),i=n.hasCompoundNodes();function a(h){var d=h.pstyle("z-compound-depth");return d.value==="auto"?i?h.zDepth():0:d.value==="bottom"?-1:d.value==="top"?xN:0}var s=a(e)-a(r);if(s!==0)return s;function o(h){var d=h.pstyle("z-index-compare");return d.value==="auto"&&h.isNode()?1:0}var l=o(e)-o(r);if(l!==0)return l;var u=e.pstyle("z-index").value-r.pstyle("z-index").value;return u!==0?u:e.poolIndex()-r.poolIndex()},T5={forEach:function(e,r){if(En(e))for(var n=this.length,i=0;i<n;i++){var a=this[i],s=r?e.apply(r,[a,i,this]):e(a,i,this);if(s===!1)break}return this},toArray:function(){for(var e=[],r=0;r<this.length;r++)e.push(this[r]);return e},slice:function(e,r){var n=[],i=this.length;r==null&&(r=i),e==null&&(e=0),e<0&&(e=i+e),r<0&&(r=i+r);for(var a=e;a>=0&&a<r&&a<i;a++)n.push(this[a]);return this.spawn(n)},size:function(){return this.length},eq:function(e){return this[e]||this.spawn()},first:function(){return this[0]||this.spawn()},last:function(){return this[this.length-1]||this.spawn()},empty:function(){return this.length===0},nonempty:function(){return!this.empty()},sort:function(e){if(!En(e))return this;var r=this.toArray().sort(e);return this.spawn(r)},sortByZIndex:function(){return this.sort(Bae)},zDepth:function(){var e=this[0];if(e){var r=e._private,n=r.group;if(n==="nodes"){var i=r.data.parent?e.parents().size():0;return e.isParent()?i:xN-1}else{var a=r.source,s=r.target,o=a.zDepth(),l=s.zDepth();return Math.max(o,l,0)}}}};T5.each=T5.forEach;var SQe=function(){var e="undefined",r=(typeof Symbol>"u"?"undefined":vi(Symbol))!=e&&vi(Symbol.iterator)!=e;r&&(T5[Symbol.iterator]=function(){var n=this,i={value:void 0,done:!1},a=0,s=this.length;return Die({next:function(){return a<s?i.value=n[a++]:(i.value=void 0,i.done=!0),i}},Symbol.iterator,function(){return this})})};SQe();var CQe=ta({nodeDimensionsIncludeLabels:!1}),$b={layoutDimensions:function(e){e=CQe(e);var r;if(!this.takesUpSpace())r={w:0,h:0};else if(e.nodeDimensionsIncludeLabels){var n=this.boundingBox();r={w:n.w,h:n.h}}else r={w:this.outerWidth(),h:this.outerHeight()};return(r.w===0||r.h===0)&&(r.w=r.h=1),r},layoutPositions:function(e,r,n){var i=this.nodes().filter(function(E){return!E.isParent()}),a=this.cy(),s=r.eles,o=function(_){return _.id()},l=Kv(n,o);e.emit({type:"layoutstart",layout:e}),e.animations=[];var u=function(_,S,R){var C={x:S.x1+S.w/2,y:S.y1+S.h/2},L={x:(R.x-C.x)*_,y:(R.y-C.y)*_};return{x:C.x+L.x,y:C.y+L.y}},h=r.spacingFactor&&r.spacingFactor!==1,d=function(){if(!h)return null;for(var _=fs(),S=0;S<i.length;S++){var R=i[S],C=l(R,S);Aqe(_,C.x,C.y)}return _},p=d(),f=Kv(function(E,_){var S=l(E,_);if(h){var R=Math.abs(r.spacingFactor);S=u(R,p,S)}return r.transform!=null&&(S=r.transform(E,S)),S},o);if(r.animate){for(var g=0;g<i.length;g++){var m=i[g],y=f(m,g),v=r.animateFilter==null||r.animateFilter(m,g);if(v){var x=m.animation({position:y,duration:r.animationDuration,easing:r.animationEasing});e.animations.push(x)}else m.position(y)}if(r.fit){var w=a.animation({fit:{boundingBox:s.boundingBoxAt(f),padding:r.padding},duration:r.animationDuration,easing:r.animationEasing});e.animations.push(w)}else if(r.zoom!==void 0&&r.pan!==void 0){var k=a.animation({zoom:r.zoom,pan:r.pan,duration:r.animationDuration,easing:r.animationEasing});e.animations.push(k)}e.animations.forEach(function(E){return E.play()}),e.one("layoutready",r.ready),e.emit({type:"layoutready",layout:e}),jg.all(e.animations.map(function(E){return E.promise()})).then(function(){e.one("layoutstop",r.stop),e.emit({type:"layoutstop",layout:e})})}else i.positions(f),r.fit&&a.fit(r.eles,r.padding),r.zoom!=null&&a.zoom(r.zoom),r.pan&&a.pan(r.pan),e.one("layoutready",r.ready),e.emit({type:"layoutready",layout:e}),e.one("layoutstop",r.stop),e.emit({type:"layoutstop",layout:e});return this},layout:function(e){var r=this.cy();return r.makeLayout(jt({},e,{eles:this}))}};$b.createLayout=$b.makeLayout=$b.layout;function $ae(t,e,r){var n=r._private,i=n.styleCache=n.styleCache||[],a;return(a=i[t])!=null||(a=i[t]=e(r)),a}function O6(t,e){return t=Qd(t),function(n){return $ae(t,e,n)}}function P6(t,e){t=Qd(t);var r=function(i){return e.call(i)};return function(){var i=this[0];if(i)return $ae(t,r,i)}}var qi={recalculateRenderedStyle:function(e){var r=this.cy(),n=r.renderer(),i=r.styleEnabled();return n&&i&&n.recalculateRenderedStyle(this,e),this},dirtyStyleCache:function(){var e=this.cy(),r=function(a){return a._private.styleCache=null};if(e.hasCompoundNodes()){var n;n=this.spawnSelf().merge(this.descendants()).merge(this.parents()),n.merge(n.connectedEdges()),n.forEach(r)}else this.forEach(function(i){r(i),i.connectedEdges().forEach(r)});return this},updateStyle:function(e){var r=this._private.cy;if(!r.styleEnabled())return this;if(r.batching()){var n=r._private.batchStyleEles;return n.merge(this),this}var i=r.hasCompoundNodes(),a=this;e=!!(e||e===void 0),i&&(a=this.spawnSelf().merge(this.descendants()).merge(this.parents()));var s=a;return e?s.emitAndNotify("style"):s.emit("style"),a.forEach(function(o){return o._private.styleDirty=!0}),this},cleanStyle:function(){var e=this.cy();if(e.styleEnabled())for(var r=0;r<this.length;r++){var n=this[r];n._private.styleDirty&&(n._private.styleDirty=!1,e.style().apply(n))}},parsedStyle:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,n=this[0],i=n.cy();if(i.styleEnabled()&&n){this.cleanStyle();var a=n._private.style[e];return a??(r?i.style().getDefaultProperty(e):null)}},numericStyle:function(e){var r=this[0];if(r.cy().styleEnabled()&&r){var n=r.pstyle(e);return n.pfValue!==void 0?n.pfValue:n.value}},numericStyleUnits:function(e){var r=this[0];if(r.cy().styleEnabled()&&r)return r.pstyle(e).units},renderedStyle:function(e){var r=this.cy();if(!r.styleEnabled())return this;var n=this[0];if(n)return r.style().getRenderedStyle(n,e)},style:function(e,r){var n=this.cy();if(!n.styleEnabled())return this;var i=!1,a=n.style();if(Tr(e)){var s=e;a.applyBypass(this,s,i),this.emitAndNotify("style")}else if(Bt(e))if(r===void 0){var o=this[0];return o?a.getStylePropertyValue(o,e):void 0}else a.applyBypass(this,e,r,i),this.emitAndNotify("style");else if(e===void 0){var l=this[0];return l?a.getRawStyle(l):void 0}return this},removeStyle:function(e){var r=this.cy();if(!r.styleEnabled())return this;var n=!1,i=r.style(),a=this;if(e===void 0)for(var s=0;s<a.length;s++){var o=a[s];i.removeAllBypasses(o,n)}else{e=e.split(/\s+/);for(var l=0;l<a.length;l++){var u=a[l];i.removeBypasses(u,e,n)}}return this.emitAndNotify("style"),this},show:function(){return this.css("display","element"),this},hide:function(){return this.css("display","none"),this},effectiveOpacity:function(){var e=this.cy();if(!e.styleEnabled())return 1;var r=e.hasCompoundNodes(),n=this[0];if(n){var i=n._private,a=n.pstyle("opacity").value;if(!r)return a;var s=i.data.parent?n.parents():null;if(s)for(var o=0;o<s.length;o++){var l=s[o],u=l.pstyle("opacity").value;a=u*a}return a}},transparent:function(){var e=this.cy();if(!e.styleEnabled())return!1;var r=this[0],n=r.cy().hasCompoundNodes();if(r)return n?r.effectiveOpacity()===0:r.pstyle("opacity").value===0},backgrounding:function(){var e=this.cy();if(!e.styleEnabled())return!1;var r=this[0];return!!r._private.backgrounding}};function EE(t,e){var r=t._private,n=r.data.parent?t.parents():null;if(n)for(var i=0;i<n.length;i++){var a=n[i];if(!e(a))return!1}return!0}function RN(t){var e=t.ok,r=t.edgeOkViaNode||t.ok,n=t.parentOk||t.ok;return function(){var i=this.cy();if(!i.styleEnabled())return!0;var a=this[0],s=i.hasCompoundNodes();if(a){var o=a._private;if(!e(a))return!1;if(a.isNode())return!s||EE(a,n);var l=o.source,u=o.target;return r(l)&&(!s||EE(l,r))&&(l===u||r(u)&&(!s||EE(u,r)))}}}var Zg=O6("eleTakesUpSpace",function(t){return t.pstyle("display").value==="element"&&t.width()!==0&&(t.isNode()?t.height()!==0:!0)});qi.takesUpSpace=P6("takesUpSpace",RN({ok:Zg}));var AQe=O6("eleInteractive",function(t){return t.pstyle("events").value==="yes"&&t.pstyle("visibility").value==="visible"&&Zg(t)}),_Qe=O6("parentInteractive",function(t){return t.pstyle("visibility").value==="visible"&&Zg(t)});qi.interactive=P6("interactive",RN({ok:AQe,parentOk:_Qe,edgeOkViaNode:Zg}));qi.noninteractive=function(){var t=this[0];if(t)return!t.interactive()};var LQe=O6("eleVisible",function(t){return t.pstyle("visibility").value==="visible"&&t.pstyle("opacity").pfValue!==0&&Zg(t)}),NQe=Zg;qi.visible=P6("visible",RN({ok:LQe,edgeOkViaNode:NQe}));qi.hidden=function(){var t=this[0];if(t)return!t.visible()};qi.isBundledBezier=P6("isBundledBezier",function(){return this.cy().styleEnabled()?!this.removed()&&this.pstyle("curve-style").value==="bezier"&&this.takesUpSpace():!1});qi.bypass=qi.css=qi.style;qi.renderedCss=qi.renderedStyle;qi.removeBypass=qi.removeCss=qi.removeStyle;qi.pstyle=qi.parsedStyle;var Wu={};function L$(t){return function(){var e=arguments,r=[];if(e.length===2){var n=e[0],i=e[1];this.on(t.event,n,i)}else if(e.length===1&&En(e[0])){var a=e[0];this.on(t.event,a)}else if(e.length===0||e.length===1&&Xr(e[0])){for(var s=e.length===1?e[0]:null,o=0;o<this.length;o++){var l=this[o],u=!t.ableField||l._private[t.ableField],h=l._private[t.field]!=t.value;if(t.overrideAble){var d=t.overrideAble(l);if(d!==void 0&&(u=d,!d))return this}u&&(l._private[t.field]=t.value,h&&r.push(l))}var p=this.spawn(r);p.updateStyle(),p.emit(t.event),s&&p.emit(s)}return this}}function Jg(t){Wu[t.field]=function(){var e=this[0];if(e){if(t.overrideField){var r=t.overrideField(e);if(r!==void 0)return r}return e._private[t.field]}},Wu[t.on]=L$({event:t.on,field:t.field,ableField:t.ableField,overrideAble:t.overrideAble,value:!0}),Wu[t.off]=L$({event:t.off,field:t.field,ableField:t.ableField,overrideAble:t.overrideAble,value:!1})}Jg({field:"locked",overrideField:function(e){return e.cy().autolock()?!0:void 0},on:"lock",off:"unlock"});Jg({field:"grabbable",overrideField:function(e){return e.cy().autoungrabify()||e.pannable()?!1:void 0},on:"grabify",off:"ungrabify"});Jg({field:"selected",ableField:"selectable",overrideAble:function(e){return e.cy().autounselectify()?!1:void 0},on:"select",off:"unselect"});Jg({field:"selectable",overrideField:function(e){return e.cy().autounselectify()?!1:void 0},on:"selectify",off:"unselectify"});Wu.deselect=Wu.unselect;Wu.grabbed=function(){var t=this[0];if(t)return t._private.grabbed};Jg({field:"active",on:"activate",off:"unactivate"});Jg({field:"pannable",on:"panify",off:"unpanify"});Wu.inactive=function(){var t=this[0];if(t)return!t._private.active};var xa={},N$=function(e){return function(n){for(var i=this,a=[],s=0;s<i.length;s++){var o=i[s];if(o.isNode()){for(var l=!1,u=o.connectedEdges(),h=0;h<u.length;h++){var d=u[h],p=d.source(),f=d.target();if(e.noIncomingEdges&&f===o&&p!==o||e.noOutgoingEdges&&p===o&&f!==o){l=!0;break}}l||a.push(o)}}return this.spawn(a,!0).filter(n)}},R$=function(e){return function(r){for(var n=this,i=[],a=0;a<n.length;a++){var s=n[a];if(s.isNode())for(var o=s.connectedEdges(),l=0;l<o.length;l++){var u=o[l],h=u.source(),d=u.target();e.outgoing&&h===s?(i.push(u),i.push(d)):e.incoming&&d===s&&(i.push(u),i.push(h))}}return this.spawn(i,!0).filter(r)}},M$=function(e){return function(r){for(var n=this,i=[],a={};;){var s=e.outgoing?n.outgoers():n.incomers();if(s.length===0)break;for(var o=!1,l=0;l<s.length;l++){var u=s[l],h=u.id();a[h]||(a[h]=!0,i.push(u),o=!0)}if(!o)break;n=s}return this.spawn(i,!0).filter(r)}};xa.clearTraversalCache=function(){for(var t=0;t<this.length;t++)this[t]._private.traversalCache=null};jt(xa,{roots:N$({noIncomingEdges:!0}),leaves:N$({noOutgoingEdges:!0}),outgoers:ao(R$({outgoing:!0}),"outgoers"),successors:M$({outgoing:!0}),incomers:ao(R$({incoming:!0}),"incomers"),predecessors:M$({incoming:!0})});jt(xa,{neighborhood:ao(function(t){for(var e=[],r=this.nodes(),n=0;n<r.length;n++)for(var i=r[n],a=i.connectedEdges(),s=0;s<a.length;s++){var o=a[s],l=o.source(),u=o.target(),h=i===l?u:l;h.length>0&&e.push(h[0]),e.push(o[0])}return this.spawn(e,!0).filter(t)},"neighborhood"),closedNeighborhood:function(e){return this.neighborhood().add(this).filter(e)},openNeighborhood:function(e){return this.neighborhood(e)}});xa.neighbourhood=xa.neighborhood;xa.closedNeighbourhood=xa.closedNeighborhood;xa.openNeighbourhood=xa.openNeighborhood;jt(xa,{source:ao(function(e){var r=this[0],n;return r&&(n=r._private.source||r.cy().collection()),n&&e?n.filter(e):n},"source"),target:ao(function(e){var r=this[0],n;return r&&(n=r._private.target||r.cy().collection()),n&&e?n.filter(e):n},"target"),sources:I$({attr:"source"}),targets:I$({attr:"target"})});function I$(t){return function(r){for(var n=[],i=0;i<this.length;i++){var a=this[i],s=a._private[t.attr];s&&n.push(s)}return this.spawn(n,!0).filter(r)}}jt(xa,{edgesWith:ao(D$(),"edgesWith"),edgesTo:ao(D$({thisIsSrc:!0}),"edgesTo")});function D$(t){return function(r){var n=[],i=this._private.cy,a=t||{};Bt(r)&&(r=i.$(r));for(var s=0;s<r.length;s++)for(var o=r[s]._private.edges,l=0;l<o.length;l++){var u=o[l],h=u._private.data,d=this.hasElementWithId(h.source)&&r.hasElementWithId(h.target),p=r.hasElementWithId(h.source)&&this.hasElementWithId(h.target),f=d||p;f&&((a.thisIsSrc||a.thisIsTgt)&&(a.thisIsSrc&&!d||a.thisIsTgt&&!p)||n.push(u))}return this.spawn(n,!0)}}jt(xa,{connectedEdges:ao(function(t){for(var e=[],r=this,n=0;n<r.length;n++){var i=r[n];if(i.isNode())for(var a=i._private.edges,s=0;s<a.length;s++){var o=a[s];e.push(o)}}return this.spawn(e,!0).filter(t)},"connectedEdges"),connectedNodes:ao(function(t){for(var e=[],r=this,n=0;n<r.length;n++){var i=r[n];i.isEdge()&&(e.push(i.source()[0]),e.push(i.target()[0]))}return this.spawn(e,!0).filter(t)},"connectedNodes"),parallelEdges:ao(O$(),"parallelEdges"),codirectedEdges:ao(O$({codirected:!0}),"codirectedEdges")});function O$(t){var e={codirected:!1};return t=jt({},e,t),function(n){for(var i=[],a=this.edges(),s=t,o=0;o<a.length;o++)for(var l=a[o],u=l._private,h=u.source,d=h._private.data.id,p=u.data.target,f=h._private.edges,g=0;g<f.length;g++){var m=f[g],y=m._private.data,v=y.target,x=y.source,w=v===p&&x===d,k=d===v&&p===x;(s.codirected&&w||!s.codirected&&(w||k))&&i.push(m)}return this.spawn(i,!0).filter(n)}}jt(xa,{components:function(e){var r=this,n=r.cy(),i=n.collection(),a=e==null?r.nodes():e.nodes(),s=[];e!=null&&a.empty()&&(a=e.sources());var o=function(h,d){i.merge(h),a.unmerge(h),d.merge(h)};if(a.empty())return r.spawn();var l=function(){var h=n.collection();s.push(h);var d=a[0];o(d,h),r.bfs({directed:!1,roots:d,visit:function(f){return o(f,h)}}),h.forEach(function(p){p.connectedEdges().forEach(function(f){r.has(f)&&h.has(f.source())&&h.has(f.target())&&h.merge(f)})})};do l();while(a.length>0);return s},component:function(){var e=this[0];return e.cy().mutableElements().components(e)[0]}});xa.componentsOf=xa.components;var ji=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(e===void 0){In("A collection must have a reference to the core");return}var a=new wl,s=!1;if(!r)r=[];else if(r.length>0&&Tr(r[0])&&!a2(r[0])){s=!0;for(var o=[],l=new qg,u=0,h=r.length;u<h;u++){var d=r[u];d.data==null&&(d.data={});var p=d.data;if(p.id==null)p.id=Zie();else if(e.hasElementWithId(p.id)||l.has(p.id))continue;var f=new A6(e,d,!1);o.push(f),l.add(p.id)}r=o}this.length=0;for(var g=0,m=r.length;g<m;g++){var y=r[g][0];if(y!=null){var v=y._private.data.id;(!n||!a.has(v))&&(n&&a.set(v,{index:this.length,ele:y}),this[this.length]=y,this.length++)}}this._private={eles:this,cy:e,get map(){return this.lazyMap==null&&this.rebuildMap(),this.lazyMap},set map(x){this.lazyMap=x},rebuildMap:function(){for(var w=this.lazyMap=new wl,k=this.eles,E=0;E<k.length;E++){var _=k[E];w.set(_.id(),{index:E,ele:_})}}},n&&(this._private.map=a),s&&!i&&this.restore()},nn=A6.prototype=ji.prototype=Object.create(Array.prototype);nn.instanceString=function(){return"collection"};nn.spawn=function(t,e){return new ji(this.cy(),t,e)};nn.spawnSelf=function(){return this.spawn(this)};nn.cy=function(){return this._private.cy};nn.renderer=function(){return this._private.cy.renderer()};nn.element=function(){return this[0]};nn.collection=function(){return Bie(this)?this:new ji(this._private.cy,[this])};nn.unique=function(){return new ji(this._private.cy,this,!0)};nn.hasElementWithId=function(t){return t=""+t,this._private.map.has(t)};nn.getElementById=function(t){t=""+t;var e=this._private.cy,r=this._private.map.get(t);return r?r.ele:new ji(e)};nn.$id=nn.getElementById;nn.poolIndex=function(){var t=this._private.cy,e=t._private.elements,r=this[0]._private.data.id;return e._private.map.get(r).index};nn.indexOf=function(t){var e=t[0]._private.data.id;return this._private.map.get(e).index};nn.indexOfId=function(t){return t=""+t,this._private.map.get(t).index};nn.json=function(t){var e=this.element(),r=this.cy();if(e==null&&t)return this;if(e!=null){var n=e._private;if(Tr(t)){if(r.startBatch(),t.data){e.data(t.data);var i=n.data;if(e.isEdge()){var a=!1,s={},o=t.data.source,l=t.data.target;o!=null&&o!=i.source&&(s.source=""+o,a=!0),l!=null&&l!=i.target&&(s.target=""+l,a=!0),a&&(e=e.move(s))}else{var u="parent"in t.data,h=t.data.parent;u&&(h!=null||i.parent!=null)&&h!=i.parent&&(h===void 0&&(h=null),h!=null&&(h=""+h),e=e.move({parent:h}))}}t.position&&e.position(t.position);var d=function(m,y,v){var x=t[m];x!=null&&x!==n[m]&&(x?e[y]():e[v]())};return d("removed","remove","restore"),d("selected","select","unselect"),d("selectable","selectify","unselectify"),d("locked","lock","unlock"),d("grabbable","grabify","ungrabify"),d("pannable","panify","unpanify"),t.classes!=null&&e.classes(t.classes),r.endBatch(),this}else if(t===void 0){var p={data:bl(n.data),position:bl(n.position),group:n.group,removed:n.removed,selected:n.selected,selectable:n.selectable,locked:n.locked,grabbable:n.grabbable,pannable:n.pannable,classes:null};p.classes="";var f=0;return n.classes.forEach(function(g){return p.classes+=f++===0?g:" "+g}),p}}};nn.jsons=function(){for(var t=[],e=0;e<this.length;e++){var r=this[e],n=r.json();t.push(n)}return t};nn.clone=function(){for(var t=this.cy(),e=[],r=0;r<this.length;r++){var n=this[r],i=n.json(),a=new A6(t,i,!1);e.push(a)}return new ji(t,e)};nn.copy=nn.clone;nn.restore=function(){for(var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,r=this,n=r.cy(),i=n._private,a=[],s=[],o,l=0,u=r.length;l<u;l++){var h=r[l];e&&!h.removed()||(h.isNode()?a.push(h):s.push(h))}o=a.concat(s);var d,p=function(){o.splice(d,1),d--};for(d=0;d<o.length;d++){var f=o[d],g=f._private,m=g.data;if(f.clearTraversalCache(),!(!e&&!g.removed)){if(m.id===void 0)m.id=Zie();else if(mt(m.id))m.id=""+m.id;else if(hh(m.id)||!Bt(m.id)){In("Can not create element with invalid string ID `"+m.id+"`"),p();continue}else if(n.hasElementWithId(m.id)){In("Can not create second element with ID `"+m.id+"`"),p();continue}}var y=m.id;if(f.isNode()){var v=g.position;v.x==null&&(v.x=0),v.y==null&&(v.y=0)}if(f.isEdge()){for(var x=f,w=["source","target"],k=w.length,E=!1,_=0;_<k;_++){var S=w[_],R=m[S];mt(R)&&(R=m[S]=""+m[S]),R==null||R===""?(In("Can not create edge `"+y+"` with unspecified "+S),E=!0):n.hasElementWithId(R)||(In("Can not create edge `"+y+"` with nonexistant "+S+" `"+R+"`"),E=!0)}if(E){p();continue}var C=n.getElementById(m.source),L=n.getElementById(m.target);C.same(L)?C._private.edges.push(x):(C._private.edges.push(x),L._private.edges.push(x)),x._private.source=C,x._private.target=L}g.map=new wl,g.map.set(y,{ele:f,index:0}),g.removed=!1,e&&n.addToPool(f)}for(var A=0;A<a.length;A++){var N=a[A],F=N._private.data;mt(F.parent)&&(F.parent=""+F.parent);var T=F.parent,D=T!=null;if(D||N._private.parent){var M=N._private.parent?n.collection().merge(N._private.parent):n.getElementById(T);if(M.empty())F.parent=void 0;else if(M[0].removed())Or("Node added with missing parent, reference to parent removed"),F.parent=void 0,N._private.parent=null;else{for(var O=!1,I=M;!I.empty();){if(N.same(I)){O=!0,F.parent=void 0;break}I=I.parent()}O||(M[0]._private.children.push(N),N._private.parent=M[0],i.hasCompoundNodes=!0)}}}if(o.length>0){for(var P=o.length===r.length?r:new ji(n,o),B=0;B<P.length;B++){var $=P[B];$.isNode()||($.parallelEdges().clearTraversalCache(),$.source().clearTraversalCache(),$.target().clearTraversalCache())}var V;i.hasCompoundNodes?V=n.collection().merge(P).merge(P.connectedNodes()).merge(P.parent()):V=P,V.dirtyCompoundBoundsCache().dirtyBoundingBoxCache().updateStyle(t),t?P.emitAndNotify("add"):e&&P.emit("add")}return r};nn.removed=function(){var t=this[0];return t&&t._private.removed};nn.inside=function(){var t=this[0];return t&&!t._private.removed};nn.remove=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,r=this,n=[],i={},a=r._private.cy;function s(T){for(var D=T._private.edges,M=0;M<D.length;M++)l(D[M])}function o(T){for(var D=T._private.children,M=0;M<D.length;M++)l(D[M])}function l(T){var D=i[T.id()];e&&T.removed()||D||(i[T.id()]=!0,T.isNode()?(n.push(T),s(T),o(T)):n.unshift(T))}for(var u=0,h=r.length;u<h;u++){var d=r[u];l(d)}function p(T,D){var M=T._private.edges;dh(M,D),T.clearTraversalCache()}function f(T){T.clearTraversalCache()}var g=[];g.ids={};function m(T,D){D=D[0],T=T[0];var M=T._private.children,O=T.id();dh(M,D),D._private.parent=null,g.ids[O]||(g.ids[O]=!0,g.push(T))}r.dirtyCompoundBoundsCache(),e&&a.removeFromPool(n);for(var y=0;y<n.length;y++){var v=n[y];if(v.isEdge()){var x=v.source()[0],w=v.target()[0];p(x,v),p(w,v);for(var k=v.parallelEdges(),E=0;E<k.length;E++){var _=k[E];f(_),_.isBundledBezier()&&_.dirtyBoundingBoxCache()}}else{var S=v.parent();S.length!==0&&m(S,v)}e&&(v._private.removed=!0)}var R=a._private.elements;a._private.hasCompoundNodes=!1;for(var C=0;C<R.length;C++){var L=R[C];if(L.isParent()){a._private.hasCompoundNodes=!0;break}}var A=new ji(this.cy(),n);A.size()>0&&(t?A.emitAndNotify("remove"):e&&A.emit("remove"));for(var N=0;N<g.length;N++){var F=g[N];(!e||!F.removed())&&F.updateStyle()}return A};nn.move=function(t){var e=this._private.cy,r=this,n=!1,i=!1,a=function(g){return g==null?g:""+g};if(t.source!==void 0||t.target!==void 0){var s=a(t.source),o=a(t.target),l=s!=null&&e.hasElementWithId(s),u=o!=null&&e.hasElementWithId(o);(l||u)&&(e.batch(function(){r.remove(n,i),r.emitAndNotify("moveout");for(var f=0;f<r.length;f++){var g=r[f],m=g._private.data;g.isEdge()&&(l&&(m.source=s),u&&(m.target=o))}r.restore(n,i)}),r.emitAndNotify("move"))}else if(t.parent!==void 0){var h=a(t.parent),d=h===null||e.hasElementWithId(h);if(d){var p=h===null?void 0:h;e.batch(function(){var f=r.remove(n,i);f.emitAndNotify("moveout");for(var g=0;g<r.length;g++){var m=r[g],y=m._private.data;m.isNode()&&(y.parent=p)}f.restore(n,i)}),r.emitAndNotify("move")}}return this};[hae,UKe,Bb,Hu,vg,nQe,I6,xQe,Pae,Fae,EQe,T5,$b,qi,Wu,xa].forEach(function(t){jt(nn,t)});var RQe={add:function(e){var r,n=this;if(Ns(e)){var i=e;if(i._private.cy===n)r=i.restore();else{for(var a=[],s=0;s<i.length;s++){var o=i[s];a.push(o.json())}r=new ji(n,a)}}else if(Xr(e)){var l=e;r=new ji(n,l)}else if(Tr(e)&&(Xr(e.nodes)||Xr(e.edges))){for(var u=e,h=[],d=["nodes","edges"],p=0,f=d.length;p<f;p++){var g=d[p],m=u[g];if(Xr(m))for(var y=0,v=m.length;y<v;y++){var x=jt({group:g},m[y]);h.push(x)}}r=new ji(n,h)}else{var w=e;r=new A6(n,w).collection()}return r},remove:function(e){if(!Ns(e)){if(Bt(e)){var r=e;e=this.$(r)}}return e.remove()}};/*! Bezier curve function generator. Copyright Gaetan Renaudeau. MIT License: http://en.wikipedia.org/wiki/MIT_License */function MQe(t,e,r,n){var i=4,a=.001,s=1e-7,o=10,l=11,u=1/(l-1),h=typeof Float32Array<"u";if(arguments.length!==4)return!1;for(var d=0;d<4;++d)if(typeof arguments[d]!="number"||isNaN(arguments[d])||!isFinite(arguments[d]))return!1;t=Math.min(t,1),r=Math.min(r,1),t=Math.max(t,0),r=Math.max(r,0);var p=h?new Float32Array(l):new Array(l);function f(L,A){return 1-3*A+3*L}function g(L,A){return 3*A-6*L}function m(L){return 3*L}function y(L,A,N){return((f(A,N)*L+g(A,N))*L+m(A))*L}function v(L,A,N){return 3*f(A,N)*L*L+2*g(A,N)*L+m(A)}function x(L,A){for(var N=0;N<i;++N){var F=v(A,t,r);if(F===0)return A;var T=y(A,t,r)-L;A-=T/F}return A}function w(){for(var L=0;L<l;++L)p[L]=y(L*u,t,r)}function k(L,A,N){var F,T,D=0;do T=A+(N-A)/2,F=y(T,t,r)-L,F>0?N=T:A=T;while(Math.abs(F)>s&&++D<o);return T}function E(L){for(var A=0,N=1,F=l-1;N!==F&&p[N]<=L;++N)A+=u;--N;var T=(L-p[N])/(p[N+1]-p[N]),D=A+T*u,M=v(D,t,r);return M>=a?x(L,D):M===0?D:k(L,A,A+u)}var _=!1;function S(){_=!0,(t!==e||r!==n)&&w()}var R=function(A){return _||S(),t===e&&r===n?A:A===0?0:A===1?1:y(E(A),e,n)};R.getControlPoints=function(){return[{x:t,y:e},{x:r,y:n}]};var C="generateBezier("+[t,e,r,n]+")";return R.toString=function(){return C},R}/*! Runge-Kutta spring physics function generator. Adapted from Framer.js, copyright Koen Bok. MIT License: http://en.wikipedia.org/wiki/MIT_License */var IQe=function(){function t(n){return-n.tension*n.x-n.friction*n.v}function e(n,i,a){var s={x:n.x+a.dx*i,v:n.v+a.dv*i,tension:n.tension,friction:n.friction};return{dx:s.v,dv:t(s)}}function r(n,i){var a={dx:n.v,dv:t(n)},s=e(n,i*.5,a),o=e(n,i*.5,s),l=e(n,i,o),u=1/6*(a.dx+2*(s.dx+o.dx)+l.dx),h=1/6*(a.dv+2*(s.dv+o.dv)+l.dv);return n.x=n.x+u*i,n.v=n.v+h*i,n}return function n(i,a,s){var o={x:-1,v:0,tension:null,friction:null},l=[0],u=0,h=1/1e4,d=16/1e3,p,f,g;for(i=parseFloat(i)||500,a=parseFloat(a)||20,s=s||null,o.tension=i,o.friction=a,p=s!==null,p?(u=n(i,a),f=u/s*d):f=d;g=r(g||o,f),l.push(1+g.x),u+=16,Math.abs(g.x)>h&&Math.abs(g.v)>h;);return p?function(m){return l[m*(l.length-1)|0]}:u}}(),Zr=function(e,r,n,i){var a=MQe(e,r,n,i);return function(s,o,l){return s+(o-s)*a(l)}},zb={linear:function(e,r,n){return e+(r-e)*n},ease:Zr(.25,.1,.25,1),"ease-in":Zr(.42,0,1,1),"ease-out":Zr(0,0,.58,1),"ease-in-out":Zr(.42,0,.58,1),"ease-in-sine":Zr(.47,0,.745,.715),"ease-out-sine":Zr(.39,.575,.565,1),"ease-in-out-sine":Zr(.445,.05,.55,.95),"ease-in-quad":Zr(.55,.085,.68,.53),"ease-out-quad":Zr(.25,.46,.45,.94),"ease-in-out-quad":Zr(.455,.03,.515,.955),"ease-in-cubic":Zr(.55,.055,.675,.19),"ease-out-cubic":Zr(.215,.61,.355,1),"ease-in-out-cubic":Zr(.645,.045,.355,1),"ease-in-quart":Zr(.895,.03,.685,.22),"ease-out-quart":Zr(.165,.84,.44,1),"ease-in-out-quart":Zr(.77,0,.175,1),"ease-in-quint":Zr(.755,.05,.855,.06),"ease-out-quint":Zr(.23,1,.32,1),"ease-in-out-quint":Zr(.86,0,.07,1),"ease-in-expo":Zr(.95,.05,.795,.035),"ease-out-expo":Zr(.19,1,.22,1),"ease-in-out-expo":Zr(1,0,0,1),"ease-in-circ":Zr(.6,.04,.98,.335),"ease-out-circ":Zr(.075,.82,.165,1),"ease-in-out-circ":Zr(.785,.135,.15,.86),spring:function(e,r,n){if(n===0)return zb.linear;var i=IQe(e,r,n);return function(a,s,o){return a+(s-a)*i(o)}},"cubic-bezier":Zr};function P$(t,e,r,n,i){if(n===1||e===r)return r;var a=i(e,r,n);return t==null||((t.roundValue||t.color)&&(a=Math.round(a)),t.min!==void 0&&(a=Math.max(a,t.min)),t.max!==void 0&&(a=Math.min(a,t.max))),a}function F$(t,e){return t.pfValue!=null||t.value!=null?t.pfValue!=null&&(e==null||e.type.units!=="%")?t.pfValue:t.value:t}function Pf(t,e,r,n,i){var a=i!=null?i.type:null;r<0?r=0:r>1&&(r=1);var s=F$(t,i),o=F$(e,i);if(mt(s)&&mt(o))return P$(a,s,o,r,n);if(Xr(s)&&Xr(o)){for(var l=[],u=0;u<o.length;u++){var h=s[u],d=o[u];if(h!=null&&d!=null){var p=P$(a,h,d,r,n);l.push(p)}else l.push(d)}return l}}function DQe(t,e,r,n){var i=!n,a=t._private,s=e._private,o=s.easing,l=s.startTime,u=n?t:t.cy(),h=u.style();if(!s.easingImpl)if(o==null)s.easingImpl=zb.linear;else{var d;if(Bt(o)){var p=h.parse("transition-timing-function",o);d=p.value}else d=o;var f,g;Bt(d)?(f=d,g=[]):(f=d[1],g=d.slice(2).map(function(P){return+P})),g.length>0?(f==="spring"&&g.push(s.duration),s.easingImpl=zb[f].apply(null,g)):s.easingImpl=zb[f]}var m=s.easingImpl,y;if(s.duration===0?y=1:y=(r-l)/s.duration,s.applying&&(y=s.progress),y<0?y=0:y>1&&(y=1),s.delay==null){var v=s.startPosition,x=s.position;if(x&&i&&!t.locked()){var w={};V1(v.x,x.x)&&(w.x=Pf(v.x,x.x,y,m)),V1(v.y,x.y)&&(w.y=Pf(v.y,x.y,y,m)),t.position(w)}var k=s.startPan,E=s.pan,_=a.pan,S=E!=null&&n;S&&(V1(k.x,E.x)&&(_.x=Pf(k.x,E.x,y,m)),V1(k.y,E.y)&&(_.y=Pf(k.y,E.y,y,m)),t.emit("pan"));var R=s.startZoom,C=s.zoom,L=C!=null&&n;L&&(V1(R,C)&&(a.zoom=ey(a.minZoom,Pf(R,C,y,m),a.maxZoom)),t.emit("zoom")),(S||L)&&t.emit("viewport");var A=s.style;if(A&&A.length>0&&i){for(var N=0;N<A.length;N++){var F=A[N],T=F.name,D=F,M=s.startStyle[T],O=h.properties[M.name],I=Pf(M,D,y,m,O);h.overrideBypass(t,T,I)}t.emit("style")}}return s.progress=y,y}function V1(t,e){return t==null||e==null?!1:mt(t)&&mt(e)?!0:!!(t&&e)}function OQe(t,e,r,n){var i=e._private;i.started=!0,i.startTime=r-i.progress*i.duration}function B$(t,e){var r=e._private.aniEles,n=[];function i(h,d){var p=h._private,f=p.animation.current,g=p.animation.queue,m=!1;if(f.length===0){var y=g.shift();y&&f.push(y)}for(var v=function(_){for(var S=_.length-1;S>=0;S--){var R=_[S];R()}_.splice(0,_.length)},x=f.length-1;x>=0;x--){var w=f[x],k=w._private;if(k.stopped){f.splice(x,1),k.hooked=!1,k.playing=!1,k.started=!1,v(k.frames);continue}!k.playing&&!k.applying||(k.playing&&k.applying&&(k.applying=!1),k.started||OQe(h,w,t),DQe(h,w,t,d),k.applying&&(k.applying=!1),v(k.frames),k.step!=null&&k.step(t),w.completed()&&(f.splice(x,1),k.hooked=!1,k.playing=!1,k.started=!1,v(k.completes)),m=!0)}return!d&&f.length===0&&g.length===0&&n.push(h),m}for(var a=!1,s=0;s<r.length;s++){var o=r[s],l=i(o);a=a||l}var u=i(e,!0);(a||u)&&(r.length>0?e.notify("draw",r):e.notify("draw")),r.unmerge(n),e.emit("step")}var PQe={animate:Mr.animate(),animation:Mr.animation(),animated:Mr.animated(),clearQueue:Mr.clearQueue(),delay:Mr.delay(),delayAnimation:Mr.delayAnimation(),stop:Mr.stop(),addToAnimationPool:function(e){var r=this;r.styleEnabled()&&r._private.aniEles.merge(e)},stopAnimationLoop:function(){this._private.animationsRunning=!1},startAnimationLoop:function(){var e=this;if(e._private.animationsRunning=!0,!e.styleEnabled())return;function r(){e._private.animationsRunning&&y5(function(a){B$(a,e),r()})}var n=e.renderer();n&&n.beforeRender?n.beforeRender(function(a,s){B$(s,e)},n.beforeRenderPriorities.animations):r()}},FQe={qualifierCompare:function(e,r){return e==null||r==null?e==null&&r==null:e.sameText(r)},eventMatches:function(e,r,n){var i=r.qualifier;return i!=null?e!==n.target&&a2(n.target)&&i.matches(n.target):!0},addEventFields:function(e,r){r.cy=e,r.target=e},callbackContext:function(e,r,n){return r.qualifier!=null?n.target:e}},Ox=function(e){return Bt(e)?new fh(e):e},zae={createEmitter:function(){var e=this._private;return e.emitter||(e.emitter=new D6(FQe,this)),this},emitter:function(){return this._private.emitter},on:function(e,r,n){return this.emitter().on(e,Ox(r),n),this},removeListener:function(e,r,n){return this.emitter().removeListener(e,Ox(r),n),this},removeAllListeners:function(){return this.emitter().removeAllListeners(),this},one:function(e,r,n){return this.emitter().one(e,Ox(r),n),this},once:function(e,r,n){return this.emitter().one(e,Ox(r),n),this},emit:function(e,r){return this.emitter().emit(e,r),this},emitAndNotify:function(e,r){return this.emit(e),this.notify(e,r),this}};Mr.eventAliasesOn(zae);var b8={png:function(e){var r=this._private.renderer;return e=e||{},r.png(e)},jpg:function(e){var r=this._private.renderer;return e=e||{},e.bg=e.bg||"#fff",r.jpg(e)}};b8.jpeg=b8.jpg;var Ub={layout:function(e){var r=this;if(e==null){In("Layout options must be specified to make a layout");return}if(e.name==null){In("A `name` must be specified to make a layout");return}var n=e.name,i=r.extension("layout",n);if(i==null){In("No such layout `"+n+"` found.  Did you forget to import it and `cytoscape.use()` it?");return}var a;Bt(e.eles)?a=r.$(e.eles):a=e.eles!=null?e.eles:r.$();var s=new i(jt({},e,{cy:r,eles:a}));return s}};Ub.createLayout=Ub.makeLayout=Ub.layout;var BQe={notify:function(e,r){var n=this._private;if(this.batching()){n.batchNotifications=n.batchNotifications||{};var i=n.batchNotifications[e]=n.batchNotifications[e]||this.collection();r!=null&&i.merge(r);return}if(n.notificationsEnabled){var a=this.renderer();this.destroyed()||!a||a.notify(e,r)}},notifications:function(e){var r=this._private;return e===void 0?r.notificationsEnabled:(r.notificationsEnabled=!!e,this)},noNotifications:function(e){this.notifications(!1),e(),this.notifications(!0)},batching:function(){return this._private.batchCount>0},startBatch:function(){var e=this._private;return e.batchCount==null&&(e.batchCount=0),e.batchCount===0&&(e.batchStyleEles=this.collection(),e.batchNotifications={}),e.batchCount++,this},endBatch:function(){var e=this._private;if(e.batchCount===0)return this;if(e.batchCount--,e.batchCount===0){e.batchStyleEles.updateStyle();var r=this.renderer();Object.keys(e.batchNotifications).forEach(function(n){var i=e.batchNotifications[n];i.empty()?r.notify(n):r.notify(n,i)})}return this},batch:function(e){return this.startBatch(),e(),this.endBatch(),this},batchData:function(e){var r=this;return this.batch(function(){for(var n=Object.keys(e),i=0;i<n.length;i++){var a=n[i],s=e[a],o=r.getElementById(a);o.data(s)}})}},$Qe=ta({hideEdgesOnViewport:!1,textureOnViewport:!1,motionBlur:!1,motionBlurOpacity:.05,pixelRatio:void 0,desktopTapThreshold:4,touchTapThreshold:8,wheelSensitivity:1,debug:!1,showFps:!1}),w8={renderTo:function(e,r,n,i){var a=this._private.renderer;return a.renderTo(e,r,n,i),this},renderer:function(){return this._private.renderer},forceRender:function(){return this.notify("draw"),this},resize:function(){return this.invalidateSize(),this.emitAndNotify("resize"),this},initRenderer:function(e){var r=this,n=r.extension("renderer",e.name);if(n==null){In("Can not initialise: No such renderer `".concat(e.name,"` found. Did you forget to import it and `cytoscape.use()` it?"));return}e.wheelSensitivity!==void 0&&Or("You have set a custom wheel sensitivity.  This will make your app zoom unnaturally when using mainstream mice.  You should change this value from the default only if you can guarantee that all your users will use the same hardware and OS configuration as your current machine.");var i=$Qe(e);i.cy=r,r._private.renderer=new n(i),this.notify("init")},destroyRenderer:function(){var e=this;e.notify("destroy");var r=e.container();if(r)for(r._cyreg=null;r.childNodes.length>0;)r.removeChild(r.childNodes[0]);e._private.renderer=null,e.mutableElements().forEach(function(n){var i=n._private;i.rscratch={},i.rstyle={},i.animation.current=[],i.animation.queue=[]})},onRender:function(e){return this.on("render",e)},offRender:function(e){return this.off("render",e)}};w8.invalidateDimensions=w8.resize;var Vb={collection:function(e,r){return Bt(e)?this.$(e):Ns(e)?e.collection():Xr(e)?(r||(r={}),new ji(this,e,r.unique,r.removed)):new ji(this)},nodes:function(e){var r=this.$(function(n){return n.isNode()});return e?r.filter(e):r},edges:function(e){var r=this.$(function(n){return n.isEdge()});return e?r.filter(e):r},$:function(e){var r=this._private.elements;return e?r.filter(e):r.spawnSelf()},mutableElements:function(){return this._private.elements}};Vb.elements=Vb.filter=Vb.$;var ka={},Um="t",zQe="f";ka.apply=function(t){for(var e=this,r=e._private,n=r.cy,i=n.collection(),a=0;a<t.length;a++){var s=t[a],o=e.getContextMeta(s);if(!o.empty){var l=e.getContextStyle(o),u=e.applyContextStyle(o,l,s);s._private.appliedInitStyle?e.updateTransitions(s,u.diffProps):s._private.appliedInitStyle=!0;var h=e.updateStyleHints(s);h&&i.push(s)}}return i};ka.getPropertiesDiff=function(t,e){var r=this,n=r._private.propDiffs=r._private.propDiffs||{},i=t+"-"+e,a=n[i];if(a)return a;for(var s=[],o={},l=0;l<r.length;l++){var u=r[l],h=t[l]===Um,d=e[l]===Um,p=h!==d,f=u.mappedProperties.length>0;if(p||d&&f){var g=void 0;p&&f||p?g=u.properties:f&&(g=u.mappedProperties);for(var m=0;m<g.length;m++){for(var y=g[m],v=y.name,x=!1,w=l+1;w<r.length;w++){var k=r[w],E=e[w]===Um;if(E&&(x=k.properties[y.name]!=null,x))break}!o[v]&&!x&&(o[v]=!0,s.push(v))}}}return n[i]=s,s};ka.getContextMeta=function(t){for(var e=this,r="",n,i=t._private.styleCxtKey||"",a=0;a<e.length;a++){var s=e[a],o=s.selector&&s.selector.matches(t);o?r+=Um:r+=zQe}return n=e.getPropertiesDiff(i,r),t._private.styleCxtKey=r,{key:r,diffPropNames:n,empty:n.length===0}};ka.getContextStyle=function(t){var e=t.key,r=this,n=this._private.contextStyles=this._private.contextStyles||{};if(n[e])return n[e];for(var i={_private:{key:e}},a=0;a<r.length;a++){var s=r[a],o=e[a]===Um;if(o)for(var l=0;l<s.properties.length;l++){var u=s.properties[l];i[u.name]=u}}return n[e]=i,i};ka.applyContextStyle=function(t,e,r){for(var n=this,i=t.diffPropNames,a={},s=n.types,o=0;o<i.length;o++){var l=i[o],u=e[l],h=r.pstyle(l);if(!u)if(h)h.bypass?u={name:l,deleteBypassed:!0}:u={name:l,delete:!0};else continue;if(h!==u){if(u.mapped===s.fn&&h!=null&&h.mapping!=null&&h.mapping.value===u.value){var d=h.mapping,p=d.fnValue=u.value(r);if(p===d.prevFnValue)continue}var f=a[l]={prev:h};n.applyParsedProperty(r,u),f.next=r.pstyle(l),f.next&&f.next.bypass&&(f.next=f.next.bypassed)}}return{diffProps:a}};ka.updateStyleHints=function(t){var e=t._private,r=this,n=r.propertyGroupNames,i=r.propertyGroupKeys,a=function(Y,Q,ae){return r.getPropertiesHash(Y,Q,ae)},s=e.styleKey;if(t.removed())return!1;var o=e.group==="nodes",l=t._private.style;n=Object.keys(l);for(var u=0;u<i.length;u++){var h=i[u];e.styleKeys[h]=[h0,dm]}for(var d=function(Y,Q){return e.styleKeys[Q][0]=Qv(Y,e.styleKeys[Q][0])},p=function(Y,Q){return e.styleKeys[Q][1]=Zv(Y,e.styleKeys[Q][1])},f=function(Y,Q){d(Y,Q),p(Y,Q)},g=function(Y,Q){for(var ae=0;ae<Y.length;ae++){var ie=Y.charCodeAt(ae);d(ie,Q),p(ie,Q)}},m=2e9,y=function(Y){return-128<Y&&Y<128&&Math.floor(Y)!==Y?m-(Y*1024|0):Y},v=0;v<n.length;v++){var x=n[v],w=l[x];if(w!=null){var k=this.properties[x],E=k.type,_=k.groupKey,S=void 0;k.hashOverride!=null?S=k.hashOverride(t,w):w.pfValue!=null&&(S=w.pfValue);var R=k.enums==null?w.value:null,C=S!=null,L=R!=null,A=C||L,N=w.units;if(E.number&&A&&!E.multiple){var F=C?S:R;f(y(F),_),!C&&N!=null&&g(N,_)}else g(w.strValue,_)}}for(var T=[h0,dm],D=0;D<i.length;D++){var M=i[D],O=e.styleKeys[M];T[0]=Qv(O[0],T[0]),T[1]=Zv(O[1],T[1])}e.styleKey=WYe(T[0],T[1]);var I=e.styleKeys;e.labelDimsKey=uu(I.labelDimensions);var P=a(t,["label"],I.labelDimensions);if(e.labelKey=uu(P),e.labelStyleKey=uu(Cx(I.commonLabel,P)),!o){var B=a(t,["source-label"],I.labelDimensions);e.sourceLabelKey=uu(B),e.sourceLabelStyleKey=uu(Cx(I.commonLabel,B));var $=a(t,["target-label"],I.labelDimensions);e.targetLabelKey=uu($),e.targetLabelStyleKey=uu(Cx(I.commonLabel,$))}if(o){var V=e.styleKeys,W=V.nodeBody,K=V.nodeBorder,Z=V.nodeOutline,H=V.backgroundImage,ee=V.compound,te=V.pie,U=[W,K,Z,H,ee,te].filter(function(j){return j!=null}).reduce(Cx,[h0,dm]);e.nodeKey=uu(U),e.hasPie=te!=null&&te[0]!==h0&&te[1]!==dm}return s!==e.styleKey};ka.clearStyleHints=function(t){var e=t._private;e.styleCxtKey="",e.styleKeys={},e.styleKey=null,e.labelKey=null,e.labelStyleKey=null,e.sourceLabelKey=null,e.sourceLabelStyleKey=null,e.targetLabelKey=null,e.targetLabelStyleKey=null,e.nodeKey=null,e.hasPie=null};ka.applyParsedProperty=function(t,e){var r=this,n=e,i=t._private.style,a,s=r.types,o=r.properties[n.name].type,l=n.bypass,u=i[n.name],h=u&&u.bypass,d=t._private,p="mapping",f=function(W){return W==null?null:W.pfValue!=null?W.pfValue:W.value},g=function(){var W=f(u),K=f(n);r.checkTriggers(t,n.name,W,K)};if(e.name==="curve-style"&&t.isEdge()&&(e.value!=="bezier"&&t.isLoop()||e.value==="haystack"&&(t.source().isParent()||t.target().isParent()))&&(n=e=this.parse(e.name,"bezier",l)),n.delete)return i[n.name]=void 0,g(),!0;if(n.deleteBypassed)return u?u.bypass?(u.bypassed=void 0,g(),!0):!1:(g(),!0);if(n.deleteBypass)return u?u.bypass?(i[n.name]=u.bypassed,g(),!0):!1:(g(),!0);var m=function(){Or("Do not assign mappings to elements without corresponding data (i.e. ele `"+t.id()+"` has no mapping for property `"+n.name+"` with data field `"+n.field+"`); try a `["+n.field+"]` selector to limit scope to elements with `"+n.field+"` defined")};switch(n.mapped){case s.mapData:{for(var y=n.field.split("."),v=d.data,x=0;x<y.length&&v;x++){var w=y[x];v=v[w]}if(v==null)return m(),!1;var k;if(mt(v)){var E=n.fieldMax-n.fieldMin;E===0?k=0:k=(v-n.fieldMin)/E}else return Or("Do not use continuous mappers without specifying numeric data (i.e. `"+n.field+": "+v+"` for `"+t.id()+"` is non-numeric)"),!1;if(k<0?k=0:k>1&&(k=1),o.color){var _=n.valueMin[0],S=n.valueMax[0],R=n.valueMin[1],C=n.valueMax[1],L=n.valueMin[2],A=n.valueMax[2],N=n.valueMin[3]==null?1:n.valueMin[3],F=n.valueMax[3]==null?1:n.valueMax[3],T=[Math.round(_+(S-_)*k),Math.round(R+(C-R)*k),Math.round(L+(A-L)*k),Math.round(N+(F-N)*k)];a={bypass:n.bypass,name:n.name,value:T,strValue:"rgb("+T[0]+", "+T[1]+", "+T[2]+")"}}else if(o.number){var D=n.valueMin+(n.valueMax-n.valueMin)*k;a=this.parse(n.name,D,n.bypass,p)}else return!1;if(!a)return m(),!1;a.mapping=n,n=a;break}case s.data:{for(var M=n.field.split("."),O=d.data,I=0;I<M.length&&O;I++){var P=M[I];O=O[P]}if(O!=null&&(a=this.parse(n.name,O,n.bypass,p)),!a)return m(),!1;a.mapping=n,n=a;break}case s.fn:{var B=n.value,$=n.fnValue!=null?n.fnValue:B(t);if(n.prevFnValue=$,$==null)return Or("Custom function mappers may not return null (i.e. `"+n.name+"` for ele `"+t.id()+"` is null)"),!1;if(a=this.parse(n.name,$,n.bypass,p),!a)return Or("Custom function mappers may not return invalid values for the property type (i.e. `"+n.name+"` for ele `"+t.id()+"` is invalid)"),!1;a.mapping=bl(n),n=a;break}case void 0:break;default:return!1}return l?(h?n.bypassed=u.bypassed:n.bypassed=u,i[n.name]=n):h?u.bypassed=n:i[n.name]=n,g(),!0};ka.cleanElements=function(t,e){for(var r=0;r<t.length;r++){var n=t[r];if(this.clearStyleHints(n),n.dirtyCompoundBoundsCache(),n.dirtyBoundingBoxCache(),!e)n._private.style={};else for(var i=n._private.style,a=Object.keys(i),s=0;s<a.length;s++){var o=a[s],l=i[o];l!=null&&(l.bypass?l.bypassed=null:i[o]=null)}}};ka.update=function(){var t=this._private.cy,e=t.mutableElements();e.updateStyle()};ka.updateTransitions=function(t,e){var r=this,n=t._private,i=t.pstyle("transition-property").value,a=t.pstyle("transition-duration").pfValue,s=t.pstyle("transition-delay").pfValue;if(i.length>0&&a>0){for(var o={},l=!1,u=0;u<i.length;u++){var h=i[u],d=t.pstyle(h),p=e[h];if(p){var f=p.prev,g=f,m=p.next!=null?p.next:d,y=!1,v=void 0,x=1e-6;g&&(mt(g.pfValue)&&mt(m.pfValue)?(y=m.pfValue-g.pfValue,v=g.pfValue+x*y):mt(g.value)&&mt(m.value)?(y=m.value-g.value,v=g.value+x*y):Xr(g.value)&&Xr(m.value)&&(y=g.value[0]!==m.value[0]||g.value[1]!==m.value[1]||g.value[2]!==m.value[2],v=g.strValue),y&&(o[h]=m.strValue,this.applyBypass(t,h,v),l=!0))}}if(!l)return;n.transitioning=!0,new jg(function(w){s>0?t.delayAnimation(s).play().promise().then(w):w()}).then(function(){return t.animation({style:o,duration:a,easing:t.pstyle("transition-timing-function").value,queue:!1}).play().promise()}).then(function(){r.removeBypasses(t,i),t.emitAndNotify("style"),n.transitioning=!1})}else n.transitioning&&(this.removeBypasses(t,i),t.emitAndNotify("style"),n.transitioning=!1)};ka.checkTrigger=function(t,e,r,n,i,a){var s=this.properties[e],o=i(s);o!=null&&o(r,n)&&a(s)};ka.checkZOrderTrigger=function(t,e,r,n){var i=this;this.checkTrigger(t,e,r,n,function(a){return a.triggersZOrder},function(){i._private.cy.notify("zorder",t)})};ka.checkBoundsTrigger=function(t,e,r,n){this.checkTrigger(t,e,r,n,function(i){return i.triggersBounds},function(i){t.dirtyCompoundBoundsCache(),t.dirtyBoundingBoxCache(),i.triggersBoundsOfParallelBeziers&&e==="curve-style"&&(r==="bezier"||n==="bezier")&&t.parallelEdges().forEach(function(a){a.isBundledBezier()&&a.dirtyBoundingBoxCache()}),i.triggersBoundsOfConnectedEdges&&e==="display"&&(r==="none"||n==="none")&&t.connectedEdges().forEach(function(a){a.dirtyBoundingBoxCache()})})};ka.checkTriggers=function(t,e,r,n){t.dirtyStyleCache(),this.checkZOrderTrigger(t,e,r,n),this.checkBoundsTrigger(t,e,r,n)};var c2={};c2.applyBypass=function(t,e,r,n){var i=this,a=[],s=!0;if(e==="*"||e==="**"){if(r!==void 0)for(var o=0;o<i.properties.length;o++){var l=i.properties[o],u=l.name,h=this.parse(u,r,!0);h&&a.push(h)}}else if(Bt(e)){var d=this.parse(e,r,!0);d&&a.push(d)}else if(Tr(e)){var p=e;n=r;for(var f=Object.keys(p),g=0;g<f.length;g++){var m=f[g],y=p[m];if(y===void 0&&(y=p[E6(m)]),y!==void 0){var v=this.parse(m,y,!0);v&&a.push(v)}}}else return!1;if(a.length===0)return!1;for(var x=!1,w=0;w<t.length;w++){for(var k=t[w],E={},_=void 0,S=0;S<a.length;S++){var R=a[S];if(n){var C=k.pstyle(R.name);_=E[R.name]={prev:C}}x=this.applyParsedProperty(k,bl(R))||x,n&&(_.next=k.pstyle(R.name))}x&&this.updateStyleHints(k),n&&this.updateTransitions(k,E,s)}return x};c2.overrideBypass=function(t,e,r){e=yN(e);for(var n=0;n<t.length;n++){var i=t[n],a=i._private.style[e],s=this.properties[e].type,o=s.color,l=s.mutiple,u=a?a.pfValue!=null?a.pfValue:a.value:null;!a||!a.bypass?this.applyBypass(i,e,r):(a.value=r,a.pfValue!=null&&(a.pfValue=r),o?a.strValue="rgb("+r.join(",")+")":l?a.strValue=r.join(" "):a.strValue=""+r,this.updateStyleHints(i)),this.checkTriggers(i,e,u,r)}};c2.removeAllBypasses=function(t,e){return this.removeBypasses(t,this.propertyNames,e)};c2.removeBypasses=function(t,e,r){for(var n=!0,i=0;i<t.length;i++){for(var a=t[i],s={},o=0;o<e.length;o++){var l=e[o],u=this.properties[l],h=a.pstyle(u.name);if(!(!h||!h.bypass)){var d="",p=this.parse(l,d,!0),f=s[u.name]={prev:h};this.applyParsedProperty(a,p),f.next=a.pstyle(u.name)}}this.updateStyleHints(a),r&&this.updateTransitions(a,s,n)}};var MN={};MN.getEmSizeInPixels=function(){var t=this.containerCss("font-size");return t!=null?parseFloat(t):1};MN.containerCss=function(t){var e=this._private.cy,r=e.container(),n=e.window();if(n&&r&&n.getComputedStyle)return n.getComputedStyle(r).getPropertyValue(t)};var Rl={};Rl.getRenderedStyle=function(t,e){return e?this.getStylePropertyValue(t,e,!0):this.getRawStyle(t,!0)};Rl.getRawStyle=function(t,e){var r=this;if(t=t[0],t){for(var n={},i=0;i<r.properties.length;i++){var a=r.properties[i],s=r.getStylePropertyValue(t,a.name,e);s!=null&&(n[a.name]=s,n[E6(a.name)]=s)}return n}};Rl.getIndexedStyle=function(t,e,r,n){var i=t.pstyle(e)[r][n];return i??t.cy().style().getDefaultProperty(e)[r][0]};Rl.getStylePropertyValue=function(t,e,r){var n=this;if(t=t[0],t){var i=n.properties[e];i.alias&&(i=i.pointsTo);var a=i.type,s=t.pstyle(i.name);if(s){var o=s.value,l=s.units,u=s.strValue;if(r&&a.number&&o!=null&&mt(o)){var h=t.cy().zoom(),d=function(y){return y*h},p=function(y,v){return d(y)+v},f=Xr(o),g=f?l.every(function(m){return m!=null}):l!=null;return g?f?o.map(function(m,y){return p(m,l[y])}).join(" "):p(o,l):f?o.map(function(m){return Bt(m)?m:""+d(m)}).join(" "):""+d(o)}else if(u!=null)return u}return null}};Rl.getAnimationStartStyle=function(t,e){for(var r={},n=0;n<e.length;n++){var i=e[n],a=i.name,s=t.pstyle(a);s!==void 0&&(Tr(s)?s=this.parse(a,s.strValue):s=this.parse(a,s)),s&&(r[a]=s)}return r};Rl.getPropsList=function(t){var e=this,r=[],n=t,i=e.properties;if(n)for(var a=Object.keys(n),s=0;s<a.length;s++){var o=a[s],l=n[o],u=i[o]||i[yN(o)],h=this.parse(u.name,l);h&&r.push(h)}return r};Rl.getNonDefaultPropertiesHash=function(t,e,r){var n=r.slice(),i,a,s,o,l,u;for(l=0;l<e.length;l++)if(i=e[l],a=t.pstyle(i,!1),a!=null)if(a.pfValue!=null)n[0]=Qv(o,n[0]),n[1]=Zv(o,n[1]);else for(s=a.strValue,u=0;u<s.length;u++)o=s.charCodeAt(u),n[0]=Qv(o,n[0]),n[1]=Zv(o,n[1]);return n};Rl.getPropertiesHash=Rl.getNonDefaultPropertiesHash;var F6={};F6.appendFromJson=function(t){for(var e=this,r=0;r<t.length;r++){var n=t[r],i=n.selector,a=n.style||n.css,s=Object.keys(a);e.selector(i);for(var o=0;o<s.length;o++){var l=s[o],u=a[l];e.css(l,u)}}return e};F6.fromJson=function(t){var e=this;return e.resetToDefault(),e.appendFromJson(t),e};F6.json=function(){for(var t=[],e=this.defaultLength;e<this.length;e++){for(var r=this[e],n=r.selector,i=r.properties,a={},s=0;s<i.length;s++){var o=i[s];a[o.name]=o.strValue}t.push({selector:n?n.toString():"core",style:a})}return t};var IN={};IN.appendFromString=function(t){var e=this,r=this,n=""+t,i,a,s;n=n.replace(/[/][*](\s|.)+?[*][/]/g,"");function o(){n.length>i.length?n=n.substr(i.length):n=""}function l(){a.length>s.length?a=a.substr(s.length):a=""}for(;;){var u=n.match(/^\s*$/);if(u)break;var h=n.match(/^\s*((?:.|\s)+?)\s*\{((?:.|\s)+?)\}/);if(!h){Or("Halting stylesheet parsing: String stylesheet contains more to parse but no selector and block found in: "+n);break}i=h[0];var d=h[1];if(d!=="core"){var p=new fh(d);if(p.invalid){Or("Skipping parsing of block: Invalid selector found in string stylesheet: "+d),o();continue}}var f=h[2],g=!1;a=f;for(var m=[];;){var y=a.match(/^\s*$/);if(y)break;var v=a.match(/^\s*(.+?)\s*:\s*(.+?)(?:\s*;|\s*$)/);if(!v){Or("Skipping parsing of block: Invalid formatting of style property and value definitions found in:"+f),g=!0;break}s=v[0];var x=v[1],w=v[2],k=e.properties[x];if(!k){Or("Skipping property: Invalid property name in: "+s),l();continue}var E=r.parse(x,w);if(!E){Or("Skipping property: Invalid property definition in: "+s),l();continue}m.push({name:x,val:w}),l()}if(g){o();break}r.selector(d);for(var _=0;_<m.length;_++){var S=m[_];r.css(S.name,S.val)}o()}return r};IN.fromString=function(t){var e=this;return e.resetToDefault(),e.appendFromString(t),e};var zi={};(function(){var t=di,e=jWe,r=KWe,n=QWe,i=ZWe,a=function(U){return"^"+U+"\\s*\\(\\s*([\\w\\.]+)\\s*\\)$"},s=function(U){var j=t+"|\\w+|"+e+"|"+r+"|"+n+"|"+i;return"^"+U+"\\s*\\(([\\w\\.]+)\\s*\\,\\s*("+t+")\\s*\\,\\s*("+t+")\\s*,\\s*("+j+")\\s*\\,\\s*("+j+")\\)$"},o=[`^url\\s*\\(\\s*['"]?(.+?)['"]?\\s*\\)$`,"^(none)$","^(.+)$"];zi.types={time:{number:!0,min:0,units:"s|ms",implicitUnits:"ms"},percent:{number:!0,min:0,max:100,units:"%",implicitUnits:"%"},percentages:{number:!0,min:0,max:100,units:"%",implicitUnits:"%",multiple:!0},zeroOneNumber:{number:!0,min:0,max:1,unitless:!0},zeroOneNumbers:{number:!0,min:0,max:1,unitless:!0,multiple:!0},nOneOneNumber:{number:!0,min:-1,max:1,unitless:!0},nonNegativeInt:{number:!0,min:0,integer:!0,unitless:!0},nonNegativeNumber:{number:!0,min:0,unitless:!0},position:{enums:["parent","origin"]},nodeSize:{number:!0,min:0,enums:["label"]},number:{number:!0,unitless:!0},numbers:{number:!0,unitless:!0,multiple:!0},positiveNumber:{number:!0,unitless:!0,min:0,strictMin:!0},size:{number:!0,min:0},bidirectionalSize:{number:!0},bidirectionalSizeMaybePercent:{number:!0,allowPercent:!0},bidirectionalSizes:{number:!0,multiple:!0},sizeMaybePercent:{number:!0,min:0,allowPercent:!0},axisDirection:{enums:["horizontal","leftward","rightward","vertical","upward","downward","auto"]},paddingRelativeTo:{enums:["width","height","average","min","max"]},bgWH:{number:!0,min:0,allowPercent:!0,enums:["auto"],multiple:!0},bgPos:{number:!0,allowPercent:!0,multiple:!0},bgRelativeTo:{enums:["inner","include-padding"],multiple:!0},bgRepeat:{enums:["repeat","repeat-x","repeat-y","no-repeat"],multiple:!0},bgFit:{enums:["none","contain","cover"],multiple:!0},bgCrossOrigin:{enums:["anonymous","use-credentials","null"],multiple:!0},bgClip:{enums:["none","node"],multiple:!0},bgContainment:{enums:["inside","over"],multiple:!0},color:{color:!0},colors:{color:!0,multiple:!0},fill:{enums:["solid","linear-gradient","radial-gradient"]},bool:{enums:["yes","no"]},bools:{enums:["yes","no"],multiple:!0},lineStyle:{enums:["solid","dotted","dashed"]},lineCap:{enums:["butt","round","square"]},linePosition:{enums:["center","inside","outside"]},lineJoin:{enums:["round","bevel","miter"]},borderStyle:{enums:["solid","dotted","dashed","double"]},curveStyle:{enums:["bezier","unbundled-bezier","haystack","segments","straight","straight-triangle","taxi","round-segments","round-taxi"]},radiusType:{enums:["arc-radius","influence-radius"],multiple:!0},fontFamily:{regex:'^([\\w- \\"]+(?:\\s*,\\s*[\\w- \\"]+)*)$'},fontStyle:{enums:["italic","normal","oblique"]},fontWeight:{enums:["normal","bold","bolder","lighter","100","200","300","400","500","600","800","900",100,200,300,400,500,600,700,800,900]},textDecoration:{enums:["none","underline","overline","line-through"]},textTransform:{enums:["none","uppercase","lowercase"]},textWrap:{enums:["none","wrap","ellipsis"]},textOverflowWrap:{enums:["whitespace","anywhere"]},textBackgroundShape:{enums:["rectangle","roundrectangle","round-rectangle"]},nodeShape:{enums:["rectangle","roundrectangle","round-rectangle","cutrectangle","cut-rectangle","bottomroundrectangle","bottom-round-rectangle","barrel","ellipse","triangle","round-triangle","square","pentagon","round-pentagon","hexagon","round-hexagon","concavehexagon","concave-hexagon","heptagon","round-heptagon","octagon","round-octagon","tag","round-tag","star","diamond","round-diamond","vee","rhomboid","right-rhomboid","polygon"]},overlayShape:{enums:["roundrectangle","round-rectangle","ellipse"]},cornerRadius:{number:!0,min:0,units:"px|em",implicitUnits:"px",enums:["auto"]},compoundIncludeLabels:{enums:["include","exclude"]},arrowShape:{enums:["tee","triangle","triangle-tee","circle-triangle","triangle-cross","triangle-backcurve","vee","square","circle","diamond","chevron","none"]},arrowFill:{enums:["filled","hollow"]},arrowWidth:{number:!0,units:"%|px|em",implicitUnits:"px",enums:["match-line"]},display:{enums:["element","none"]},visibility:{enums:["hidden","visible"]},zCompoundDepth:{enums:["bottom","orphan","auto","top"]},zIndexCompare:{enums:["auto","manual"]},valign:{enums:["top","center","bottom"]},halign:{enums:["left","center","right"]},justification:{enums:["left","center","right","auto"]},text:{string:!0},data:{mapping:!0,regex:a("data")},layoutData:{mapping:!0,regex:a("layoutData")},scratch:{mapping:!0,regex:a("scratch")},mapData:{mapping:!0,regex:s("mapData")},mapLayoutData:{mapping:!0,regex:s("mapLayoutData")},mapScratch:{mapping:!0,regex:s("mapScratch")},fn:{mapping:!0,fn:!0},url:{regexes:o,singleRegexMatchValue:!0},urls:{regexes:o,singleRegexMatchValue:!0,multiple:!0},propList:{propList:!0},angle:{number:!0,units:"deg|rad",implicitUnits:"rad"},textRotation:{number:!0,units:"deg|rad",implicitUnits:"rad",enums:["none","autorotate"]},polygonPointList:{number:!0,multiple:!0,evenMultiple:!0,min:-1,max:1,unitless:!0},edgeDistances:{enums:["intersection","node-position","endpoints"]},edgeEndpoint:{number:!0,multiple:!0,units:"%|px|em|deg|rad",implicitUnits:"px",enums:["inside-to-node","outside-to-node","outside-to-node-or-label","outside-to-line","outside-to-line-or-label"],singleEnum:!0,validate:function(U,j){switch(U.length){case 2:return j[0]!=="deg"&&j[0]!=="rad"&&j[1]!=="deg"&&j[1]!=="rad";case 1:return Bt(U[0])||j[0]==="deg"||j[0]==="rad";default:return!1}}},easing:{regexes:["^(spring)\\s*\\(\\s*("+t+")\\s*,\\s*("+t+")\\s*\\)$","^(cubic-bezier)\\s*\\(\\s*("+t+")\\s*,\\s*("+t+")\\s*,\\s*("+t+")\\s*,\\s*("+t+")\\s*\\)$"],enums:["linear","ease","ease-in","ease-out","ease-in-out","ease-in-sine","ease-out-sine","ease-in-out-sine","ease-in-quad","ease-out-quad","ease-in-out-quad","ease-in-cubic","ease-out-cubic","ease-in-out-cubic","ease-in-quart","ease-out-quart","ease-in-out-quart","ease-in-quint","ease-out-quint","ease-in-out-quint","ease-in-expo","ease-out-expo","ease-in-out-expo","ease-in-circ","ease-out-circ","ease-in-out-circ"]},gradientDirection:{enums:["to-bottom","to-top","to-left","to-right","to-bottom-right","to-bottom-left","to-top-right","to-top-left","to-right-bottom","to-left-bottom","to-right-top","to-left-top"]},boundsExpansion:{number:!0,multiple:!0,min:0,validate:function(U){var j=U.length;return j===1||j===2||j===4}}};var l={zeroNonZero:function(U,j){return(U==null||j==null)&&U!==j||U==0&&j!=0?!0:U!=0&&j==0},any:function(U,j){return U!=j},emptyNonEmpty:function(U,j){var Y=hh(U),Q=hh(j);return Y&&!Q||!Y&&Q}},u=zi.types,h=[{name:"label",type:u.text,triggersBounds:l.any,triggersZOrder:l.emptyNonEmpty},{name:"text-rotation",type:u.textRotation,triggersBounds:l.any},{name:"text-margin-x",type:u.bidirectionalSize,triggersBounds:l.any},{name:"text-margin-y",type:u.bidirectionalSize,triggersBounds:l.any}],d=[{name:"source-label",type:u.text,triggersBounds:l.any},{name:"source-text-rotation",type:u.textRotation,triggersBounds:l.any},{name:"source-text-margin-x",type:u.bidirectionalSize,triggersBounds:l.any},{name:"source-text-margin-y",type:u.bidirectionalSize,triggersBounds:l.any},{name:"source-text-offset",type:u.size,triggersBounds:l.any}],p=[{name:"target-label",type:u.text,triggersBounds:l.any},{name:"target-text-rotation",type:u.textRotation,triggersBounds:l.any},{name:"target-text-margin-x",type:u.bidirectionalSize,triggersBounds:l.any},{name:"target-text-margin-y",type:u.bidirectionalSize,triggersBounds:l.any},{name:"target-text-offset",type:u.size,triggersBounds:l.any}],f=[{name:"font-family",type:u.fontFamily,triggersBounds:l.any},{name:"font-style",type:u.fontStyle,triggersBounds:l.any},{name:"font-weight",type:u.fontWeight,triggersBounds:l.any},{name:"font-size",type:u.size,triggersBounds:l.any},{name:"text-transform",type:u.textTransform,triggersBounds:l.any},{name:"text-wrap",type:u.textWrap,triggersBounds:l.any},{name:"text-overflow-wrap",type:u.textOverflowWrap,triggersBounds:l.any},{name:"text-max-width",type:u.size,triggersBounds:l.any},{name:"text-outline-width",type:u.size,triggersBounds:l.any},{name:"line-height",type:u.positiveNumber,triggersBounds:l.any}],g=[{name:"text-valign",type:u.valign,triggersBounds:l.any},{name:"text-halign",type:u.halign,triggersBounds:l.any},{name:"color",type:u.color},{name:"text-outline-color",type:u.color},{name:"text-outline-opacity",type:u.zeroOneNumber},{name:"text-background-color",type:u.color},{name:"text-background-opacity",type:u.zeroOneNumber},{name:"text-background-padding",type:u.size,triggersBounds:l.any},{name:"text-border-opacity",type:u.zeroOneNumber},{name:"text-border-color",type:u.color},{name:"text-border-width",type:u.size,triggersBounds:l.any},{name:"text-border-style",type:u.borderStyle,triggersBounds:l.any},{name:"text-background-shape",type:u.textBackgroundShape,triggersBounds:l.any},{name:"text-justification",type:u.justification}],m=[{name:"events",type:u.bool,triggersZOrder:l.any},{name:"text-events",type:u.bool,triggersZOrder:l.any}],y=[{name:"display",type:u.display,triggersZOrder:l.any,triggersBounds:l.any,triggersBoundsOfConnectedEdges:!0},{name:"visibility",type:u.visibility,triggersZOrder:l.any},{name:"opacity",type:u.zeroOneNumber,triggersZOrder:l.zeroNonZero},{name:"text-opacity",type:u.zeroOneNumber},{name:"min-zoomed-font-size",type:u.size},{name:"z-compound-depth",type:u.zCompoundDepth,triggersZOrder:l.any},{name:"z-index-compare",type:u.zIndexCompare,triggersZOrder:l.any},{name:"z-index",type:u.number,triggersZOrder:l.any}],v=[{name:"overlay-padding",type:u.size,triggersBounds:l.any},{name:"overlay-color",type:u.color},{name:"overlay-opacity",type:u.zeroOneNumber,triggersBounds:l.zeroNonZero},{name:"overlay-shape",type:u.overlayShape,triggersBounds:l.any},{name:"overlay-corner-radius",type:u.cornerRadius}],x=[{name:"underlay-padding",type:u.size,triggersBounds:l.any},{name:"underlay-color",type:u.color},{name:"underlay-opacity",type:u.zeroOneNumber,triggersBounds:l.zeroNonZero},{name:"underlay-shape",type:u.overlayShape,triggersBounds:l.any},{name:"underlay-corner-radius",type:u.cornerRadius}],w=[{name:"transition-property",type:u.propList},{name:"transition-duration",type:u.time},{name:"transition-delay",type:u.time},{name:"transition-timing-function",type:u.easing}],k=function(U,j){return j.value==="label"?-U.poolIndex():j.pfValue},E=[{name:"height",type:u.nodeSize,triggersBounds:l.any,hashOverride:k},{name:"width",type:u.nodeSize,triggersBounds:l.any,hashOverride:k},{name:"shape",type:u.nodeShape,triggersBounds:l.any},{name:"shape-polygon-points",type:u.polygonPointList,triggersBounds:l.any},{name:"corner-radius",type:u.cornerRadius},{name:"background-color",type:u.color},{name:"background-fill",type:u.fill},{name:"background-opacity",type:u.zeroOneNumber},{name:"background-blacken",type:u.nOneOneNumber},{name:"background-gradient-stop-colors",type:u.colors},{name:"background-gradient-stop-positions",type:u.percentages},{name:"background-gradient-direction",type:u.gradientDirection},{name:"padding",type:u.sizeMaybePercent,triggersBounds:l.any},{name:"padding-relative-to",type:u.paddingRelativeTo,triggersBounds:l.any},{name:"bounds-expansion",type:u.boundsExpansion,triggersBounds:l.any}],_=[{name:"border-color",type:u.color},{name:"border-opacity",type:u.zeroOneNumber},{name:"border-width",type:u.size,triggersBounds:l.any},{name:"border-style",type:u.borderStyle},{name:"border-cap",type:u.lineCap},{name:"border-join",type:u.lineJoin},{name:"border-dash-pattern",type:u.numbers},{name:"border-dash-offset",type:u.number},{name:"border-position",type:u.linePosition}],S=[{name:"outline-color",type:u.color},{name:"outline-opacity",type:u.zeroOneNumber},{name:"outline-width",type:u.size,triggersBounds:l.any},{name:"outline-style",type:u.borderStyle},{name:"outline-offset",type:u.size,triggersBounds:l.any}],R=[{name:"background-image",type:u.urls},{name:"background-image-crossorigin",type:u.bgCrossOrigin},{name:"background-image-opacity",type:u.zeroOneNumbers},{name:"background-image-containment",type:u.bgContainment},{name:"background-image-smoothing",type:u.bools},{name:"background-position-x",type:u.bgPos},{name:"background-position-y",type:u.bgPos},{name:"background-width-relative-to",type:u.bgRelativeTo},{name:"background-height-relative-to",type:u.bgRelativeTo},{name:"background-repeat",type:u.bgRepeat},{name:"background-fit",type:u.bgFit},{name:"background-clip",type:u.bgClip},{name:"background-width",type:u.bgWH},{name:"background-height",type:u.bgWH},{name:"background-offset-x",type:u.bgPos},{name:"background-offset-y",type:u.bgPos}],C=[{name:"position",type:u.position,triggersBounds:l.any},{name:"compound-sizing-wrt-labels",type:u.compoundIncludeLabels,triggersBounds:l.any},{name:"min-width",type:u.size,triggersBounds:l.any},{name:"min-width-bias-left",type:u.sizeMaybePercent,triggersBounds:l.any},{name:"min-width-bias-right",type:u.sizeMaybePercent,triggersBounds:l.any},{name:"min-height",type:u.size,triggersBounds:l.any},{name:"min-height-bias-top",type:u.sizeMaybePercent,triggersBounds:l.any},{name:"min-height-bias-bottom",type:u.sizeMaybePercent,triggersBounds:l.any}],L=[{name:"line-style",type:u.lineStyle},{name:"line-color",type:u.color},{name:"line-fill",type:u.fill},{name:"line-cap",type:u.lineCap},{name:"line-opacity",type:u.zeroOneNumber},{name:"line-dash-pattern",type:u.numbers},{name:"line-dash-offset",type:u.number},{name:"line-outline-width",type:u.size},{name:"line-outline-color",type:u.color},{name:"line-gradient-stop-colors",type:u.colors},{name:"line-gradient-stop-positions",type:u.percentages},{name:"curve-style",type:u.curveStyle,triggersBounds:l.any,triggersBoundsOfParallelBeziers:!0},{name:"haystack-radius",type:u.zeroOneNumber,triggersBounds:l.any},{name:"source-endpoint",type:u.edgeEndpoint,triggersBounds:l.any},{name:"target-endpoint",type:u.edgeEndpoint,triggersBounds:l.any},{name:"control-point-step-size",type:u.size,triggersBounds:l.any},{name:"control-point-distances",type:u.bidirectionalSizes,triggersBounds:l.any},{name:"control-point-weights",type:u.numbers,triggersBounds:l.any},{name:"segment-distances",type:u.bidirectionalSizes,triggersBounds:l.any},{name:"segment-weights",type:u.numbers,triggersBounds:l.any},{name:"segment-radii",type:u.numbers,triggersBounds:l.any},{name:"radius-type",type:u.radiusType,triggersBounds:l.any},{name:"taxi-turn",type:u.bidirectionalSizeMaybePercent,triggersBounds:l.any},{name:"taxi-turn-min-distance",type:u.size,triggersBounds:l.any},{name:"taxi-direction",type:u.axisDirection,triggersBounds:l.any},{name:"taxi-radius",type:u.number,triggersBounds:l.any},{name:"edge-distances",type:u.edgeDistances,triggersBounds:l.any},{name:"arrow-scale",type:u.positiveNumber,triggersBounds:l.any},{name:"loop-direction",type:u.angle,triggersBounds:l.any},{name:"loop-sweep",type:u.angle,triggersBounds:l.any},{name:"source-distance-from-node",type:u.size,triggersBounds:l.any},{name:"target-distance-from-node",type:u.size,triggersBounds:l.any}],A=[{name:"ghost",type:u.bool,triggersBounds:l.any},{name:"ghost-offset-x",type:u.bidirectionalSize,triggersBounds:l.any},{name:"ghost-offset-y",type:u.bidirectionalSize,triggersBounds:l.any},{name:"ghost-opacity",type:u.zeroOneNumber}],N=[{name:"selection-box-color",type:u.color},{name:"selection-box-opacity",type:u.zeroOneNumber},{name:"selection-box-border-color",type:u.color},{name:"selection-box-border-width",type:u.size},{name:"active-bg-color",type:u.color},{name:"active-bg-opacity",type:u.zeroOneNumber},{name:"active-bg-size",type:u.size},{name:"outside-texture-bg-color",type:u.color},{name:"outside-texture-bg-opacity",type:u.zeroOneNumber}],F=[];zi.pieBackgroundN=16,F.push({name:"pie-size",type:u.sizeMaybePercent});for(var T=1;T<=zi.pieBackgroundN;T++)F.push({name:"pie-"+T+"-background-color",type:u.color}),F.push({name:"pie-"+T+"-background-size",type:u.percent}),F.push({name:"pie-"+T+"-background-opacity",type:u.zeroOneNumber});var D=[],M=zi.arrowPrefixes=["source","mid-source","target","mid-target"];[{name:"arrow-shape",type:u.arrowShape,triggersBounds:l.any},{name:"arrow-color",type:u.color},{name:"arrow-fill",type:u.arrowFill},{name:"arrow-width",type:u.arrowWidth}].forEach(function(te){M.forEach(function(U){var j=U+"-"+te.name,Y=te.type,Q=te.triggersBounds;D.push({name:j,type:Y,triggersBounds:Q})})},{});var O=zi.properties=[].concat(m,w,y,v,x,A,g,f,h,d,p,E,_,S,R,F,C,L,D,N),I=zi.propertyGroups={behavior:m,transition:w,visibility:y,overlay:v,underlay:x,ghost:A,commonLabel:g,labelDimensions:f,mainLabel:h,sourceLabel:d,targetLabel:p,nodeBody:E,nodeBorder:_,nodeOutline:S,backgroundImage:R,pie:F,compound:C,edgeLine:L,edgeArrow:D,core:N},P=zi.propertyGroupNames={},B=zi.propertyGroupKeys=Object.keys(I);B.forEach(function(te){P[te]=I[te].map(function(U){return U.name}),I[te].forEach(function(U){return U.groupKey=te})});var $=zi.aliases=[{name:"content",pointsTo:"label"},{name:"control-point-distance",pointsTo:"control-point-distances"},{name:"control-point-weight",pointsTo:"control-point-weights"},{name:"segment-distance",pointsTo:"segment-distances"},{name:"segment-weight",pointsTo:"segment-weights"},{name:"segment-radius",pointsTo:"segment-radii"},{name:"edge-text-rotation",pointsTo:"text-rotation"},{name:"padding-left",pointsTo:"padding"},{name:"padding-right",pointsTo:"padding"},{name:"padding-top",pointsTo:"padding"},{name:"padding-bottom",pointsTo:"padding"}];zi.propertyNames=O.map(function(te){return te.name});for(var V=0;V<O.length;V++){var W=O[V];O[W.name]=W}for(var K=0;K<$.length;K++){var Z=$[K],H=O[Z.pointsTo],ee={name:Z.name,alias:!0,pointsTo:H};O.push(ee),O[Z.name]=ee}})();zi.getDefaultProperty=function(t){return this.getDefaultProperties()[t]};zi.getDefaultProperties=function(){var t=this._private;if(t.defaultProperties!=null)return t.defaultProperties;for(var e=jt({"selection-box-color":"#ddd","selection-box-opacity":.65,"selection-box-border-color":"#aaa","selection-box-border-width":1,"active-bg-color":"black","active-bg-opacity":.15,"active-bg-size":30,"outside-texture-bg-color":"#000","outside-texture-bg-opacity":.125,events:"yes","text-events":"no","text-valign":"top","text-halign":"center","text-justification":"auto","line-height":1,color:"#000","text-outline-color":"#000","text-outline-width":0,"text-outline-opacity":1,"text-opacity":1,"text-decoration":"none","text-transform":"none","text-wrap":"none","text-overflow-wrap":"whitespace","text-max-width":9999,"text-background-color":"#000","text-background-opacity":0,"text-background-shape":"rectangle","text-background-padding":0,"text-border-opacity":0,"text-border-width":0,"text-border-style":"solid","text-border-color":"#000","font-family":"Helvetica Neue, Helvetica, sans-serif","font-style":"normal","font-weight":"normal","font-size":16,"min-zoomed-font-size":0,"text-rotation":"none","source-text-rotation":"none","target-text-rotation":"none",visibility:"visible",display:"element",opacity:1,"z-compound-depth":"auto","z-index-compare":"auto","z-index":0,label:"","text-margin-x":0,"text-margin-y":0,"source-label":"","source-text-offset":0,"source-text-margin-x":0,"source-text-margin-y":0,"target-label":"","target-text-offset":0,"target-text-margin-x":0,"target-text-margin-y":0,"overlay-opacity":0,"overlay-color":"#000","overlay-padding":10,"overlay-shape":"round-rectangle","overlay-corner-radius":"auto","underlay-opacity":0,"underlay-color":"#000","underlay-padding":10,"underlay-shape":"round-rectangle","underlay-corner-radius":"auto","transition-property":"none","transition-duration":0,"transition-delay":0,"transition-timing-function":"linear","background-blacken":0,"background-color":"#999","background-fill":"solid","background-opacity":1,"background-image":"none","background-image-crossorigin":"anonymous","background-image-opacity":1,"background-image-containment":"inside","background-image-smoothing":"yes","background-position-x":"50%","background-position-y":"50%","background-offset-x":0,"background-offset-y":0,"background-width-relative-to":"include-padding","background-height-relative-to":"include-padding","background-repeat":"no-repeat","background-fit":"none","background-clip":"node","background-width":"auto","background-height":"auto","border-color":"#000","border-opacity":1,"border-width":0,"border-style":"solid","border-dash-pattern":[4,2],"border-dash-offset":0,"border-cap":"butt","border-join":"miter","border-position":"center","outline-color":"#999","outline-opacity":1,"outline-width":0,"outline-offset":0,"outline-style":"solid",height:30,width:30,shape:"ellipse","shape-polygon-points":"-1, -1,   1, -1,   1, 1,   -1, 1","corner-radius":"auto","bounds-expansion":0,"background-gradient-direction":"to-bottom","background-gradient-stop-colors":"#999","background-gradient-stop-positions":"0%",ghost:"no","ghost-offset-y":0,"ghost-offset-x":0,"ghost-opacity":0,padding:0,"padding-relative-to":"width",position:"origin","compound-sizing-wrt-labels":"include","min-width":0,"min-width-bias-left":0,"min-width-bias-right":0,"min-height":0,"min-height-bias-top":0,"min-height-bias-bottom":0},{"pie-size":"100%"},[{name:"pie-{{i}}-background-color",value:"black"},{name:"pie-{{i}}-background-size",value:"0%"},{name:"pie-{{i}}-background-opacity",value:1}].reduce(function(l,u){for(var h=1;h<=zi.pieBackgroundN;h++){var d=u.name.replace("{{i}}",h),p=u.value;l[d]=p}return l},{}),{"line-style":"solid","line-color":"#999","line-fill":"solid","line-cap":"butt","line-opacity":1,"line-outline-width":0,"line-outline-color":"#000","line-gradient-stop-colors":"#999","line-gradient-stop-positions":"0%","control-point-step-size":40,"control-point-weights":.5,"segment-weights":.5,"segment-distances":20,"segment-radii":15,"radius-type":"arc-radius","taxi-turn":"50%","taxi-radius":15,"taxi-turn-min-distance":10,"taxi-direction":"auto","edge-distances":"intersection","curve-style":"haystack","haystack-radius":0,"arrow-scale":1,"loop-direction":"-45deg","loop-sweep":"-90deg","source-distance-from-node":0,"target-distance-from-node":0,"source-endpoint":"outside-to-node","target-endpoint":"outside-to-node","line-dash-pattern":[6,3],"line-dash-offset":0},[{name:"arrow-shape",value:"none"},{name:"arrow-color",value:"#999"},{name:"arrow-fill",value:"filled"},{name:"arrow-width",value:1}].reduce(function(l,u){return zi.arrowPrefixes.forEach(function(h){var d=h+"-"+u.name,p=u.value;l[d]=p}),l},{})),r={},n=0;n<this.properties.length;n++){var i=this.properties[n];if(!i.pointsTo){var a=i.name,s=e[a],o=this.parse(a,s);r[a]=o}}return t.defaultProperties=r,t.defaultProperties};zi.addDefaultStylesheet=function(){this.selector(":parent").css({shape:"rectangle",padding:10,"background-color":"#eee","border-color":"#ccc","border-width":1}).selector("edge").css({width:3}).selector(":loop").css({"curve-style":"bezier"}).selector("edge:compound").css({"curve-style":"bezier","source-endpoint":"outside-to-line","target-endpoint":"outside-to-line"}).selector(":selected").css({"background-color":"#0169D9","line-color":"#0169D9","source-arrow-color":"#0169D9","target-arrow-color":"#0169D9","mid-source-arrow-color":"#0169D9","mid-target-arrow-color":"#0169D9"}).selector(":parent:selected").css({"background-color":"#CCE1F9","border-color":"#aec8e5"}).selector(":active").css({"overlay-color":"black","overlay-padding":10,"overlay-opacity":.25}),this.defaultLength=this.length};var B6={};B6.parse=function(t,e,r,n){var i=this;if(En(e))return i.parseImplWarn(t,e,r,n);var a=n==="mapping"||n===!0||n===!1||n==null?"dontcare":n,s=r?"t":"f",o=""+e,l=Xie(t,o,s,a),u=i.propCache=i.propCache||[],h;return(h=u[l])||(h=u[l]=i.parseImplWarn(t,e,r,n)),(r||n==="mapping")&&(h=bl(h),h&&(h.value=bl(h.value))),h};B6.parseImplWarn=function(t,e,r,n){var i=this.parseImpl(t,e,r,n);return!i&&e!=null&&Or("The style property `".concat(t,": ").concat(e,"` is invalid")),i&&(i.name==="width"||i.name==="height")&&e==="label"&&Or("The style value of `label` is deprecated for `"+i.name+"`"),i};B6.parseImpl=function(t,e,r,n){var i=this;t=yN(t);var a=i.properties[t],s=e,o=i.types;if(!a||e===void 0)return null;a.alias&&(a=a.pointsTo,t=a.name);var l=Bt(e);l&&(e=e.trim());var u=a.type;if(!u)return null;if(r&&(e===""||e===null))return{name:t,value:e,bypass:!0,deleteBypass:!0};if(En(e))return{name:t,value:e,strValue:"fn",mapped:o.fn,bypass:r};var h,d;if(!(!l||n||e.length<7||e[1]!=="a")){if(e.length>=7&&e[0]==="d"&&(h=new RegExp(o.data.regex).exec(e))){if(r)return!1;var p=o.data;return{name:t,value:h,strValue:""+e,mapped:p,field:h[1],bypass:r}}else if(e.length>=10&&e[0]==="m"&&(d=new RegExp(o.mapData.regex).exec(e))){if(r||u.multiple)return!1;var f=o.mapData;if(!(u.color||u.number))return!1;var g=this.parse(t,d[4]);if(!g||g.mapped)return!1;var m=this.parse(t,d[5]);if(!m||m.mapped)return!1;if(g.pfValue===m.pfValue||g.strValue===m.strValue)return Or("`"+t+": "+e+"` is not a valid mapper because the output range is zero; converting to `"+t+": "+g.strValue+"`"),this.parse(t,g.strValue);if(u.color){var y=g.value,v=m.value,x=y[0]===v[0]&&y[1]===v[1]&&y[2]===v[2]&&(y[3]===v[3]||(y[3]==null||y[3]===1)&&(v[3]==null||v[3]===1));if(x)return!1}return{name:t,value:d,strValue:""+e,mapped:f,field:d[1],fieldMin:parseFloat(d[2]),fieldMax:parseFloat(d[3]),valueMin:g.value,valueMax:m.value,bypass:r}}}if(u.multiple&&n!=="multiple"){var w;if(l?w=e.split(/\s+/):Xr(e)?w=e:w=[e],u.evenMultiple&&w.length%2!==0)return null;for(var k=[],E=[],_=[],S="",R=!1,C=0;C<w.length;C++){var L=i.parse(t,w[C],r,"multiple");R=R||Bt(L.value),k.push(L.value),_.push(L.pfValue!=null?L.pfValue:L.value),E.push(L.units),S+=(C>0?" ":"")+L.strValue}return u.validate&&!u.validate(k,E)?null:u.singleEnum&&R?k.length===1&&Bt(k[0])?{name:t,value:k[0],strValue:k[0],bypass:r}:null:{name:t,value:k,pfValue:_,strValue:S,bypass:r,units:E}}var A=function(){for(var U=0;U<u.enums.length;U++){var j=u.enums[U];if(j===e)return{name:t,value:e,strValue:""+e,bypass:r}}return null};if(u.number){var N,F="px";if(u.units&&(N=u.units),u.implicitUnits&&(F=u.implicitUnits),!u.unitless)if(l){var T="px|em"+(u.allowPercent?"|\\%":"");N&&(T=N);var D=e.match("^("+di+")("+T+")?$");D&&(e=D[1],N=D[2]||F)}else(!N||u.implicitUnits)&&(N=F);if(e=parseFloat(e),isNaN(e)&&u.enums===void 0)return null;if(isNaN(e)&&u.enums!==void 0)return e=s,A();if(u.integer&&!UWe(e)||u.min!==void 0&&(e<u.min||u.strictMin&&e===u.min)||u.max!==void 0&&(e>u.max||u.strictMax&&e===u.max))return null;var M={name:t,value:e,strValue:""+e+(N||""),units:N,bypass:r};return u.unitless||N!=="px"&&N!=="em"?M.pfValue=e:M.pfValue=N==="px"||!N?e:this.getEmSizeInPixels()*e,(N==="ms"||N==="s")&&(M.pfValue=N==="ms"?e:1e3*e),(N==="deg"||N==="rad")&&(M.pfValue=N==="rad"?e:wqe(e)),N==="%"&&(M.pfValue=e/100),M}else if(u.propList){var O=[],I=""+e;if(I!=="none"){for(var P=I.split(/\s*,\s*|\s+/),B=0;B<P.length;B++){var $=P[B].trim();i.properties[$]?O.push($):Or("`"+$+"` is not a valid property name")}if(O.length===0)return null}return{name:t,value:O,strValue:O.length===0?"none":O.join(" "),bypass:r}}else if(u.color){var V=iYe(e);return V?{name:t,value:V,pfValue:V,strValue:"rgb("+V[0]+","+V[1]+","+V[2]+")",bypass:r}:null}else if(u.regex||u.regexes){if(u.enums){var W=A();if(W)return W}for(var K=u.regexes?u.regexes:[u.regex],Z=0;Z<K.length;Z++){var H=new RegExp(K[Z]),ee=H.exec(e);if(ee)return{name:t,value:u.singleRegexMatchValue?ee[1]:ee,strValue:""+e,bypass:r}}return null}else return u.string?{name:t,value:""+e,strValue:""+e,bypass:r}:u.enums?A():null};var va=function t(e){if(!(this instanceof t))return new t(e);if(!vN(e)){In("A style must have a core reference");return}this._private={cy:e,coreStyle:{}},this.length=0,this.resetToDefault()},ba=va.prototype;ba.instanceString=function(){return"style"};ba.clear=function(){for(var t=this._private,e=t.cy,r=e.elements(),n=0;n<this.length;n++)this[n]=void 0;return this.length=0,t.contextStyles={},t.propDiffs={},this.cleanElements(r,!0),r.forEach(function(i){var a=i[0]._private;a.styleDirty=!0,a.appliedInitStyle=!1}),this};ba.resetToDefault=function(){return this.clear(),this.addDefaultStylesheet(),this};ba.core=function(t){return this._private.coreStyle[t]||this.getDefaultProperty(t)};ba.selector=function(t){var e=t==="core"?null:new fh(t),r=this.length++;return this[r]={selector:e,properties:[],mappedProperties:[],index:r},this};ba.css=function(){var t=this,e=arguments;if(e.length===1)for(var r=e[0],n=0;n<t.properties.length;n++){var i=t.properties[n],a=r[i.name];a===void 0&&(a=r[E6(i.name)]),a!==void 0&&this.cssRule(i.name,a)}else e.length===2&&this.cssRule(e[0],e[1]);return this};ba.style=ba.css;ba.cssRule=function(t,e){var r=this.parse(t,e);if(r){var n=this.length-1;this[n].properties.push(r),this[n].properties[r.name]=r,r.name.match(/pie-(\d+)-background-size/)&&r.value&&(this._private.hasPie=!0),r.mapped&&this[n].mappedProperties.push(r);var i=!this[n].selector;i&&(this._private.coreStyle[r.name]=r)}return this};ba.append=function(t){return $ie(t)?t.appendToStyle(this):Xr(t)?this.appendFromJson(t):Bt(t)&&this.appendFromString(t),this};va.fromJson=function(t,e){var r=new va(t);return r.fromJson(e),r};va.fromString=function(t,e){return new va(t).fromString(e)};[ka,c2,MN,Rl,F6,IN,zi,B6].forEach(function(t){jt(ba,t)});va.types=ba.types;va.properties=ba.properties;va.propertyGroups=ba.propertyGroups;va.propertyGroupNames=ba.propertyGroupNames;va.propertyGroupKeys=ba.propertyGroupKeys;var UQe={style:function(e){if(e){var r=this.setStyle(e);r.update()}return this._private.style},setStyle:function(e){var r=this._private;return $ie(e)?r.style=e.generateStyle(this):Xr(e)?r.style=va.fromJson(this,e):Bt(e)?r.style=va.fromString(this,e):r.style=va(this),r.style},updateStyle:function(){this.mutableElements().updateStyle()}},VQe="single",tf={autolock:function(e){if(e!==void 0)this._private.autolock=!!e;else return this._private.autolock;return this},autoungrabify:function(e){if(e!==void 0)this._private.autoungrabify=!!e;else return this._private.autoungrabify;return this},autounselectify:function(e){if(e!==void 0)this._private.autounselectify=!!e;else return this._private.autounselectify;return this},selectionType:function(e){var r=this._private;if(r.selectionType==null&&(r.selectionType=VQe),e!==void 0)(e==="additive"||e==="single")&&(r.selectionType=e);else return r.selectionType;return this},panningEnabled:function(e){if(e!==void 0)this._private.panningEnabled=!!e;else return this._private.panningEnabled;return this},userPanningEnabled:function(e){if(e!==void 0)this._private.userPanningEnabled=!!e;else return this._private.userPanningEnabled;return this},zoomingEnabled:function(e){if(e!==void 0)this._private.zoomingEnabled=!!e;else return this._private.zoomingEnabled;return this},userZoomingEnabled:function(e){if(e!==void 0)this._private.userZoomingEnabled=!!e;else return this._private.userZoomingEnabled;return this},boxSelectionEnabled:function(e){if(e!==void 0)this._private.boxSelectionEnabled=!!e;else return this._private.boxSelectionEnabled;return this},pan:function(){var e=arguments,r=this._private.pan,n,i,a,s,o;switch(e.length){case 0:return r;case 1:if(Bt(e[0]))return n=e[0],r[n];if(Tr(e[0])){if(!this._private.panningEnabled)return this;a=e[0],s=a.x,o=a.y,mt(s)&&(r.x=s),mt(o)&&(r.y=o),this.emit("pan viewport")}break;case 2:if(!this._private.panningEnabled)return this;n=e[0],i=e[1],(n==="x"||n==="y")&&mt(i)&&(r[n]=i),this.emit("pan viewport");break}return this.notify("viewport"),this},panBy:function(e,r){var n=arguments,i=this._private.pan,a,s,o,l,u;if(!this._private.panningEnabled)return this;switch(n.length){case 1:Tr(e)&&(o=n[0],l=o.x,u=o.y,mt(l)&&(i.x+=l),mt(u)&&(i.y+=u),this.emit("pan viewport"));break;case 2:a=e,s=r,(a==="x"||a==="y")&&mt(s)&&(i[a]+=s),this.emit("pan viewport");break}return this.notify("viewport"),this},fit:function(e,r){var n=this.getFitViewport(e,r);if(n){var i=this._private;i.zoom=n.zoom,i.pan=n.pan,this.emit("pan zoom viewport"),this.notify("viewport")}return this},getFitViewport:function(e,r){if(mt(e)&&r===void 0&&(r=e,e=void 0),!(!this._private.panningEnabled||!this._private.zoomingEnabled)){var n;if(Bt(e)){var i=e;e=this.$(i)}else if(HWe(e)){var a=e;n={x1:a.x1,y1:a.y1,x2:a.x2,y2:a.y2},n.w=n.x2-n.x1,n.h=n.y2-n.y1}else Ns(e)||(e=this.mutableElements());if(!(Ns(e)&&e.empty())){n=n||e.boundingBox();var s=this.width(),o=this.height(),l;if(r=mt(r)?r:0,!isNaN(s)&&!isNaN(o)&&s>0&&o>0&&!isNaN(n.w)&&!isNaN(n.h)&&n.w>0&&n.h>0){l=Math.min((s-2*r)/n.w,(o-2*r)/n.h),l=l>this._private.maxZoom?this._private.maxZoom:l,l=l<this._private.minZoom?this._private.minZoom:l;var u={x:(s-l*(n.x1+n.x2))/2,y:(o-l*(n.y1+n.y2))/2};return{zoom:l,pan:u}}}}},zoomRange:function(e,r){var n=this._private;if(r==null){var i=e;e=i.min,r=i.max}return mt(e)&&mt(r)&&e<=r?(n.minZoom=e,n.maxZoom=r):mt(e)&&r===void 0&&e<=n.maxZoom?n.minZoom=e:mt(r)&&e===void 0&&r>=n.minZoom&&(n.maxZoom=r),this},minZoom:function(e){return e===void 0?this._private.minZoom:this.zoomRange({min:e})},maxZoom:function(e){return e===void 0?this._private.maxZoom:this.zoomRange({max:e})},getZoomedViewport:function(e){var r=this._private,n=r.pan,i=r.zoom,a,s,o=!1;if(r.zoomingEnabled||(o=!0),mt(e)?s=e:Tr(e)&&(s=e.level,e.position!=null?a=_6(e.position,i,n):e.renderedPosition!=null&&(a=e.renderedPosition),a!=null&&!r.panningEnabled&&(o=!0)),s=s>r.maxZoom?r.maxZoom:s,s=s<r.minZoom?r.minZoom:s,o||!mt(s)||s===i||a!=null&&(!mt(a.x)||!mt(a.y)))return null;if(a!=null){var l=n,u=i,h=s,d={x:-h/u*(a.x-l.x)+a.x,y:-h/u*(a.y-l.y)+a.y};return{zoomed:!0,panned:!0,zoom:h,pan:d}}else return{zoomed:!0,panned:!1,zoom:s,pan:n}},zoom:function(e){if(e===void 0)return this._private.zoom;var r=this.getZoomedViewport(e),n=this._private;return r==null||!r.zoomed?this:(n.zoom=r.zoom,r.panned&&(n.pan.x=r.pan.x,n.pan.y=r.pan.y),this.emit("zoom"+(r.panned?" pan":"")+" viewport"),this.notify("viewport"),this)},viewport:function(e){var r=this._private,n=!0,i=!0,a=[],s=!1,o=!1;if(!e)return this;if(mt(e.zoom)||(n=!1),Tr(e.pan)||(i=!1),!n&&!i)return this;if(n){var l=e.zoom;l<r.minZoom||l>r.maxZoom||!r.zoomingEnabled?s=!0:(r.zoom=l,a.push("zoom"))}if(i&&(!s||!e.cancelOnFailedZoom)&&r.panningEnabled){var u=e.pan;mt(u.x)&&(r.pan.x=u.x,o=!1),mt(u.y)&&(r.pan.y=u.y,o=!1),o||a.push("pan")}return a.length>0&&(a.push("viewport"),this.emit(a.join(" ")),this.notify("viewport")),this},center:function(e){var r=this.getCenterPan(e);return r&&(this._private.pan=r,this.emit("pan viewport"),this.notify("viewport")),this},getCenterPan:function(e,r){if(this._private.panningEnabled){if(Bt(e)){var n=e;e=this.mutableElements().filter(n)}else Ns(e)||(e=this.mutableElements());if(e.length!==0){var i=e.boundingBox(),a=this.width(),s=this.height();r=r===void 0?this._private.zoom:r;var o={x:(a-r*(i.x1+i.x2))/2,y:(s-r*(i.y1+i.y2))/2};return o}}},reset:function(){return!this._private.panningEnabled||!this._private.zoomingEnabled?this:(this.viewport({pan:{x:0,y:0},zoom:1}),this)},invalidateSize:function(){this._private.sizeCache=null},size:function(){var e=this._private,r=e.container,n=this;return e.sizeCache=e.sizeCache||(r?function(){var i=n.window().getComputedStyle(r),a=function(o){return parseFloat(i.getPropertyValue(o))};return{width:r.clientWidth-a("padding-left")-a("padding-right"),height:r.clientHeight-a("padding-top")-a("padding-bottom")}}():{width:1,height:1})},width:function(){return this.size().width},height:function(){return this.size().height},extent:function(){var e=this._private.pan,r=this._private.zoom,n=this.renderedExtent(),i={x1:(n.x1-e.x)/r,x2:(n.x2-e.x)/r,y1:(n.y1-e.y)/r,y2:(n.y2-e.y)/r};return i.w=i.x2-i.x1,i.h=i.y2-i.y1,i},renderedExtent:function(){var e=this.width(),r=this.height();return{x1:0,y1:0,x2:e,y2:r,w:e,h:r}},multiClickDebounceTime:function(e){if(e)this._private.multiClickDebounceTime=e;else return this._private.multiClickDebounceTime;return this}};tf.centre=tf.center;tf.autolockNodes=tf.autolock;tf.autoungrabifyNodes=tf.autoungrabify;var ay={data:Mr.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeData:Mr.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0}),scratch:Mr.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeScratch:Mr.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0})};ay.attr=ay.data;ay.removeAttr=ay.removeData;var sy=function(e){var r=this;e=jt({},e);var n=e.container;n&&!v5(n)&&v5(n[0])&&(n=n[0]);var i=n?n._cyreg:null;i=i||{},i&&i.cy&&(i.cy.destroy(),i={});var a=i.readies=i.readies||[];n&&(n._cyreg=i),i.cy=r;var s=ii!==void 0&&n!==void 0&&!e.headless,o=e;o.layout=jt({name:s?"grid":"null"},o.layout),o.renderer=jt({name:s?"canvas":"null"},o.renderer);var l=function(g,m,y){return m!==void 0?m:y!==void 0?y:g},u=this._private={container:n,ready:!1,options:o,elements:new ji(this),listeners:[],aniEles:new ji(this),data:o.data||{},scratch:{},layout:null,renderer:null,destroyed:!1,notificationsEnabled:!0,minZoom:1e-50,maxZoom:1e50,zoomingEnabled:l(!0,o.zoomingEnabled),userZoomingEnabled:l(!0,o.userZoomingEnabled),panningEnabled:l(!0,o.panningEnabled),userPanningEnabled:l(!0,o.userPanningEnabled),boxSelectionEnabled:l(!0,o.boxSelectionEnabled),autolock:l(!1,o.autolock,o.autolockNodes),autoungrabify:l(!1,o.autoungrabify,o.autoungrabifyNodes),autounselectify:l(!1,o.autounselectify),styleEnabled:o.styleEnabled===void 0?s:o.styleEnabled,zoom:mt(o.zoom)?o.zoom:1,pan:{x:Tr(o.pan)&&mt(o.pan.x)?o.pan.x:0,y:Tr(o.pan)&&mt(o.pan.y)?o.pan.y:0},animation:{current:[],queue:[]},hasCompoundNodes:!1,multiClickDebounceTime:l(250,o.multiClickDebounceTime)};this.createEmitter(),this.selectionType(o.selectionType),this.zoomRange({min:o.minZoom,max:o.maxZoom});var h=function(g,m){var y=g.some(WWe);if(y)return jg.all(g).then(m);m(g)};u.styleEnabled&&r.setStyle([]);var d=jt({},o,o.renderer);r.initRenderer(d);var p=function(g,m,y){r.notifications(!1);var v=r.mutableElements();v.length>0&&v.remove(),g!=null&&(Tr(g)||Xr(g))&&r.add(g),r.one("layoutready",function(w){r.notifications(!0),r.emit(w),r.one("load",m),r.emitAndNotify("load")}).one("layoutstop",function(){r.one("done",y),r.emit("done")});var x=jt({},r._private.options.layout);x.eles=r.elements(),r.layout(x).run()};h([o.style,o.elements],function(f){var g=f[0],m=f[1];u.styleEnabled&&r.style().append(g),p(m,function(){r.startAnimationLoop(),u.ready=!0,En(o.ready)&&r.on("ready",o.ready);for(var y=0;y<a.length;y++){var v=a[y];r.on("ready",v)}i&&(i.readies=[]),r.emit("ready")},o.done)})},E5=sy.prototype;jt(E5,{instanceString:function(){return"core"},isReady:function(){return this._private.ready},destroyed:function(){return this._private.destroyed},ready:function(e){return this.isReady()?this.emitter().emit("ready",[],e):this.on("ready",e),this},destroy:function(){var e=this;if(!e.destroyed())return e.stopAnimationLoop(),e.destroyRenderer(),this.emit("destroy"),e._private.destroyed=!0,e},hasElementWithId:function(e){return this._private.elements.hasElementWithId(e)},getElementById:function(e){return this._private.elements.getElementById(e)},hasCompoundNodes:function(){return this._private.hasCompoundNodes},headless:function(){return this._private.renderer.isHeadless()},styleEnabled:function(){return this._private.styleEnabled},addToPool:function(e){return this._private.elements.merge(e),this},removeFromPool:function(e){return this._private.elements.unmerge(e),this},container:function(){return this._private.container||null},window:function(){var e=this._private.container;if(e==null)return ii;var r=this._private.container.ownerDocument;return r===void 0||r==null?ii:r.defaultView||ii},mount:function(e){if(e!=null){var r=this,n=r._private,i=n.options;return!v5(e)&&v5(e[0])&&(e=e[0]),r.stopAnimationLoop(),r.destroyRenderer(),n.container=e,n.styleEnabled=!0,r.invalidateSize(),r.initRenderer(jt({},i,i.renderer,{name:i.renderer.name==="null"?"canvas":i.renderer.name})),r.startAnimationLoop(),r.style(i.style),r.emit("mount"),r}},unmount:function(){var e=this;return e.stopAnimationLoop(),e.destroyRenderer(),e.initRenderer({name:"null"}),e.emit("unmount"),e},options:function(){return bl(this._private.options)},json:function(e){var r=this,n=r._private,i=r.mutableElements(),a=function(k){return r.getElementById(k.id())};if(Tr(e)){if(r.startBatch(),e.elements){var s={},o=function(k,E){for(var _=[],S=[],R=0;R<k.length;R++){var C=k[R];if(!C.data.id){Or("cy.json() cannot handle elements without an ID attribute");continue}var L=""+C.data.id,A=r.getElementById(L);s[L]=!0,A.length!==0?S.push({ele:A,json:C}):(E&&(C.group=E),_.push(C))}r.add(_);for(var N=0;N<S.length;N++){var F=S[N],T=F.ele,D=F.json;T.json(D)}};if(Xr(e.elements))o(e.elements);else for(var l=["nodes","edges"],u=0;u<l.length;u++){var h=l[u],d=e.elements[h];Xr(d)&&o(d,h)}var p=r.collection();i.filter(function(w){return!s[w.id()]}).forEach(function(w){w.isParent()?p.merge(w):w.remove()}),p.forEach(function(w){return w.children().move({parent:null})}),p.forEach(function(w){return a(w).remove()})}e.style&&r.style(e.style),e.zoom!=null&&e.zoom!==n.zoom&&r.zoom(e.zoom),e.pan&&(e.pan.x!==n.pan.x||e.pan.y!==n.pan.y)&&r.pan(e.pan),e.data&&r.data(e.data);for(var f=["minZoom","maxZoom","zoomingEnabled","userZoomingEnabled","panningEnabled","userPanningEnabled","boxSelectionEnabled","autolock","autoungrabify","autounselectify","multiClickDebounceTime"],g=0;g<f.length;g++){var m=f[g];e[m]!=null&&r[m](e[m])}return r.endBatch(),this}else{var y=!!e,v={};y?v.elements=this.elements().map(function(w){return w.json()}):(v.elements={},i.forEach(function(w){var k=w.group();v.elements[k]||(v.elements[k]=[]),v.elements[k].push(w.json())})),this._private.styleEnabled&&(v.style=r.style().json()),v.data=bl(r.data());var x=n.options;return v.zoomingEnabled=n.zoomingEnabled,v.userZoomingEnabled=n.userZoomingEnabled,v.zoom=n.zoom,v.minZoom=n.minZoom,v.maxZoom=n.maxZoom,v.panningEnabled=n.panningEnabled,v.userPanningEnabled=n.userPanningEnabled,v.pan=bl(n.pan),v.boxSelectionEnabled=n.boxSelectionEnabled,v.renderer=bl(x.renderer),v.hideEdgesOnViewport=x.hideEdgesOnViewport,v.textureOnViewport=x.textureOnViewport,v.wheelSensitivity=x.wheelSensitivity,v.motionBlur=x.motionBlur,v.multiClickDebounceTime=x.multiClickDebounceTime,v}}});E5.$id=E5.getElementById;[RQe,PQe,zae,b8,Ub,BQe,w8,Vb,UQe,tf,ay].forEach(function(t){jt(E5,t)});var GQe={fit:!0,directed:!1,padding:30,circle:!1,grid:!1,spacingFactor:1.75,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,roots:void 0,depthSort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,r){return!0},ready:void 0,stop:void 0,transform:function(e,r){return r}},HQe={maximal:!1,acyclic:!1},Ff=function(e){return e.scratch("breadthfirst")},$$=function(e,r){return e.scratch("breadthfirst",r)};function Uae(t){this.options=jt({},GQe,HQe,t)}Uae.prototype.run=function(){var t=this.options,e=t,r=t.cy,n=e.eles,i=n.nodes().filter(function(ie){return!ie.isParent()}),a=n,s=e.directed,o=e.acyclic||e.maximal||e.maximalAdjustments>0,l=fs(e.boundingBox?e.boundingBox:{x1:0,y1:0,w:r.width(),h:r.height()}),u;if(Ns(e.roots))u=e.roots;else if(Xr(e.roots)){for(var h=[],d=0;d<e.roots.length;d++){var p=e.roots[d],f=r.getElementById(p);h.push(f)}u=r.collection(h)}else if(Bt(e.roots))u=r.$(e.roots);else if(s)u=i.roots();else{var g=n.components();u=r.collection();for(var m=function(J){var _e=g[J],ce=_e.maxDegree(!1),Te=_e.filter(function(be){return be.degree(!1)===ce});u=u.add(Te)},y=0;y<g.length;y++)m(y)}var v=[],x={},w=function(J,_e){v[_e]==null&&(v[_e]=[]);var ce=v[_e].length;v[_e].push(J),$$(J,{index:ce,depth:_e})},k=function(J,_e){var ce=Ff(J),Te=ce.depth,be=ce.index;v[Te][be]=null,w(J,_e)};a.bfs({roots:u,directed:e.directed,visit:function(J,_e,ce,Te,be){var Ue=J[0],He=Ue.id();w(Ue,be),x[He]=!0}});for(var E=[],_=0;_<i.length;_++){var S=i[_];x[S.id()]||E.push(S)}var R=function(J){for(var _e=v[J],ce=0;ce<_e.length;ce++){var Te=_e[ce];if(Te==null){_e.splice(ce,1),ce--;continue}$$(Te,{depth:J,index:ce})}},C=function(){for(var J=0;J<v.length;J++)R(J)},L=function(J,_e){for(var ce=Ff(J),Te=J.incomers().filter(function(X){return X.isNode()&&n.has(X)}),be=-1,Ue=J.id(),He=0;He<Te.length;He++){var Ve=Te[He],Re=Ff(Ve);be=Math.max(be,Re.depth)}if(ce.depth<=be){if(!e.acyclic&&_e[Ue])return null;var de=be+1;return k(J,de),_e[Ue]=de,!0}return!1};if(s&&o){var A=[],N={},F=function(J){return A.push(J)},T=function(){return A.shift()};for(i.forEach(function(ie){return A.push(ie)});A.length>0;){var D=T(),M=L(D,N);if(M)D.outgoers().filter(function(ie){return ie.isNode()&&n.has(ie)}).forEach(F);else if(M===null){Or("Detected double maximal shift for node `"+D.id()+"`.  Bailing maximal adjustment due to cycle.  Use `options.maximal: true` only on DAGs.");break}}}C();var O=0;if(e.avoidOverlap)for(var I=0;I<i.length;I++){var P=i[I],B=P.layoutDimensions(e),$=B.w,V=B.h;O=Math.max(O,$,V)}var W={},K=function(J){if(W[J.id()])return W[J.id()];for(var _e=Ff(J).depth,ce=J.neighborhood(),Te=0,be=0,Ue=0;Ue<ce.length;Ue++){var He=ce[Ue];if(!(He.isEdge()||He.isParent()||!i.has(He))){var Ve=Ff(He);if(Ve!=null){var Re=Ve.index,de=Ve.depth;if(!(Re==null||de==null)){var X=v[de].length;de<_e&&(Te+=Re/X,be++)}}}}return be=Math.max(1,be),Te=Te/be,be===0&&(Te=0),W[J.id()]=Te,Te},Z=function(J,_e){var ce=K(J),Te=K(_e),be=ce-Te;return be===0?Uie(J.id(),_e.id()):be};e.depthSort!==void 0&&(Z=e.depthSort);for(var H=0;H<v.length;H++)v[H].sort(Z),R(H);for(var ee=[],te=0;te<E.length;te++)ee.push(E[te]);v.unshift(ee),C();for(var U=0,j=0;j<v.length;j++)U=Math.max(v[j].length,U);var Y={x:l.x1+l.w/2,y:l.x1+l.h/2},Q=v.reduce(function(ie,J){return Math.max(ie,J.length)},0),ae=function(J){var _e=Ff(J),ce=_e.depth,Te=_e.index,be=v[ce].length,Ue=Math.max(l.w/((e.grid?Q:be)+1),O),He=Math.max(l.h/(v.length+1),O),Ve=Math.min(l.w/2/v.length,l.h/2/v.length);if(Ve=Math.max(Ve,O),e.circle){var de=Ve*ce+Ve-(v.length>0&&v[0].length<=3?Ve/2:0),X=2*Math.PI/v[ce].length*Te;return ce===0&&v[0].length===1&&(de=1),{x:Y.x+de*Math.cos(X),y:Y.y+de*Math.sin(X)}}else{var Re={x:Y.x+(Te+1-(be+1)/2)*Ue,y:(ce+1)*He};return Re}};return n.nodes().layoutPositions(this,e,ae),this};var WQe={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,radius:void 0,startAngle:3/2*Math.PI,sweep:void 0,clockwise:!0,sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,r){return!0},ready:void 0,stop:void 0,transform:function(e,r){return r}};function Vae(t){this.options=jt({},WQe,t)}Vae.prototype.run=function(){var t=this.options,e=t,r=t.cy,n=e.eles,i=e.counterclockwise!==void 0?!e.counterclockwise:e.clockwise,a=n.nodes().not(":parent");e.sort&&(a=a.sort(e.sort));for(var s=fs(e.boundingBox?e.boundingBox:{x1:0,y1:0,w:r.width(),h:r.height()}),o={x:s.x1+s.w/2,y:s.y1+s.h/2},l=e.sweep===void 0?2*Math.PI-2*Math.PI/a.length:e.sweep,u=l/Math.max(1,a.length-1),h,d=0,p=0;p<a.length;p++){var f=a[p],g=f.layoutDimensions(e),m=g.w,y=g.h;d=Math.max(d,m,y)}if(mt(e.radius)?h=e.radius:a.length<=1?h=0:h=Math.min(s.h,s.w)/2-d,a.length>1&&e.avoidOverlap){d*=1.75;var v=Math.cos(u)-Math.cos(0),x=Math.sin(u)-Math.sin(0),w=Math.sqrt(d*d/(v*v+x*x));h=Math.max(w,h)}var k=function(_,S){var R=e.startAngle+S*u*(i?1:-1),C=h*Math.cos(R),L=h*Math.sin(R),A={x:o.x+C,y:o.y+L};return A};return n.nodes().layoutPositions(this,e,k),this};var YQe={fit:!0,padding:30,startAngle:3/2*Math.PI,sweep:void 0,clockwise:!0,equidistant:!1,minNodeSpacing:10,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,height:void 0,width:void 0,spacingFactor:void 0,concentric:function(e){return e.degree()},levelWidth:function(e){return e.maxDegree()/4},animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,r){return!0},ready:void 0,stop:void 0,transform:function(e,r){return r}};function Gae(t){this.options=jt({},YQe,t)}Gae.prototype.run=function(){for(var t=this.options,e=t,r=e.counterclockwise!==void 0?!e.counterclockwise:e.clockwise,n=t.cy,i=e.eles,a=i.nodes().not(":parent"),s=fs(e.boundingBox?e.boundingBox:{x1:0,y1:0,w:n.width(),h:n.height()}),o={x:s.x1+s.w/2,y:s.y1+s.h/2},l=[],u=0,h=0;h<a.length;h++){var d=a[h],p=void 0;p=e.concentric(d),l.push({value:p,node:d}),d._private.scratch.concentric=p}a.updateStyle();for(var f=0;f<a.length;f++){var g=a[f],m=g.layoutDimensions(e);u=Math.max(u,m.w,m.h)}l.sort(function(ie,J){return J.value-ie.value});for(var y=e.levelWidth(a),v=[[]],x=v[0],w=0;w<l.length;w++){var k=l[w];if(x.length>0){var E=Math.abs(x[0].value-k.value);E>=y&&(x=[],v.push(x))}x.push(k)}var _=u+e.minNodeSpacing;if(!e.avoidOverlap){var S=v.length>0&&v[0].length>1,R=Math.min(s.w,s.h)/2-_,C=R/(v.length+S?1:0);_=Math.min(_,C)}for(var L=0,A=0;A<v.length;A++){var N=v[A],F=e.sweep===void 0?2*Math.PI-2*Math.PI/N.length:e.sweep,T=N.dTheta=F/Math.max(1,N.length-1);if(N.length>1&&e.avoidOverlap){var D=Math.cos(T)-Math.cos(0),M=Math.sin(T)-Math.sin(0),O=Math.sqrt(_*_/(D*D+M*M));L=Math.max(O,L)}N.r=L,L+=_}if(e.equidistant){for(var I=0,P=0,B=0;B<v.length;B++){var $=v[B],V=$.r-P;I=Math.max(I,V)}P=0;for(var W=0;W<v.length;W++){var K=v[W];W===0&&(P=K.r),K.r=P,P+=I}}for(var Z={},H=0;H<v.length;H++)for(var ee=v[H],te=ee.dTheta,U=ee.r,j=0;j<ee.length;j++){var Y=ee[j],Q=e.startAngle+(r?1:-1)*te*j,ae={x:o.x+U*Math.cos(Q),y:o.y+U*Math.sin(Q)};Z[Y.node.id()]=ae}return i.nodes().layoutPositions(this,e,function(ie){var J=ie.id();return Z[J]}),this};var SE,qQe={ready:function(){},stop:function(){},animate:!0,animationEasing:void 0,animationDuration:void 0,animateFilter:function(e,r){return!0},animationThreshold:250,refresh:20,fit:!0,padding:30,boundingBox:void 0,nodeDimensionsIncludeLabels:!1,randomize:!1,componentSpacing:40,nodeRepulsion:function(e){return 2048},nodeOverlap:4,idealEdgeLength:function(e){return 32},edgeElasticity:function(e){return 32},nestingFactor:1.2,gravity:1,numIter:1e3,initialTemp:1e3,coolingFactor:.99,minTemp:1};function $6(t){this.options=jt({},qQe,t),this.options.layout=this;var e=this.options.eles.nodes(),r=this.options.eles.edges(),n=r.filter(function(i){var a=i.source().data("id"),s=i.target().data("id"),o=e.some(function(u){return u.data("id")===a}),l=e.some(function(u){return u.data("id")===s});return!o||!l});this.options.eles=this.options.eles.not(n)}$6.prototype.run=function(){var t=this.options,e=t.cy,r=this;r.stopped=!1,(t.animate===!0||t.animate===!1)&&r.emit({type:"layoutstart",layout:r}),t.debug===!0?SE=!0:SE=!1;var n=jQe(e,r,t);SE&&QQe(n),t.randomize&&ZQe(n);var i=Gc(),a=function(){JQe(n,e,t),t.fit===!0&&e.fit(t.padding)},s=function(p){return!(r.stopped||p>=t.numIter||(eZe(n,t),n.temperature=n.temperature*t.coolingFactor,n.temperature<t.minTemp))},o=function(){if(t.animate===!0||t.animate===!1)a(),r.one("layoutstop",t.stop),r.emit({type:"layoutstop",layout:r});else{var p=t.eles.nodes(),f=Hae(n,t,p);p.layoutPositions(r,t,f)}},l=0,u=!0;if(t.animate===!0){var h=function d(){for(var p=0;u&&p<t.refresh;)u=s(l),l++,p++;if(!u)U$(n,t),o();else{var f=Gc();f-i>=t.animationThreshold&&a(),y5(d)}};h()}else{for(;u;)u=s(l),l++;U$(n,t),o()}return this};$6.prototype.stop=function(){return this.stopped=!0,this.thread&&this.thread.stop(),this.emit("layoutstop"),this};$6.prototype.destroy=function(){return this.thread&&this.thread.stop(),this};var jQe=function(e,r,n){for(var i=n.eles.edges(),a=n.eles.nodes(),s=fs(n.boundingBox?n.boundingBox:{x1:0,y1:0,w:e.width(),h:e.height()}),o={isCompound:e.hasCompoundNodes(),layoutNodes:[],idToIndex:{},nodeSize:a.size(),graphSet:[],indexToGraph:[],layoutEdges:[],edgeSize:i.size(),temperature:n.initialTemp,clientWidth:s.w,clientHeight:s.h,boundingBox:s},l=n.eles.components(),u={},h=0;h<l.length;h++)for(var d=l[h],p=0;p<d.length;p++){var f=d[p];u[f.id()]=h}for(var h=0;h<o.nodeSize;h++){var g=a[h],m=g.layoutDimensions(n),y={};y.isLocked=g.locked(),y.id=g.data("id"),y.parentId=g.data("parent"),y.cmptId=u[g.id()],y.children=[],y.positionX=g.position("x"),y.positionY=g.position("y"),y.offsetX=0,y.offsetY=0,y.height=m.w,y.width=m.h,y.maxX=y.positionX+y.width/2,y.minX=y.positionX-y.width/2,y.maxY=y.positionY+y.height/2,y.minY=y.positionY-y.height/2,y.padLeft=parseFloat(g.style("padding")),y.padRight=parseFloat(g.style("padding")),y.padTop=parseFloat(g.style("padding")),y.padBottom=parseFloat(g.style("padding")),y.nodeRepulsion=En(n.nodeRepulsion)?n.nodeRepulsion(g):n.nodeRepulsion,o.layoutNodes.push(y),o.idToIndex[y.id]=h}for(var v=[],x=0,w=-1,k=[],h=0;h<o.nodeSize;h++){var g=o.layoutNodes[h],E=g.parentId;E!=null?o.layoutNodes[o.idToIndex[E]].children.push(g.id):(v[++w]=g.id,k.push(g.id))}for(o.graphSet.push(k);x<=w;){var _=v[x++],S=o.idToIndex[_],f=o.layoutNodes[S],R=f.children;if(R.length>0){o.graphSet.push(R);for(var h=0;h<R.length;h++)v[++w]=R[h]}}for(var h=0;h<o.graphSet.length;h++)for(var C=o.graphSet[h],p=0;p<C.length;p++){var L=o.idToIndex[C[p]];o.indexToGraph[L]=h}for(var h=0;h<o.edgeSize;h++){var A=i[h],N={};N.id=A.data("id"),N.sourceId=A.data("source"),N.targetId=A.data("target");var F=En(n.idealEdgeLength)?n.idealEdgeLength(A):n.idealEdgeLength,T=En(n.edgeElasticity)?n.edgeElasticity(A):n.edgeElasticity,D=o.idToIndex[N.sourceId],M=o.idToIndex[N.targetId],O=o.indexToGraph[D],I=o.indexToGraph[M];if(O!=I){for(var P=XQe(N.sourceId,N.targetId,o),B=o.graphSet[P],$=0,y=o.layoutNodes[D];B.indexOf(y.id)===-1;)y=o.layoutNodes[o.idToIndex[y.parentId]],$++;for(y=o.layoutNodes[M];B.indexOf(y.id)===-1;)y=o.layoutNodes[o.idToIndex[y.parentId]],$++;F*=$*n.nestingFactor}N.idealLength=F,N.elasticity=T,o.layoutEdges.push(N)}return o},XQe=function(e,r,n){var i=KQe(e,r,0,n);return 2>i.count?0:i.graph},KQe=function t(e,r,n,i){var a=i.graphSet[n];if(-1<a.indexOf(e)&&-1<a.indexOf(r))return{count:2,graph:n};for(var s=0,o=0;o<a.length;o++){var l=a[o],u=i.idToIndex[l],h=i.layoutNodes[u].children;if(h.length!==0){var d=i.indexToGraph[i.idToIndex[h[0]]],p=t(e,r,d,i);if(p.count!==0)if(p.count===1){if(s++,s===2)break}else return p}}return{count:s,graph:n}},QQe,ZQe=function(e,r){for(var n=e.clientWidth,i=e.clientHeight,a=0;a<e.nodeSize;a++){var s=e.layoutNodes[a];s.children.length===0&&!s.isLocked&&(s.positionX=Math.random()*n,s.positionY=Math.random()*i)}},Hae=function(e,r,n){var i=e.boundingBox,a={x1:1/0,x2:-1/0,y1:1/0,y2:-1/0};return r.boundingBox&&(n.forEach(function(s){var o=e.layoutNodes[e.idToIndex[s.data("id")]];a.x1=Math.min(a.x1,o.positionX),a.x2=Math.max(a.x2,o.positionX),a.y1=Math.min(a.y1,o.positionY),a.y2=Math.max(a.y2,o.positionY)}),a.w=a.x2-a.x1,a.h=a.y2-a.y1),function(s,o){var l=e.layoutNodes[e.idToIndex[s.data("id")]];if(r.boundingBox){var u=(l.positionX-a.x1)/a.w,h=(l.positionY-a.y1)/a.h;return{x:i.x1+u*i.w,y:i.y1+h*i.h}}else return{x:l.positionX,y:l.positionY}}},JQe=function(e,r,n){var i=n.layout,a=n.eles.nodes(),s=Hae(e,n,a);a.positions(s),e.ready!==!0&&(e.ready=!0,i.one("layoutready",n.ready),i.emit({type:"layoutready",layout:this}))},eZe=function(e,r,n){tZe(e,r),iZe(e),aZe(e,r),sZe(e),oZe(e)},tZe=function(e,r){for(var n=0;n<e.graphSet.length;n++)for(var i=e.graphSet[n],a=i.length,s=0;s<a;s++)for(var o=e.layoutNodes[e.idToIndex[i[s]]],l=s+1;l<a;l++){var u=e.layoutNodes[e.idToIndex[i[l]]];rZe(o,u,e,r)}},z$=function(e){return-e+2*e*Math.random()},rZe=function(e,r,n,i){var a=e.cmptId,s=r.cmptId;if(!(a!==s&&!n.isCompound)){var o=r.positionX-e.positionX,l=r.positionY-e.positionY,u=1;o===0&&l===0&&(o=z$(u),l=z$(u));var h=nZe(e,r,o,l);if(h>0)var d=i.nodeOverlap*h,p=Math.sqrt(o*o+l*l),f=d*o/p,g=d*l/p;else var m=S5(e,o,l),y=S5(r,-1*o,-1*l),v=y.x-m.x,x=y.y-m.y,w=v*v+x*x,p=Math.sqrt(w),d=(e.nodeRepulsion+r.nodeRepulsion)/w,f=d*v/p,g=d*x/p;e.isLocked||(e.offsetX-=f,e.offsetY-=g),r.isLocked||(r.offsetX+=f,r.offsetY+=g)}},nZe=function(e,r,n,i){if(n>0)var a=e.maxX-r.minX;else var a=r.maxX-e.minX;if(i>0)var s=e.maxY-r.minY;else var s=r.maxY-e.minY;return a>=0&&s>=0?Math.sqrt(a*a+s*s):0},S5=function(e,r,n){var i=e.positionX,a=e.positionY,s=e.height||1,o=e.width||1,l=n/r,u=s/o,h={};return r===0&&0<n||r===0&&0>n?(h.x=i,h.y=a+s/2,h):0<r&&-1*u<=l&&l<=u?(h.x=i+o/2,h.y=a+o*n/2/r,h):0>r&&-1*u<=l&&l<=u?(h.x=i-o/2,h.y=a-o*n/2/r,h):0<n&&(l<=-1*u||l>=u)?(h.x=i+s*r/2/n,h.y=a+s/2,h):(0>n&&(l<=-1*u||l>=u)&&(h.x=i-s*r/2/n,h.y=a-s/2),h)},iZe=function(e,r){for(var n=0;n<e.edgeSize;n++){var i=e.layoutEdges[n],a=e.idToIndex[i.sourceId],s=e.layoutNodes[a],o=e.idToIndex[i.targetId],l=e.layoutNodes[o],u=l.positionX-s.positionX,h=l.positionY-s.positionY;if(!(u===0&&h===0)){var d=S5(s,u,h),p=S5(l,-1*u,-1*h),f=p.x-d.x,g=p.y-d.y,m=Math.sqrt(f*f+g*g),y=Math.pow(i.idealLength-m,2)/i.elasticity;if(m!==0)var v=y*f/m,x=y*g/m;else var v=0,x=0;s.isLocked||(s.offsetX+=v,s.offsetY+=x),l.isLocked||(l.offsetX-=v,l.offsetY-=x)}}},aZe=function(e,r){if(r.gravity!==0)for(var n=1,i=0;i<e.graphSet.length;i++){var a=e.graphSet[i],s=a.length;if(i===0)var o=e.clientHeight/2,l=e.clientWidth/2;else var u=e.layoutNodes[e.idToIndex[a[0]]],h=e.layoutNodes[e.idToIndex[u.parentId]],o=h.positionX,l=h.positionY;for(var d=0;d<s;d++){var p=e.layoutNodes[e.idToIndex[a[d]]];if(!p.isLocked){var f=o-p.positionX,g=l-p.positionY,m=Math.sqrt(f*f+g*g);if(m>n){var y=r.gravity*f/m,v=r.gravity*g/m;p.offsetX+=y,p.offsetY+=v}}}}},sZe=function(e,r){var n=[],i=0,a=-1;for(n.push.apply(n,e.graphSet[0]),a+=e.graphSet[0].length;i<=a;){var s=n[i++],o=e.idToIndex[s],l=e.layoutNodes[o],u=l.children;if(0<u.length&&!l.isLocked){for(var h=l.offsetX,d=l.offsetY,p=0;p<u.length;p++){var f=e.layoutNodes[e.idToIndex[u[p]]];f.offsetX+=h,f.offsetY+=d,n[++a]=u[p]}l.offsetX=0,l.offsetY=0}}},oZe=function(e,r){for(var n=0;n<e.nodeSize;n++){var i=e.layoutNodes[n];0<i.children.length&&(i.maxX=void 0,i.minX=void 0,i.maxY=void 0,i.minY=void 0)}for(var n=0;n<e.nodeSize;n++){var i=e.layoutNodes[n];if(!(0<i.children.length||i.isLocked)){var a=lZe(i.offsetX,i.offsetY,e.temperature);i.positionX+=a.x,i.positionY+=a.y,i.offsetX=0,i.offsetY=0,i.minX=i.positionX-i.width,i.maxX=i.positionX+i.width,i.minY=i.positionY-i.height,i.maxY=i.positionY+i.height,cZe(i,e)}}for(var n=0;n<e.nodeSize;n++){var i=e.layoutNodes[n];0<i.children.length&&!i.isLocked&&(i.positionX=(i.maxX+i.minX)/2,i.positionY=(i.maxY+i.minY)/2,i.width=i.maxX-i.minX,i.height=i.maxY-i.minY)}},lZe=function(e,r,n){var i=Math.sqrt(e*e+r*r);if(i>n)var a={x:n*e/i,y:n*r/i};else var a={x:e,y:r};return a},cZe=function t(e,r){var n=e.parentId;if(n!=null){var i=r.layoutNodes[r.idToIndex[n]],a=!1;if((i.maxX==null||e.maxX+i.padRight>i.maxX)&&(i.maxX=e.maxX+i.padRight,a=!0),(i.minX==null||e.minX-i.padLeft<i.minX)&&(i.minX=e.minX-i.padLeft,a=!0),(i.maxY==null||e.maxY+i.padBottom>i.maxY)&&(i.maxY=e.maxY+i.padBottom,a=!0),(i.minY==null||e.minY-i.padTop<i.minY)&&(i.minY=e.minY-i.padTop,a=!0),a)return t(i,r)}},U$=function(e,r){for(var n=e.layoutNodes,i=[],a=0;a<n.length;a++){var s=n[a],o=s.cmptId,l=i[o]=i[o]||[];l.push(s)}for(var u=0,a=0;a<i.length;a++){var h=i[a];if(h){h.x1=1/0,h.x2=-1/0,h.y1=1/0,h.y2=-1/0;for(var d=0;d<h.length;d++){var p=h[d];h.x1=Math.min(h.x1,p.positionX-p.width/2),h.x2=Math.max(h.x2,p.positionX+p.width/2),h.y1=Math.min(h.y1,p.positionY-p.height/2),h.y2=Math.max(h.y2,p.positionY+p.height/2)}h.w=h.x2-h.x1,h.h=h.y2-h.y1,u+=h.w*h.h}}i.sort(function(x,w){return w.w*w.h-x.w*x.h});for(var f=0,g=0,m=0,y=0,v=Math.sqrt(u)*e.clientWidth/e.clientHeight,a=0;a<i.length;a++){var h=i[a];if(h){for(var d=0;d<h.length;d++){var p=h[d];p.isLocked||(p.positionX+=f-h.x1,p.positionY+=g-h.y1)}f+=h.w+r.componentSpacing,m+=h.w+r.componentSpacing,y=Math.max(y,h.h),m>v&&(g+=y+r.componentSpacing,f=0,m=0,y=0)}}},uZe={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,avoidOverlapPadding:10,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,condense:!1,rows:void 0,cols:void 0,position:function(e){},sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,r){return!0},ready:void 0,stop:void 0,transform:function(e,r){return r}};function Wae(t){this.options=jt({},uZe,t)}Wae.prototype.run=function(){var t=this.options,e=t,r=t.cy,n=e.eles,i=n.nodes().not(":parent");e.sort&&(i=i.sort(e.sort));var a=fs(e.boundingBox?e.boundingBox:{x1:0,y1:0,w:r.width(),h:r.height()});if(a.h===0||a.w===0)n.nodes().layoutPositions(this,e,function(W){return{x:a.x1,y:a.y1}});else{var s=i.size(),o=Math.sqrt(s*a.h/a.w),l=Math.round(o),u=Math.round(a.w/a.h*o),h=function(K){if(K==null)return Math.min(l,u);var Z=Math.min(l,u);Z==l?l=K:u=K},d=function(K){if(K==null)return Math.max(l,u);var Z=Math.max(l,u);Z==l?l=K:u=K},p=e.rows,f=e.cols!=null?e.cols:e.columns;if(p!=null&&f!=null)l=p,u=f;else if(p!=null&&f==null)l=p,u=Math.ceil(s/l);else if(p==null&&f!=null)u=f,l=Math.ceil(s/u);else if(u*l>s){var g=h(),m=d();(g-1)*m>=s?h(g-1):(m-1)*g>=s&&d(m-1)}else for(;u*l<s;){var y=h(),v=d();(v+1)*y>=s?d(v+1):h(y+1)}var x=a.w/u,w=a.h/l;if(e.condense&&(x=0,w=0),e.avoidOverlap)for(var k=0;k<i.length;k++){var E=i[k],_=E._private.position;(_.x==null||_.y==null)&&(_.x=0,_.y=0);var S=E.layoutDimensions(e),R=e.avoidOverlapPadding,C=S.w+R,L=S.h+R;x=Math.max(x,C),w=Math.max(w,L)}for(var A={},N=function(K,Z){return!!A["c-"+K+"-"+Z]},F=function(K,Z){A["c-"+K+"-"+Z]=!0},T=0,D=0,M=function(){D++,D>=u&&(D=0,T++)},O={},I=0;I<i.length;I++){var P=i[I],B=e.position(P);if(B&&(B.row!==void 0||B.col!==void 0)){var $={row:B.row,col:B.col};if($.col===void 0)for($.col=0;N($.row,$.col);)$.col++;else if($.row===void 0)for($.row=0;N($.row,$.col);)$.row++;O[P.id()]=$,F($.row,$.col)}}var V=function(K,Z){var H,ee;if(K.locked()||K.isParent())return!1;var te=O[K.id()];if(te)H=te.col*x+x/2+a.x1,ee=te.row*w+w/2+a.y1;else{for(;N(T,D);)M();H=D*x+x/2+a.x1,ee=T*w+w/2+a.y1,F(T,D),M()}return{x:H,y:ee}};i.layoutPositions(this,e,V)}return this};var hZe={ready:function(){},stop:function(){}};function DN(t){this.options=jt({},hZe,t)}DN.prototype.run=function(){var t=this.options,e=t.eles,r=this;return t.cy,r.emit("layoutstart"),e.nodes().positions(function(){return{x:0,y:0}}),r.one("layoutready",t.ready),r.emit("layoutready"),r.one("layoutstop",t.stop),r.emit("layoutstop"),this};DN.prototype.stop=function(){return this};var dZe={positions:void 0,zoom:void 0,pan:void 0,fit:!0,padding:30,spacingFactor:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,r){return!0},ready:void 0,stop:void 0,transform:function(e,r){return r}};function Yae(t){this.options=jt({},dZe,t)}Yae.prototype.run=function(){var t=this.options,e=t.eles,r=e.nodes(),n=En(t.positions);function i(a){if(t.positions==null)return mqe(a.position());if(n)return t.positions(a);var s=t.positions[a._private.data.id];return s??null}return r.layoutPositions(this,t,function(a,s){var o=i(a);return a.locked()||o==null?!1:o}),this};var fZe={fit:!0,padding:30,boundingBox:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,r){return!0},ready:void 0,stop:void 0,transform:function(e,r){return r}};function qae(t){this.options=jt({},fZe,t)}qae.prototype.run=function(){var t=this.options,e=t.cy,r=t.eles,n=fs(t.boundingBox?t.boundingBox:{x1:0,y1:0,w:e.width(),h:e.height()}),i=function(s,o){return{x:n.x1+Math.round(Math.random()*n.w),y:n.y1+Math.round(Math.random()*n.h)}};return r.nodes().layoutPositions(this,t,i),this};var pZe=[{name:"breadthfirst",impl:Uae},{name:"circle",impl:Vae},{name:"concentric",impl:Gae},{name:"cose",impl:$6},{name:"grid",impl:Wae},{name:"null",impl:DN},{name:"preset",impl:Yae},{name:"random",impl:qae}];function jae(t){this.options=t,this.notifications=0}var V$=function(){},G$=function(){throw new Error("A headless instance can not render images")};jae.prototype={recalculateRenderedStyle:V$,notify:function(){this.notifications++},init:V$,isHeadless:function(){return!0},png:G$,jpg:G$};var ON={};ON.arrowShapeWidth=.3;ON.registerArrowShapes=function(){var t=this.arrowShapes={},e=this,r=function(u,h,d,p,f,g,m){var y=f.x-d/2-m,v=f.x+d/2+m,x=f.y-d/2-m,w=f.y+d/2+m,k=y<=u&&u<=v&&x<=h&&h<=w;return k},n=function(u,h,d,p,f){var g=u*Math.cos(p)-h*Math.sin(p),m=u*Math.sin(p)+h*Math.cos(p),y=g*d,v=m*d,x=y+f.x,w=v+f.y;return{x,y:w}},i=function(u,h,d,p){for(var f=[],g=0;g<u.length;g+=2){var m=u[g],y=u[g+1];f.push(n(m,y,h,d,p))}return f},a=function(u){for(var h=[],d=0;d<u.length;d++){var p=u[d];h.push(p.x,p.y)}return h},s=function(u){return u.pstyle("width").pfValue*u.pstyle("arrow-scale").pfValue*2},o=function(u,h){Bt(h)&&(h=t[h]),t[u]=jt({name:u,points:[-.15,-.3,.15,-.3,.15,.3,-.15,.3],collide:function(p,f,g,m,y,v){var x=a(i(this.points,g+2*v,m,y)),w=Qa(p,f,x);return w},roughCollide:r,draw:function(p,f,g,m){var y=i(this.points,f,g,m);e.arrowShapeImpl("polygon")(p,y)},spacing:function(p){return 0},gap:s},h)};o("none",{collide:x5,roughCollide:x5,draw:bN,spacing:JB,gap:JB}),o("triangle",{points:[-.15,-.3,0,0,.15,-.3]}),o("arrow","triangle"),o("triangle-backcurve",{points:t.triangle.points,controlPoint:[0,-.15],roughCollide:r,draw:function(u,h,d,p,f){var g=i(this.points,h,d,p),m=this.controlPoint,y=n(m[0],m[1],h,d,p);e.arrowShapeImpl(this.name)(u,g,y)},gap:function(u){return s(u)*.8}}),o("triangle-tee",{points:[0,0,.15,-.3,-.15,-.3,0,0],pointsTee:[-.15,-.4,-.15,-.5,.15,-.5,.15,-.4],collide:function(u,h,d,p,f,g,m){var y=a(i(this.points,d+2*m,p,f)),v=a(i(this.pointsTee,d+2*m,p,f)),x=Qa(u,h,y)||Qa(u,h,v);return x},draw:function(u,h,d,p,f){var g=i(this.points,h,d,p),m=i(this.pointsTee,h,d,p);e.arrowShapeImpl(this.name)(u,g,m)}}),o("circle-triangle",{radius:.15,pointsTr:[0,-.15,.15,-.45,-.15,-.45,0,-.15],collide:function(u,h,d,p,f,g,m){var y=f,v=Math.pow(y.x-u,2)+Math.pow(y.y-h,2)<=Math.pow((d+2*m)*this.radius,2),x=a(i(this.points,d+2*m,p,f));return Qa(u,h,x)||v},draw:function(u,h,d,p,f){var g=i(this.pointsTr,h,d,p);e.arrowShapeImpl(this.name)(u,g,p.x,p.y,this.radius*h)},spacing:function(u){return e.getArrowWidth(u.pstyle("width").pfValue,u.pstyle("arrow-scale").value)*this.radius}}),o("triangle-cross",{points:[0,0,.15,-.3,-.15,-.3,0,0],baseCrossLinePts:[-.15,-.4,-.15,-.4,.15,-.4,.15,-.4],crossLinePts:function(u,h){var d=this.baseCrossLinePts.slice(),p=h/u,f=3,g=5;return d[f]=d[f]-p,d[g]=d[g]-p,d},collide:function(u,h,d,p,f,g,m){var y=a(i(this.points,d+2*m,p,f)),v=a(i(this.crossLinePts(d,g),d+2*m,p,f)),x=Qa(u,h,y)||Qa(u,h,v);return x},draw:function(u,h,d,p,f){var g=i(this.points,h,d,p),m=i(this.crossLinePts(h,f),h,d,p);e.arrowShapeImpl(this.name)(u,g,m)}}),o("vee",{points:[-.15,-.3,0,0,.15,-.3,0,-.15],gap:function(u){return s(u)*.525}}),o("circle",{radius:.15,collide:function(u,h,d,p,f,g,m){var y=f,v=Math.pow(y.x-u,2)+Math.pow(y.y-h,2)<=Math.pow((d+2*m)*this.radius,2);return v},draw:function(u,h,d,p,f){e.arrowShapeImpl(this.name)(u,p.x,p.y,this.radius*h)},spacing:function(u){return e.getArrowWidth(u.pstyle("width").pfValue,u.pstyle("arrow-scale").value)*this.radius}}),o("tee",{points:[-.15,0,-.15,-.1,.15,-.1,.15,0],spacing:function(u){return 1},gap:function(u){return 1}}),o("square",{points:[-.15,0,.15,0,.15,-.3,-.15,-.3]}),o("diamond",{points:[-.15,-.15,0,-.3,.15,-.15,0,0],gap:function(u){return u.pstyle("width").pfValue*u.pstyle("arrow-scale").value}}),o("chevron",{points:[0,0,-.15,-.15,-.1,-.2,0,-.1,.1,-.2,.15,-.15],gap:function(u){return .95*u.pstyle("width").pfValue*u.pstyle("arrow-scale").value}})};var Sf={};Sf.projectIntoViewport=function(t,e){var r=this.cy,n=this.findContainerClientCoords(),i=n[0],a=n[1],s=n[4],o=r.pan(),l=r.zoom(),u=((t-i)/s-o.x)/l,h=((e-a)/s-o.y)/l;return[u,h]};Sf.findContainerClientCoords=function(){if(this.containerBB)return this.containerBB;var t=this.container,e=t.getBoundingClientRect(),r=this.cy.window().getComputedStyle(t),n=function(v){return parseFloat(r.getPropertyValue(v))},i={left:n("padding-left"),right:n("padding-right"),top:n("padding-top"),bottom:n("padding-bottom")},a={left:n("border-left-width"),right:n("border-right-width"),top:n("border-top-width"),bottom:n("border-bottom-width")},s=t.clientWidth,o=t.clientHeight,l=i.left+i.right,u=i.top+i.bottom,h=a.left+a.right,d=e.width/(s+h),p=s-l,f=o-u,g=e.left+i.left+a.left,m=e.top+i.top+a.top;return this.containerBB=[g,m,p,f,d]};Sf.invalidateContainerClientCoordsCache=function(){this.containerBB=null};Sf.findNearestElement=function(t,e,r,n){return this.findNearestElements(t,e,r,n)[0]};Sf.findNearestElements=function(t,e,r,n){var i=this,a=this,s=a.getCachedZSortedEles(),o=[],l=a.cy.zoom(),u=a.cy.hasCompoundNodes(),h=(n?24:8)/l,d=(n?8:2)/l,p=(n?8:2)/l,f=1/0,g,m;r&&(s=s.interactive);function y(S,R){if(S.isNode()){if(m)return;m=S,o.push(S)}if(S.isEdge()&&(R==null||R<f))if(g){if(g.pstyle("z-compound-depth").value===S.pstyle("z-compound-depth").value&&g.pstyle("z-compound-depth").value===S.pstyle("z-compound-depth").value){for(var C=0;C<o.length;C++)if(o[C].isEdge()){o[C]=S,g=S,f=R??f;break}}}else o.push(S),g=S,f=R??f}function v(S){var R=S.outerWidth()+2*d,C=S.outerHeight()+2*d,L=R/2,A=C/2,N=S.position(),F=S.pstyle("corner-radius").value==="auto"?"auto":S.pstyle("corner-radius").pfValue,T=S._private.rscratch;if(N.x-L<=t&&t<=N.x+L&&N.y-A<=e&&e<=N.y+A){var D=a.nodeShapes[i.getNodeShape(S)];if(D.checkPoint(t,e,0,R,C,N.x,N.y,F,T))return y(S,0),!0}}function x(S){var R=S._private,C=R.rscratch,L=S.pstyle("width").pfValue,A=S.pstyle("arrow-scale").value,N=L/2+h,F=N*N,T=N*2,I=R.source,P=R.target,D;if(C.edgeType==="segments"||C.edgeType==="straight"||C.edgeType==="haystack"){for(var M=C.allpts,O=0;O+3<M.length;O+=2)if(Lqe(t,e,M[O],M[O+1],M[O+2],M[O+3],T)&&F>(D=Dqe(t,e,M[O],M[O+1],M[O+2],M[O+3])))return y(S,D),!0}else if(C.edgeType==="bezier"||C.edgeType==="multibezier"||C.edgeType==="self"||C.edgeType==="compound"){for(var M=C.allpts,O=0;O+5<C.allpts.length;O+=4)if(Nqe(t,e,M[O],M[O+1],M[O+2],M[O+3],M[O+4],M[O+5],T)&&F>(D=Iqe(t,e,M[O],M[O+1],M[O+2],M[O+3],M[O+4],M[O+5])))return y(S,D),!0}for(var I=I||R.source,P=P||R.target,B=i.getArrowWidth(L,A),$=[{name:"source",x:C.arrowStartX,y:C.arrowStartY,angle:C.srcArrowAngle},{name:"target",x:C.arrowEndX,y:C.arrowEndY,angle:C.tgtArrowAngle},{name:"mid-source",x:C.midX,y:C.midY,angle:C.midsrcArrowAngle},{name:"mid-target",x:C.midX,y:C.midY,angle:C.midtgtArrowAngle}],O=0;O<$.length;O++){var V=$[O],W=a.arrowShapes[S.pstyle(V.name+"-arrow-shape").value],K=S.pstyle("width").pfValue;if(W.roughCollide(t,e,B,V.angle,{x:V.x,y:V.y},K,h)&&W.collide(t,e,B,V.angle,{x:V.x,y:V.y},K,h))return y(S),!0}u&&o.length>0&&(v(I),v(P))}function w(S,R,C){return Do(S,R,C)}function k(S,R){var C=S._private,L=p,A;R?A=R+"-":A="",S.boundingBox();var N=C.labelBounds[R||"main"],F=S.pstyle(A+"label").value,T=S.pstyle("text-events").strValue==="yes";if(!(!T||!F)){var D=w(C.rscratch,"labelX",R),M=w(C.rscratch,"labelY",R),O=w(C.rscratch,"labelAngle",R),I=S.pstyle(A+"text-margin-x").pfValue,P=S.pstyle(A+"text-margin-y").pfValue,B=N.x1-L-I,$=N.x2+L-I,V=N.y1-L-P,W=N.y2+L-P;if(O){var K=Math.cos(O),Z=Math.sin(O),H=function(ae,ie){return ae=ae-D,ie=ie-M,{x:ae*K-ie*Z+D,y:ae*Z+ie*K+M}},ee=H(B,V),te=H(B,W),U=H($,V),j=H($,W),Y=[ee.x+I,ee.y+P,U.x+I,U.y+P,j.x+I,j.y+P,te.x+I,te.y+P];if(Qa(t,e,Y))return y(S),!0}else if(gg(N,t,e))return y(S),!0}}for(var E=s.length-1;E>=0;E--){var _=s[E];_.isNode()?v(_)||k(_):x(_)||k(_)||k(_,"source")||k(_,"target")}return o};Sf.getAllInBox=function(t,e,r,n){var i=this.getCachedZSortedEles().interactive,a=[],s=Math.min(t,r),o=Math.max(t,r),l=Math.min(e,n),u=Math.max(e,n);t=s,r=o,e=l,n=u;for(var h=fs({x1:t,y1:e,x2:r,y2:n}),d=0;d<i.length;d++){var p=i[d];if(p.isNode()){var f=p,g=f.boundingBox({includeNodes:!0,includeEdges:!1,includeLabels:!1});TN(h,g)&&!nae(g,h)&&a.push(f)}else{var m=p,y=m._private,v=y.rscratch;if(v.startX!=null&&v.startY!=null&&!gg(h,v.startX,v.startY)||v.endX!=null&&v.endY!=null&&!gg(h,v.endX,v.endY))continue;if(v.edgeType==="bezier"||v.edgeType==="multibezier"||v.edgeType==="self"||v.edgeType==="compound"||v.edgeType==="segments"||v.edgeType==="haystack"){for(var x=y.rstyle.bezierPts||y.rstyle.linePts||y.rstyle.haystackPts,w=!0,k=0;k<x.length;k++)if(!_qe(h,x[k])){w=!1;break}w&&a.push(m)}else(v.edgeType==="haystack"||v.edgeType==="straight")&&a.push(m)}}return a};var C5={};C5.calculateArrowAngles=function(t){var e=t._private.rscratch,r=e.edgeType==="haystack",n=e.edgeType==="bezier",i=e.edgeType==="multibezier",a=e.edgeType==="segments",s=e.edgeType==="compound",o=e.edgeType==="self",l,u,h,d,p,f,v,x;if(r?(h=e.haystackPts[0],d=e.haystackPts[1],p=e.haystackPts[2],f=e.haystackPts[3]):(h=e.arrowStartX,d=e.arrowStartY,p=e.arrowEndX,f=e.arrowEndY),v=e.midX,x=e.midY,a)l=h-e.segpts[0],u=d-e.segpts[1];else if(i||s||o||n){var g=e.allpts,m=Ti(g[0],g[2],g[4],.1),y=Ti(g[1],g[3],g[5],.1);l=h-m,u=d-y}else l=h-v,u=d-x;e.srcArrowAngle=Ax(l,u);var v=e.midX,x=e.midY;if(r&&(v=(h+p)/2,x=(d+f)/2),l=p-h,u=f-d,a){var g=e.allpts;if(g.length/2%2===0){var w=g.length/2,k=w-2;l=g[w]-g[k],u=g[w+1]-g[k+1]}else if(e.isRound)l=e.midVector[1],u=-e.midVector[0];else{var w=g.length/2-1,k=w-2;l=g[w]-g[k],u=g[w+1]-g[k+1]}}else if(i||s||o){var g=e.allpts,E=e.ctrlpts,_,S,R,C;if(E.length/2%2===0){var L=g.length/2-1,A=L+2,N=A+2;_=Ti(g[L],g[A],g[N],0),S=Ti(g[L+1],g[A+1],g[N+1],0),R=Ti(g[L],g[A],g[N],1e-4),C=Ti(g[L+1],g[A+1],g[N+1],1e-4)}else{var A=g.length/2-1,L=A-2,N=A+2;_=Ti(g[L],g[A],g[N],.4999),S=Ti(g[L+1],g[A+1],g[N+1],.4999),R=Ti(g[L],g[A],g[N],.5),C=Ti(g[L+1],g[A+1],g[N+1],.5)}l=R-_,u=C-S}if(e.midtgtArrowAngle=Ax(l,u),e.midDispX=l,e.midDispY=u,l*=-1,u*=-1,a){var g=e.allpts;if(g.length/2%2!==0){if(!e.isRound){var w=g.length/2-1,F=w+2;l=-(g[F]-g[w]),u=-(g[F+1]-g[w+1])}}}if(e.midsrcArrowAngle=Ax(l,u),a)l=p-e.segpts[e.segpts.length-2],u=f-e.segpts[e.segpts.length-1];else if(i||s||o||n){var g=e.allpts,T=g.length,m=Ti(g[T-6],g[T-4],g[T-2],.9),y=Ti(g[T-5],g[T-3],g[T-1],.9);l=p-m,u=f-y}else l=p-v,u=f-x;e.tgtArrowAngle=Ax(l,u)};C5.getArrowWidth=C5.getArrowHeight=function(t,e){var r=this.arrowWidthCache=this.arrowWidthCache||{},n=r[t+", "+e];return n||(n=Math.max(Math.pow(t*13.37,.9),29)*e,r[t+", "+e]=n,n)};var k8,T8,sl={},Ys={},H$,W$,Zh,Gb,Zl,Oh,Wh,al,Bf,Px,Xae,Kae,E8,S8,Y$,q$=function(e,r,n){n.x=r.x-e.x,n.y=r.y-e.y,n.len=Math.sqrt(n.x*n.x+n.y*n.y),n.nx=n.x/n.len,n.ny=n.y/n.len,n.ang=Math.atan2(n.ny,n.nx)},gZe=function(e,r){r.x=e.x*-1,r.y=e.y*-1,r.nx=e.nx*-1,r.ny=e.ny*-1,r.ang=e.ang>0?-(Math.PI-e.ang):Math.PI+e.ang},mZe=function(e,r,n,i,a){if(e!==Y$?q$(r,e,sl):gZe(Ys,sl),q$(r,n,Ys),H$=sl.nx*Ys.ny-sl.ny*Ys.nx,W$=sl.nx*Ys.nx-sl.ny*-Ys.ny,Zl=Math.asin(Math.max(-1,Math.min(1,H$))),Math.abs(Zl)<1e-6){k8=r.x,T8=r.y,Wh=Bf=0;return}Zh=1,Gb=!1,W$<0?Zl<0?Zl=Math.PI+Zl:(Zl=Math.PI-Zl,Zh=-1,Gb=!0):Zl>0&&(Zh=-1,Gb=!0),r.radius!==void 0?Bf=r.radius:Bf=i,Oh=Zl/2,Px=Math.min(sl.len/2,Ys.len/2),a?(al=Math.abs(Math.cos(Oh)*Bf/Math.sin(Oh)),al>Px?(al=Px,Wh=Math.abs(al*Math.sin(Oh)/Math.cos(Oh))):Wh=Bf):(al=Math.min(Px,Bf),Wh=Math.abs(al*Math.sin(Oh)/Math.cos(Oh))),E8=r.x+Ys.nx*al,S8=r.y+Ys.ny*al,k8=E8-Ys.ny*Wh*Zh,T8=S8+Ys.nx*Wh*Zh,Xae=r.x+sl.nx*al,Kae=r.y+sl.ny*al,Y$=r};function Qae(t,e){e.radius===0?t.lineTo(e.cx,e.cy):t.arc(e.cx,e.cy,e.radius,e.startAngle,e.endAngle,e.counterClockwise)}function PN(t,e,r,n){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0;return n===0||e.radius===0?{cx:e.x,cy:e.y,radius:0,startX:e.x,startY:e.y,stopX:e.x,stopY:e.y,startAngle:void 0,endAngle:void 0,counterClockwise:void 0}:(mZe(t,e,r,n,i),{cx:k8,cy:T8,radius:Wh,startX:Xae,startY:Kae,stopX:E8,stopY:S8,startAngle:sl.ang+Math.PI/2*Zh,endAngle:Ys.ang-Math.PI/2*Zh,counterClockwise:Gb})}var Ta={};Ta.findMidptPtsEtc=function(t,e){var r=e.posPts,n=e.intersectionPts,i=e.vectorNormInverse,a,s=t.pstyle("source-endpoint"),o=t.pstyle("target-endpoint"),l=s.units!=null&&o.units!=null,u=function(E,_,S,R){var C=R-_,L=S-E,A=Math.sqrt(L*L+C*C);return{x:-C/A,y:L/A}},h=t.pstyle("edge-distances").value;switch(h){case"node-position":a=r;break;case"intersection":a=n;break;case"endpoints":{if(l){var d=this.manualEndptToPx(t.source()[0],s),p=Ao(d,2),f=p[0],g=p[1],m=this.manualEndptToPx(t.target()[0],o),y=Ao(m,2),v=y[0],x=y[1],w={x1:f,y1:g,x2:v,y2:x};i=u(f,g,v,x),a=w}else Or("Edge ".concat(t.id()," has edge-distances:endpoints specified without manual endpoints specified via source-endpoint and target-endpoint.  Falling back on edge-distances:intersection (default).")),a=n;break}}return{midptPts:a,vectorNormInverse:i}};Ta.findHaystackPoints=function(t){for(var e=0;e<t.length;e++){var r=t[e],n=r._private,i=n.rscratch;if(!i.haystack){var a=Math.random()*2*Math.PI;i.source={x:Math.cos(a),y:Math.sin(a)},a=Math.random()*2*Math.PI,i.target={x:Math.cos(a),y:Math.sin(a)}}var s=n.source,o=n.target,l=s.position(),u=o.position(),h=s.width(),d=o.width(),p=s.height(),f=o.height(),g=r.pstyle("haystack-radius").value,m=g/2;i.haystackPts=i.allpts=[i.source.x*h*m+l.x,i.source.y*p*m+l.y,i.target.x*d*m+u.x,i.target.y*f*m+u.y],i.midX=(i.allpts[0]+i.allpts[2])/2,i.midY=(i.allpts[1]+i.allpts[3])/2,i.edgeType="haystack",i.haystack=!0,this.storeEdgeProjections(r),this.calculateArrowAngles(r),this.recalculateEdgeLabelProjections(r),this.calculateLabelAngles(r)}};Ta.findSegmentsPoints=function(t,e){var r=t._private.rscratch,n=t.pstyle("segment-weights"),i=t.pstyle("segment-distances"),a=t.pstyle("segment-radii"),s=t.pstyle("radius-type"),o=Math.min(n.pfValue.length,i.pfValue.length),l=a.pfValue[a.pfValue.length-1],u=s.pfValue[s.pfValue.length-1];r.edgeType="segments",r.segpts=[],r.radii=[],r.isArcRadius=[];for(var h=0;h<o;h++){var d=n.pfValue[h],p=i.pfValue[h],f=1-d,g=d,m=this.findMidptPtsEtc(t,e),y=m.midptPts,v=m.vectorNormInverse,x={x:y.x1*f+y.x2*g,y:y.y1*f+y.y2*g};r.segpts.push(x.x+v.x*p,x.y+v.y*p),r.radii.push(a.pfValue[h]!==void 0?a.pfValue[h]:l),r.isArcRadius.push((s.pfValue[h]!==void 0?s.pfValue[h]:u)==="arc-radius")}};Ta.findLoopPoints=function(t,e,r,n){var i=t._private.rscratch,a=e.dirCounts,s=e.srcPos,o=t.pstyle("control-point-distances"),l=o?o.pfValue[0]:void 0,u=t.pstyle("loop-direction").pfValue,h=t.pstyle("loop-sweep").pfValue,d=t.pstyle("control-point-step-size").pfValue;i.edgeType="self";var p=r,f=d;n&&(p=0,f=l);var g=u-Math.PI/2,m=g-h/2,y=g+h/2,v=u+"_"+h;p=a[v]===void 0?a[v]=0:++a[v],i.ctrlpts=[s.x+Math.cos(m)*1.4*f*(p/3+1),s.y+Math.sin(m)*1.4*f*(p/3+1),s.x+Math.cos(y)*1.4*f*(p/3+1),s.y+Math.sin(y)*1.4*f*(p/3+1)]};Ta.findCompoundLoopPoints=function(t,e,r,n){var i=t._private.rscratch;i.edgeType="compound";var a=e.srcPos,s=e.tgtPos,o=e.srcW,l=e.srcH,u=e.tgtW,h=e.tgtH,d=t.pstyle("control-point-step-size").pfValue,p=t.pstyle("control-point-distances"),f=p?p.pfValue[0]:void 0,g=r,m=d;n&&(g=0,m=f);var y=50,v={x:a.x-o/2,y:a.y-l/2},x={x:s.x-u/2,y:s.y-h/2},w={x:Math.min(v.x,x.x),y:Math.min(v.y,x.y)},k=.5,E=Math.max(k,Math.log(o*.01)),_=Math.max(k,Math.log(u*.01));i.ctrlpts=[w.x,w.y-(1+Math.pow(y,1.12)/100)*m*(g/3+1)*E,w.x-(1+Math.pow(y,1.12)/100)*m*(g/3+1)*_,w.y]};Ta.findStraightEdgePoints=function(t){t._private.rscratch.edgeType="straight"};Ta.findBezierPoints=function(t,e,r,n,i){var a=t._private.rscratch,s=t.pstyle("control-point-step-size").pfValue,o=t.pstyle("control-point-distances"),l=t.pstyle("control-point-weights"),u=o&&l?Math.min(o.value.length,l.value.length):1,h=o?o.pfValue[0]:void 0,d=l.value[0],p=n;a.edgeType=p?"multibezier":"bezier",a.ctrlpts=[];for(var f=0;f<u;f++){var g=(.5-e.eles.length/2+r)*s*(i?-1:1),m=void 0,y=tae(g);p&&(h=o?o.pfValue[f]:s,d=l.value[f]),n?m=h:m=h!==void 0?y*h:void 0;var v=m!==void 0?m:g,x=1-d,w=d,k=this.findMidptPtsEtc(t,e),E=k.midptPts,_=k.vectorNormInverse,S={x:E.x1*x+E.x2*w,y:E.y1*x+E.y2*w};a.ctrlpts.push(S.x+_.x*v,S.y+_.y*v)}};Ta.findTaxiPoints=function(t,e){var r=t._private.rscratch;r.edgeType="segments";var n="vertical",i="horizontal",a="leftward",s="rightward",o="downward",l="upward",u="auto",h=e.posPts,d=e.srcW,p=e.srcH,f=e.tgtW,g=e.tgtH,m=t.pstyle("edge-distances").value,y=m!=="node-position",v=t.pstyle("taxi-direction").value,x=v,w=t.pstyle("taxi-turn"),k=w.units==="%",E=w.pfValue,_=E<0,S=t.pstyle("taxi-turn-min-distance").pfValue,R=y?(d+f)/2:0,C=y?(p+g)/2:0,L=h.x2-h.x1,A=h.y2-h.y1,N=function(Ee,Ce){return Ee>0?Math.max(Ee-Ce,0):Math.min(Ee+Ce,0)},F=N(L,R),T=N(A,C),D=!1;x===u?v=Math.abs(F)>Math.abs(T)?i:n:x===l||x===o?(v=n,D=!0):(x===a||x===s)&&(v=i,D=!0);var M=v===n,O=M?T:F,I=M?A:L,P=tae(I),B=!1;!(D&&(k||_))&&(x===o&&I<0||x===l&&I>0||x===a&&I>0||x===s&&I<0)&&(P*=-1,O=P*Math.abs(O),B=!0);var $;if(k){var V=E<0?1+E:E;$=V*O}else{var W=E<0?O:0;$=W+E*P}var K=function(Ee){return Math.abs(Ee)<S||Math.abs(Ee)>=Math.abs(O)},Z=K($),H=K(Math.abs(O)-Math.abs($)),ee=Z||H;if(ee&&!B)if(M){var te=Math.abs(I)<=p/2,U=Math.abs(L)<=f/2;if(te){var j=(h.x1+h.x2)/2,Y=h.y1,Q=h.y2;r.segpts=[j,Y,j,Q]}else if(U){var ae=(h.y1+h.y2)/2,ie=h.x1,J=h.x2;r.segpts=[ie,ae,J,ae]}else r.segpts=[h.x1,h.y2]}else{var _e=Math.abs(I)<=d/2,ce=Math.abs(A)<=g/2;if(_e){var Te=(h.y1+h.y2)/2,be=h.x1,Ue=h.x2;r.segpts=[be,Te,Ue,Te]}else if(ce){var He=(h.x1+h.x2)/2,Ve=h.y1,Re=h.y2;r.segpts=[He,Ve,He,Re]}else r.segpts=[h.x2,h.y1]}else if(M){var de=h.y1+$+(y?p/2*P:0),X=h.x1,oe=h.x2;r.segpts=[X,de,oe,de]}else{var me=h.x1+$+(y?d/2*P:0),ne=h.y1,ue=h.y2;r.segpts=[me,ne,me,ue]}if(r.isRound){var pe=t.pstyle("taxi-radius").value,ge=t.pstyle("radius-type").value[0]==="arc-radius";r.radii=new Array(r.segpts.length/2).fill(pe),r.isArcRadius=new Array(r.segpts.length/2).fill(ge)}};Ta.tryToCorrectInvalidPoints=function(t,e){var r=t._private.rscratch;if(r.edgeType==="bezier"){var n=e.srcPos,i=e.tgtPos,a=e.srcW,s=e.srcH,o=e.tgtW,l=e.tgtH,u=e.srcShape,h=e.tgtShape,d=e.srcCornerRadius,p=e.tgtCornerRadius,f=e.srcRs,g=e.tgtRs,m=!mt(r.startX)||!mt(r.startY),y=!mt(r.arrowStartX)||!mt(r.arrowStartY),v=!mt(r.endX)||!mt(r.endY),x=!mt(r.arrowEndX)||!mt(r.arrowEndY),w=3,k=this.getArrowWidth(t.pstyle("width").pfValue,t.pstyle("arrow-scale").value)*this.arrowShapeWidth,E=w*k,_=Zd({x:r.ctrlpts[0],y:r.ctrlpts[1]},{x:r.startX,y:r.startY}),S=_<E,R=Zd({x:r.ctrlpts[0],y:r.ctrlpts[1]},{x:r.endX,y:r.endY}),C=R<E,L=!1;if(m||y||S){L=!0;var A={x:r.ctrlpts[0]-n.x,y:r.ctrlpts[1]-n.y},N=Math.sqrt(A.x*A.x+A.y*A.y),F={x:A.x/N,y:A.y/N},T=Math.max(a,s),D={x:r.ctrlpts[0]+F.x*2*T,y:r.ctrlpts[1]+F.y*2*T},M=u.intersectLine(n.x,n.y,a,s,D.x,D.y,0,d,f);S?(r.ctrlpts[0]=r.ctrlpts[0]+F.x*(E-_),r.ctrlpts[1]=r.ctrlpts[1]+F.y*(E-_)):(r.ctrlpts[0]=M[0]+F.x*E,r.ctrlpts[1]=M[1]+F.y*E)}if(v||x||C){L=!0;var O={x:r.ctrlpts[0]-i.x,y:r.ctrlpts[1]-i.y},I=Math.sqrt(O.x*O.x+O.y*O.y),P={x:O.x/I,y:O.y/I},B=Math.max(a,s),$={x:r.ctrlpts[0]+P.x*2*B,y:r.ctrlpts[1]+P.y*2*B},V=h.intersectLine(i.x,i.y,o,l,$.x,$.y,0,p,g);C?(r.ctrlpts[0]=r.ctrlpts[0]+P.x*(E-R),r.ctrlpts[1]=r.ctrlpts[1]+P.y*(E-R)):(r.ctrlpts[0]=V[0]+P.x*E,r.ctrlpts[1]=V[1]+P.y*E)}L&&this.findEndpoints(t)}};Ta.storeAllpts=function(t){var e=t._private.rscratch;if(e.edgeType==="multibezier"||e.edgeType==="bezier"||e.edgeType==="self"||e.edgeType==="compound"){e.allpts=[],e.allpts.push(e.startX,e.startY);for(var r=0;r+1<e.ctrlpts.length;r+=2)e.allpts.push(e.ctrlpts[r],e.ctrlpts[r+1]),r+3<e.ctrlpts.length&&e.allpts.push((e.ctrlpts[r]+e.ctrlpts[r+2])/2,(e.ctrlpts[r+1]+e.ctrlpts[r+3])/2);e.allpts.push(e.endX,e.endY);var n,i;e.ctrlpts.length/2%2===0?(n=e.allpts.length/2-1,e.midX=e.allpts[n],e.midY=e.allpts[n+1]):(n=e.allpts.length/2-3,i=.5,e.midX=Ti(e.allpts[n],e.allpts[n+2],e.allpts[n+4],i),e.midY=Ti(e.allpts[n+1],e.allpts[n+3],e.allpts[n+5],i))}else if(e.edgeType==="straight")e.allpts=[e.startX,e.startY,e.endX,e.endY],e.midX=(e.startX+e.endX+e.arrowStartX+e.arrowEndX)/4,e.midY=(e.startY+e.endY+e.arrowStartY+e.arrowEndY)/4;else if(e.edgeType==="segments"){if(e.allpts=[],e.allpts.push(e.startX,e.startY),e.allpts.push.apply(e.allpts,e.segpts),e.allpts.push(e.endX,e.endY),e.isRound){e.roundCorners=[];for(var a=2;a+3<e.allpts.length;a+=2){var s=e.radii[a/2-1],o=e.isArcRadius[a/2-1];e.roundCorners.push(PN({x:e.allpts[a-2],y:e.allpts[a-1]},{x:e.allpts[a],y:e.allpts[a+1],radius:s},{x:e.allpts[a+2],y:e.allpts[a+3]},s,o))}}if(e.segpts.length%4===0){var l=e.segpts.length/2,u=l-2;e.midX=(e.segpts[u]+e.segpts[l])/2,e.midY=(e.segpts[u+1]+e.segpts[l+1])/2}else{var h=e.segpts.length/2-1;if(!e.isRound)e.midX=e.segpts[h],e.midY=e.segpts[h+1];else{var d={x:e.segpts[h],y:e.segpts[h+1]},p=e.roundCorners[h/2],f=[d.x-p.cx,d.y-p.cy],g=p.radius/Math.sqrt(Math.pow(f[0],2)+Math.pow(f[1],2));f=f.map(function(m){return m*g}),e.midX=p.cx+f[0],e.midY=p.cy+f[1],e.midVector=f}}}};Ta.checkForInvalidEdgeWarning=function(t){var e=t[0]._private.rscratch;e.nodesOverlap||mt(e.startX)&&mt(e.startY)&&mt(e.endX)&&mt(e.endY)?e.loggedErr=!1:e.loggedErr||(e.loggedErr=!0,Or("Edge `"+t.id()+"` has invalid endpoints and so it is impossible to draw.  Adjust your edge style (e.g. control points) accordingly or use an alternative edge type.  This is expected behaviour when the source node and the target node overlap."))};Ta.findEdgeControlPoints=function(t){var e=this;if(!(!t||t.length===0)){for(var r=this,n=r.cy,i=n.hasCompoundNodes(),a={map:new wl,get:function(S){var R=this.map.get(S[0]);return R!=null?R.get(S[1]):null},set:function(S,R){var C=this.map.get(S[0]);C==null&&(C=new wl,this.map.set(S[0],C)),C.set(S[1],R)}},s=[],o=[],l=0;l<t.length;l++){var u=t[l],h=u._private,d=u.pstyle("curve-style").value;if(!(u.removed()||!u.takesUpSpace())){if(d==="haystack"){o.push(u);continue}var p=d==="unbundled-bezier"||d.endsWith("segments")||d==="straight"||d==="straight-triangle"||d.endsWith("taxi"),f=d==="unbundled-bezier"||d==="bezier",g=h.source,m=h.target,y=g.poolIndex(),v=m.poolIndex(),x=[y,v].sort(),w=a.get(x);w==null&&(w={eles:[]},a.set(x,w),s.push(x)),w.eles.push(u),p&&(w.hasUnbundled=!0),f&&(w.hasBezier=!0)}}for(var k=function(S){var R=s[S],C=a.get(R),L=void 0;if(!C.hasUnbundled){var A=C.eles[0].parallelEdges().filter(function(me){return me.isBundledBezier()});wN(C.eles),A.forEach(function(me){return C.eles.push(me)}),C.eles.sort(function(me,ne){return me.poolIndex()-ne.poolIndex()})}var N=C.eles[0],F=N.source(),T=N.target();if(F.poolIndex()>T.poolIndex()){var D=F;F=T,T=D}var M=C.srcPos=F.position(),O=C.tgtPos=T.position(),I=C.srcW=F.outerWidth(),P=C.srcH=F.outerHeight(),B=C.tgtW=T.outerWidth(),$=C.tgtH=T.outerHeight(),V=C.srcShape=r.nodeShapes[e.getNodeShape(F)],W=C.tgtShape=r.nodeShapes[e.getNodeShape(T)],K=C.srcCornerRadius=F.pstyle("corner-radius").value==="auto"?"auto":F.pstyle("corner-radius").pfValue,Z=C.tgtCornerRadius=T.pstyle("corner-radius").value==="auto"?"auto":T.pstyle("corner-radius").pfValue,H=C.tgtRs=T._private.rscratch,ee=C.srcRs=F._private.rscratch;C.dirCounts={north:0,west:0,south:0,east:0,northwest:0,southwest:0,northeast:0,southeast:0};for(var te=0;te<C.eles.length;te++){var U=C.eles[te],j=U[0]._private.rscratch,Y=U.pstyle("curve-style").value,Q=Y==="unbundled-bezier"||Y.endsWith("segments")||Y.endsWith("taxi"),ae=!F.same(U.source());if(!C.calculatedIntersection&&F!==T&&(C.hasBezier||C.hasUnbundled)){C.calculatedIntersection=!0;var ie=V.intersectLine(M.x,M.y,I,P,O.x,O.y,0,K,ee),J=C.srcIntn=ie,_e=W.intersectLine(O.x,O.y,B,$,M.x,M.y,0,Z,H),ce=C.tgtIntn=_e,Te=C.intersectionPts={x1:ie[0],x2:_e[0],y1:ie[1],y2:_e[1]},be=C.posPts={x1:M.x,x2:O.x,y1:M.y,y2:O.y},Ue=_e[1]-ie[1],He=_e[0]-ie[0],Ve=Math.sqrt(He*He+Ue*Ue),Re=C.vector={x:He,y:Ue},de=C.vectorNorm={x:Re.x/Ve,y:Re.y/Ve},X={x:-de.y,y:de.x};C.nodesOverlap=!mt(Ve)||W.checkPoint(ie[0],ie[1],0,B,$,O.x,O.y,Z,H)||V.checkPoint(_e[0],_e[1],0,I,P,M.x,M.y,K,ee),C.vectorNormInverse=X,L={nodesOverlap:C.nodesOverlap,dirCounts:C.dirCounts,calculatedIntersection:!0,hasBezier:C.hasBezier,hasUnbundled:C.hasUnbundled,eles:C.eles,srcPos:O,tgtPos:M,srcW:B,srcH:$,tgtW:I,tgtH:P,srcIntn:ce,tgtIntn:J,srcShape:W,tgtShape:V,posPts:{x1:be.x2,y1:be.y2,x2:be.x1,y2:be.y1},intersectionPts:{x1:Te.x2,y1:Te.y2,x2:Te.x1,y2:Te.y1},vector:{x:-Re.x,y:-Re.y},vectorNorm:{x:-de.x,y:-de.y},vectorNormInverse:{x:-X.x,y:-X.y}}}var oe=ae?L:C;j.nodesOverlap=oe.nodesOverlap,j.srcIntn=oe.srcIntn,j.tgtIntn=oe.tgtIntn,j.isRound=Y.startsWith("round"),i&&(F.isParent()||F.isChild()||T.isParent()||T.isChild())&&(F.parents().anySame(T)||T.parents().anySame(F)||F.same(T)&&F.isParent())?e.findCompoundLoopPoints(U,oe,te,Q):F===T?e.findLoopPoints(U,oe,te,Q):Y.endsWith("segments")?e.findSegmentsPoints(U,oe):Y.endsWith("taxi")?e.findTaxiPoints(U,oe):Y==="straight"||!Q&&C.eles.length%2===1&&te===Math.floor(C.eles.length/2)?e.findStraightEdgePoints(U):e.findBezierPoints(U,oe,te,Q,ae),e.findEndpoints(U),e.tryToCorrectInvalidPoints(U,oe),e.checkForInvalidEdgeWarning(U),e.storeAllpts(U),e.storeEdgeProjections(U),e.calculateArrowAngles(U),e.recalculateEdgeLabelProjections(U),e.calculateLabelAngles(U)}},E=0;E<s.length;E++)k(E);this.findHaystackPoints(o)}};function Zae(t){var e=[];if(t!=null){for(var r=0;r<t.length;r+=2){var n=t[r],i=t[r+1];e.push({x:n,y:i})}return e}}Ta.getSegmentPoints=function(t){var e=t[0]._private.rscratch,r=e.edgeType;if(r==="segments")return this.recalculateRenderedStyle(t),Zae(e.segpts)};Ta.getControlPoints=function(t){var e=t[0]._private.rscratch,r=e.edgeType;if(r==="bezier"||r==="multibezier"||r==="self"||r==="compound")return this.recalculateRenderedStyle(t),Zae(e.ctrlpts)};Ta.getEdgeMidpoint=function(t){var e=t[0]._private.rscratch;return this.recalculateRenderedStyle(t),{x:e.midX,y:e.midY}};var u2={};u2.manualEndptToPx=function(t,e){var r=this,n=t.position(),i=t.outerWidth(),a=t.outerHeight(),s=t._private.rscratch;if(e.value.length===2){var o=[e.pfValue[0],e.pfValue[1]];return e.units[0]==="%"&&(o[0]=o[0]*i),e.units[1]==="%"&&(o[1]=o[1]*a),o[0]+=n.x,o[1]+=n.y,o}else{var l=e.pfValue[0];l=-Math.PI/2+l;var u=2*Math.max(i,a),h=[n.x+Math.cos(l)*u,n.y+Math.sin(l)*u];return r.nodeShapes[this.getNodeShape(t)].intersectLine(n.x,n.y,i,a,h[0],h[1],0,t.pstyle("corner-radius").value==="auto"?"auto":t.pstyle("corner-radius").pfValue,s)}};u2.findEndpoints=function(t){var e=this,r,n=t.source()[0],i=t.target()[0],a=n.position(),s=i.position(),o=t.pstyle("target-arrow-shape").value,l=t.pstyle("source-arrow-shape").value,u=t.pstyle("target-distance-from-node").pfValue,h=t.pstyle("source-distance-from-node").pfValue,d=n._private.rscratch,p=i._private.rscratch,f=t.pstyle("curve-style").value,g=t._private.rscratch,m=g.edgeType,y=f==="taxi",v=m==="self"||m==="compound",x=m==="bezier"||m==="multibezier"||v,w=m!=="bezier",k=m==="straight"||m==="segments",E=m==="segments",_=x||w||k,S=v||y,R=t.pstyle("source-endpoint"),C=S?"outside-to-node":R.value,L=n.pstyle("corner-radius").value==="auto"?"auto":n.pstyle("corner-radius").pfValue,A=t.pstyle("target-endpoint"),N=S?"outside-to-node":A.value,F=i.pstyle("corner-radius").value==="auto"?"auto":i.pstyle("corner-radius").pfValue;g.srcManEndpt=R,g.tgtManEndpt=A;var T,D,M,O;if(x){var I=[g.ctrlpts[0],g.ctrlpts[1]],P=w?[g.ctrlpts[g.ctrlpts.length-2],g.ctrlpts[g.ctrlpts.length-1]]:I;T=P,D=I}else if(k){var B=E?g.segpts.slice(0,2):[s.x,s.y],$=E?g.segpts.slice(g.segpts.length-2):[a.x,a.y];T=$,D=B}if(N==="inside-to-node")r=[s.x,s.y];else if(A.units)r=this.manualEndptToPx(i,A);else if(N==="outside-to-line")r=g.tgtIntn;else if(N==="outside-to-node"||N==="outside-to-node-or-label"?M=T:(N==="outside-to-line"||N==="outside-to-line-or-label")&&(M=[a.x,a.y]),r=e.nodeShapes[this.getNodeShape(i)].intersectLine(s.x,s.y,i.outerWidth(),i.outerHeight(),M[0],M[1],0,F,p),N==="outside-to-node-or-label"||N==="outside-to-line-or-label"){var V=i._private.rscratch,W=V.labelWidth,K=V.labelHeight,Z=V.labelX,H=V.labelY,ee=W/2,te=K/2,U=i.pstyle("text-valign").value;U==="top"?H-=te:U==="bottom"&&(H+=te);var j=i.pstyle("text-halign").value;j==="left"?Z-=ee:j==="right"&&(Z+=ee);var Y=ty(M[0],M[1],[Z-ee,H-te,Z+ee,H-te,Z+ee,H+te,Z-ee,H+te],s.x,s.y);if(Y.length>0){var Q=a,ae=Gh(Q,d0(r)),ie=Gh(Q,d0(Y)),J=ae;if(ie<ae&&(r=Y,J=ie),Y.length>2){var _e=Gh(Q,{x:Y[2],y:Y[3]});_e<J&&(r=[Y[2],Y[3]])}}}var ce=_x(r,T,e.arrowShapes[o].spacing(t)+u),Te=_x(r,T,e.arrowShapes[o].gap(t)+u);if(g.endX=Te[0],g.endY=Te[1],g.arrowEndX=ce[0],g.arrowEndY=ce[1],C==="inside-to-node")r=[a.x,a.y];else if(R.units)r=this.manualEndptToPx(n,R);else if(C==="outside-to-line")r=g.srcIntn;else if(C==="outside-to-node"||C==="outside-to-node-or-label"?O=D:(C==="outside-to-line"||C==="outside-to-line-or-label")&&(O=[s.x,s.y]),r=e.nodeShapes[this.getNodeShape(n)].intersectLine(a.x,a.y,n.outerWidth(),n.outerHeight(),O[0],O[1],0,L,d),C==="outside-to-node-or-label"||C==="outside-to-line-or-label"){var be=n._private.rscratch,Ue=be.labelWidth,He=be.labelHeight,Ve=be.labelX,Re=be.labelY,de=Ue/2,X=He/2,oe=n.pstyle("text-valign").value;oe==="top"?Re-=X:oe==="bottom"&&(Re+=X);var me=n.pstyle("text-halign").value;me==="left"?Ve-=de:me==="right"&&(Ve+=de);var ne=ty(O[0],O[1],[Ve-de,Re-X,Ve+de,Re-X,Ve+de,Re+X,Ve-de,Re+X],a.x,a.y);if(ne.length>0){var ue=s,pe=Gh(ue,d0(r)),ge=Gh(ue,d0(ne)),ve=pe;if(ge<pe&&(r=[ne[0],ne[1]],ve=ge),ne.length>2){var Ee=Gh(ue,{x:ne[2],y:ne[3]});Ee<ve&&(r=[ne[2],ne[3]])}}}var Ce=_x(r,D,e.arrowShapes[l].spacing(t)+h),Ne=_x(r,D,e.arrowShapes[l].gap(t)+h);g.startX=Ne[0],g.startY=Ne[1],g.arrowStartX=Ce[0],g.arrowStartY=Ce[1],_&&(!mt(g.startX)||!mt(g.startY)||!mt(g.endX)||!mt(g.endY)?g.badLine=!0:g.badLine=!1)};u2.getSourceEndpoint=function(t){var e=t[0]._private.rscratch;switch(this.recalculateRenderedStyle(t),e.edgeType){case"haystack":return{x:e.haystackPts[0],y:e.haystackPts[1]};default:return{x:e.arrowStartX,y:e.arrowStartY}}};u2.getTargetEndpoint=function(t){var e=t[0]._private.rscratch;switch(this.recalculateRenderedStyle(t),e.edgeType){case"haystack":return{x:e.haystackPts[2],y:e.haystackPts[3]};default:return{x:e.arrowEndX,y:e.arrowEndY}}};var FN={};function vZe(t,e,r){for(var n=function(u,h,d,p){return Ti(u,h,d,p)},i=e._private,a=i.rstyle.bezierPts,s=0;s<t.bezierProjPcts.length;s++){var o=t.bezierProjPcts[s];a.push({x:n(r[0],r[2],r[4],o),y:n(r[1],r[3],r[5],o)})}}FN.storeEdgeProjections=function(t){var e=t._private,r=e.rscratch,n=r.edgeType;if(e.rstyle.bezierPts=null,e.rstyle.linePts=null,e.rstyle.haystackPts=null,n==="multibezier"||n==="bezier"||n==="self"||n==="compound"){e.rstyle.bezierPts=[];for(var i=0;i+5<r.allpts.length;i+=4)vZe(this,t,r.allpts.slice(i,i+6))}else if(n==="segments")for(var a=e.rstyle.linePts=[],i=0;i+1<r.allpts.length;i+=2)a.push({x:r.allpts[i],y:r.allpts[i+1]});else if(n==="haystack"){var s=r.haystackPts;e.rstyle.haystackPts=[{x:s[0],y:s[1]},{x:s[2],y:s[3]}]}e.rstyle.arrowWidth=this.getArrowWidth(t.pstyle("width").pfValue,t.pstyle("arrow-scale").value)*this.arrowShapeWidth};FN.recalculateEdgeProjections=function(t){this.findEdgeControlPoints(t)};var Hl={};Hl.recalculateNodeLabelProjection=function(t){var e=t.pstyle("label").strValue;if(!hh(e)){var r,n,i=t._private,a=t.width(),s=t.height(),o=t.padding(),l=t.position(),u=t.pstyle("text-halign").strValue,h=t.pstyle("text-valign").strValue,d=i.rscratch,p=i.rstyle;switch(u){case"left":r=l.x-a/2-o;break;case"right":r=l.x+a/2+o;break;default:r=l.x}switch(h){case"top":n=l.y-s/2-o;break;case"bottom":n=l.y+s/2+o;break;default:n=l.y}d.labelX=r,d.labelY=n,p.labelX=r,p.labelY=n,this.calculateLabelAngles(t),this.applyLabelDimensions(t)}};var Jae=function(e,r){var n=Math.atan(r/e);return e===0&&n<0&&(n=n*-1),n},ese=function(e,r){var n=r.x-e.x,i=r.y-e.y;return Jae(n,i)},yZe=function(e,r,n,i){var a=ey(0,i-.001,1),s=ey(0,i+.001,1),o=D0(e,r,n,a),l=D0(e,r,n,s);return ese(o,l)};Hl.recalculateEdgeLabelProjections=function(t){var e,r=t._private,n=r.rscratch,i=this,a={mid:t.pstyle("label").strValue,source:t.pstyle("source-label").strValue,target:t.pstyle("target-label").strValue};if(a.mid||a.source||a.target){e={x:n.midX,y:n.midY};var s=function(d,p,f){Tu(r.rscratch,d,p,f),Tu(r.rstyle,d,p,f)};s("labelX",null,e.x),s("labelY",null,e.y);var o=Jae(n.midDispX,n.midDispY);s("labelAutoAngle",null,o);var l=function h(){if(h.cache)return h.cache;for(var d=[],p=0;p+5<n.allpts.length;p+=4){var f={x:n.allpts[p],y:n.allpts[p+1]},g={x:n.allpts[p+2],y:n.allpts[p+3]},m={x:n.allpts[p+4],y:n.allpts[p+5]};d.push({p0:f,p1:g,p2:m,startDist:0,length:0,segments:[]})}var y=r.rstyle.bezierPts,v=i.bezierProjPcts.length;function x(S,R,C,L,A){var N=Zd(R,C),F=S.segments[S.segments.length-1],T={p0:R,p1:C,t0:L,t1:A,startDist:F?F.startDist+F.length:0,length:N};S.segments.push(T),S.length+=N}for(var w=0;w<d.length;w++){var k=d[w],E=d[w-1];E&&(k.startDist=E.startDist+E.length),x(k,k.p0,y[w*v],0,i.bezierProjPcts[0]);for(var _=0;_<v-1;_++)x(k,y[w*v+_],y[w*v+_+1],i.bezierProjPcts[_],i.bezierProjPcts[_+1]);x(k,y[w*v+v-1],k.p2,i.bezierProjPcts[v-1],1)}return h.cache=d},u=function(d){var p,f=d==="source";if(a[d]){var g=t.pstyle(d+"-text-offset").pfValue;switch(n.edgeType){case"self":case"compound":case"bezier":case"multibezier":{for(var m=l(),y,v=0,x=0,w=0;w<m.length;w++){for(var k=m[f?w:m.length-1-w],E=0;E<k.segments.length;E++){var _=k.segments[f?E:k.segments.length-1-E],S=w===m.length-1&&E===k.segments.length-1;if(v=x,x+=_.length,x>=g||S){y={cp:k,segment:_};break}}if(y)break}var R=y.cp,C=y.segment,L=(g-v)/C.length,A=C.t1-C.t0,N=f?C.t0+A*L:C.t1-A*L;N=ey(0,N,1),e=D0(R.p0,R.p1,R.p2,N),p=yZe(R.p0,R.p1,R.p2,N);break}case"straight":case"segments":case"haystack":{for(var F=0,T,D,M,O,I=n.allpts.length,P=0;P+3<I&&(f?(M={x:n.allpts[P],y:n.allpts[P+1]},O={x:n.allpts[P+2],y:n.allpts[P+3]}):(M={x:n.allpts[I-2-P],y:n.allpts[I-1-P]},O={x:n.allpts[I-4-P],y:n.allpts[I-3-P]}),T=Zd(M,O),D=F,F+=T,!(F>=g));P+=2);var B=g-D,$=B/T;$=ey(0,$,1),e=Tqe(M,O,$),p=ese(M,O);break}}s("labelX",d,e.x),s("labelY",d,e.y),s("labelAutoAngle",d,p)}};u("source"),u("target"),this.applyLabelDimensions(t)}};Hl.applyLabelDimensions=function(t){this.applyPrefixedLabelDimensions(t),t.isEdge()&&(this.applyPrefixedLabelDimensions(t,"source"),this.applyPrefixedLabelDimensions(t,"target"))};Hl.applyPrefixedLabelDimensions=function(t,e){var r=t._private,n=this.getLabelText(t,e),i=this.calculateLabelDimensions(t,n),a=t.pstyle("line-height").pfValue,s=t.pstyle("text-wrap").strValue,o=Do(r.rscratch,"labelWrapCachedLines",e)||[],l=s!=="wrap"?1:Math.max(o.length,1),u=i.height/l,h=u*a,d=i.width,p=i.height+(l-1)*(a-1)*u;Tu(r.rstyle,"labelWidth",e,d),Tu(r.rscratch,"labelWidth",e,d),Tu(r.rstyle,"labelHeight",e,p),Tu(r.rscratch,"labelHeight",e,p),Tu(r.rscratch,"labelLineHeight",e,h)};Hl.getLabelText=function(t,e){var r=t._private,n=e?e+"-":"",i=t.pstyle(n+"label").strValue,a=t.pstyle("text-transform").value,s=function(W,K){return K?(Tu(r.rscratch,W,e,K),K):Do(r.rscratch,W,e)};if(!i)return"";a=="none"||(a=="uppercase"?i=i.toUpperCase():a=="lowercase"&&(i=i.toLowerCase()));var o=t.pstyle("text-wrap").value;if(o==="wrap"){var l=s("labelKey");if(l!=null&&s("labelWrapKey")===l)return s("labelWrapCachedText");for(var u="​",h=i.split(`
`),d=t.pstyle("text-max-width").pfValue,p=t.pstyle("text-overflow-wrap").value,f=p==="anywhere",g=[],m=/[\s\u200b]+|$/g,y=0;y<h.length;y++){var v=h[y],x=this.calculateLabelDimensions(t,v),w=x.width;if(f){var k=v.split("").join(u);v=k}if(w>d){var E=v.matchAll(m),_="",S=0,R=Pie(E),C;try{for(R.s();!(C=R.n()).done;){var L=C.value,A=L[0],N=v.substring(S,L.index);S=L.index+A.length;var F=_.length===0?N:_+N+A,T=this.calculateLabelDimensions(t,F),D=T.width;D<=d?_+=N+A:(_&&g.push(_),_=N+A)}}catch(V){R.e(V)}finally{R.f()}_.match(/^[\s\u200b]+$/)||g.push(_)}else g.push(v)}s("labelWrapCachedLines",g),i=s("labelWrapCachedText",g.join(`
`)),s("labelWrapKey",l)}else if(o==="ellipsis"){var M=t.pstyle("text-max-width").pfValue,O="",I="…",P=!1;if(this.calculateLabelDimensions(t,i).width<M)return i;for(var B=0;B<i.length;B++){var $=this.calculateLabelDimensions(t,O+i[B]+I).width;if($>M)break;O+=i[B],B===i.length-1&&(P=!0)}return P||(O+=I),O}return i};Hl.getLabelJustification=function(t){var e=t.pstyle("text-justification").strValue,r=t.pstyle("text-halign").strValue;if(e==="auto")if(t.isNode())switch(r){case"left":return"right";case"right":return"left";default:return"center"}else return"center";else return e};Hl.calculateLabelDimensions=function(t,e){var r=this,n=r.cy.window(),i=n.document,a=Qd(e,t._private.labelDimsKey),s=r.labelDimCache||(r.labelDimCache=[]),o=s[a];if(o!=null)return o;var l=0,u=t.pstyle("font-style").strValue,h=t.pstyle("font-size").pfValue,d=t.pstyle("font-family").strValue,p=t.pstyle("font-weight").strValue,f=this.labelCalcCanvas,g=this.labelCalcCanvasContext;if(!f){f=this.labelCalcCanvas=i.createElement("canvas"),g=this.labelCalcCanvasContext=f.getContext("2d");var m=f.style;m.position="absolute",m.left="-9999px",m.top="-9999px",m.zIndex="-1",m.visibility="hidden",m.pointerEvents="none"}g.font="".concat(u," ").concat(p," ").concat(h,"px ").concat(d);for(var y=0,v=0,x=e.split(`
`),w=0;w<x.length;w++){var k=x[w],E=g.measureText(k),_=Math.ceil(E.width),S=h;y=Math.max(_,y),v+=S}return y+=l,v+=l,s[a]={width:y,height:v}};Hl.calculateLabelAngle=function(t,e){var r=t._private,n=r.rscratch,i=t.isEdge(),a=e?e+"-":"",s=t.pstyle(a+"text-rotation"),o=s.strValue;return o==="none"?0:i&&o==="autorotate"?n.labelAutoAngle:o==="autorotate"?0:s.pfValue};Hl.calculateLabelAngles=function(t){var e=this,r=t.isEdge(),n=t._private,i=n.rscratch;i.labelAngle=e.calculateLabelAngle(t),r&&(i.sourceLabelAngle=e.calculateLabelAngle(t,"source"),i.targetLabelAngle=e.calculateLabelAngle(t,"target"))};var tse={},j$=28,X$=!1;tse.getNodeShape=function(t){var e=this,r=t.pstyle("shape").value;if(r==="cutrectangle"&&(t.width()<j$||t.height()<j$))return X$||(Or("The `cutrectangle` node shape can not be used at small sizes so `rectangle` is used instead"),X$=!0),"rectangle";if(t.isParent())return r==="rectangle"||r==="roundrectangle"||r==="round-rectangle"||r==="cutrectangle"||r==="cut-rectangle"||r==="barrel"?r:"rectangle";if(r==="polygon"){var n=t.pstyle("shape-polygon-points").value;return e.nodeShapes.makePolygon(n).name}return r};var z6={};z6.registerCalculationListeners=function(){var t=this.cy,e=t.collection(),r=this,n=function(s){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(e.merge(s),o)for(var l=0;l<s.length;l++){var u=s[l],h=u._private,d=h.rstyle;d.clean=!1,d.cleanConnected=!1}};r.binder(t).on("bounds.* dirty.*",function(s){var o=s.target;n(o)}).on("style.* background.*",function(s){var o=s.target;n(o,!1)});var i=function(s){if(s){var o=r.onUpdateEleCalcsFns;e.cleanStyle();for(var l=0;l<e.length;l++){var u=e[l],h=u._private.rstyle;u.isNode()&&!h.cleanConnected&&(n(u.connectedEdges()),h.cleanConnected=!0)}if(o)for(var d=0;d<o.length;d++){var p=o[d];p(s,e)}r.recalculateRenderedStyle(e),e=t.collection()}};r.flushRenderedStyleQueue=function(){i(!0)},r.beforeRender(i,r.beforeRenderPriorities.eleCalcs)};z6.onUpdateEleCalcs=function(t){var e=this.onUpdateEleCalcsFns=this.onUpdateEleCalcsFns||[];e.push(t)};z6.recalculateRenderedStyle=function(t,e){var r=function(k){return k._private.rstyle.cleanConnected},n=[],i=[];if(!this.destroyed){e===void 0&&(e=!0);for(var a=0;a<t.length;a++){var s=t[a],o=s._private,l=o.rstyle;s.isEdge()&&(!r(s.source())||!r(s.target()))&&(l.clean=!1),!(e&&l.clean||s.removed())&&s.pstyle("display").value!=="none"&&(o.group==="nodes"?i.push(s):n.push(s),l.clean=!0)}for(var u=0;u<i.length;u++){var h=i[u],d=h._private,p=d.rstyle,f=h.position();this.recalculateNodeLabelProjection(h),p.nodeX=f.x,p.nodeY=f.y,p.nodeW=h.pstyle("width").pfValue,p.nodeH=h.pstyle("height").pfValue}this.recalculateEdgeProjections(n);for(var g=0;g<n.length;g++){var m=n[g],y=m._private,v=y.rstyle,x=y.rscratch;v.srcX=x.arrowStartX,v.srcY=x.arrowStartY,v.tgtX=x.arrowEndX,v.tgtY=x.arrowEndY,v.midX=x.midX,v.midY=x.midY,v.labelAngle=x.labelAngle,v.sourceLabelAngle=x.sourceLabelAngle,v.targetLabelAngle=x.targetLabelAngle}}};var U6={};U6.updateCachedGrabbedEles=function(){var t=this.cachedZSortedEles;if(t){t.drag=[],t.nondrag=[];for(var e=[],r=0;r<t.length;r++){var n=t[r],i=n._private.rscratch;n.grabbed()&&!n.isParent()?e.push(n):i.inDragLayer?t.drag.push(n):t.nondrag.push(n)}for(var r=0;r<e.length;r++){var n=e[r];t.drag.push(n)}}};U6.invalidateCachedZSortedEles=function(){this.cachedZSortedEles=null};U6.getCachedZSortedEles=function(t){if(t||!this.cachedZSortedEles){var e=this.cy.mutableElements().toArray();e.sort(Bae),e.interactive=e.filter(function(r){return r.interactive()}),this.cachedZSortedEles=e,this.updateCachedGrabbedEles()}else e=this.cachedZSortedEles;return e};var rse={};[Sf,C5,Ta,u2,FN,Hl,tse,z6,U6].forEach(function(t){jt(rse,t)});var nse={};nse.getCachedImage=function(t,e,r){var n=this,i=n.imageCache=n.imageCache||{},a=i[t];if(a)return a.image.complete||a.image.addEventListener("load",r),a.image;a=i[t]=i[t]||{};var s=a.image=new Image;s.addEventListener("load",r),s.addEventListener("error",function(){s.error=!0});var o="data:",l=t.substring(0,o.length).toLowerCase()===o;return l||(e=e==="null"?null:e,s.crossOrigin=e),s.src=t,s};var e1={};e1.registerBinding=function(t,e,r,n){var i=Array.prototype.slice.apply(arguments,[1]),a=this.binder(t);return a.on.apply(a,i)};e1.binder=function(t){var e=this,r=e.cy.window(),n=t===r||t===r.document||t===r.document.body||GWe(t);if(e.supportsPassiveEvents==null){var i=!1;try{var a=Object.defineProperty({},"passive",{get:function(){return i=!0,!0}});r.addEventListener("test",null,a)}catch{}e.supportsPassiveEvents=i}var s=function(l,u,h){var d=Array.prototype.slice.call(arguments);return n&&e.supportsPassiveEvents&&(d[2]={capture:h??!1,passive:!1,once:!1}),e.bindings.push({target:t,args:d}),(t.addEventListener||t.on).apply(t,d),this};return{on:s,addEventListener:s,addListener:s,bind:s}};e1.nodeIsDraggable=function(t){return t&&t.isNode()&&!t.locked()&&t.grabbable()};e1.nodeIsGrabbable=function(t){return this.nodeIsDraggable(t)&&t.interactive()};e1.load=function(){var t=this,e=t.cy.window(),r=function(X){return X.selected()},n=function(X,oe,me,ne){X==null&&(X=t.cy);for(var ue=0;ue<oe.length;ue++){var pe=oe[ue];X.emit({originalEvent:me,type:pe,position:ne})}},i=function(X){return X.shiftKey||X.metaKey||X.ctrlKey},a=function(X,oe){var me=!0;if(t.cy.hasCompoundNodes()&&X&&X.pannable())for(var ne=0;oe&&ne<oe.length;ne++){var X=oe[ne];if(X.isNode()&&X.isParent()&&!X.pannable()){me=!1;break}}else me=!0;return me},s=function(X){X[0]._private.grabbed=!0},o=function(X){X[0]._private.grabbed=!1},l=function(X){X[0]._private.rscratch.inDragLayer=!0},u=function(X){X[0]._private.rscratch.inDragLayer=!1},h=function(X){X[0]._private.rscratch.isGrabTarget=!0},d=function(X){X[0]._private.rscratch.isGrabTarget=!1},p=function(X,oe){var me=oe.addToList,ne=me.has(X);!ne&&X.grabbable()&&!X.locked()&&(me.merge(X),s(X))},f=function(X,oe){if(X.cy().hasCompoundNodes()&&!(oe.inDragLayer==null&&oe.addToList==null)){var me=X.descendants();oe.inDragLayer&&(me.forEach(l),me.connectedEdges().forEach(l)),oe.addToList&&p(me,oe)}},g=function(X,oe){oe=oe||{};var me=X.cy().hasCompoundNodes();oe.inDragLayer&&(X.forEach(l),X.neighborhood().stdFilter(function(ne){return!me||ne.isEdge()}).forEach(l)),oe.addToList&&X.forEach(function(ne){p(ne,oe)}),f(X,oe),v(X,{inDragLayer:oe.inDragLayer}),t.updateCachedGrabbedEles()},m=g,y=function(X){X&&(t.getCachedZSortedEles().forEach(function(oe){o(oe),u(oe),d(oe)}),t.updateCachedGrabbedEles())},v=function(X,oe){if(!(oe.inDragLayer==null&&oe.addToList==null)&&X.cy().hasCompoundNodes()){var me=X.ancestors().orphans();if(!me.same(X)){var ne=me.descendants().spawnSelf().merge(me).unmerge(X).unmerge(X.descendants()),ue=ne.connectedEdges();oe.inDragLayer&&(ue.forEach(l),ne.forEach(l)),oe.addToList&&ne.forEach(function(pe){p(pe,oe)})}}},x=function(){document.activeElement!=null&&document.activeElement.blur!=null&&document.activeElement.blur()},w=typeof MutationObserver<"u",k=typeof ResizeObserver<"u";w?(t.removeObserver=new MutationObserver(function(de){for(var X=0;X<de.length;X++){var oe=de[X],me=oe.removedNodes;if(me)for(var ne=0;ne<me.length;ne++){var ue=me[ne];if(ue===t.container){t.destroy();break}}}}),t.container.parentNode&&t.removeObserver.observe(t.container.parentNode,{childList:!0})):t.registerBinding(t.container,"DOMNodeRemoved",function(de){t.destroy()});var E=C6(function(){t.cy.resize()},100);w&&(t.styleObserver=new MutationObserver(E),t.styleObserver.observe(t.container,{attributes:!0})),t.registerBinding(e,"resize",E),k&&(t.resizeObserver=new ResizeObserver(E),t.resizeObserver.observe(t.container));var _=function(X,oe){for(;X!=null;)oe(X),X=X.parentNode},S=function(){t.invalidateContainerClientCoordsCache()};_(t.container,function(de){t.registerBinding(de,"transitionend",S),t.registerBinding(de,"animationend",S),t.registerBinding(de,"scroll",S)}),t.registerBinding(t.container,"contextmenu",function(de){de.preventDefault()});var R=function(){return t.selection[4]!==0},C=function(X){for(var oe=t.findContainerClientCoords(),me=oe[0],ne=oe[1],ue=oe[2],pe=oe[3],ge=X.touches?X.touches:[X],ve=!1,Ee=0;Ee<ge.length;Ee++){var Ce=ge[Ee];if(me<=Ce.clientX&&Ce.clientX<=me+ue&&ne<=Ce.clientY&&Ce.clientY<=ne+pe){ve=!0;break}}if(!ve)return!1;for(var Ne=t.container,Se=X.target,Ie=Se.parentNode,Ae=!1;Ie;){if(Ie===Ne){Ae=!0;break}Ie=Ie.parentNode}return!!Ae};t.registerBinding(t.container,"mousedown",function(X){if(C(X)&&!(t.hoverData.which===1&&X.which!==1)){X.preventDefault(),x(),t.hoverData.capture=!0,t.hoverData.which=X.which;var oe=t.cy,me=[X.clientX,X.clientY],ne=t.projectIntoViewport(me[0],me[1]),ue=t.selection,pe=t.findNearestElements(ne[0],ne[1],!0,!1),ge=pe[0],ve=t.dragData.possibleDragElements;t.hoverData.mdownPos=ne,t.hoverData.mdownGPos=me;var Ee=function(){t.hoverData.tapholdCancelled=!1,clearTimeout(t.hoverData.tapholdTimeout),t.hoverData.tapholdTimeout=setTimeout(function(){if(!t.hoverData.tapholdCancelled){var qe=t.hoverData.down;qe?qe.emit({originalEvent:X,type:"taphold",position:{x:ne[0],y:ne[1]}}):oe.emit({originalEvent:X,type:"taphold",position:{x:ne[0],y:ne[1]}})}},t.tapholdDuration)};if(X.which==3){t.hoverData.cxtStarted=!0;var Ce={originalEvent:X,type:"cxttapstart",position:{x:ne[0],y:ne[1]}};ge?(ge.activate(),ge.emit(Ce),t.hoverData.down=ge):oe.emit(Ce),t.hoverData.downTime=new Date().getTime(),t.hoverData.cxtDragged=!1}else if(X.which==1){ge&&ge.activate();{if(ge!=null&&t.nodeIsGrabbable(ge)){var Ne=function(qe){return{originalEvent:X,type:qe,position:{x:ne[0],y:ne[1]}}},Se=function(qe){qe.emit(Ne("grab"))};if(h(ge),!ge.selected())ve=t.dragData.possibleDragElements=oe.collection(),m(ge,{addToList:ve}),ge.emit(Ne("grabon")).emit(Ne("grab"));else{ve=t.dragData.possibleDragElements=oe.collection();var Ie=oe.$(function(Ae){return Ae.isNode()&&Ae.selected()&&t.nodeIsGrabbable(Ae)});g(Ie,{addToList:ve}),ge.emit(Ne("grabon")),Ie.forEach(Se)}t.redrawHint("eles",!0),t.redrawHint("drag",!0)}t.hoverData.down=ge,t.hoverData.downs=pe,t.hoverData.downTime=new Date().getTime()}n(ge,["mousedown","tapstart","vmousedown"],X,{x:ne[0],y:ne[1]}),ge==null?(ue[4]=1,t.data.bgActivePosistion={x:ne[0],y:ne[1]},t.redrawHint("select",!0),t.redraw()):ge.pannable()&&(ue[4]=1),Ee()}ue[0]=ue[2]=ne[0],ue[1]=ue[3]=ne[1]}},!1),t.registerBinding(e,"mousemove",function(X){var oe=t.hoverData.capture;if(!(!oe&&!C(X))){var me=!1,ne=t.cy,ue=ne.zoom(),pe=[X.clientX,X.clientY],ge=t.projectIntoViewport(pe[0],pe[1]),ve=t.hoverData.mdownPos,Ee=t.hoverData.mdownGPos,Ce=t.selection,Ne=null;!t.hoverData.draggingEles&&!t.hoverData.dragging&&!t.hoverData.selecting&&(Ne=t.findNearestElement(ge[0],ge[1],!0,!1));var Se=t.hoverData.last,Ie=t.hoverData.down,Ae=[ge[0]-Ce[2],ge[1]-Ce[3]],qe=t.dragData.possibleDragElements,De;if(Ee){var Xe=pe[0]-Ee[0],at=Xe*Xe,dt=pe[1]-Ee[1],ut=dt*dt,kt=at+ut;t.hoverData.isOverThresholdDrag=De=kt>=t.desktopTapThreshold2}var je=i(X);De&&(t.hoverData.tapholdCancelled=!0);var Ye=function(){var tr=t.hoverData.dragDelta=t.hoverData.dragDelta||[];tr.length===0?(tr.push(Ae[0]),tr.push(Ae[1])):(tr[0]+=Ae[0],tr[1]+=Ae[1])};me=!0,n(Ne,["mousemove","vmousemove","tapdrag"],X,{x:ge[0],y:ge[1]});var gt=function(){t.data.bgActivePosistion=void 0,t.hoverData.selecting||ne.emit({originalEvent:X,type:"boxstart",position:{x:ge[0],y:ge[1]}}),Ce[4]=1,t.hoverData.selecting=!0,t.redrawHint("select",!0),t.redraw()};if(t.hoverData.which===3){if(De){var We={originalEvent:X,type:"cxtdrag",position:{x:ge[0],y:ge[1]}};Ie?Ie.emit(We):ne.emit(We),t.hoverData.cxtDragged=!0,(!t.hoverData.cxtOver||Ne!==t.hoverData.cxtOver)&&(t.hoverData.cxtOver&&t.hoverData.cxtOver.emit({originalEvent:X,type:"cxtdragout",position:{x:ge[0],y:ge[1]}}),t.hoverData.cxtOver=Ne,Ne&&Ne.emit({originalEvent:X,type:"cxtdragover",position:{x:ge[0],y:ge[1]}}))}}else if(t.hoverData.dragging){if(me=!0,ne.panningEnabled()&&ne.userPanningEnabled()){var tt;if(t.hoverData.justStartedPan){var Ft=t.hoverData.mdownPos;tt={x:(ge[0]-Ft[0])*ue,y:(ge[1]-Ft[1])*ue},t.hoverData.justStartedPan=!1}else tt={x:Ae[0]*ue,y:Ae[1]*ue};ne.panBy(tt),ne.emit("dragpan"),t.hoverData.dragged=!0}ge=t.projectIntoViewport(X.clientX,X.clientY)}else if(Ce[4]==1&&(Ie==null||Ie.pannable())){if(De){if(!t.hoverData.dragging&&ne.boxSelectionEnabled()&&(je||!ne.panningEnabled()||!ne.userPanningEnabled()))gt();else if(!t.hoverData.selecting&&ne.panningEnabled()&&ne.userPanningEnabled()){var rt=a(Ie,t.hoverData.downs);rt&&(t.hoverData.dragging=!0,t.hoverData.justStartedPan=!0,Ce[4]=0,t.data.bgActivePosistion=d0(ve),t.redrawHint("select",!0),t.redraw())}Ie&&Ie.pannable()&&Ie.active()&&Ie.unactivate()}}else{if(Ie&&Ie.pannable()&&Ie.active()&&Ie.unactivate(),(!Ie||!Ie.grabbed())&&Ne!=Se&&(Se&&n(Se,["mouseout","tapdragout"],X,{x:ge[0],y:ge[1]}),Ne&&n(Ne,["mouseover","tapdragover"],X,{x:ge[0],y:ge[1]}),t.hoverData.last=Ne),Ie)if(De){if(ne.boxSelectionEnabled()&&je)Ie&&Ie.grabbed()&&(y(qe),Ie.emit("freeon"),qe.emit("free"),t.dragData.didDrag&&(Ie.emit("dragfreeon"),qe.emit("dragfree"))),gt();else if(Ie&&Ie.grabbed()&&t.nodeIsDraggable(Ie)){var Ge=!t.dragData.didDrag;Ge&&t.redrawHint("eles",!0),t.dragData.didDrag=!0,t.hoverData.draggingEles||g(qe,{inDragLayer:!0});var ct={x:0,y:0};if(mt(Ae[0])&&mt(Ae[1])&&(ct.x+=Ae[0],ct.y+=Ae[1],Ge)){var Dt=t.hoverData.dragDelta;Dt&&mt(Dt[0])&&mt(Dt[1])&&(ct.x+=Dt[0],ct.y+=Dt[1])}t.hoverData.draggingEles=!0,qe.silentShift(ct).emit("position drag"),t.redrawHint("drag",!0),t.redraw()}}else Ye();me=!0}if(Ce[2]=ge[0],Ce[3]=ge[1],me)return X.stopPropagation&&X.stopPropagation(),X.preventDefault&&X.preventDefault(),!1}},!1);var L,A,N;t.registerBinding(e,"mouseup",function(X){if(!(t.hoverData.which===1&&X.which!==1&&t.hoverData.capture)){var oe=t.hoverData.capture;if(oe){t.hoverData.capture=!1;var me=t.cy,ne=t.projectIntoViewport(X.clientX,X.clientY),ue=t.selection,pe=t.findNearestElement(ne[0],ne[1],!0,!1),ge=t.dragData.possibleDragElements,ve=t.hoverData.down,Ee=i(X);if(t.data.bgActivePosistion&&(t.redrawHint("select",!0),t.redraw()),t.hoverData.tapholdCancelled=!0,t.data.bgActivePosistion=void 0,ve&&ve.unactivate(),t.hoverData.which===3){var Ce={originalEvent:X,type:"cxttapend",position:{x:ne[0],y:ne[1]}};if(ve?ve.emit(Ce):me.emit(Ce),!t.hoverData.cxtDragged){var Ne={originalEvent:X,type:"cxttap",position:{x:ne[0],y:ne[1]}};ve?ve.emit(Ne):me.emit(Ne)}t.hoverData.cxtDragged=!1,t.hoverData.which=null}else if(t.hoverData.which===1){if(n(pe,["mouseup","tapend","vmouseup"],X,{x:ne[0],y:ne[1]}),!t.dragData.didDrag&&!t.hoverData.dragged&&!t.hoverData.selecting&&!t.hoverData.isOverThresholdDrag&&(n(ve,["click","tap","vclick"],X,{x:ne[0],y:ne[1]}),A=!1,X.timeStamp-N<=me.multiClickDebounceTime()?(L&&clearTimeout(L),A=!0,N=null,n(ve,["dblclick","dbltap","vdblclick"],X,{x:ne[0],y:ne[1]})):(L=setTimeout(function(){A||n(ve,["oneclick","onetap","voneclick"],X,{x:ne[0],y:ne[1]})},me.multiClickDebounceTime()),N=X.timeStamp)),ve==null&&!t.dragData.didDrag&&!t.hoverData.selecting&&!t.hoverData.dragged&&!i(X)&&(me.$(r).unselect(["tapunselect"]),ge.length>0&&t.redrawHint("eles",!0),t.dragData.possibleDragElements=ge=me.collection()),pe==ve&&!t.dragData.didDrag&&!t.hoverData.selecting&&pe!=null&&pe._private.selectable&&(t.hoverData.dragging||(me.selectionType()==="additive"||Ee?pe.selected()?pe.unselect(["tapunselect"]):pe.select(["tapselect"]):Ee||(me.$(r).unmerge(pe).unselect(["tapunselect"]),pe.select(["tapselect"]))),t.redrawHint("eles",!0)),t.hoverData.selecting){var Se=me.collection(t.getAllInBox(ue[0],ue[1],ue[2],ue[3]));t.redrawHint("select",!0),Se.length>0&&t.redrawHint("eles",!0),me.emit({type:"boxend",originalEvent:X,position:{x:ne[0],y:ne[1]}});var Ie=function(De){return De.selectable()&&!De.selected()};me.selectionType()==="additive"||Ee||me.$(r).unmerge(Se).unselect(),Se.emit("box").stdFilter(Ie).select().emit("boxselect"),t.redraw()}if(t.hoverData.dragging&&(t.hoverData.dragging=!1,t.redrawHint("select",!0),t.redrawHint("eles",!0),t.redraw()),!ue[4]){t.redrawHint("drag",!0),t.redrawHint("eles",!0);var Ae=ve&&ve.grabbed();y(ge),Ae&&(ve.emit("freeon"),ge.emit("free"),t.dragData.didDrag&&(ve.emit("dragfreeon"),ge.emit("dragfree")))}}ue[4]=0,t.hoverData.down=null,t.hoverData.cxtStarted=!1,t.hoverData.draggingEles=!1,t.hoverData.selecting=!1,t.hoverData.isOverThresholdDrag=!1,t.dragData.didDrag=!1,t.hoverData.dragged=!1,t.hoverData.dragDelta=[],t.hoverData.mdownPos=null,t.hoverData.mdownGPos=null,t.hoverData.which=null}}},!1);var F=function(X){if(!t.scrollingPage){var oe=t.cy,me=oe.zoom(),ne=oe.pan(),ue=t.projectIntoViewport(X.clientX,X.clientY),pe=[ue[0]*me+ne.x,ue[1]*me+ne.y];if(t.hoverData.draggingEles||t.hoverData.dragging||t.hoverData.cxtStarted||R()){X.preventDefault();return}if(oe.panningEnabled()&&oe.userPanningEnabled()&&oe.zoomingEnabled()&&oe.userZoomingEnabled()){X.preventDefault(),t.data.wheelZooming=!0,clearTimeout(t.data.wheelTimeout),t.data.wheelTimeout=setTimeout(function(){t.data.wheelZooming=!1,t.redrawHint("eles",!0),t.redraw()},150);var ge;X.deltaY!=null?ge=X.deltaY/-250:X.wheelDeltaY!=null?ge=X.wheelDeltaY/1e3:ge=X.wheelDelta/1e3,ge=ge*t.wheelSensitivity;var ve=X.deltaMode===1;ve&&(ge*=33);var Ee=oe.zoom()*Math.pow(10,ge);X.type==="gesturechange"&&(Ee=t.gestureStartZoom*X.scale),oe.zoom({level:Ee,renderedPosition:{x:pe[0],y:pe[1]}}),oe.emit(X.type==="gesturechange"?"pinchzoom":"scrollzoom")}}};t.registerBinding(t.container,"wheel",F,!0),t.registerBinding(e,"scroll",function(X){t.scrollingPage=!0,clearTimeout(t.scrollingPageTimeout),t.scrollingPageTimeout=setTimeout(function(){t.scrollingPage=!1},250)},!0),t.registerBinding(t.container,"gesturestart",function(X){t.gestureStartZoom=t.cy.zoom(),t.hasTouchStarted||X.preventDefault()},!0),t.registerBinding(t.container,"gesturechange",function(de){t.hasTouchStarted||F(de)},!0),t.registerBinding(t.container,"mouseout",function(X){var oe=t.projectIntoViewport(X.clientX,X.clientY);t.cy.emit({originalEvent:X,type:"mouseout",position:{x:oe[0],y:oe[1]}})},!1),t.registerBinding(t.container,"mouseover",function(X){var oe=t.projectIntoViewport(X.clientX,X.clientY);t.cy.emit({originalEvent:X,type:"mouseover",position:{x:oe[0],y:oe[1]}})},!1);var T,D,M,O,I,P,B,$,V,W,K,Z,H,ee=function(X,oe,me,ne){return Math.sqrt((me-X)*(me-X)+(ne-oe)*(ne-oe))},te=function(X,oe,me,ne){return(me-X)*(me-X)+(ne-oe)*(ne-oe)},U;t.registerBinding(t.container,"touchstart",U=function(X){if(t.hasTouchStarted=!0,!!C(X)){x(),t.touchData.capture=!0,t.data.bgActivePosistion=void 0;var oe=t.cy,me=t.touchData.now,ne=t.touchData.earlier;if(X.touches[0]){var ue=t.projectIntoViewport(X.touches[0].clientX,X.touches[0].clientY);me[0]=ue[0],me[1]=ue[1]}if(X.touches[1]){var ue=t.projectIntoViewport(X.touches[1].clientX,X.touches[1].clientY);me[2]=ue[0],me[3]=ue[1]}if(X.touches[2]){var ue=t.projectIntoViewport(X.touches[2].clientX,X.touches[2].clientY);me[4]=ue[0],me[5]=ue[1]}if(X.touches[1]){t.touchData.singleTouchMoved=!0,y(t.dragData.touchDragEles);var pe=t.findContainerClientCoords();V=pe[0],W=pe[1],K=pe[2],Z=pe[3],T=X.touches[0].clientX-V,D=X.touches[0].clientY-W,M=X.touches[1].clientX-V,O=X.touches[1].clientY-W,H=0<=T&&T<=K&&0<=M&&M<=K&&0<=D&&D<=Z&&0<=O&&O<=Z;var ge=oe.pan(),ve=oe.zoom();I=ee(T,D,M,O),P=te(T,D,M,O),B=[(T+M)/2,(D+O)/2],$=[(B[0]-ge.x)/ve,(B[1]-ge.y)/ve];var Ee=200,Ce=Ee*Ee;if(P<Ce&&!X.touches[2]){var Ne=t.findNearestElement(me[0],me[1],!0,!0),Se=t.findNearestElement(me[2],me[3],!0,!0);Ne&&Ne.isNode()?(Ne.activate().emit({originalEvent:X,type:"cxttapstart",position:{x:me[0],y:me[1]}}),t.touchData.start=Ne):Se&&Se.isNode()?(Se.activate().emit({originalEvent:X,type:"cxttapstart",position:{x:me[0],y:me[1]}}),t.touchData.start=Se):oe.emit({originalEvent:X,type:"cxttapstart",position:{x:me[0],y:me[1]}}),t.touchData.start&&(t.touchData.start._private.grabbed=!1),t.touchData.cxt=!0,t.touchData.cxtDragged=!1,t.data.bgActivePosistion=void 0,t.redraw();return}}if(X.touches[2])oe.boxSelectionEnabled()&&X.preventDefault();else if(!X.touches[1]){if(X.touches[0]){var Ie=t.findNearestElements(me[0],me[1],!0,!0),Ae=Ie[0];if(Ae!=null&&(Ae.activate(),t.touchData.start=Ae,t.touchData.starts=Ie,t.nodeIsGrabbable(Ae))){var qe=t.dragData.touchDragEles=oe.collection(),De=null;t.redrawHint("eles",!0),t.redrawHint("drag",!0),Ae.selected()?(De=oe.$(function(kt){return kt.selected()&&t.nodeIsGrabbable(kt)}),g(De,{addToList:qe})):m(Ae,{addToList:qe}),h(Ae);var Xe=function(je){return{originalEvent:X,type:je,position:{x:me[0],y:me[1]}}};Ae.emit(Xe("grabon")),De?De.forEach(function(kt){kt.emit(Xe("grab"))}):Ae.emit(Xe("grab"))}n(Ae,["touchstart","tapstart","vmousedown"],X,{x:me[0],y:me[1]}),Ae==null&&(t.data.bgActivePosistion={x:ue[0],y:ue[1]},t.redrawHint("select",!0),t.redraw()),t.touchData.singleTouchMoved=!1,t.touchData.singleTouchStartTime=+new Date,clearTimeout(t.touchData.tapholdTimeout),t.touchData.tapholdTimeout=setTimeout(function(){t.touchData.singleTouchMoved===!1&&!t.pinching&&!t.touchData.selecting&&n(t.touchData.start,["taphold"],X,{x:me[0],y:me[1]})},t.tapholdDuration)}}if(X.touches.length>=1){for(var at=t.touchData.startPosition=[null,null,null,null,null,null],dt=0;dt<me.length;dt++)at[dt]=ne[dt]=me[dt];var ut=X.touches[0];t.touchData.startGPosition=[ut.clientX,ut.clientY]}}},!1);var j;t.registerBinding(e,"touchmove",j=function(X){var oe=t.touchData.capture;if(!(!oe&&!C(X))){var me=t.selection,ne=t.cy,ue=t.touchData.now,pe=t.touchData.earlier,ge=ne.zoom();if(X.touches[0]){var ve=t.projectIntoViewport(X.touches[0].clientX,X.touches[0].clientY);ue[0]=ve[0],ue[1]=ve[1]}if(X.touches[1]){var ve=t.projectIntoViewport(X.touches[1].clientX,X.touches[1].clientY);ue[2]=ve[0],ue[3]=ve[1]}if(X.touches[2]){var ve=t.projectIntoViewport(X.touches[2].clientX,X.touches[2].clientY);ue[4]=ve[0],ue[5]=ve[1]}var Ee=t.touchData.startGPosition,Ce;if(oe&&X.touches[0]&&Ee){for(var Ne=[],Se=0;Se<ue.length;Se++)Ne[Se]=ue[Se]-pe[Se];var Ie=X.touches[0].clientX-Ee[0],Ae=Ie*Ie,qe=X.touches[0].clientY-Ee[1],De=qe*qe,Xe=Ae+De;Ce=Xe>=t.touchTapThreshold2}if(oe&&t.touchData.cxt){X.preventDefault();var at=X.touches[0].clientX-V,dt=X.touches[0].clientY-W,ut=X.touches[1].clientX-V,kt=X.touches[1].clientY-W,je=te(at,dt,ut,kt),Ye=je/P,gt=150,We=gt*gt,tt=1.5,Ft=tt*tt;if(Ye>=Ft||je>=We){t.touchData.cxt=!1,t.data.bgActivePosistion=void 0,t.redrawHint("select",!0);var rt={originalEvent:X,type:"cxttapend",position:{x:ue[0],y:ue[1]}};t.touchData.start?(t.touchData.start.unactivate().emit(rt),t.touchData.start=null):ne.emit(rt)}}if(oe&&t.touchData.cxt){var rt={originalEvent:X,type:"cxtdrag",position:{x:ue[0],y:ue[1]}};t.data.bgActivePosistion=void 0,t.redrawHint("select",!0),t.touchData.start?t.touchData.start.emit(rt):ne.emit(rt),t.touchData.start&&(t.touchData.start._private.grabbed=!1),t.touchData.cxtDragged=!0;var Ge=t.findNearestElement(ue[0],ue[1],!0,!0);(!t.touchData.cxtOver||Ge!==t.touchData.cxtOver)&&(t.touchData.cxtOver&&t.touchData.cxtOver.emit({originalEvent:X,type:"cxtdragout",position:{x:ue[0],y:ue[1]}}),t.touchData.cxtOver=Ge,Ge&&Ge.emit({originalEvent:X,type:"cxtdragover",position:{x:ue[0],y:ue[1]}}))}else if(oe&&X.touches[2]&&ne.boxSelectionEnabled())X.preventDefault(),t.data.bgActivePosistion=void 0,this.lastThreeTouch=+new Date,t.touchData.selecting||ne.emit({originalEvent:X,type:"boxstart",position:{x:ue[0],y:ue[1]}}),t.touchData.selecting=!0,t.touchData.didSelect=!0,me[4]=1,!me||me.length===0||me[0]===void 0?(me[0]=(ue[0]+ue[2]+ue[4])/3,me[1]=(ue[1]+ue[3]+ue[5])/3,me[2]=(ue[0]+ue[2]+ue[4])/3+1,me[3]=(ue[1]+ue[3]+ue[5])/3+1):(me[2]=(ue[0]+ue[2]+ue[4])/3,me[3]=(ue[1]+ue[3]+ue[5])/3),t.redrawHint("select",!0),t.redraw();else if(oe&&X.touches[1]&&!t.touchData.didSelect&&ne.zoomingEnabled()&&ne.panningEnabled()&&ne.userZoomingEnabled()&&ne.userPanningEnabled()){X.preventDefault(),t.data.bgActivePosistion=void 0,t.redrawHint("select",!0);var ct=t.dragData.touchDragEles;if(ct){t.redrawHint("drag",!0);for(var Dt=0;Dt<ct.length;Dt++){var Vt=ct[Dt]._private;Vt.grabbed=!1,Vt.rscratch.inDragLayer=!1}}var tr=t.touchData.start,at=X.touches[0].clientX-V,dt=X.touches[0].clientY-W,ut=X.touches[1].clientX-V,kt=X.touches[1].clientY-W,Nr=ee(at,dt,ut,kt),ur=Nr/I;if(H){var Pn=at-T,Hr=dt-D,an=ut-M,pr=kt-O,Fn=(Pn+an)/2,bt=(Hr+pr)/2,Le=ne.zoom(),Qe=Le*ur,Tt=ne.pan(),nr=$[0]*Le+Tt.x,Qr=$[1]*Le+Tt.y,sn={x:-Qe/Le*(nr-Tt.x-Fn)+nr,y:-Qe/Le*(Qr-Tt.y-bt)+Qr};if(tr&&tr.active()){var ct=t.dragData.touchDragEles;y(ct),t.redrawHint("drag",!0),t.redrawHint("eles",!0),tr.unactivate().emit("freeon"),ct.emit("free"),t.dragData.didDrag&&(tr.emit("dragfreeon"),ct.emit("dragfree"))}ne.viewport({zoom:Qe,pan:sn,cancelOnFailedZoom:!0}),ne.emit("pinchzoom"),I=Nr,T=at,D=dt,M=ut,O=kt,t.pinching=!0}if(X.touches[0]){var ve=t.projectIntoViewport(X.touches[0].clientX,X.touches[0].clientY);ue[0]=ve[0],ue[1]=ve[1]}if(X.touches[1]){var ve=t.projectIntoViewport(X.touches[1].clientX,X.touches[1].clientY);ue[2]=ve[0],ue[3]=ve[1]}if(X.touches[2]){var ve=t.projectIntoViewport(X.touches[2].clientX,X.touches[2].clientY);ue[4]=ve[0],ue[5]=ve[1]}}else if(X.touches[0]&&!t.touchData.didSelect){var xr=t.touchData.start,Wr=t.touchData.last,Ge;if(!t.hoverData.draggingEles&&!t.swipePanning&&(Ge=t.findNearestElement(ue[0],ue[1],!0,!0)),oe&&xr!=null&&X.preventDefault(),oe&&xr!=null&&t.nodeIsDraggable(xr))if(Ce){var ct=t.dragData.touchDragEles,Et=!t.dragData.didDrag;Et&&g(ct,{inDragLayer:!0}),t.dragData.didDrag=!0;var xt={x:0,y:0};if(mt(Ne[0])&&mt(Ne[1])&&(xt.x+=Ne[0],xt.y+=Ne[1],Et)){t.redrawHint("eles",!0);var _t=t.touchData.dragDelta;_t&&mt(_t[0])&&mt(_t[1])&&(xt.x+=_t[0],xt.y+=_t[1])}t.hoverData.draggingEles=!0,ct.silentShift(xt).emit("position drag"),t.redrawHint("drag",!0),t.touchData.startPosition[0]==pe[0]&&t.touchData.startPosition[1]==pe[1]&&t.redrawHint("eles",!0),t.redraw()}else{var _t=t.touchData.dragDelta=t.touchData.dragDelta||[];_t.length===0?(_t.push(Ne[0]),_t.push(Ne[1])):(_t[0]+=Ne[0],_t[1]+=Ne[1])}if(n(xr||Ge,["touchmove","tapdrag","vmousemove"],X,{x:ue[0],y:ue[1]}),(!xr||!xr.grabbed())&&Ge!=Wr&&(Wr&&Wr.emit({originalEvent:X,type:"tapdragout",position:{x:ue[0],y:ue[1]}}),Ge&&Ge.emit({originalEvent:X,type:"tapdragover",position:{x:ue[0],y:ue[1]}})),t.touchData.last=Ge,oe)for(var Dt=0;Dt<ue.length;Dt++)ue[Dt]&&t.touchData.startPosition[Dt]&&Ce&&(t.touchData.singleTouchMoved=!0);if(oe&&(xr==null||xr.pannable())&&ne.panningEnabled()&&ne.userPanningEnabled()){var ot=a(xr,t.touchData.starts);ot&&(X.preventDefault(),t.data.bgActivePosistion||(t.data.bgActivePosistion=d0(t.touchData.startPosition)),t.swipePanning?(ne.panBy({x:Ne[0]*ge,y:Ne[1]*ge}),ne.emit("dragpan")):Ce&&(t.swipePanning=!0,ne.panBy({x:Ie*ge,y:qe*ge}),ne.emit("dragpan"),xr&&(xr.unactivate(),t.redrawHint("select",!0),t.touchData.start=null)));var ve=t.projectIntoViewport(X.touches[0].clientX,X.touches[0].clientY);ue[0]=ve[0],ue[1]=ve[1]}}for(var Se=0;Se<ue.length;Se++)pe[Se]=ue[Se];oe&&X.touches.length>0&&!t.hoverData.draggingEles&&!t.swipePanning&&t.data.bgActivePosistion!=null&&(t.data.bgActivePosistion=void 0,t.redrawHint("select",!0),t.redraw())}},!1);var Y;t.registerBinding(e,"touchcancel",Y=function(X){var oe=t.touchData.start;t.touchData.capture=!1,oe&&oe.unactivate()});var Q,ae,ie,J;if(t.registerBinding(e,"touchend",Q=function(X){var oe=t.touchData.start,me=t.touchData.capture;if(me)X.touches.length===0&&(t.touchData.capture=!1),X.preventDefault();else return;var ne=t.selection;t.swipePanning=!1,t.hoverData.draggingEles=!1;var ue=t.cy,pe=ue.zoom(),ge=t.touchData.now,ve=t.touchData.earlier;if(X.touches[0]){var Ee=t.projectIntoViewport(X.touches[0].clientX,X.touches[0].clientY);ge[0]=Ee[0],ge[1]=Ee[1]}if(X.touches[1]){var Ee=t.projectIntoViewport(X.touches[1].clientX,X.touches[1].clientY);ge[2]=Ee[0],ge[3]=Ee[1]}if(X.touches[2]){var Ee=t.projectIntoViewport(X.touches[2].clientX,X.touches[2].clientY);ge[4]=Ee[0],ge[5]=Ee[1]}oe&&oe.unactivate();var Ce;if(t.touchData.cxt){if(Ce={originalEvent:X,type:"cxttapend",position:{x:ge[0],y:ge[1]}},oe?oe.emit(Ce):ue.emit(Ce),!t.touchData.cxtDragged){var Ne={originalEvent:X,type:"cxttap",position:{x:ge[0],y:ge[1]}};oe?oe.emit(Ne):ue.emit(Ne)}t.touchData.start&&(t.touchData.start._private.grabbed=!1),t.touchData.cxt=!1,t.touchData.start=null,t.redraw();return}if(!X.touches[2]&&ue.boxSelectionEnabled()&&t.touchData.selecting){t.touchData.selecting=!1;var Se=ue.collection(t.getAllInBox(ne[0],ne[1],ne[2],ne[3]));ne[0]=void 0,ne[1]=void 0,ne[2]=void 0,ne[3]=void 0,ne[4]=0,t.redrawHint("select",!0),ue.emit({type:"boxend",originalEvent:X,position:{x:ge[0],y:ge[1]}});var Ie=function(We){return We.selectable()&&!We.selected()};Se.emit("box").stdFilter(Ie).select().emit("boxselect"),Se.nonempty()&&t.redrawHint("eles",!0),t.redraw()}if(oe!=null&&oe.unactivate(),X.touches[2])t.data.bgActivePosistion=void 0,t.redrawHint("select",!0);else if(!X.touches[1]){if(!X.touches[0]){if(!X.touches[0]){t.data.bgActivePosistion=void 0,t.redrawHint("select",!0);var Ae=t.dragData.touchDragEles;if(oe!=null){var qe=oe._private.grabbed;y(Ae),t.redrawHint("drag",!0),t.redrawHint("eles",!0),qe&&(oe.emit("freeon"),Ae.emit("free"),t.dragData.didDrag&&(oe.emit("dragfreeon"),Ae.emit("dragfree"))),n(oe,["touchend","tapend","vmouseup","tapdragout"],X,{x:ge[0],y:ge[1]}),oe.unactivate(),t.touchData.start=null}else{var De=t.findNearestElement(ge[0],ge[1],!0,!0);n(De,["touchend","tapend","vmouseup","tapdragout"],X,{x:ge[0],y:ge[1]})}var Xe=t.touchData.startPosition[0]-ge[0],at=Xe*Xe,dt=t.touchData.startPosition[1]-ge[1],ut=dt*dt,kt=at+ut,je=kt*pe*pe;t.touchData.singleTouchMoved||(oe||ue.$(":selected").unselect(["tapunselect"]),n(oe,["tap","vclick"],X,{x:ge[0],y:ge[1]}),ae=!1,X.timeStamp-J<=ue.multiClickDebounceTime()?(ie&&clearTimeout(ie),ae=!0,J=null,n(oe,["dbltap","vdblclick"],X,{x:ge[0],y:ge[1]})):(ie=setTimeout(function(){ae||n(oe,["onetap","voneclick"],X,{x:ge[0],y:ge[1]})},ue.multiClickDebounceTime()),J=X.timeStamp)),oe!=null&&!t.dragData.didDrag&&oe._private.selectable&&je<t.touchTapThreshold2&&!t.pinching&&(ue.selectionType()==="single"?(ue.$(r).unmerge(oe).unselect(["tapunselect"]),oe.select(["tapselect"])):oe.selected()?oe.unselect(["tapunselect"]):oe.select(["tapselect"]),t.redrawHint("eles",!0)),t.touchData.singleTouchMoved=!0}}}for(var Ye=0;Ye<ge.length;Ye++)ve[Ye]=ge[Ye];t.dragData.didDrag=!1,X.touches.length===0&&(t.touchData.dragDelta=[],t.touchData.startPosition=[null,null,null,null,null,null],t.touchData.startGPosition=null,t.touchData.didSelect=!1),X.touches.length<2&&(X.touches.length===1&&(t.touchData.startGPosition=[X.touches[0].clientX,X.touches[0].clientY]),t.pinching=!1,t.redrawHint("eles",!0),t.redraw())},!1),typeof TouchEvent>"u"){var _e=[],ce=function(X){return{clientX:X.clientX,clientY:X.clientY,force:1,identifier:X.pointerId,pageX:X.pageX,pageY:X.pageY,radiusX:X.width/2,radiusY:X.height/2,screenX:X.screenX,screenY:X.screenY,target:X.target}},Te=function(X){return{event:X,touch:ce(X)}},be=function(X){_e.push(Te(X))},Ue=function(X){for(var oe=0;oe<_e.length;oe++){var me=_e[oe];if(me.event.pointerId===X.pointerId){_e.splice(oe,1);return}}},He=function(X){var oe=_e.filter(function(me){return me.event.pointerId===X.pointerId})[0];oe.event=X,oe.touch=ce(X)},Ve=function(X){X.touches=_e.map(function(oe){return oe.touch})},Re=function(X){return X.pointerType==="mouse"||X.pointerType===4};t.registerBinding(t.container,"pointerdown",function(de){Re(de)||(de.preventDefault(),be(de),Ve(de),U(de))}),t.registerBinding(t.container,"pointerup",function(de){Re(de)||(Ue(de),Ve(de),Q(de))}),t.registerBinding(t.container,"pointercancel",function(de){Re(de)||(Ue(de),Ve(de),Y(de))}),t.registerBinding(t.container,"pointermove",function(de){Re(de)||(de.preventDefault(),He(de),Ve(de),j(de))})}};var tu={};tu.generatePolygon=function(t,e){return this.nodeShapes[t]={renderer:this,name:t,points:e,draw:function(n,i,a,s,o,l){this.renderer.nodeShapeImpl("polygon",n,i,a,s,o,this.points)},intersectLine:function(n,i,a,s,o,l,u,h){return ty(o,l,this.points,n,i,a/2,s/2,u)},checkPoint:function(n,i,a,s,o,l,u,h){return Hc(n,i,this.points,l,u,s,o,[0,-1],a)}}};tu.generateEllipse=function(){return this.nodeShapes.ellipse={renderer:this,name:"ellipse",draw:function(e,r,n,i,a,s){this.renderer.nodeShapeImpl(this.name,e,r,n,i,a)},intersectLine:function(e,r,n,i,a,s,o,l){return Pqe(a,s,e,r,n/2+o,i/2+o)},checkPoint:function(e,r,n,i,a,s,o,l){return hd(e,r,i,a,s,o,n)}}};tu.generateRoundPolygon=function(t,e){return this.nodeShapes[t]={renderer:this,name:t,points:e,getOrCreateCorners:function(n,i,a,s,o,l,u){if(l[u]!==void 0&&l[u+"-cx"]===n&&l[u+"-cy"]===i)return l[u];l[u]=new Array(e.length/2),l[u+"-cx"]=n,l[u+"-cy"]=i;var h=a/2,d=s/2;o=o==="auto"?sae(a,s):o;for(var p=new Array(e.length/2),f=0;f<e.length/2;f++)p[f]={x:n+h*e[f*2],y:i+d*e[f*2+1]};var g,m,y,v,x=p.length;for(m=p[x-1],g=0;g<x;g++)y=p[g%x],v=p[(g+1)%x],l[u][g]=PN(m,y,v,o),m=y,y=v;return l[u]},draw:function(n,i,a,s,o,l,u){this.renderer.nodeShapeImpl("round-polygon",n,i,a,s,o,this.points,this.getOrCreateCorners(i,a,s,o,l,u,"drawCorners"))},intersectLine:function(n,i,a,s,o,l,u,h,d){return Fqe(o,l,this.points,n,i,a,s,u,this.getOrCreateCorners(n,i,a,s,h,d,"corners"))},checkPoint:function(n,i,a,s,o,l,u,h,d){return Oqe(n,i,this.points,l,u,s,o,this.getOrCreateCorners(l,u,s,o,h,d,"corners"))}}};tu.generateRoundRectangle=function(){return this.nodeShapes["round-rectangle"]=this.nodeShapes.roundrectangle={renderer:this,name:"round-rectangle",points:Aa(4,0),draw:function(e,r,n,i,a,s){this.renderer.nodeShapeImpl(this.name,e,r,n,i,a,this.points,s)},intersectLine:function(e,r,n,i,a,s,o,l){return iae(a,s,e,r,n,i,o,l)},checkPoint:function(e,r,n,i,a,s,o,l){var u=i/2,h=a/2;l=l==="auto"?Jd(i,a):l,l=Math.min(u,h,l);var d=l*2;return!!(Hc(e,r,this.points,s,o,i,a-d,[0,-1],n)||Hc(e,r,this.points,s,o,i-d,a,[0,-1],n)||hd(e,r,d,d,s-u+l,o-h+l,n)||hd(e,r,d,d,s+u-l,o-h+l,n)||hd(e,r,d,d,s+u-l,o+h-l,n)||hd(e,r,d,d,s-u+l,o+h-l,n))}}};tu.generateCutRectangle=function(){return this.nodeShapes["cut-rectangle"]=this.nodeShapes.cutrectangle={renderer:this,name:"cut-rectangle",cornerLength:EN(),points:Aa(4,0),draw:function(e,r,n,i,a,s){this.renderer.nodeShapeImpl(this.name,e,r,n,i,a,null,s)},generateCutTrianglePts:function(e,r,n,i,a){var s=a==="auto"?this.cornerLength:a,o=r/2,l=e/2,u=n-l,h=n+l,d=i-o,p=i+o;return{topLeft:[u,d+s,u+s,d,u+s,d+s],topRight:[h-s,d,h,d+s,h-s,d+s],bottomRight:[h,p-s,h-s,p,h-s,p-s],bottomLeft:[u+s,p,u,p-s,u+s,p-s]}},intersectLine:function(e,r,n,i,a,s,o,l){var u=this.generateCutTrianglePts(n+2*o,i+2*o,e,r,l),h=[].concat.apply([],[u.topLeft.splice(0,4),u.topRight.splice(0,4),u.bottomRight.splice(0,4),u.bottomLeft.splice(0,4)]);return ty(a,s,h,e,r)},checkPoint:function(e,r,n,i,a,s,o,l){var u=l==="auto"?this.cornerLength:l;if(Hc(e,r,this.points,s,o,i,a-2*u,[0,-1],n)||Hc(e,r,this.points,s,o,i-2*u,a,[0,-1],n))return!0;var h=this.generateCutTrianglePts(i,a,s,o);return Qa(e,r,h.topLeft)||Qa(e,r,h.topRight)||Qa(e,r,h.bottomRight)||Qa(e,r,h.bottomLeft)}}};tu.generateBarrel=function(){return this.nodeShapes.barrel={renderer:this,name:"barrel",points:Aa(4,0),draw:function(e,r,n,i,a,s){this.renderer.nodeShapeImpl(this.name,e,r,n,i,a)},intersectLine:function(e,r,n,i,a,s,o,l){var u=.15,h=.5,d=.85,p=this.generateBarrelBezierPts(n+2*o,i+2*o,e,r),f=function(y){var v=D0({x:y[0],y:y[1]},{x:y[2],y:y[3]},{x:y[4],y:y[5]},u),x=D0({x:y[0],y:y[1]},{x:y[2],y:y[3]},{x:y[4],y:y[5]},h),w=D0({x:y[0],y:y[1]},{x:y[2],y:y[3]},{x:y[4],y:y[5]},d);return[y[0],y[1],v.x,v.y,x.x,x.y,w.x,w.y,y[4],y[5]]},g=[].concat(f(p.topLeft),f(p.topRight),f(p.bottomRight),f(p.bottomLeft));return ty(a,s,g,e,r)},generateBarrelBezierPts:function(e,r,n,i){var a=r/2,s=e/2,o=n-s,l=n+s,u=i-a,h=i+a,d=g8(e,r),p=d.heightOffset,f=d.widthOffset,g=d.ctrlPtOffsetPct*e,m={topLeft:[o,u+p,o+g,u,o+f,u],topRight:[l-f,u,l-g,u,l,u+p],bottomRight:[l,h-p,l-g,h,l-f,h],bottomLeft:[o+f,h,o+g,h,o,h-p]};return m.topLeft.isTop=!0,m.topRight.isTop=!0,m.bottomLeft.isBottom=!0,m.bottomRight.isBottom=!0,m},checkPoint:function(e,r,n,i,a,s,o,l){var u=g8(i,a),h=u.heightOffset,d=u.widthOffset;if(Hc(e,r,this.points,s,o,i,a-2*h,[0,-1],n)||Hc(e,r,this.points,s,o,i-2*d,a,[0,-1],n))return!0;for(var p=this.generateBarrelBezierPts(i,a,s,o),f=function(R,C,L){var A=L[4],N=L[2],F=L[0],T=L[5],D=L[1],M=Math.min(A,F),O=Math.max(A,F),I=Math.min(T,D),P=Math.max(T,D);if(M<=R&&R<=O&&I<=C&&C<=P){var B=Bqe(A,N,F),$=Rqe(B[0],B[1],B[2],R),V=$.filter(function(W){return 0<=W&&W<=1});if(V.length>0)return V[0]}return null},g=Object.keys(p),m=0;m<g.length;m++){var y=g[m],v=p[y],x=f(e,r,v);if(x!=null){var w=v[5],k=v[3],E=v[1],_=Ti(w,k,E,x);if(v.isTop&&_<=r||v.isBottom&&r<=_)return!0}}return!1}}};tu.generateBottomRoundrectangle=function(){return this.nodeShapes["bottom-round-rectangle"]=this.nodeShapes.bottomroundrectangle={renderer:this,name:"bottom-round-rectangle",points:Aa(4,0),draw:function(e,r,n,i,a,s){this.renderer.nodeShapeImpl(this.name,e,r,n,i,a,this.points,s)},intersectLine:function(e,r,n,i,a,s,o,l){var u=e-(n/2+o),h=r-(i/2+o),d=h,p=e+(n/2+o),f=Ru(a,s,e,r,u,h,p,d,!1);return f.length>0?f:iae(a,s,e,r,n,i,o,l)},checkPoint:function(e,r,n,i,a,s,o,l){l=l==="auto"?Jd(i,a):l;var u=2*l;if(Hc(e,r,this.points,s,o,i,a-u,[0,-1],n)||Hc(e,r,this.points,s,o,i-u,a,[0,-1],n))return!0;var h=i/2+2*n,d=a/2+2*n,p=[s-h,o-d,s-h,o,s+h,o,s+h,o-d];return!!(Qa(e,r,p)||hd(e,r,u,u,s+i/2-l,o+a/2-l,n)||hd(e,r,u,u,s-i/2+l,o+a/2-l,n))}}};tu.registerNodeShapes=function(){var t=this.nodeShapes={},e=this;this.generateEllipse(),this.generatePolygon("triangle",Aa(3,0)),this.generateRoundPolygon("round-triangle",Aa(3,0)),this.generatePolygon("rectangle",Aa(4,0)),t.square=t.rectangle,this.generateRoundRectangle(),this.generateCutRectangle(),this.generateBarrel(),this.generateBottomRoundrectangle();{var r=[0,1,1,0,0,-1,-1,0];this.generatePolygon("diamond",r),this.generateRoundPolygon("round-diamond",r)}this.generatePolygon("pentagon",Aa(5,0)),this.generateRoundPolygon("round-pentagon",Aa(5,0)),this.generatePolygon("hexagon",Aa(6,0)),this.generateRoundPolygon("round-hexagon",Aa(6,0)),this.generatePolygon("heptagon",Aa(7,0)),this.generateRoundPolygon("round-heptagon",Aa(7,0)),this.generatePolygon("octagon",Aa(8,0)),this.generateRoundPolygon("round-octagon",Aa(8,0));var n=new Array(20);{var i=p8(5,0),a=p8(5,Math.PI/5),s=.5*(3-Math.sqrt(5));s*=1.57;for(var o=0;o<a.length/2;o++)a[o*2]*=s,a[o*2+1]*=s;for(var o=0;o<20/4;o++)n[o*4]=i[o*2],n[o*4+1]=i[o*2+1],n[o*4+2]=a[o*2],n[o*4+3]=a[o*2+1]}n=aae(n),this.generatePolygon("star",n),this.generatePolygon("vee",[-1,-1,0,-.333,1,-1,0,1]),this.generatePolygon("rhomboid",[-1,-1,.333,-1,1,1,-.333,1]),this.generatePolygon("right-rhomboid",[-.333,-1,1,-1,.333,1,-1,1]),this.nodeShapes.concavehexagon=this.generatePolygon("concave-hexagon",[-1,-.95,-.75,0,-1,.95,1,.95,.75,0,1,-.95]);{var l=[-1,-1,.25,-1,1,0,.25,1,-1,1];this.generatePolygon("tag",l),this.generateRoundPolygon("round-tag",l)}t.makePolygon=function(u){var h=u.join("$"),d="polygon-"+h,p;return(p=this[d])?p:e.generatePolygon(d,u)}};var h2={};h2.timeToRender=function(){return this.redrawTotalTime/this.redrawCount};h2.redraw=function(t){t=t||Jie();var e=this;e.averageRedrawTime===void 0&&(e.averageRedrawTime=0),e.lastRedrawTime===void 0&&(e.lastRedrawTime=0),e.lastDrawTime===void 0&&(e.lastDrawTime=0),e.requestedFrame=!0,e.renderOptions=t};h2.beforeRender=function(t,e){if(!this.destroyed){e==null&&In("Priority is not optional for beforeRender");var r=this.beforeRenderCallbacks;r.push({fn:t,priority:e}),r.sort(function(n,i){return i.priority-n.priority})}};var K$=function(e,r,n){for(var i=e.beforeRenderCallbacks,a=0;a<i.length;a++)i[a].fn(r,n)};h2.startRenderLoop=function(){var t=this,e=t.cy;if(!t.renderLoopStarted){t.renderLoopStarted=!0;var r=function n(i){if(!t.destroyed){if(!e.batching())if(t.requestedFrame&&!t.skipFrame){K$(t,!0,i);var a=Gc();t.render(t.renderOptions);var s=t.lastDrawTime=Gc();t.averageRedrawTime===void 0&&(t.averageRedrawTime=s-a),t.redrawCount===void 0&&(t.redrawCount=0),t.redrawCount++,t.redrawTotalTime===void 0&&(t.redrawTotalTime=0);var o=s-a;t.redrawTotalTime+=o,t.lastRedrawTime=o,t.averageRedrawTime=t.averageRedrawTime/2+o/2,t.requestedFrame=!1}else K$(t,!1,i);t.skipFrame=!1,y5(n)}};y5(r)}};var xZe=function(e){this.init(e)},ise=xZe,t1=ise.prototype;t1.clientFunctions=["redrawHint","render","renderTo","matchCanvasSize","nodeShapeImpl","arrowShapeImpl"];t1.init=function(t){var e=this;e.options=t,e.cy=t.cy;var r=e.container=t.cy.container(),n=e.cy.window();if(n){var i=n.document,a=i.head,s="__________cytoscape_stylesheet",o="__________cytoscape_container",l=i.getElementById(s)!=null;if(r.className.indexOf(o)<0&&(r.className=(r.className||"")+" "+o),!l){var u=i.createElement("style");u.id=s,u.textContent="."+o+" { position: relative; }",a.insertBefore(u,a.children[0])}var h=n.getComputedStyle(r),d=h.getPropertyValue("position");d==="static"&&Or("A Cytoscape container has style position:static and so can not use UI extensions properly")}e.selection=[void 0,void 0,void 0,void 0,0],e.bezierProjPcts=[.05,.225,.4,.5,.6,.775,.95],e.hoverData={down:null,last:null,downTime:null,triggerMode:null,dragging:!1,initialPan:[null,null],capture:!1},e.dragData={possibleDragElements:[]},e.touchData={start:null,capture:!1,startPosition:[null,null,null,null,null,null],singleTouchStartTime:null,singleTouchMoved:!0,now:[null,null,null,null,null,null],earlier:[null,null,null,null,null,null]},e.redraws=0,e.showFps=t.showFps,e.debug=t.debug,e.hideEdgesOnViewport=t.hideEdgesOnViewport,e.textureOnViewport=t.textureOnViewport,e.wheelSensitivity=t.wheelSensitivity,e.motionBlurEnabled=t.motionBlur,e.forcedPixelRatio=mt(t.pixelRatio)?t.pixelRatio:null,e.motionBlur=t.motionBlur,e.motionBlurOpacity=t.motionBlurOpacity,e.motionBlurTransparency=1-e.motionBlurOpacity,e.motionBlurPxRatio=1,e.mbPxRBlurry=1,e.minMbLowQualFrames=4,e.fullQualityMb=!1,e.clearedForMotionBlur=[],e.desktopTapThreshold=t.desktopTapThreshold,e.desktopTapThreshold2=t.desktopTapThreshold*t.desktopTapThreshold,e.touchTapThreshold=t.touchTapThreshold,e.touchTapThreshold2=t.touchTapThreshold*t.touchTapThreshold,e.tapholdDuration=500,e.bindings=[],e.beforeRenderCallbacks=[],e.beforeRenderPriorities={animations:400,eleCalcs:300,eleTxrDeq:200,lyrTxrDeq:150,lyrTxrSkip:100},e.registerNodeShapes(),e.registerArrowShapes(),e.registerCalculationListeners()};t1.notify=function(t,e){var r=this,n=r.cy;if(!this.destroyed){if(t==="init"){r.load();return}if(t==="destroy"){r.destroy();return}(t==="add"||t==="remove"||t==="move"&&n.hasCompoundNodes()||t==="load"||t==="zorder"||t==="mount")&&r.invalidateCachedZSortedEles(),t==="viewport"&&r.redrawHint("select",!0),(t==="load"||t==="resize"||t==="mount")&&(r.invalidateContainerClientCoordsCache(),r.matchCanvasSize(r.container)),r.redrawHint("eles",!0),r.redrawHint("drag",!0),this.startRenderLoop(),this.redraw()}};t1.destroy=function(){var t=this;t.destroyed=!0,t.cy.stopAnimationLoop();for(var e=0;e<t.bindings.length;e++){var r=t.bindings[e],n=r,i=n.target;(i.off||i.removeEventListener).apply(i,n.args)}if(t.bindings=[],t.beforeRenderCallbacks=[],t.onUpdateEleCalcsFns=[],t.removeObserver&&t.removeObserver.disconnect(),t.styleObserver&&t.styleObserver.disconnect(),t.resizeObserver&&t.resizeObserver.disconnect(),t.labelCalcDiv)try{document.body.removeChild(t.labelCalcDiv)}catch{}};t1.isHeadless=function(){return!1};[ON,rse,nse,e1,tu,h2].forEach(function(t){jt(t1,t)});var CE=1e3/60,ase={setupDequeueing:function(e){return function(){var n=this,i=this.renderer;if(!n.dequeueingSetup){n.dequeueingSetup=!0;var a=C6(function(){i.redrawHint("eles",!0),i.redrawHint("drag",!0),i.redraw()},e.deqRedrawThreshold),s=function(u,h){var d=Gc(),p=i.averageRedrawTime,f=i.lastRedrawTime,g=[],m=i.cy.extent(),y=i.getPixelRatio();for(u||i.flushRenderedStyleQueue();;){var v=Gc(),x=v-d,w=v-h;if(f<CE){var k=CE-(u?p:0);if(w>=e.deqFastCost*k)break}else if(u){if(x>=e.deqCost*f||x>=e.deqAvgCost*p)break}else if(w>=e.deqNoDrawCost*CE)break;var E=e.deq(n,y,m);if(E.length>0)for(var _=0;_<E.length;_++)g.push(E[_]);else break}g.length>0&&(e.onDeqd(n,g),!u&&e.shouldRedraw(n,g,y,m)&&a())},o=e.priority||bN;i.beforeRender(s,o(n))}}}},bZe=function(){function t(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:x5;gN(this,t),this.idsByKey=new wl,this.keyForId=new wl,this.cachesByLvl=new wl,this.lvls=[],this.getKey=e,this.doesEleInvalidateKey=r}return mN(t,[{key:"getIdsFor",value:function(r){r==null&&In("Can not get id list for null key");var n=this.idsByKey,i=this.idsByKey.get(r);return i||(i=new qg,n.set(r,i)),i}},{key:"addIdForKey",value:function(r,n){r!=null&&this.getIdsFor(r).add(n)}},{key:"deleteIdForKey",value:function(r,n){r!=null&&this.getIdsFor(r).delete(n)}},{key:"getNumberOfIdsForKey",value:function(r){return r==null?0:this.getIdsFor(r).size}},{key:"updateKeyMappingFor",value:function(r){var n=r.id(),i=this.keyForId.get(n),a=this.getKey(r);this.deleteIdForKey(i,n),this.addIdForKey(a,n),this.keyForId.set(n,a)}},{key:"deleteKeyMappingFor",value:function(r){var n=r.id(),i=this.keyForId.get(n);this.deleteIdForKey(i,n),this.keyForId.delete(n)}},{key:"keyHasChangedFor",value:function(r){var n=r.id(),i=this.keyForId.get(n),a=this.getKey(r);return i!==a}},{key:"isInvalid",value:function(r){return this.keyHasChangedFor(r)||this.doesEleInvalidateKey(r)}},{key:"getCachesAt",value:function(r){var n=this.cachesByLvl,i=this.lvls,a=n.get(r);return a||(a=new wl,n.set(r,a),i.push(r)),a}},{key:"getCache",value:function(r,n){return this.getCachesAt(n).get(r)}},{key:"get",value:function(r,n){var i=this.getKey(r),a=this.getCache(i,n);return a!=null&&this.updateKeyMappingFor(r),a}},{key:"getForCachedKey",value:function(r,n){var i=this.keyForId.get(r.id()),a=this.getCache(i,n);return a}},{key:"hasCache",value:function(r,n){return this.getCachesAt(n).has(r)}},{key:"has",value:function(r,n){var i=this.getKey(r);return this.hasCache(i,n)}},{key:"setCache",value:function(r,n,i){i.key=r,this.getCachesAt(n).set(r,i)}},{key:"set",value:function(r,n,i){var a=this.getKey(r);this.setCache(a,n,i),this.updateKeyMappingFor(r)}},{key:"deleteCache",value:function(r,n){this.getCachesAt(n).delete(r)}},{key:"delete",value:function(r,n){var i=this.getKey(r);this.deleteCache(i,n)}},{key:"invalidateKey",value:function(r){var n=this;this.lvls.forEach(function(i){return n.deleteCache(r,i)})}},{key:"invalidate",value:function(r){var n=r.id(),i=this.keyForId.get(n);this.deleteKeyMappingFor(r);var a=this.doesEleInvalidateKey(r);return a&&this.invalidateKey(i),a||this.getNumberOfIdsForKey(i)===0}}]),t}(),Q$=25,Fx=50,Hb=-4,C8=3,wZe=7.99,kZe=8,TZe=1024,EZe=1024,SZe=1024,CZe=.2,AZe=.8,_Ze=10,LZe=.15,NZe=.1,RZe=.9,MZe=.9,IZe=100,DZe=1,f0={dequeue:"dequeue",downscale:"downscale",highQuality:"highQuality"},OZe=ta({getKey:null,doesEleInvalidateKey:x5,drawElement:null,getBoundingBox:null,getRotationPoint:null,getRotationOffset:null,isVisible:Kie,allowEdgeTxrCaching:!0,allowParentTxrCaching:!0}),gm=function(e,r){var n=this;n.renderer=e,n.onDequeues=[];var i=OZe(r);jt(n,i),n.lookup=new bZe(i.getKey,i.doesEleInvalidateKey),n.setupDequeueing()},wi=gm.prototype;wi.reasons=f0;wi.getTextureQueue=function(t){var e=this;return e.eleImgCaches=e.eleImgCaches||{},e.eleImgCaches[t]=e.eleImgCaches[t]||[]};wi.getRetiredTextureQueue=function(t){var e=this,r=e.eleImgCaches.retired=e.eleImgCaches.retired||{},n=r[t]=r[t]||[];return n};wi.getElementQueue=function(){var t=this,e=t.eleCacheQueue=t.eleCacheQueue||new o2(function(r,n){return n.reqs-r.reqs});return e};wi.getElementKeyToQueue=function(){var t=this,e=t.eleKeyToCacheQueue=t.eleKeyToCacheQueue||{};return e};wi.getElement=function(t,e,r,n,i){var a=this,s=this.renderer,o=s.cy.zoom(),l=this.lookup;if(!e||e.w===0||e.h===0||isNaN(e.w)||isNaN(e.h)||!t.visible()||t.removed()||!a.allowEdgeTxrCaching&&t.isEdge()||!a.allowParentTxrCaching&&t.isParent())return null;if(n==null&&(n=Math.ceil(kN(o*r))),n<Hb)n=Hb;else if(o>=wZe||n>C8)return null;var u=Math.pow(2,n),h=e.h*u,d=e.w*u,p=s.eleTextBiggerThanMin(t,u);if(!this.isVisible(t,p))return null;var f=l.get(t,n);if(f&&f.invalidated&&(f.invalidated=!1,f.texture.invalidatedWidth-=f.width),f)return f;var g;if(h<=Q$?g=Q$:h<=Fx?g=Fx:g=Math.ceil(h/Fx)*Fx,h>SZe||d>EZe)return null;var m=a.getTextureQueue(g),y=m[m.length-2],v=function(){return a.recycleTexture(g,d)||a.addTexture(g,d)};y||(y=m[m.length-1]),y||(y=v()),y.width-y.usedWidth<d&&(y=v());for(var x=function(M){return M&&M.scaledLabelShown===p},w=i&&i===f0.dequeue,k=i&&i===f0.highQuality,E=i&&i===f0.downscale,_,S=n+1;S<=C8;S++){var R=l.get(t,S);if(R){_=R;break}}var C=_&&_.level===n+1?_:null,L=function(){y.context.drawImage(C.texture.canvas,C.x,0,C.width,C.height,y.usedWidth,0,d,h)};if(y.context.setTransform(1,0,0,1,0,0),y.context.clearRect(y.usedWidth,0,d,g),x(C))L();else if(x(_))if(k){for(var A=_.level;A>n;A--)C=a.getElement(t,e,r,A,f0.downscale);L()}else return a.queueElement(t,_.level-1),_;else{var N;if(!w&&!k&&!E)for(var F=n-1;F>=Hb;F--){var T=l.get(t,F);if(T){N=T;break}}if(x(N))return a.queueElement(t,n),N;y.context.translate(y.usedWidth,0),y.context.scale(u,u),this.drawElement(y.context,t,e,p,!1),y.context.scale(1/u,1/u),y.context.translate(-y.usedWidth,0)}return f={x:y.usedWidth,texture:y,level:n,scale:u,width:d,height:h,scaledLabelShown:p},y.usedWidth+=Math.ceil(d+kZe),y.eleCaches.push(f),l.set(t,n,f),a.checkTextureFullness(y),f};wi.invalidateElements=function(t){for(var e=0;e<t.length;e++)this.invalidateElement(t[e])};wi.invalidateElement=function(t){var e=this,r=e.lookup,n=[],i=r.isInvalid(t);if(i){for(var a=Hb;a<=C8;a++){var s=r.getForCachedKey(t,a);s&&n.push(s)}var o=r.invalidate(t);if(o)for(var l=0;l<n.length;l++){var u=n[l],h=u.texture;h.invalidatedWidth+=u.width,u.invalidated=!0,e.checkTextureUtility(h)}e.removeFromQueue(t)}};wi.checkTextureUtility=function(t){t.invalidatedWidth>=CZe*t.width&&this.retireTexture(t)};wi.checkTextureFullness=function(t){var e=this,r=e.getTextureQueue(t.height);t.usedWidth/t.width>AZe&&t.fullnessChecks>=_Ze?dh(r,t):t.fullnessChecks++};wi.retireTexture=function(t){var e=this,r=t.height,n=e.getTextureQueue(r),i=this.lookup;dh(n,t),t.retired=!0;for(var a=t.eleCaches,s=0;s<a.length;s++){var o=a[s];i.deleteCache(o.key,o.level)}wN(a);var l=e.getRetiredTextureQueue(r);l.push(t)};wi.addTexture=function(t,e){var r=this,n=r.getTextureQueue(t),i={};return n.push(i),i.eleCaches=[],i.height=t,i.width=Math.max(TZe,e),i.usedWidth=0,i.invalidatedWidth=0,i.fullnessChecks=0,i.canvas=r.renderer.makeOffscreenCanvas(i.width,i.height),i.context=i.canvas.getContext("2d"),i};wi.recycleTexture=function(t,e){for(var r=this,n=r.getTextureQueue(t),i=r.getRetiredTextureQueue(t),a=0;a<i.length;a++){var s=i[a];if(s.width>=e)return s.retired=!1,s.usedWidth=0,s.invalidatedWidth=0,s.fullnessChecks=0,wN(s.eleCaches),s.context.setTransform(1,0,0,1,0,0),s.context.clearRect(0,0,s.width,s.height),dh(i,s),n.push(s),s}};wi.queueElement=function(t,e){var r=this,n=r.getElementQueue(),i=r.getElementKeyToQueue(),a=this.getKey(t),s=i[a];if(s)s.level=Math.max(s.level,e),s.eles.merge(t),s.reqs++,n.updateItem(s);else{var o={eles:t.spawn().merge(t),level:e,reqs:1,key:a};n.push(o),i[a]=o}};wi.dequeue=function(t){for(var e=this,r=e.getElementQueue(),n=e.getElementKeyToQueue(),i=[],a=e.lookup,s=0;s<DZe&&r.size()>0;s++){var o=r.pop(),l=o.key,u=o.eles[0],h=a.hasCache(u,o.level);if(n[l]=null,h)continue;i.push(o);var d=e.getBoundingBox(u);e.getElement(u,d,t,o.level,f0.dequeue)}return i};wi.removeFromQueue=function(t){var e=this,r=e.getElementQueue(),n=e.getElementKeyToQueue(),i=this.getKey(t),a=n[i];a!=null&&(a.eles.length===1?(a.reqs=xN,r.updateItem(a),r.pop(),n[i]=null):a.eles.unmerge(t))};wi.onDequeue=function(t){this.onDequeues.push(t)};wi.offDequeue=function(t){dh(this.onDequeues,t)};wi.setupDequeueing=ase.setupDequeueing({deqRedrawThreshold:IZe,deqCost:LZe,deqAvgCost:NZe,deqNoDrawCost:RZe,deqFastCost:MZe,deq:function(e,r,n){return e.dequeue(r,n)},onDeqd:function(e,r){for(var n=0;n<e.onDequeues.length;n++){var i=e.onDequeues[n];i(r)}},shouldRedraw:function(e,r,n,i){for(var a=0;a<r.length;a++)for(var s=r[a].eles,o=0;o<s.length;o++){var l=s[o].boundingBox();if(TN(l,i))return!0}return!1},priority:function(e){return e.renderer.beforeRenderPriorities.eleTxrDeq}});var PZe=1,Vm=-4,A5=2,FZe=3.99,BZe=50,$Ze=50,zZe=.15,UZe=.1,VZe=.9,GZe=.9,HZe=1,Z$=250,WZe=4e3*4e3,YZe=!0,sse=function(e){var r=this,n=r.renderer=e,i=n.cy;r.layersByLevel={},r.firstGet=!0,r.lastInvalidationTime=Gc()-2*Z$,r.skipping=!1,r.eleTxrDeqs=i.collection(),r.scheduleElementRefinement=C6(function(){r.refineElementTextures(r.eleTxrDeqs),r.eleTxrDeqs.unmerge(r.eleTxrDeqs)},$Ze),n.beforeRender(function(s,o){o-r.lastInvalidationTime<=Z$?r.skipping=!0:r.skipping=!1},n.beforeRenderPriorities.lyrTxrSkip);var a=function(o,l){return l.reqs-o.reqs};r.layersQueue=new o2(a),r.setupDequeueing()},ra=sse.prototype,J$=0,qZe=Math.pow(2,53)-1;ra.makeLayer=function(t,e){var r=Math.pow(2,e),n=Math.ceil(t.w*r),i=Math.ceil(t.h*r),a=this.renderer.makeOffscreenCanvas(n,i),s={id:J$=++J$%qZe,bb:t,level:e,width:n,height:i,canvas:a,context:a.getContext("2d"),eles:[],elesQueue:[],reqs:0},o=s.context,l=-s.bb.x1,u=-s.bb.y1;return o.scale(r,r),o.translate(l,u),s};ra.getLayers=function(t,e,r){var n=this,i=n.renderer,a=i.cy,s=a.zoom(),o=n.firstGet;if(n.firstGet=!1,r==null){if(r=Math.ceil(kN(s*e)),r<Vm)r=Vm;else if(s>=FZe||r>A5)return null}n.validateLayersElesOrdering(r,t);var l=n.layersByLevel,u=Math.pow(2,r),h=l[r]=l[r]||[],d,p=n.levelIsComplete(r,t),f,g=function(){var L=function(D){if(n.validateLayersElesOrdering(D,t),n.levelIsComplete(D,t))return f=l[D],!0},A=function(D){if(!f)for(var M=r+D;Vm<=M&&M<=A5&&!L(M);M+=D);};A(1),A(-1);for(var N=h.length-1;N>=0;N--){var F=h[N];F.invalid&&dh(h,F)}};if(!p)g();else return h;var m=function(){if(!d){d=fs();for(var L=0;L<t.length;L++)rae(d,t[L].boundingBox())}return d},y=function(L){L=L||{};var A=L.after;m();var N=d.w*u*(d.h*u);if(N>WZe)return null;var F=n.makeLayer(d,r);if(A!=null){var T=h.indexOf(A)+1;h.splice(T,0,F)}else(L.insert===void 0||L.insert)&&h.unshift(F);return F};if(n.skipping&&!o)return null;for(var v=null,x=t.length/PZe,w=!o,k=0;k<t.length;k++){var E=t[k],_=E._private.rscratch,S=_.imgLayerCaches=_.imgLayerCaches||{},R=S[r];if(R){v=R;continue}if((!v||v.eles.length>=x||!nae(v.bb,E.boundingBox()))&&(v=y({insert:!0,after:v}),!v))return null;f||w?n.queueLayer(v,E):n.drawEleInLayer(v,E,r,e),v.eles.push(E),S[r]=v}return f||(w?null:h)};ra.getEleLevelForLayerLevel=function(t,e){return t};ra.drawEleInLayer=function(t,e,r,n){var i=this,a=this.renderer,s=t.context,o=e.boundingBox();o.w===0||o.h===0||!e.visible()||(r=i.getEleLevelForLayerLevel(r,n),a.setImgSmoothing(s,!1),a.drawCachedElement(s,e,null,null,r,YZe),a.setImgSmoothing(s,!0))};ra.levelIsComplete=function(t,e){var r=this,n=r.layersByLevel[t];if(!n||n.length===0)return!1;for(var i=0,a=0;a<n.length;a++){var s=n[a];if(s.reqs>0||s.invalid)return!1;i+=s.eles.length}return i===e.length};ra.validateLayersElesOrdering=function(t,e){var r=this.layersByLevel[t];if(r)for(var n=0;n<r.length;n++){for(var i=r[n],a=-1,s=0;s<e.length;s++)if(i.eles[0]===e[s]){a=s;break}if(a<0){this.invalidateLayer(i);continue}for(var o=a,s=0;s<i.eles.length;s++)if(i.eles[s]!==e[o+s]){this.invalidateLayer(i);break}}};ra.updateElementsInLayers=function(t,e){for(var r=this,n=a2(t[0]),i=0;i<t.length;i++)for(var a=n?null:t[i],s=n?t[i]:t[i].ele,o=s._private.rscratch,l=o.imgLayerCaches=o.imgLayerCaches||{},u=Vm;u<=A5;u++){var h=l[u];h&&(a&&r.getEleLevelForLayerLevel(h.level)!==a.level||e(h,s,a))}};ra.haveLayers=function(){for(var t=this,e=!1,r=Vm;r<=A5;r++){var n=t.layersByLevel[r];if(n&&n.length>0){e=!0;break}}return e};ra.invalidateElements=function(t){var e=this;t.length!==0&&(e.lastInvalidationTime=Gc(),!(t.length===0||!e.haveLayers())&&e.updateElementsInLayers(t,function(n,i,a){e.invalidateLayer(n)}))};ra.invalidateLayer=function(t){if(this.lastInvalidationTime=Gc(),!t.invalid){var e=t.level,r=t.eles,n=this.layersByLevel[e];dh(n,t),t.elesQueue=[],t.invalid=!0,t.replacement&&(t.replacement.invalid=!0);for(var i=0;i<r.length;i++){var a=r[i]._private.rscratch.imgLayerCaches;a&&(a[e]=null)}}};ra.refineElementTextures=function(t){var e=this;e.updateElementsInLayers(t,function(n,i,a){var s=n.replacement;if(s||(s=n.replacement=e.makeLayer(n.bb,n.level),s.replaces=n,s.eles=n.eles),!s.reqs)for(var o=0;o<s.eles.length;o++)e.queueLayer(s,s.eles[o])})};ra.enqueueElementRefinement=function(t){this.eleTxrDeqs.merge(t),this.scheduleElementRefinement()};ra.queueLayer=function(t,e){var r=this,n=r.layersQueue,i=t.elesQueue,a=i.hasId=i.hasId||{};if(!t.replacement){if(e){if(a[e.id()])return;i.push(e),a[e.id()]=!0}t.reqs?(t.reqs++,n.updateItem(t)):(t.reqs=1,n.push(t))}};ra.dequeue=function(t){for(var e=this,r=e.layersQueue,n=[],i=0;i<HZe&&r.size()!==0;){var a=r.peek();if(a.replacement){r.pop();continue}if(a.replaces&&a!==a.replaces.replacement){r.pop();continue}if(a.invalid){r.pop();continue}var s=a.elesQueue.shift();s&&(e.drawEleInLayer(a,s,a.level,t),i++),n.length===0&&n.push(!0),a.elesQueue.length===0&&(r.pop(),a.reqs=0,a.replaces&&e.applyLayerReplacement(a),e.requestRedraw())}return n};ra.applyLayerReplacement=function(t){var e=this,r=e.layersByLevel[t.level],n=t.replaces,i=r.indexOf(n);if(!(i<0||n.invalid)){r[i]=t;for(var a=0;a<t.eles.length;a++){var s=t.eles[a]._private,o=s.imgLayerCaches=s.imgLayerCaches||{};o&&(o[t.level]=t)}e.requestRedraw()}};ra.requestRedraw=C6(function(){var t=this.renderer;t.redrawHint("eles",!0),t.redrawHint("drag",!0),t.redraw()},100);ra.setupDequeueing=ase.setupDequeueing({deqRedrawThreshold:BZe,deqCost:zZe,deqAvgCost:UZe,deqNoDrawCost:VZe,deqFastCost:GZe,deq:function(e,r){return e.dequeue(r)},onDeqd:bN,shouldRedraw:Kie,priority:function(e){return e.renderer.beforeRenderPriorities.lyrTxrDeq}});var ose={},ez;function jZe(t,e){for(var r=0;r<e.length;r++){var n=e[r];t.lineTo(n.x,n.y)}}function XZe(t,e,r){for(var n,i=0;i<e.length;i++){var a=e[i];i===0&&(n=a),t.lineTo(a.x,a.y)}t.quadraticCurveTo(r.x,r.y,n.x,n.y)}function tz(t,e,r){t.beginPath&&t.beginPath();for(var n=e,i=0;i<n.length;i++){var a=n[i];t.lineTo(a.x,a.y)}var s=r,o=r[0];t.moveTo(o.x,o.y);for(var i=1;i<s.length;i++){var a=s[i];t.lineTo(a.x,a.y)}t.closePath&&t.closePath()}function KZe(t,e,r,n,i){t.beginPath&&t.beginPath(),t.arc(r,n,i,0,Math.PI*2,!1);var a=e,s=a[0];t.moveTo(s.x,s.y);for(var o=0;o<a.length;o++){var l=a[o];t.lineTo(l.x,l.y)}t.closePath&&t.closePath()}function QZe(t,e,r,n){t.arc(e,r,n,0,Math.PI*2,!1)}ose.arrowShapeImpl=function(t){return(ez||(ez={polygon:jZe,"triangle-backcurve":XZe,"triangle-tee":tz,"circle-triangle":KZe,"triangle-cross":tz,circle:QZe}))[t]};var Wl={};Wl.drawElement=function(t,e,r,n,i,a){var s=this;e.isNode()?s.drawNode(t,e,r,n,i,a):s.drawEdge(t,e,r,n,i,a)};Wl.drawElementOverlay=function(t,e){var r=this;e.isNode()?r.drawNodeOverlay(t,e):r.drawEdgeOverlay(t,e)};Wl.drawElementUnderlay=function(t,e){var r=this;e.isNode()?r.drawNodeUnderlay(t,e):r.drawEdgeUnderlay(t,e)};Wl.drawCachedElementPortion=function(t,e,r,n,i,a,s,o){var l=this,u=r.getBoundingBox(e);if(!(u.w===0||u.h===0)){var h=r.getElement(e,u,n,i,a);if(h!=null){var d=o(l,e);if(d===0)return;var p=s(l,e),f=u.x1,g=u.y1,m=u.w,y=u.h,v,x,w,k,E;if(p!==0){var _=r.getRotationPoint(e);w=_.x,k=_.y,t.translate(w,k),t.rotate(p),E=l.getImgSmoothing(t),E||l.setImgSmoothing(t,!0);var S=r.getRotationOffset(e);v=S.x,x=S.y}else v=f,x=g;var R;d!==1&&(R=t.globalAlpha,t.globalAlpha=R*d),t.drawImage(h.texture.canvas,h.x,0,h.width,h.height,v,x,m,y),d!==1&&(t.globalAlpha=R),p!==0&&(t.rotate(-p),t.translate(-w,-k),E||l.setImgSmoothing(t,!1))}else r.drawElement(t,e)}};var ZZe=function(){return 0},JZe=function(e,r){return e.getTextAngle(r,null)},eJe=function(e,r){return e.getTextAngle(r,"source")},tJe=function(e,r){return e.getTextAngle(r,"target")},rJe=function(e,r){return r.effectiveOpacity()},AE=function(e,r){return r.pstyle("text-opacity").pfValue*r.effectiveOpacity()};Wl.drawCachedElement=function(t,e,r,n,i,a){var s=this,o=s.data,l=o.eleTxrCache,u=o.lblTxrCache,h=o.slbTxrCache,d=o.tlbTxrCache,p=e.boundingBox(),f=a===!0?l.reasons.highQuality:null;if(!(p.w===0||p.h===0||!e.visible())&&(!n||TN(p,n))){var g=e.isEdge(),m=e.element()._private.rscratch.badLine;s.drawElementUnderlay(t,e),s.drawCachedElementPortion(t,e,l,r,i,f,ZZe,rJe),(!g||!m)&&s.drawCachedElementPortion(t,e,u,r,i,f,JZe,AE),g&&!m&&(s.drawCachedElementPortion(t,e,h,r,i,f,eJe,AE),s.drawCachedElementPortion(t,e,d,r,i,f,tJe,AE)),s.drawElementOverlay(t,e)}};Wl.drawElements=function(t,e){for(var r=this,n=0;n<e.length;n++){var i=e[n];r.drawElement(t,i)}};Wl.drawCachedElements=function(t,e,r,n){for(var i=this,a=0;a<e.length;a++){var s=e[a];i.drawCachedElement(t,s,r,n)}};Wl.drawCachedNodes=function(t,e,r,n){for(var i=this,a=0;a<e.length;a++){var s=e[a];s.isNode()&&i.drawCachedElement(t,s,r,n)}};Wl.drawLayeredElements=function(t,e,r,n){var i=this,a=i.data.lyrTxrCache.getLayers(e,r);if(a)for(var s=0;s<a.length;s++){var o=a[s],l=o.bb;l.w===0||l.h===0||t.drawImage(o.canvas,l.x1,l.y1,l.w,l.h)}else i.drawCachedElements(t,e,r,n)};var ru={};ru.drawEdge=function(t,e,r){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0,s=this,o=e._private.rscratch;if(!(a&&!e.visible())&&!(o.badLine||o.allpts==null||isNaN(o.allpts[0]))){var l;r&&(l=r,t.translate(-l.x1,-l.y1));var u=a?e.pstyle("opacity").value:1,h=a?e.pstyle("line-opacity").value:1,d=e.pstyle("curve-style").value,p=e.pstyle("line-style").value,f=e.pstyle("width").pfValue,g=e.pstyle("line-cap").value,m=e.pstyle("line-outline-width").value,y=e.pstyle("line-outline-color").value,v=u*h,x=u*h,w=function(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:v;d==="straight-triangle"?(s.eleStrokeStyle(t,e,D),s.drawEdgeTrianglePath(e,t,o.allpts)):(t.lineWidth=f,t.lineCap=g,s.eleStrokeStyle(t,e,D),s.drawEdgePath(e,t,o.allpts,p),t.lineCap="butt")},k=function(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:v;if(t.lineWidth=f+m,t.lineCap=g,m>0)s.colorStrokeStyle(t,y[0],y[1],y[2],D);else{t.lineCap="butt";return}d==="straight-triangle"?s.drawEdgeTrianglePath(e,t,o.allpts):(s.drawEdgePath(e,t,o.allpts,p),t.lineCap="butt")},E=function(){i&&s.drawEdgeOverlay(t,e)},_=function(){i&&s.drawEdgeUnderlay(t,e)},S=function(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:x;s.drawArrowheads(t,e,D)},R=function(){s.drawElementText(t,e,null,n)};t.lineJoin="round";var C=e.pstyle("ghost").value==="yes";if(C){var L=e.pstyle("ghost-offset-x").pfValue,A=e.pstyle("ghost-offset-y").pfValue,N=e.pstyle("ghost-opacity").value,F=v*N;t.translate(L,A),w(F),S(F),t.translate(-L,-A)}else k();_(),w(),S(),E(),R(),r&&t.translate(l.x1,l.y1)}};var lse=function(e){if(!["overlay","underlay"].includes(e))throw new Error("Invalid state");return function(r,n){if(n.visible()){var i=n.pstyle("".concat(e,"-opacity")).value;if(i!==0){var a=this,s=a.usePaths(),o=n._private.rscratch,l=n.pstyle("".concat(e,"-padding")).pfValue,u=2*l,h=n.pstyle("".concat(e,"-color")).value;r.lineWidth=u,o.edgeType==="self"&&!s?r.lineCap="butt":r.lineCap="round",a.colorStrokeStyle(r,h[0],h[1],h[2],i),a.drawEdgePath(n,r,o.allpts,"solid")}}}};ru.drawEdgeOverlay=lse("overlay");ru.drawEdgeUnderlay=lse("underlay");ru.drawEdgePath=function(t,e,r,n){var i=t._private.rscratch,a=e,s,o=!1,l=this.usePaths(),u=t.pstyle("line-dash-pattern").pfValue,h=t.pstyle("line-dash-offset").pfValue;if(l){var d=r.join("$"),p=i.pathCacheKey&&i.pathCacheKey===d;p?(s=e=i.pathCache,o=!0):(s=e=new Path2D,i.pathCacheKey=d,i.pathCache=s)}if(a.setLineDash)switch(n){case"dotted":a.setLineDash([1,1]);break;case"dashed":a.setLineDash(u),a.lineDashOffset=h;break;case"solid":a.setLineDash([]);break}if(!o&&!i.badLine)switch(e.beginPath&&e.beginPath(),e.moveTo(r[0],r[1]),i.edgeType){case"bezier":case"self":case"compound":case"multibezier":for(var f=2;f+3<r.length;f+=4)e.quadraticCurveTo(r[f],r[f+1],r[f+2],r[f+3]);break;case"straight":case"haystack":for(var g=2;g+1<r.length;g+=2)e.lineTo(r[g],r[g+1]);break;case"segments":if(i.isRound){var m=Pie(i.roundCorners),y;try{for(m.s();!(y=m.n()).done;){var v=y.value;Qae(e,v)}}catch(w){m.e(w)}finally{m.f()}e.lineTo(r[r.length-2],r[r.length-1])}else for(var x=2;x+1<r.length;x+=2)e.lineTo(r[x],r[x+1]);break}e=a,l?e.stroke(s):e.stroke(),e.setLineDash&&e.setLineDash([])};ru.drawEdgeTrianglePath=function(t,e,r){e.fillStyle=e.strokeStyle;for(var n=t.pstyle("width").pfValue,i=0;i+1<r.length;i+=2){var a=[r[i+2]-r[i],r[i+3]-r[i+1]],s=Math.sqrt(a[0]*a[0]+a[1]*a[1]),o=[a[1]/s,-a[0]/s],l=[o[0]*n/2,o[1]*n/2];e.beginPath(),e.moveTo(r[i]-l[0],r[i+1]-l[1]),e.lineTo(r[i]+l[0],r[i+1]+l[1]),e.lineTo(r[i+2],r[i+3]),e.closePath(),e.fill()}};ru.drawArrowheads=function(t,e,r){var n=e._private.rscratch,i=n.edgeType==="haystack";i||this.drawArrowhead(t,e,"source",n.arrowStartX,n.arrowStartY,n.srcArrowAngle,r),this.drawArrowhead(t,e,"mid-target",n.midX,n.midY,n.midtgtArrowAngle,r),this.drawArrowhead(t,e,"mid-source",n.midX,n.midY,n.midsrcArrowAngle,r),i||this.drawArrowhead(t,e,"target",n.arrowEndX,n.arrowEndY,n.tgtArrowAngle,r)};ru.drawArrowhead=function(t,e,r,n,i,a,s){if(!(isNaN(n)||n==null||isNaN(i)||i==null||isNaN(a)||a==null)){var o=this,l=e.pstyle(r+"-arrow-shape").value;if(l!=="none"){var u=e.pstyle(r+"-arrow-fill").value==="hollow"?"both":"filled",h=e.pstyle(r+"-arrow-fill").value,d=e.pstyle("width").pfValue,p=e.pstyle(r+"-arrow-width"),f=p.value==="match-line"?d:p.pfValue;p.units==="%"&&(f*=d);var g=e.pstyle("opacity").value;s===void 0&&(s=g);var m=t.globalCompositeOperation;(s!==1||h==="hollow")&&(t.globalCompositeOperation="destination-out",o.colorFillStyle(t,255,255,255,1),o.colorStrokeStyle(t,255,255,255,1),o.drawArrowShape(e,t,u,d,l,f,n,i,a),t.globalCompositeOperation=m);var y=e.pstyle(r+"-arrow-color").value;o.colorFillStyle(t,y[0],y[1],y[2],s),o.colorStrokeStyle(t,y[0],y[1],y[2],s),o.drawArrowShape(e,t,h,d,l,f,n,i,a)}}};ru.drawArrowShape=function(t,e,r,n,i,a,s,o,l){var u=this,h=this.usePaths()&&i!=="triangle-cross",d=!1,p,f=e,g={x:s,y:o},m=t.pstyle("arrow-scale").value,y=this.getArrowWidth(n,m),v=u.arrowShapes[i];if(h){var x=u.arrowPathCache=u.arrowPathCache||[],w=Qd(i),k=x[w];k!=null?(p=e=k,d=!0):(p=e=new Path2D,x[w]=p)}d||(e.beginPath&&e.beginPath(),h?v.draw(e,1,0,{x:0,y:0},1):v.draw(e,y,l,g,n),e.closePath&&e.closePath()),e=f,h&&(e.translate(s,o),e.rotate(l),e.scale(y,y)),(r==="filled"||r==="both")&&(h?e.fill(p):e.fill()),(r==="hollow"||r==="both")&&(e.lineWidth=a/(h?y:1),e.lineJoin="miter",h?e.stroke(p):e.stroke()),h&&(e.scale(1/y,1/y),e.rotate(-l),e.translate(-s,-o))};var BN={};BN.safeDrawImage=function(t,e,r,n,i,a,s,o,l,u){if(!(i<=0||a<=0||l<=0||u<=0))try{t.drawImage(e,r,n,i,a,s,o,l,u)}catch(h){Or(h)}};BN.drawInscribedImage=function(t,e,r,n,i){var a=this,s=r.position(),o=s.x,l=s.y,u=r.cy().style(),h=u.getIndexedStyle.bind(u),d=h(r,"background-fit","value",n),p=h(r,"background-repeat","value",n),f=r.width(),g=r.height(),m=r.padding()*2,y=f+(h(r,"background-width-relative-to","value",n)==="inner"?0:m),v=g+(h(r,"background-height-relative-to","value",n)==="inner"?0:m),x=r._private.rscratch,w=h(r,"background-clip","value",n),k=w==="node",E=h(r,"background-image-opacity","value",n)*i,_=h(r,"background-image-smoothing","value",n),S=r.pstyle("corner-radius").value;S!=="auto"&&(S=r.pstyle("corner-radius").pfValue);var R=e.width||e.cachedW,C=e.height||e.cachedH;(R==null||C==null)&&(document.body.appendChild(e),R=e.cachedW=e.width||e.offsetWidth,C=e.cachedH=e.height||e.offsetHeight,document.body.removeChild(e));var L=R,A=C;if(h(r,"background-width","value",n)!=="auto"&&(h(r,"background-width","units",n)==="%"?L=h(r,"background-width","pfValue",n)*y:L=h(r,"background-width","pfValue",n)),h(r,"background-height","value",n)!=="auto"&&(h(r,"background-height","units",n)==="%"?A=h(r,"background-height","pfValue",n)*v:A=h(r,"background-height","pfValue",n)),!(L===0||A===0)){if(d==="contain"){var N=Math.min(y/L,v/A);L*=N,A*=N}else if(d==="cover"){var N=Math.max(y/L,v/A);L*=N,A*=N}var F=o-y/2,T=h(r,"background-position-x","units",n),D=h(r,"background-position-x","pfValue",n);T==="%"?F+=(y-L)*D:F+=D;var M=h(r,"background-offset-x","units",n),O=h(r,"background-offset-x","pfValue",n);M==="%"?F+=(y-L)*O:F+=O;var I=l-v/2,P=h(r,"background-position-y","units",n),B=h(r,"background-position-y","pfValue",n);P==="%"?I+=(v-A)*B:I+=B;var $=h(r,"background-offset-y","units",n),V=h(r,"background-offset-y","pfValue",n);$==="%"?I+=(v-A)*V:I+=V,x.pathCache&&(F-=o,I-=l,o=0,l=0);var W=t.globalAlpha;t.globalAlpha=E;var K=a.getImgSmoothing(t),Z=!1;if(_==="no"&&K?(a.setImgSmoothing(t,!1),Z=!0):_==="yes"&&!K&&(a.setImgSmoothing(t,!0),Z=!0),p==="no-repeat")k&&(t.save(),x.pathCache?t.clip(x.pathCache):(a.nodeShapes[a.getNodeShape(r)].draw(t,o,l,y,v,S,x),t.clip())),a.safeDrawImage(t,e,0,0,R,C,F,I,L,A),k&&t.restore();else{var H=t.createPattern(e,p);t.fillStyle=H,a.nodeShapes[a.getNodeShape(r)].draw(t,o,l,y,v,S,x),t.translate(F,I),t.fill(),t.translate(-F,-I)}t.globalAlpha=W,Z&&a.setImgSmoothing(t,K)}};var Cf={};Cf.eleTextBiggerThanMin=function(t,e){if(!e){var r=t.cy().zoom(),n=this.getPixelRatio(),i=Math.ceil(kN(r*n));e=Math.pow(2,i)}var a=t.pstyle("font-size").pfValue*e,s=t.pstyle("min-zoomed-font-size").pfValue;return!(a<s)};Cf.drawElementText=function(t,e,r,n,i){var a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0,s=this;if(n==null){if(a&&!s.eleTextBiggerThanMin(e))return}else if(n===!1)return;if(e.isNode()){var o=e.pstyle("label");if(!o||!o.value)return;var l=s.getLabelJustification(e);t.textAlign=l,t.textBaseline="bottom"}else{var u=e.element()._private.rscratch.badLine,h=e.pstyle("label"),d=e.pstyle("source-label"),p=e.pstyle("target-label");if(u||(!h||!h.value)&&(!d||!d.value)&&(!p||!p.value))return;t.textAlign="center",t.textBaseline="bottom"}var f=!r,g;r&&(g=r,t.translate(-g.x1,-g.y1)),i==null?(s.drawText(t,e,null,f,a),e.isEdge()&&(s.drawText(t,e,"source",f,a),s.drawText(t,e,"target",f,a))):s.drawText(t,e,i,f,a),r&&t.translate(g.x1,g.y1)};Cf.getFontCache=function(t){var e;this.fontCaches=this.fontCaches||[];for(var r=0;r<this.fontCaches.length;r++)if(e=this.fontCaches[r],e.context===t)return e;return e={context:t},this.fontCaches.push(e),e};Cf.setupTextStyle=function(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,n=e.pstyle("font-style").strValue,i=e.pstyle("font-size").pfValue+"px",a=e.pstyle("font-family").strValue,s=e.pstyle("font-weight").strValue,o=r?e.effectiveOpacity()*e.pstyle("text-opacity").value:1,l=e.pstyle("text-outline-opacity").value*o,u=e.pstyle("color").value,h=e.pstyle("text-outline-color").value;t.font=n+" "+s+" "+i+" "+a,t.lineJoin="round",this.colorFillStyle(t,u[0],u[1],u[2],o),this.colorStrokeStyle(t,h[0],h[1],h[2],l)};function _E(t,e,r,n,i){var a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:5,s=arguments.length>6?arguments[6]:void 0;t.beginPath(),t.moveTo(e+a,r),t.lineTo(e+n-a,r),t.quadraticCurveTo(e+n,r,e+n,r+a),t.lineTo(e+n,r+i-a),t.quadraticCurveTo(e+n,r+i,e+n-a,r+i),t.lineTo(e+a,r+i),t.quadraticCurveTo(e,r+i,e,r+i-a),t.lineTo(e,r+a),t.quadraticCurveTo(e,r,e+a,r),t.closePath(),s?t.stroke():t.fill()}Cf.getTextAngle=function(t,e){var r,n=t._private,i=n.rscratch,a=e?e+"-":"",s=t.pstyle(a+"text-rotation"),o=Do(i,"labelAngle",e);return s.strValue==="autorotate"?r=t.isEdge()?o:0:s.strValue==="none"?r=0:r=s.pfValue,r};Cf.drawText=function(t,e,r){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,a=e._private,s=a.rscratch,o=i?e.effectiveOpacity():1;if(!(i&&(o===0||e.pstyle("text-opacity").value===0))){r==="main"&&(r=null);var l=Do(s,"labelX",r),u=Do(s,"labelY",r),h,d,p=this.getLabelText(e,r);if(p!=null&&p!==""&&!isNaN(l)&&!isNaN(u)){this.setupTextStyle(t,e,i);var f=r?r+"-":"",g=Do(s,"labelWidth",r),m=Do(s,"labelHeight",r),y=e.pstyle(f+"text-margin-x").pfValue,v=e.pstyle(f+"text-margin-y").pfValue,x=e.isEdge(),w=e.pstyle("text-halign").value,k=e.pstyle("text-valign").value;x&&(w="center",k="center"),l+=y,u+=v;var E;switch(n?E=this.getTextAngle(e,r):E=0,E!==0&&(h=l,d=u,t.translate(h,d),t.rotate(E),l=0,u=0),k){case"top":break;case"center":u+=m/2;break;case"bottom":u+=m;break}var _=e.pstyle("text-background-opacity").value,S=e.pstyle("text-border-opacity").value,R=e.pstyle("text-border-width").pfValue,C=e.pstyle("text-background-padding").pfValue,L=e.pstyle("text-background-shape").strValue,A=L.indexOf("round")===0,N=2;if(_>0||R>0&&S>0){var F=l-C;switch(w){case"left":F-=g;break;case"center":F-=g/2;break}var T=u-m-C,D=g+2*C,M=m+2*C;if(_>0){var O=t.fillStyle,I=e.pstyle("text-background-color").value;t.fillStyle="rgba("+I[0]+","+I[1]+","+I[2]+","+_*o+")",A?_E(t,F,T,D,M,N):t.fillRect(F,T,D,M),t.fillStyle=O}if(R>0&&S>0){var P=t.strokeStyle,B=t.lineWidth,$=e.pstyle("text-border-color").value,V=e.pstyle("text-border-style").value;if(t.strokeStyle="rgba("+$[0]+","+$[1]+","+$[2]+","+S*o+")",t.lineWidth=R,t.setLineDash)switch(V){case"dotted":t.setLineDash([1,1]);break;case"dashed":t.setLineDash([4,2]);break;case"double":t.lineWidth=R/4,t.setLineDash([]);break;case"solid":t.setLineDash([]);break}if(A?_E(t,F,T,D,M,N,"stroke"):t.strokeRect(F,T,D,M),V==="double"){var W=R/2;A?_E(t,F+W,T+W,D-W*2,M-W*2,N,"stroke"):t.strokeRect(F+W,T+W,D-W*2,M-W*2)}t.setLineDash&&t.setLineDash([]),t.lineWidth=B,t.strokeStyle=P}}var K=2*e.pstyle("text-outline-width").pfValue;if(K>0&&(t.lineWidth=K),e.pstyle("text-wrap").value==="wrap"){var Z=Do(s,"labelWrapCachedLines",r),H=Do(s,"labelLineHeight",r),ee=g/2,te=this.getLabelJustification(e);switch(te==="auto"||(w==="left"?te==="left"?l+=-g:te==="center"&&(l+=-ee):w==="center"?te==="left"?l+=-ee:te==="right"&&(l+=ee):w==="right"&&(te==="center"?l+=ee:te==="right"&&(l+=g))),k){case"top":u-=(Z.length-1)*H;break;case"center":case"bottom":u-=(Z.length-1)*H;break}for(var U=0;U<Z.length;U++)K>0&&t.strokeText(Z[U],l,u),t.fillText(Z[U],l,u),u+=H}else K>0&&t.strokeText(p,l,u),t.fillText(p,l,u);E!==0&&(t.rotate(-E),t.translate(-h,-d))}}};var r1={};r1.drawNode=function(t,e,r){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0,s=this,o,l,u=e._private,h=u.rscratch,d=e.position();if(!(!mt(d.x)||!mt(d.y))&&!(a&&!e.visible())){var p=a?e.effectiveOpacity():1,f=s.usePaths(),g,m=!1,y=e.padding();o=e.width()+2*y,l=e.height()+2*y;var v;r&&(v=r,t.translate(-v.x1,-v.y1));for(var x=e.pstyle("background-image"),w=x.value,k=new Array(w.length),E=new Array(w.length),_=0,S=0;S<w.length;S++){var R=w[S],C=k[S]=R!=null&&R!=="none";if(C){var L=e.cy().style().getIndexedStyle(e,"background-image-crossorigin","value",S);_++,E[S]=s.getCachedImage(R,L,function(){u.backgroundTimestamp=Date.now(),e.emitAndNotify("background")})}}var A=e.pstyle("background-blacken").value,N=e.pstyle("border-width").pfValue,F=e.pstyle("background-opacity").value*p,T=e.pstyle("border-color").value,D=e.pstyle("border-style").value,M=e.pstyle("border-join").value,O=e.pstyle("border-cap").value,I=e.pstyle("border-position").value,P=e.pstyle("border-dash-pattern").pfValue,B=e.pstyle("border-dash-offset").pfValue,$=e.pstyle("border-opacity").value*p,V=e.pstyle("outline-width").pfValue,W=e.pstyle("outline-color").value,K=e.pstyle("outline-style").value,Z=e.pstyle("outline-opacity").value*p,H=e.pstyle("outline-offset").value,ee=e.pstyle("corner-radius").value;ee!=="auto"&&(ee=e.pstyle("corner-radius").pfValue);var te=function(){var pe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:F;s.eleFillStyle(t,e,pe)},U=function(){var pe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:$;s.colorStrokeStyle(t,T[0],T[1],T[2],pe)},j=function(){var pe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Z;s.colorStrokeStyle(t,W[0],W[1],W[2],pe)},Y=function(pe,ge,ve,Ee){var Ce=s.nodePathCache=s.nodePathCache||[],Ne=Xie(ve==="polygon"?ve+","+Ee.join(","):ve,""+ge,""+pe,""+ee),Se=Ce[Ne],Ie,Ae=!1;return Se!=null?(Ie=Se,Ae=!0,h.pathCache=Ie):(Ie=new Path2D,Ce[Ne]=h.pathCache=Ie),{path:Ie,cacheHit:Ae}},Q=e.pstyle("shape").strValue,ae=e.pstyle("shape-polygon-points").pfValue;if(f){t.translate(d.x,d.y);var ie=Y(o,l,Q,ae);g=ie.path,m=ie.cacheHit}var J=function(){if(!m){var pe=d;f&&(pe={x:0,y:0}),s.nodeShapes[s.getNodeShape(e)].draw(g||t,pe.x,pe.y,o,l,ee,h)}f?t.fill(g):t.fill()},_e=function(){for(var pe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:p,ge=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,ve=u.backgrounding,Ee=0,Ce=0;Ce<E.length;Ce++){var Ne=e.cy().style().getIndexedStyle(e,"background-image-containment","value",Ce);if(ge&&Ne==="over"||!ge&&Ne==="inside"){Ee++;continue}k[Ce]&&E[Ce].complete&&!E[Ce].error&&(Ee++,s.drawInscribedImage(t,E[Ce],e,Ce,pe))}u.backgrounding=Ee!==_,ve!==u.backgrounding&&e.updateStyle(!1)},ce=function(){var pe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,ge=arguments.length>1&&arguments[1]!==void 0?arguments[1]:p;s.hasPie(e)&&(s.drawPie(t,e,ge),pe&&(f||s.nodeShapes[s.getNodeShape(e)].draw(t,d.x,d.y,o,l,ee,h)))},Te=function(){var pe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:p,ge=(A>0?A:-A)*pe,ve=A>0?0:255;A!==0&&(s.colorFillStyle(t,ve,ve,ve,ge),f?t.fill(g):t.fill())},be=function(){if(N>0){if(t.lineWidth=N,t.lineCap=O,t.lineJoin=M,t.setLineDash)switch(D){case"dotted":t.setLineDash([1,1]);break;case"dashed":t.setLineDash(P),t.lineDashOffset=B;break;case"solid":case"double":t.setLineDash([]);break}if(I!=="center"){if(t.save(),t.lineWidth*=2,I==="inside")f?t.clip(g):t.clip();else{var pe=new Path2D;pe.rect(-o/2-N,-l/2-N,o+2*N,l+2*N),pe.addPath(g),t.clip(pe,"evenodd")}f?t.stroke(g):t.stroke(),t.restore()}else f?t.stroke(g):t.stroke();if(D==="double"){t.lineWidth=N/3;var ge=t.globalCompositeOperation;t.globalCompositeOperation="destination-out",f?t.stroke(g):t.stroke(),t.globalCompositeOperation=ge}t.setLineDash&&t.setLineDash([])}},Ue=function(){if(V>0){if(t.lineWidth=V,t.lineCap="butt",t.setLineDash)switch(K){case"dotted":t.setLineDash([1,1]);break;case"dashed":t.setLineDash([4,2]);break;case"solid":case"double":t.setLineDash([]);break}var pe=d;f&&(pe={x:0,y:0});var ge=s.getNodeShape(e),ve=N;I==="inside"&&(ve=0),I==="outside"&&(ve*=2);var Ee=(o+ve+(V+H))/o,Ce=(l+ve+(V+H))/l,Ne=o*Ee,Se=l*Ce,Ie=s.nodeShapes[ge].points,Ae;if(f){var qe=Y(Ne,Se,ge,Ie);Ae=qe.path}if(ge==="ellipse")s.drawEllipsePath(Ae||t,pe.x,pe.y,Ne,Se);else if(["round-diamond","round-heptagon","round-hexagon","round-octagon","round-pentagon","round-polygon","round-triangle","round-tag"].includes(ge)){var De=0,Xe=0,at=0;ge==="round-diamond"?De=(ve+H+V)*1.4:ge==="round-heptagon"?(De=(ve+H+V)*1.075,at=-(ve/2+H+V)/35):ge==="round-hexagon"?De=(ve+H+V)*1.12:ge==="round-pentagon"?(De=(ve+H+V)*1.13,at=-(ve/2+H+V)/15):ge==="round-tag"?(De=(ve+H+V)*1.12,Xe=(ve/2+V+H)*.07):ge==="round-triangle"&&(De=(ve+H+V)*(Math.PI/2),at=-(ve+H/2+V)/Math.PI),De!==0&&(Ee=(o+De)/o,Ne=o*Ee,["round-hexagon","round-tag"].includes(ge)||(Ce=(l+De)/l,Se=l*Ce)),ee=ee==="auto"?sae(Ne,Se):ee;for(var dt=Ne/2,ut=Se/2,kt=ee+(ve+V+H)/2,je=new Array(Ie.length/2),Ye=new Array(Ie.length/2),gt=0;gt<Ie.length/2;gt++)je[gt]={x:pe.x+Xe+dt*Ie[gt*2],y:pe.y+at+ut*Ie[gt*2+1]};var We,tt,Ft,rt,Ge=je.length;for(tt=je[Ge-1],We=0;We<Ge;We++)Ft=je[We%Ge],rt=je[(We+1)%Ge],Ye[We]=PN(tt,Ft,rt,kt),tt=Ft,Ft=rt;s.drawRoundPolygonPath(Ae||t,pe.x+Xe,pe.y+at,o*Ee,l*Ce,Ie,Ye)}else if(["roundrectangle","round-rectangle"].includes(ge))ee=ee==="auto"?Jd(Ne,Se):ee,s.drawRoundRectanglePath(Ae||t,pe.x,pe.y,Ne,Se,ee+(ve+V+H)/2);else if(["cutrectangle","cut-rectangle"].includes(ge))ee=ee==="auto"?EN():ee,s.drawCutRectanglePath(Ae||t,pe.x,pe.y,Ne,Se,null,ee+(ve+V+H)/4);else if(["bottomroundrectangle","bottom-round-rectangle"].includes(ge))ee=ee==="auto"?Jd(Ne,Se):ee,s.drawBottomRoundRectanglePath(Ae||t,pe.x,pe.y,Ne,Se,ee+(ve+V+H)/2);else if(ge==="barrel")s.drawBarrelPath(Ae||t,pe.x,pe.y,Ne,Se);else if(ge.startsWith("polygon")||["rhomboid","right-rhomboid","round-tag","tag","vee"].includes(ge)){var ct=(ve+V+H)/o;Ie=b5(w5(Ie,ct)),s.drawPolygonPath(Ae||t,pe.x,pe.y,o,l,Ie)}else{var Dt=(ve+V+H)/o;Ie=b5(w5(Ie,-Dt)),s.drawPolygonPath(Ae||t,pe.x,pe.y,o,l,Ie)}if(f?t.stroke(Ae):t.stroke(),K==="double"){t.lineWidth=ve/3;var Vt=t.globalCompositeOperation;t.globalCompositeOperation="destination-out",f?t.stroke(Ae):t.stroke(),t.globalCompositeOperation=Vt}t.setLineDash&&t.setLineDash([])}},He=function(){i&&s.drawNodeOverlay(t,e,d,o,l)},Ve=function(){i&&s.drawNodeUnderlay(t,e,d,o,l)},Re=function(){s.drawElementText(t,e,null,n)},de=e.pstyle("ghost").value==="yes";if(de){var X=e.pstyle("ghost-offset-x").pfValue,oe=e.pstyle("ghost-offset-y").pfValue,me=e.pstyle("ghost-opacity").value,ne=me*p;t.translate(X,oe),j(),Ue(),te(me*F),J(),_e(ne,!0),U(me*$),be(),ce(A!==0||N!==0),_e(ne,!1),Te(ne),t.translate(-X,-oe)}f&&t.translate(-d.x,-d.y),Ve(),f&&t.translate(d.x,d.y),j(),Ue(),te(),J(),_e(p,!0),U(),be(),ce(A!==0||N!==0),_e(p,!1),Te(),f&&t.translate(-d.x,-d.y),Re(),He(),r&&t.translate(v.x1,v.y1)}};var cse=function(e){if(!["overlay","underlay"].includes(e))throw new Error("Invalid state");return function(r,n,i,a,s){var o=this;if(n.visible()){var l=n.pstyle("".concat(e,"-padding")).pfValue,u=n.pstyle("".concat(e,"-opacity")).value,h=n.pstyle("".concat(e,"-color")).value,d=n.pstyle("".concat(e,"-shape")).value,p=n.pstyle("".concat(e,"-corner-radius")).value;if(u>0){if(i=i||n.position(),a==null||s==null){var f=n.padding();a=n.width()+2*f,s=n.height()+2*f}o.colorFillStyle(r,h[0],h[1],h[2],u),o.nodeShapes[d].draw(r,i.x,i.y,a+l*2,s+l*2,p),r.fill()}}}};r1.drawNodeOverlay=cse("overlay");r1.drawNodeUnderlay=cse("underlay");r1.hasPie=function(t){return t=t[0],t._private.hasPie};r1.drawPie=function(t,e,r,n){e=e[0],n=n||e.position();var i=e.cy().style(),a=e.pstyle("pie-size"),s=n.x,o=n.y,l=e.width(),u=e.height(),h=Math.min(l,u)/2,d=0,p=this.usePaths();p&&(s=0,o=0),a.units==="%"?h=h*a.pfValue:a.pfValue!==void 0&&(h=a.pfValue/2);for(var f=1;f<=i.pieBackgroundN;f++){var g=e.pstyle("pie-"+f+"-background-size").value,m=e.pstyle("pie-"+f+"-background-color").value,y=e.pstyle("pie-"+f+"-background-opacity").value*r,v=g/100;v+d>1&&(v=1-d);var x=1.5*Math.PI+2*Math.PI*d,w=2*Math.PI*v,k=x+w;g===0||d>=1||d+v>1||(t.beginPath(),t.moveTo(s,o),t.arc(s,o,h,x,k),t.closePath(),this.colorFillStyle(t,m[0],m[1],m[2],y),t.fill(),d+=v)}};var Us={},nJe=100;Us.getPixelRatio=function(){var t=this.data.contexts[0];if(this.forcedPixelRatio!=null)return this.forcedPixelRatio;var e=this.cy.window(),r=t.backingStorePixelRatio||t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1;return(e.devicePixelRatio||1)/r};Us.paintCache=function(t){for(var e=this.paintCaches=this.paintCaches||[],r=!0,n,i=0;i<e.length;i++)if(n=e[i],n.context===t){r=!1;break}return r&&(n={context:t},e.push(n)),n};Us.createGradientStyleFor=function(t,e,r,n,i){var a,s=this.usePaths(),o=r.pstyle(e+"-gradient-stop-colors").value,l=r.pstyle(e+"-gradient-stop-positions").pfValue;if(n==="radial-gradient")if(r.isEdge()){var u=r.sourceEndpoint(),h=r.targetEndpoint(),d=r.midpoint(),p=Zd(u,d),f=Zd(h,d);a=t.createRadialGradient(d.x,d.y,0,d.x,d.y,Math.max(p,f))}else{var g=s?{x:0,y:0}:r.position(),m=r.paddedWidth(),y=r.paddedHeight();a=t.createRadialGradient(g.x,g.y,0,g.x,g.y,Math.max(m,y))}else if(r.isEdge()){var v=r.sourceEndpoint(),x=r.targetEndpoint();a=t.createLinearGradient(v.x,v.y,x.x,x.y)}else{var w=s?{x:0,y:0}:r.position(),k=r.paddedWidth(),E=r.paddedHeight(),_=k/2,S=E/2,R=r.pstyle("background-gradient-direction").value;switch(R){case"to-bottom":a=t.createLinearGradient(w.x,w.y-S,w.x,w.y+S);break;case"to-top":a=t.createLinearGradient(w.x,w.y+S,w.x,w.y-S);break;case"to-left":a=t.createLinearGradient(w.x+_,w.y,w.x-_,w.y);break;case"to-right":a=t.createLinearGradient(w.x-_,w.y,w.x+_,w.y);break;case"to-bottom-right":case"to-right-bottom":a=t.createLinearGradient(w.x-_,w.y-S,w.x+_,w.y+S);break;case"to-top-right":case"to-right-top":a=t.createLinearGradient(w.x-_,w.y+S,w.x+_,w.y-S);break;case"to-bottom-left":case"to-left-bottom":a=t.createLinearGradient(w.x+_,w.y-S,w.x-_,w.y+S);break;case"to-top-left":case"to-left-top":a=t.createLinearGradient(w.x+_,w.y+S,w.x-_,w.y-S);break}}if(!a)return null;for(var C=l.length===o.length,L=o.length,A=0;A<L;A++)a.addColorStop(C?l[A]:A/(L-1),"rgba("+o[A][0]+","+o[A][1]+","+o[A][2]+","+i+")");return a};Us.gradientFillStyle=function(t,e,r,n){var i=this.createGradientStyleFor(t,"background",e,r,n);if(!i)return null;t.fillStyle=i};Us.colorFillStyle=function(t,e,r,n,i){t.fillStyle="rgba("+e+","+r+","+n+","+i+")"};Us.eleFillStyle=function(t,e,r){var n=e.pstyle("background-fill").value;if(n==="linear-gradient"||n==="radial-gradient")this.gradientFillStyle(t,e,n,r);else{var i=e.pstyle("background-color").value;this.colorFillStyle(t,i[0],i[1],i[2],r)}};Us.gradientStrokeStyle=function(t,e,r,n){var i=this.createGradientStyleFor(t,"line",e,r,n);if(!i)return null;t.strokeStyle=i};Us.colorStrokeStyle=function(t,e,r,n,i){t.strokeStyle="rgba("+e+","+r+","+n+","+i+")"};Us.eleStrokeStyle=function(t,e,r){var n=e.pstyle("line-fill").value;if(n==="linear-gradient"||n==="radial-gradient")this.gradientStrokeStyle(t,e,n,r);else{var i=e.pstyle("line-color").value;this.colorStrokeStyle(t,i[0],i[1],i[2],r)}};Us.matchCanvasSize=function(t){var e=this,r=e.data,n=e.findContainerClientCoords(),i=n[2],a=n[3],s=e.getPixelRatio(),o=e.motionBlurPxRatio;(t===e.data.bufferCanvases[e.MOTIONBLUR_BUFFER_NODE]||t===e.data.bufferCanvases[e.MOTIONBLUR_BUFFER_DRAG])&&(s=o);var l=i*s,u=a*s,h;if(!(l===e.canvasWidth&&u===e.canvasHeight)){e.fontCaches=null;var d=r.canvasContainer;d.style.width=i+"px",d.style.height=a+"px";for(var p=0;p<e.CANVAS_LAYERS;p++)h=r.canvases[p],h.width=l,h.height=u,h.style.width=i+"px",h.style.height=a+"px";for(var p=0;p<e.BUFFER_COUNT;p++)h=r.bufferCanvases[p],h.width=l,h.height=u,h.style.width=i+"px",h.style.height=a+"px";e.textureMult=1,s<=1&&(h=r.bufferCanvases[e.TEXTURE_BUFFER],e.textureMult=2,h.width=l*e.textureMult,h.height=u*e.textureMult),e.canvasWidth=l,e.canvasHeight=u}};Us.renderTo=function(t,e,r,n){this.render({forcedContext:t,forcedZoom:e,forcedPan:r,drawAllLayers:!0,forcedPxRatio:n})};Us.render=function(t){t=t||Jie();var e=t.forcedContext,r=t.drawAllLayers,n=t.drawOnlyNodeLayer,i=t.forcedZoom,a=t.forcedPan,s=this,o=t.forcedPxRatio===void 0?this.getPixelRatio():t.forcedPxRatio,l=s.cy,u=s.data,h=u.canvasNeedsRedraw,d=s.textureOnViewport&&!e&&(s.pinching||s.hoverData.dragging||s.swipePanning||s.data.wheelZooming),p=t.motionBlur!==void 0?t.motionBlur:s.motionBlur,f=s.motionBlurPxRatio,g=l.hasCompoundNodes(),m=s.hoverData.draggingEles,y=!!(s.hoverData.selecting||s.touchData.selecting);p=p&&!e&&s.motionBlurEnabled&&!y;var v=p;e||(s.prevPxRatio!==o&&(s.invalidateContainerClientCoordsCache(),s.matchCanvasSize(s.container),s.redrawHint("eles",!0),s.redrawHint("drag",!0)),s.prevPxRatio=o),!e&&s.motionBlurTimeout&&clearTimeout(s.motionBlurTimeout),p&&(s.mbFrames==null&&(s.mbFrames=0),s.mbFrames++,s.mbFrames<3&&(v=!1),s.mbFrames>s.minMbLowQualFrames&&(s.motionBlurPxRatio=s.mbPxRBlurry)),s.clearingMotionBlur&&(s.motionBlurPxRatio=1),s.textureDrawLastFrame&&!d&&(h[s.NODE]=!0,h[s.SELECT_BOX]=!0);var x=l.style(),w=l.zoom(),k=i!==void 0?i:w,E=l.pan(),_={x:E.x,y:E.y},S={zoom:w,pan:{x:E.x,y:E.y}},R=s.prevViewport,C=R===void 0||S.zoom!==R.zoom||S.pan.x!==R.pan.x||S.pan.y!==R.pan.y;!C&&!(m&&!g)&&(s.motionBlurPxRatio=1),a&&(_=a),k*=o,_.x*=o,_.y*=o;var L=s.getCachedZSortedEles();function A(ie,J,_e,ce,Te){var be=ie.globalCompositeOperation;ie.globalCompositeOperation="destination-out",s.colorFillStyle(ie,255,255,255,s.motionBlurTransparency),ie.fillRect(J,_e,ce,Te),ie.globalCompositeOperation=be}function N(ie,J){var _e,ce,Te,be;!s.clearingMotionBlur&&(ie===u.bufferContexts[s.MOTIONBLUR_BUFFER_NODE]||ie===u.bufferContexts[s.MOTIONBLUR_BUFFER_DRAG])?(_e={x:E.x*f,y:E.y*f},ce=w*f,Te=s.canvasWidth*f,be=s.canvasHeight*f):(_e=_,ce=k,Te=s.canvasWidth,be=s.canvasHeight),ie.setTransform(1,0,0,1,0,0),J==="motionBlur"?A(ie,0,0,Te,be):!e&&(J===void 0||J)&&ie.clearRect(0,0,Te,be),r||(ie.translate(_e.x,_e.y),ie.scale(ce,ce)),a&&ie.translate(a.x,a.y),i&&ie.scale(i,i)}if(d||(s.textureDrawLastFrame=!1),d){if(s.textureDrawLastFrame=!0,!s.textureCache){s.textureCache={},s.textureCache.bb=l.mutableElements().boundingBox(),s.textureCache.texture=s.data.bufferCanvases[s.TEXTURE_BUFFER];var F=s.data.bufferContexts[s.TEXTURE_BUFFER];F.setTransform(1,0,0,1,0,0),F.clearRect(0,0,s.canvasWidth*s.textureMult,s.canvasHeight*s.textureMult),s.render({forcedContext:F,drawOnlyNodeLayer:!0,forcedPxRatio:o*s.textureMult});var S=s.textureCache.viewport={zoom:l.zoom(),pan:l.pan(),width:s.canvasWidth,height:s.canvasHeight};S.mpan={x:(0-S.pan.x)/S.zoom,y:(0-S.pan.y)/S.zoom}}h[s.DRAG]=!1,h[s.NODE]=!1;var T=u.contexts[s.NODE],D=s.textureCache.texture,S=s.textureCache.viewport;T.setTransform(1,0,0,1,0,0),p?A(T,0,0,S.width,S.height):T.clearRect(0,0,S.width,S.height);var M=x.core("outside-texture-bg-color").value,O=x.core("outside-texture-bg-opacity").value;s.colorFillStyle(T,M[0],M[1],M[2],O),T.fillRect(0,0,S.width,S.height);var w=l.zoom();N(T,!1),T.clearRect(S.mpan.x,S.mpan.y,S.width/S.zoom/o,S.height/S.zoom/o),T.drawImage(D,S.mpan.x,S.mpan.y,S.width/S.zoom/o,S.height/S.zoom/o)}else s.textureOnViewport&&!e&&(s.textureCache=null);var I=l.extent(),P=s.pinching||s.hoverData.dragging||s.swipePanning||s.data.wheelZooming||s.hoverData.draggingEles||s.cy.animated(),B=s.hideEdgesOnViewport&&P,$=[];if($[s.NODE]=!h[s.NODE]&&p&&!s.clearedForMotionBlur[s.NODE]||s.clearingMotionBlur,$[s.NODE]&&(s.clearedForMotionBlur[s.NODE]=!0),$[s.DRAG]=!h[s.DRAG]&&p&&!s.clearedForMotionBlur[s.DRAG]||s.clearingMotionBlur,$[s.DRAG]&&(s.clearedForMotionBlur[s.DRAG]=!0),h[s.NODE]||r||n||$[s.NODE]){var V=p&&!$[s.NODE]&&f!==1,T=e||(V?s.data.bufferContexts[s.MOTIONBLUR_BUFFER_NODE]:u.contexts[s.NODE]),W=p&&!V?"motionBlur":void 0;N(T,W),B?s.drawCachedNodes(T,L.nondrag,o,I):s.drawLayeredElements(T,L.nondrag,o,I),s.debug&&s.drawDebugPoints(T,L.nondrag),!r&&!p&&(h[s.NODE]=!1)}if(!n&&(h[s.DRAG]||r||$[s.DRAG])){var V=p&&!$[s.DRAG]&&f!==1,T=e||(V?s.data.bufferContexts[s.MOTIONBLUR_BUFFER_DRAG]:u.contexts[s.DRAG]);N(T,p&&!V?"motionBlur":void 0),B?s.drawCachedNodes(T,L.drag,o,I):s.drawCachedElements(T,L.drag,o,I),s.debug&&s.drawDebugPoints(T,L.drag),!r&&!p&&(h[s.DRAG]=!1)}if(s.showFps||!n&&h[s.SELECT_BOX]&&!r){var T=e||u.contexts[s.SELECT_BOX];if(N(T),s.selection[4]==1&&(s.hoverData.selecting||s.touchData.selecting)){var w=s.cy.zoom(),K=x.core("selection-box-border-width").value/w;T.lineWidth=K,T.fillStyle="rgba("+x.core("selection-box-color").value[0]+","+x.core("selection-box-color").value[1]+","+x.core("selection-box-color").value[2]+","+x.core("selection-box-opacity").value+")",T.fillRect(s.selection[0],s.selection[1],s.selection[2]-s.selection[0],s.selection[3]-s.selection[1]),K>0&&(T.strokeStyle="rgba("+x.core("selection-box-border-color").value[0]+","+x.core("selection-box-border-color").value[1]+","+x.core("selection-box-border-color").value[2]+","+x.core("selection-box-opacity").value+")",T.strokeRect(s.selection[0],s.selection[1],s.selection[2]-s.selection[0],s.selection[3]-s.selection[1]))}if(u.bgActivePosistion&&!s.hoverData.selecting){var w=s.cy.zoom(),Z=u.bgActivePosistion;T.fillStyle="rgba("+x.core("active-bg-color").value[0]+","+x.core("active-bg-color").value[1]+","+x.core("active-bg-color").value[2]+","+x.core("active-bg-opacity").value+")",T.beginPath(),T.arc(Z.x,Z.y,x.core("active-bg-size").pfValue/w,0,2*Math.PI),T.fill()}var H=s.lastRedrawTime;if(s.showFps&&H){H=Math.round(H);var ee=Math.round(1e3/H);T.setTransform(1,0,0,1,0,0),T.fillStyle="rgba(255, 0, 0, 0.75)",T.strokeStyle="rgba(255, 0, 0, 0.75)",T.lineWidth=1,T.fillText("1 frame = "+H+" ms = "+ee+" fps",0,20);var te=60;T.strokeRect(0,30,250,20),T.fillRect(0,30,250*Math.min(ee/te,1),20)}r||(h[s.SELECT_BOX]=!1)}if(p&&f!==1){var U=u.contexts[s.NODE],j=s.data.bufferCanvases[s.MOTIONBLUR_BUFFER_NODE],Y=u.contexts[s.DRAG],Q=s.data.bufferCanvases[s.MOTIONBLUR_BUFFER_DRAG],ae=function(J,_e,ce){J.setTransform(1,0,0,1,0,0),ce||!v?J.clearRect(0,0,s.canvasWidth,s.canvasHeight):A(J,0,0,s.canvasWidth,s.canvasHeight);var Te=f;J.drawImage(_e,0,0,s.canvasWidth*Te,s.canvasHeight*Te,0,0,s.canvasWidth,s.canvasHeight)};(h[s.NODE]||$[s.NODE])&&(ae(U,j,$[s.NODE]),h[s.NODE]=!1),(h[s.DRAG]||$[s.DRAG])&&(ae(Y,Q,$[s.DRAG]),h[s.DRAG]=!1)}s.prevViewport=S,s.clearingMotionBlur&&(s.clearingMotionBlur=!1,s.motionBlurCleared=!0,s.motionBlur=!0),p&&(s.motionBlurTimeout=setTimeout(function(){s.motionBlurTimeout=null,s.clearedForMotionBlur[s.NODE]=!1,s.clearedForMotionBlur[s.DRAG]=!1,s.motionBlur=!1,s.clearingMotionBlur=!d,s.mbFrames=0,h[s.NODE]=!0,h[s.DRAG]=!0,s.redraw()},nJe)),e||l.emit("render")};var Ah={};Ah.drawPolygonPath=function(t,e,r,n,i,a){var s=n/2,o=i/2;t.beginPath&&t.beginPath(),t.moveTo(e+s*a[0],r+o*a[1]);for(var l=1;l<a.length/2;l++)t.lineTo(e+s*a[l*2],r+o*a[l*2+1]);t.closePath()};Ah.drawRoundPolygonPath=function(t,e,r,n,i,a,s){s.forEach(function(o){return Qae(t,o)}),t.closePath()};Ah.drawRoundRectanglePath=function(t,e,r,n,i,a){var s=n/2,o=i/2,l=a==="auto"?Jd(n,i):Math.min(a,o,s);t.beginPath&&t.beginPath(),t.moveTo(e,r-o),t.arcTo(e+s,r-o,e+s,r,l),t.arcTo(e+s,r+o,e,r+o,l),t.arcTo(e-s,r+o,e-s,r,l),t.arcTo(e-s,r-o,e,r-o,l),t.lineTo(e,r-o),t.closePath()};Ah.drawBottomRoundRectanglePath=function(t,e,r,n,i,a){var s=n/2,o=i/2,l=a==="auto"?Jd(n,i):a;t.beginPath&&t.beginPath(),t.moveTo(e,r-o),t.lineTo(e+s,r-o),t.lineTo(e+s,r),t.arcTo(e+s,r+o,e,r+o,l),t.arcTo(e-s,r+o,e-s,r,l),t.lineTo(e-s,r-o),t.lineTo(e,r-o),t.closePath()};Ah.drawCutRectanglePath=function(t,e,r,n,i,a,s){var o=n/2,l=i/2,u=s==="auto"?EN():s;t.beginPath&&t.beginPath(),t.moveTo(e-o+u,r-l),t.lineTo(e+o-u,r-l),t.lineTo(e+o,r-l+u),t.lineTo(e+o,r+l-u),t.lineTo(e+o-u,r+l),t.lineTo(e-o+u,r+l),t.lineTo(e-o,r+l-u),t.lineTo(e-o,r-l+u),t.closePath()};Ah.drawBarrelPath=function(t,e,r,n,i){var a=n/2,s=i/2,o=e-a,l=e+a,u=r-s,h=r+s,d=g8(n,i),p=d.widthOffset,f=d.heightOffset,g=d.ctrlPtOffsetPct*p;t.beginPath&&t.beginPath(),t.moveTo(o,u+f),t.lineTo(o,h-f),t.quadraticCurveTo(o+g,h,o+p,h),t.lineTo(l-p,h),t.quadraticCurveTo(l-g,h,l,h-f),t.lineTo(l,u+f),t.quadraticCurveTo(l-g,u,l-p,u),t.lineTo(o+p,u),t.quadraticCurveTo(o+g,u,o,u+f),t.closePath()};var rz=Math.sin(0),nz=Math.cos(0),A8={},_8={},use=Math.PI/40;for(var $f=0*Math.PI;$f<2*Math.PI;$f+=use)A8[$f]=Math.sin($f),_8[$f]=Math.cos($f);Ah.drawEllipsePath=function(t,e,r,n,i){if(t.beginPath&&t.beginPath(),t.ellipse)t.ellipse(e,r,n/2,i/2,0,0,2*Math.PI);else for(var a,s,o=n/2,l=i/2,u=0*Math.PI;u<2*Math.PI;u+=use)a=e-o*A8[u]*rz+o*_8[u]*nz,s=r+l*_8[u]*rz+l*A8[u]*nz,u===0?t.moveTo(a,s):t.lineTo(a,s);t.closePath()};var d2={};d2.createBuffer=function(t,e){var r=document.createElement("canvas");return r.width=t,r.height=e,[r,r.getContext("2d")]};d2.bufferCanvasImage=function(t){var e=this.cy,r=e.mutableElements(),n=r.boundingBox(),i=this.findContainerClientCoords(),a=t.full?Math.ceil(n.w):i[2],s=t.full?Math.ceil(n.h):i[3],o=mt(t.maxWidth)||mt(t.maxHeight),l=this.getPixelRatio(),u=1;if(t.scale!==void 0)a*=t.scale,s*=t.scale,u=t.scale;else if(o){var h=1/0,d=1/0;mt(t.maxWidth)&&(h=u*t.maxWidth/a),mt(t.maxHeight)&&(d=u*t.maxHeight/s),u=Math.min(h,d),a*=u,s*=u}o||(a*=l,s*=l,u*=l);var p=document.createElement("canvas");p.width=a,p.height=s,p.style.width=a+"px",p.style.height=s+"px";var f=p.getContext("2d");if(a>0&&s>0){f.clearRect(0,0,a,s),f.globalCompositeOperation="source-over";var g=this.getCachedZSortedEles();if(t.full)f.translate(-n.x1*u,-n.y1*u),f.scale(u,u),this.drawElements(f,g),f.scale(1/u,1/u),f.translate(n.x1*u,n.y1*u);else{var m=e.pan(),y={x:m.x*u,y:m.y*u};u*=e.zoom(),f.translate(y.x,y.y),f.scale(u,u),this.drawElements(f,g),f.scale(1/u,1/u),f.translate(-y.x,-y.y)}t.bg&&(f.globalCompositeOperation="destination-over",f.fillStyle=t.bg,f.rect(0,0,a,s),f.fill())}return p};function iJe(t,e){for(var r=atob(t),n=new ArrayBuffer(r.length),i=new Uint8Array(n),a=0;a<r.length;a++)i[a]=r.charCodeAt(a);return new Blob([n],{type:e})}function iz(t){var e=t.indexOf(",");return t.substr(e+1)}function hse(t,e,r){var n=function(){return e.toDataURL(r,t.quality)};switch(t.output){case"blob-promise":return new jg(function(i,a){try{e.toBlob(function(s){s!=null?i(s):a(new Error("`canvas.toBlob()` sent a null value in its callback"))},r,t.quality)}catch(s){a(s)}});case"blob":return iJe(iz(n()),r);case"base64":return iz(n());case"base64uri":default:return n()}}d2.png=function(t){return hse(t,this.bufferCanvasImage(t),"image/png")};d2.jpg=function(t){return hse(t,this.bufferCanvasImage(t),"image/jpeg")};var dse={};dse.nodeShapeImpl=function(t,e,r,n,i,a,s,o){switch(t){case"ellipse":return this.drawEllipsePath(e,r,n,i,a);case"polygon":return this.drawPolygonPath(e,r,n,i,a,s);case"round-polygon":return this.drawRoundPolygonPath(e,r,n,i,a,s,o);case"roundrectangle":case"round-rectangle":return this.drawRoundRectanglePath(e,r,n,i,a,o);case"cutrectangle":case"cut-rectangle":return this.drawCutRectanglePath(e,r,n,i,a,s,o);case"bottomroundrectangle":case"bottom-round-rectangle":return this.drawBottomRoundRectanglePath(e,r,n,i,a,o);case"barrel":return this.drawBarrelPath(e,r,n,i,a)}};var aJe=fse,Sr=fse.prototype;Sr.CANVAS_LAYERS=3;Sr.SELECT_BOX=0;Sr.DRAG=1;Sr.NODE=2;Sr.BUFFER_COUNT=3;Sr.TEXTURE_BUFFER=0;Sr.MOTIONBLUR_BUFFER_NODE=1;Sr.MOTIONBLUR_BUFFER_DRAG=2;function fse(t){var e=this,r=e.cy.window(),n=r.document;e.data={canvases:new Array(Sr.CANVAS_LAYERS),contexts:new Array(Sr.CANVAS_LAYERS),canvasNeedsRedraw:new Array(Sr.CANVAS_LAYERS),bufferCanvases:new Array(Sr.BUFFER_COUNT),bufferContexts:new Array(Sr.CANVAS_LAYERS)};var i="-webkit-tap-highlight-color",a="rgba(0,0,0,0)";e.data.canvasContainer=n.createElement("div");var s=e.data.canvasContainer.style;e.data.canvasContainer.style[i]=a,s.position="relative",s.zIndex="0",s.overflow="hidden";var o=t.cy.container();o.appendChild(e.data.canvasContainer),o.style[i]=a;var l={"-webkit-user-select":"none","-moz-user-select":"-moz-none","user-select":"none","-webkit-tap-highlight-color":"rgba(0,0,0,0)","outline-style":"none"};YWe()&&(l["-ms-touch-action"]="none",l["touch-action"]="none");for(var u=0;u<Sr.CANVAS_LAYERS;u++){var h=e.data.canvases[u]=n.createElement("canvas");e.data.contexts[u]=h.getContext("2d"),Object.keys(l).forEach(function(te){h.style[te]=l[te]}),h.style.position="absolute",h.setAttribute("data-id","layer"+u),h.style.zIndex=String(Sr.CANVAS_LAYERS-u),e.data.canvasContainer.appendChild(h),e.data.canvasNeedsRedraw[u]=!1}e.data.topCanvas=e.data.canvases[0],e.data.canvases[Sr.NODE].setAttribute("data-id","layer"+Sr.NODE+"-node"),e.data.canvases[Sr.SELECT_BOX].setAttribute("data-id","layer"+Sr.SELECT_BOX+"-selectbox"),e.data.canvases[Sr.DRAG].setAttribute("data-id","layer"+Sr.DRAG+"-drag");for(var u=0;u<Sr.BUFFER_COUNT;u++)e.data.bufferCanvases[u]=n.createElement("canvas"),e.data.bufferContexts[u]=e.data.bufferCanvases[u].getContext("2d"),e.data.bufferCanvases[u].style.position="absolute",e.data.bufferCanvases[u].setAttribute("data-id","buffer"+u),e.data.bufferCanvases[u].style.zIndex=String(-u-1),e.data.bufferCanvases[u].style.visibility="hidden";e.pathsEnabled=!0;var d=fs(),p=function(U){return{x:(U.x1+U.x2)/2,y:(U.y1+U.y2)/2}},f=function(U){return{x:-U.w/2,y:-U.h/2}},g=function(U){var j=U[0]._private,Y=j.oldBackgroundTimestamp===j.backgroundTimestamp;return!Y},m=function(U){return U[0]._private.nodeKey},y=function(U){return U[0]._private.labelStyleKey},v=function(U){return U[0]._private.sourceLabelStyleKey},x=function(U){return U[0]._private.targetLabelStyleKey},w=function(U,j,Y,Q,ae){return e.drawElement(U,j,Y,!1,!1,ae)},k=function(U,j,Y,Q,ae){return e.drawElementText(U,j,Y,Q,"main",ae)},E=function(U,j,Y,Q,ae){return e.drawElementText(U,j,Y,Q,"source",ae)},_=function(U,j,Y,Q,ae){return e.drawElementText(U,j,Y,Q,"target",ae)},S=function(U){return U.boundingBox(),U[0]._private.bodyBounds},R=function(U){return U.boundingBox(),U[0]._private.labelBounds.main||d},C=function(U){return U.boundingBox(),U[0]._private.labelBounds.source||d},L=function(U){return U.boundingBox(),U[0]._private.labelBounds.target||d},A=function(U,j){return j},N=function(U){return p(S(U))},F=function(U,j,Y){var Q=U?U+"-":"";return{x:j.x+Y.pstyle(Q+"text-margin-x").pfValue,y:j.y+Y.pstyle(Q+"text-margin-y").pfValue}},T=function(U,j,Y){var Q=U[0]._private.rscratch;return{x:Q[j],y:Q[Y]}},D=function(U){return F("",T(U,"labelX","labelY"),U)},M=function(U){return F("source",T(U,"sourceLabelX","sourceLabelY"),U)},O=function(U){return F("target",T(U,"targetLabelX","targetLabelY"),U)},I=function(U){return f(S(U))},P=function(U){return f(C(U))},B=function(U){return f(L(U))},$=function(U){var j=R(U),Y=f(R(U));if(U.isNode()){switch(U.pstyle("text-halign").value){case"left":Y.x=-j.w;break;case"right":Y.x=0;break}switch(U.pstyle("text-valign").value){case"top":Y.y=-j.h;break;case"bottom":Y.y=0;break}}return Y},V=e.data.eleTxrCache=new gm(e,{getKey:m,doesEleInvalidateKey:g,drawElement:w,getBoundingBox:S,getRotationPoint:N,getRotationOffset:I,allowEdgeTxrCaching:!1,allowParentTxrCaching:!1}),W=e.data.lblTxrCache=new gm(e,{getKey:y,drawElement:k,getBoundingBox:R,getRotationPoint:D,getRotationOffset:$,isVisible:A}),K=e.data.slbTxrCache=new gm(e,{getKey:v,drawElement:E,getBoundingBox:C,getRotationPoint:M,getRotationOffset:P,isVisible:A}),Z=e.data.tlbTxrCache=new gm(e,{getKey:x,drawElement:_,getBoundingBox:L,getRotationPoint:O,getRotationOffset:B,isVisible:A}),H=e.data.lyrTxrCache=new sse(e);e.onUpdateEleCalcs(function(U,j){V.invalidateElements(j),W.invalidateElements(j),K.invalidateElements(j),Z.invalidateElements(j),H.invalidateElements(j);for(var Y=0;Y<j.length;Y++){var Q=j[Y]._private;Q.oldBackgroundTimestamp=Q.backgroundTimestamp}});var ee=function(U){for(var j=0;j<U.length;j++)H.enqueueElementRefinement(U[j].ele)};V.onDequeue(ee),W.onDequeue(ee),K.onDequeue(ee),Z.onDequeue(ee)}Sr.redrawHint=function(t,e){var r=this;switch(t){case"eles":r.data.canvasNeedsRedraw[Sr.NODE]=e;break;case"drag":r.data.canvasNeedsRedraw[Sr.DRAG]=e;break;case"select":r.data.canvasNeedsRedraw[Sr.SELECT_BOX]=e;break}};var sJe=typeof Path2D<"u";Sr.path2dEnabled=function(t){if(t===void 0)return this.pathsEnabled;this.pathsEnabled=!!t};Sr.usePaths=function(){return sJe&&this.pathsEnabled};Sr.setImgSmoothing=function(t,e){t.imageSmoothingEnabled!=null?t.imageSmoothingEnabled=e:(t.webkitImageSmoothingEnabled=e,t.mozImageSmoothingEnabled=e,t.msImageSmoothingEnabled=e)};Sr.getImgSmoothing=function(t){return t.imageSmoothingEnabled!=null?t.imageSmoothingEnabled:t.webkitImageSmoothingEnabled||t.mozImageSmoothingEnabled||t.msImageSmoothingEnabled};Sr.makeOffscreenCanvas=function(t,e){var r;if((typeof OffscreenCanvas>"u"?"undefined":vi(OffscreenCanvas))!=="undefined")r=new OffscreenCanvas(t,e);else{var n=this.cy.window(),i=n.document;r=i.createElement("canvas"),r.width=t,r.height=e}return r};[ose,Wl,ru,BN,Cf,r1,Us,Ah,d2,dse].forEach(function(t){jt(Sr,t)});var oJe=[{name:"null",impl:jae},{name:"base",impl:ise},{name:"canvas",impl:aJe}],lJe=[{type:"layout",extensions:pZe},{type:"renderer",extensions:oJe}],pse={},gse={};function mse(t,e,r){var n=r,i=function(R){Or("Can not register `"+e+"` for `"+t+"` since `"+R+"` already exists in the prototype and can not be overridden")};if(t==="core"){if(sy.prototype[e])return i(e);sy.prototype[e]=r}else if(t==="collection"){if(ji.prototype[e])return i(e);ji.prototype[e]=r}else if(t==="layout"){for(var a=function(R){this.options=R,r.call(this,R),Tr(this._private)||(this._private={}),this._private.cy=R.cy,this._private.listeners=[],this.createEmitter()},s=a.prototype=Object.create(r.prototype),o=[],l=0;l<o.length;l++){var u=o[l];s[u]=s[u]||function(){return this}}s.start&&!s.run?s.run=function(){return this.start(),this}:!s.start&&s.run&&(s.start=function(){return this.run(),this});var h=r.prototype.stop;s.stop=function(){var S=this.options;if(S&&S.animate){var R=this.animations;if(R)for(var C=0;C<R.length;C++)R[C].stop()}return h?h.call(this):this.emit("layoutstop"),this},s.destroy||(s.destroy=function(){return this}),s.cy=function(){return this._private.cy};var d=function(R){return R._private.cy},p={addEventFields:function(R,C){C.layout=R,C.cy=d(R),C.target=R},bubble:function(){return!0},parent:function(R){return d(R)}};jt(s,{createEmitter:function(){return this._private.emitter=new D6(p,this),this},emitter:function(){return this._private.emitter},on:function(R,C){return this.emitter().on(R,C),this},one:function(R,C){return this.emitter().one(R,C),this},once:function(R,C){return this.emitter().one(R,C),this},removeListener:function(R,C){return this.emitter().removeListener(R,C),this},removeAllListeners:function(){return this.emitter().removeAllListeners(),this},emit:function(R,C){return this.emitter().emit(R,C),this}}),Mr.eventAliasesOn(s),n=a}else if(t==="renderer"&&e!=="null"&&e!=="base"){var f=vse("renderer","base"),g=f.prototype,m=r,y=r.prototype,v=function(){f.apply(this,arguments),m.apply(this,arguments)},x=v.prototype;for(var w in g){var k=g[w],E=y[w]!=null;if(E)return i(w);x[w]=k}for(var _ in y)x[_]=y[_];g.clientFunctions.forEach(function(S){x[S]=x[S]||function(){In("Renderer does not implement `renderer."+S+"()` on its prototype")}}),n=v}else if(t==="__proto__"||t==="constructor"||t==="prototype")return In(t+" is an illegal type to be registered, possibly lead to prototype pollutions");return Vie({map:pse,keys:[t,e],value:n})}function vse(t,e){return Gie({map:pse,keys:[t,e]})}function cJe(t,e,r,n,i){return Vie({map:gse,keys:[t,e,r,n],value:i})}function uJe(t,e,r,n){return Gie({map:gse,keys:[t,e,r,n]})}var L8=function(){if(arguments.length===2)return vse.apply(null,arguments);if(arguments.length===3)return mse.apply(null,arguments);if(arguments.length===4)return uJe.apply(null,arguments);if(arguments.length===5)return cJe.apply(null,arguments);In("Invalid extension access syntax")};sy.prototype.extension=L8;lJe.forEach(function(t){t.extensions.forEach(function(e){mse(t.type,e.name,e.impl)})});var yse=function t(){if(!(this instanceof t))return new t;this.length=0},rf=yse.prototype;rf.instanceString=function(){return"stylesheet"};rf.selector=function(t){var e=this.length++;return this[e]={selector:t,properties:[]},this};rf.css=function(t,e){var r=this.length-1;if(Bt(t))this[r].properties.push({name:t,value:e});else if(Tr(t))for(var n=t,i=Object.keys(n),a=0;a<i.length;a++){var s=i[a],o=n[s];if(o!=null){var l=va.properties[s]||va.properties[E6(s)];if(l!=null){var u=l.name,h=o;this[r].properties.push({name:u,value:h})}}}return this};rf.style=rf.css;rf.generateStyle=function(t){var e=new va(t);return this.appendToStyle(e)};rf.appendToStyle=function(t){for(var e=0;e<this.length;e++){var r=this[e],n=r.selector,i=r.properties;t.selector(n);for(var a=0;a<i.length;a++){var s=i[a];t.css(s.name,s.value)}}return t};var hJe="3.30.2",Ml=function(e){if(e===void 0&&(e={}),Tr(e))return new sy(e);if(Bt(e))return L8.apply(L8,arguments)};Ml.use=function(t){var e=Array.prototype.slice.call(arguments,1);return e.unshift(Ml),t.apply(null,e),this};Ml.warnings=function(t){return Qie(t)};Ml.version=hJe;Ml.stylesheet=Ml.Stylesheet=yse;var xse={exports:{}},LE={exports:{}},NE={exports:{}},az;function dJe(){return az||(az=1,function(t,e){(function(n,i){t.exports=i()})(Il,function(){return function(r){var n={};function i(a){if(n[a])return n[a].exports;var s=n[a]={i:a,l:!1,exports:{}};return r[a].call(s.exports,s,s.exports,i),s.l=!0,s.exports}return i.m=r,i.c=n,i.i=function(a){return a},i.d=function(a,s,o){i.o(a,s)||Object.defineProperty(a,s,{configurable:!1,enumerable:!0,get:o})},i.n=function(a){var s=a&&a.__esModule?function(){return a.default}:function(){return a};return i.d(s,"a",s),s},i.o=function(a,s){return Object.prototype.hasOwnProperty.call(a,s)},i.p="",i(i.s=26)}([function(r,n,i){function a(){}a.QUALITY=1,a.DEFAULT_CREATE_BENDS_AS_NEEDED=!1,a.DEFAULT_INCREMENTAL=!1,a.DEFAULT_ANIMATION_ON_LAYOUT=!0,a.DEFAULT_ANIMATION_DURING_LAYOUT=!1,a.DEFAULT_ANIMATION_PERIOD=50,a.DEFAULT_UNIFORM_LEAF_NODE_SIZES=!1,a.DEFAULT_GRAPH_MARGIN=15,a.NODE_DIMENSIONS_INCLUDE_LABELS=!1,a.SIMPLE_NODE_SIZE=40,a.SIMPLE_NODE_HALF_SIZE=a.SIMPLE_NODE_SIZE/2,a.EMPTY_COMPOUND_NODE_SIZE=40,a.MIN_EDGE_LENGTH=1,a.WORLD_BOUNDARY=1e6,a.INITIAL_WORLD_BOUNDARY=a.WORLD_BOUNDARY/1e3,a.WORLD_CENTER_X=1200,a.WORLD_CENTER_Y=900,r.exports=a},function(r,n,i){var a=i(2),s=i(8),o=i(9);function l(h,d,p){a.call(this,p),this.isOverlapingSourceAndTarget=!1,this.vGraphObject=p,this.bendpoints=[],this.source=h,this.target=d}l.prototype=Object.create(a.prototype);for(var u in a)l[u]=a[u];l.prototype.getSource=function(){return this.source},l.prototype.getTarget=function(){return this.target},l.prototype.isInterGraph=function(){return this.isInterGraph},l.prototype.getLength=function(){return this.length},l.prototype.isOverlapingSourceAndTarget=function(){return this.isOverlapingSourceAndTarget},l.prototype.getBendpoints=function(){return this.bendpoints},l.prototype.getLca=function(){return this.lca},l.prototype.getSourceInLca=function(){return this.sourceInLca},l.prototype.getTargetInLca=function(){return this.targetInLca},l.prototype.getOtherEnd=function(h){if(this.source===h)return this.target;if(this.target===h)return this.source;throw"Node is not incident with this edge"},l.prototype.getOtherEndInGraph=function(h,d){for(var p=this.getOtherEnd(h),f=d.getGraphManager().getRoot();;){if(p.getOwner()==d)return p;if(p.getOwner()==f)break;p=p.getOwner().getParent()}return null},l.prototype.updateLength=function(){var h=new Array(4);this.isOverlapingSourceAndTarget=s.getIntersection(this.target.getRect(),this.source.getRect(),h),this.isOverlapingSourceAndTarget||(this.lengthX=h[0]-h[2],this.lengthY=h[1]-h[3],Math.abs(this.lengthX)<1&&(this.lengthX=o.sign(this.lengthX)),Math.abs(this.lengthY)<1&&(this.lengthY=o.sign(this.lengthY)),this.length=Math.sqrt(this.lengthX*this.lengthX+this.lengthY*this.lengthY))},l.prototype.updateLengthSimple=function(){this.lengthX=this.target.getCenterX()-this.source.getCenterX(),this.lengthY=this.target.getCenterY()-this.source.getCenterY(),Math.abs(this.lengthX)<1&&(this.lengthX=o.sign(this.lengthX)),Math.abs(this.lengthY)<1&&(this.lengthY=o.sign(this.lengthY)),this.length=Math.sqrt(this.lengthX*this.lengthX+this.lengthY*this.lengthY)},r.exports=l},function(r,n,i){function a(s){this.vGraphObject=s}r.exports=a},function(r,n,i){var a=i(2),s=i(10),o=i(13),l=i(0),u=i(16),h=i(4);function d(f,g,m,y){m==null&&y==null&&(y=g),a.call(this,y),f.graphManager!=null&&(f=f.graphManager),this.estimatedSize=s.MIN_VALUE,this.inclusionTreeDepth=s.MAX_VALUE,this.vGraphObject=y,this.edges=[],this.graphManager=f,m!=null&&g!=null?this.rect=new o(g.x,g.y,m.width,m.height):this.rect=new o}d.prototype=Object.create(a.prototype);for(var p in a)d[p]=a[p];d.prototype.getEdges=function(){return this.edges},d.prototype.getChild=function(){return this.child},d.prototype.getOwner=function(){return this.owner},d.prototype.getWidth=function(){return this.rect.width},d.prototype.setWidth=function(f){this.rect.width=f},d.prototype.getHeight=function(){return this.rect.height},d.prototype.setHeight=function(f){this.rect.height=f},d.prototype.getCenterX=function(){return this.rect.x+this.rect.width/2},d.prototype.getCenterY=function(){return this.rect.y+this.rect.height/2},d.prototype.getCenter=function(){return new h(this.rect.x+this.rect.width/2,this.rect.y+this.rect.height/2)},d.prototype.getLocation=function(){return new h(this.rect.x,this.rect.y)},d.prototype.getRect=function(){return this.rect},d.prototype.getDiagonal=function(){return Math.sqrt(this.rect.width*this.rect.width+this.rect.height*this.rect.height)},d.prototype.getHalfTheDiagonal=function(){return Math.sqrt(this.rect.height*this.rect.height+this.rect.width*this.rect.width)/2},d.prototype.setRect=function(f,g){this.rect.x=f.x,this.rect.y=f.y,this.rect.width=g.width,this.rect.height=g.height},d.prototype.setCenter=function(f,g){this.rect.x=f-this.rect.width/2,this.rect.y=g-this.rect.height/2},d.prototype.setLocation=function(f,g){this.rect.x=f,this.rect.y=g},d.prototype.moveBy=function(f,g){this.rect.x+=f,this.rect.y+=g},d.prototype.getEdgeListToNode=function(f){var g=[],m=this;return m.edges.forEach(function(y){if(y.target==f){if(y.source!=m)throw"Incorrect edge source!";g.push(y)}}),g},d.prototype.getEdgesBetween=function(f){var g=[],m=this;return m.edges.forEach(function(y){if(!(y.source==m||y.target==m))throw"Incorrect edge source and/or target";(y.target==f||y.source==f)&&g.push(y)}),g},d.prototype.getNeighborsList=function(){var f=new Set,g=this;return g.edges.forEach(function(m){if(m.source==g)f.add(m.target);else{if(m.target!=g)throw"Incorrect incidency!";f.add(m.source)}}),f},d.prototype.withChildren=function(){var f=new Set,g,m;if(f.add(this),this.child!=null)for(var y=this.child.getNodes(),v=0;v<y.length;v++)g=y[v],m=g.withChildren(),m.forEach(function(x){f.add(x)});return f},d.prototype.getNoOfChildren=function(){var f=0,g;if(this.child==null)f=1;else for(var m=this.child.getNodes(),y=0;y<m.length;y++)g=m[y],f+=g.getNoOfChildren();return f==0&&(f=1),f},d.prototype.getEstimatedSize=function(){if(this.estimatedSize==s.MIN_VALUE)throw"assert failed";return this.estimatedSize},d.prototype.calcEstimatedSize=function(){return this.child==null?this.estimatedSize=(this.rect.width+this.rect.height)/2:(this.estimatedSize=this.child.calcEstimatedSize(),this.rect.width=this.estimatedSize,this.rect.height=this.estimatedSize,this.estimatedSize)},d.prototype.scatter=function(){var f,g,m=-l.INITIAL_WORLD_BOUNDARY,y=l.INITIAL_WORLD_BOUNDARY;f=l.WORLD_CENTER_X+u.nextDouble()*(y-m)+m;var v=-l.INITIAL_WORLD_BOUNDARY,x=l.INITIAL_WORLD_BOUNDARY;g=l.WORLD_CENTER_Y+u.nextDouble()*(x-v)+v,this.rect.x=f,this.rect.y=g},d.prototype.updateBounds=function(){if(this.getChild()==null)throw"assert failed";if(this.getChild().getNodes().length!=0){var f=this.getChild();if(f.updateBounds(!0),this.rect.x=f.getLeft(),this.rect.y=f.getTop(),this.setWidth(f.getRight()-f.getLeft()),this.setHeight(f.getBottom()-f.getTop()),l.NODE_DIMENSIONS_INCLUDE_LABELS){var g=f.getRight()-f.getLeft(),m=f.getBottom()-f.getTop();this.labelWidth>g&&(this.rect.x-=(this.labelWidth-g)/2,this.setWidth(this.labelWidth)),this.labelHeight>m&&(this.labelPos=="center"?this.rect.y-=(this.labelHeight-m)/2:this.labelPos=="top"&&(this.rect.y-=this.labelHeight-m),this.setHeight(this.labelHeight))}}},d.prototype.getInclusionTreeDepth=function(){if(this.inclusionTreeDepth==s.MAX_VALUE)throw"assert failed";return this.inclusionTreeDepth},d.prototype.transform=function(f){var g=this.rect.x;g>l.WORLD_BOUNDARY?g=l.WORLD_BOUNDARY:g<-l.WORLD_BOUNDARY&&(g=-l.WORLD_BOUNDARY);var m=this.rect.y;m>l.WORLD_BOUNDARY?m=l.WORLD_BOUNDARY:m<-l.WORLD_BOUNDARY&&(m=-l.WORLD_BOUNDARY);var y=new h(g,m),v=f.inverseTransformPoint(y);this.setLocation(v.x,v.y)},d.prototype.getLeft=function(){return this.rect.x},d.prototype.getRight=function(){return this.rect.x+this.rect.width},d.prototype.getTop=function(){return this.rect.y},d.prototype.getBottom=function(){return this.rect.y+this.rect.height},d.prototype.getParent=function(){return this.owner==null?null:this.owner.getParent()},r.exports=d},function(r,n,i){function a(s,o){s==null&&o==null?(this.x=0,this.y=0):(this.x=s,this.y=o)}a.prototype.getX=function(){return this.x},a.prototype.getY=function(){return this.y},a.prototype.setX=function(s){this.x=s},a.prototype.setY=function(s){this.y=s},a.prototype.getDifference=function(s){return new DimensionD(this.x-s.x,this.y-s.y)},a.prototype.getCopy=function(){return new a(this.x,this.y)},a.prototype.translate=function(s){return this.x+=s.width,this.y+=s.height,this},r.exports=a},function(r,n,i){var a=i(2),s=i(10),o=i(0),l=i(6),u=i(3),h=i(1),d=i(13),p=i(12),f=i(11);function g(y,v,x){a.call(this,x),this.estimatedSize=s.MIN_VALUE,this.margin=o.DEFAULT_GRAPH_MARGIN,this.edges=[],this.nodes=[],this.isConnected=!1,this.parent=y,v!=null&&v instanceof l?this.graphManager=v:v!=null&&v instanceof Layout&&(this.graphManager=v.graphManager)}g.prototype=Object.create(a.prototype);for(var m in a)g[m]=a[m];g.prototype.getNodes=function(){return this.nodes},g.prototype.getEdges=function(){return this.edges},g.prototype.getGraphManager=function(){return this.graphManager},g.prototype.getParent=function(){return this.parent},g.prototype.getLeft=function(){return this.left},g.prototype.getRight=function(){return this.right},g.prototype.getTop=function(){return this.top},g.prototype.getBottom=function(){return this.bottom},g.prototype.isConnected=function(){return this.isConnected},g.prototype.add=function(y,v,x){if(v==null&&x==null){var w=y;if(this.graphManager==null)throw"Graph has no graph mgr!";if(this.getNodes().indexOf(w)>-1)throw"Node already in graph!";return w.owner=this,this.getNodes().push(w),w}else{var k=y;if(!(this.getNodes().indexOf(v)>-1&&this.getNodes().indexOf(x)>-1))throw"Source or target not in graph!";if(!(v.owner==x.owner&&v.owner==this))throw"Both owners must be this graph!";return v.owner!=x.owner?null:(k.source=v,k.target=x,k.isInterGraph=!1,this.getEdges().push(k),v.edges.push(k),x!=v&&x.edges.push(k),k)}},g.prototype.remove=function(y){var v=y;if(y instanceof u){if(v==null)throw"Node is null!";if(!(v.owner!=null&&v.owner==this))throw"Owner graph is invalid!";if(this.graphManager==null)throw"Owner graph manager is invalid!";for(var x=v.edges.slice(),w,k=x.length,E=0;E<k;E++)w=x[E],w.isInterGraph?this.graphManager.remove(w):w.source.owner.remove(w);var _=this.nodes.indexOf(v);if(_==-1)throw"Node not in owner node list!";this.nodes.splice(_,1)}else if(y instanceof h){var w=y;if(w==null)throw"Edge is null!";if(!(w.source!=null&&w.target!=null))throw"Source and/or target is null!";if(!(w.source.owner!=null&&w.target.owner!=null&&w.source.owner==this&&w.target.owner==this))throw"Source and/or target owner is invalid!";var S=w.source.edges.indexOf(w),R=w.target.edges.indexOf(w);if(!(S>-1&&R>-1))throw"Source and/or target doesn't know this edge!";w.source.edges.splice(S,1),w.target!=w.source&&w.target.edges.splice(R,1);var _=w.source.owner.getEdges().indexOf(w);if(_==-1)throw"Not in owner's edge list!";w.source.owner.getEdges().splice(_,1)}},g.prototype.updateLeftTop=function(){for(var y=s.MAX_VALUE,v=s.MAX_VALUE,x,w,k,E=this.getNodes(),_=E.length,S=0;S<_;S++){var R=E[S];x=R.getTop(),w=R.getLeft(),y>x&&(y=x),v>w&&(v=w)}return y==s.MAX_VALUE?null:(E[0].getParent().paddingLeft!=null?k=E[0].getParent().paddingLeft:k=this.margin,this.left=v-k,this.top=y-k,new p(this.left,this.top))},g.prototype.updateBounds=function(y){for(var v=s.MAX_VALUE,x=-s.MAX_VALUE,w=s.MAX_VALUE,k=-s.MAX_VALUE,E,_,S,R,C,L=this.nodes,A=L.length,N=0;N<A;N++){var F=L[N];y&&F.child!=null&&F.updateBounds(),E=F.getLeft(),_=F.getRight(),S=F.getTop(),R=F.getBottom(),v>E&&(v=E),x<_&&(x=_),w>S&&(w=S),k<R&&(k=R)}var T=new d(v,w,x-v,k-w);v==s.MAX_VALUE&&(this.left=this.parent.getLeft(),this.right=this.parent.getRight(),this.top=this.parent.getTop(),this.bottom=this.parent.getBottom()),L[0].getParent().paddingLeft!=null?C=L[0].getParent().paddingLeft:C=this.margin,this.left=T.x-C,this.right=T.x+T.width+C,this.top=T.y-C,this.bottom=T.y+T.height+C},g.calculateBounds=function(y){for(var v=s.MAX_VALUE,x=-s.MAX_VALUE,w=s.MAX_VALUE,k=-s.MAX_VALUE,E,_,S,R,C=y.length,L=0;L<C;L++){var A=y[L];E=A.getLeft(),_=A.getRight(),S=A.getTop(),R=A.getBottom(),v>E&&(v=E),x<_&&(x=_),w>S&&(w=S),k<R&&(k=R)}var N=new d(v,w,x-v,k-w);return N},g.prototype.getInclusionTreeDepth=function(){return this==this.graphManager.getRoot()?1:this.parent.getInclusionTreeDepth()},g.prototype.getEstimatedSize=function(){if(this.estimatedSize==s.MIN_VALUE)throw"assert failed";return this.estimatedSize},g.prototype.calcEstimatedSize=function(){for(var y=0,v=this.nodes,x=v.length,w=0;w<x;w++){var k=v[w];y+=k.calcEstimatedSize()}return y==0?this.estimatedSize=o.EMPTY_COMPOUND_NODE_SIZE:this.estimatedSize=y/Math.sqrt(this.nodes.length),this.estimatedSize},g.prototype.updateConnected=function(){var y=this;if(this.nodes.length==0){this.isConnected=!0;return}var v=new f,x=new Set,w=this.nodes[0],k,E,_=w.withChildren();for(_.forEach(function(N){v.push(N),x.add(N)});v.length!==0;){w=v.shift(),k=w.getEdges();for(var S=k.length,R=0;R<S;R++){var C=k[R];if(E=C.getOtherEndInGraph(w,this),E!=null&&!x.has(E)){var L=E.withChildren();L.forEach(function(N){v.push(N),x.add(N)})}}}if(this.isConnected=!1,x.size>=this.nodes.length){var A=0;x.forEach(function(N){N.owner==y&&A++}),A==this.nodes.length&&(this.isConnected=!0)}},r.exports=g},function(r,n,i){var a,s=i(1);function o(l){a=i(5),this.layout=l,this.graphs=[],this.edges=[]}o.prototype.addRoot=function(){var l=this.layout.newGraph(),u=this.layout.newNode(null),h=this.add(l,u);return this.setRootGraph(h),this.rootGraph},o.prototype.add=function(l,u,h,d,p){if(h==null&&d==null&&p==null){if(l==null)throw"Graph is null!";if(u==null)throw"Parent node is null!";if(this.graphs.indexOf(l)>-1)throw"Graph already in this graph mgr!";if(this.graphs.push(l),l.parent!=null)throw"Already has a parent!";if(u.child!=null)throw"Already has a child!";return l.parent=u,u.child=l,l}else{p=h,d=u,h=l;var f=d.getOwner(),g=p.getOwner();if(!(f!=null&&f.getGraphManager()==this))throw"Source not in this graph mgr!";if(!(g!=null&&g.getGraphManager()==this))throw"Target not in this graph mgr!";if(f==g)return h.isInterGraph=!1,f.add(h,d,p);if(h.isInterGraph=!0,h.source=d,h.target=p,this.edges.indexOf(h)>-1)throw"Edge already in inter-graph edge list!";if(this.edges.push(h),!(h.source!=null&&h.target!=null))throw"Edge source and/or target is null!";if(!(h.source.edges.indexOf(h)==-1&&h.target.edges.indexOf(h)==-1))throw"Edge already in source and/or target incidency list!";return h.source.edges.push(h),h.target.edges.push(h),h}},o.prototype.remove=function(l){if(l instanceof a){var u=l;if(u.getGraphManager()!=this)throw"Graph not in this graph mgr";if(!(u==this.rootGraph||u.parent!=null&&u.parent.graphManager==this))throw"Invalid parent node!";var h=[];h=h.concat(u.getEdges());for(var d,p=h.length,f=0;f<p;f++)d=h[f],u.remove(d);var g=[];g=g.concat(u.getNodes());var m;p=g.length;for(var f=0;f<p;f++)m=g[f],u.remove(m);u==this.rootGraph&&this.setRootGraph(null);var y=this.graphs.indexOf(u);this.graphs.splice(y,1),u.parent=null}else if(l instanceof s){if(d=l,d==null)throw"Edge is null!";if(!d.isInterGraph)throw"Not an inter-graph edge!";if(!(d.source!=null&&d.target!=null))throw"Source and/or target is null!";if(!(d.source.edges.indexOf(d)!=-1&&d.target.edges.indexOf(d)!=-1))throw"Source and/or target doesn't know this edge!";var y=d.source.edges.indexOf(d);if(d.source.edges.splice(y,1),y=d.target.edges.indexOf(d),d.target.edges.splice(y,1),!(d.source.owner!=null&&d.source.owner.getGraphManager()!=null))throw"Edge owner graph or owner graph manager is null!";if(d.source.owner.getGraphManager().edges.indexOf(d)==-1)throw"Not in owner graph manager's edge list!";var y=d.source.owner.getGraphManager().edges.indexOf(d);d.source.owner.getGraphManager().edges.splice(y,1)}},o.prototype.updateBounds=function(){this.rootGraph.updateBounds(!0)},o.prototype.getGraphs=function(){return this.graphs},o.prototype.getAllNodes=function(){if(this.allNodes==null){for(var l=[],u=this.getGraphs(),h=u.length,d=0;d<h;d++)l=l.concat(u[d].getNodes());this.allNodes=l}return this.allNodes},o.prototype.resetAllNodes=function(){this.allNodes=null},o.prototype.resetAllEdges=function(){this.allEdges=null},o.prototype.resetAllNodesToApplyGravitation=function(){this.allNodesToApplyGravitation=null},o.prototype.getAllEdges=function(){if(this.allEdges==null){var l=[],u=this.getGraphs();u.length;for(var h=0;h<u.length;h++)l=l.concat(u[h].getEdges());l=l.concat(this.edges),this.allEdges=l}return this.allEdges},o.prototype.getAllNodesToApplyGravitation=function(){return this.allNodesToApplyGravitation},o.prototype.setAllNodesToApplyGravitation=function(l){if(this.allNodesToApplyGravitation!=null)throw"assert failed";this.allNodesToApplyGravitation=l},o.prototype.getRoot=function(){return this.rootGraph},o.prototype.setRootGraph=function(l){if(l.getGraphManager()!=this)throw"Root not in this graph mgr!";this.rootGraph=l,l.parent==null&&(l.parent=this.layout.newNode("Root node"))},o.prototype.getLayout=function(){return this.layout},o.prototype.isOneAncestorOfOther=function(l,u){if(!(l!=null&&u!=null))throw"assert failed";if(l==u)return!0;var h=l.getOwner(),d;do{if(d=h.getParent(),d==null)break;if(d==u)return!0;if(h=d.getOwner(),h==null)break}while(!0);h=u.getOwner();do{if(d=h.getParent(),d==null)break;if(d==l)return!0;if(h=d.getOwner(),h==null)break}while(!0);return!1},o.prototype.calcLowestCommonAncestors=function(){for(var l,u,h,d,p,f=this.getAllEdges(),g=f.length,m=0;m<g;m++){if(l=f[m],u=l.source,h=l.target,l.lca=null,l.sourceInLca=u,l.targetInLca=h,u==h){l.lca=u.getOwner();continue}for(d=u.getOwner();l.lca==null;){for(l.targetInLca=h,p=h.getOwner();l.lca==null;){if(p==d){l.lca=p;break}if(p==this.rootGraph)break;if(l.lca!=null)throw"assert failed";l.targetInLca=p.getParent(),p=l.targetInLca.getOwner()}if(d==this.rootGraph)break;l.lca==null&&(l.sourceInLca=d.getParent(),d=l.sourceInLca.getOwner())}if(l.lca==null)throw"assert failed"}},o.prototype.calcLowestCommonAncestor=function(l,u){if(l==u)return l.getOwner();var h=l.getOwner();do{if(h==null)break;var d=u.getOwner();do{if(d==null)break;if(d==h)return d;d=d.getParent().getOwner()}while(!0);h=h.getParent().getOwner()}while(!0);return h},o.prototype.calcInclusionTreeDepths=function(l,u){l==null&&u==null&&(l=this.rootGraph,u=1);for(var h,d=l.getNodes(),p=d.length,f=0;f<p;f++)h=d[f],h.inclusionTreeDepth=u,h.child!=null&&this.calcInclusionTreeDepths(h.child,u+1)},o.prototype.includesInvalidEdge=function(){for(var l,u=this.edges.length,h=0;h<u;h++)if(l=this.edges[h],this.isOneAncestorOfOther(l.source,l.target))return!0;return!1},r.exports=o},function(r,n,i){var a=i(0);function s(){}for(var o in a)s[o]=a[o];s.MAX_ITERATIONS=2500,s.DEFAULT_EDGE_LENGTH=50,s.DEFAULT_SPRING_STRENGTH=.45,s.DEFAULT_REPULSION_STRENGTH=4500,s.DEFAULT_GRAVITY_STRENGTH=.4,s.DEFAULT_COMPOUND_GRAVITY_STRENGTH=1,s.DEFAULT_GRAVITY_RANGE_FACTOR=3.8,s.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=1.5,s.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION=!0,s.DEFAULT_USE_SMART_REPULSION_RANGE_CALCULATION=!0,s.DEFAULT_COOLING_FACTOR_INCREMENTAL=.3,s.COOLING_ADAPTATION_FACTOR=.33,s.ADAPTATION_LOWER_NODE_LIMIT=1e3,s.ADAPTATION_UPPER_NODE_LIMIT=5e3,s.MAX_NODE_DISPLACEMENT_INCREMENTAL=100,s.MAX_NODE_DISPLACEMENT=s.MAX_NODE_DISPLACEMENT_INCREMENTAL*3,s.MIN_REPULSION_DIST=s.DEFAULT_EDGE_LENGTH/10,s.CONVERGENCE_CHECK_PERIOD=100,s.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=.1,s.MIN_EDGE_LENGTH=1,s.GRID_CALCULATION_CHECK_PERIOD=10,r.exports=s},function(r,n,i){var a=i(12);function s(){}s.calcSeparationAmount=function(o,l,u,h){if(!o.intersects(l))throw"assert failed";var d=new Array(2);this.decideDirectionsForOverlappingNodes(o,l,d),u[0]=Math.min(o.getRight(),l.getRight())-Math.max(o.x,l.x),u[1]=Math.min(o.getBottom(),l.getBottom())-Math.max(o.y,l.y),o.getX()<=l.getX()&&o.getRight()>=l.getRight()?u[0]+=Math.min(l.getX()-o.getX(),o.getRight()-l.getRight()):l.getX()<=o.getX()&&l.getRight()>=o.getRight()&&(u[0]+=Math.min(o.getX()-l.getX(),l.getRight()-o.getRight())),o.getY()<=l.getY()&&o.getBottom()>=l.getBottom()?u[1]+=Math.min(l.getY()-o.getY(),o.getBottom()-l.getBottom()):l.getY()<=o.getY()&&l.getBottom()>=o.getBottom()&&(u[1]+=Math.min(o.getY()-l.getY(),l.getBottom()-o.getBottom()));var p=Math.abs((l.getCenterY()-o.getCenterY())/(l.getCenterX()-o.getCenterX()));l.getCenterY()===o.getCenterY()&&l.getCenterX()===o.getCenterX()&&(p=1);var f=p*u[0],g=u[1]/p;u[0]<g?g=u[0]:f=u[1],u[0]=-1*d[0]*(g/2+h),u[1]=-1*d[1]*(f/2+h)},s.decideDirectionsForOverlappingNodes=function(o,l,u){o.getCenterX()<l.getCenterX()?u[0]=-1:u[0]=1,o.getCenterY()<l.getCenterY()?u[1]=-1:u[1]=1},s.getIntersection2=function(o,l,u){var h=o.getCenterX(),d=o.getCenterY(),p=l.getCenterX(),f=l.getCenterY();if(o.intersects(l))return u[0]=h,u[1]=d,u[2]=p,u[3]=f,!0;var g=o.getX(),m=o.getY(),y=o.getRight(),v=o.getX(),x=o.getBottom(),w=o.getRight(),k=o.getWidthHalf(),E=o.getHeightHalf(),_=l.getX(),S=l.getY(),R=l.getRight(),C=l.getX(),L=l.getBottom(),A=l.getRight(),N=l.getWidthHalf(),F=l.getHeightHalf(),T=!1,D=!1;if(h===p){if(d>f)return u[0]=h,u[1]=m,u[2]=p,u[3]=L,!1;if(d<f)return u[0]=h,u[1]=x,u[2]=p,u[3]=S,!1}else if(d===f){if(h>p)return u[0]=g,u[1]=d,u[2]=R,u[3]=f,!1;if(h<p)return u[0]=y,u[1]=d,u[2]=_,u[3]=f,!1}else{var M=o.height/o.width,O=l.height/l.width,I=(f-d)/(p-h),P=void 0,B=void 0,$=void 0,V=void 0,W=void 0,K=void 0;if(-M===I?h>p?(u[0]=v,u[1]=x,T=!0):(u[0]=y,u[1]=m,T=!0):M===I&&(h>p?(u[0]=g,u[1]=m,T=!0):(u[0]=w,u[1]=x,T=!0)),-O===I?p>h?(u[2]=C,u[3]=L,D=!0):(u[2]=R,u[3]=S,D=!0):O===I&&(p>h?(u[2]=_,u[3]=S,D=!0):(u[2]=A,u[3]=L,D=!0)),T&&D)return!1;if(h>p?d>f?(P=this.getCardinalDirection(M,I,4),B=this.getCardinalDirection(O,I,2)):(P=this.getCardinalDirection(-M,I,3),B=this.getCardinalDirection(-O,I,1)):d>f?(P=this.getCardinalDirection(-M,I,1),B=this.getCardinalDirection(-O,I,3)):(P=this.getCardinalDirection(M,I,2),B=this.getCardinalDirection(O,I,4)),!T)switch(P){case 1:V=m,$=h+-E/I,u[0]=$,u[1]=V;break;case 2:$=w,V=d+k*I,u[0]=$,u[1]=V;break;case 3:V=x,$=h+E/I,u[0]=$,u[1]=V;break;case 4:$=v,V=d+-k*I,u[0]=$,u[1]=V;break}if(!D)switch(B){case 1:K=S,W=p+-F/I,u[2]=W,u[3]=K;break;case 2:W=A,K=f+N*I,u[2]=W,u[3]=K;break;case 3:K=L,W=p+F/I,u[2]=W,u[3]=K;break;case 4:W=C,K=f+-N*I,u[2]=W,u[3]=K;break}}return!1},s.getCardinalDirection=function(o,l,u){return o>l?u:1+u%4},s.getIntersection=function(o,l,u,h){if(h==null)return this.getIntersection2(o,l,u);var d=o.x,p=o.y,f=l.x,g=l.y,m=u.x,y=u.y,v=h.x,x=h.y,w=void 0,k=void 0,E=void 0,_=void 0,S=void 0,R=void 0,C=void 0,L=void 0,A=void 0;return E=g-p,S=d-f,C=f*p-d*g,_=x-y,R=m-v,L=v*y-m*x,A=E*R-_*S,A===0?null:(w=(S*L-R*C)/A,k=(_*C-E*L)/A,new a(w,k))},s.angleOfVector=function(o,l,u,h){var d=void 0;return o!==u?(d=Math.atan((h-l)/(u-o)),u<o?d+=Math.PI:h<l&&(d+=this.TWO_PI)):h<l?d=this.ONE_AND_HALF_PI:d=this.HALF_PI,d},s.doIntersect=function(o,l,u,h){var d=o.x,p=o.y,f=l.x,g=l.y,m=u.x,y=u.y,v=h.x,x=h.y,w=(f-d)*(x-y)-(v-m)*(g-p);if(w===0)return!1;var k=((x-y)*(v-d)+(m-v)*(x-p))/w,E=((p-g)*(v-d)+(f-d)*(x-p))/w;return 0<k&&k<1&&0<E&&E<1},s.HALF_PI=.5*Math.PI,s.ONE_AND_HALF_PI=1.5*Math.PI,s.TWO_PI=2*Math.PI,s.THREE_PI=3*Math.PI,r.exports=s},function(r,n,i){function a(){}a.sign=function(s){return s>0?1:s<0?-1:0},a.floor=function(s){return s<0?Math.ceil(s):Math.floor(s)},a.ceil=function(s){return s<0?Math.floor(s):Math.ceil(s)},r.exports=a},function(r,n,i){function a(){}a.MAX_VALUE=2147483647,a.MIN_VALUE=-2147483648,r.exports=a},function(r,n,i){var a=function(){function d(p,f){for(var g=0;g<f.length;g++){var m=f[g];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(p,m.key,m)}}return function(p,f,g){return f&&d(p.prototype,f),g&&d(p,g),p}}();function s(d,p){if(!(d instanceof p))throw new TypeError("Cannot call a class as a function")}var o=function(p){return{value:p,next:null,prev:null}},l=function(p,f,g,m){return p!==null?p.next=f:m.head=f,g!==null?g.prev=f:m.tail=f,f.prev=p,f.next=g,m.length++,f},u=function(p,f){var g=p.prev,m=p.next;return g!==null?g.next=m:f.head=m,m!==null?m.prev=g:f.tail=g,p.prev=p.next=null,f.length--,p},h=function(){function d(p){var f=this;s(this,d),this.length=0,this.head=null,this.tail=null,p!=null&&p.forEach(function(g){return f.push(g)})}return a(d,[{key:"size",value:function(){return this.length}},{key:"insertBefore",value:function(f,g){return l(g.prev,o(f),g,this)}},{key:"insertAfter",value:function(f,g){return l(g,o(f),g.next,this)}},{key:"insertNodeBefore",value:function(f,g){return l(g.prev,f,g,this)}},{key:"insertNodeAfter",value:function(f,g){return l(g,f,g.next,this)}},{key:"push",value:function(f){return l(this.tail,o(f),null,this)}},{key:"unshift",value:function(f){return l(null,o(f),this.head,this)}},{key:"remove",value:function(f){return u(f,this)}},{key:"pop",value:function(){return u(this.tail,this).value}},{key:"popNode",value:function(){return u(this.tail,this)}},{key:"shift",value:function(){return u(this.head,this).value}},{key:"shiftNode",value:function(){return u(this.head,this)}},{key:"get_object_at",value:function(f){if(f<=this.length()){for(var g=1,m=this.head;g<f;)m=m.next,g++;return m.value}}},{key:"set_object_at",value:function(f,g){if(f<=this.length()){for(var m=1,y=this.head;m<f;)y=y.next,m++;y.value=g}}}]),d}();r.exports=h},function(r,n,i){function a(s,o,l){this.x=null,this.y=null,s==null&&o==null&&l==null?(this.x=0,this.y=0):typeof s=="number"&&typeof o=="number"&&l==null?(this.x=s,this.y=o):s.constructor.name=="Point"&&o==null&&l==null&&(l=s,this.x=l.x,this.y=l.y)}a.prototype.getX=function(){return this.x},a.prototype.getY=function(){return this.y},a.prototype.getLocation=function(){return new a(this.x,this.y)},a.prototype.setLocation=function(s,o,l){s.constructor.name=="Point"&&o==null&&l==null?(l=s,this.setLocation(l.x,l.y)):typeof s=="number"&&typeof o=="number"&&l==null&&(parseInt(s)==s&&parseInt(o)==o?this.move(s,o):(this.x=Math.floor(s+.5),this.y=Math.floor(o+.5)))},a.prototype.move=function(s,o){this.x=s,this.y=o},a.prototype.translate=function(s,o){this.x+=s,this.y+=o},a.prototype.equals=function(s){if(s.constructor.name=="Point"){var o=s;return this.x==o.x&&this.y==o.y}return this==s},a.prototype.toString=function(){return new a().constructor.name+"[x="+this.x+",y="+this.y+"]"},r.exports=a},function(r,n,i){function a(s,o,l,u){this.x=0,this.y=0,this.width=0,this.height=0,s!=null&&o!=null&&l!=null&&u!=null&&(this.x=s,this.y=o,this.width=l,this.height=u)}a.prototype.getX=function(){return this.x},a.prototype.setX=function(s){this.x=s},a.prototype.getY=function(){return this.y},a.prototype.setY=function(s){this.y=s},a.prototype.getWidth=function(){return this.width},a.prototype.setWidth=function(s){this.width=s},a.prototype.getHeight=function(){return this.height},a.prototype.setHeight=function(s){this.height=s},a.prototype.getRight=function(){return this.x+this.width},a.prototype.getBottom=function(){return this.y+this.height},a.prototype.intersects=function(s){return!(this.getRight()<s.x||this.getBottom()<s.y||s.getRight()<this.x||s.getBottom()<this.y)},a.prototype.getCenterX=function(){return this.x+this.width/2},a.prototype.getMinX=function(){return this.getX()},a.prototype.getMaxX=function(){return this.getX()+this.width},a.prototype.getCenterY=function(){return this.y+this.height/2},a.prototype.getMinY=function(){return this.getY()},a.prototype.getMaxY=function(){return this.getY()+this.height},a.prototype.getWidthHalf=function(){return this.width/2},a.prototype.getHeightHalf=function(){return this.height/2},r.exports=a},function(r,n,i){var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o};function s(){}s.lastID=0,s.createID=function(o){return s.isPrimitive(o)?o:(o.uniqueID!=null||(o.uniqueID=s.getString(),s.lastID++),o.uniqueID)},s.getString=function(o){return o==null&&(o=s.lastID),"Object#"+o},s.isPrimitive=function(o){var l=typeof o>"u"?"undefined":a(o);return o==null||l!="object"&&l!="function"},r.exports=s},function(r,n,i){function a(m){if(Array.isArray(m)){for(var y=0,v=Array(m.length);y<m.length;y++)v[y]=m[y];return v}else return Array.from(m)}var s=i(0),o=i(6),l=i(3),u=i(1),h=i(5),d=i(4),p=i(17),f=i(27);function g(m){f.call(this),this.layoutQuality=s.QUALITY,this.createBendsAsNeeded=s.DEFAULT_CREATE_BENDS_AS_NEEDED,this.incremental=s.DEFAULT_INCREMENTAL,this.animationOnLayout=s.DEFAULT_ANIMATION_ON_LAYOUT,this.animationDuringLayout=s.DEFAULT_ANIMATION_DURING_LAYOUT,this.animationPeriod=s.DEFAULT_ANIMATION_PERIOD,this.uniformLeafNodeSizes=s.DEFAULT_UNIFORM_LEAF_NODE_SIZES,this.edgeToDummyNodes=new Map,this.graphManager=new o(this),this.isLayoutFinished=!1,this.isSubLayout=!1,this.isRemoteUse=!1,m!=null&&(this.isRemoteUse=m)}g.RANDOM_SEED=1,g.prototype=Object.create(f.prototype),g.prototype.getGraphManager=function(){return this.graphManager},g.prototype.getAllNodes=function(){return this.graphManager.getAllNodes()},g.prototype.getAllEdges=function(){return this.graphManager.getAllEdges()},g.prototype.getAllNodesToApplyGravitation=function(){return this.graphManager.getAllNodesToApplyGravitation()},g.prototype.newGraphManager=function(){var m=new o(this);return this.graphManager=m,m},g.prototype.newGraph=function(m){return new h(null,this.graphManager,m)},g.prototype.newNode=function(m){return new l(this.graphManager,m)},g.prototype.newEdge=function(m){return new u(null,null,m)},g.prototype.checkLayoutSuccess=function(){return this.graphManager.getRoot()==null||this.graphManager.getRoot().getNodes().length==0||this.graphManager.includesInvalidEdge()},g.prototype.runLayout=function(){this.isLayoutFinished=!1,this.tilingPreLayout&&this.tilingPreLayout(),this.initParameters();var m;return this.checkLayoutSuccess()?m=!1:m=this.layout(),s.ANIMATE==="during"?!1:(m&&(this.isSubLayout||this.doPostLayout()),this.tilingPostLayout&&this.tilingPostLayout(),this.isLayoutFinished=!0,m)},g.prototype.doPostLayout=function(){this.incremental||this.transform(),this.update()},g.prototype.update2=function(){if(this.createBendsAsNeeded&&(this.createBendpointsFromDummyNodes(),this.graphManager.resetAllEdges()),!this.isRemoteUse){for(var m=this.graphManager.getAllEdges(),y=0;y<m.length;y++)m[y];for(var v=this.graphManager.getRoot().getNodes(),y=0;y<v.length;y++)v[y];this.update(this.graphManager.getRoot())}},g.prototype.update=function(m){if(m==null)this.update2();else if(m instanceof l){var y=m;if(y.getChild()!=null)for(var v=y.getChild().getNodes(),x=0;x<v.length;x++)update(v[x]);if(y.vGraphObject!=null){var w=y.vGraphObject;w.update(y)}}else if(m instanceof u){var k=m;if(k.vGraphObject!=null){var E=k.vGraphObject;E.update(k)}}else if(m instanceof h){var _=m;if(_.vGraphObject!=null){var S=_.vGraphObject;S.update(_)}}},g.prototype.initParameters=function(){this.isSubLayout||(this.layoutQuality=s.QUALITY,this.animationDuringLayout=s.DEFAULT_ANIMATION_DURING_LAYOUT,this.animationPeriod=s.DEFAULT_ANIMATION_PERIOD,this.animationOnLayout=s.DEFAULT_ANIMATION_ON_LAYOUT,this.incremental=s.DEFAULT_INCREMENTAL,this.createBendsAsNeeded=s.DEFAULT_CREATE_BENDS_AS_NEEDED,this.uniformLeafNodeSizes=s.DEFAULT_UNIFORM_LEAF_NODE_SIZES),this.animationDuringLayout&&(this.animationOnLayout=!1)},g.prototype.transform=function(m){if(m==null)this.transform(new d(0,0));else{var y=new p,v=this.graphManager.getRoot().updateLeftTop();if(v!=null){y.setWorldOrgX(m.x),y.setWorldOrgY(m.y),y.setDeviceOrgX(v.x),y.setDeviceOrgY(v.y);for(var x=this.getAllNodes(),w,k=0;k<x.length;k++)w=x[k],w.transform(y)}}},g.prototype.positionNodesRandomly=function(m){if(m==null)this.positionNodesRandomly(this.getGraphManager().getRoot()),this.getGraphManager().getRoot().updateBounds(!0);else for(var y,v,x=m.getNodes(),w=0;w<x.length;w++)y=x[w],v=y.getChild(),v==null||v.getNodes().length==0?y.scatter():(this.positionNodesRandomly(v),y.updateBounds())},g.prototype.getFlatForest=function(){for(var m=[],y=!0,v=this.graphManager.getRoot().getNodes(),x=!0,w=0;w<v.length;w++)v[w].getChild()!=null&&(x=!1);if(!x)return m;var k=new Set,E=[],_=new Map,S=[];for(S=S.concat(v);S.length>0&&y;){for(E.push(S[0]);E.length>0&&y;){var R=E[0];E.splice(0,1),k.add(R);for(var C=R.getEdges(),w=0;w<C.length;w++){var L=C[w].getOtherEnd(R);if(_.get(R)!=L)if(!k.has(L))E.push(L),_.set(L,R);else{y=!1;break}}}if(!y)m=[];else{var A=[].concat(a(k));m.push(A);for(var w=0;w<A.length;w++){var N=A[w],F=S.indexOf(N);F>-1&&S.splice(F,1)}k=new Set,_=new Map}}return m},g.prototype.createDummyNodesForBendpoints=function(m){for(var y=[],v=m.source,x=this.graphManager.calcLowestCommonAncestor(m.source,m.target),w=0;w<m.bendpoints.length;w++){var k=this.newNode(null);k.setRect(new Point(0,0),new Dimension(1,1)),x.add(k);var E=this.newEdge(null);this.graphManager.add(E,v,k),y.add(k),v=k}var E=this.newEdge(null);return this.graphManager.add(E,v,m.target),this.edgeToDummyNodes.set(m,y),m.isInterGraph()?this.graphManager.remove(m):x.remove(m),y},g.prototype.createBendpointsFromDummyNodes=function(){var m=[];m=m.concat(this.graphManager.getAllEdges()),m=[].concat(a(this.edgeToDummyNodes.keys())).concat(m);for(var y=0;y<m.length;y++){var v=m[y];if(v.bendpoints.length>0){for(var x=this.edgeToDummyNodes.get(v),w=0;w<x.length;w++){var k=x[w],E=new d(k.getCenterX(),k.getCenterY()),_=v.bendpoints.get(w);_.x=E.x,_.y=E.y,k.getOwner().remove(k)}this.graphManager.add(v,v.source,v.target)}}},g.transform=function(m,y,v,x){if(v!=null&&x!=null){var w=y;if(m<=50){var k=y/v;w-=(y-k)/50*(50-m)}else{var E=y*x;w+=(E-y)/50*(m-50)}return w}else{var _,S;return m<=50?(_=9*y/500,S=y/10):(_=9*y/50,S=-8*y),_*m+S}},g.findCenterOfTree=function(m){var y=[];y=y.concat(m);var v=[],x=new Map,w=!1,k=null;(y.length==1||y.length==2)&&(w=!0,k=y[0]);for(var E=0;E<y.length;E++){var _=y[E],S=_.getNeighborsList().size;x.set(_,_.getNeighborsList().size),S==1&&v.push(_)}var R=[];for(R=R.concat(v);!w;){var C=[];C=C.concat(R),R=[];for(var E=0;E<y.length;E++){var _=y[E],L=y.indexOf(_);L>=0&&y.splice(L,1);var A=_.getNeighborsList();A.forEach(function(T){if(v.indexOf(T)<0){var D=x.get(T),M=D-1;M==1&&R.push(T),x.set(T,M)}})}v=v.concat(R),(y.length==1||y.length==2)&&(w=!0,k=y[0])}return k},g.prototype.setGraphManager=function(m){this.graphManager=m},r.exports=g},function(r,n,i){function a(){}a.seed=1,a.x=0,a.nextDouble=function(){return a.x=Math.sin(a.seed++)*1e4,a.x-Math.floor(a.x)},r.exports=a},function(r,n,i){var a=i(4);function s(o,l){this.lworldOrgX=0,this.lworldOrgY=0,this.ldeviceOrgX=0,this.ldeviceOrgY=0,this.lworldExtX=1,this.lworldExtY=1,this.ldeviceExtX=1,this.ldeviceExtY=1}s.prototype.getWorldOrgX=function(){return this.lworldOrgX},s.prototype.setWorldOrgX=function(o){this.lworldOrgX=o},s.prototype.getWorldOrgY=function(){return this.lworldOrgY},s.prototype.setWorldOrgY=function(o){this.lworldOrgY=o},s.prototype.getWorldExtX=function(){return this.lworldExtX},s.prototype.setWorldExtX=function(o){this.lworldExtX=o},s.prototype.getWorldExtY=function(){return this.lworldExtY},s.prototype.setWorldExtY=function(o){this.lworldExtY=o},s.prototype.getDeviceOrgX=function(){return this.ldeviceOrgX},s.prototype.setDeviceOrgX=function(o){this.ldeviceOrgX=o},s.prototype.getDeviceOrgY=function(){return this.ldeviceOrgY},s.prototype.setDeviceOrgY=function(o){this.ldeviceOrgY=o},s.prototype.getDeviceExtX=function(){return this.ldeviceExtX},s.prototype.setDeviceExtX=function(o){this.ldeviceExtX=o},s.prototype.getDeviceExtY=function(){return this.ldeviceExtY},s.prototype.setDeviceExtY=function(o){this.ldeviceExtY=o},s.prototype.transformX=function(o){var l=0,u=this.lworldExtX;return u!=0&&(l=this.ldeviceOrgX+(o-this.lworldOrgX)*this.ldeviceExtX/u),l},s.prototype.transformY=function(o){var l=0,u=this.lworldExtY;return u!=0&&(l=this.ldeviceOrgY+(o-this.lworldOrgY)*this.ldeviceExtY/u),l},s.prototype.inverseTransformX=function(o){var l=0,u=this.ldeviceExtX;return u!=0&&(l=this.lworldOrgX+(o-this.ldeviceOrgX)*this.lworldExtX/u),l},s.prototype.inverseTransformY=function(o){var l=0,u=this.ldeviceExtY;return u!=0&&(l=this.lworldOrgY+(o-this.ldeviceOrgY)*this.lworldExtY/u),l},s.prototype.inverseTransformPoint=function(o){var l=new a(this.inverseTransformX(o.x),this.inverseTransformY(o.y));return l},r.exports=s},function(r,n,i){function a(f){if(Array.isArray(f)){for(var g=0,m=Array(f.length);g<f.length;g++)m[g]=f[g];return m}else return Array.from(f)}var s=i(15),o=i(7),l=i(0),u=i(8),h=i(9);function d(){s.call(this),this.useSmartIdealEdgeLengthCalculation=o.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION,this.idealEdgeLength=o.DEFAULT_EDGE_LENGTH,this.springConstant=o.DEFAULT_SPRING_STRENGTH,this.repulsionConstant=o.DEFAULT_REPULSION_STRENGTH,this.gravityConstant=o.DEFAULT_GRAVITY_STRENGTH,this.compoundGravityConstant=o.DEFAULT_COMPOUND_GRAVITY_STRENGTH,this.gravityRangeFactor=o.DEFAULT_GRAVITY_RANGE_FACTOR,this.compoundGravityRangeFactor=o.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR,this.displacementThresholdPerNode=3*o.DEFAULT_EDGE_LENGTH/100,this.coolingFactor=o.DEFAULT_COOLING_FACTOR_INCREMENTAL,this.initialCoolingFactor=o.DEFAULT_COOLING_FACTOR_INCREMENTAL,this.totalDisplacement=0,this.oldTotalDisplacement=0,this.maxIterations=o.MAX_ITERATIONS}d.prototype=Object.create(s.prototype);for(var p in s)d[p]=s[p];d.prototype.initParameters=function(){s.prototype.initParameters.call(this,arguments),this.totalIterations=0,this.notAnimatedIterations=0,this.useFRGridVariant=o.DEFAULT_USE_SMART_REPULSION_RANGE_CALCULATION,this.grid=[]},d.prototype.calcIdealEdgeLengths=function(){for(var f,g,m,y,v,x,w=this.getGraphManager().getAllEdges(),k=0;k<w.length;k++)f=w[k],f.idealLength=this.idealEdgeLength,f.isInterGraph&&(m=f.getSource(),y=f.getTarget(),v=f.getSourceInLca().getEstimatedSize(),x=f.getTargetInLca().getEstimatedSize(),this.useSmartIdealEdgeLengthCalculation&&(f.idealLength+=v+x-2*l.SIMPLE_NODE_SIZE),g=f.getLca().getInclusionTreeDepth(),f.idealLength+=o.DEFAULT_EDGE_LENGTH*o.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR*(m.getInclusionTreeDepth()+y.getInclusionTreeDepth()-2*g))},d.prototype.initSpringEmbedder=function(){var f=this.getAllNodes().length;this.incremental?(f>o.ADAPTATION_LOWER_NODE_LIMIT&&(this.coolingFactor=Math.max(this.coolingFactor*o.COOLING_ADAPTATION_FACTOR,this.coolingFactor-(f-o.ADAPTATION_LOWER_NODE_LIMIT)/(o.ADAPTATION_UPPER_NODE_LIMIT-o.ADAPTATION_LOWER_NODE_LIMIT)*this.coolingFactor*(1-o.COOLING_ADAPTATION_FACTOR))),this.maxNodeDisplacement=o.MAX_NODE_DISPLACEMENT_INCREMENTAL):(f>o.ADAPTATION_LOWER_NODE_LIMIT?this.coolingFactor=Math.max(o.COOLING_ADAPTATION_FACTOR,1-(f-o.ADAPTATION_LOWER_NODE_LIMIT)/(o.ADAPTATION_UPPER_NODE_LIMIT-o.ADAPTATION_LOWER_NODE_LIMIT)*(1-o.COOLING_ADAPTATION_FACTOR)):this.coolingFactor=1,this.initialCoolingFactor=this.coolingFactor,this.maxNodeDisplacement=o.MAX_NODE_DISPLACEMENT),this.maxIterations=Math.max(this.getAllNodes().length*5,this.maxIterations),this.totalDisplacementThreshold=this.displacementThresholdPerNode*this.getAllNodes().length,this.repulsionRange=this.calcRepulsionRange()},d.prototype.calcSpringForces=function(){for(var f=this.getAllEdges(),g,m=0;m<f.length;m++)g=f[m],this.calcSpringForce(g,g.idealLength)},d.prototype.calcRepulsionForces=function(){var f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,m,y,v,x,w=this.getAllNodes(),k;if(this.useFRGridVariant)for(this.totalIterations%o.GRID_CALCULATION_CHECK_PERIOD==1&&f&&this.updateGrid(),k=new Set,m=0;m<w.length;m++)v=w[m],this.calculateRepulsionForceOfANode(v,k,f,g),k.add(v);else for(m=0;m<w.length;m++)for(v=w[m],y=m+1;y<w.length;y++)x=w[y],v.getOwner()==x.getOwner()&&this.calcRepulsionForce(v,x)},d.prototype.calcGravitationalForces=function(){for(var f,g=this.getAllNodesToApplyGravitation(),m=0;m<g.length;m++)f=g[m],this.calcGravitationalForce(f)},d.prototype.moveNodes=function(){for(var f=this.getAllNodes(),g,m=0;m<f.length;m++)g=f[m],g.move()},d.prototype.calcSpringForce=function(f,g){var m=f.getSource(),y=f.getTarget(),v,x,w,k;if(this.uniformLeafNodeSizes&&m.getChild()==null&&y.getChild()==null)f.updateLengthSimple();else if(f.updateLength(),f.isOverlapingSourceAndTarget)return;v=f.getLength(),v!=0&&(x=this.springConstant*(v-g),w=x*(f.lengthX/v),k=x*(f.lengthY/v),m.springForceX+=w,m.springForceY+=k,y.springForceX-=w,y.springForceY-=k)},d.prototype.calcRepulsionForce=function(f,g){var m=f.getRect(),y=g.getRect(),v=new Array(2),x=new Array(4),w,k,E,_,S,R,C;if(m.intersects(y)){u.calcSeparationAmount(m,y,v,o.DEFAULT_EDGE_LENGTH/2),R=2*v[0],C=2*v[1];var L=f.noOfChildren*g.noOfChildren/(f.noOfChildren+g.noOfChildren);f.repulsionForceX-=L*R,f.repulsionForceY-=L*C,g.repulsionForceX+=L*R,g.repulsionForceY+=L*C}else this.uniformLeafNodeSizes&&f.getChild()==null&&g.getChild()==null?(w=y.getCenterX()-m.getCenterX(),k=y.getCenterY()-m.getCenterY()):(u.getIntersection(m,y,x),w=x[2]-x[0],k=x[3]-x[1]),Math.abs(w)<o.MIN_REPULSION_DIST&&(w=h.sign(w)*o.MIN_REPULSION_DIST),Math.abs(k)<o.MIN_REPULSION_DIST&&(k=h.sign(k)*o.MIN_REPULSION_DIST),E=w*w+k*k,_=Math.sqrt(E),S=this.repulsionConstant*f.noOfChildren*g.noOfChildren/E,R=S*w/_,C=S*k/_,f.repulsionForceX-=R,f.repulsionForceY-=C,g.repulsionForceX+=R,g.repulsionForceY+=C},d.prototype.calcGravitationalForce=function(f){var g,m,y,v,x,w,k,E;g=f.getOwner(),m=(g.getRight()+g.getLeft())/2,y=(g.getTop()+g.getBottom())/2,v=f.getCenterX()-m,x=f.getCenterY()-y,w=Math.abs(v)+f.getWidth()/2,k=Math.abs(x)+f.getHeight()/2,f.getOwner()==this.graphManager.getRoot()?(E=g.getEstimatedSize()*this.gravityRangeFactor,(w>E||k>E)&&(f.gravitationForceX=-this.gravityConstant*v,f.gravitationForceY=-this.gravityConstant*x)):(E=g.getEstimatedSize()*this.compoundGravityRangeFactor,(w>E||k>E)&&(f.gravitationForceX=-this.gravityConstant*v*this.compoundGravityConstant,f.gravitationForceY=-this.gravityConstant*x*this.compoundGravityConstant))},d.prototype.isConverged=function(){var f,g=!1;return this.totalIterations>this.maxIterations/3&&(g=Math.abs(this.totalDisplacement-this.oldTotalDisplacement)<2),f=this.totalDisplacement<this.totalDisplacementThreshold,this.oldTotalDisplacement=this.totalDisplacement,f||g},d.prototype.animate=function(){this.animationDuringLayout&&!this.isSubLayout&&(this.notAnimatedIterations==this.animationPeriod?(this.update(),this.notAnimatedIterations=0):this.notAnimatedIterations++)},d.prototype.calcNoOfChildrenForAllNodes=function(){for(var f,g=this.graphManager.getAllNodes(),m=0;m<g.length;m++)f=g[m],f.noOfChildren=f.getNoOfChildren()},d.prototype.calcGrid=function(f){var g=0,m=0;g=parseInt(Math.ceil((f.getRight()-f.getLeft())/this.repulsionRange)),m=parseInt(Math.ceil((f.getBottom()-f.getTop())/this.repulsionRange));for(var y=new Array(g),v=0;v<g;v++)y[v]=new Array(m);for(var v=0;v<g;v++)for(var x=0;x<m;x++)y[v][x]=new Array;return y},d.prototype.addNodeToGrid=function(f,g,m){var y=0,v=0,x=0,w=0;y=parseInt(Math.floor((f.getRect().x-g)/this.repulsionRange)),v=parseInt(Math.floor((f.getRect().width+f.getRect().x-g)/this.repulsionRange)),x=parseInt(Math.floor((f.getRect().y-m)/this.repulsionRange)),w=parseInt(Math.floor((f.getRect().height+f.getRect().y-m)/this.repulsionRange));for(var k=y;k<=v;k++)for(var E=x;E<=w;E++)this.grid[k][E].push(f),f.setGridCoordinates(y,v,x,w)},d.prototype.updateGrid=function(){var f,g,m=this.getAllNodes();for(this.grid=this.calcGrid(this.graphManager.getRoot()),f=0;f<m.length;f++)g=m[f],this.addNodeToGrid(g,this.graphManager.getRoot().getLeft(),this.graphManager.getRoot().getTop())},d.prototype.calculateRepulsionForceOfANode=function(f,g,m,y){if(this.totalIterations%o.GRID_CALCULATION_CHECK_PERIOD==1&&m||y){var v=new Set;f.surrounding=new Array;for(var x,w=this.grid,k=f.startX-1;k<f.finishX+2;k++)for(var E=f.startY-1;E<f.finishY+2;E++)if(!(k<0||E<0||k>=w.length||E>=w[0].length)){for(var _=0;_<w[k][E].length;_++)if(x=w[k][E][_],!(f.getOwner()!=x.getOwner()||f==x)&&!g.has(x)&&!v.has(x)){var S=Math.abs(f.getCenterX()-x.getCenterX())-(f.getWidth()/2+x.getWidth()/2),R=Math.abs(f.getCenterY()-x.getCenterY())-(f.getHeight()/2+x.getHeight()/2);S<=this.repulsionRange&&R<=this.repulsionRange&&v.add(x)}}f.surrounding=[].concat(a(v))}for(k=0;k<f.surrounding.length;k++)this.calcRepulsionForce(f,f.surrounding[k])},d.prototype.calcRepulsionRange=function(){return 0},r.exports=d},function(r,n,i){var a=i(1),s=i(7);function o(u,h,d){a.call(this,u,h,d),this.idealLength=s.DEFAULT_EDGE_LENGTH}o.prototype=Object.create(a.prototype);for(var l in a)o[l]=a[l];r.exports=o},function(r,n,i){var a=i(3);function s(l,u,h,d){a.call(this,l,u,h,d),this.springForceX=0,this.springForceY=0,this.repulsionForceX=0,this.repulsionForceY=0,this.gravitationForceX=0,this.gravitationForceY=0,this.displacementX=0,this.displacementY=0,this.startX=0,this.finishX=0,this.startY=0,this.finishY=0,this.surrounding=[]}s.prototype=Object.create(a.prototype);for(var o in a)s[o]=a[o];s.prototype.setGridCoordinates=function(l,u,h,d){this.startX=l,this.finishX=u,this.startY=h,this.finishY=d},r.exports=s},function(r,n,i){function a(s,o){this.width=0,this.height=0,s!==null&&o!==null&&(this.height=o,this.width=s)}a.prototype.getWidth=function(){return this.width},a.prototype.setWidth=function(s){this.width=s},a.prototype.getHeight=function(){return this.height},a.prototype.setHeight=function(s){this.height=s},r.exports=a},function(r,n,i){var a=i(14);function s(){this.map={},this.keys=[]}s.prototype.put=function(o,l){var u=a.createID(o);this.contains(u)||(this.map[u]=l,this.keys.push(o))},s.prototype.contains=function(o){return a.createID(o),this.map[o]!=null},s.prototype.get=function(o){var l=a.createID(o);return this.map[l]},s.prototype.keySet=function(){return this.keys},r.exports=s},function(r,n,i){var a=i(14);function s(){this.set={}}s.prototype.add=function(o){var l=a.createID(o);this.contains(l)||(this.set[l]=o)},s.prototype.remove=function(o){delete this.set[a.createID(o)]},s.prototype.clear=function(){this.set={}},s.prototype.contains=function(o){return this.set[a.createID(o)]==o},s.prototype.isEmpty=function(){return this.size()===0},s.prototype.size=function(){return Object.keys(this.set).length},s.prototype.addAllTo=function(o){for(var l=Object.keys(this.set),u=l.length,h=0;h<u;h++)o.push(this.set[l[h]])},s.prototype.size=function(){return Object.keys(this.set).length},s.prototype.addAll=function(o){for(var l=o.length,u=0;u<l;u++){var h=o[u];this.add(h)}},r.exports=s},function(r,n,i){var a=function(){function u(h,d){for(var p=0;p<d.length;p++){var f=d[p];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(h,f.key,f)}}return function(h,d,p){return d&&u(h.prototype,d),p&&u(h,p),h}}();function s(u,h){if(!(u instanceof h))throw new TypeError("Cannot call a class as a function")}var o=i(11),l=function(){function u(h,d){s(this,u),(d!==null||d!==void 0)&&(this.compareFunction=this._defaultCompareFunction);var p=void 0;h instanceof o?p=h.size():p=h.length,this._quicksort(h,0,p-1)}return a(u,[{key:"_quicksort",value:function(d,p,f){if(p<f){var g=this._partition(d,p,f);this._quicksort(d,p,g),this._quicksort(d,g+1,f)}}},{key:"_partition",value:function(d,p,f){for(var g=this._get(d,p),m=p,y=f;;){for(;this.compareFunction(g,this._get(d,y));)y--;for(;this.compareFunction(this._get(d,m),g);)m++;if(m<y)this._swap(d,m,y),m++,y--;else return y}}},{key:"_get",value:function(d,p){return d instanceof o?d.get_object_at(p):d[p]}},{key:"_set",value:function(d,p,f){d instanceof o?d.set_object_at(p,f):d[p]=f}},{key:"_swap",value:function(d,p,f){var g=this._get(d,p);this._set(d,p,this._get(d,f)),this._set(d,f,g)}},{key:"_defaultCompareFunction",value:function(d,p){return p>d}}]),u}();r.exports=l},function(r,n,i){var a=function(){function l(u,h){for(var d=0;d<h.length;d++){var p=h[d];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(u,p.key,p)}}return function(u,h,d){return h&&l(u.prototype,h),d&&l(u,d),u}}();function s(l,u){if(!(l instanceof u))throw new TypeError("Cannot call a class as a function")}var o=function(){function l(u,h){var d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,p=arguments.length>3&&arguments[3]!==void 0?arguments[3]:-1,f=arguments.length>4&&arguments[4]!==void 0?arguments[4]:-1;s(this,l),this.sequence1=u,this.sequence2=h,this.match_score=d,this.mismatch_penalty=p,this.gap_penalty=f,this.iMax=u.length+1,this.jMax=h.length+1,this.grid=new Array(this.iMax);for(var g=0;g<this.iMax;g++){this.grid[g]=new Array(this.jMax);for(var m=0;m<this.jMax;m++)this.grid[g][m]=0}this.tracebackGrid=new Array(this.iMax);for(var y=0;y<this.iMax;y++){this.tracebackGrid[y]=new Array(this.jMax);for(var v=0;v<this.jMax;v++)this.tracebackGrid[y][v]=[null,null,null]}this.alignments=[],this.score=-1,this.computeGrids()}return a(l,[{key:"getScore",value:function(){return this.score}},{key:"getAlignments",value:function(){return this.alignments}},{key:"computeGrids",value:function(){for(var h=1;h<this.jMax;h++)this.grid[0][h]=this.grid[0][h-1]+this.gap_penalty,this.tracebackGrid[0][h]=[!1,!1,!0];for(var d=1;d<this.iMax;d++)this.grid[d][0]=this.grid[d-1][0]+this.gap_penalty,this.tracebackGrid[d][0]=[!1,!0,!1];for(var p=1;p<this.iMax;p++)for(var f=1;f<this.jMax;f++){var g=void 0;this.sequence1[p-1]===this.sequence2[f-1]?g=this.grid[p-1][f-1]+this.match_score:g=this.grid[p-1][f-1]+this.mismatch_penalty;var m=this.grid[p-1][f]+this.gap_penalty,y=this.grid[p][f-1]+this.gap_penalty,v=[g,m,y],x=this.arrayAllMaxIndexes(v);this.grid[p][f]=v[x[0]],this.tracebackGrid[p][f]=[x.includes(0),x.includes(1),x.includes(2)]}this.score=this.grid[this.iMax-1][this.jMax-1]}},{key:"alignmentTraceback",value:function(){var h=[];for(h.push({pos:[this.sequence1.length,this.sequence2.length],seq1:"",seq2:""});h[0];){var d=h[0],p=this.tracebackGrid[d.pos[0]][d.pos[1]];p[0]&&h.push({pos:[d.pos[0]-1,d.pos[1]-1],seq1:this.sequence1[d.pos[0]-1]+d.seq1,seq2:this.sequence2[d.pos[1]-1]+d.seq2}),p[1]&&h.push({pos:[d.pos[0]-1,d.pos[1]],seq1:this.sequence1[d.pos[0]-1]+d.seq1,seq2:"-"+d.seq2}),p[2]&&h.push({pos:[d.pos[0],d.pos[1]-1],seq1:"-"+d.seq1,seq2:this.sequence2[d.pos[1]-1]+d.seq2}),d.pos[0]===0&&d.pos[1]===0&&this.alignments.push({sequence1:d.seq1,sequence2:d.seq2}),h.shift()}return this.alignments}},{key:"getAllIndexes",value:function(h,d){for(var p=[],f=-1;(f=h.indexOf(d,f+1))!==-1;)p.push(f);return p}},{key:"arrayAllMaxIndexes",value:function(h){return this.getAllIndexes(h,Math.max.apply(null,h))}}]),l}();r.exports=o},function(r,n,i){var a=function(){};a.FDLayout=i(18),a.FDLayoutConstants=i(7),a.FDLayoutEdge=i(19),a.FDLayoutNode=i(20),a.DimensionD=i(21),a.HashMap=i(22),a.HashSet=i(23),a.IGeometry=i(8),a.IMath=i(9),a.Integer=i(10),a.Point=i(12),a.PointD=i(4),a.RandomSeed=i(16),a.RectangleD=i(13),a.Transform=i(17),a.UniqueIDGeneretor=i(14),a.Quicksort=i(24),a.LinkedList=i(11),a.LGraphObject=i(2),a.LGraph=i(5),a.LEdge=i(1),a.LGraphManager=i(6),a.LNode=i(3),a.Layout=i(15),a.LayoutConstants=i(0),a.NeedlemanWunsch=i(25),r.exports=a},function(r,n,i){function a(){this.listeners=[]}var s=a.prototype;s.addListener=function(o,l){this.listeners.push({event:o,callback:l})},s.removeListener=function(o,l){for(var u=this.listeners.length;u>=0;u--){var h=this.listeners[u];h.event===o&&h.callback===l&&this.listeners.splice(u,1)}},s.emit=function(o,l){for(var u=0;u<this.listeners.length;u++){var h=this.listeners[u];o===h.event&&h.callback(l)}},r.exports=a}])})}(NE)),NE.exports}var sz;function fJe(){return sz||(sz=1,function(t,e){(function(n,i){t.exports=i(dJe())})(Il,function(r){return function(n){var i={};function a(s){if(i[s])return i[s].exports;var o=i[s]={i:s,l:!1,exports:{}};return n[s].call(o.exports,o,o.exports,a),o.l=!0,o.exports}return a.m=n,a.c=i,a.i=function(s){return s},a.d=function(s,o,l){a.o(s,o)||Object.defineProperty(s,o,{configurable:!1,enumerable:!0,get:l})},a.n=function(s){var o=s&&s.__esModule?function(){return s.default}:function(){return s};return a.d(o,"a",o),o},a.o=function(s,o){return Object.prototype.hasOwnProperty.call(s,o)},a.p="",a(a.s=7)}([function(n,i){n.exports=r},function(n,i,a){var s=a(0).FDLayoutConstants;function o(){}for(var l in s)o[l]=s[l];o.DEFAULT_USE_MULTI_LEVEL_SCALING=!1,o.DEFAULT_RADIAL_SEPARATION=s.DEFAULT_EDGE_LENGTH,o.DEFAULT_COMPONENT_SEPERATION=60,o.TILE=!0,o.TILING_PADDING_VERTICAL=10,o.TILING_PADDING_HORIZONTAL=10,o.TREE_REDUCTION_ON_INCREMENTAL=!1,n.exports=o},function(n,i,a){var s=a(0).FDLayoutEdge;function o(u,h,d){s.call(this,u,h,d)}o.prototype=Object.create(s.prototype);for(var l in s)o[l]=s[l];n.exports=o},function(n,i,a){var s=a(0).LGraph;function o(u,h,d){s.call(this,u,h,d)}o.prototype=Object.create(s.prototype);for(var l in s)o[l]=s[l];n.exports=o},function(n,i,a){var s=a(0).LGraphManager;function o(u){s.call(this,u)}o.prototype=Object.create(s.prototype);for(var l in s)o[l]=s[l];n.exports=o},function(n,i,a){var s=a(0).FDLayoutNode,o=a(0).IMath;function l(h,d,p,f){s.call(this,h,d,p,f)}l.prototype=Object.create(s.prototype);for(var u in s)l[u]=s[u];l.prototype.move=function(){var h=this.graphManager.getLayout();this.displacementX=h.coolingFactor*(this.springForceX+this.repulsionForceX+this.gravitationForceX)/this.noOfChildren,this.displacementY=h.coolingFactor*(this.springForceY+this.repulsionForceY+this.gravitationForceY)/this.noOfChildren,Math.abs(this.displacementX)>h.coolingFactor*h.maxNodeDisplacement&&(this.displacementX=h.coolingFactor*h.maxNodeDisplacement*o.sign(this.displacementX)),Math.abs(this.displacementY)>h.coolingFactor*h.maxNodeDisplacement&&(this.displacementY=h.coolingFactor*h.maxNodeDisplacement*o.sign(this.displacementY)),this.child==null?this.moveBy(this.displacementX,this.displacementY):this.child.getNodes().length==0?this.moveBy(this.displacementX,this.displacementY):this.propogateDisplacementToChildren(this.displacementX,this.displacementY),h.totalDisplacement+=Math.abs(this.displacementX)+Math.abs(this.displacementY),this.springForceX=0,this.springForceY=0,this.repulsionForceX=0,this.repulsionForceY=0,this.gravitationForceX=0,this.gravitationForceY=0,this.displacementX=0,this.displacementY=0},l.prototype.propogateDisplacementToChildren=function(h,d){for(var p=this.getChild().getNodes(),f,g=0;g<p.length;g++)f=p[g],f.getChild()==null?(f.moveBy(h,d),f.displacementX+=h,f.displacementY+=d):f.propogateDisplacementToChildren(h,d)},l.prototype.setPred1=function(h){this.pred1=h},l.prototype.getPred1=function(){return pred1},l.prototype.getPred2=function(){return pred2},l.prototype.setNext=function(h){this.next=h},l.prototype.getNext=function(){return next},l.prototype.setProcessed=function(h){this.processed=h},l.prototype.isProcessed=function(){return processed},n.exports=l},function(n,i,a){var s=a(0).FDLayout,o=a(4),l=a(3),u=a(5),h=a(2),d=a(1),p=a(0).FDLayoutConstants,f=a(0).LayoutConstants,g=a(0).Point,m=a(0).PointD,y=a(0).Layout,v=a(0).Integer,x=a(0).IGeometry,w=a(0).LGraph,k=a(0).Transform;function E(){s.call(this),this.toBeTiled={}}E.prototype=Object.create(s.prototype);for(var _ in s)E[_]=s[_];E.prototype.newGraphManager=function(){var S=new o(this);return this.graphManager=S,S},E.prototype.newGraph=function(S){return new l(null,this.graphManager,S)},E.prototype.newNode=function(S){return new u(this.graphManager,S)},E.prototype.newEdge=function(S){return new h(null,null,S)},E.prototype.initParameters=function(){s.prototype.initParameters.call(this,arguments),this.isSubLayout||(d.DEFAULT_EDGE_LENGTH<10?this.idealEdgeLength=10:this.idealEdgeLength=d.DEFAULT_EDGE_LENGTH,this.useSmartIdealEdgeLengthCalculation=d.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION,this.springConstant=p.DEFAULT_SPRING_STRENGTH,this.repulsionConstant=p.DEFAULT_REPULSION_STRENGTH,this.gravityConstant=p.DEFAULT_GRAVITY_STRENGTH,this.compoundGravityConstant=p.DEFAULT_COMPOUND_GRAVITY_STRENGTH,this.gravityRangeFactor=p.DEFAULT_GRAVITY_RANGE_FACTOR,this.compoundGravityRangeFactor=p.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR,this.prunedNodesAll=[],this.growTreeIterations=0,this.afterGrowthIterations=0,this.isTreeGrowing=!1,this.isGrowthFinished=!1,this.coolingCycle=0,this.maxCoolingCycle=this.maxIterations/p.CONVERGENCE_CHECK_PERIOD,this.finalTemperature=p.CONVERGENCE_CHECK_PERIOD/this.maxIterations,this.coolingAdjuster=1)},E.prototype.layout=function(){var S=f.DEFAULT_CREATE_BENDS_AS_NEEDED;return S&&(this.createBendpoints(),this.graphManager.resetAllEdges()),this.level=0,this.classicLayout()},E.prototype.classicLayout=function(){if(this.nodesWithGravity=this.calculateNodesToApplyGravitationTo(),this.graphManager.setAllNodesToApplyGravitation(this.nodesWithGravity),this.calcNoOfChildrenForAllNodes(),this.graphManager.calcLowestCommonAncestors(),this.graphManager.calcInclusionTreeDepths(),this.graphManager.getRoot().calcEstimatedSize(),this.calcIdealEdgeLengths(),this.incremental){if(d.TREE_REDUCTION_ON_INCREMENTAL){this.reduceTrees(),this.graphManager.resetAllNodesToApplyGravitation();var R=new Set(this.getAllNodes()),C=this.nodesWithGravity.filter(function(N){return R.has(N)});this.graphManager.setAllNodesToApplyGravitation(C)}}else{var S=this.getFlatForest();if(S.length>0)this.positionNodesRadially(S);else{this.reduceTrees(),this.graphManager.resetAllNodesToApplyGravitation();var R=new Set(this.getAllNodes()),C=this.nodesWithGravity.filter(function(L){return R.has(L)});this.graphManager.setAllNodesToApplyGravitation(C),this.positionNodesRandomly()}}return this.initSpringEmbedder(),this.runSpringEmbedder(),!0},E.prototype.tick=function(){if(this.totalIterations++,this.totalIterations===this.maxIterations&&!this.isTreeGrowing&&!this.isGrowthFinished)if(this.prunedNodesAll.length>0)this.isTreeGrowing=!0;else return!0;if(this.totalIterations%p.CONVERGENCE_CHECK_PERIOD==0&&!this.isTreeGrowing&&!this.isGrowthFinished){if(this.isConverged())if(this.prunedNodesAll.length>0)this.isTreeGrowing=!0;else return!0;this.coolingCycle++,this.layoutQuality==0?this.coolingAdjuster=this.coolingCycle:this.layoutQuality==1&&(this.coolingAdjuster=this.coolingCycle/3),this.coolingFactor=Math.max(this.initialCoolingFactor-Math.pow(this.coolingCycle,Math.log(100*(this.initialCoolingFactor-this.finalTemperature))/Math.log(this.maxCoolingCycle))/100*this.coolingAdjuster,this.finalTemperature),this.animationPeriod=Math.ceil(this.initialAnimationPeriod*Math.sqrt(this.coolingFactor))}if(this.isTreeGrowing){if(this.growTreeIterations%10==0)if(this.prunedNodesAll.length>0){this.graphManager.updateBounds(),this.updateGrid(),this.growTree(this.prunedNodesAll),this.graphManager.resetAllNodesToApplyGravitation();var S=new Set(this.getAllNodes()),R=this.nodesWithGravity.filter(function(A){return S.has(A)});this.graphManager.setAllNodesToApplyGravitation(R),this.graphManager.updateBounds(),this.updateGrid(),this.coolingFactor=p.DEFAULT_COOLING_FACTOR_INCREMENTAL}else this.isTreeGrowing=!1,this.isGrowthFinished=!0;this.growTreeIterations++}if(this.isGrowthFinished){if(this.isConverged())return!0;this.afterGrowthIterations%10==0&&(this.graphManager.updateBounds(),this.updateGrid()),this.coolingFactor=p.DEFAULT_COOLING_FACTOR_INCREMENTAL*((100-this.afterGrowthIterations)/100),this.afterGrowthIterations++}var C=!this.isTreeGrowing&&!this.isGrowthFinished,L=this.growTreeIterations%10==1&&this.isTreeGrowing||this.afterGrowthIterations%10==1&&this.isGrowthFinished;return this.totalDisplacement=0,this.graphManager.updateBounds(),this.calcSpringForces(),this.calcRepulsionForces(C,L),this.calcGravitationalForces(),this.moveNodes(),this.animate(),!1},E.prototype.getPositionsData=function(){for(var S=this.graphManager.getAllNodes(),R={},C=0;C<S.length;C++){var L=S[C].rect,A=S[C].id;R[A]={id:A,x:L.getCenterX(),y:L.getCenterY(),w:L.width,h:L.height}}return R},E.prototype.runSpringEmbedder=function(){this.initialAnimationPeriod=25,this.animationPeriod=this.initialAnimationPeriod;var S=!1;if(p.ANIMATE==="during")this.emit("layoutstarted");else{for(;!S;)S=this.tick();this.graphManager.updateBounds()}},E.prototype.calculateNodesToApplyGravitationTo=function(){var S=[],R,C=this.graphManager.getGraphs(),L=C.length,A;for(A=0;A<L;A++)R=C[A],R.updateConnected(),R.isConnected||(S=S.concat(R.getNodes()));return S},E.prototype.createBendpoints=function(){var S=[];S=S.concat(this.graphManager.getAllEdges());var R=new Set,C;for(C=0;C<S.length;C++){var L=S[C];if(!R.has(L)){var A=L.getSource(),N=L.getTarget();if(A==N)L.getBendpoints().push(new m),L.getBendpoints().push(new m),this.createDummyNodesForBendpoints(L),R.add(L);else{var F=[];if(F=F.concat(A.getEdgeListToNode(N)),F=F.concat(N.getEdgeListToNode(A)),!R.has(F[0])){if(F.length>1){var T;for(T=0;T<F.length;T++){var D=F[T];D.getBendpoints().push(new m),this.createDummyNodesForBendpoints(D)}}F.forEach(function(M){R.add(M)})}}}if(R.size==S.length)break}},E.prototype.positionNodesRadially=function(S){for(var R=new g(0,0),C=Math.ceil(Math.sqrt(S.length)),L=0,A=0,N=0,F=new m(0,0),T=0;T<S.length;T++){T%C==0&&(N=0,A=L,T!=0&&(A+=d.DEFAULT_COMPONENT_SEPERATION),L=0);var D=S[T],M=y.findCenterOfTree(D);R.x=N,R.y=A,F=E.radialLayout(D,M,R),F.y>L&&(L=Math.floor(F.y)),N=Math.floor(F.x+d.DEFAULT_COMPONENT_SEPERATION)}this.transform(new m(f.WORLD_CENTER_X-F.x/2,f.WORLD_CENTER_Y-F.y/2))},E.radialLayout=function(S,R,C){var L=Math.max(this.maxDiagonalInTree(S),d.DEFAULT_RADIAL_SEPARATION);E.branchRadialLayout(R,null,0,359,0,L);var A=w.calculateBounds(S),N=new k;N.setDeviceOrgX(A.getMinX()),N.setDeviceOrgY(A.getMinY()),N.setWorldOrgX(C.x),N.setWorldOrgY(C.y);for(var F=0;F<S.length;F++){var T=S[F];T.transform(N)}var D=new m(A.getMaxX(),A.getMaxY());return N.inverseTransformPoint(D)},E.branchRadialLayout=function(S,R,C,L,A,N){var F=(L-C+1)/2;F<0&&(F+=180);var T=(F+C)%360,D=T*x.TWO_PI/360,M=A*Math.cos(D),O=A*Math.sin(D);S.setCenter(M,O);var I=[];I=I.concat(S.getEdges());var P=I.length;R!=null&&P--;for(var B=0,$=I.length,V,W=S.getEdgesBetween(R);W.length>1;){var K=W[0];W.splice(0,1);var Z=I.indexOf(K);Z>=0&&I.splice(Z,1),$--,P--}R!=null?V=(I.indexOf(W[0])+1)%$:V=0;for(var H=Math.abs(L-C)/P,ee=V;B!=P;ee=++ee%$){var te=I[ee].getOtherEnd(S);if(te!=R){var U=(C+B*H)%360,j=(U+H)%360;E.branchRadialLayout(te,S,U,j,A+N,N),B++}}},E.maxDiagonalInTree=function(S){for(var R=v.MIN_VALUE,C=0;C<S.length;C++){var L=S[C],A=L.getDiagonal();A>R&&(R=A)}return R},E.prototype.calcRepulsionRange=function(){return 2*(this.level+1)*this.idealEdgeLength},E.prototype.groupZeroDegreeMembers=function(){var S=this,R={};this.memberGroups={},this.idToDummyNode={};for(var C=[],L=this.graphManager.getAllNodes(),A=0;A<L.length;A++){var N=L[A],F=N.getParent();this.getNodeDegreeWithChildren(N)===0&&(F.id==null||!this.getToBeTiled(F))&&C.push(N)}for(var A=0;A<C.length;A++){var N=C[A],T=N.getParent().id;typeof R[T]>"u"&&(R[T]=[]),R[T]=R[T].concat(N)}Object.keys(R).forEach(function(D){if(R[D].length>1){var M="DummyCompound_"+D;S.memberGroups[M]=R[D];var O=R[D][0].getParent(),I=new u(S.graphManager);I.id=M,I.paddingLeft=O.paddingLeft||0,I.paddingRight=O.paddingRight||0,I.paddingBottom=O.paddingBottom||0,I.paddingTop=O.paddingTop||0,S.idToDummyNode[M]=I;var P=S.getGraphManager().add(S.newGraph(),I),B=O.getChild();B.add(I);for(var $=0;$<R[D].length;$++){var V=R[D][$];B.remove(V),P.add(V)}}})},E.prototype.clearCompounds=function(){var S={},R={};this.performDFSOnCompounds();for(var C=0;C<this.compoundOrder.length;C++)R[this.compoundOrder[C].id]=this.compoundOrder[C],S[this.compoundOrder[C].id]=[].concat(this.compoundOrder[C].getChild().getNodes()),this.graphManager.remove(this.compoundOrder[C].getChild()),this.compoundOrder[C].child=null;this.graphManager.resetAllNodes(),this.tileCompoundMembers(S,R)},E.prototype.clearZeroDegreeMembers=function(){var S=this,R=this.tiledZeroDegreePack=[];Object.keys(this.memberGroups).forEach(function(C){var L=S.idToDummyNode[C];R[C]=S.tileNodes(S.memberGroups[C],L.paddingLeft+L.paddingRight),L.rect.width=R[C].width,L.rect.height=R[C].height})},E.prototype.repopulateCompounds=function(){for(var S=this.compoundOrder.length-1;S>=0;S--){var R=this.compoundOrder[S],C=R.id,L=R.paddingLeft,A=R.paddingTop;this.adjustLocations(this.tiledMemberPack[C],R.rect.x,R.rect.y,L,A)}},E.prototype.repopulateZeroDegreeMembers=function(){var S=this,R=this.tiledZeroDegreePack;Object.keys(R).forEach(function(C){var L=S.idToDummyNode[C],A=L.paddingLeft,N=L.paddingTop;S.adjustLocations(R[C],L.rect.x,L.rect.y,A,N)})},E.prototype.getToBeTiled=function(S){var R=S.id;if(this.toBeTiled[R]!=null)return this.toBeTiled[R];var C=S.getChild();if(C==null)return this.toBeTiled[R]=!1,!1;for(var L=C.getNodes(),A=0;A<L.length;A++){var N=L[A];if(this.getNodeDegree(N)>0)return this.toBeTiled[R]=!1,!1;if(N.getChild()==null){this.toBeTiled[N.id]=!1;continue}if(!this.getToBeTiled(N))return this.toBeTiled[R]=!1,!1}return this.toBeTiled[R]=!0,!0},E.prototype.getNodeDegree=function(S){S.id;for(var R=S.getEdges(),C=0,L=0;L<R.length;L++){var A=R[L];A.getSource().id!==A.getTarget().id&&(C=C+1)}return C},E.prototype.getNodeDegreeWithChildren=function(S){var R=this.getNodeDegree(S);if(S.getChild()==null)return R;for(var C=S.getChild().getNodes(),L=0;L<C.length;L++){var A=C[L];R+=this.getNodeDegreeWithChildren(A)}return R},E.prototype.performDFSOnCompounds=function(){this.compoundOrder=[],this.fillCompexOrderByDFS(this.graphManager.getRoot().getNodes())},E.prototype.fillCompexOrderByDFS=function(S){for(var R=0;R<S.length;R++){var C=S[R];C.getChild()!=null&&this.fillCompexOrderByDFS(C.getChild().getNodes()),this.getToBeTiled(C)&&this.compoundOrder.push(C)}},E.prototype.adjustLocations=function(S,R,C,L,A){R+=L,C+=A;for(var N=R,F=0;F<S.rows.length;F++){var T=S.rows[F];R=N;for(var D=0,M=0;M<T.length;M++){var O=T[M];O.rect.x=R,O.rect.y=C,R+=O.rect.width+S.horizontalPadding,O.rect.height>D&&(D=O.rect.height)}C+=D+S.verticalPadding}},E.prototype.tileCompoundMembers=function(S,R){var C=this;this.tiledMemberPack=[],Object.keys(S).forEach(function(L){var A=R[L];C.tiledMemberPack[L]=C.tileNodes(S[L],A.paddingLeft+A.paddingRight),A.rect.width=C.tiledMemberPack[L].width,A.rect.height=C.tiledMemberPack[L].height})},E.prototype.tileNodes=function(S,R){var C=d.TILING_PADDING_VERTICAL,L=d.TILING_PADDING_HORIZONTAL,A={rows:[],rowWidth:[],rowHeight:[],width:0,height:R,verticalPadding:C,horizontalPadding:L};S.sort(function(T,D){return T.rect.width*T.rect.height>D.rect.width*D.rect.height?-1:T.rect.width*T.rect.height<D.rect.width*D.rect.height?1:0});for(var N=0;N<S.length;N++){var F=S[N];A.rows.length==0?this.insertNodeToRow(A,F,0,R):this.canAddHorizontal(A,F.rect.width,F.rect.height)?this.insertNodeToRow(A,F,this.getShortestRowIndex(A),R):this.insertNodeToRow(A,F,A.rows.length,R),this.shiftToLastRow(A)}return A},E.prototype.insertNodeToRow=function(S,R,C,L){var A=L;if(C==S.rows.length){var N=[];S.rows.push(N),S.rowWidth.push(A),S.rowHeight.push(0)}var F=S.rowWidth[C]+R.rect.width;S.rows[C].length>0&&(F+=S.horizontalPadding),S.rowWidth[C]=F,S.width<F&&(S.width=F);var T=R.rect.height;C>0&&(T+=S.verticalPadding);var D=0;T>S.rowHeight[C]&&(D=S.rowHeight[C],S.rowHeight[C]=T,D=S.rowHeight[C]-D),S.height+=D,S.rows[C].push(R)},E.prototype.getShortestRowIndex=function(S){for(var R=-1,C=Number.MAX_VALUE,L=0;L<S.rows.length;L++)S.rowWidth[L]<C&&(R=L,C=S.rowWidth[L]);return R},E.prototype.getLongestRowIndex=function(S){for(var R=-1,C=Number.MIN_VALUE,L=0;L<S.rows.length;L++)S.rowWidth[L]>C&&(R=L,C=S.rowWidth[L]);return R},E.prototype.canAddHorizontal=function(S,R,C){var L=this.getShortestRowIndex(S);if(L<0)return!0;var A=S.rowWidth[L];if(A+S.horizontalPadding+R<=S.width)return!0;var N=0;S.rowHeight[L]<C&&L>0&&(N=C+S.verticalPadding-S.rowHeight[L]);var F;S.width-A>=R+S.horizontalPadding?F=(S.height+N)/(A+R+S.horizontalPadding):F=(S.height+N)/S.width,N=C+S.verticalPadding;var T;return S.width<R?T=(S.height+N)/R:T=(S.height+N)/S.width,T<1&&(T=1/T),F<1&&(F=1/F),F<T},E.prototype.shiftToLastRow=function(S){var R=this.getLongestRowIndex(S),C=S.rowWidth.length-1,L=S.rows[R],A=L[L.length-1],N=A.width+S.horizontalPadding;if(S.width-S.rowWidth[C]>N&&R!=C){L.splice(-1,1),S.rows[C].push(A),S.rowWidth[R]=S.rowWidth[R]-N,S.rowWidth[C]=S.rowWidth[C]+N,S.width=S.rowWidth[instance.getLongestRowIndex(S)];for(var F=Number.MIN_VALUE,T=0;T<L.length;T++)L[T].height>F&&(F=L[T].height);R>0&&(F+=S.verticalPadding);var D=S.rowHeight[R]+S.rowHeight[C];S.rowHeight[R]=F,S.rowHeight[C]<A.height+S.verticalPadding&&(S.rowHeight[C]=A.height+S.verticalPadding);var M=S.rowHeight[R]+S.rowHeight[C];S.height+=M-D,this.shiftToLastRow(S)}},E.prototype.tilingPreLayout=function(){d.TILE&&(this.groupZeroDegreeMembers(),this.clearCompounds(),this.clearZeroDegreeMembers())},E.prototype.tilingPostLayout=function(){d.TILE&&(this.repopulateZeroDegreeMembers(),this.repopulateCompounds())},E.prototype.reduceTrees=function(){for(var S=[],R=!0,C;R;){var L=this.graphManager.getAllNodes(),A=[];R=!1;for(var N=0;N<L.length;N++)C=L[N],C.getEdges().length==1&&!C.getEdges()[0].isInterGraph&&C.getChild()==null&&(A.push([C,C.getEdges()[0],C.getOwner()]),R=!0);if(R==!0){for(var F=[],T=0;T<A.length;T++)A[T][0].getEdges().length==1&&(F.push(A[T]),A[T][0].getOwner().remove(A[T][0]));S.push(F),this.graphManager.resetAllNodes(),this.graphManager.resetAllEdges()}}this.prunedNodesAll=S},E.prototype.growTree=function(S){for(var R=S.length,C=S[R-1],L,A=0;A<C.length;A++)L=C[A],this.findPlaceforPrunedNode(L),L[2].add(L[0]),L[2].add(L[1],L[1].source,L[1].target);S.splice(S.length-1,1),this.graphManager.resetAllNodes(),this.graphManager.resetAllEdges()},E.prototype.findPlaceforPrunedNode=function(S){var R,C,L=S[0];L==S[1].source?C=S[1].target:C=S[1].source;var A=C.startX,N=C.finishX,F=C.startY,T=C.finishY,D=0,M=0,O=0,I=0,P=[D,O,M,I];if(F>0)for(var B=A;B<=N;B++)P[0]+=this.grid[B][F-1].length+this.grid[B][F].length-1;if(N<this.grid.length-1)for(var B=F;B<=T;B++)P[1]+=this.grid[N+1][B].length+this.grid[N][B].length-1;if(T<this.grid[0].length-1)for(var B=A;B<=N;B++)P[2]+=this.grid[B][T+1].length+this.grid[B][T].length-1;if(A>0)for(var B=F;B<=T;B++)P[3]+=this.grid[A-1][B].length+this.grid[A][B].length-1;for(var $=v.MAX_VALUE,V,W,K=0;K<P.length;K++)P[K]<$?($=P[K],V=1,W=K):P[K]==$&&V++;if(V==3&&$==0)P[0]==0&&P[1]==0&&P[2]==0?R=1:P[0]==0&&P[1]==0&&P[3]==0?R=0:P[0]==0&&P[2]==0&&P[3]==0?R=3:P[1]==0&&P[2]==0&&P[3]==0&&(R=2);else if(V==2&&$==0){var Z=Math.floor(Math.random()*2);P[0]==0&&P[1]==0?Z==0?R=0:R=1:P[0]==0&&P[2]==0?Z==0?R=0:R=2:P[0]==0&&P[3]==0?Z==0?R=0:R=3:P[1]==0&&P[2]==0?Z==0?R=1:R=2:P[1]==0&&P[3]==0?Z==0?R=1:R=3:Z==0?R=2:R=3}else if(V==4&&$==0){var Z=Math.floor(Math.random()*4);R=Z}else R=W;R==0?L.setCenter(C.getCenterX(),C.getCenterY()-C.getHeight()/2-p.DEFAULT_EDGE_LENGTH-L.getHeight()/2):R==1?L.setCenter(C.getCenterX()+C.getWidth()/2+p.DEFAULT_EDGE_LENGTH+L.getWidth()/2,C.getCenterY()):R==2?L.setCenter(C.getCenterX(),C.getCenterY()+C.getHeight()/2+p.DEFAULT_EDGE_LENGTH+L.getHeight()/2):L.setCenter(C.getCenterX()-C.getWidth()/2-p.DEFAULT_EDGE_LENGTH-L.getWidth()/2,C.getCenterY())},n.exports=E},function(n,i,a){var s={};s.layoutBase=a(0),s.CoSEConstants=a(1),s.CoSEEdge=a(2),s.CoSEGraph=a(3),s.CoSEGraphManager=a(4),s.CoSELayout=a(6),s.CoSENode=a(5),n.exports=s}])})}(LE)),LE.exports}(function(t,e){(function(n,i){t.exports=i(fJe())})(Il,function(r){return function(n){var i={};function a(s){if(i[s])return i[s].exports;var o=i[s]={i:s,l:!1,exports:{}};return n[s].call(o.exports,o,o.exports,a),o.l=!0,o.exports}return a.m=n,a.c=i,a.i=function(s){return s},a.d=function(s,o,l){a.o(s,o)||Object.defineProperty(s,o,{configurable:!1,enumerable:!0,get:l})},a.n=function(s){var o=s&&s.__esModule?function(){return s.default}:function(){return s};return a.d(o,"a",o),o},a.o=function(s,o){return Object.prototype.hasOwnProperty.call(s,o)},a.p="",a(a.s=1)}([function(n,i){n.exports=r},function(n,i,a){var s=a(0).layoutBase.LayoutConstants,o=a(0).layoutBase.FDLayoutConstants,l=a(0).CoSEConstants,u=a(0).CoSELayout,h=a(0).CoSENode,d=a(0).layoutBase.PointD,p=a(0).layoutBase.DimensionD,f={ready:function(){},stop:function(){},quality:"default",nodeDimensionsIncludeLabels:!1,refresh:30,fit:!0,padding:10,randomize:!0,nodeRepulsion:4500,idealEdgeLength:50,edgeElasticity:.45,nestingFactor:.1,gravity:.25,numIter:2500,tile:!0,animate:"end",animationDuration:500,tilingPaddingVertical:10,tilingPaddingHorizontal:10,gravityRangeCompound:1.5,gravityCompound:1,gravityRange:3.8,initialEnergyOnIncremental:.5};function g(x,w){var k={};for(var E in x)k[E]=x[E];for(var E in w)k[E]=w[E];return k}function m(x){this.options=g(f,x),y(this.options)}var y=function(w){w.nodeRepulsion!=null&&(l.DEFAULT_REPULSION_STRENGTH=o.DEFAULT_REPULSION_STRENGTH=w.nodeRepulsion),w.idealEdgeLength!=null&&(l.DEFAULT_EDGE_LENGTH=o.DEFAULT_EDGE_LENGTH=w.idealEdgeLength),w.edgeElasticity!=null&&(l.DEFAULT_SPRING_STRENGTH=o.DEFAULT_SPRING_STRENGTH=w.edgeElasticity),w.nestingFactor!=null&&(l.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=o.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=w.nestingFactor),w.gravity!=null&&(l.DEFAULT_GRAVITY_STRENGTH=o.DEFAULT_GRAVITY_STRENGTH=w.gravity),w.numIter!=null&&(l.MAX_ITERATIONS=o.MAX_ITERATIONS=w.numIter),w.gravityRange!=null&&(l.DEFAULT_GRAVITY_RANGE_FACTOR=o.DEFAULT_GRAVITY_RANGE_FACTOR=w.gravityRange),w.gravityCompound!=null&&(l.DEFAULT_COMPOUND_GRAVITY_STRENGTH=o.DEFAULT_COMPOUND_GRAVITY_STRENGTH=w.gravityCompound),w.gravityRangeCompound!=null&&(l.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=o.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=w.gravityRangeCompound),w.initialEnergyOnIncremental!=null&&(l.DEFAULT_COOLING_FACTOR_INCREMENTAL=o.DEFAULT_COOLING_FACTOR_INCREMENTAL=w.initialEnergyOnIncremental),w.quality=="draft"?s.QUALITY=0:w.quality=="proof"?s.QUALITY=2:s.QUALITY=1,l.NODE_DIMENSIONS_INCLUDE_LABELS=o.NODE_DIMENSIONS_INCLUDE_LABELS=s.NODE_DIMENSIONS_INCLUDE_LABELS=w.nodeDimensionsIncludeLabels,l.DEFAULT_INCREMENTAL=o.DEFAULT_INCREMENTAL=s.DEFAULT_INCREMENTAL=!w.randomize,l.ANIMATE=o.ANIMATE=s.ANIMATE=w.animate,l.TILE=w.tile,l.TILING_PADDING_VERTICAL=typeof w.tilingPaddingVertical=="function"?w.tilingPaddingVertical.call():w.tilingPaddingVertical,l.TILING_PADDING_HORIZONTAL=typeof w.tilingPaddingHorizontal=="function"?w.tilingPaddingHorizontal.call():w.tilingPaddingHorizontal};m.prototype.run=function(){var x,w,k=this.options;this.idToLNode={};var E=this.layout=new u,_=this;_.stopped=!1,this.cy=this.options.cy,this.cy.trigger({type:"layoutstart",layout:this});var S=E.newGraphManager();this.gm=S;var R=this.options.eles.nodes(),C=this.options.eles.edges();this.root=S.addRoot(),this.processChildrenList(this.root,this.getTopMostNodes(R),E);for(var L=0;L<C.length;L++){var A=C[L],N=this.idToLNode[A.data("source")],F=this.idToLNode[A.data("target")];if(N!==F&&N.getEdgesBetween(F).length==0){var T=S.add(E.newEdge(),N,F);T.id=A.id()}}var D=function(I,P){typeof I=="number"&&(I=P);var B=I.data("id"),$=_.idToLNode[B];return{x:$.getRect().getCenterX(),y:$.getRect().getCenterY()}},M=function O(){for(var I=function(){k.fit&&k.cy.fit(k.eles,k.padding),x||(x=!0,_.cy.one("layoutready",k.ready),_.cy.trigger({type:"layoutready",layout:_}))},P=_.options.refresh,B,$=0;$<P&&!B;$++)B=_.stopped||_.layout.tick();if(B){E.checkLayoutSuccess()&&!E.isSubLayout&&E.doPostLayout(),E.tilingPostLayout&&E.tilingPostLayout(),E.isLayoutFinished=!0,_.options.eles.nodes().positions(D),I(),_.cy.one("layoutstop",_.options.stop),_.cy.trigger({type:"layoutstop",layout:_}),w&&cancelAnimationFrame(w),x=!1;return}var V=_.layout.getPositionsData();k.eles.nodes().positions(function(W,K){if(typeof W=="number"&&(W=K),!W.isParent()){for(var Z=W.id(),H=V[Z],ee=W;H==null&&(H=V[ee.data("parent")]||V["DummyCompound_"+ee.data("parent")],V[Z]=H,ee=ee.parent()[0],ee!=null););return H!=null?{x:H.x,y:H.y}:{x:W.position("x"),y:W.position("y")}}}),I(),w=requestAnimationFrame(O)};return E.addListener("layoutstarted",function(){_.options.animate==="during"&&(w=requestAnimationFrame(M))}),E.runLayout(),this.options.animate!=="during"&&(_.options.eles.nodes().not(":parent").layoutPositions(_,_.options,D),x=!1),this},m.prototype.getTopMostNodes=function(x){for(var w={},k=0;k<x.length;k++)w[x[k].id()]=!0;var E=x.filter(function(_,S){typeof _=="number"&&(_=S);for(var R=_.parent()[0];R!=null;){if(w[R.id()])return!1;R=R.parent()[0]}return!0});return E},m.prototype.processChildrenList=function(x,w,k){for(var E=w.length,_=0;_<E;_++){var S=w[_],R=S.children(),C,L=S.layoutDimensions({nodeDimensionsIncludeLabels:this.options.nodeDimensionsIncludeLabels});if(S.outerWidth()!=null&&S.outerHeight()!=null?C=x.add(new h(k.graphManager,new d(S.position("x")-L.w/2,S.position("y")-L.h/2),new p(parseFloat(L.w),parseFloat(L.h)))):C=x.add(new h(this.graphManager)),C.id=S.data("id"),C.paddingLeft=parseInt(S.css("padding")),C.paddingTop=parseInt(S.css("padding")),C.paddingRight=parseInt(S.css("padding")),C.paddingBottom=parseInt(S.css("padding")),this.options.nodeDimensionsIncludeLabels&&S.isParent()){var A=S.boundingBox({includeLabels:!0,includeNodes:!1}).w,N=S.boundingBox({includeLabels:!0,includeNodes:!1}).h,F=S.css("text-halign");C.labelWidth=A,C.labelHeight=N,C.labelPos=F}if(this.idToLNode[S.data("id")]=C,isNaN(C.rect.x)&&(C.rect.x=0),isNaN(C.rect.y)&&(C.rect.y=0),R!=null&&R.length>0){var T;T=k.getGraphManager().add(k.newGraph(),C),this.processChildrenList(T,R,k)}}},m.prototype.stop=function(){return this.stopped=!0,this};var v=function(w){w("layout","cose-bilkent",m)};typeof cytoscape<"u"&&v(cytoscape),n.exports=v}])})})(xse);var pJe=xse.exports;const gJe=qc(pJe);var N8=function(){var t=b(function(k,E,_,S){for(_=_||{},S=k.length;S--;_[k[S]]=E);return _},"o"),e=[1,4],r=[1,13],n=[1,12],i=[1,15],a=[1,16],s=[1,20],o=[1,19],l=[6,7,8],u=[1,26],h=[1,24],d=[1,25],p=[6,7,11],f=[1,6,13,15,16,19,22],g=[1,33],m=[1,34],y=[1,6,7,11,13,15,16,19,22],v={trace:b(function(){},"trace"),yy:{},symbols_:{error:2,start:3,mindMap:4,spaceLines:5,SPACELINE:6,NL:7,MINDMAP:8,document:9,stop:10,EOF:11,statement:12,SPACELIST:13,node:14,ICON:15,CLASS:16,nodeWithId:17,nodeWithoutId:18,NODE_DSTART:19,NODE_DESCR:20,NODE_DEND:21,NODE_ID:22,$accept:0,$end:1},terminals_:{2:"error",6:"SPACELINE",7:"NL",8:"MINDMAP",11:"EOF",13:"SPACELIST",15:"ICON",16:"CLASS",19:"NODE_DSTART",20:"NODE_DESCR",21:"NODE_DEND",22:"NODE_ID"},productions_:[0,[3,1],[3,2],[5,1],[5,2],[5,2],[4,2],[4,3],[10,1],[10,1],[10,1],[10,2],[10,2],[9,3],[9,2],[12,2],[12,2],[12,2],[12,1],[12,1],[12,1],[12,1],[12,1],[14,1],[14,1],[18,3],[17,1],[17,4]],performAction:b(function(E,_,S,R,C,L,A){var N=L.length-1;switch(C){case 6:case 7:return R;case 8:R.getLogger().trace("Stop NL ");break;case 9:R.getLogger().trace("Stop EOF ");break;case 11:R.getLogger().trace("Stop NL2 ");break;case 12:R.getLogger().trace("Stop EOF2 ");break;case 15:R.getLogger().info("Node: ",L[N].id),R.addNode(L[N-1].length,L[N].id,L[N].descr,L[N].type);break;case 16:R.getLogger().trace("Icon: ",L[N]),R.decorateNode({icon:L[N]});break;case 17:case 21:R.decorateNode({class:L[N]});break;case 18:R.getLogger().trace("SPACELIST");break;case 19:R.getLogger().trace("Node: ",L[N].id),R.addNode(0,L[N].id,L[N].descr,L[N].type);break;case 20:R.decorateNode({icon:L[N]});break;case 25:R.getLogger().trace("node found ..",L[N-2]),this.$={id:L[N-1],descr:L[N-1],type:R.getType(L[N-2],L[N])};break;case 26:this.$={id:L[N],descr:L[N],type:R.nodeType.DEFAULT};break;case 27:R.getLogger().trace("node found ..",L[N-3]),this.$={id:L[N-3],descr:L[N-1],type:R.getType(L[N-2],L[N])};break}},"anonymous"),table:[{3:1,4:2,5:3,6:[1,5],8:e},{1:[3]},{1:[2,1]},{4:6,6:[1,7],7:[1,8],8:e},{6:r,7:[1,10],9:9,12:11,13:n,14:14,15:i,16:a,17:17,18:18,19:s,22:o},t(l,[2,3]),{1:[2,2]},t(l,[2,4]),t(l,[2,5]),{1:[2,6],6:r,12:21,13:n,14:14,15:i,16:a,17:17,18:18,19:s,22:o},{6:r,9:22,12:11,13:n,14:14,15:i,16:a,17:17,18:18,19:s,22:o},{6:u,7:h,10:23,11:d},t(p,[2,22],{17:17,18:18,14:27,15:[1,28],16:[1,29],19:s,22:o}),t(p,[2,18]),t(p,[2,19]),t(p,[2,20]),t(p,[2,21]),t(p,[2,23]),t(p,[2,24]),t(p,[2,26],{19:[1,30]}),{20:[1,31]},{6:u,7:h,10:32,11:d},{1:[2,7],6:r,12:21,13:n,14:14,15:i,16:a,17:17,18:18,19:s,22:o},t(f,[2,14],{7:g,11:m}),t(y,[2,8]),t(y,[2,9]),t(y,[2,10]),t(p,[2,15]),t(p,[2,16]),t(p,[2,17]),{20:[1,35]},{21:[1,36]},t(f,[2,13],{7:g,11:m}),t(y,[2,11]),t(y,[2,12]),{21:[1,37]},t(p,[2,25]),t(p,[2,27])],defaultActions:{2:[2,1],6:[2,2]},parseError:b(function(E,_){if(_.recoverable)this.trace(E);else{var S=new Error(E);throw S.hash=_,S}},"parseError"),parse:b(function(E){var _=this,S=[0],R=[],C=[null],L=[],A=this.table,N="",F=0,T=0,D=2,M=1,O=L.slice.call(arguments,1),I=Object.create(this.lexer),P={yy:{}};for(var B in this.yy)Object.prototype.hasOwnProperty.call(this.yy,B)&&(P.yy[B]=this.yy[B]);I.setInput(E,P.yy),P.yy.lexer=I,P.yy.parser=this,typeof I.yylloc>"u"&&(I.yylloc={});var $=I.yylloc;L.push($);var V=I.options&&I.options.ranges;typeof P.yy.parseError=="function"?this.parseError=P.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function W(J){S.length=S.length-2*J,C.length=C.length-J,L.length=L.length-J}b(W,"popStack");function K(){var J;return J=R.pop()||I.lex()||M,typeof J!="number"&&(J instanceof Array&&(R=J,J=R.pop()),J=_.symbols_[J]||J),J}b(K,"lex");for(var Z,H,ee,te,U={},j,Y,Q,ae;;){if(H=S[S.length-1],this.defaultActions[H]?ee=this.defaultActions[H]:((Z===null||typeof Z>"u")&&(Z=K()),ee=A[H]&&A[H][Z]),typeof ee>"u"||!ee.length||!ee[0]){var ie="";ae=[];for(j in A[H])this.terminals_[j]&&j>D&&ae.push("'"+this.terminals_[j]+"'");I.showPosition?ie="Parse error on line "+(F+1)+`:
`+I.showPosition()+`
Expecting `+ae.join(", ")+", got '"+(this.terminals_[Z]||Z)+"'":ie="Parse error on line "+(F+1)+": Unexpected "+(Z==M?"end of input":"'"+(this.terminals_[Z]||Z)+"'"),this.parseError(ie,{text:I.match,token:this.terminals_[Z]||Z,line:I.yylineno,loc:$,expected:ae})}if(ee[0]instanceof Array&&ee.length>1)throw new Error("Parse Error: multiple actions possible at state: "+H+", token: "+Z);switch(ee[0]){case 1:S.push(Z),C.push(I.yytext),L.push(I.yylloc),S.push(ee[1]),Z=null,T=I.yyleng,N=I.yytext,F=I.yylineno,$=I.yylloc;break;case 2:if(Y=this.productions_[ee[1]][1],U.$=C[C.length-Y],U._$={first_line:L[L.length-(Y||1)].first_line,last_line:L[L.length-1].last_line,first_column:L[L.length-(Y||1)].first_column,last_column:L[L.length-1].last_column},V&&(U._$.range=[L[L.length-(Y||1)].range[0],L[L.length-1].range[1]]),te=this.performAction.apply(U,[N,T,F,P.yy,ee[1],C,L].concat(O)),typeof te<"u")return te;Y&&(S=S.slice(0,-1*Y*2),C=C.slice(0,-1*Y),L=L.slice(0,-1*Y)),S.push(this.productions_[ee[1]][0]),C.push(U.$),L.push(U._$),Q=A[S[S.length-2]][S[S.length-1]],S.push(Q);break;case 3:return!0}}return!0},"parse")},x=function(){var k={EOF:1,parseError:b(function(_,S){if(this.yy.parser)this.yy.parser.parseError(_,S);else throw new Error(_)},"parseError"),setInput:b(function(E,_){return this.yy=_||this.yy||{},this._input=E,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},"setInput"),input:b(function(){var E=this._input[0];this.yytext+=E,this.yyleng++,this.offset++,this.match+=E,this.matched+=E;var _=E.match(/(?:\r\n?|\n).*/g);return _?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),E},"input"),unput:b(function(E){var _=E.length,S=E.split(/(?:\r\n?|\n)/g);this._input=E+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-_),this.offset-=_;var R=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),S.length-1&&(this.yylineno-=S.length-1);var C=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:S?(S.length===R.length?this.yylloc.first_column:0)+R[R.length-S.length].length-S[0].length:this.yylloc.first_column-_},this.options.ranges&&(this.yylloc.range=[C[0],C[0]+this.yyleng-_]),this.yyleng=this.yytext.length,this},"unput"),more:b(function(){return this._more=!0,this},"more"),reject:b(function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},"reject"),less:b(function(E){this.unput(this.match.slice(E))},"less"),pastInput:b(function(){var E=this.matched.substr(0,this.matched.length-this.match.length);return(E.length>20?"...":"")+E.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:b(function(){var E=this.match;return E.length<20&&(E+=this._input.substr(0,20-E.length)),(E.substr(0,20)+(E.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:b(function(){var E=this.pastInput(),_=new Array(E.length+1).join("-");return E+this.upcomingInput()+`
`+_+"^"},"showPosition"),test_match:b(function(E,_){var S,R,C;if(this.options.backtrack_lexer&&(C={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(C.yylloc.range=this.yylloc.range.slice(0))),R=E[0].match(/(?:\r\n?|\n).*/g),R&&(this.yylineno+=R.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:R?R[R.length-1].length-R[R.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+E[0].length},this.yytext+=E[0],this.match+=E[0],this.matches=E,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(E[0].length),this.matched+=E[0],S=this.performAction.call(this,this.yy,this,_,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),S)return S;if(this._backtrack){for(var L in C)this[L]=C[L];return!1}return!1},"test_match"),next:b(function(){if(this.done)return this.EOF;this._input||(this.done=!0);var E,_,S,R;this._more||(this.yytext="",this.match="");for(var C=this._currentRules(),L=0;L<C.length;L++)if(S=this._input.match(this.rules[C[L]]),S&&(!_||S[0].length>_[0].length)){if(_=S,R=L,this.options.backtrack_lexer){if(E=this.test_match(S,C[L]),E!==!1)return E;if(this._backtrack){_=!1;continue}else return!1}else if(!this.options.flex)break}return _?(E=this.test_match(_,C[R]),E!==!1?E:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:b(function(){var _=this.next();return _||this.lex()},"lex"),begin:b(function(_){this.conditionStack.push(_)},"begin"),popState:b(function(){var _=this.conditionStack.length-1;return _>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:b(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:b(function(_){return _=this.conditionStack.length-1-Math.abs(_||0),_>=0?this.conditionStack[_]:"INITIAL"},"topState"),pushState:b(function(_){this.begin(_)},"pushState"),stateStackSize:b(function(){return this.conditionStack.length},"stateStackSize"),options:{"case-insensitive":!0},performAction:b(function(_,S,R,C){switch(R){case 0:return _.getLogger().trace("Found comment",S.yytext),6;case 1:return 8;case 2:this.begin("CLASS");break;case 3:return this.popState(),16;case 4:this.popState();break;case 5:_.getLogger().trace("Begin icon"),this.begin("ICON");break;case 6:return _.getLogger().trace("SPACELINE"),6;case 7:return 7;case 8:return 15;case 9:_.getLogger().trace("end icon"),this.popState();break;case 10:return _.getLogger().trace("Exploding node"),this.begin("NODE"),19;case 11:return _.getLogger().trace("Cloud"),this.begin("NODE"),19;case 12:return _.getLogger().trace("Explosion Bang"),this.begin("NODE"),19;case 13:return _.getLogger().trace("Cloud Bang"),this.begin("NODE"),19;case 14:return this.begin("NODE"),19;case 15:return this.begin("NODE"),19;case 16:return this.begin("NODE"),19;case 17:return this.begin("NODE"),19;case 18:return 13;case 19:return 22;case 20:return 11;case 21:this.begin("NSTR2");break;case 22:return"NODE_DESCR";case 23:this.popState();break;case 24:_.getLogger().trace("Starting NSTR"),this.begin("NSTR");break;case 25:return _.getLogger().trace("description:",S.yytext),"NODE_DESCR";case 26:this.popState();break;case 27:return this.popState(),_.getLogger().trace("node end ))"),"NODE_DEND";case 28:return this.popState(),_.getLogger().trace("node end )"),"NODE_DEND";case 29:return this.popState(),_.getLogger().trace("node end ...",S.yytext),"NODE_DEND";case 30:return this.popState(),_.getLogger().trace("node end (("),"NODE_DEND";case 31:return this.popState(),_.getLogger().trace("node end (-"),"NODE_DEND";case 32:return this.popState(),_.getLogger().trace("node end (-"),"NODE_DEND";case 33:return this.popState(),_.getLogger().trace("node end (("),"NODE_DEND";case 34:return this.popState(),_.getLogger().trace("node end (("),"NODE_DEND";case 35:return _.getLogger().trace("Long description:",S.yytext),20;case 36:return _.getLogger().trace("Long description:",S.yytext),20}},"anonymous"),rules:[/^(?:\s*%%.*)/i,/^(?:mindmap\b)/i,/^(?::::)/i,/^(?:.+)/i,/^(?:\n)/i,/^(?:::icon\()/i,/^(?:[\s]+[\n])/i,/^(?:[\n]+)/i,/^(?:[^\)]+)/i,/^(?:\))/i,/^(?:-\))/i,/^(?:\(-)/i,/^(?:\)\))/i,/^(?:\))/i,/^(?:\(\()/i,/^(?:\{\{)/i,/^(?:\()/i,/^(?:\[)/i,/^(?:[\s]+)/i,/^(?:[^\(\[\n\)\{\}]+)/i,/^(?:$)/i,/^(?:["][`])/i,/^(?:[^`"]+)/i,/^(?:[`]["])/i,/^(?:["])/i,/^(?:[^"]+)/i,/^(?:["])/i,/^(?:[\)]\))/i,/^(?:[\)])/i,/^(?:[\]])/i,/^(?:\}\})/i,/^(?:\(-)/i,/^(?:-\))/i,/^(?:\(\()/i,/^(?:\()/i,/^(?:[^\)\]\(\}]+)/i,/^(?:.+(?!\(\())/i],conditions:{CLASS:{rules:[3,4],inclusive:!1},ICON:{rules:[8,9],inclusive:!1},NSTR2:{rules:[22,23],inclusive:!1},NSTR:{rules:[25,26],inclusive:!1},NODE:{rules:[21,24,27,28,29,30,31,32,33,34,35,36],inclusive:!1},INITIAL:{rules:[0,1,2,5,6,7,10,11,12,13,14,15,16,17,18,19,20],inclusive:!0}}};return k}();v.lexer=x;function w(){this.yy={}}return b(w,"Parser"),w.prototype=v,v.Parser=w,new w}();N8.parser=N8;var mJe=N8,qo=[],bse=0,$N={},vJe=b(()=>{qo=[],bse=0,$N={}},"clear"),yJe=b(function(t){for(let e=qo.length-1;e>=0;e--)if(qo[e].level<t)return qo[e];return null},"getParent"),xJe=b(()=>qo.length>0?qo[0]:null,"getMindmap"),bJe=b((t,e,r,n)=>{var l,u;q.info("addNode",t,e,r,n);const i=we();let a=((l=i.mindmap)==null?void 0:l.padding)??Ur.mindmap.padding;switch(n){case oi.ROUNDED_RECT:case oi.RECT:case oi.HEXAGON:a*=2}const s={id:bse++,nodeId:Wn(e,i),level:t,descr:Wn(r,i),type:n,children:[],width:((u=i.mindmap)==null?void 0:u.maxNodeWidth)??Ur.mindmap.maxNodeWidth,padding:a},o=yJe(t);if(o)o.children.push(s),qo.push(s);else if(qo.length===0)qo.push(s);else throw new Error('There can be only one root. No parent could be found for ("'+s.descr+'")')},"addNode"),oi={DEFAULT:0,NO_BORDER:0,ROUNDED_RECT:1,RECT:2,CIRCLE:3,CLOUD:4,BANG:5,HEXAGON:6},wJe=b((t,e)=>{switch(q.debug("In get type",t,e),t){case"[":return oi.RECT;case"(":return e===")"?oi.ROUNDED_RECT:oi.CLOUD;case"((":return oi.CIRCLE;case")":return oi.CLOUD;case"))":return oi.BANG;case"{{":return oi.HEXAGON;default:return oi.DEFAULT}},"getType"),kJe=b((t,e)=>{$N[t]=e},"setElementForId"),TJe=b(t=>{if(!t)return;const e=we(),r=qo[qo.length-1];t.icon&&(r.icon=Wn(t.icon,e)),t.class&&(r.class=Wn(t.class,e))},"decorateNode"),EJe=b(t=>{switch(t){case oi.DEFAULT:return"no-border";case oi.RECT:return"rect";case oi.ROUNDED_RECT:return"rounded-rect";case oi.CIRCLE:return"circle";case oi.CLOUD:return"cloud";case oi.BANG:return"bang";case oi.HEXAGON:return"hexgon";default:return"no-border"}},"type2Str"),SJe=b(()=>q,"getLogger"),CJe=b(t=>$N[t],"getElementById"),AJe={clear:vJe,addNode:bJe,getMindmap:xJe,nodeType:oi,getType:wJe,setElementForId:kJe,decorateNode:TJe,type2Str:EJe,getLogger:SJe,getElementById:CJe},_Je=AJe,LJe=12,NJe=b(function(t,e,r,n){e.append("path").attr("id","node-"+r.id).attr("class","node-bkg node-"+t.type2Str(r.type)).attr("d",`M0 ${r.height-5} v${-r.height+2*5} q0,-5 5,-5 h${r.width-2*5} q5,0 5,5 v${r.height-5} H0 Z`),e.append("line").attr("class","node-line-"+n).attr("x1",0).attr("y1",r.height).attr("x2",r.width).attr("y2",r.height)},"defaultBkg"),RJe=b(function(t,e,r){e.append("rect").attr("id","node-"+r.id).attr("class","node-bkg node-"+t.type2Str(r.type)).attr("height",r.height).attr("width",r.width)},"rectBkg"),MJe=b(function(t,e,r){const n=r.width,i=r.height,a=.15*n,s=.25*n,o=.35*n,l=.2*n;e.append("path").attr("id","node-"+r.id).attr("class","node-bkg node-"+t.type2Str(r.type)).attr("d",`M0 0 a${a},${a} 0 0,1 ${n*.25},${-1*n*.1}
      a${o},${o} 1 0,1 ${n*.4},${-1*n*.1}
      a${s},${s} 1 0,1 ${n*.35},${1*n*.2}

      a${a},${a} 1 0,1 ${n*.15},${1*i*.35}
      a${l},${l} 1 0,1 ${-1*n*.15},${1*i*.65}

      a${s},${a} 1 0,1 ${-1*n*.25},${n*.15}
      a${o},${o} 1 0,1 ${-1*n*.5},0
      a${a},${a} 1 0,1 ${-1*n*.25},${-1*n*.15}

      a${a},${a} 1 0,1 ${-1*n*.1},${-1*i*.35}
      a${l},${l} 1 0,1 ${n*.1},${-1*i*.65}

    H0 V0 Z`)},"cloudBkg"),IJe=b(function(t,e,r){const n=r.width,i=r.height,a=.15*n;e.append("path").attr("id","node-"+r.id).attr("class","node-bkg node-"+t.type2Str(r.type)).attr("d",`M0 0 a${a},${a} 1 0,0 ${n*.25},${-1*i*.1}
      a${a},${a} 1 0,0 ${n*.25},0
      a${a},${a} 1 0,0 ${n*.25},0
      a${a},${a} 1 0,0 ${n*.25},${1*i*.1}

      a${a},${a} 1 0,0 ${n*.15},${1*i*.33}
      a${a*.8},${a*.8} 1 0,0 0,${1*i*.34}
      a${a},${a} 1 0,0 ${-1*n*.15},${1*i*.33}

      a${a},${a} 1 0,0 ${-1*n*.25},${i*.15}
      a${a},${a} 1 0,0 ${-1*n*.25},0
      a${a},${a} 1 0,0 ${-1*n*.25},0
      a${a},${a} 1 0,0 ${-1*n*.25},${-1*i*.15}

      a${a},${a} 1 0,0 ${-1*n*.1},${-1*i*.33}
      a${a*.8},${a*.8} 1 0,0 0,${-1*i*.34}
      a${a},${a} 1 0,0 ${n*.1},${-1*i*.33}

    H0 V0 Z`)},"bangBkg"),DJe=b(function(t,e,r){e.append("circle").attr("id","node-"+r.id).attr("class","node-bkg node-"+t.type2Str(r.type)).attr("r",r.width/2)},"circleBkg");function wse(t,e,r,n,i){return t.insert("polygon",":first-child").attr("points",n.map(function(a){return a.x+","+a.y}).join(" ")).attr("transform","translate("+(i.width-e)/2+", "+r+")")}b(wse,"insertPolygonShape");var OJe=b(function(t,e,r){const n=r.height,a=n/4,s=r.width-r.padding+2*a,o=[{x:a,y:0},{x:s-a,y:0},{x:s,y:-n/2},{x:s-a,y:-n},{x:a,y:-n},{x:0,y:-n/2}];wse(e,s,n,o,r)},"hexagonBkg"),PJe=b(function(t,e,r){e.append("rect").attr("id","node-"+r.id).attr("class","node-bkg node-"+t.type2Str(r.type)).attr("height",r.height).attr("rx",r.padding).attr("ry",r.padding).attr("width",r.width)},"roundedRectBkg"),FJe=b(async function(t,e,r,n,i){const a=i.htmlLabels,s=n%(LJe-1),o=e.append("g");r.section=s;let l="section-"+s;s<0&&(l+=" section-root"),o.attr("class",(r.class?r.class+" ":"")+"mindmap-node "+l);const u=o.append("g"),h=o.append("g"),d=r.descr.replace(/(<br\/*>)/g,`
`);await Fl(h,d,{useHtmlLabels:a,width:r.width,classes:"mindmap-node-label"},i),a||h.attr("dy","1em").attr("alignment-baseline","middle").attr("dominant-baseline","middle").attr("text-anchor","middle");const p=h.node().getBBox(),[f]=pf(i.fontSize);if(r.height=p.height+f*1.1*.5+r.padding,r.width=p.width+2*r.padding,r.icon)if(r.type===t.nodeType.CIRCLE)r.height+=50,r.width+=50,o.append("foreignObject").attr("height","50px").attr("width",r.width).attr("style","text-align: center;").append("div").attr("class","icon-container").append("i").attr("class","node-icon-"+s+" "+r.icon),h.attr("transform","translate("+r.width/2+", "+(r.height/2-1.5*r.padding)+")");else{r.width+=50;const g=r.height;r.height=Math.max(g,60);const m=Math.abs(r.height-g);o.append("foreignObject").attr("width","60px").attr("height",r.height).attr("style","text-align: center;margin-top:"+m/2+"px;").append("div").attr("class","icon-container").append("i").attr("class","node-icon-"+s+" "+r.icon),h.attr("transform","translate("+(25+r.width/2)+", "+(m/2+r.padding/2)+")")}else if(a){const g=(r.width-p.width)/2,m=(r.height-p.height)/2;h.attr("transform","translate("+g+", "+m+")")}else{const g=r.width/2,m=r.padding/2;h.attr("transform","translate("+g+", "+m+")")}switch(r.type){case t.nodeType.DEFAULT:NJe(t,u,r,s);break;case t.nodeType.ROUNDED_RECT:PJe(t,u,r,s);break;case t.nodeType.RECT:RJe(t,u,r,s);break;case t.nodeType.CIRCLE:u.attr("transform","translate("+r.width/2+", "+ +r.height/2+")"),DJe(t,u,r,s);break;case t.nodeType.CLOUD:MJe(t,u,r,s);break;case t.nodeType.BANG:IJe(t,u,r,s);break;case t.nodeType.HEXAGON:OJe(t,u,r,s);break}return t.setElementForId(r.id,o),r.height},"drawNode"),BJe=b(function(t,e){const r=t.getElementById(e.id),n=e.x||0,i=e.y||0;r.attr("transform","translate("+n+","+i+")")},"positionNode");Ml.use(gJe);async function zN(t,e,r,n,i){await FJe(t,e,r,n,i),r.children&&await Promise.all(r.children.map((a,s)=>zN(t,e,a,n<0?s:n,i)))}b(zN,"drawNodes");function kse(t,e){e.edges().map((r,n)=>{const i=r.data();if(r[0]._private.bodyBounds){const a=r[0]._private.rscratch;q.trace("Edge: ",n,i),t.insert("path").attr("d",`M ${a.startX},${a.startY} L ${a.midX},${a.midY} L${a.endX},${a.endY} `).attr("class","edge section-edge-"+i.section+" edge-depth-"+i.depth)}})}b(kse,"drawEdges");function UN(t,e,r,n){e.add({group:"nodes",data:{id:t.id.toString(),labelText:t.descr,height:t.height,width:t.width,level:n,nodeId:t.id,padding:t.padding,type:t.type},position:{x:t.x,y:t.y}}),t.children&&t.children.forEach(i=>{UN(i,e,r,n+1),e.add({group:"edges",data:{id:`${t.id}_${i.id}`,source:t.id,target:i.id,depth:n,section:i.section}})})}b(UN,"addNodes");function Tse(t,e){return new Promise(r=>{const n=Ke("body").append("div").attr("id","cy").attr("style","display:none"),i=Ml({container:document.getElementById("cy"),style:[{selector:"edge",style:{"curve-style":"bezier"}}]});n.remove(),UN(t,i,e,0),i.nodes().forEach(function(a){a.layoutDimensions=()=>{const s=a.data();return{w:s.width,h:s.height}}}),i.layout({name:"cose-bilkent",quality:"proof",styleEnabled:!1,animate:!1}).run(),i.ready(a=>{q.info("Ready",a),r(i)})})}b(Tse,"layoutMindmap");function Ese(t,e){e.nodes().map((r,n)=>{const i=r.data();i.x=r.position().x,i.y=r.position().y,BJe(t,i);const a=t.getElementById(i.nodeId);q.info("Id:",n,"Position: (",r.position().x,", ",r.position().y,")",i),a.attr("transform",`translate(${r.position().x-i.width/2}, ${r.position().y-i.height/2})`),a.attr("attr",`apa-${n})`)})}b(Ese,"positionNodes");var $Je=b(async(t,e,r,n)=>{var d,p;q.debug(`Rendering mindmap diagram
`+t);const i=n.db,a=i.getMindmap();if(!a)return;const s=we();s.htmlLabels=!1;const o=mf(e),l=o.append("g");l.attr("class","mindmap-edges");const u=o.append("g");u.attr("class","mindmap-nodes"),await zN(i,u,a,-1,s);const h=await Tse(a,s);kse(l,h),Ese(i,h),kg(void 0,o,((d=s.mindmap)==null?void 0:d.padding)??Ur.mindmap.padding,((p=s.mindmap)==null?void 0:p.useMaxWidth)??Ur.mindmap.useMaxWidth)},"draw"),zJe={draw:$Je},UJe=b(t=>{let e="";for(let r=0;r<t.THEME_COLOR_LIMIT;r++)t["lineColor"+r]=t["lineColor"+r]||t["cScaleInv"+r],sf(t["lineColor"+r])?t["lineColor"+r]=Ot(t["lineColor"+r],20):t["lineColor"+r]=Gt(t["lineColor"+r],20);for(let r=0;r<t.THEME_COLOR_LIMIT;r++){const n=""+(17-3*r);e+=`
    .section-${r-1} rect, .section-${r-1} path, .section-${r-1} circle, .section-${r-1} polygon, .section-${r-1} path  {
      fill: ${t["cScale"+r]};
    }
    .section-${r-1} text {
     fill: ${t["cScaleLabel"+r]};
    }
    .node-icon-${r-1} {
      font-size: 40px;
      color: ${t["cScaleLabel"+r]};
    }
    .section-edge-${r-1}{
      stroke: ${t["cScale"+r]};
    }
    .edge-depth-${r-1}{
      stroke-width: ${n};
    }
    .section-${r-1} line {
      stroke: ${t["cScaleInv"+r]} ;
      stroke-width: 3;
    }

    .disabled, .disabled circle, .disabled text {
      fill: lightgray;
    }
    .disabled text {
      fill: #efefef;
    }
    `}return e},"genSections"),VJe=b(t=>`
  .edge {
    stroke-width: 3;
  }
  ${UJe(t)}
  .section-root rect, .section-root path, .section-root circle, .section-root polygon  {
    fill: ${t.git0};
  }
  .section-root text {
    fill: ${t.gitBranchLabel0};
  }
  .icon-container {
    height:100%;
    display: flex;
    justify-content: center;
    align-items: center;
  }
  .edge {
    fill: none;
  }
  .mindmap-node-label {
    dy: 1em;
    alignment-baseline: middle;
    text-anchor: middle;
    dominant-baseline: middle;
    text-align: center;
  }
`,"getStyles"),GJe=VJe,HJe={db:_Je,renderer:zJe,parser:mJe,styles:GJe};const WJe=Object.freeze(Object.defineProperty({__proto__:null,diagram:HJe},Symbol.toStringTag,{value:"Module"}));function oz(t,e){let r;if(e===void 0)for(const n of t)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);else{let n=-1;for(let i of t)(i=e(i,++n,t))!=null&&(r<i||r===void 0&&i>=i)&&(r=i)}return r}function Sse(t,e){let r;if(e===void 0)for(const n of t)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);else{let n=-1;for(let i of t)(i=e(i,++n,t))!=null&&(r>i||r===void 0&&i>=i)&&(r=i)}return r}function RE(t,e){let r=0;if(e===void 0)for(let n of t)(n=+n)&&(r+=n);else{let n=-1;for(let i of t)(i=+e(i,++n,t))&&(r+=i)}return r}function YJe(t){return t.target.depth}function qJe(t){return t.depth}function jJe(t,e){return e-1-t.height}function Cse(t,e){return t.sourceLinks.length?t.depth:e-1}function XJe(t){return t.targetLinks.length?t.depth:t.sourceLinks.length?Sse(t.sourceLinks,YJe)-1:0}function Bx(t){return function(){return t}}function lz(t,e){return _5(t.source,e.source)||t.index-e.index}function cz(t,e){return _5(t.target,e.target)||t.index-e.index}function _5(t,e){return t.y0-e.y0}function ME(t){return t.value}function KJe(t){return t.index}function QJe(t){return t.nodes}function ZJe(t){return t.links}function uz(t,e){const r=t.get(e);if(!r)throw new Error("missing: "+e);return r}function hz({nodes:t}){for(const e of t){let r=e.y0,n=r;for(const i of e.sourceLinks)i.y0=r+i.width/2,r+=i.width;for(const i of e.targetLinks)i.y1=n+i.width/2,n+=i.width}}function JJe(){let t=0,e=0,r=1,n=1,i=24,a=8,s,o=KJe,l=Cse,u,h,d=QJe,p=ZJe,f=6;function g(){const D={nodes:d.apply(null,arguments),links:p.apply(null,arguments)};return m(D),y(D),v(D),x(D),E(D),hz(D),D}g.update=function(D){return hz(D),D},g.nodeId=function(D){return arguments.length?(o=typeof D=="function"?D:Bx(D),g):o},g.nodeAlign=function(D){return arguments.length?(l=typeof D=="function"?D:Bx(D),g):l},g.nodeSort=function(D){return arguments.length?(u=D,g):u},g.nodeWidth=function(D){return arguments.length?(i=+D,g):i},g.nodePadding=function(D){return arguments.length?(a=s=+D,g):a},g.nodes=function(D){return arguments.length?(d=typeof D=="function"?D:Bx(D),g):d},g.links=function(D){return arguments.length?(p=typeof D=="function"?D:Bx(D),g):p},g.linkSort=function(D){return arguments.length?(h=D,g):h},g.size=function(D){return arguments.length?(t=e=0,r=+D[0],n=+D[1],g):[r-t,n-e]},g.extent=function(D){return arguments.length?(t=+D[0][0],r=+D[1][0],e=+D[0][1],n=+D[1][1],g):[[t,e],[r,n]]},g.iterations=function(D){return arguments.length?(f=+D,g):f};function m({nodes:D,links:M}){for(const[I,P]of D.entries())P.index=I,P.sourceLinks=[],P.targetLinks=[];const O=new Map(D.map((I,P)=>[o(I,P,D),I]));for(const[I,P]of M.entries()){P.index=I;let{source:B,target:$}=P;typeof B!="object"&&(B=P.source=uz(O,B)),typeof $!="object"&&($=P.target=uz(O,$)),B.sourceLinks.push(P),$.targetLinks.push(P)}if(h!=null)for(const{sourceLinks:I,targetLinks:P}of D)I.sort(h),P.sort(h)}function y({nodes:D}){for(const M of D)M.value=M.fixedValue===void 0?Math.max(RE(M.sourceLinks,ME),RE(M.targetLinks,ME)):M.fixedValue}function v({nodes:D}){const M=D.length;let O=new Set(D),I=new Set,P=0;for(;O.size;){for(const B of O){B.depth=P;for(const{target:$}of B.sourceLinks)I.add($)}if(++P>M)throw new Error("circular link");O=I,I=new Set}}function x({nodes:D}){const M=D.length;let O=new Set(D),I=new Set,P=0;for(;O.size;){for(const B of O){B.height=P;for(const{source:$}of B.targetLinks)I.add($)}if(++P>M)throw new Error("circular link");O=I,I=new Set}}function w({nodes:D}){const M=oz(D,P=>P.depth)+1,O=(r-t-i)/(M-1),I=new Array(M);for(const P of D){const B=Math.max(0,Math.min(M-1,Math.floor(l.call(null,P,M))));P.layer=B,P.x0=t+B*O,P.x1=P.x0+i,I[B]?I[B].push(P):I[B]=[P]}if(u)for(const P of I)P.sort(u);return I}function k(D){const M=Sse(D,O=>(n-e-(O.length-1)*s)/RE(O,ME));for(const O of D){let I=e;for(const P of O){P.y0=I,P.y1=I+P.value*M,I=P.y1+s;for(const B of P.sourceLinks)B.width=B.value*M}I=(n-I+s)/(O.length+1);for(let P=0;P<O.length;++P){const B=O[P];B.y0+=I*(P+1),B.y1+=I*(P+1)}N(O)}}function E(D){const M=w(D);s=Math.min(a,(n-e)/(oz(M,O=>O.length)-1)),k(M);for(let O=0;O<f;++O){const I=Math.pow(.99,O),P=Math.max(1-I,(O+1)/f);S(M,I,P),_(M,I,P)}}function _(D,M,O){for(let I=1,P=D.length;I<P;++I){const B=D[I];for(const $ of B){let V=0,W=0;for(const{source:Z,value:H}of $.targetLinks){let ee=H*($.layer-Z.layer);V+=F(Z,$)*ee,W+=ee}if(!(W>0))continue;let K=(V/W-$.y0)*M;$.y0+=K,$.y1+=K,A($)}u===void 0&&B.sort(_5),R(B,O)}}function S(D,M,O){for(let I=D.length,P=I-2;P>=0;--P){const B=D[P];for(const $ of B){let V=0,W=0;for(const{target:Z,value:H}of $.sourceLinks){let ee=H*(Z.layer-$.layer);V+=T($,Z)*ee,W+=ee}if(!(W>0))continue;let K=(V/W-$.y0)*M;$.y0+=K,$.y1+=K,A($)}u===void 0&&B.sort(_5),R(B,O)}}function R(D,M){const O=D.length>>1,I=D[O];L(D,I.y0-s,O-1,M),C(D,I.y1+s,O+1,M),L(D,n,D.length-1,M),C(D,e,0,M)}function C(D,M,O,I){for(;O<D.length;++O){const P=D[O],B=(M-P.y0)*I;B>1e-6&&(P.y0+=B,P.y1+=B),M=P.y1+s}}function L(D,M,O,I){for(;O>=0;--O){const P=D[O],B=(P.y1-M)*I;B>1e-6&&(P.y0-=B,P.y1-=B),M=P.y0-s}}function A({sourceLinks:D,targetLinks:M}){if(h===void 0){for(const{source:{sourceLinks:O}}of M)O.sort(cz);for(const{target:{targetLinks:O}}of D)O.sort(lz)}}function N(D){if(h===void 0)for(const{sourceLinks:M,targetLinks:O}of D)M.sort(cz),O.sort(lz)}function F(D,M){let O=D.y0-(D.sourceLinks.length-1)*s/2;for(const{target:I,width:P}of D.sourceLinks){if(I===M)break;O+=P+s}for(const{source:I,width:P}of M.targetLinks){if(I===D)break;O-=P}return O}function T(D,M){let O=M.y0-(M.targetLinks.length-1)*s/2;for(const{source:I,width:P}of M.targetLinks){if(I===D)break;O+=P+s}for(const{target:I,width:P}of D.sourceLinks){if(I===M)break;O-=P}return O}return g}var R8=Math.PI,M8=2*R8,Yh=1e-6,eet=M8-Yh;function I8(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function Ase(){return new I8}I8.prototype=Ase.prototype={constructor:I8,moveTo:function(t,e){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)},closePath:function(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,e){this._+="L"+(this._x1=+t)+","+(this._y1=+e)},quadraticCurveTo:function(t,e,r,n){this._+="Q"+ +t+","+ +e+","+(this._x1=+r)+","+(this._y1=+n)},bezierCurveTo:function(t,e,r,n,i,a){this._+="C"+ +t+","+ +e+","+ +r+","+ +n+","+(this._x1=+i)+","+(this._y1=+a)},arcTo:function(t,e,r,n,i){t=+t,e=+e,r=+r,n=+n,i=+i;var a=this._x1,s=this._y1,o=r-t,l=n-e,u=a-t,h=s-e,d=u*u+h*h;if(i<0)throw new Error("negative radius: "+i);if(this._x1===null)this._+="M"+(this._x1=t)+","+(this._y1=e);else if(d>Yh)if(!(Math.abs(h*o-l*u)>Yh)||!i)this._+="L"+(this._x1=t)+","+(this._y1=e);else{var p=r-a,f=n-s,g=o*o+l*l,m=p*p+f*f,y=Math.sqrt(g),v=Math.sqrt(d),x=i*Math.tan((R8-Math.acos((g+d-m)/(2*y*v)))/2),w=x/v,k=x/y;Math.abs(w-1)>Yh&&(this._+="L"+(t+w*u)+","+(e+w*h)),this._+="A"+i+","+i+",0,0,"+ +(h*p>u*f)+","+(this._x1=t+k*o)+","+(this._y1=e+k*l)}},arc:function(t,e,r,n,i,a){t=+t,e=+e,r=+r,a=!!a;var s=r*Math.cos(n),o=r*Math.sin(n),l=t+s,u=e+o,h=1^a,d=a?n-i:i-n;if(r<0)throw new Error("negative radius: "+r);this._x1===null?this._+="M"+l+","+u:(Math.abs(this._x1-l)>Yh||Math.abs(this._y1-u)>Yh)&&(this._+="L"+l+","+u),r&&(d<0&&(d=d%M8+M8),d>eet?this._+="A"+r+","+r+",0,1,"+h+","+(t-s)+","+(e-o)+"A"+r+","+r+",0,1,"+h+","+(this._x1=l)+","+(this._y1=u):d>Yh&&(this._+="A"+r+","+r+",0,"+ +(d>=R8)+","+h+","+(this._x1=t+r*Math.cos(i))+","+(this._y1=e+r*Math.sin(i))))},rect:function(t,e,r,n){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)+"h"+ +r+"v"+ +n+"h"+-r+"Z"},toString:function(){return this._}};function dz(t){return function(){return t}}function tet(t){return t[0]}function ret(t){return t[1]}var net=Array.prototype.slice;function iet(t){return t.source}function aet(t){return t.target}function set(t){var e=iet,r=aet,n=tet,i=ret,a=null;function s(){var o,l=net.call(arguments),u=e.apply(this,l),h=r.apply(this,l);if(a||(a=o=Ase()),t(a,+n.apply(this,(l[0]=u,l)),+i.apply(this,l),+n.apply(this,(l[0]=h,l)),+i.apply(this,l)),o)return a=null,o+""||null}return s.source=function(o){return arguments.length?(e=o,s):e},s.target=function(o){return arguments.length?(r=o,s):r},s.x=function(o){return arguments.length?(n=typeof o=="function"?o:dz(+o),s):n},s.y=function(o){return arguments.length?(i=typeof o=="function"?o:dz(+o),s):i},s.context=function(o){return arguments.length?(a=o??null,s):a},s}function oet(t,e,r,n,i){t.moveTo(e,r),t.bezierCurveTo(e=(e+n)/2,r,e,i,n,i)}function cet(){return set(oet)}function uet(t){return[t.source.x1,t.y0]}function het(t){return[t.target.x0,t.y1]}function det(){return cet().source(uet).target(het)}var D8=function(){var t=b(function(o,l,u,h){for(u=u||{},h=o.length;h--;u[o[h]]=l);return u},"o"),e=[1,9],r=[1,10],n=[1,5,10,12],i={trace:b(function(){},"trace"),yy:{},symbols_:{error:2,start:3,SANKEY:4,NEWLINE:5,csv:6,opt_eof:7,record:8,csv_tail:9,EOF:10,"field[source]":11,COMMA:12,"field[target]":13,"field[value]":14,field:15,escaped:16,non_escaped:17,DQUOTE:18,ESCAPED_TEXT:19,NON_ESCAPED_TEXT:20,$accept:0,$end:1},terminals_:{2:"error",4:"SANKEY",5:"NEWLINE",10:"EOF",11:"field[source]",12:"COMMA",13:"field[target]",14:"field[value]",18:"DQUOTE",19:"ESCAPED_TEXT",20:"NON_ESCAPED_TEXT"},productions_:[0,[3,4],[6,2],[9,2],[9,0],[7,1],[7,0],[8,5],[15,1],[15,1],[16,3],[17,1]],performAction:b(function(l,u,h,d,p,f,g){var m=f.length-1;switch(p){case 7:const y=d.findOrCreateNode(f[m-4].trim().replaceAll('""','"')),v=d.findOrCreateNode(f[m-2].trim().replaceAll('""','"')),x=parseFloat(f[m].trim());d.addLink(y,v,x);break;case 8:case 9:case 11:this.$=f[m];break;case 10:this.$=f[m-1];break}},"anonymous"),table:[{3:1,4:[1,2]},{1:[3]},{5:[1,3]},{6:4,8:5,15:6,16:7,17:8,18:e,20:r},{1:[2,6],7:11,10:[1,12]},t(r,[2,4],{9:13,5:[1,14]}),{12:[1,15]},t(n,[2,8]),t(n,[2,9]),{19:[1,16]},t(n,[2,11]),{1:[2,1]},{1:[2,5]},t(r,[2,2]),{6:17,8:5,15:6,16:7,17:8,18:e,20:r},{15:18,16:7,17:8,18:e,20:r},{18:[1,19]},t(r,[2,3]),{12:[1,20]},t(n,[2,10]),{15:21,16:7,17:8,18:e,20:r},t([1,5,10],[2,7])],defaultActions:{11:[2,1],12:[2,5]},parseError:b(function(l,u){if(u.recoverable)this.trace(l);else{var h=new Error(l);throw h.hash=u,h}},"parseError"),parse:b(function(l){var u=this,h=[0],d=[],p=[null],f=[],g=this.table,m="",y=0,v=0,x=2,w=1,k=f.slice.call(arguments,1),E=Object.create(this.lexer),_={yy:{}};for(var S in this.yy)Object.prototype.hasOwnProperty.call(this.yy,S)&&(_.yy[S]=this.yy[S]);E.setInput(l,_.yy),_.yy.lexer=E,_.yy.parser=this,typeof E.yylloc>"u"&&(E.yylloc={});var R=E.yylloc;f.push(R);var C=E.options&&E.options.ranges;typeof _.yy.parseError=="function"?this.parseError=_.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function L(V){h.length=h.length-2*V,p.length=p.length-V,f.length=f.length-V}b(L,"popStack");function A(){var V;return V=d.pop()||E.lex()||w,typeof V!="number"&&(V instanceof Array&&(d=V,V=d.pop()),V=u.symbols_[V]||V),V}b(A,"lex");for(var N,F,T,D,M={},O,I,P,B;;){if(F=h[h.length-1],this.defaultActions[F]?T=this.defaultActions[F]:((N===null||typeof N>"u")&&(N=A()),T=g[F]&&g[F][N]),typeof T>"u"||!T.length||!T[0]){var $="";B=[];for(O in g[F])this.terminals_[O]&&O>x&&B.push("'"+this.terminals_[O]+"'");E.showPosition?$="Parse error on line "+(y+1)+`:
`+E.showPosition()+`
Expecting `+B.join(", ")+", got '"+(this.terminals_[N]||N)+"'":$="Parse error on line "+(y+1)+": Unexpected "+(N==w?"end of input":"'"+(this.terminals_[N]||N)+"'"),this.parseError($,{text:E.match,token:this.terminals_[N]||N,line:E.yylineno,loc:R,expected:B})}if(T[0]instanceof Array&&T.length>1)throw new Error("Parse Error: multiple actions possible at state: "+F+", token: "+N);switch(T[0]){case 1:h.push(N),p.push(E.yytext),f.push(E.yylloc),h.push(T[1]),N=null,v=E.yyleng,m=E.yytext,y=E.yylineno,R=E.yylloc;break;case 2:if(I=this.productions_[T[1]][1],M.$=p[p.length-I],M._$={first_line:f[f.length-(I||1)].first_line,last_line:f[f.length-1].last_line,first_column:f[f.length-(I||1)].first_column,last_column:f[f.length-1].last_column},C&&(M._$.range=[f[f.length-(I||1)].range[0],f[f.length-1].range[1]]),D=this.performAction.apply(M,[m,v,y,_.yy,T[1],p,f].concat(k)),typeof D<"u")return D;I&&(h=h.slice(0,-1*I*2),p=p.slice(0,-1*I),f=f.slice(0,-1*I)),h.push(this.productions_[T[1]][0]),p.push(M.$),f.push(M._$),P=g[h[h.length-2]][h[h.length-1]],h.push(P);break;case 3:return!0}}return!0},"parse")},a=function(){var o={EOF:1,parseError:b(function(u,h){if(this.yy.parser)this.yy.parser.parseError(u,h);else throw new Error(u)},"parseError"),setInput:b(function(l,u){return this.yy=u||this.yy||{},this._input=l,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},"setInput"),input:b(function(){var l=this._input[0];this.yytext+=l,this.yyleng++,this.offset++,this.match+=l,this.matched+=l;var u=l.match(/(?:\r\n?|\n).*/g);return u?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),l},"input"),unput:b(function(l){var u=l.length,h=l.split(/(?:\r\n?|\n)/g);this._input=l+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-u),this.offset-=u;var d=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),h.length-1&&(this.yylineno-=h.length-1);var p=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:h?(h.length===d.length?this.yylloc.first_column:0)+d[d.length-h.length].length-h[0].length:this.yylloc.first_column-u},this.options.ranges&&(this.yylloc.range=[p[0],p[0]+this.yyleng-u]),this.yyleng=this.yytext.length,this},"unput"),more:b(function(){return this._more=!0,this},"more"),reject:b(function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},"reject"),less:b(function(l){this.unput(this.match.slice(l))},"less"),pastInput:b(function(){var l=this.matched.substr(0,this.matched.length-this.match.length);return(l.length>20?"...":"")+l.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:b(function(){var l=this.match;return l.length<20&&(l+=this._input.substr(0,20-l.length)),(l.substr(0,20)+(l.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:b(function(){var l=this.pastInput(),u=new Array(l.length+1).join("-");return l+this.upcomingInput()+`
`+u+"^"},"showPosition"),test_match:b(function(l,u){var h,d,p;if(this.options.backtrack_lexer&&(p={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(p.yylloc.range=this.yylloc.range.slice(0))),d=l[0].match(/(?:\r\n?|\n).*/g),d&&(this.yylineno+=d.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:d?d[d.length-1].length-d[d.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+l[0].length},this.yytext+=l[0],this.match+=l[0],this.matches=l,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(l[0].length),this.matched+=l[0],h=this.performAction.call(this,this.yy,this,u,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),h)return h;if(this._backtrack){for(var f in p)this[f]=p[f];return!1}return!1},"test_match"),next:b(function(){if(this.done)return this.EOF;this._input||(this.done=!0);var l,u,h,d;this._more||(this.yytext="",this.match="");for(var p=this._currentRules(),f=0;f<p.length;f++)if(h=this._input.match(this.rules[p[f]]),h&&(!u||h[0].length>u[0].length)){if(u=h,d=f,this.options.backtrack_lexer){if(l=this.test_match(h,p[f]),l!==!1)return l;if(this._backtrack){u=!1;continue}else return!1}else if(!this.options.flex)break}return u?(l=this.test_match(u,p[d]),l!==!1?l:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:b(function(){var u=this.next();return u||this.lex()},"lex"),begin:b(function(u){this.conditionStack.push(u)},"begin"),popState:b(function(){var u=this.conditionStack.length-1;return u>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:b(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:b(function(u){return u=this.conditionStack.length-1-Math.abs(u||0),u>=0?this.conditionStack[u]:"INITIAL"},"topState"),pushState:b(function(u){this.begin(u)},"pushState"),stateStackSize:b(function(){return this.conditionStack.length},"stateStackSize"),options:{"case-insensitive":!0},performAction:b(function(u,h,d,p){switch(d){case 0:return this.pushState("csv"),4;case 1:return 10;case 2:return 5;case 3:return 12;case 4:return this.pushState("escaped_text"),18;case 5:return 20;case 6:return this.popState("escaped_text"),18;case 7:return 19}},"anonymous"),rules:[/^(?:sankey-beta\b)/i,/^(?:$)/i,/^(?:((\u000D\u000A)|(\u000A)))/i,/^(?:(\u002C))/i,/^(?:(\u0022))/i,/^(?:([\u0020-\u0021\u0023-\u002B\u002D-\u007E])*)/i,/^(?:(\u0022)(?!(\u0022)))/i,/^(?:(([\u0020-\u0021\u0023-\u002B\u002D-\u007E])|(\u002C)|(\u000D)|(\u000A)|(\u0022)(\u0022))*)/i],conditions:{csv:{rules:[1,2,3,4,5,6,7],inclusive:!1},escaped_text:{rules:[6,7],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,5,6,7],inclusive:!0}}};return o}();i.lexer=a;function s(){this.yy={}}return b(s,"Parser"),s.prototype=i,i.Parser=s,new s}();D8.parser=D8;var L5=D8,V6=[],G6=[],N5=new Map,fet=b(()=>{V6=[],G6=[],N5=new Map,Ni()},"clear"),wp,pet=(wp=class{constructor(e,r,n=0){this.source=e,this.target=r,this.value=n}},b(wp,"SankeyLink"),wp),get=b((t,e,r)=>{V6.push(new pet(t,e,r))},"addLink"),kp,met=(kp=class{constructor(e){this.ID=e}},b(kp,"SankeyNode"),kp),vet=b(t=>{t=et.sanitizeText(t,we());let e=N5.get(t);return e===void 0&&(e=new met(t),N5.set(t,e),G6.push(e)),e},"findOrCreateNode"),yet=b(()=>G6,"getNodes"),xet=b(()=>V6,"getLinks"),bet=b(()=>({nodes:G6.map(t=>({id:t.ID})),links:V6.map(t=>({source:t.source.ID,target:t.target.ID,value:t.value}))}),"getGraph"),wet={nodesMap:N5,getConfig:b(()=>we().sankey,"getConfig"),getNodes:yet,getLinks:xet,getGraph:bet,addLink:get,findOrCreateNode:vet,getAccTitle:Qi,setAccTitle:Ri,getAccDescription:Ji,setAccDescription:Zi,getDiagramTitle:ea,setDiagramTitle:za,clear:fet},vc,fz=(vc=class{static next(e){return new vc(e+ ++vc.count)}constructor(e){this.id=e,this.href=`#${e}`}toString(){return"url("+this.href+")"}},b(vc,"Uid"),vc.count=0,vc),ket={left:qJe,right:jJe,center:XJe,justify:Cse},Tet=b(function(t,e,r,n){const{securityLevel:i,sankey:a}=we(),s=oG.sankey;let o;i==="sandbox"&&(o=Ke("#i"+e));const l=Ke(i==="sandbox"?o.nodes()[0].contentDocument.body:"body"),u=i==="sandbox"?l.select(`[id="${e}"]`):Ke(`[id="${e}"]`),h=(a==null?void 0:a.width)??s.width,d=(a==null?void 0:a.height)??s.width,p=(a==null?void 0:a.useMaxWidth)??s.useMaxWidth,f=(a==null?void 0:a.nodeAlignment)??s.nodeAlignment,g=(a==null?void 0:a.prefix)??s.prefix,m=(a==null?void 0:a.suffix)??s.suffix,y=(a==null?void 0:a.showValues)??s.showValues,v=n.db.getGraph(),x=ket[f];JJe().nodeId(L=>L.id).nodeWidth(10).nodePadding(10+(y?15:0)).nodeAlign(x).extent([[0,0],[h,d]])(v);const E=lw(pme);u.append("g").attr("class","nodes").selectAll(".node").data(v.nodes).join("g").attr("class","node").attr("id",L=>(L.uid=fz.next("node-")).id).attr("transform",function(L){return"translate("+L.x0+","+L.y0+")"}).attr("x",L=>L.x0).attr("y",L=>L.y0).append("rect").attr("height",L=>L.y1-L.y0).attr("width",L=>L.x1-L.x0).attr("fill",L=>E(L.id));const _=b(({id:L,value:A})=>y?`${L}
${g}${Math.round(A*100)/100}${m}`:L,"getText");u.append("g").attr("class","node-labels").attr("font-family","sans-serif").attr("font-size",14).selectAll("text").data(v.nodes).join("text").attr("x",L=>L.x0<h/2?L.x1+6:L.x0-6).attr("y",L=>(L.y1+L.y0)/2).attr("dy",`${y?"0":"0.35"}em`).attr("text-anchor",L=>L.x0<h/2?"start":"end").text(_);const S=u.append("g").attr("class","links").attr("fill","none").attr("stroke-opacity",.5).selectAll(".link").data(v.links).join("g").attr("class","link").style("mix-blend-mode","multiply"),R=(a==null?void 0:a.linkColor)??"gradient";if(R==="gradient"){const L=S.append("linearGradient").attr("id",A=>(A.uid=fz.next("linearGradient-")).id).attr("gradientUnits","userSpaceOnUse").attr("x1",A=>A.source.x1).attr("x2",A=>A.target.x0);L.append("stop").attr("offset","0%").attr("stop-color",A=>E(A.source.id)),L.append("stop").attr("offset","100%").attr("stop-color",A=>E(A.target.id))}let C;switch(R){case"gradient":C=b(L=>L.uid,"coloring");break;case"source":C=b(L=>E(L.source.id),"coloring");break;case"target":C=b(L=>E(L.target.id),"coloring");break;default:C=R}S.append("path").attr("d",det()).attr("stroke",C).attr("stroke-width",L=>Math.max(1,L.width)),kg(void 0,u,0,p)},"draw"),Eet={draw:Tet},Cet=b(t=>t.replaceAll(/^[^\S\n\r]+|[^\S\n\r]+$/g,"").replaceAll(/([\n\r])+/g,`
`).trim(),"prepareTextForParsing"),Aet=L5.parse.bind(L5);L5.parse=t=>Aet(Cet(t));var _et={parser:L5,db:wet,renderer:Eet};const Let=Object.freeze(Object.defineProperty({__proto__:null,diagram:_et},Symbol.toStringTag,{value:"Module"}));var _se={packet:[]},VN=structuredClone(_se),Net=Ur.packet,Ret=b(()=>{const t=Zc({...Net,...Dn().packet});return t.showBits&&(t.paddingY+=10),t},"getConfig"),Met=b(()=>VN.packet,"getPacket"),Iet=b(t=>{t.length>0&&VN.packet.push(t)},"pushWord"),Det=b(()=>{Ni(),VN=structuredClone(_se)},"clear"),Gf={pushWord:Iet,getPacket:Met,getConfig:Ret,clear:Det,setAccTitle:Ri,getAccTitle:Qi,setDiagramTitle:za,getDiagramTitle:ea,getAccDescription:Ji,setAccDescription:Zi},Oet=1e4,Pet=b(t=>{Vy(t,Gf);let e=-1,r=[],n=1;const{bitsPerRow:i}=Gf.getConfig();for(let{start:a,end:s,label:o}of t.blocks){if(s&&s<a)throw new Error(`Packet block ${a} - ${s} is invalid. End must be greater than start.`);if(a!==e+1)throw new Error(`Packet block ${a} - ${s??a} is not contiguous. It should start from ${e+1}.`);for(e=s??a,q.debug(`Packet block ${a} - ${e} with label ${o}`);r.length<=i+1&&Gf.getPacket().length<Oet;){const[l,u]=Fet({start:a,end:s,label:o},n,i);if(r.push(l),l.end+1===n*i&&(Gf.pushWord(r),r=[],n++),!u)break;({start:a,end:s,label:o}=u)}}Gf.pushWord(r)},"populate"),Fet=b((t,e,r)=>{if(t.end===void 0&&(t.end=t.start),t.start>t.end)throw new Error(`Block start ${t.start} is greater than block end ${t.end}.`);return t.end+1<=e*r?[t,void 0]:[{start:t.start,end:e*r-1,label:t.label},{start:e*r,end:t.end,label:t.label}]},"getNextFittingBlock"),Bet={parse:b(async t=>{const e=await Yg("packet",t);q.debug(e),Pet(e)},"parse")},$et=b((t,e,r,n)=>{const i=n.db,a=i.getConfig(),{rowHeight:s,paddingY:o,bitWidth:l,bitsPerRow:u}=a,h=i.getPacket(),d=i.getDiagramTitle(),p=s+o,f=p*(h.length+1)-(d?0:s),g=l*u+2,m=mf(e);m.attr("viewbox",`0 0 ${g} ${f}`),Ki(m,f,g,a.useMaxWidth);for(const[y,v]of h.entries())zet(m,v,y,a);m.append("text").text(d).attr("x",g/2).attr("y",f-p/2).attr("dominant-baseline","middle").attr("text-anchor","middle").attr("class","packetTitle")},"draw"),zet=b((t,e,r,{rowHeight:n,paddingX:i,paddingY:a,bitWidth:s,bitsPerRow:o,showBits:l})=>{const u=t.append("g"),h=r*(n+a)+a;for(const d of e){const p=d.start%o*s+1,f=(d.end-d.start+1)*s-i;if(u.append("rect").attr("x",p).attr("y",h).attr("width",f).attr("height",n).attr("class","packetBlock"),u.append("text").attr("x",p+f/2).attr("y",h+n/2).attr("class","packetLabel").attr("dominant-baseline","middle").attr("text-anchor","middle").text(d.label),!l)continue;const g=d.end===d.start,m=h-2;u.append("text").attr("x",p+(g?f/2:0)).attr("y",m).attr("class","packetByte start").attr("dominant-baseline","auto").attr("text-anchor",g?"middle":"start").text(d.start),g||u.append("text").attr("x",p+f).attr("y",m).attr("class","packetByte end").attr("dominant-baseline","auto").attr("text-anchor","end").text(d.end)}},"drawWord"),Uet={draw:$et},Vet={byteFontSize:"10px",startByteColor:"black",endByteColor:"black",labelColor:"black",labelFontSize:"12px",titleColor:"black",titleFontSize:"14px",blockStrokeColor:"black",blockStrokeWidth:"1",blockFillColor:"#efefef"},Get=b(({packet:t}={})=>{const e=Zc(Vet,t);return`
	.packetByte {
		font-size: ${e.byteFontSize};
	}
	.packetByte.start {
		fill: ${e.startByteColor};
	}
	.packetByte.end {
		fill: ${e.endByteColor};
	}
	.packetLabel {
		fill: ${e.labelColor};
		font-size: ${e.labelFontSize};
	}
	.packetTitle {
		fill: ${e.titleColor};
		font-size: ${e.titleFontSize};
	}
	.packetBlock {
		stroke: ${e.blockStrokeColor};
		stroke-width: ${e.blockStrokeWidth};
		fill: ${e.blockFillColor};
	}
	`},"styles"),Het={parser:Bet,db:Gf,renderer:Uet,styles:Get};const Wet=Object.freeze(Object.defineProperty({__proto__:null,diagram:Het},Symbol.toStringTag,{value:"Module"}));var O8=function(){var t=b(function(w,k,E,_){for(E=E||{},_=w.length;_--;E[w[_]]=k);return E},"o"),e=[1,7],r=[1,13],n=[1,14],i=[1,15],a=[1,19],s=[1,16],o=[1,17],l=[1,18],u=[8,30],h=[8,21,28,29,30,31,32,40,44,47],d=[1,23],p=[1,24],f=[8,15,16,21,28,29,30,31,32,40,44,47],g=[8,15,16,21,27,28,29,30,31,32,40,44,47],m=[1,49],y={trace:b(function(){},"trace"),yy:{},symbols_:{error:2,spaceLines:3,SPACELINE:4,NL:5,separator:6,SPACE:7,EOF:8,start:9,BLOCK_DIAGRAM_KEY:10,document:11,stop:12,statement:13,link:14,LINK:15,START_LINK:16,LINK_LABEL:17,STR:18,nodeStatement:19,columnsStatement:20,SPACE_BLOCK:21,blockStatement:22,classDefStatement:23,cssClassStatement:24,styleStatement:25,node:26,SIZE:27,COLUMNS:28,"id-block":29,end:30,block:31,NODE_ID:32,nodeShapeNLabel:33,dirList:34,DIR:35,NODE_DSTART:36,NODE_DEND:37,BLOCK_ARROW_START:38,BLOCK_ARROW_END:39,classDef:40,CLASSDEF_ID:41,CLASSDEF_STYLEOPTS:42,DEFAULT:43,class:44,CLASSENTITY_IDS:45,STYLECLASS:46,style:47,STYLE_ENTITY_IDS:48,STYLE_DEFINITION_DATA:49,$accept:0,$end:1},terminals_:{2:"error",4:"SPACELINE",5:"NL",7:"SPACE",8:"EOF",10:"BLOCK_DIAGRAM_KEY",15:"LINK",16:"START_LINK",17:"LINK_LABEL",18:"STR",21:"SPACE_BLOCK",27:"SIZE",28:"COLUMNS",29:"id-block",30:"end",31:"block",32:"NODE_ID",35:"DIR",36:"NODE_DSTART",37:"NODE_DEND",38:"BLOCK_ARROW_START",39:"BLOCK_ARROW_END",40:"classDef",41:"CLASSDEF_ID",42:"CLASSDEF_STYLEOPTS",43:"DEFAULT",44:"class",45:"CLASSENTITY_IDS",46:"STYLECLASS",47:"style",48:"STYLE_ENTITY_IDS",49:"STYLE_DEFINITION_DATA"},productions_:[0,[3,1],[3,2],[3,2],[6,1],[6,1],[6,1],[9,3],[12,1],[12,1],[12,2],[12,2],[11,1],[11,2],[14,1],[14,4],[13,1],[13,1],[13,1],[13,1],[13,1],[13,1],[13,1],[19,3],[19,2],[19,1],[20,1],[22,4],[22,3],[26,1],[26,2],[34,1],[34,2],[33,3],[33,4],[23,3],[23,3],[24,3],[25,3]],performAction:b(function(k,E,_,S,R,C,L){var A=C.length-1;switch(R){case 4:S.getLogger().debug("Rule: separator (NL) ");break;case 5:S.getLogger().debug("Rule: separator (Space) ");break;case 6:S.getLogger().debug("Rule: separator (EOF) ");break;case 7:S.getLogger().debug("Rule: hierarchy: ",C[A-1]),S.setHierarchy(C[A-1]);break;case 8:S.getLogger().debug("Stop NL ");break;case 9:S.getLogger().debug("Stop EOF ");break;case 10:S.getLogger().debug("Stop NL2 ");break;case 11:S.getLogger().debug("Stop EOF2 ");break;case 12:S.getLogger().debug("Rule: statement: ",C[A]),typeof C[A].length=="number"?this.$=C[A]:this.$=[C[A]];break;case 13:S.getLogger().debug("Rule: statement #2: ",C[A-1]),this.$=[C[A-1]].concat(C[A]);break;case 14:S.getLogger().debug("Rule: link: ",C[A],k),this.$={edgeTypeStr:C[A],label:""};break;case 15:S.getLogger().debug("Rule: LABEL link: ",C[A-3],C[A-1],C[A]),this.$={edgeTypeStr:C[A],label:C[A-1]};break;case 18:const N=parseInt(C[A]),F=S.generateId();this.$={id:F,type:"space",label:"",width:N,children:[]};break;case 23:S.getLogger().debug("Rule: (nodeStatement link node) ",C[A-2],C[A-1],C[A]," typestr: ",C[A-1].edgeTypeStr);const T=S.edgeStrToEdgeData(C[A-1].edgeTypeStr);this.$=[{id:C[A-2].id,label:C[A-2].label,type:C[A-2].type,directions:C[A-2].directions},{id:C[A-2].id+"-"+C[A].id,start:C[A-2].id,end:C[A].id,label:C[A-1].label,type:"edge",directions:C[A].directions,arrowTypeEnd:T,arrowTypeStart:"arrow_open"},{id:C[A].id,label:C[A].label,type:S.typeStr2Type(C[A].typeStr),directions:C[A].directions}];break;case 24:S.getLogger().debug("Rule: nodeStatement (abc88 node size) ",C[A-1],C[A]),this.$={id:C[A-1].id,label:C[A-1].label,type:S.typeStr2Type(C[A-1].typeStr),directions:C[A-1].directions,widthInColumns:parseInt(C[A],10)};break;case 25:S.getLogger().debug("Rule: nodeStatement (node) ",C[A]),this.$={id:C[A].id,label:C[A].label,type:S.typeStr2Type(C[A].typeStr),directions:C[A].directions,widthInColumns:1};break;case 26:S.getLogger().debug("APA123",this?this:"na"),S.getLogger().debug("COLUMNS: ",C[A]),this.$={type:"column-setting",columns:C[A]==="auto"?-1:parseInt(C[A])};break;case 27:S.getLogger().debug("Rule: id-block statement : ",C[A-2],C[A-1]),S.generateId(),this.$={...C[A-2],type:"composite",children:C[A-1]};break;case 28:S.getLogger().debug("Rule: blockStatement : ",C[A-2],C[A-1],C[A]);const D=S.generateId();this.$={id:D,type:"composite",label:"",children:C[A-1]};break;case 29:S.getLogger().debug("Rule: node (NODE_ID separator): ",C[A]),this.$={id:C[A]};break;case 30:S.getLogger().debug("Rule: node (NODE_ID nodeShapeNLabel separator): ",C[A-1],C[A]),this.$={id:C[A-1],label:C[A].label,typeStr:C[A].typeStr,directions:C[A].directions};break;case 31:S.getLogger().debug("Rule: dirList: ",C[A]),this.$=[C[A]];break;case 32:S.getLogger().debug("Rule: dirList: ",C[A-1],C[A]),this.$=[C[A-1]].concat(C[A]);break;case 33:S.getLogger().debug("Rule: nodeShapeNLabel: ",C[A-2],C[A-1],C[A]),this.$={typeStr:C[A-2]+C[A],label:C[A-1]};break;case 34:S.getLogger().debug("Rule: BLOCK_ARROW nodeShapeNLabel: ",C[A-3],C[A-2]," #3:",C[A-1],C[A]),this.$={typeStr:C[A-3]+C[A],label:C[A-2],directions:C[A-1]};break;case 35:case 36:this.$={type:"classDef",id:C[A-1].trim(),css:C[A].trim()};break;case 37:this.$={type:"applyClass",id:C[A-1].trim(),styleClass:C[A].trim()};break;case 38:this.$={type:"applyStyles",id:C[A-1].trim(),stylesStr:C[A].trim()};break}},"anonymous"),table:[{9:1,10:[1,2]},{1:[3]},{11:3,13:4,19:5,20:6,21:e,22:8,23:9,24:10,25:11,26:12,28:r,29:n,31:i,32:a,40:s,44:o,47:l},{8:[1,20]},t(u,[2,12],{13:4,19:5,20:6,22:8,23:9,24:10,25:11,26:12,11:21,21:e,28:r,29:n,31:i,32:a,40:s,44:o,47:l}),t(h,[2,16],{14:22,15:d,16:p}),t(h,[2,17]),t(h,[2,18]),t(h,[2,19]),t(h,[2,20]),t(h,[2,21]),t(h,[2,22]),t(f,[2,25],{27:[1,25]}),t(h,[2,26]),{19:26,26:12,32:a},{11:27,13:4,19:5,20:6,21:e,22:8,23:9,24:10,25:11,26:12,28:r,29:n,31:i,32:a,40:s,44:o,47:l},{41:[1,28],43:[1,29]},{45:[1,30]},{48:[1,31]},t(g,[2,29],{33:32,36:[1,33],38:[1,34]}),{1:[2,7]},t(u,[2,13]),{26:35,32:a},{32:[2,14]},{17:[1,36]},t(f,[2,24]),{11:37,13:4,14:22,15:d,16:p,19:5,20:6,21:e,22:8,23:9,24:10,25:11,26:12,28:r,29:n,31:i,32:a,40:s,44:o,47:l},{30:[1,38]},{42:[1,39]},{42:[1,40]},{46:[1,41]},{49:[1,42]},t(g,[2,30]),{18:[1,43]},{18:[1,44]},t(f,[2,23]),{18:[1,45]},{30:[1,46]},t(h,[2,28]),t(h,[2,35]),t(h,[2,36]),t(h,[2,37]),t(h,[2,38]),{37:[1,47]},{34:48,35:m},{15:[1,50]},t(h,[2,27]),t(g,[2,33]),{39:[1,51]},{34:52,35:m,39:[2,31]},{32:[2,15]},t(g,[2,34]),{39:[2,32]}],defaultActions:{20:[2,7],23:[2,14],50:[2,15],52:[2,32]},parseError:b(function(k,E){if(E.recoverable)this.trace(k);else{var _=new Error(k);throw _.hash=E,_}},"parseError"),parse:b(function(k){var E=this,_=[0],S=[],R=[null],C=[],L=this.table,A="",N=0,F=0,T=2,D=1,M=C.slice.call(arguments,1),O=Object.create(this.lexer),I={yy:{}};for(var P in this.yy)Object.prototype.hasOwnProperty.call(this.yy,P)&&(I.yy[P]=this.yy[P]);O.setInput(k,I.yy),I.yy.lexer=O,I.yy.parser=this,typeof O.yylloc>"u"&&(O.yylloc={});var B=O.yylloc;C.push(B);var $=O.options&&O.options.ranges;typeof I.yy.parseError=="function"?this.parseError=I.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function V(ie){_.length=_.length-2*ie,R.length=R.length-ie,C.length=C.length-ie}b(V,"popStack");function W(){var ie;return ie=S.pop()||O.lex()||D,typeof ie!="number"&&(ie instanceof Array&&(S=ie,ie=S.pop()),ie=E.symbols_[ie]||ie),ie}b(W,"lex");for(var K,Z,H,ee,te={},U,j,Y,Q;;){if(Z=_[_.length-1],this.defaultActions[Z]?H=this.defaultActions[Z]:((K===null||typeof K>"u")&&(K=W()),H=L[Z]&&L[Z][K]),typeof H>"u"||!H.length||!H[0]){var ae="";Q=[];for(U in L[Z])this.terminals_[U]&&U>T&&Q.push("'"+this.terminals_[U]+"'");O.showPosition?ae="Parse error on line "+(N+1)+`:
`+O.showPosition()+`
Expecting `+Q.join(", ")+", got '"+(this.terminals_[K]||K)+"'":ae="Parse error on line "+(N+1)+": Unexpected "+(K==D?"end of input":"'"+(this.terminals_[K]||K)+"'"),this.parseError(ae,{text:O.match,token:this.terminals_[K]||K,line:O.yylineno,loc:B,expected:Q})}if(H[0]instanceof Array&&H.length>1)throw new Error("Parse Error: multiple actions possible at state: "+Z+", token: "+K);switch(H[0]){case 1:_.push(K),R.push(O.yytext),C.push(O.yylloc),_.push(H[1]),K=null,F=O.yyleng,A=O.yytext,N=O.yylineno,B=O.yylloc;break;case 2:if(j=this.productions_[H[1]][1],te.$=R[R.length-j],te._$={first_line:C[C.length-(j||1)].first_line,last_line:C[C.length-1].last_line,first_column:C[C.length-(j||1)].first_column,last_column:C[C.length-1].last_column},$&&(te._$.range=[C[C.length-(j||1)].range[0],C[C.length-1].range[1]]),ee=this.performAction.apply(te,[A,F,N,I.yy,H[1],R,C].concat(M)),typeof ee<"u")return ee;j&&(_=_.slice(0,-1*j*2),R=R.slice(0,-1*j),C=C.slice(0,-1*j)),_.push(this.productions_[H[1]][0]),R.push(te.$),C.push(te._$),Y=L[_[_.length-2]][_[_.length-1]],_.push(Y);break;case 3:return!0}}return!0},"parse")},v=function(){var w={EOF:1,parseError:b(function(E,_){if(this.yy.parser)this.yy.parser.parseError(E,_);else throw new Error(E)},"parseError"),setInput:b(function(k,E){return this.yy=E||this.yy||{},this._input=k,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},"setInput"),input:b(function(){var k=this._input[0];this.yytext+=k,this.yyleng++,this.offset++,this.match+=k,this.matched+=k;var E=k.match(/(?:\r\n?|\n).*/g);return E?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),k},"input"),unput:b(function(k){var E=k.length,_=k.split(/(?:\r\n?|\n)/g);this._input=k+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-E),this.offset-=E;var S=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),_.length-1&&(this.yylineno-=_.length-1);var R=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:_?(_.length===S.length?this.yylloc.first_column:0)+S[S.length-_.length].length-_[0].length:this.yylloc.first_column-E},this.options.ranges&&(this.yylloc.range=[R[0],R[0]+this.yyleng-E]),this.yyleng=this.yytext.length,this},"unput"),more:b(function(){return this._more=!0,this},"more"),reject:b(function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},"reject"),less:b(function(k){this.unput(this.match.slice(k))},"less"),pastInput:b(function(){var k=this.matched.substr(0,this.matched.length-this.match.length);return(k.length>20?"...":"")+k.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:b(function(){var k=this.match;return k.length<20&&(k+=this._input.substr(0,20-k.length)),(k.substr(0,20)+(k.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:b(function(){var k=this.pastInput(),E=new Array(k.length+1).join("-");return k+this.upcomingInput()+`
`+E+"^"},"showPosition"),test_match:b(function(k,E){var _,S,R;if(this.options.backtrack_lexer&&(R={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(R.yylloc.range=this.yylloc.range.slice(0))),S=k[0].match(/(?:\r\n?|\n).*/g),S&&(this.yylineno+=S.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:S?S[S.length-1].length-S[S.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+k[0].length},this.yytext+=k[0],this.match+=k[0],this.matches=k,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(k[0].length),this.matched+=k[0],_=this.performAction.call(this,this.yy,this,E,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),_)return _;if(this._backtrack){for(var C in R)this[C]=R[C];return!1}return!1},"test_match"),next:b(function(){if(this.done)return this.EOF;this._input||(this.done=!0);var k,E,_,S;this._more||(this.yytext="",this.match="");for(var R=this._currentRules(),C=0;C<R.length;C++)if(_=this._input.match(this.rules[R[C]]),_&&(!E||_[0].length>E[0].length)){if(E=_,S=C,this.options.backtrack_lexer){if(k=this.test_match(_,R[C]),k!==!1)return k;if(this._backtrack){E=!1;continue}else return!1}else if(!this.options.flex)break}return E?(k=this.test_match(E,R[S]),k!==!1?k:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:b(function(){var E=this.next();return E||this.lex()},"lex"),begin:b(function(E){this.conditionStack.push(E)},"begin"),popState:b(function(){var E=this.conditionStack.length-1;return E>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:b(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:b(function(E){return E=this.conditionStack.length-1-Math.abs(E||0),E>=0?this.conditionStack[E]:"INITIAL"},"topState"),pushState:b(function(E){this.begin(E)},"pushState"),stateStackSize:b(function(){return this.conditionStack.length},"stateStackSize"),options:{},performAction:b(function(E,_,S,R){switch(S){case 0:return 10;case 1:return E.getLogger().debug("Found space-block"),31;case 2:return E.getLogger().debug("Found nl-block"),31;case 3:return E.getLogger().debug("Found space-block"),29;case 4:E.getLogger().debug(".",_.yytext);break;case 5:E.getLogger().debug("_",_.yytext);break;case 6:return 5;case 7:return _.yytext=-1,28;case 8:return _.yytext=_.yytext.replace(/columns\s+/,""),E.getLogger().debug("COLUMNS (LEX)",_.yytext),28;case 9:this.pushState("md_string");break;case 10:return"MD_STR";case 11:this.popState();break;case 12:this.pushState("string");break;case 13:E.getLogger().debug("LEX: POPPING STR:",_.yytext),this.popState();break;case 14:return E.getLogger().debug("LEX: STR end:",_.yytext),"STR";case 15:return _.yytext=_.yytext.replace(/space\:/,""),E.getLogger().debug("SPACE NUM (LEX)",_.yytext),21;case 16:return _.yytext="1",E.getLogger().debug("COLUMNS (LEX)",_.yytext),21;case 17:return 43;case 18:return"LINKSTYLE";case 19:return"INTERPOLATE";case 20:return this.pushState("CLASSDEF"),40;case 21:return this.popState(),this.pushState("CLASSDEFID"),"DEFAULT_CLASSDEF_ID";case 22:return this.popState(),this.pushState("CLASSDEFID"),41;case 23:return this.popState(),42;case 24:return this.pushState("CLASS"),44;case 25:return this.popState(),this.pushState("CLASS_STYLE"),45;case 26:return this.popState(),46;case 27:return this.pushState("STYLE_STMNT"),47;case 28:return this.popState(),this.pushState("STYLE_DEFINITION"),48;case 29:return this.popState(),49;case 30:return this.pushState("acc_title"),"acc_title";case 31:return this.popState(),"acc_title_value";case 32:return this.pushState("acc_descr"),"acc_descr";case 33:return this.popState(),"acc_descr_value";case 34:this.pushState("acc_descr_multiline");break;case 35:this.popState();break;case 36:return"acc_descr_multiline_value";case 37:return 30;case 38:return this.popState(),E.getLogger().debug("Lex: (("),"NODE_DEND";case 39:return this.popState(),E.getLogger().debug("Lex: (("),"NODE_DEND";case 40:return this.popState(),E.getLogger().debug("Lex: ))"),"NODE_DEND";case 41:return this.popState(),E.getLogger().debug("Lex: (("),"NODE_DEND";case 42:return this.popState(),E.getLogger().debug("Lex: (("),"NODE_DEND";case 43:return this.popState(),E.getLogger().debug("Lex: (-"),"NODE_DEND";case 44:return this.popState(),E.getLogger().debug("Lex: -)"),"NODE_DEND";case 45:return this.popState(),E.getLogger().debug("Lex: (("),"NODE_DEND";case 46:return this.popState(),E.getLogger().debug("Lex: ]]"),"NODE_DEND";case 47:return this.popState(),E.getLogger().debug("Lex: ("),"NODE_DEND";case 48:return this.popState(),E.getLogger().debug("Lex: ])"),"NODE_DEND";case 49:return this.popState(),E.getLogger().debug("Lex: /]"),"NODE_DEND";case 50:return this.popState(),E.getLogger().debug("Lex: /]"),"NODE_DEND";case 51:return this.popState(),E.getLogger().debug("Lex: )]"),"NODE_DEND";case 52:return this.popState(),E.getLogger().debug("Lex: )"),"NODE_DEND";case 53:return this.popState(),E.getLogger().debug("Lex: ]>"),"NODE_DEND";case 54:return this.popState(),E.getLogger().debug("Lex: ]"),"NODE_DEND";case 55:return E.getLogger().debug("Lexa: -)"),this.pushState("NODE"),36;case 56:return E.getLogger().debug("Lexa: (-"),this.pushState("NODE"),36;case 57:return E.getLogger().debug("Lexa: ))"),this.pushState("NODE"),36;case 58:return E.getLogger().debug("Lexa: )"),this.pushState("NODE"),36;case 59:return E.getLogger().debug("Lex: ((("),this.pushState("NODE"),36;case 60:return E.getLogger().debug("Lexa: )"),this.pushState("NODE"),36;case 61:return E.getLogger().debug("Lexa: )"),this.pushState("NODE"),36;case 62:return E.getLogger().debug("Lexa: )"),this.pushState("NODE"),36;case 63:return E.getLogger().debug("Lexc: >"),this.pushState("NODE"),36;case 64:return E.getLogger().debug("Lexa: (["),this.pushState("NODE"),36;case 65:return E.getLogger().debug("Lexa: )"),this.pushState("NODE"),36;case 66:return this.pushState("NODE"),36;case 67:return this.pushState("NODE"),36;case 68:return this.pushState("NODE"),36;case 69:return this.pushState("NODE"),36;case 70:return this.pushState("NODE"),36;case 71:return this.pushState("NODE"),36;case 72:return this.pushState("NODE"),36;case 73:return E.getLogger().debug("Lexa: ["),this.pushState("NODE"),36;case 74:return this.pushState("BLOCK_ARROW"),E.getLogger().debug("LEX ARR START"),38;case 75:return E.getLogger().debug("Lex: NODE_ID",_.yytext),32;case 76:return E.getLogger().debug("Lex: EOF",_.yytext),8;case 77:this.pushState("md_string");break;case 78:this.pushState("md_string");break;case 79:return"NODE_DESCR";case 80:this.popState();break;case 81:E.getLogger().debug("Lex: Starting string"),this.pushState("string");break;case 82:E.getLogger().debug("LEX ARR: Starting string"),this.pushState("string");break;case 83:return E.getLogger().debug("LEX: NODE_DESCR:",_.yytext),"NODE_DESCR";case 84:E.getLogger().debug("LEX POPPING"),this.popState();break;case 85:E.getLogger().debug("Lex: =>BAE"),this.pushState("ARROW_DIR");break;case 86:return _.yytext=_.yytext.replace(/^,\s*/,""),E.getLogger().debug("Lex (right): dir:",_.yytext),"DIR";case 87:return _.yytext=_.yytext.replace(/^,\s*/,""),E.getLogger().debug("Lex (left):",_.yytext),"DIR";case 88:return _.yytext=_.yytext.replace(/^,\s*/,""),E.getLogger().debug("Lex (x):",_.yytext),"DIR";case 89:return _.yytext=_.yytext.replace(/^,\s*/,""),E.getLogger().debug("Lex (y):",_.yytext),"DIR";case 90:return _.yytext=_.yytext.replace(/^,\s*/,""),E.getLogger().debug("Lex (up):",_.yytext),"DIR";case 91:return _.yytext=_.yytext.replace(/^,\s*/,""),E.getLogger().debug("Lex (down):",_.yytext),"DIR";case 92:return _.yytext="]>",E.getLogger().debug("Lex (ARROW_DIR end):",_.yytext),this.popState(),this.popState(),"BLOCK_ARROW_END";case 93:return E.getLogger().debug("Lex: LINK","#"+_.yytext+"#"),15;case 94:return E.getLogger().debug("Lex: LINK",_.yytext),15;case 95:return E.getLogger().debug("Lex: LINK",_.yytext),15;case 96:return E.getLogger().debug("Lex: LINK",_.yytext),15;case 97:return E.getLogger().debug("Lex: START_LINK",_.yytext),this.pushState("LLABEL"),16;case 98:return E.getLogger().debug("Lex: START_LINK",_.yytext),this.pushState("LLABEL"),16;case 99:return E.getLogger().debug("Lex: START_LINK",_.yytext),this.pushState("LLABEL"),16;case 100:this.pushState("md_string");break;case 101:return E.getLogger().debug("Lex: Starting string"),this.pushState("string"),"LINK_LABEL";case 102:return this.popState(),E.getLogger().debug("Lex: LINK","#"+_.yytext+"#"),15;case 103:return this.popState(),E.getLogger().debug("Lex: LINK",_.yytext),15;case 104:return this.popState(),E.getLogger().debug("Lex: LINK",_.yytext),15;case 105:return E.getLogger().debug("Lex: COLON",_.yytext),_.yytext=_.yytext.slice(1),27}},"anonymous"),rules:[/^(?:block-beta\b)/,/^(?:block\s+)/,/^(?:block\n+)/,/^(?:block:)/,/^(?:[\s]+)/,/^(?:[\n]+)/,/^(?:((\u000D\u000A)|(\u000A)))/,/^(?:columns\s+auto\b)/,/^(?:columns\s+[\d]+)/,/^(?:["][`])/,/^(?:[^`"]+)/,/^(?:[`]["])/,/^(?:["])/,/^(?:["])/,/^(?:[^"]*)/,/^(?:space[:]\d+)/,/^(?:space\b)/,/^(?:default\b)/,/^(?:linkStyle\b)/,/^(?:interpolate\b)/,/^(?:classDef\s+)/,/^(?:DEFAULT\s+)/,/^(?:\w+\s+)/,/^(?:[^\n]*)/,/^(?:class\s+)/,/^(?:(\w+)+((,\s*\w+)*))/,/^(?:[^\n]*)/,/^(?:style\s+)/,/^(?:(\w+)+((,\s*\w+)*))/,/^(?:[^\n]*)/,/^(?:accTitle\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*\{\s*)/,/^(?:[\}])/,/^(?:[^\}]*)/,/^(?:end\b\s*)/,/^(?:\(\(\()/,/^(?:\)\)\))/,/^(?:[\)]\))/,/^(?:\}\})/,/^(?:\})/,/^(?:\(-)/,/^(?:-\))/,/^(?:\(\()/,/^(?:\]\])/,/^(?:\()/,/^(?:\]\))/,/^(?:\\\])/,/^(?:\/\])/,/^(?:\)\])/,/^(?:[\)])/,/^(?:\]>)/,/^(?:[\]])/,/^(?:-\))/,/^(?:\(-)/,/^(?:\)\))/,/^(?:\))/,/^(?:\(\(\()/,/^(?:\(\()/,/^(?:\{\{)/,/^(?:\{)/,/^(?:>)/,/^(?:\(\[)/,/^(?:\()/,/^(?:\[\[)/,/^(?:\[\|)/,/^(?:\[\()/,/^(?:\)\)\))/,/^(?:\[\\)/,/^(?:\[\/)/,/^(?:\[\\)/,/^(?:\[)/,/^(?:<\[)/,/^(?:[^\(\[\n\-\)\{\}\s\<\>:]+)/,/^(?:$)/,/^(?:["][`])/,/^(?:["][`])/,/^(?:[^`"]+)/,/^(?:[`]["])/,/^(?:["])/,/^(?:["])/,/^(?:[^"]+)/,/^(?:["])/,/^(?:\]>\s*\()/,/^(?:,?\s*right\s*)/,/^(?:,?\s*left\s*)/,/^(?:,?\s*x\s*)/,/^(?:,?\s*y\s*)/,/^(?:,?\s*up\s*)/,/^(?:,?\s*down\s*)/,/^(?:\)\s*)/,/^(?:\s*[xo<]?--+[-xo>]\s*)/,/^(?:\s*[xo<]?==+[=xo>]\s*)/,/^(?:\s*[xo<]?-?\.+-[xo>]?\s*)/,/^(?:\s*~~[\~]+\s*)/,/^(?:\s*[xo<]?--\s*)/,/^(?:\s*[xo<]?==\s*)/,/^(?:\s*[xo<]?-\.\s*)/,/^(?:["][`])/,/^(?:["])/,/^(?:\s*[xo<]?--+[-xo>]\s*)/,/^(?:\s*[xo<]?==+[=xo>]\s*)/,/^(?:\s*[xo<]?-?\.+-[xo>]?\s*)/,/^(?::\d+)/],conditions:{STYLE_DEFINITION:{rules:[29],inclusive:!1},STYLE_STMNT:{rules:[28],inclusive:!1},CLASSDEFID:{rules:[23],inclusive:!1},CLASSDEF:{rules:[21,22],inclusive:!1},CLASS_STYLE:{rules:[26],inclusive:!1},CLASS:{rules:[25],inclusive:!1},LLABEL:{rules:[100,101,102,103,104],inclusive:!1},ARROW_DIR:{rules:[86,87,88,89,90,91,92],inclusive:!1},BLOCK_ARROW:{rules:[77,82,85],inclusive:!1},NODE:{rules:[38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,78,81],inclusive:!1},md_string:{rules:[10,11,79,80],inclusive:!1},space:{rules:[],inclusive:!1},string:{rules:[13,14,83,84],inclusive:!1},acc_descr_multiline:{rules:[35,36],inclusive:!1},acc_descr:{rules:[33],inclusive:!1},acc_title:{rules:[31],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,12,15,16,17,18,19,20,24,27,30,32,34,37,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,93,94,95,96,97,98,99,105],inclusive:!0}}};return w}();y.lexer=v;function x(){this.yy={}}return b(x,"Parser"),x.prototype=y,y.Parser=x,new x}();O8.parser=O8;var Yet=O8,jo=new Map,GN=[],P8=new Map,pz="color",gz="fill",qet="bgFill",Lse=",",jet=we(),R5=new Map,Xet=b(t=>et.sanitizeText(t,jet),"sanitizeText"),Ket=b(function(t,e=""){let r=R5.get(t);r||(r={id:t,styles:[],textStyles:[]},R5.set(t,r)),e!=null&&e.split(Lse).forEach(n=>{const i=n.replace(/([^;]*);/,"$1").trim();if(RegExp(pz).exec(n)){const s=i.replace(gz,qet).replace(pz,gz);r.textStyles.push(s)}r.styles.push(i)})},"addStyleClass"),Qet=b(function(t,e=""){const r=jo.get(t);e!=null&&(r.styles=e.split(Lse))},"addStyle2Node"),Zet=b(function(t,e){t.split(",").forEach(function(r){let n=jo.get(r);if(n===void 0){const i=r.trim();n={id:i,type:"na",children:[]},jo.set(i,n)}n.classes||(n.classes=[]),n.classes.push(e)})},"setCssClass"),Nse=b((t,e)=>{const r=t.flat(),n=[];for(const i of r){if(i.label&&(i.label=Xet(i.label)),i.type==="classDef"){Ket(i.id,i.css);continue}if(i.type==="applyClass"){Zet(i.id,(i==null?void 0:i.styleClass)??"");continue}if(i.type==="applyStyles"){i!=null&&i.stylesStr&&Qet(i.id,i==null?void 0:i.stylesStr);continue}if(i.type==="column-setting")e.columns=i.columns??-1;else if(i.type==="edge"){const a=(P8.get(i.id)??0)+1;P8.set(i.id,a),i.id=a+"-"+i.id,GN.push(i)}else{i.label||(i.type==="composite"?i.label="":i.label=i.id);const a=jo.get(i.id);if(a===void 0?jo.set(i.id,i):(i.type!=="na"&&(a.type=i.type),i.label!==i.id&&(a.label=i.label)),i.children&&Nse(i.children,i),i.type==="space"){const s=i.width??1;for(let o=0;o<s;o++){const l=gi(i);l.id=l.id+"-"+o,jo.set(l.id,l),n.push(l)}}else a===void 0&&n.push(i)}}e.children=n},"populateBlockDatabase"),HN=[],Gm={id:"root",type:"composite",children:[],columns:-1},Jet=b(()=>{q.debug("Clear called"),Ni(),Gm={id:"root",type:"composite",children:[],columns:-1},jo=new Map([["root",Gm]]),HN=[],R5=new Map,GN=[],P8=new Map},"clear");function Rse(t){switch(q.debug("typeStr2Type",t),t){case"[]":return"square";case"()":return q.debug("we have a round"),"round";case"(())":return"circle";case">]":return"rect_left_inv_arrow";case"{}":return"diamond";case"{{}}":return"hexagon";case"([])":return"stadium";case"[[]]":return"subroutine";case"[()]":return"cylinder";case"((()))":return"doublecircle";case"[//]":return"lean_right";case"[\\\\]":return"lean_left";case"[/\\]":return"trapezoid";case"[\\/]":return"inv_trapezoid";case"<[]>":return"block_arrow";default:return"na"}}b(Rse,"typeStr2Type");function Mse(t){switch(q.debug("typeStr2Type",t),t){case"==":return"thick";default:return"normal"}}b(Mse,"edgeTypeStr2Type");function Ise(t){switch(t.trim()){case"--x":return"arrow_cross";case"--o":return"arrow_circle";default:return"arrow_point"}}b(Ise,"edgeStrToEdgeData");var mz=0,ett=b(()=>(mz++,"id-"+Math.random().toString(36).substr(2,12)+"-"+mz),"generateId"),ttt=b(t=>{Gm.children=t,Nse(t,Gm),HN=Gm.children},"setHierarchy"),rtt=b(t=>{const e=jo.get(t);return e?e.columns?e.columns:e.children?e.children.length:-1:-1},"getColumns"),ntt=b(()=>[...jo.values()],"getBlocksFlat"),itt=b(()=>HN||[],"getBlocks"),att=b(()=>GN,"getEdges"),stt=b(t=>jo.get(t),"getBlock"),ott=b(t=>{jo.set(t.id,t)},"setBlock"),ltt=b(()=>console,"getLogger"),ctt=b(function(){return R5},"getClasses"),utt={getConfig:b(()=>Dn().block,"getConfig"),typeStr2Type:Rse,edgeTypeStr2Type:Mse,edgeStrToEdgeData:Ise,getLogger:ltt,getBlocksFlat:ntt,getBlocks:itt,getEdges:att,setHierarchy:ttt,getBlock:stt,setBlock:ott,getColumns:rtt,getClasses:ctt,clear:Jet,generateId:ett},htt=utt,$x=b((t,e)=>{const r=BV,n=r(t,"r"),i=r(t,"g"),a=r(t,"b");return pd(n,i,a,e)},"fade"),dtt=b(t=>`.label {
    font-family: ${t.fontFamily};
    color: ${t.nodeTextColor||t.textColor};
  }
  .cluster-label text {
    fill: ${t.titleColor};
  }
  .cluster-label span,p {
    color: ${t.titleColor};
  }



  .label text,span,p {
    fill: ${t.nodeTextColor||t.textColor};
    color: ${t.nodeTextColor||t.textColor};
  }

  .node rect,
  .node circle,
  .node ellipse,
  .node polygon,
  .node path {
    fill: ${t.mainBkg};
    stroke: ${t.nodeBorder};
    stroke-width: 1px;
  }
  .flowchart-label text {
    text-anchor: middle;
  }
  // .flowchart-label .text-outer-tspan {
  //   text-anchor: middle;
  // }
  // .flowchart-label .text-inner-tspan {
  //   text-anchor: start;
  // }

  .node .label {
    text-align: center;
  }
  .node.clickable {
    cursor: pointer;
  }

  .arrowheadPath {
    fill: ${t.arrowheadColor};
  }

  .edgePath .path {
    stroke: ${t.lineColor};
    stroke-width: 2.0px;
  }

  .flowchart-link {
    stroke: ${t.lineColor};
    fill: none;
  }

  .edgeLabel {
    background-color: ${t.edgeLabelBackground};
    rect {
      opacity: 0.5;
      background-color: ${t.edgeLabelBackground};
      fill: ${t.edgeLabelBackground};
    }
    text-align: center;
  }

  /* For html labels only */
  .labelBkg {
    background-color: ${$x(t.edgeLabelBackground,.5)};
    // background-color:
  }

  .node .cluster {
    // fill: ${$x(t.mainBkg,.5)};
    fill: ${$x(t.clusterBkg,.5)};
    stroke: ${$x(t.clusterBorder,.2)};
    box-shadow: rgba(50, 50, 93, 0.25) 0px 13px 27px -5px, rgba(0, 0, 0, 0.3) 0px 8px 16px -8px;
    stroke-width: 1px;
  }

  .cluster text {
    fill: ${t.titleColor};
  }

  .cluster span,p {
    color: ${t.titleColor};
  }
  /* .cluster div {
    color: ${t.titleColor};
  } */

  div.mermaidTooltip {
    position: absolute;
    text-align: center;
    max-width: 200px;
    padding: 2px;
    font-family: ${t.fontFamily};
    font-size: 12px;
    background: ${t.tertiaryColor};
    border: 1px solid ${t.border2};
    border-radius: 2px;
    pointer-events: none;
    z-index: 100;
  }

  .flowchartTitleText {
    text-anchor: middle;
    font-size: 18px;
    fill: ${t.textColor};
  }
`,"getStyles"),ftt=dtt,kz,Tz,zn=((Tz=(kz=we())==null?void 0:kz.block)==null?void 0:Tz.padding)??8;function Dse(t,e){if(t===0||!Number.isInteger(t))throw new Error("Columns must be an integer !== 0.");if(e<0||!Number.isInteger(e))throw new Error("Position must be a non-negative integer."+e);if(t<0)return{px:e,py:0};if(t===1)return{px:0,py:e};const r=e%t,n=Math.floor(e/t);return{px:r,py:n}}b(Dse,"calculateBlockPosition");var ptt=b(t=>{let e=0,r=0;for(const n of t.children){const{width:i,height:a,x:s,y:o}=n.size??{width:0,height:0,x:0,y:0};q.debug("getMaxChildSize abc95 child:",n.id,"width:",i,"height:",a,"x:",s,"y:",o,n.type),n.type!=="space"&&(i>e&&(e=i/(t.widthInColumns??1)),a>r&&(r=a))}return{width:e,height:r}},"getMaxChildSize");function M5(t,e,r=0,n=0){var s,o,l,u,h,d,p,f,g,m,y;q.debug("setBlockSizes abc95 (start)",t.id,(s=t==null?void 0:t.size)==null?void 0:s.x,"block width =",t==null?void 0:t.size,"sieblingWidth",r),(o=t==null?void 0:t.size)!=null&&o.width||(t.size={width:r,height:n,x:0,y:0});let i=0,a=0;if(((l=t.children)==null?void 0:l.length)>0){for(const R of t.children)M5(R,e);const v=ptt(t);i=v.width,a=v.height,q.debug("setBlockSizes abc95 maxWidth of",t.id,":s children is ",i,a);for(const R of t.children)R.size&&(q.debug(`abc95 Setting size of children of ${t.id} id=${R.id} ${i} ${a} ${JSON.stringify(R.size)}`),R.size.width=i*(R.widthInColumns??1)+zn*((R.widthInColumns??1)-1),R.size.height=a,R.size.x=0,R.size.y=0,q.debug(`abc95 updating size of ${t.id} children child:${R.id} maxWidth:${i} maxHeight:${a}`));for(const R of t.children)M5(R,e,i,a);const x=t.columns??-1;let w=0;for(const R of t.children)w+=R.widthInColumns??1;let k=t.children.length;x>0&&x<w&&(k=x);const E=Math.ceil(w/k);let _=k*(i+zn)+zn,S=E*(a+zn)+zn;if(_<r){q.debug(`Detected to small siebling: abc95 ${t.id} sieblingWidth ${r} sieblingHeight ${n} width ${_}`),_=r,S=n;const R=(r-k*zn-zn)/k,C=(n-E*zn-zn)/E;q.debug("Size indata abc88",t.id,"childWidth",R,"maxWidth",i),q.debug("Size indata abc88",t.id,"childHeight",C,"maxHeight",a),q.debug("Size indata abc88 xSize",k,"padding",zn);for(const L of t.children)L.size&&(L.size.width=R,L.size.height=C,L.size.x=0,L.size.y=0)}if(q.debug(`abc95 (finale calc) ${t.id} xSize ${k} ySize ${E} columns ${x}${t.children.length} width=${Math.max(_,((u=t.size)==null?void 0:u.width)||0)}`),_<(((h=t==null?void 0:t.size)==null?void 0:h.width)||0)){_=((d=t==null?void 0:t.size)==null?void 0:d.width)||0;const R=x>0?Math.min(t.children.length,x):t.children.length;if(R>0){const C=(_-R*zn-zn)/R;q.debug("abc95 (growing to fit) width",t.id,_,(p=t.size)==null?void 0:p.width,C);for(const L of t.children)L.size&&(L.size.width=C)}}t.size={width:_,height:S,x:0,y:0}}q.debug("setBlockSizes abc94 (done)",t.id,(f=t==null?void 0:t.size)==null?void 0:f.x,(g=t==null?void 0:t.size)==null?void 0:g.width,(m=t==null?void 0:t.size)==null?void 0:m.y,(y=t==null?void 0:t.size)==null?void 0:y.height)}b(M5,"setBlockSizes");function WN(t,e){var n,i,a,s,o,l,u,h,d,p,f,g,m,y,v,x,w;q.debug(`abc85 layout blocks (=>layoutBlocks) ${t.id} x: ${(n=t==null?void 0:t.size)==null?void 0:n.x} y: ${(i=t==null?void 0:t.size)==null?void 0:i.y} width: ${(a=t==null?void 0:t.size)==null?void 0:a.width}`);const r=t.columns??-1;if(q.debug("layoutBlocks columns abc95",t.id,"=>",r,t),t.children&&t.children.length>0){const k=((o=(s=t==null?void 0:t.children[0])==null?void 0:s.size)==null?void 0:o.width)??0,E=t.children.length*k+(t.children.length-1)*zn;q.debug("widthOfChildren 88",E,"posX");let _=0;q.debug("abc91 block?.size?.x",t.id,(l=t==null?void 0:t.size)==null?void 0:l.x);let S=(u=t==null?void 0:t.size)!=null&&u.x?((h=t==null?void 0:t.size)==null?void 0:h.x)+(-((d=t==null?void 0:t.size)==null?void 0:d.width)/2||0):-zn,R=0;for(const C of t.children){const L=t;if(!C.size)continue;const{width:A,height:N}=C.size,{px:F,py:T}=Dse(r,_);if(T!=R&&(R=T,S=(p=t==null?void 0:t.size)!=null&&p.x?((f=t==null?void 0:t.size)==null?void 0:f.x)+(-((g=t==null?void 0:t.size)==null?void 0:g.width)/2||0):-zn,q.debug("New row in layout for block",t.id," and child ",C.id,R)),q.debug(`abc89 layout blocks (child) id: ${C.id} Pos: ${_} (px, py) ${F},${T} (${(m=L==null?void 0:L.size)==null?void 0:m.x},${(y=L==null?void 0:L.size)==null?void 0:y.y}) parent: ${L.id} width: ${A}${zn}`),L.size){const D=A/2;C.size.x=S+zn+D,q.debug(`abc91 layout blocks (calc) px, pyid:${C.id} startingPos=X${S} new startingPosX${C.size.x} ${D} padding=${zn} width=${A} halfWidth=${D} => x:${C.size.x} y:${C.size.y} ${C.widthInColumns} (width * (child?.w || 1)) / 2 ${A*((C==null?void 0:C.widthInColumns)??1)/2}`),S=C.size.x+D,C.size.y=L.size.y-L.size.height/2+T*(N+zn)+N/2+zn,q.debug(`abc88 layout blocks (calc) px, pyid:${C.id}startingPosX${S}${zn}${D}=>x:${C.size.x}y:${C.size.y}${C.widthInColumns}(width * (child?.w || 1)) / 2${A*((C==null?void 0:C.widthInColumns)??1)/2}`)}C.children&&WN(C),_+=(C==null?void 0:C.widthInColumns)??1,q.debug("abc88 columnsPos",C,_)}}q.debug(`layout blocks (<==layoutBlocks) ${t.id} x: ${(v=t==null?void 0:t.size)==null?void 0:v.x} y: ${(x=t==null?void 0:t.size)==null?void 0:x.y} width: ${(w=t==null?void 0:t.size)==null?void 0:w.width}`)}b(WN,"layoutBlocks");function YN(t,{minX:e,minY:r,maxX:n,maxY:i}={minX:0,minY:0,maxX:0,maxY:0}){if(t.size&&t.id!=="root"){const{x:a,y:s,width:o,height:l}=t.size;a-o/2<e&&(e=a-o/2),s-l/2<r&&(r=s-l/2),a+o/2>n&&(n=a+o/2),s+l/2>i&&(i=s+l/2)}if(t.children)for(const a of t.children)({minX:e,minY:r,maxX:n,maxY:i}=YN(a,{minX:e,minY:r,maxX:n,maxY:i}));return{minX:e,minY:r,maxX:n,maxY:i}}b(YN,"findBounds");function Ose(t){const e=t.getBlock("root");if(!e)return;M5(e,t,0,0),WN(e),q.debug("getBlocks",JSON.stringify(e,null,2));const{minX:r,minY:n,maxX:i,maxY:a}=YN(e),s=a-n,o=i-r;return{x:r,y:n,width:o,height:s}}b(Ose,"layout");function qN(t,e,r=!1){var p,f,g;const n=t;let i="default";(((p=n==null?void 0:n.classes)==null?void 0:p.length)||0)>0&&(i=((n==null?void 0:n.classes)??[]).join(" ")),i=i+" flowchart-label";let a=0,s="",o;switch(n.type){case"round":a=5,s="rect";break;case"composite":a=0,s="composite",o=0;break;case"square":s="rect";break;case"diamond":s="question";break;case"hexagon":s="hexagon";break;case"block_arrow":s="block_arrow";break;case"odd":s="rect_left_inv_arrow";break;case"lean_right":s="lean_right";break;case"lean_left":s="lean_left";break;case"trapezoid":s="trapezoid";break;case"inv_trapezoid":s="inv_trapezoid";break;case"rect_left_inv_arrow":s="rect_left_inv_arrow";break;case"circle":s="circle";break;case"ellipse":s="ellipse";break;case"stadium":s="stadium";break;case"subroutine":s="subroutine";break;case"cylinder":s="cylinder";break;case"group":s="rect";break;case"doublecircle":s="doublecircle";break;default:s="rect"}const l=Sy((n==null?void 0:n.styles)??[]),u=n.label,h=n.size??{width:0,height:0,x:0,y:0};return{labelStyle:l.labelStyle,shape:s,labelText:u,rx:a,ry:a,class:i,style:l.style,id:n.id,directions:n.directions,width:h.width,height:h.height,x:h.x,y:h.y,positioned:r,intersect:void 0,type:n.type,padding:o??((g=(f=Dn())==null?void 0:f.block)==null?void 0:g.padding)??0}}b(qN,"getNodeFromBlock");async function Pse(t,e,r){const n=qN(e,r,!1);if(n.type==="group")return;const i=Dn(),a=await eN(t,n,{config:i}),s=a.node().getBBox(),o=r.getBlock(n.id);o.size={width:s.width,height:s.height,x:0,y:0,node:a},r.setBlock(o),a.remove()}b(Pse,"calculateBlockSize");async function Fse(t,e,r){const n=qN(e,r,!0);if(r.getBlock(n.id).type!=="space"){const a=Dn();await eN(t,n,{config:a}),e.intersect=n==null?void 0:n.intersect,o8(n)}}b(Fse,"insertBlockPositioned");async function H6(t,e,r,n){for(const i of e)await n(t,i,r),i.children&&await H6(t,i.children,r,n)}b(H6,"performOperations");async function Bse(t,e,r){await H6(t,e,r,Pse)}b(Bse,"calculateBlockSizes");async function $se(t,e,r){await H6(t,e,r,Fse)}b($se,"insertBlocks");async function zse(t,e,r,n,i){const a=new bi({multigraph:!0,compound:!0});a.setGraph({rankdir:"TB",nodesep:10,ranksep:10,marginx:8,marginy:8});for(const s of r)s.size&&a.setNode(s.id,{width:s.size.width,height:s.size.height,intersect:s.intersect});for(const s of e)if(s.start&&s.end){const o=n.getBlock(s.start),l=n.getBlock(s.end);if(o!=null&&o.size&&(l!=null&&l.size)){const u=o.size,h=l.size,d=[{x:u.x,y:u.y},{x:u.x+(h.x-u.x)/2,y:u.y+(h.y-u.y)/2},{x:h.x,y:h.y}];Dne(t,{v:s.start,w:s.end,name:s.id},{...s,arrowTypeEnd:s.arrowTypeEnd,arrowTypeStart:s.arrowTypeStart,points:d,classes:"edge-thickness-normal edge-pattern-solid flowchart-link LS-a1 LE-b1"},void 0,"block",a,i),s.label&&(await Mne(t,{...s,label:s.label,labelStyle:"stroke: #333; stroke-width: 1.5px;fill:none;",arrowTypeEnd:s.arrowTypeEnd,arrowTypeStart:s.arrowTypeStart,points:d,classes:"edge-thickness-normal edge-pattern-solid flowchart-link LS-a1 LE-b1"}),Ine({...s,x:d[1].x,y:d[1].y},{originalPath:d}))}}}b(zse,"insertEdges");var gtt=b(function(t,e){return e.db.getClasses()},"getClasses"),mtt=b(async function(t,e,r,n){const{securityLevel:i,block:a}=Dn(),s=n.db;let o;i==="sandbox"&&(o=Ke("#i"+e));const l=Ke(i==="sandbox"?o.nodes()[0].contentDocument.body:"body"),u=i==="sandbox"?l.select(`[id="${e}"]`):Ke(`[id="${e}"]`);Ene(u,["point","circle","cross"],n.type,e);const d=s.getBlocks(),p=s.getBlocksFlat(),f=s.getEdges(),g=u.insert("g").attr("class","block");await Bse(g,d,s);const m=Ose(s);if(await $se(g,d,s),await zse(g,f,p,s,e),m){const y=m,v=Math.max(1,Math.round(.125*(y.width/y.height))),x=y.height+v+10,w=y.width+10,{useMaxWidth:k}=a;Ki(u,x,w,!!k),q.debug("Here Bounds",m,y),u.attr("viewBox",`${y.x-5} ${y.y-5} ${y.width+10} ${y.height+10}`)}},"draw"),vtt={draw:mtt,getClasses:gtt},ytt={parser:Yet,db:htt,renderer:vtt,styles:ftt};const xtt=Object.freeze(Object.defineProperty({__proto__:null,diagram:ytt},Symbol.toStringTag,{value:"Module"}));var Use={exports:{}},IE={exports:{}},DE={exports:{}},vz;function btt(){return vz||(vz=1,function(t,e){(function(n,i){t.exports=i()})(Il,function(){return function(r){var n={};function i(a){if(n[a])return n[a].exports;var s=n[a]={i:a,l:!1,exports:{}};return r[a].call(s.exports,s,s.exports,i),s.l=!0,s.exports}return i.m=r,i.c=n,i.i=function(a){return a},i.d=function(a,s,o){i.o(a,s)||Object.defineProperty(a,s,{configurable:!1,enumerable:!0,get:o})},i.n=function(a){var s=a&&a.__esModule?function(){return a.default}:function(){return a};return i.d(s,"a",s),s},i.o=function(a,s){return Object.prototype.hasOwnProperty.call(a,s)},i.p="",i(i.s=28)}([function(r,n,i){function a(){}a.QUALITY=1,a.DEFAULT_CREATE_BENDS_AS_NEEDED=!1,a.DEFAULT_INCREMENTAL=!1,a.DEFAULT_ANIMATION_ON_LAYOUT=!0,a.DEFAULT_ANIMATION_DURING_LAYOUT=!1,a.DEFAULT_ANIMATION_PERIOD=50,a.DEFAULT_UNIFORM_LEAF_NODE_SIZES=!1,a.DEFAULT_GRAPH_MARGIN=15,a.NODE_DIMENSIONS_INCLUDE_LABELS=!1,a.SIMPLE_NODE_SIZE=40,a.SIMPLE_NODE_HALF_SIZE=a.SIMPLE_NODE_SIZE/2,a.EMPTY_COMPOUND_NODE_SIZE=40,a.MIN_EDGE_LENGTH=1,a.WORLD_BOUNDARY=1e6,a.INITIAL_WORLD_BOUNDARY=a.WORLD_BOUNDARY/1e3,a.WORLD_CENTER_X=1200,a.WORLD_CENTER_Y=900,r.exports=a},function(r,n,i){var a=i(2),s=i(8),o=i(9);function l(h,d,p){a.call(this,p),this.isOverlapingSourceAndTarget=!1,this.vGraphObject=p,this.bendpoints=[],this.source=h,this.target=d}l.prototype=Object.create(a.prototype);for(var u in a)l[u]=a[u];l.prototype.getSource=function(){return this.source},l.prototype.getTarget=function(){return this.target},l.prototype.isInterGraph=function(){return this.isInterGraph},l.prototype.getLength=function(){return this.length},l.prototype.isOverlapingSourceAndTarget=function(){return this.isOverlapingSourceAndTarget},l.prototype.getBendpoints=function(){return this.bendpoints},l.prototype.getLca=function(){return this.lca},l.prototype.getSourceInLca=function(){return this.sourceInLca},l.prototype.getTargetInLca=function(){return this.targetInLca},l.prototype.getOtherEnd=function(h){if(this.source===h)return this.target;if(this.target===h)return this.source;throw"Node is not incident with this edge"},l.prototype.getOtherEndInGraph=function(h,d){for(var p=this.getOtherEnd(h),f=d.getGraphManager().getRoot();;){if(p.getOwner()==d)return p;if(p.getOwner()==f)break;p=p.getOwner().getParent()}return null},l.prototype.updateLength=function(){var h=new Array(4);this.isOverlapingSourceAndTarget=s.getIntersection(this.target.getRect(),this.source.getRect(),h),this.isOverlapingSourceAndTarget||(this.lengthX=h[0]-h[2],this.lengthY=h[1]-h[3],Math.abs(this.lengthX)<1&&(this.lengthX=o.sign(this.lengthX)),Math.abs(this.lengthY)<1&&(this.lengthY=o.sign(this.lengthY)),this.length=Math.sqrt(this.lengthX*this.lengthX+this.lengthY*this.lengthY))},l.prototype.updateLengthSimple=function(){this.lengthX=this.target.getCenterX()-this.source.getCenterX(),this.lengthY=this.target.getCenterY()-this.source.getCenterY(),Math.abs(this.lengthX)<1&&(this.lengthX=o.sign(this.lengthX)),Math.abs(this.lengthY)<1&&(this.lengthY=o.sign(this.lengthY)),this.length=Math.sqrt(this.lengthX*this.lengthX+this.lengthY*this.lengthY)},r.exports=l},function(r,n,i){function a(s){this.vGraphObject=s}r.exports=a},function(r,n,i){var a=i(2),s=i(10),o=i(13),l=i(0),u=i(16),h=i(5);function d(f,g,m,y){m==null&&y==null&&(y=g),a.call(this,y),f.graphManager!=null&&(f=f.graphManager),this.estimatedSize=s.MIN_VALUE,this.inclusionTreeDepth=s.MAX_VALUE,this.vGraphObject=y,this.edges=[],this.graphManager=f,m!=null&&g!=null?this.rect=new o(g.x,g.y,m.width,m.height):this.rect=new o}d.prototype=Object.create(a.prototype);for(var p in a)d[p]=a[p];d.prototype.getEdges=function(){return this.edges},d.prototype.getChild=function(){return this.child},d.prototype.getOwner=function(){return this.owner},d.prototype.getWidth=function(){return this.rect.width},d.prototype.setWidth=function(f){this.rect.width=f},d.prototype.getHeight=function(){return this.rect.height},d.prototype.setHeight=function(f){this.rect.height=f},d.prototype.getCenterX=function(){return this.rect.x+this.rect.width/2},d.prototype.getCenterY=function(){return this.rect.y+this.rect.height/2},d.prototype.getCenter=function(){return new h(this.rect.x+this.rect.width/2,this.rect.y+this.rect.height/2)},d.prototype.getLocation=function(){return new h(this.rect.x,this.rect.y)},d.prototype.getRect=function(){return this.rect},d.prototype.getDiagonal=function(){return Math.sqrt(this.rect.width*this.rect.width+this.rect.height*this.rect.height)},d.prototype.getHalfTheDiagonal=function(){return Math.sqrt(this.rect.height*this.rect.height+this.rect.width*this.rect.width)/2},d.prototype.setRect=function(f,g){this.rect.x=f.x,this.rect.y=f.y,this.rect.width=g.width,this.rect.height=g.height},d.prototype.setCenter=function(f,g){this.rect.x=f-this.rect.width/2,this.rect.y=g-this.rect.height/2},d.prototype.setLocation=function(f,g){this.rect.x=f,this.rect.y=g},d.prototype.moveBy=function(f,g){this.rect.x+=f,this.rect.y+=g},d.prototype.getEdgeListToNode=function(f){var g=[],m=this;return m.edges.forEach(function(y){if(y.target==f){if(y.source!=m)throw"Incorrect edge source!";g.push(y)}}),g},d.prototype.getEdgesBetween=function(f){var g=[],m=this;return m.edges.forEach(function(y){if(!(y.source==m||y.target==m))throw"Incorrect edge source and/or target";(y.target==f||y.source==f)&&g.push(y)}),g},d.prototype.getNeighborsList=function(){var f=new Set,g=this;return g.edges.forEach(function(m){if(m.source==g)f.add(m.target);else{if(m.target!=g)throw"Incorrect incidency!";f.add(m.source)}}),f},d.prototype.withChildren=function(){var f=new Set,g,m;if(f.add(this),this.child!=null)for(var y=this.child.getNodes(),v=0;v<y.length;v++)g=y[v],m=g.withChildren(),m.forEach(function(x){f.add(x)});return f},d.prototype.getNoOfChildren=function(){var f=0,g;if(this.child==null)f=1;else for(var m=this.child.getNodes(),y=0;y<m.length;y++)g=m[y],f+=g.getNoOfChildren();return f==0&&(f=1),f},d.prototype.getEstimatedSize=function(){if(this.estimatedSize==s.MIN_VALUE)throw"assert failed";return this.estimatedSize},d.prototype.calcEstimatedSize=function(){return this.child==null?this.estimatedSize=(this.rect.width+this.rect.height)/2:(this.estimatedSize=this.child.calcEstimatedSize(),this.rect.width=this.estimatedSize,this.rect.height=this.estimatedSize,this.estimatedSize)},d.prototype.scatter=function(){var f,g,m=-l.INITIAL_WORLD_BOUNDARY,y=l.INITIAL_WORLD_BOUNDARY;f=l.WORLD_CENTER_X+u.nextDouble()*(y-m)+m;var v=-l.INITIAL_WORLD_BOUNDARY,x=l.INITIAL_WORLD_BOUNDARY;g=l.WORLD_CENTER_Y+u.nextDouble()*(x-v)+v,this.rect.x=f,this.rect.y=g},d.prototype.updateBounds=function(){if(this.getChild()==null)throw"assert failed";if(this.getChild().getNodes().length!=0){var f=this.getChild();if(f.updateBounds(!0),this.rect.x=f.getLeft(),this.rect.y=f.getTop(),this.setWidth(f.getRight()-f.getLeft()),this.setHeight(f.getBottom()-f.getTop()),l.NODE_DIMENSIONS_INCLUDE_LABELS){var g=f.getRight()-f.getLeft(),m=f.getBottom()-f.getTop();this.labelWidth&&(this.labelPosHorizontal=="left"?(this.rect.x-=this.labelWidth,this.setWidth(g+this.labelWidth)):this.labelPosHorizontal=="center"&&this.labelWidth>g?(this.rect.x-=(this.labelWidth-g)/2,this.setWidth(this.labelWidth)):this.labelPosHorizontal=="right"&&this.setWidth(g+this.labelWidth)),this.labelHeight&&(this.labelPosVertical=="top"?(this.rect.y-=this.labelHeight,this.setHeight(m+this.labelHeight)):this.labelPosVertical=="center"&&this.labelHeight>m?(this.rect.y-=(this.labelHeight-m)/2,this.setHeight(this.labelHeight)):this.labelPosVertical=="bottom"&&this.setHeight(m+this.labelHeight))}}},d.prototype.getInclusionTreeDepth=function(){if(this.inclusionTreeDepth==s.MAX_VALUE)throw"assert failed";return this.inclusionTreeDepth},d.prototype.transform=function(f){var g=this.rect.x;g>l.WORLD_BOUNDARY?g=l.WORLD_BOUNDARY:g<-l.WORLD_BOUNDARY&&(g=-l.WORLD_BOUNDARY);var m=this.rect.y;m>l.WORLD_BOUNDARY?m=l.WORLD_BOUNDARY:m<-l.WORLD_BOUNDARY&&(m=-l.WORLD_BOUNDARY);var y=new h(g,m),v=f.inverseTransformPoint(y);this.setLocation(v.x,v.y)},d.prototype.getLeft=function(){return this.rect.x},d.prototype.getRight=function(){return this.rect.x+this.rect.width},d.prototype.getTop=function(){return this.rect.y},d.prototype.getBottom=function(){return this.rect.y+this.rect.height},d.prototype.getParent=function(){return this.owner==null?null:this.owner.getParent()},r.exports=d},function(r,n,i){var a=i(0);function s(){}for(var o in a)s[o]=a[o];s.MAX_ITERATIONS=2500,s.DEFAULT_EDGE_LENGTH=50,s.DEFAULT_SPRING_STRENGTH=.45,s.DEFAULT_REPULSION_STRENGTH=4500,s.DEFAULT_GRAVITY_STRENGTH=.4,s.DEFAULT_COMPOUND_GRAVITY_STRENGTH=1,s.DEFAULT_GRAVITY_RANGE_FACTOR=3.8,s.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=1.5,s.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION=!0,s.DEFAULT_USE_SMART_REPULSION_RANGE_CALCULATION=!0,s.DEFAULT_COOLING_FACTOR_INCREMENTAL=.3,s.COOLING_ADAPTATION_FACTOR=.33,s.ADAPTATION_LOWER_NODE_LIMIT=1e3,s.ADAPTATION_UPPER_NODE_LIMIT=5e3,s.MAX_NODE_DISPLACEMENT_INCREMENTAL=100,s.MAX_NODE_DISPLACEMENT=s.MAX_NODE_DISPLACEMENT_INCREMENTAL*3,s.MIN_REPULSION_DIST=s.DEFAULT_EDGE_LENGTH/10,s.CONVERGENCE_CHECK_PERIOD=100,s.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=.1,s.MIN_EDGE_LENGTH=1,s.GRID_CALCULATION_CHECK_PERIOD=10,r.exports=s},function(r,n,i){function a(s,o){s==null&&o==null?(this.x=0,this.y=0):(this.x=s,this.y=o)}a.prototype.getX=function(){return this.x},a.prototype.getY=function(){return this.y},a.prototype.setX=function(s){this.x=s},a.prototype.setY=function(s){this.y=s},a.prototype.getDifference=function(s){return new DimensionD(this.x-s.x,this.y-s.y)},a.prototype.getCopy=function(){return new a(this.x,this.y)},a.prototype.translate=function(s){return this.x+=s.width,this.y+=s.height,this},r.exports=a},function(r,n,i){var a=i(2),s=i(10),o=i(0),l=i(7),u=i(3),h=i(1),d=i(13),p=i(12),f=i(11);function g(y,v,x){a.call(this,x),this.estimatedSize=s.MIN_VALUE,this.margin=o.DEFAULT_GRAPH_MARGIN,this.edges=[],this.nodes=[],this.isConnected=!1,this.parent=y,v!=null&&v instanceof l?this.graphManager=v:v!=null&&v instanceof Layout&&(this.graphManager=v.graphManager)}g.prototype=Object.create(a.prototype);for(var m in a)g[m]=a[m];g.prototype.getNodes=function(){return this.nodes},g.prototype.getEdges=function(){return this.edges},g.prototype.getGraphManager=function(){return this.graphManager},g.prototype.getParent=function(){return this.parent},g.prototype.getLeft=function(){return this.left},g.prototype.getRight=function(){return this.right},g.prototype.getTop=function(){return this.top},g.prototype.getBottom=function(){return this.bottom},g.prototype.isConnected=function(){return this.isConnected},g.prototype.add=function(y,v,x){if(v==null&&x==null){var w=y;if(this.graphManager==null)throw"Graph has no graph mgr!";if(this.getNodes().indexOf(w)>-1)throw"Node already in graph!";return w.owner=this,this.getNodes().push(w),w}else{var k=y;if(!(this.getNodes().indexOf(v)>-1&&this.getNodes().indexOf(x)>-1))throw"Source or target not in graph!";if(!(v.owner==x.owner&&v.owner==this))throw"Both owners must be this graph!";return v.owner!=x.owner?null:(k.source=v,k.target=x,k.isInterGraph=!1,this.getEdges().push(k),v.edges.push(k),x!=v&&x.edges.push(k),k)}},g.prototype.remove=function(y){var v=y;if(y instanceof u){if(v==null)throw"Node is null!";if(!(v.owner!=null&&v.owner==this))throw"Owner graph is invalid!";if(this.graphManager==null)throw"Owner graph manager is invalid!";for(var x=v.edges.slice(),w,k=x.length,E=0;E<k;E++)w=x[E],w.isInterGraph?this.graphManager.remove(w):w.source.owner.remove(w);var _=this.nodes.indexOf(v);if(_==-1)throw"Node not in owner node list!";this.nodes.splice(_,1)}else if(y instanceof h){var w=y;if(w==null)throw"Edge is null!";if(!(w.source!=null&&w.target!=null))throw"Source and/or target is null!";if(!(w.source.owner!=null&&w.target.owner!=null&&w.source.owner==this&&w.target.owner==this))throw"Source and/or target owner is invalid!";var S=w.source.edges.indexOf(w),R=w.target.edges.indexOf(w);if(!(S>-1&&R>-1))throw"Source and/or target doesn't know this edge!";w.source.edges.splice(S,1),w.target!=w.source&&w.target.edges.splice(R,1);var _=w.source.owner.getEdges().indexOf(w);if(_==-1)throw"Not in owner's edge list!";w.source.owner.getEdges().splice(_,1)}},g.prototype.updateLeftTop=function(){for(var y=s.MAX_VALUE,v=s.MAX_VALUE,x,w,k,E=this.getNodes(),_=E.length,S=0;S<_;S++){var R=E[S];x=R.getTop(),w=R.getLeft(),y>x&&(y=x),v>w&&(v=w)}return y==s.MAX_VALUE?null:(E[0].getParent().paddingLeft!=null?k=E[0].getParent().paddingLeft:k=this.margin,this.left=v-k,this.top=y-k,new p(this.left,this.top))},g.prototype.updateBounds=function(y){for(var v=s.MAX_VALUE,x=-s.MAX_VALUE,w=s.MAX_VALUE,k=-s.MAX_VALUE,E,_,S,R,C,L=this.nodes,A=L.length,N=0;N<A;N++){var F=L[N];y&&F.child!=null&&F.updateBounds(),E=F.getLeft(),_=F.getRight(),S=F.getTop(),R=F.getBottom(),v>E&&(v=E),x<_&&(x=_),w>S&&(w=S),k<R&&(k=R)}var T=new d(v,w,x-v,k-w);v==s.MAX_VALUE&&(this.left=this.parent.getLeft(),this.right=this.parent.getRight(),this.top=this.parent.getTop(),this.bottom=this.parent.getBottom()),L[0].getParent().paddingLeft!=null?C=L[0].getParent().paddingLeft:C=this.margin,this.left=T.x-C,this.right=T.x+T.width+C,this.top=T.y-C,this.bottom=T.y+T.height+C},g.calculateBounds=function(y){for(var v=s.MAX_VALUE,x=-s.MAX_VALUE,w=s.MAX_VALUE,k=-s.MAX_VALUE,E,_,S,R,C=y.length,L=0;L<C;L++){var A=y[L];E=A.getLeft(),_=A.getRight(),S=A.getTop(),R=A.getBottom(),v>E&&(v=E),x<_&&(x=_),w>S&&(w=S),k<R&&(k=R)}var N=new d(v,w,x-v,k-w);return N},g.prototype.getInclusionTreeDepth=function(){return this==this.graphManager.getRoot()?1:this.parent.getInclusionTreeDepth()},g.prototype.getEstimatedSize=function(){if(this.estimatedSize==s.MIN_VALUE)throw"assert failed";return this.estimatedSize},g.prototype.calcEstimatedSize=function(){for(var y=0,v=this.nodes,x=v.length,w=0;w<x;w++){var k=v[w];y+=k.calcEstimatedSize()}return y==0?this.estimatedSize=o.EMPTY_COMPOUND_NODE_SIZE:this.estimatedSize=y/Math.sqrt(this.nodes.length),this.estimatedSize},g.prototype.updateConnected=function(){var y=this;if(this.nodes.length==0){this.isConnected=!0;return}var v=new f,x=new Set,w=this.nodes[0],k,E,_=w.withChildren();for(_.forEach(function(N){v.push(N),x.add(N)});v.length!==0;){w=v.shift(),k=w.getEdges();for(var S=k.length,R=0;R<S;R++){var C=k[R];if(E=C.getOtherEndInGraph(w,this),E!=null&&!x.has(E)){var L=E.withChildren();L.forEach(function(N){v.push(N),x.add(N)})}}}if(this.isConnected=!1,x.size>=this.nodes.length){var A=0;x.forEach(function(N){N.owner==y&&A++}),A==this.nodes.length&&(this.isConnected=!0)}},r.exports=g},function(r,n,i){var a,s=i(1);function o(l){a=i(6),this.layout=l,this.graphs=[],this.edges=[]}o.prototype.addRoot=function(){var l=this.layout.newGraph(),u=this.layout.newNode(null),h=this.add(l,u);return this.setRootGraph(h),this.rootGraph},o.prototype.add=function(l,u,h,d,p){if(h==null&&d==null&&p==null){if(l==null)throw"Graph is null!";if(u==null)throw"Parent node is null!";if(this.graphs.indexOf(l)>-1)throw"Graph already in this graph mgr!";if(this.graphs.push(l),l.parent!=null)throw"Already has a parent!";if(u.child!=null)throw"Already has a child!";return l.parent=u,u.child=l,l}else{p=h,d=u,h=l;var f=d.getOwner(),g=p.getOwner();if(!(f!=null&&f.getGraphManager()==this))throw"Source not in this graph mgr!";if(!(g!=null&&g.getGraphManager()==this))throw"Target not in this graph mgr!";if(f==g)return h.isInterGraph=!1,f.add(h,d,p);if(h.isInterGraph=!0,h.source=d,h.target=p,this.edges.indexOf(h)>-1)throw"Edge already in inter-graph edge list!";if(this.edges.push(h),!(h.source!=null&&h.target!=null))throw"Edge source and/or target is null!";if(!(h.source.edges.indexOf(h)==-1&&h.target.edges.indexOf(h)==-1))throw"Edge already in source and/or target incidency list!";return h.source.edges.push(h),h.target.edges.push(h),h}},o.prototype.remove=function(l){if(l instanceof a){var u=l;if(u.getGraphManager()!=this)throw"Graph not in this graph mgr";if(!(u==this.rootGraph||u.parent!=null&&u.parent.graphManager==this))throw"Invalid parent node!";var h=[];h=h.concat(u.getEdges());for(var d,p=h.length,f=0;f<p;f++)d=h[f],u.remove(d);var g=[];g=g.concat(u.getNodes());var m;p=g.length;for(var f=0;f<p;f++)m=g[f],u.remove(m);u==this.rootGraph&&this.setRootGraph(null);var y=this.graphs.indexOf(u);this.graphs.splice(y,1),u.parent=null}else if(l instanceof s){if(d=l,d==null)throw"Edge is null!";if(!d.isInterGraph)throw"Not an inter-graph edge!";if(!(d.source!=null&&d.target!=null))throw"Source and/or target is null!";if(!(d.source.edges.indexOf(d)!=-1&&d.target.edges.indexOf(d)!=-1))throw"Source and/or target doesn't know this edge!";var y=d.source.edges.indexOf(d);if(d.source.edges.splice(y,1),y=d.target.edges.indexOf(d),d.target.edges.splice(y,1),!(d.source.owner!=null&&d.source.owner.getGraphManager()!=null))throw"Edge owner graph or owner graph manager is null!";if(d.source.owner.getGraphManager().edges.indexOf(d)==-1)throw"Not in owner graph manager's edge list!";var y=d.source.owner.getGraphManager().edges.indexOf(d);d.source.owner.getGraphManager().edges.splice(y,1)}},o.prototype.updateBounds=function(){this.rootGraph.updateBounds(!0)},o.prototype.getGraphs=function(){return this.graphs},o.prototype.getAllNodes=function(){if(this.allNodes==null){for(var l=[],u=this.getGraphs(),h=u.length,d=0;d<h;d++)l=l.concat(u[d].getNodes());this.allNodes=l}return this.allNodes},o.prototype.resetAllNodes=function(){this.allNodes=null},o.prototype.resetAllEdges=function(){this.allEdges=null},o.prototype.resetAllNodesToApplyGravitation=function(){this.allNodesToApplyGravitation=null},o.prototype.getAllEdges=function(){if(this.allEdges==null){var l=[],u=this.getGraphs();u.length;for(var h=0;h<u.length;h++)l=l.concat(u[h].getEdges());l=l.concat(this.edges),this.allEdges=l}return this.allEdges},o.prototype.getAllNodesToApplyGravitation=function(){return this.allNodesToApplyGravitation},o.prototype.setAllNodesToApplyGravitation=function(l){if(this.allNodesToApplyGravitation!=null)throw"assert failed";this.allNodesToApplyGravitation=l},o.prototype.getRoot=function(){return this.rootGraph},o.prototype.setRootGraph=function(l){if(l.getGraphManager()!=this)throw"Root not in this graph mgr!";this.rootGraph=l,l.parent==null&&(l.parent=this.layout.newNode("Root node"))},o.prototype.getLayout=function(){return this.layout},o.prototype.isOneAncestorOfOther=function(l,u){if(!(l!=null&&u!=null))throw"assert failed";if(l==u)return!0;var h=l.getOwner(),d;do{if(d=h.getParent(),d==null)break;if(d==u)return!0;if(h=d.getOwner(),h==null)break}while(!0);h=u.getOwner();do{if(d=h.getParent(),d==null)break;if(d==l)return!0;if(h=d.getOwner(),h==null)break}while(!0);return!1},o.prototype.calcLowestCommonAncestors=function(){for(var l,u,h,d,p,f=this.getAllEdges(),g=f.length,m=0;m<g;m++){if(l=f[m],u=l.source,h=l.target,l.lca=null,l.sourceInLca=u,l.targetInLca=h,u==h){l.lca=u.getOwner();continue}for(d=u.getOwner();l.lca==null;){for(l.targetInLca=h,p=h.getOwner();l.lca==null;){if(p==d){l.lca=p;break}if(p==this.rootGraph)break;if(l.lca!=null)throw"assert failed";l.targetInLca=p.getParent(),p=l.targetInLca.getOwner()}if(d==this.rootGraph)break;l.lca==null&&(l.sourceInLca=d.getParent(),d=l.sourceInLca.getOwner())}if(l.lca==null)throw"assert failed"}},o.prototype.calcLowestCommonAncestor=function(l,u){if(l==u)return l.getOwner();var h=l.getOwner();do{if(h==null)break;var d=u.getOwner();do{if(d==null)break;if(d==h)return d;d=d.getParent().getOwner()}while(!0);h=h.getParent().getOwner()}while(!0);return h},o.prototype.calcInclusionTreeDepths=function(l,u){l==null&&u==null&&(l=this.rootGraph,u=1);for(var h,d=l.getNodes(),p=d.length,f=0;f<p;f++)h=d[f],h.inclusionTreeDepth=u,h.child!=null&&this.calcInclusionTreeDepths(h.child,u+1)},o.prototype.includesInvalidEdge=function(){for(var l,u=[],h=this.edges.length,d=0;d<h;d++)l=this.edges[d],this.isOneAncestorOfOther(l.source,l.target)&&u.push(l);for(var d=0;d<u.length;d++)this.remove(u[d]);return!1},r.exports=o},function(r,n,i){var a=i(12);function s(){}s.calcSeparationAmount=function(o,l,u,h){if(!o.intersects(l))throw"assert failed";var d=new Array(2);this.decideDirectionsForOverlappingNodes(o,l,d),u[0]=Math.min(o.getRight(),l.getRight())-Math.max(o.x,l.x),u[1]=Math.min(o.getBottom(),l.getBottom())-Math.max(o.y,l.y),o.getX()<=l.getX()&&o.getRight()>=l.getRight()?u[0]+=Math.min(l.getX()-o.getX(),o.getRight()-l.getRight()):l.getX()<=o.getX()&&l.getRight()>=o.getRight()&&(u[0]+=Math.min(o.getX()-l.getX(),l.getRight()-o.getRight())),o.getY()<=l.getY()&&o.getBottom()>=l.getBottom()?u[1]+=Math.min(l.getY()-o.getY(),o.getBottom()-l.getBottom()):l.getY()<=o.getY()&&l.getBottom()>=o.getBottom()&&(u[1]+=Math.min(o.getY()-l.getY(),l.getBottom()-o.getBottom()));var p=Math.abs((l.getCenterY()-o.getCenterY())/(l.getCenterX()-o.getCenterX()));l.getCenterY()===o.getCenterY()&&l.getCenterX()===o.getCenterX()&&(p=1);var f=p*u[0],g=u[1]/p;u[0]<g?g=u[0]:f=u[1],u[0]=-1*d[0]*(g/2+h),u[1]=-1*d[1]*(f/2+h)},s.decideDirectionsForOverlappingNodes=function(o,l,u){o.getCenterX()<l.getCenterX()?u[0]=-1:u[0]=1,o.getCenterY()<l.getCenterY()?u[1]=-1:u[1]=1},s.getIntersection2=function(o,l,u){var h=o.getCenterX(),d=o.getCenterY(),p=l.getCenterX(),f=l.getCenterY();if(o.intersects(l))return u[0]=h,u[1]=d,u[2]=p,u[3]=f,!0;var g=o.getX(),m=o.getY(),y=o.getRight(),v=o.getX(),x=o.getBottom(),w=o.getRight(),k=o.getWidthHalf(),E=o.getHeightHalf(),_=l.getX(),S=l.getY(),R=l.getRight(),C=l.getX(),L=l.getBottom(),A=l.getRight(),N=l.getWidthHalf(),F=l.getHeightHalf(),T=!1,D=!1;if(h===p){if(d>f)return u[0]=h,u[1]=m,u[2]=p,u[3]=L,!1;if(d<f)return u[0]=h,u[1]=x,u[2]=p,u[3]=S,!1}else if(d===f){if(h>p)return u[0]=g,u[1]=d,u[2]=R,u[3]=f,!1;if(h<p)return u[0]=y,u[1]=d,u[2]=_,u[3]=f,!1}else{var M=o.height/o.width,O=l.height/l.width,I=(f-d)/(p-h),P=void 0,B=void 0,$=void 0,V=void 0,W=void 0,K=void 0;if(-M===I?h>p?(u[0]=v,u[1]=x,T=!0):(u[0]=y,u[1]=m,T=!0):M===I&&(h>p?(u[0]=g,u[1]=m,T=!0):(u[0]=w,u[1]=x,T=!0)),-O===I?p>h?(u[2]=C,u[3]=L,D=!0):(u[2]=R,u[3]=S,D=!0):O===I&&(p>h?(u[2]=_,u[3]=S,D=!0):(u[2]=A,u[3]=L,D=!0)),T&&D)return!1;if(h>p?d>f?(P=this.getCardinalDirection(M,I,4),B=this.getCardinalDirection(O,I,2)):(P=this.getCardinalDirection(-M,I,3),B=this.getCardinalDirection(-O,I,1)):d>f?(P=this.getCardinalDirection(-M,I,1),B=this.getCardinalDirection(-O,I,3)):(P=this.getCardinalDirection(M,I,2),B=this.getCardinalDirection(O,I,4)),!T)switch(P){case 1:V=m,$=h+-E/I,u[0]=$,u[1]=V;break;case 2:$=w,V=d+k*I,u[0]=$,u[1]=V;break;case 3:V=x,$=h+E/I,u[0]=$,u[1]=V;break;case 4:$=v,V=d+-k*I,u[0]=$,u[1]=V;break}if(!D)switch(B){case 1:K=S,W=p+-F/I,u[2]=W,u[3]=K;break;case 2:W=A,K=f+N*I,u[2]=W,u[3]=K;break;case 3:K=L,W=p+F/I,u[2]=W,u[3]=K;break;case 4:W=C,K=f+-N*I,u[2]=W,u[3]=K;break}}return!1},s.getCardinalDirection=function(o,l,u){return o>l?u:1+u%4},s.getIntersection=function(o,l,u,h){if(h==null)return this.getIntersection2(o,l,u);var d=o.x,p=o.y,f=l.x,g=l.y,m=u.x,y=u.y,v=h.x,x=h.y,w=void 0,k=void 0,E=void 0,_=void 0,S=void 0,R=void 0,C=void 0,L=void 0,A=void 0;return E=g-p,S=d-f,C=f*p-d*g,_=x-y,R=m-v,L=v*y-m*x,A=E*R-_*S,A===0?null:(w=(S*L-R*C)/A,k=(_*C-E*L)/A,new a(w,k))},s.angleOfVector=function(o,l,u,h){var d=void 0;return o!==u?(d=Math.atan((h-l)/(u-o)),u<o?d+=Math.PI:h<l&&(d+=this.TWO_PI)):h<l?d=this.ONE_AND_HALF_PI:d=this.HALF_PI,d},s.doIntersect=function(o,l,u,h){var d=o.x,p=o.y,f=l.x,g=l.y,m=u.x,y=u.y,v=h.x,x=h.y,w=(f-d)*(x-y)-(v-m)*(g-p);if(w===0)return!1;var k=((x-y)*(v-d)+(m-v)*(x-p))/w,E=((p-g)*(v-d)+(f-d)*(x-p))/w;return 0<k&&k<1&&0<E&&E<1},s.findCircleLineIntersections=function(o,l,u,h,d,p,f){var g=(u-o)*(u-o)+(h-l)*(h-l),m=2*((o-d)*(u-o)+(l-p)*(h-l)),y=(o-d)*(o-d)+(l-p)*(l-p)-f*f,v=m*m-4*g*y;if(v>=0){var x=(-m+Math.sqrt(m*m-4*g*y))/(2*g),w=(-m-Math.sqrt(m*m-4*g*y))/(2*g),k=null;return x>=0&&x<=1?[x]:w>=0&&w<=1?[w]:k}else return null},s.HALF_PI=.5*Math.PI,s.ONE_AND_HALF_PI=1.5*Math.PI,s.TWO_PI=2*Math.PI,s.THREE_PI=3*Math.PI,r.exports=s},function(r,n,i){function a(){}a.sign=function(s){return s>0?1:s<0?-1:0},a.floor=function(s){return s<0?Math.ceil(s):Math.floor(s)},a.ceil=function(s){return s<0?Math.floor(s):Math.ceil(s)},r.exports=a},function(r,n,i){function a(){}a.MAX_VALUE=2147483647,a.MIN_VALUE=-2147483648,r.exports=a},function(r,n,i){var a=function(){function d(p,f){for(var g=0;g<f.length;g++){var m=f[g];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(p,m.key,m)}}return function(p,f,g){return f&&d(p.prototype,f),g&&d(p,g),p}}();function s(d,p){if(!(d instanceof p))throw new TypeError("Cannot call a class as a function")}var o=function(p){return{value:p,next:null,prev:null}},l=function(p,f,g,m){return p!==null?p.next=f:m.head=f,g!==null?g.prev=f:m.tail=f,f.prev=p,f.next=g,m.length++,f},u=function(p,f){var g=p.prev,m=p.next;return g!==null?g.next=m:f.head=m,m!==null?m.prev=g:f.tail=g,p.prev=p.next=null,f.length--,p},h=function(){function d(p){var f=this;s(this,d),this.length=0,this.head=null,this.tail=null,p!=null&&p.forEach(function(g){return f.push(g)})}return a(d,[{key:"size",value:function(){return this.length}},{key:"insertBefore",value:function(f,g){return l(g.prev,o(f),g,this)}},{key:"insertAfter",value:function(f,g){return l(g,o(f),g.next,this)}},{key:"insertNodeBefore",value:function(f,g){return l(g.prev,f,g,this)}},{key:"insertNodeAfter",value:function(f,g){return l(g,f,g.next,this)}},{key:"push",value:function(f){return l(this.tail,o(f),null,this)}},{key:"unshift",value:function(f){return l(null,o(f),this.head,this)}},{key:"remove",value:function(f){return u(f,this)}},{key:"pop",value:function(){return u(this.tail,this).value}},{key:"popNode",value:function(){return u(this.tail,this)}},{key:"shift",value:function(){return u(this.head,this).value}},{key:"shiftNode",value:function(){return u(this.head,this)}},{key:"get_object_at",value:function(f){if(f<=this.length()){for(var g=1,m=this.head;g<f;)m=m.next,g++;return m.value}}},{key:"set_object_at",value:function(f,g){if(f<=this.length()){for(var m=1,y=this.head;m<f;)y=y.next,m++;y.value=g}}}]),d}();r.exports=h},function(r,n,i){function a(s,o,l){this.x=null,this.y=null,s==null&&o==null&&l==null?(this.x=0,this.y=0):typeof s=="number"&&typeof o=="number"&&l==null?(this.x=s,this.y=o):s.constructor.name=="Point"&&o==null&&l==null&&(l=s,this.x=l.x,this.y=l.y)}a.prototype.getX=function(){return this.x},a.prototype.getY=function(){return this.y},a.prototype.getLocation=function(){return new a(this.x,this.y)},a.prototype.setLocation=function(s,o,l){s.constructor.name=="Point"&&o==null&&l==null?(l=s,this.setLocation(l.x,l.y)):typeof s=="number"&&typeof o=="number"&&l==null&&(parseInt(s)==s&&parseInt(o)==o?this.move(s,o):(this.x=Math.floor(s+.5),this.y=Math.floor(o+.5)))},a.prototype.move=function(s,o){this.x=s,this.y=o},a.prototype.translate=function(s,o){this.x+=s,this.y+=o},a.prototype.equals=function(s){if(s.constructor.name=="Point"){var o=s;return this.x==o.x&&this.y==o.y}return this==s},a.prototype.toString=function(){return new a().constructor.name+"[x="+this.x+",y="+this.y+"]"},r.exports=a},function(r,n,i){function a(s,o,l,u){this.x=0,this.y=0,this.width=0,this.height=0,s!=null&&o!=null&&l!=null&&u!=null&&(this.x=s,this.y=o,this.width=l,this.height=u)}a.prototype.getX=function(){return this.x},a.prototype.setX=function(s){this.x=s},a.prototype.getY=function(){return this.y},a.prototype.setY=function(s){this.y=s},a.prototype.getWidth=function(){return this.width},a.prototype.setWidth=function(s){this.width=s},a.prototype.getHeight=function(){return this.height},a.prototype.setHeight=function(s){this.height=s},a.prototype.getRight=function(){return this.x+this.width},a.prototype.getBottom=function(){return this.y+this.height},a.prototype.intersects=function(s){return!(this.getRight()<s.x||this.getBottom()<s.y||s.getRight()<this.x||s.getBottom()<this.y)},a.prototype.getCenterX=function(){return this.x+this.width/2},a.prototype.getMinX=function(){return this.getX()},a.prototype.getMaxX=function(){return this.getX()+this.width},a.prototype.getCenterY=function(){return this.y+this.height/2},a.prototype.getMinY=function(){return this.getY()},a.prototype.getMaxY=function(){return this.getY()+this.height},a.prototype.getWidthHalf=function(){return this.width/2},a.prototype.getHeightHalf=function(){return this.height/2},r.exports=a},function(r,n,i){var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o};function s(){}s.lastID=0,s.createID=function(o){return s.isPrimitive(o)?o:(o.uniqueID!=null||(o.uniqueID=s.getString(),s.lastID++),o.uniqueID)},s.getString=function(o){return o==null&&(o=s.lastID),"Object#"+o},s.isPrimitive=function(o){var l=typeof o>"u"?"undefined":a(o);return o==null||l!="object"&&l!="function"},r.exports=s},function(r,n,i){function a(m){if(Array.isArray(m)){for(var y=0,v=Array(m.length);y<m.length;y++)v[y]=m[y];return v}else return Array.from(m)}var s=i(0),o=i(7),l=i(3),u=i(1),h=i(6),d=i(5),p=i(17),f=i(29);function g(m){f.call(this),this.layoutQuality=s.QUALITY,this.createBendsAsNeeded=s.DEFAULT_CREATE_BENDS_AS_NEEDED,this.incremental=s.DEFAULT_INCREMENTAL,this.animationOnLayout=s.DEFAULT_ANIMATION_ON_LAYOUT,this.animationDuringLayout=s.DEFAULT_ANIMATION_DURING_LAYOUT,this.animationPeriod=s.DEFAULT_ANIMATION_PERIOD,this.uniformLeafNodeSizes=s.DEFAULT_UNIFORM_LEAF_NODE_SIZES,this.edgeToDummyNodes=new Map,this.graphManager=new o(this),this.isLayoutFinished=!1,this.isSubLayout=!1,this.isRemoteUse=!1,m!=null&&(this.isRemoteUse=m)}g.RANDOM_SEED=1,g.prototype=Object.create(f.prototype),g.prototype.getGraphManager=function(){return this.graphManager},g.prototype.getAllNodes=function(){return this.graphManager.getAllNodes()},g.prototype.getAllEdges=function(){return this.graphManager.getAllEdges()},g.prototype.getAllNodesToApplyGravitation=function(){return this.graphManager.getAllNodesToApplyGravitation()},g.prototype.newGraphManager=function(){var m=new o(this);return this.graphManager=m,m},g.prototype.newGraph=function(m){return new h(null,this.graphManager,m)},g.prototype.newNode=function(m){return new l(this.graphManager,m)},g.prototype.newEdge=function(m){return new u(null,null,m)},g.prototype.checkLayoutSuccess=function(){return this.graphManager.getRoot()==null||this.graphManager.getRoot().getNodes().length==0||this.graphManager.includesInvalidEdge()},g.prototype.runLayout=function(){this.isLayoutFinished=!1,this.tilingPreLayout&&this.tilingPreLayout(),this.initParameters();var m;return this.checkLayoutSuccess()?m=!1:m=this.layout(),s.ANIMATE==="during"?!1:(m&&(this.isSubLayout||this.doPostLayout()),this.tilingPostLayout&&this.tilingPostLayout(),this.isLayoutFinished=!0,m)},g.prototype.doPostLayout=function(){this.incremental||this.transform(),this.update()},g.prototype.update2=function(){if(this.createBendsAsNeeded&&(this.createBendpointsFromDummyNodes(),this.graphManager.resetAllEdges()),!this.isRemoteUse){for(var m=this.graphManager.getAllEdges(),y=0;y<m.length;y++)m[y];for(var v=this.graphManager.getRoot().getNodes(),y=0;y<v.length;y++)v[y];this.update(this.graphManager.getRoot())}},g.prototype.update=function(m){if(m==null)this.update2();else if(m instanceof l){var y=m;if(y.getChild()!=null)for(var v=y.getChild().getNodes(),x=0;x<v.length;x++)update(v[x]);if(y.vGraphObject!=null){var w=y.vGraphObject;w.update(y)}}else if(m instanceof u){var k=m;if(k.vGraphObject!=null){var E=k.vGraphObject;E.update(k)}}else if(m instanceof h){var _=m;if(_.vGraphObject!=null){var S=_.vGraphObject;S.update(_)}}},g.prototype.initParameters=function(){this.isSubLayout||(this.layoutQuality=s.QUALITY,this.animationDuringLayout=s.DEFAULT_ANIMATION_DURING_LAYOUT,this.animationPeriod=s.DEFAULT_ANIMATION_PERIOD,this.animationOnLayout=s.DEFAULT_ANIMATION_ON_LAYOUT,this.incremental=s.DEFAULT_INCREMENTAL,this.createBendsAsNeeded=s.DEFAULT_CREATE_BENDS_AS_NEEDED,this.uniformLeafNodeSizes=s.DEFAULT_UNIFORM_LEAF_NODE_SIZES),this.animationDuringLayout&&(this.animationOnLayout=!1)},g.prototype.transform=function(m){if(m==null)this.transform(new d(0,0));else{var y=new p,v=this.graphManager.getRoot().updateLeftTop();if(v!=null){y.setWorldOrgX(m.x),y.setWorldOrgY(m.y),y.setDeviceOrgX(v.x),y.setDeviceOrgY(v.y);for(var x=this.getAllNodes(),w,k=0;k<x.length;k++)w=x[k],w.transform(y)}}},g.prototype.positionNodesRandomly=function(m){if(m==null)this.positionNodesRandomly(this.getGraphManager().getRoot()),this.getGraphManager().getRoot().updateBounds(!0);else for(var y,v,x=m.getNodes(),w=0;w<x.length;w++)y=x[w],v=y.getChild(),v==null||v.getNodes().length==0?y.scatter():(this.positionNodesRandomly(v),y.updateBounds())},g.prototype.getFlatForest=function(){for(var m=[],y=!0,v=this.graphManager.getRoot().getNodes(),x=!0,w=0;w<v.length;w++)v[w].getChild()!=null&&(x=!1);if(!x)return m;var k=new Set,E=[],_=new Map,S=[];for(S=S.concat(v);S.length>0&&y;){for(E.push(S[0]);E.length>0&&y;){var R=E[0];E.splice(0,1),k.add(R);for(var C=R.getEdges(),w=0;w<C.length;w++){var L=C[w].getOtherEnd(R);if(_.get(R)!=L)if(!k.has(L))E.push(L),_.set(L,R);else{y=!1;break}}}if(!y)m=[];else{var A=[].concat(a(k));m.push(A);for(var w=0;w<A.length;w++){var N=A[w],F=S.indexOf(N);F>-1&&S.splice(F,1)}k=new Set,_=new Map}}return m},g.prototype.createDummyNodesForBendpoints=function(m){for(var y=[],v=m.source,x=this.graphManager.calcLowestCommonAncestor(m.source,m.target),w=0;w<m.bendpoints.length;w++){var k=this.newNode(null);k.setRect(new Point(0,0),new Dimension(1,1)),x.add(k);var E=this.newEdge(null);this.graphManager.add(E,v,k),y.add(k),v=k}var E=this.newEdge(null);return this.graphManager.add(E,v,m.target),this.edgeToDummyNodes.set(m,y),m.isInterGraph()?this.graphManager.remove(m):x.remove(m),y},g.prototype.createBendpointsFromDummyNodes=function(){var m=[];m=m.concat(this.graphManager.getAllEdges()),m=[].concat(a(this.edgeToDummyNodes.keys())).concat(m);for(var y=0;y<m.length;y++){var v=m[y];if(v.bendpoints.length>0){for(var x=this.edgeToDummyNodes.get(v),w=0;w<x.length;w++){var k=x[w],E=new d(k.getCenterX(),k.getCenterY()),_=v.bendpoints.get(w);_.x=E.x,_.y=E.y,k.getOwner().remove(k)}this.graphManager.add(v,v.source,v.target)}}},g.transform=function(m,y,v,x){if(v!=null&&x!=null){var w=y;if(m<=50){var k=y/v;w-=(y-k)/50*(50-m)}else{var E=y*x;w+=(E-y)/50*(m-50)}return w}else{var _,S;return m<=50?(_=9*y/500,S=y/10):(_=9*y/50,S=-8*y),_*m+S}},g.findCenterOfTree=function(m){var y=[];y=y.concat(m);var v=[],x=new Map,w=!1,k=null;(y.length==1||y.length==2)&&(w=!0,k=y[0]);for(var E=0;E<y.length;E++){var _=y[E],S=_.getNeighborsList().size;x.set(_,_.getNeighborsList().size),S==1&&v.push(_)}var R=[];for(R=R.concat(v);!w;){var C=[];C=C.concat(R),R=[];for(var E=0;E<y.length;E++){var _=y[E],L=y.indexOf(_);L>=0&&y.splice(L,1);var A=_.getNeighborsList();A.forEach(function(T){if(v.indexOf(T)<0){var D=x.get(T),M=D-1;M==1&&R.push(T),x.set(T,M)}})}v=v.concat(R),(y.length==1||y.length==2)&&(w=!0,k=y[0])}return k},g.prototype.setGraphManager=function(m){this.graphManager=m},r.exports=g},function(r,n,i){function a(){}a.seed=1,a.x=0,a.nextDouble=function(){return a.x=Math.sin(a.seed++)*1e4,a.x-Math.floor(a.x)},r.exports=a},function(r,n,i){var a=i(5);function s(o,l){this.lworldOrgX=0,this.lworldOrgY=0,this.ldeviceOrgX=0,this.ldeviceOrgY=0,this.lworldExtX=1,this.lworldExtY=1,this.ldeviceExtX=1,this.ldeviceExtY=1}s.prototype.getWorldOrgX=function(){return this.lworldOrgX},s.prototype.setWorldOrgX=function(o){this.lworldOrgX=o},s.prototype.getWorldOrgY=function(){return this.lworldOrgY},s.prototype.setWorldOrgY=function(o){this.lworldOrgY=o},s.prototype.getWorldExtX=function(){return this.lworldExtX},s.prototype.setWorldExtX=function(o){this.lworldExtX=o},s.prototype.getWorldExtY=function(){return this.lworldExtY},s.prototype.setWorldExtY=function(o){this.lworldExtY=o},s.prototype.getDeviceOrgX=function(){return this.ldeviceOrgX},s.prototype.setDeviceOrgX=function(o){this.ldeviceOrgX=o},s.prototype.getDeviceOrgY=function(){return this.ldeviceOrgY},s.prototype.setDeviceOrgY=function(o){this.ldeviceOrgY=o},s.prototype.getDeviceExtX=function(){return this.ldeviceExtX},s.prototype.setDeviceExtX=function(o){this.ldeviceExtX=o},s.prototype.getDeviceExtY=function(){return this.ldeviceExtY},s.prototype.setDeviceExtY=function(o){this.ldeviceExtY=o},s.prototype.transformX=function(o){var l=0,u=this.lworldExtX;return u!=0&&(l=this.ldeviceOrgX+(o-this.lworldOrgX)*this.ldeviceExtX/u),l},s.prototype.transformY=function(o){var l=0,u=this.lworldExtY;return u!=0&&(l=this.ldeviceOrgY+(o-this.lworldOrgY)*this.ldeviceExtY/u),l},s.prototype.inverseTransformX=function(o){var l=0,u=this.ldeviceExtX;return u!=0&&(l=this.lworldOrgX+(o-this.ldeviceOrgX)*this.lworldExtX/u),l},s.prototype.inverseTransformY=function(o){var l=0,u=this.ldeviceExtY;return u!=0&&(l=this.lworldOrgY+(o-this.ldeviceOrgY)*this.lworldExtY/u),l},s.prototype.inverseTransformPoint=function(o){var l=new a(this.inverseTransformX(o.x),this.inverseTransformY(o.y));return l},r.exports=s},function(r,n,i){function a(f){if(Array.isArray(f)){for(var g=0,m=Array(f.length);g<f.length;g++)m[g]=f[g];return m}else return Array.from(f)}var s=i(15),o=i(4),l=i(0),u=i(8),h=i(9);function d(){s.call(this),this.useSmartIdealEdgeLengthCalculation=o.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION,this.gravityConstant=o.DEFAULT_GRAVITY_STRENGTH,this.compoundGravityConstant=o.DEFAULT_COMPOUND_GRAVITY_STRENGTH,this.gravityRangeFactor=o.DEFAULT_GRAVITY_RANGE_FACTOR,this.compoundGravityRangeFactor=o.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR,this.displacementThresholdPerNode=3*o.DEFAULT_EDGE_LENGTH/100,this.coolingFactor=o.DEFAULT_COOLING_FACTOR_INCREMENTAL,this.initialCoolingFactor=o.DEFAULT_COOLING_FACTOR_INCREMENTAL,this.totalDisplacement=0,this.oldTotalDisplacement=0,this.maxIterations=o.MAX_ITERATIONS}d.prototype=Object.create(s.prototype);for(var p in s)d[p]=s[p];d.prototype.initParameters=function(){s.prototype.initParameters.call(this,arguments),this.totalIterations=0,this.notAnimatedIterations=0,this.useFRGridVariant=o.DEFAULT_USE_SMART_REPULSION_RANGE_CALCULATION,this.grid=[]},d.prototype.calcIdealEdgeLengths=function(){for(var f,g,m,y,v,x,w,k=this.getGraphManager().getAllEdges(),E=0;E<k.length;E++)f=k[E],g=f.idealLength,f.isInterGraph&&(y=f.getSource(),v=f.getTarget(),x=f.getSourceInLca().getEstimatedSize(),w=f.getTargetInLca().getEstimatedSize(),this.useSmartIdealEdgeLengthCalculation&&(f.idealLength+=x+w-2*l.SIMPLE_NODE_SIZE),m=f.getLca().getInclusionTreeDepth(),f.idealLength+=g*o.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR*(y.getInclusionTreeDepth()+v.getInclusionTreeDepth()-2*m))},d.prototype.initSpringEmbedder=function(){var f=this.getAllNodes().length;this.incremental?(f>o.ADAPTATION_LOWER_NODE_LIMIT&&(this.coolingFactor=Math.max(this.coolingFactor*o.COOLING_ADAPTATION_FACTOR,this.coolingFactor-(f-o.ADAPTATION_LOWER_NODE_LIMIT)/(o.ADAPTATION_UPPER_NODE_LIMIT-o.ADAPTATION_LOWER_NODE_LIMIT)*this.coolingFactor*(1-o.COOLING_ADAPTATION_FACTOR))),this.maxNodeDisplacement=o.MAX_NODE_DISPLACEMENT_INCREMENTAL):(f>o.ADAPTATION_LOWER_NODE_LIMIT?this.coolingFactor=Math.max(o.COOLING_ADAPTATION_FACTOR,1-(f-o.ADAPTATION_LOWER_NODE_LIMIT)/(o.ADAPTATION_UPPER_NODE_LIMIT-o.ADAPTATION_LOWER_NODE_LIMIT)*(1-o.COOLING_ADAPTATION_FACTOR)):this.coolingFactor=1,this.initialCoolingFactor=this.coolingFactor,this.maxNodeDisplacement=o.MAX_NODE_DISPLACEMENT),this.maxIterations=Math.max(this.getAllNodes().length*5,this.maxIterations),this.displacementThresholdPerNode=3*o.DEFAULT_EDGE_LENGTH/100,this.totalDisplacementThreshold=this.displacementThresholdPerNode*this.getAllNodes().length,this.repulsionRange=this.calcRepulsionRange()},d.prototype.calcSpringForces=function(){for(var f=this.getAllEdges(),g,m=0;m<f.length;m++)g=f[m],this.calcSpringForce(g,g.idealLength)},d.prototype.calcRepulsionForces=function(){var f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,m,y,v,x,w=this.getAllNodes(),k;if(this.useFRGridVariant)for(this.totalIterations%o.GRID_CALCULATION_CHECK_PERIOD==1&&f&&this.updateGrid(),k=new Set,m=0;m<w.length;m++)v=w[m],this.calculateRepulsionForceOfANode(v,k,f,g),k.add(v);else for(m=0;m<w.length;m++)for(v=w[m],y=m+1;y<w.length;y++)x=w[y],v.getOwner()==x.getOwner()&&this.calcRepulsionForce(v,x)},d.prototype.calcGravitationalForces=function(){for(var f,g=this.getAllNodesToApplyGravitation(),m=0;m<g.length;m++)f=g[m],this.calcGravitationalForce(f)},d.prototype.moveNodes=function(){for(var f=this.getAllNodes(),g,m=0;m<f.length;m++)g=f[m],g.move()},d.prototype.calcSpringForce=function(f,g){var m=f.getSource(),y=f.getTarget(),v,x,w,k;if(this.uniformLeafNodeSizes&&m.getChild()==null&&y.getChild()==null)f.updateLengthSimple();else if(f.updateLength(),f.isOverlapingSourceAndTarget)return;v=f.getLength(),v!=0&&(x=f.edgeElasticity*(v-g),w=x*(f.lengthX/v),k=x*(f.lengthY/v),m.springForceX+=w,m.springForceY+=k,y.springForceX-=w,y.springForceY-=k)},d.prototype.calcRepulsionForce=function(f,g){var m=f.getRect(),y=g.getRect(),v=new Array(2),x=new Array(4),w,k,E,_,S,R,C;if(m.intersects(y)){u.calcSeparationAmount(m,y,v,o.DEFAULT_EDGE_LENGTH/2),R=2*v[0],C=2*v[1];var L=f.noOfChildren*g.noOfChildren/(f.noOfChildren+g.noOfChildren);f.repulsionForceX-=L*R,f.repulsionForceY-=L*C,g.repulsionForceX+=L*R,g.repulsionForceY+=L*C}else this.uniformLeafNodeSizes&&f.getChild()==null&&g.getChild()==null?(w=y.getCenterX()-m.getCenterX(),k=y.getCenterY()-m.getCenterY()):(u.getIntersection(m,y,x),w=x[2]-x[0],k=x[3]-x[1]),Math.abs(w)<o.MIN_REPULSION_DIST&&(w=h.sign(w)*o.MIN_REPULSION_DIST),Math.abs(k)<o.MIN_REPULSION_DIST&&(k=h.sign(k)*o.MIN_REPULSION_DIST),E=w*w+k*k,_=Math.sqrt(E),S=(f.nodeRepulsion/2+g.nodeRepulsion/2)*f.noOfChildren*g.noOfChildren/E,R=S*w/_,C=S*k/_,f.repulsionForceX-=R,f.repulsionForceY-=C,g.repulsionForceX+=R,g.repulsionForceY+=C},d.prototype.calcGravitationalForce=function(f){var g,m,y,v,x,w,k,E;g=f.getOwner(),m=(g.getRight()+g.getLeft())/2,y=(g.getTop()+g.getBottom())/2,v=f.getCenterX()-m,x=f.getCenterY()-y,w=Math.abs(v)+f.getWidth()/2,k=Math.abs(x)+f.getHeight()/2,f.getOwner()==this.graphManager.getRoot()?(E=g.getEstimatedSize()*this.gravityRangeFactor,(w>E||k>E)&&(f.gravitationForceX=-this.gravityConstant*v,f.gravitationForceY=-this.gravityConstant*x)):(E=g.getEstimatedSize()*this.compoundGravityRangeFactor,(w>E||k>E)&&(f.gravitationForceX=-this.gravityConstant*v*this.compoundGravityConstant,f.gravitationForceY=-this.gravityConstant*x*this.compoundGravityConstant))},d.prototype.isConverged=function(){var f,g=!1;return this.totalIterations>this.maxIterations/3&&(g=Math.abs(this.totalDisplacement-this.oldTotalDisplacement)<2),f=this.totalDisplacement<this.totalDisplacementThreshold,this.oldTotalDisplacement=this.totalDisplacement,f||g},d.prototype.animate=function(){this.animationDuringLayout&&!this.isSubLayout&&(this.notAnimatedIterations==this.animationPeriod?(this.update(),this.notAnimatedIterations=0):this.notAnimatedIterations++)},d.prototype.calcNoOfChildrenForAllNodes=function(){for(var f,g=this.graphManager.getAllNodes(),m=0;m<g.length;m++)f=g[m],f.noOfChildren=f.getNoOfChildren()},d.prototype.calcGrid=function(f){var g=0,m=0;g=parseInt(Math.ceil((f.getRight()-f.getLeft())/this.repulsionRange)),m=parseInt(Math.ceil((f.getBottom()-f.getTop())/this.repulsionRange));for(var y=new Array(g),v=0;v<g;v++)y[v]=new Array(m);for(var v=0;v<g;v++)for(var x=0;x<m;x++)y[v][x]=new Array;return y},d.prototype.addNodeToGrid=function(f,g,m){var y=0,v=0,x=0,w=0;y=parseInt(Math.floor((f.getRect().x-g)/this.repulsionRange)),v=parseInt(Math.floor((f.getRect().width+f.getRect().x-g)/this.repulsionRange)),x=parseInt(Math.floor((f.getRect().y-m)/this.repulsionRange)),w=parseInt(Math.floor((f.getRect().height+f.getRect().y-m)/this.repulsionRange));for(var k=y;k<=v;k++)for(var E=x;E<=w;E++)this.grid[k][E].push(f),f.setGridCoordinates(y,v,x,w)},d.prototype.updateGrid=function(){var f,g,m=this.getAllNodes();for(this.grid=this.calcGrid(this.graphManager.getRoot()),f=0;f<m.length;f++)g=m[f],this.addNodeToGrid(g,this.graphManager.getRoot().getLeft(),this.graphManager.getRoot().getTop())},d.prototype.calculateRepulsionForceOfANode=function(f,g,m,y){if(this.totalIterations%o.GRID_CALCULATION_CHECK_PERIOD==1&&m||y){var v=new Set;f.surrounding=new Array;for(var x,w=this.grid,k=f.startX-1;k<f.finishX+2;k++)for(var E=f.startY-1;E<f.finishY+2;E++)if(!(k<0||E<0||k>=w.length||E>=w[0].length)){for(var _=0;_<w[k][E].length;_++)if(x=w[k][E][_],!(f.getOwner()!=x.getOwner()||f==x)&&!g.has(x)&&!v.has(x)){var S=Math.abs(f.getCenterX()-x.getCenterX())-(f.getWidth()/2+x.getWidth()/2),R=Math.abs(f.getCenterY()-x.getCenterY())-(f.getHeight()/2+x.getHeight()/2);S<=this.repulsionRange&&R<=this.repulsionRange&&v.add(x)}}f.surrounding=[].concat(a(v))}for(k=0;k<f.surrounding.length;k++)this.calcRepulsionForce(f,f.surrounding[k])},d.prototype.calcRepulsionRange=function(){return 0},r.exports=d},function(r,n,i){var a=i(1),s=i(4);function o(u,h,d){a.call(this,u,h,d),this.idealLength=s.DEFAULT_EDGE_LENGTH,this.edgeElasticity=s.DEFAULT_SPRING_STRENGTH}o.prototype=Object.create(a.prototype);for(var l in a)o[l]=a[l];r.exports=o},function(r,n,i){var a=i(3),s=i(4);function o(u,h,d,p){a.call(this,u,h,d,p),this.nodeRepulsion=s.DEFAULT_REPULSION_STRENGTH,this.springForceX=0,this.springForceY=0,this.repulsionForceX=0,this.repulsionForceY=0,this.gravitationForceX=0,this.gravitationForceY=0,this.displacementX=0,this.displacementY=0,this.startX=0,this.finishX=0,this.startY=0,this.finishY=0,this.surrounding=[]}o.prototype=Object.create(a.prototype);for(var l in a)o[l]=a[l];o.prototype.setGridCoordinates=function(u,h,d,p){this.startX=u,this.finishX=h,this.startY=d,this.finishY=p},r.exports=o},function(r,n,i){function a(s,o){this.width=0,this.height=0,s!==null&&o!==null&&(this.height=o,this.width=s)}a.prototype.getWidth=function(){return this.width},a.prototype.setWidth=function(s){this.width=s},a.prototype.getHeight=function(){return this.height},a.prototype.setHeight=function(s){this.height=s},r.exports=a},function(r,n,i){var a=i(14);function s(){this.map={},this.keys=[]}s.prototype.put=function(o,l){var u=a.createID(o);this.contains(u)||(this.map[u]=l,this.keys.push(o))},s.prototype.contains=function(o){return a.createID(o),this.map[o]!=null},s.prototype.get=function(o){var l=a.createID(o);return this.map[l]},s.prototype.keySet=function(){return this.keys},r.exports=s},function(r,n,i){var a=i(14);function s(){this.set={}}s.prototype.add=function(o){var l=a.createID(o);this.contains(l)||(this.set[l]=o)},s.prototype.remove=function(o){delete this.set[a.createID(o)]},s.prototype.clear=function(){this.set={}},s.prototype.contains=function(o){return this.set[a.createID(o)]==o},s.prototype.isEmpty=function(){return this.size()===0},s.prototype.size=function(){return Object.keys(this.set).length},s.prototype.addAllTo=function(o){for(var l=Object.keys(this.set),u=l.length,h=0;h<u;h++)o.push(this.set[l[h]])},s.prototype.size=function(){return Object.keys(this.set).length},s.prototype.addAll=function(o){for(var l=o.length,u=0;u<l;u++){var h=o[u];this.add(h)}},r.exports=s},function(r,n,i){function a(){}a.multMat=function(s,o){for(var l=[],u=0;u<s.length;u++){l[u]=[];for(var h=0;h<o[0].length;h++){l[u][h]=0;for(var d=0;d<s[0].length;d++)l[u][h]+=s[u][d]*o[d][h]}}return l},a.transpose=function(s){for(var o=[],l=0;l<s[0].length;l++){o[l]=[];for(var u=0;u<s.length;u++)o[l][u]=s[u][l]}return o},a.multCons=function(s,o){for(var l=[],u=0;u<s.length;u++)l[u]=s[u]*o;return l},a.minusOp=function(s,o){for(var l=[],u=0;u<s.length;u++)l[u]=s[u]-o[u];return l},a.dotProduct=function(s,o){for(var l=0,u=0;u<s.length;u++)l+=s[u]*o[u];return l},a.mag=function(s){return Math.sqrt(this.dotProduct(s,s))},a.normalize=function(s){for(var o=[],l=this.mag(s),u=0;u<s.length;u++)o[u]=s[u]/l;return o},a.multGamma=function(s){for(var o=[],l=0,u=0;u<s.length;u++)l+=s[u];l*=-1/s.length;for(var h=0;h<s.length;h++)o[h]=l+s[h];return o},a.multL=function(s,o,l){for(var u=[],h=[],d=[],p=0;p<o[0].length;p++){for(var f=0,g=0;g<o.length;g++)f+=-.5*o[g][p]*s[g];h[p]=f}for(var m=0;m<l.length;m++){for(var y=0,v=0;v<l.length;v++)y+=l[m][v]*h[v];d[m]=y}for(var x=0;x<o.length;x++){for(var w=0,k=0;k<o[0].length;k++)w+=o[x][k]*d[k];u[x]=w}return u},r.exports=a},function(r,n,i){var a=function(){function u(h,d){for(var p=0;p<d.length;p++){var f=d[p];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(h,f.key,f)}}return function(h,d,p){return d&&u(h.prototype,d),p&&u(h,p),h}}();function s(u,h){if(!(u instanceof h))throw new TypeError("Cannot call a class as a function")}var o=i(11),l=function(){function u(h,d){s(this,u),(d!==null||d!==void 0)&&(this.compareFunction=this._defaultCompareFunction);var p=void 0;h instanceof o?p=h.size():p=h.length,this._quicksort(h,0,p-1)}return a(u,[{key:"_quicksort",value:function(d,p,f){if(p<f){var g=this._partition(d,p,f);this._quicksort(d,p,g),this._quicksort(d,g+1,f)}}},{key:"_partition",value:function(d,p,f){for(var g=this._get(d,p),m=p,y=f;;){for(;this.compareFunction(g,this._get(d,y));)y--;for(;this.compareFunction(this._get(d,m),g);)m++;if(m<y)this._swap(d,m,y),m++,y--;else return y}}},{key:"_get",value:function(d,p){return d instanceof o?d.get_object_at(p):d[p]}},{key:"_set",value:function(d,p,f){d instanceof o?d.set_object_at(p,f):d[p]=f}},{key:"_swap",value:function(d,p,f){var g=this._get(d,p);this._set(d,p,this._get(d,f)),this._set(d,f,g)}},{key:"_defaultCompareFunction",value:function(d,p){return p>d}}]),u}();r.exports=l},function(r,n,i){function a(){}a.svd=function(s){this.U=null,this.V=null,this.s=null,this.m=0,this.n=0,this.m=s.length,this.n=s[0].length;var o=Math.min(this.m,this.n);this.s=function(rt){for(var Ge=[];rt-- >0;)Ge.push(0);return Ge}(Math.min(this.m+1,this.n)),this.U=function(rt){var Ge=function ct(Dt){if(Dt.length==0)return 0;for(var Vt=[],tr=0;tr<Dt[0];tr++)Vt.push(ct(Dt.slice(1)));return Vt};return Ge(rt)}([this.m,o]),this.V=function(rt){var Ge=function ct(Dt){if(Dt.length==0)return 0;for(var Vt=[],tr=0;tr<Dt[0];tr++)Vt.push(ct(Dt.slice(1)));return Vt};return Ge(rt)}([this.n,this.n]);for(var l=function(rt){for(var Ge=[];rt-- >0;)Ge.push(0);return Ge}(this.n),u=function(rt){for(var Ge=[];rt-- >0;)Ge.push(0);return Ge}(this.m),h=!0,d=Math.min(this.m-1,this.n),p=Math.max(0,Math.min(this.n-2,this.m)),f=0;f<Math.max(d,p);f++){if(f<d){this.s[f]=0;for(var g=f;g<this.m;g++)this.s[f]=a.hypot(this.s[f],s[g][f]);if(this.s[f]!==0){s[f][f]<0&&(this.s[f]=-this.s[f]);for(var m=f;m<this.m;m++)s[m][f]/=this.s[f];s[f][f]+=1}this.s[f]=-this.s[f]}for(var y=f+1;y<this.n;y++){if(function(rt,Ge){return rt&&Ge}(f<d,this.s[f]!==0)){for(var v=0,x=f;x<this.m;x++)v+=s[x][f]*s[x][y];v=-v/s[f][f];for(var w=f;w<this.m;w++)s[w][y]+=v*s[w][f]}l[y]=s[f][y]}if(function(rt,Ge){return Ge}(h,f<d))for(var k=f;k<this.m;k++)this.U[k][f]=s[k][f];if(f<p){l[f]=0;for(var E=f+1;E<this.n;E++)l[f]=a.hypot(l[f],l[E]);if(l[f]!==0){l[f+1]<0&&(l[f]=-l[f]);for(var _=f+1;_<this.n;_++)l[_]/=l[f];l[f+1]+=1}if(l[f]=-l[f],function(rt,Ge){return rt&&Ge}(f+1<this.m,l[f]!==0)){for(var S=f+1;S<this.m;S++)u[S]=0;for(var R=f+1;R<this.n;R++)for(var C=f+1;C<this.m;C++)u[C]+=l[R]*s[C][R];for(var L=f+1;L<this.n;L++)for(var A=-l[L]/l[f+1],N=f+1;N<this.m;N++)s[N][L]+=A*u[N]}for(var F=f+1;F<this.n;F++)this.V[F][f]=l[F]}}var T=Math.min(this.n,this.m+1);d<this.n&&(this.s[d]=s[d][d]),this.m<T&&(this.s[T-1]=0),p+1<T&&(l[p]=s[p][T-1]),l[T-1]=0;{for(var D=d;D<o;D++){for(var M=0;M<this.m;M++)this.U[M][D]=0;this.U[D][D]=1}for(var O=d-1;O>=0;O--)if(this.s[O]!==0){for(var I=O+1;I<o;I++){for(var P=0,B=O;B<this.m;B++)P+=this.U[B][O]*this.U[B][I];P=-P/this.U[O][O];for(var $=O;$<this.m;$++)this.U[$][I]+=P*this.U[$][O]}for(var V=O;V<this.m;V++)this.U[V][O]=-this.U[V][O];this.U[O][O]=1+this.U[O][O];for(var W=0;W<O-1;W++)this.U[W][O]=0}else{for(var K=0;K<this.m;K++)this.U[K][O]=0;this.U[O][O]=1}}for(var Z=this.n-1;Z>=0;Z--){if(function(rt,Ge){return rt&&Ge}(Z<p,l[Z]!==0))for(var H=Z+1;H<o;H++){for(var ee=0,te=Z+1;te<this.n;te++)ee+=this.V[te][Z]*this.V[te][H];ee=-ee/this.V[Z+1][Z];for(var U=Z+1;U<this.n;U++)this.V[U][H]+=ee*this.V[U][Z]}for(var j=0;j<this.n;j++)this.V[j][Z]=0;this.V[Z][Z]=1}for(var Y=T-1,Q=Math.pow(2,-52),ae=Math.pow(2,-966);T>0;){var ie=void 0,J=void 0;for(ie=T-2;ie>=-1&&ie!==-1;ie--)if(Math.abs(l[ie])<=ae+Q*(Math.abs(this.s[ie])+Math.abs(this.s[ie+1]))){l[ie]=0;break}if(ie===T-2)J=4;else{var _e=void 0;for(_e=T-1;_e>=ie&&_e!==ie;_e--){var ce=(_e!==T?Math.abs(l[_e]):0)+(_e!==ie+1?Math.abs(l[_e-1]):0);if(Math.abs(this.s[_e])<=ae+Q*ce){this.s[_e]=0;break}}_e===ie?J=3:_e===T-1?J=1:(J=2,ie=_e)}switch(ie++,J){case 1:{var Te=l[T-2];l[T-2]=0;for(var be=T-2;be>=ie;be--){var Ue=a.hypot(this.s[be],Te),He=this.s[be]/Ue,Ve=Te/Ue;this.s[be]=Ue,be!==ie&&(Te=-Ve*l[be-1],l[be-1]=He*l[be-1]);for(var Re=0;Re<this.n;Re++)Ue=He*this.V[Re][be]+Ve*this.V[Re][T-1],this.V[Re][T-1]=-Ve*this.V[Re][be]+He*this.V[Re][T-1],this.V[Re][be]=Ue}}break;case 2:{var de=l[ie-1];l[ie-1]=0;for(var X=ie;X<T;X++){var oe=a.hypot(this.s[X],de),me=this.s[X]/oe,ne=de/oe;this.s[X]=oe,de=-ne*l[X],l[X]=me*l[X];for(var ue=0;ue<this.m;ue++)oe=me*this.U[ue][X]+ne*this.U[ue][ie-1],this.U[ue][ie-1]=-ne*this.U[ue][X]+me*this.U[ue][ie-1],this.U[ue][X]=oe}}break;case 3:{var pe=Math.max(Math.max(Math.max(Math.max(Math.abs(this.s[T-1]),Math.abs(this.s[T-2])),Math.abs(l[T-2])),Math.abs(this.s[ie])),Math.abs(l[ie])),ge=this.s[T-1]/pe,ve=this.s[T-2]/pe,Ee=l[T-2]/pe,Ce=this.s[ie]/pe,Ne=l[ie]/pe,Se=((ve+ge)*(ve-ge)+Ee*Ee)/2,Ie=ge*Ee*(ge*Ee),Ae=0;(function(rt,Ge){return rt||Ge})(Se!==0,Ie!==0)&&(Ae=Math.sqrt(Se*Se+Ie),Se<0&&(Ae=-Ae),Ae=Ie/(Se+Ae));for(var qe=(Ce+ge)*(Ce-ge)+Ae,De=Ce*Ne,Xe=ie;Xe<T-1;Xe++){var at=a.hypot(qe,De),dt=qe/at,ut=De/at;Xe!==ie&&(l[Xe-1]=at),qe=dt*this.s[Xe]+ut*l[Xe],l[Xe]=dt*l[Xe]-ut*this.s[Xe],De=ut*this.s[Xe+1],this.s[Xe+1]=dt*this.s[Xe+1];for(var kt=0;kt<this.n;kt++)at=dt*this.V[kt][Xe]+ut*this.V[kt][Xe+1],this.V[kt][Xe+1]=-ut*this.V[kt][Xe]+dt*this.V[kt][Xe+1],this.V[kt][Xe]=at;if(at=a.hypot(qe,De),dt=qe/at,ut=De/at,this.s[Xe]=at,qe=dt*l[Xe]+ut*this.s[Xe+1],this.s[Xe+1]=-ut*l[Xe]+dt*this.s[Xe+1],De=ut*l[Xe+1],l[Xe+1]=dt*l[Xe+1],Xe<this.m-1)for(var je=0;je<this.m;je++)at=dt*this.U[je][Xe]+ut*this.U[je][Xe+1],this.U[je][Xe+1]=-ut*this.U[je][Xe]+dt*this.U[je][Xe+1],this.U[je][Xe]=at}l[T-2]=qe}break;case 4:{if(this.s[ie]<=0){this.s[ie]=this.s[ie]<0?-this.s[ie]:0;for(var Ye=0;Ye<=Y;Ye++)this.V[Ye][ie]=-this.V[Ye][ie]}for(;ie<Y&&!(this.s[ie]>=this.s[ie+1]);){var gt=this.s[ie];if(this.s[ie]=this.s[ie+1],this.s[ie+1]=gt,ie<this.n-1)for(var We=0;We<this.n;We++)gt=this.V[We][ie+1],this.V[We][ie+1]=this.V[We][ie],this.V[We][ie]=gt;if(ie<this.m-1)for(var tt=0;tt<this.m;tt++)gt=this.U[tt][ie+1],this.U[tt][ie+1]=this.U[tt][ie],this.U[tt][ie]=gt;ie++}T--}break}}var Ft={U:this.U,V:this.V,S:this.s};return Ft},a.hypot=function(s,o){var l=void 0;return Math.abs(s)>Math.abs(o)?(l=o/s,l=Math.abs(s)*Math.sqrt(1+l*l)):o!=0?(l=s/o,l=Math.abs(o)*Math.sqrt(1+l*l)):l=0,l},r.exports=a},function(r,n,i){var a=function(){function l(u,h){for(var d=0;d<h.length;d++){var p=h[d];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(u,p.key,p)}}return function(u,h,d){return h&&l(u.prototype,h),d&&l(u,d),u}}();function s(l,u){if(!(l instanceof u))throw new TypeError("Cannot call a class as a function")}var o=function(){function l(u,h){var d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,p=arguments.length>3&&arguments[3]!==void 0?arguments[3]:-1,f=arguments.length>4&&arguments[4]!==void 0?arguments[4]:-1;s(this,l),this.sequence1=u,this.sequence2=h,this.match_score=d,this.mismatch_penalty=p,this.gap_penalty=f,this.iMax=u.length+1,this.jMax=h.length+1,this.grid=new Array(this.iMax);for(var g=0;g<this.iMax;g++){this.grid[g]=new Array(this.jMax);for(var m=0;m<this.jMax;m++)this.grid[g][m]=0}this.tracebackGrid=new Array(this.iMax);for(var y=0;y<this.iMax;y++){this.tracebackGrid[y]=new Array(this.jMax);for(var v=0;v<this.jMax;v++)this.tracebackGrid[y][v]=[null,null,null]}this.alignments=[],this.score=-1,this.computeGrids()}return a(l,[{key:"getScore",value:function(){return this.score}},{key:"getAlignments",value:function(){return this.alignments}},{key:"computeGrids",value:function(){for(var h=1;h<this.jMax;h++)this.grid[0][h]=this.grid[0][h-1]+this.gap_penalty,this.tracebackGrid[0][h]=[!1,!1,!0];for(var d=1;d<this.iMax;d++)this.grid[d][0]=this.grid[d-1][0]+this.gap_penalty,this.tracebackGrid[d][0]=[!1,!0,!1];for(var p=1;p<this.iMax;p++)for(var f=1;f<this.jMax;f++){var g=void 0;this.sequence1[p-1]===this.sequence2[f-1]?g=this.grid[p-1][f-1]+this.match_score:g=this.grid[p-1][f-1]+this.mismatch_penalty;var m=this.grid[p-1][f]+this.gap_penalty,y=this.grid[p][f-1]+this.gap_penalty,v=[g,m,y],x=this.arrayAllMaxIndexes(v);this.grid[p][f]=v[x[0]],this.tracebackGrid[p][f]=[x.includes(0),x.includes(1),x.includes(2)]}this.score=this.grid[this.iMax-1][this.jMax-1]}},{key:"alignmentTraceback",value:function(){var h=[];for(h.push({pos:[this.sequence1.length,this.sequence2.length],seq1:"",seq2:""});h[0];){var d=h[0],p=this.tracebackGrid[d.pos[0]][d.pos[1]];p[0]&&h.push({pos:[d.pos[0]-1,d.pos[1]-1],seq1:this.sequence1[d.pos[0]-1]+d.seq1,seq2:this.sequence2[d.pos[1]-1]+d.seq2}),p[1]&&h.push({pos:[d.pos[0]-1,d.pos[1]],seq1:this.sequence1[d.pos[0]-1]+d.seq1,seq2:"-"+d.seq2}),p[2]&&h.push({pos:[d.pos[0],d.pos[1]-1],seq1:"-"+d.seq1,seq2:this.sequence2[d.pos[1]-1]+d.seq2}),d.pos[0]===0&&d.pos[1]===0&&this.alignments.push({sequence1:d.seq1,sequence2:d.seq2}),h.shift()}return this.alignments}},{key:"getAllIndexes",value:function(h,d){for(var p=[],f=-1;(f=h.indexOf(d,f+1))!==-1;)p.push(f);return p}},{key:"arrayAllMaxIndexes",value:function(h){return this.getAllIndexes(h,Math.max.apply(null,h))}}]),l}();r.exports=o},function(r,n,i){var a=function(){};a.FDLayout=i(18),a.FDLayoutConstants=i(4),a.FDLayoutEdge=i(19),a.FDLayoutNode=i(20),a.DimensionD=i(21),a.HashMap=i(22),a.HashSet=i(23),a.IGeometry=i(8),a.IMath=i(9),a.Integer=i(10),a.Point=i(12),a.PointD=i(5),a.RandomSeed=i(16),a.RectangleD=i(13),a.Transform=i(17),a.UniqueIDGeneretor=i(14),a.Quicksort=i(25),a.LinkedList=i(11),a.LGraphObject=i(2),a.LGraph=i(6),a.LEdge=i(1),a.LGraphManager=i(7),a.LNode=i(3),a.Layout=i(15),a.LayoutConstants=i(0),a.NeedlemanWunsch=i(27),a.Matrix=i(24),a.SVD=i(26),r.exports=a},function(r,n,i){function a(){this.listeners=[]}var s=a.prototype;s.addListener=function(o,l){this.listeners.push({event:o,callback:l})},s.removeListener=function(o,l){for(var u=this.listeners.length;u>=0;u--){var h=this.listeners[u];h.event===o&&h.callback===l&&this.listeners.splice(u,1)}},s.emit=function(o,l){for(var u=0;u<this.listeners.length;u++){var h=this.listeners[u];o===h.event&&h.callback(l)}},r.exports=a}])})}(DE)),DE.exports}var yz;function wtt(){return yz||(yz=1,function(t,e){(function(n,i){t.exports=i(btt())})(Il,function(r){return(()=>{var n={45:(o,l,u)=>{var h={};h.layoutBase=u(551),h.CoSEConstants=u(806),h.CoSEEdge=u(767),h.CoSEGraph=u(880),h.CoSEGraphManager=u(578),h.CoSELayout=u(765),h.CoSENode=u(991),h.ConstraintHandler=u(902),o.exports=h},806:(o,l,u)=>{var h=u(551).FDLayoutConstants;function d(){}for(var p in h)d[p]=h[p];d.DEFAULT_USE_MULTI_LEVEL_SCALING=!1,d.DEFAULT_RADIAL_SEPARATION=h.DEFAULT_EDGE_LENGTH,d.DEFAULT_COMPONENT_SEPERATION=60,d.TILE=!0,d.TILING_PADDING_VERTICAL=10,d.TILING_PADDING_HORIZONTAL=10,d.TRANSFORM_ON_CONSTRAINT_HANDLING=!0,d.ENFORCE_CONSTRAINTS=!0,d.APPLY_LAYOUT=!0,d.RELAX_MOVEMENT_ON_CONSTRAINTS=!0,d.TREE_REDUCTION_ON_INCREMENTAL=!0,d.PURE_INCREMENTAL=d.DEFAULT_INCREMENTAL,o.exports=d},767:(o,l,u)=>{var h=u(551).FDLayoutEdge;function d(f,g,m){h.call(this,f,g,m)}d.prototype=Object.create(h.prototype);for(var p in h)d[p]=h[p];o.exports=d},880:(o,l,u)=>{var h=u(551).LGraph;function d(f,g,m){h.call(this,f,g,m)}d.prototype=Object.create(h.prototype);for(var p in h)d[p]=h[p];o.exports=d},578:(o,l,u)=>{var h=u(551).LGraphManager;function d(f){h.call(this,f)}d.prototype=Object.create(h.prototype);for(var p in h)d[p]=h[p];o.exports=d},765:(o,l,u)=>{var h=u(551).FDLayout,d=u(578),p=u(880),f=u(991),g=u(767),m=u(806),y=u(902),v=u(551).FDLayoutConstants,x=u(551).LayoutConstants,w=u(551).Point,k=u(551).PointD,E=u(551).DimensionD,_=u(551).Layout,S=u(551).Integer,R=u(551).IGeometry,C=u(551).LGraph,L=u(551).Transform,A=u(551).LinkedList;function N(){h.call(this),this.toBeTiled={},this.constraints={}}N.prototype=Object.create(h.prototype);for(var F in h)N[F]=h[F];N.prototype.newGraphManager=function(){var T=new d(this);return this.graphManager=T,T},N.prototype.newGraph=function(T){return new p(null,this.graphManager,T)},N.prototype.newNode=function(T){return new f(this.graphManager,T)},N.prototype.newEdge=function(T){return new g(null,null,T)},N.prototype.initParameters=function(){h.prototype.initParameters.call(this,arguments),this.isSubLayout||(m.DEFAULT_EDGE_LENGTH<10?this.idealEdgeLength=10:this.idealEdgeLength=m.DEFAULT_EDGE_LENGTH,this.useSmartIdealEdgeLengthCalculation=m.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION,this.gravityConstant=v.DEFAULT_GRAVITY_STRENGTH,this.compoundGravityConstant=v.DEFAULT_COMPOUND_GRAVITY_STRENGTH,this.gravityRangeFactor=v.DEFAULT_GRAVITY_RANGE_FACTOR,this.compoundGravityRangeFactor=v.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR,this.prunedNodesAll=[],this.growTreeIterations=0,this.afterGrowthIterations=0,this.isTreeGrowing=!1,this.isGrowthFinished=!1)},N.prototype.initSpringEmbedder=function(){h.prototype.initSpringEmbedder.call(this),this.coolingCycle=0,this.maxCoolingCycle=this.maxIterations/v.CONVERGENCE_CHECK_PERIOD,this.finalTemperature=.04,this.coolingAdjuster=1},N.prototype.layout=function(){var T=x.DEFAULT_CREATE_BENDS_AS_NEEDED;return T&&(this.createBendpoints(),this.graphManager.resetAllEdges()),this.level=0,this.classicLayout()},N.prototype.classicLayout=function(){if(this.nodesWithGravity=this.calculateNodesToApplyGravitationTo(),this.graphManager.setAllNodesToApplyGravitation(this.nodesWithGravity),this.calcNoOfChildrenForAllNodes(),this.graphManager.calcLowestCommonAncestors(),this.graphManager.calcInclusionTreeDepths(),this.graphManager.getRoot().calcEstimatedSize(),this.calcIdealEdgeLengths(),this.incremental){if(m.TREE_REDUCTION_ON_INCREMENTAL){this.reduceTrees(),this.graphManager.resetAllNodesToApplyGravitation();var D=new Set(this.getAllNodes()),M=this.nodesWithGravity.filter(function(P){return D.has(P)});this.graphManager.setAllNodesToApplyGravitation(M)}}else{var T=this.getFlatForest();if(T.length>0)this.positionNodesRadially(T);else{this.reduceTrees(),this.graphManager.resetAllNodesToApplyGravitation();var D=new Set(this.getAllNodes()),M=this.nodesWithGravity.filter(function(O){return D.has(O)});this.graphManager.setAllNodesToApplyGravitation(M),this.positionNodesRandomly()}}return Object.keys(this.constraints).length>0&&(y.handleConstraints(this),this.initConstraintVariables()),this.initSpringEmbedder(),m.APPLY_LAYOUT&&this.runSpringEmbedder(),!0},N.prototype.tick=function(){if(this.totalIterations++,this.totalIterations===this.maxIterations&&!this.isTreeGrowing&&!this.isGrowthFinished)if(this.prunedNodesAll.length>0)this.isTreeGrowing=!0;else return!0;if(this.totalIterations%v.CONVERGENCE_CHECK_PERIOD==0&&!this.isTreeGrowing&&!this.isGrowthFinished){if(this.isConverged())if(this.prunedNodesAll.length>0)this.isTreeGrowing=!0;else return!0;this.coolingCycle++,this.layoutQuality==0?this.coolingAdjuster=this.coolingCycle:this.layoutQuality==1&&(this.coolingAdjuster=this.coolingCycle/3),this.coolingFactor=Math.max(this.initialCoolingFactor-Math.pow(this.coolingCycle,Math.log(100*(this.initialCoolingFactor-this.finalTemperature))/Math.log(this.maxCoolingCycle))/100*this.coolingAdjuster,this.finalTemperature),this.animationPeriod=Math.ceil(this.initialAnimationPeriod*Math.sqrt(this.coolingFactor))}if(this.isTreeGrowing){if(this.growTreeIterations%10==0)if(this.prunedNodesAll.length>0){this.graphManager.updateBounds(),this.updateGrid(),this.growTree(this.prunedNodesAll),this.graphManager.resetAllNodesToApplyGravitation();var T=new Set(this.getAllNodes()),D=this.nodesWithGravity.filter(function(I){return T.has(I)});this.graphManager.setAllNodesToApplyGravitation(D),this.graphManager.updateBounds(),this.updateGrid(),m.PURE_INCREMENTAL?this.coolingFactor=v.DEFAULT_COOLING_FACTOR_INCREMENTAL/2:this.coolingFactor=v.DEFAULT_COOLING_FACTOR_INCREMENTAL}else this.isTreeGrowing=!1,this.isGrowthFinished=!0;this.growTreeIterations++}if(this.isGrowthFinished){if(this.isConverged())return!0;this.afterGrowthIterations%10==0&&(this.graphManager.updateBounds(),this.updateGrid()),m.PURE_INCREMENTAL?this.coolingFactor=v.DEFAULT_COOLING_FACTOR_INCREMENTAL/2*((100-this.afterGrowthIterations)/100):this.coolingFactor=v.DEFAULT_COOLING_FACTOR_INCREMENTAL*((100-this.afterGrowthIterations)/100),this.afterGrowthIterations++}var M=!this.isTreeGrowing&&!this.isGrowthFinished,O=this.growTreeIterations%10==1&&this.isTreeGrowing||this.afterGrowthIterations%10==1&&this.isGrowthFinished;return this.totalDisplacement=0,this.graphManager.updateBounds(),this.calcSpringForces(),this.calcRepulsionForces(M,O),this.calcGravitationalForces(),this.moveNodes(),this.animate(),!1},N.prototype.getPositionsData=function(){for(var T=this.graphManager.getAllNodes(),D={},M=0;M<T.length;M++){var O=T[M].rect,I=T[M].id;D[I]={id:I,x:O.getCenterX(),y:O.getCenterY(),w:O.width,h:O.height}}return D},N.prototype.runSpringEmbedder=function(){this.initialAnimationPeriod=25,this.animationPeriod=this.initialAnimationPeriod;var T=!1;if(v.ANIMATE==="during")this.emit("layoutstarted");else{for(;!T;)T=this.tick();this.graphManager.updateBounds()}},N.prototype.moveNodes=function(){for(var T=this.getAllNodes(),D,M=0;M<T.length;M++)D=T[M],D.calculateDisplacement();Object.keys(this.constraints).length>0&&this.updateDisplacements();for(var M=0;M<T.length;M++)D=T[M],D.move()},N.prototype.initConstraintVariables=function(){var T=this;this.idToNodeMap=new Map,this.fixedNodeSet=new Set;for(var D=this.graphManager.getAllNodes(),M=0;M<D.length;M++){var O=D[M];this.idToNodeMap.set(O.id,O)}var I=function U(j){for(var Y=j.getChild().getNodes(),Q,ae=0,ie=0;ie<Y.length;ie++)Q=Y[ie],Q.getChild()==null?T.fixedNodeSet.has(Q.id)&&(ae+=100):ae+=U(Q);return ae};if(this.constraints.fixedNodeConstraint){this.constraints.fixedNodeConstraint.forEach(function(Y){T.fixedNodeSet.add(Y.nodeId)});for(var D=this.graphManager.getAllNodes(),O,M=0;M<D.length;M++)if(O=D[M],O.getChild()!=null){var P=I(O);P>0&&(O.fixedNodeWeight=P)}}if(this.constraints.relativePlacementConstraint){var B=new Map,$=new Map;if(this.dummyToNodeForVerticalAlignment=new Map,this.dummyToNodeForHorizontalAlignment=new Map,this.fixedNodesOnHorizontal=new Set,this.fixedNodesOnVertical=new Set,this.fixedNodeSet.forEach(function(U){T.fixedNodesOnHorizontal.add(U),T.fixedNodesOnVertical.add(U)}),this.constraints.alignmentConstraint){if(this.constraints.alignmentConstraint.vertical)for(var V=this.constraints.alignmentConstraint.vertical,M=0;M<V.length;M++)this.dummyToNodeForVerticalAlignment.set("dummy"+M,[]),V[M].forEach(function(j){B.set(j,"dummy"+M),T.dummyToNodeForVerticalAlignment.get("dummy"+M).push(j),T.fixedNodeSet.has(j)&&T.fixedNodesOnHorizontal.add("dummy"+M)});if(this.constraints.alignmentConstraint.horizontal)for(var W=this.constraints.alignmentConstraint.horizontal,M=0;M<W.length;M++)this.dummyToNodeForHorizontalAlignment.set("dummy"+M,[]),W[M].forEach(function(j){$.set(j,"dummy"+M),T.dummyToNodeForHorizontalAlignment.get("dummy"+M).push(j),T.fixedNodeSet.has(j)&&T.fixedNodesOnVertical.add("dummy"+M)})}if(m.RELAX_MOVEMENT_ON_CONSTRAINTS)this.shuffle=function(U){var j,Y,Q;for(Q=U.length-1;Q>=2*U.length/3;Q--)j=Math.floor(Math.random()*(Q+1)),Y=U[Q],U[Q]=U[j],U[j]=Y;return U},this.nodesInRelativeHorizontal=[],this.nodesInRelativeVertical=[],this.nodeToRelativeConstraintMapHorizontal=new Map,this.nodeToRelativeConstraintMapVertical=new Map,this.nodeToTempPositionMapHorizontal=new Map,this.nodeToTempPositionMapVertical=new Map,this.constraints.relativePlacementConstraint.forEach(function(U){if(U.left){var j=B.has(U.left)?B.get(U.left):U.left,Y=B.has(U.right)?B.get(U.right):U.right;T.nodesInRelativeHorizontal.includes(j)||(T.nodesInRelativeHorizontal.push(j),T.nodeToRelativeConstraintMapHorizontal.set(j,[]),T.dummyToNodeForVerticalAlignment.has(j)?T.nodeToTempPositionMapHorizontal.set(j,T.idToNodeMap.get(T.dummyToNodeForVerticalAlignment.get(j)[0]).getCenterX()):T.nodeToTempPositionMapHorizontal.set(j,T.idToNodeMap.get(j).getCenterX())),T.nodesInRelativeHorizontal.includes(Y)||(T.nodesInRelativeHorizontal.push(Y),T.nodeToRelativeConstraintMapHorizontal.set(Y,[]),T.dummyToNodeForVerticalAlignment.has(Y)?T.nodeToTempPositionMapHorizontal.set(Y,T.idToNodeMap.get(T.dummyToNodeForVerticalAlignment.get(Y)[0]).getCenterX()):T.nodeToTempPositionMapHorizontal.set(Y,T.idToNodeMap.get(Y).getCenterX())),T.nodeToRelativeConstraintMapHorizontal.get(j).push({right:Y,gap:U.gap}),T.nodeToRelativeConstraintMapHorizontal.get(Y).push({left:j,gap:U.gap})}else{var Q=$.has(U.top)?$.get(U.top):U.top,ae=$.has(U.bottom)?$.get(U.bottom):U.bottom;T.nodesInRelativeVertical.includes(Q)||(T.nodesInRelativeVertical.push(Q),T.nodeToRelativeConstraintMapVertical.set(Q,[]),T.dummyToNodeForHorizontalAlignment.has(Q)?T.nodeToTempPositionMapVertical.set(Q,T.idToNodeMap.get(T.dummyToNodeForHorizontalAlignment.get(Q)[0]).getCenterY()):T.nodeToTempPositionMapVertical.set(Q,T.idToNodeMap.get(Q).getCenterY())),T.nodesInRelativeVertical.includes(ae)||(T.nodesInRelativeVertical.push(ae),T.nodeToRelativeConstraintMapVertical.set(ae,[]),T.dummyToNodeForHorizontalAlignment.has(ae)?T.nodeToTempPositionMapVertical.set(ae,T.idToNodeMap.get(T.dummyToNodeForHorizontalAlignment.get(ae)[0]).getCenterY()):T.nodeToTempPositionMapVertical.set(ae,T.idToNodeMap.get(ae).getCenterY())),T.nodeToRelativeConstraintMapVertical.get(Q).push({bottom:ae,gap:U.gap}),T.nodeToRelativeConstraintMapVertical.get(ae).push({top:Q,gap:U.gap})}});else{var K=new Map,Z=new Map;this.constraints.relativePlacementConstraint.forEach(function(U){if(U.left){var j=B.has(U.left)?B.get(U.left):U.left,Y=B.has(U.right)?B.get(U.right):U.right;K.has(j)?K.get(j).push(Y):K.set(j,[Y]),K.has(Y)?K.get(Y).push(j):K.set(Y,[j])}else{var Q=$.has(U.top)?$.get(U.top):U.top,ae=$.has(U.bottom)?$.get(U.bottom):U.bottom;Z.has(Q)?Z.get(Q).push(ae):Z.set(Q,[ae]),Z.has(ae)?Z.get(ae).push(Q):Z.set(ae,[Q])}});var H=function(j,Y){var Q=[],ae=[],ie=new A,J=new Set,_e=0;return j.forEach(function(ce,Te){if(!J.has(Te)){Q[_e]=[],ae[_e]=!1;var be=Te;for(ie.push(be),J.add(be),Q[_e].push(be);ie.length!=0;){be=ie.shift(),Y.has(be)&&(ae[_e]=!0);var Ue=j.get(be);Ue.forEach(function(He){J.has(He)||(ie.push(He),J.add(He),Q[_e].push(He))})}_e++}}),{components:Q,isFixed:ae}},ee=H(K,T.fixedNodesOnHorizontal);this.componentsOnHorizontal=ee.components,this.fixedComponentsOnHorizontal=ee.isFixed;var te=H(Z,T.fixedNodesOnVertical);this.componentsOnVertical=te.components,this.fixedComponentsOnVertical=te.isFixed}}},N.prototype.updateDisplacements=function(){var T=this;if(this.constraints.fixedNodeConstraint&&this.constraints.fixedNodeConstraint.forEach(function(te){var U=T.idToNodeMap.get(te.nodeId);U.displacementX=0,U.displacementY=0}),this.constraints.alignmentConstraint){if(this.constraints.alignmentConstraint.vertical)for(var D=this.constraints.alignmentConstraint.vertical,M=0;M<D.length;M++){for(var O=0,I=0;I<D[M].length;I++){if(this.fixedNodeSet.has(D[M][I])){O=0;break}O+=this.idToNodeMap.get(D[M][I]).displacementX}for(var P=O/D[M].length,I=0;I<D[M].length;I++)this.idToNodeMap.get(D[M][I]).displacementX=P}if(this.constraints.alignmentConstraint.horizontal)for(var B=this.constraints.alignmentConstraint.horizontal,M=0;M<B.length;M++){for(var $=0,I=0;I<B[M].length;I++){if(this.fixedNodeSet.has(B[M][I])){$=0;break}$+=this.idToNodeMap.get(B[M][I]).displacementY}for(var V=$/B[M].length,I=0;I<B[M].length;I++)this.idToNodeMap.get(B[M][I]).displacementY=V}}if(this.constraints.relativePlacementConstraint)if(m.RELAX_MOVEMENT_ON_CONSTRAINTS)this.totalIterations%10==0&&(this.shuffle(this.nodesInRelativeHorizontal),this.shuffle(this.nodesInRelativeVertical)),this.nodesInRelativeHorizontal.forEach(function(te){if(!T.fixedNodesOnHorizontal.has(te)){var U=0;T.dummyToNodeForVerticalAlignment.has(te)?U=T.idToNodeMap.get(T.dummyToNodeForVerticalAlignment.get(te)[0]).displacementX:U=T.idToNodeMap.get(te).displacementX,T.nodeToRelativeConstraintMapHorizontal.get(te).forEach(function(j){if(j.right){var Y=T.nodeToTempPositionMapHorizontal.get(j.right)-T.nodeToTempPositionMapHorizontal.get(te)-U;Y<j.gap&&(U-=j.gap-Y)}else{var Y=T.nodeToTempPositionMapHorizontal.get(te)-T.nodeToTempPositionMapHorizontal.get(j.left)+U;Y<j.gap&&(U+=j.gap-Y)}}),T.nodeToTempPositionMapHorizontal.set(te,T.nodeToTempPositionMapHorizontal.get(te)+U),T.dummyToNodeForVerticalAlignment.has(te)?T.dummyToNodeForVerticalAlignment.get(te).forEach(function(j){T.idToNodeMap.get(j).displacementX=U}):T.idToNodeMap.get(te).displacementX=U}}),this.nodesInRelativeVertical.forEach(function(te){if(!T.fixedNodesOnHorizontal.has(te)){var U=0;T.dummyToNodeForHorizontalAlignment.has(te)?U=T.idToNodeMap.get(T.dummyToNodeForHorizontalAlignment.get(te)[0]).displacementY:U=T.idToNodeMap.get(te).displacementY,T.nodeToRelativeConstraintMapVertical.get(te).forEach(function(j){if(j.bottom){var Y=T.nodeToTempPositionMapVertical.get(j.bottom)-T.nodeToTempPositionMapVertical.get(te)-U;Y<j.gap&&(U-=j.gap-Y)}else{var Y=T.nodeToTempPositionMapVertical.get(te)-T.nodeToTempPositionMapVertical.get(j.top)+U;Y<j.gap&&(U+=j.gap-Y)}}),T.nodeToTempPositionMapVertical.set(te,T.nodeToTempPositionMapVertical.get(te)+U),T.dummyToNodeForHorizontalAlignment.has(te)?T.dummyToNodeForHorizontalAlignment.get(te).forEach(function(j){T.idToNodeMap.get(j).displacementY=U}):T.idToNodeMap.get(te).displacementY=U}});else{for(var M=0;M<this.componentsOnHorizontal.length;M++){var W=this.componentsOnHorizontal[M];if(this.fixedComponentsOnHorizontal[M])for(var I=0;I<W.length;I++)this.dummyToNodeForVerticalAlignment.has(W[I])?this.dummyToNodeForVerticalAlignment.get(W[I]).forEach(function(j){T.idToNodeMap.get(j).displacementX=0}):this.idToNodeMap.get(W[I]).displacementX=0;else{for(var K=0,Z=0,I=0;I<W.length;I++)if(this.dummyToNodeForVerticalAlignment.has(W[I])){var H=this.dummyToNodeForVerticalAlignment.get(W[I]);K+=H.length*this.idToNodeMap.get(H[0]).displacementX,Z+=H.length}else K+=this.idToNodeMap.get(W[I]).displacementX,Z++;for(var ee=K/Z,I=0;I<W.length;I++)this.dummyToNodeForVerticalAlignment.has(W[I])?this.dummyToNodeForVerticalAlignment.get(W[I]).forEach(function(j){T.idToNodeMap.get(j).displacementX=ee}):this.idToNodeMap.get(W[I]).displacementX=ee}}for(var M=0;M<this.componentsOnVertical.length;M++){var W=this.componentsOnVertical[M];if(this.fixedComponentsOnVertical[M])for(var I=0;I<W.length;I++)this.dummyToNodeForHorizontalAlignment.has(W[I])?this.dummyToNodeForHorizontalAlignment.get(W[I]).forEach(function(Y){T.idToNodeMap.get(Y).displacementY=0}):this.idToNodeMap.get(W[I]).displacementY=0;else{for(var K=0,Z=0,I=0;I<W.length;I++)if(this.dummyToNodeForHorizontalAlignment.has(W[I])){var H=this.dummyToNodeForHorizontalAlignment.get(W[I]);K+=H.length*this.idToNodeMap.get(H[0]).displacementY,Z+=H.length}else K+=this.idToNodeMap.get(W[I]).displacementY,Z++;for(var ee=K/Z,I=0;I<W.length;I++)this.dummyToNodeForHorizontalAlignment.has(W[I])?this.dummyToNodeForHorizontalAlignment.get(W[I]).forEach(function(ie){T.idToNodeMap.get(ie).displacementY=ee}):this.idToNodeMap.get(W[I]).displacementY=ee}}}},N.prototype.calculateNodesToApplyGravitationTo=function(){var T=[],D,M=this.graphManager.getGraphs(),O=M.length,I;for(I=0;I<O;I++)D=M[I],D.updateConnected(),D.isConnected||(T=T.concat(D.getNodes()));return T},N.prototype.createBendpoints=function(){var T=[];T=T.concat(this.graphManager.getAllEdges());var D=new Set,M;for(M=0;M<T.length;M++){var O=T[M];if(!D.has(O)){var I=O.getSource(),P=O.getTarget();if(I==P)O.getBendpoints().push(new k),O.getBendpoints().push(new k),this.createDummyNodesForBendpoints(O),D.add(O);else{var B=[];if(B=B.concat(I.getEdgeListToNode(P)),B=B.concat(P.getEdgeListToNode(I)),!D.has(B[0])){if(B.length>1){var $;for($=0;$<B.length;$++){var V=B[$];V.getBendpoints().push(new k),this.createDummyNodesForBendpoints(V)}}B.forEach(function(W){D.add(W)})}}}if(D.size==T.length)break}},N.prototype.positionNodesRadially=function(T){for(var D=new w(0,0),M=Math.ceil(Math.sqrt(T.length)),O=0,I=0,P=0,B=new k(0,0),$=0;$<T.length;$++){$%M==0&&(P=0,I=O,$!=0&&(I+=m.DEFAULT_COMPONENT_SEPERATION),O=0);var V=T[$],W=_.findCenterOfTree(V);D.x=P,D.y=I,B=N.radialLayout(V,W,D),B.y>O&&(O=Math.floor(B.y)),P=Math.floor(B.x+m.DEFAULT_COMPONENT_SEPERATION)}this.transform(new k(x.WORLD_CENTER_X-B.x/2,x.WORLD_CENTER_Y-B.y/2))},N.radialLayout=function(T,D,M){var O=Math.max(this.maxDiagonalInTree(T),m.DEFAULT_RADIAL_SEPARATION);N.branchRadialLayout(D,null,0,359,0,O);var I=C.calculateBounds(T),P=new L;P.setDeviceOrgX(I.getMinX()),P.setDeviceOrgY(I.getMinY()),P.setWorldOrgX(M.x),P.setWorldOrgY(M.y);for(var B=0;B<T.length;B++){var $=T[B];$.transform(P)}var V=new k(I.getMaxX(),I.getMaxY());return P.inverseTransformPoint(V)},N.branchRadialLayout=function(T,D,M,O,I,P){var B=(O-M+1)/2;B<0&&(B+=180);var $=(B+M)%360,V=$*R.TWO_PI/360,W=I*Math.cos(V),K=I*Math.sin(V);T.setCenter(W,K);var Z=[];Z=Z.concat(T.getEdges());var H=Z.length;D!=null&&H--;for(var ee=0,te=Z.length,U,j=T.getEdgesBetween(D);j.length>1;){var Y=j[0];j.splice(0,1);var Q=Z.indexOf(Y);Q>=0&&Z.splice(Q,1),te--,H--}D!=null?U=(Z.indexOf(j[0])+1)%te:U=0;for(var ae=Math.abs(O-M)/H,ie=U;ee!=H;ie=++ie%te){var J=Z[ie].getOtherEnd(T);if(J!=D){var _e=(M+ee*ae)%360,ce=(_e+ae)%360;N.branchRadialLayout(J,T,_e,ce,I+P,P),ee++}}},N.maxDiagonalInTree=function(T){for(var D=S.MIN_VALUE,M=0;M<T.length;M++){var O=T[M],I=O.getDiagonal();I>D&&(D=I)}return D},N.prototype.calcRepulsionRange=function(){return 2*(this.level+1)*this.idealEdgeLength},N.prototype.groupZeroDegreeMembers=function(){var T=this,D={};this.memberGroups={},this.idToDummyNode={};for(var M=[],O=this.graphManager.getAllNodes(),I=0;I<O.length;I++){var P=O[I],B=P.getParent();this.getNodeDegreeWithChildren(P)===0&&(B.id==null||!this.getToBeTiled(B))&&M.push(P)}for(var I=0;I<M.length;I++){var P=M[I],$=P.getParent().id;typeof D[$]>"u"&&(D[$]=[]),D[$]=D[$].concat(P)}Object.keys(D).forEach(function(V){if(D[V].length>1){var W="DummyCompound_"+V;T.memberGroups[W]=D[V];var K=D[V][0].getParent(),Z=new f(T.graphManager);Z.id=W,Z.paddingLeft=K.paddingLeft||0,Z.paddingRight=K.paddingRight||0,Z.paddingBottom=K.paddingBottom||0,Z.paddingTop=K.paddingTop||0,T.idToDummyNode[W]=Z;var H=T.getGraphManager().add(T.newGraph(),Z),ee=K.getChild();ee.add(Z);for(var te=0;te<D[V].length;te++){var U=D[V][te];ee.remove(U),H.add(U)}}})},N.prototype.clearCompounds=function(){var T={},D={};this.performDFSOnCompounds();for(var M=0;M<this.compoundOrder.length;M++)D[this.compoundOrder[M].id]=this.compoundOrder[M],T[this.compoundOrder[M].id]=[].concat(this.compoundOrder[M].getChild().getNodes()),this.graphManager.remove(this.compoundOrder[M].getChild()),this.compoundOrder[M].child=null;this.graphManager.resetAllNodes(),this.tileCompoundMembers(T,D)},N.prototype.clearZeroDegreeMembers=function(){var T=this,D=this.tiledZeroDegreePack=[];Object.keys(this.memberGroups).forEach(function(M){var O=T.idToDummyNode[M];if(D[M]=T.tileNodes(T.memberGroups[M],O.paddingLeft+O.paddingRight),O.rect.width=D[M].width,O.rect.height=D[M].height,O.setCenter(D[M].centerX,D[M].centerY),O.labelMarginLeft=0,O.labelMarginTop=0,m.NODE_DIMENSIONS_INCLUDE_LABELS){var I=O.rect.width,P=O.rect.height;O.labelWidth&&(O.labelPosHorizontal=="left"?(O.rect.x-=O.labelWidth,O.setWidth(I+O.labelWidth),O.labelMarginLeft=O.labelWidth):O.labelPosHorizontal=="center"&&O.labelWidth>I?(O.rect.x-=(O.labelWidth-I)/2,O.setWidth(O.labelWidth),O.labelMarginLeft=(O.labelWidth-I)/2):O.labelPosHorizontal=="right"&&O.setWidth(I+O.labelWidth)),O.labelHeight&&(O.labelPosVertical=="top"?(O.rect.y-=O.labelHeight,O.setHeight(P+O.labelHeight),O.labelMarginTop=O.labelHeight):O.labelPosVertical=="center"&&O.labelHeight>P?(O.rect.y-=(O.labelHeight-P)/2,O.setHeight(O.labelHeight),O.labelMarginTop=(O.labelHeight-P)/2):O.labelPosVertical=="bottom"&&O.setHeight(P+O.labelHeight))}})},N.prototype.repopulateCompounds=function(){for(var T=this.compoundOrder.length-1;T>=0;T--){var D=this.compoundOrder[T],M=D.id,O=D.paddingLeft,I=D.paddingTop,P=D.labelMarginLeft,B=D.labelMarginTop;this.adjustLocations(this.tiledMemberPack[M],D.rect.x,D.rect.y,O,I,P,B)}},N.prototype.repopulateZeroDegreeMembers=function(){var T=this,D=this.tiledZeroDegreePack;Object.keys(D).forEach(function(M){var O=T.idToDummyNode[M],I=O.paddingLeft,P=O.paddingTop,B=O.labelMarginLeft,$=O.labelMarginTop;T.adjustLocations(D[M],O.rect.x,O.rect.y,I,P,B,$)})},N.prototype.getToBeTiled=function(T){var D=T.id;if(this.toBeTiled[D]!=null)return this.toBeTiled[D];var M=T.getChild();if(M==null)return this.toBeTiled[D]=!1,!1;for(var O=M.getNodes(),I=0;I<O.length;I++){var P=O[I];if(this.getNodeDegree(P)>0)return this.toBeTiled[D]=!1,!1;if(P.getChild()==null){this.toBeTiled[P.id]=!1;continue}if(!this.getToBeTiled(P))return this.toBeTiled[D]=!1,!1}return this.toBeTiled[D]=!0,!0},N.prototype.getNodeDegree=function(T){T.id;for(var D=T.getEdges(),M=0,O=0;O<D.length;O++){var I=D[O];I.getSource().id!==I.getTarget().id&&(M=M+1)}return M},N.prototype.getNodeDegreeWithChildren=function(T){var D=this.getNodeDegree(T);if(T.getChild()==null)return D;for(var M=T.getChild().getNodes(),O=0;O<M.length;O++){var I=M[O];D+=this.getNodeDegreeWithChildren(I)}return D},N.prototype.performDFSOnCompounds=function(){this.compoundOrder=[],this.fillCompexOrderByDFS(this.graphManager.getRoot().getNodes())},N.prototype.fillCompexOrderByDFS=function(T){for(var D=0;D<T.length;D++){var M=T[D];M.getChild()!=null&&this.fillCompexOrderByDFS(M.getChild().getNodes()),this.getToBeTiled(M)&&this.compoundOrder.push(M)}},N.prototype.adjustLocations=function(T,D,M,O,I,P,B){D+=O+P,M+=I+B;for(var $=D,V=0;V<T.rows.length;V++){var W=T.rows[V];D=$;for(var K=0,Z=0;Z<W.length;Z++){var H=W[Z];H.rect.x=D,H.rect.y=M,D+=H.rect.width+T.horizontalPadding,H.rect.height>K&&(K=H.rect.height)}M+=K+T.verticalPadding}},N.prototype.tileCompoundMembers=function(T,D){var M=this;this.tiledMemberPack=[],Object.keys(T).forEach(function(O){var I=D[O];if(M.tiledMemberPack[O]=M.tileNodes(T[O],I.paddingLeft+I.paddingRight),I.rect.width=M.tiledMemberPack[O].width,I.rect.height=M.tiledMemberPack[O].height,I.setCenter(M.tiledMemberPack[O].centerX,M.tiledMemberPack[O].centerY),I.labelMarginLeft=0,I.labelMarginTop=0,m.NODE_DIMENSIONS_INCLUDE_LABELS){var P=I.rect.width,B=I.rect.height;I.labelWidth&&(I.labelPosHorizontal=="left"?(I.rect.x-=I.labelWidth,I.setWidth(P+I.labelWidth),I.labelMarginLeft=I.labelWidth):I.labelPosHorizontal=="center"&&I.labelWidth>P?(I.rect.x-=(I.labelWidth-P)/2,I.setWidth(I.labelWidth),I.labelMarginLeft=(I.labelWidth-P)/2):I.labelPosHorizontal=="right"&&I.setWidth(P+I.labelWidth)),I.labelHeight&&(I.labelPosVertical=="top"?(I.rect.y-=I.labelHeight,I.setHeight(B+I.labelHeight),I.labelMarginTop=I.labelHeight):I.labelPosVertical=="center"&&I.labelHeight>B?(I.rect.y-=(I.labelHeight-B)/2,I.setHeight(I.labelHeight),I.labelMarginTop=(I.labelHeight-B)/2):I.labelPosVertical=="bottom"&&I.setHeight(B+I.labelHeight))}})},N.prototype.tileNodes=function(T,D){var M=this.tileNodesByFavoringDim(T,D,!0),O=this.tileNodesByFavoringDim(T,D,!1),I=this.getOrgRatio(M),P=this.getOrgRatio(O),B;return P<I?B=O:B=M,B},N.prototype.getOrgRatio=function(T){var D=T.width,M=T.height,O=D/M;return O<1&&(O=1/O),O},N.prototype.calcIdealRowWidth=function(T,D){var M=m.TILING_PADDING_VERTICAL,O=m.TILING_PADDING_HORIZONTAL,I=T.length,P=0,B=0,$=0;T.forEach(function(te){P+=te.getWidth(),B+=te.getHeight(),te.getWidth()>$&&($=te.getWidth())});var V=P/I,W=B/I,K=Math.pow(M-O,2)+4*(V+O)*(W+M)*I,Z=(O-M+Math.sqrt(K))/(2*(V+O)),H;D?(H=Math.ceil(Z),H==Z&&H++):H=Math.floor(Z);var ee=H*(V+O)-O;return $>ee&&(ee=$),ee+=O*2,ee},N.prototype.tileNodesByFavoringDim=function(T,D,M){var O=m.TILING_PADDING_VERTICAL,I=m.TILING_PADDING_HORIZONTAL,P=m.TILING_COMPARE_BY,B={rows:[],rowWidth:[],rowHeight:[],width:0,height:D,verticalPadding:O,horizontalPadding:I,centerX:0,centerY:0};P&&(B.idealRowWidth=this.calcIdealRowWidth(T,M));var $=function(U){return U.rect.width*U.rect.height},V=function(U,j){return $(j)-$(U)};T.sort(function(te,U){var j=V;return B.idealRowWidth?(j=P,j(te.id,U.id)):j(te,U)});for(var W=0,K=0,Z=0;Z<T.length;Z++){var H=T[Z];W+=H.getCenterX(),K+=H.getCenterY()}B.centerX=W/T.length,B.centerY=K/T.length;for(var Z=0;Z<T.length;Z++){var H=T[Z];if(B.rows.length==0)this.insertNodeToRow(B,H,0,D);else if(this.canAddHorizontal(B,H.rect.width,H.rect.height)){var ee=B.rows.length-1;B.idealRowWidth||(ee=this.getShortestRowIndex(B)),this.insertNodeToRow(B,H,ee,D)}else this.insertNodeToRow(B,H,B.rows.length,D);this.shiftToLastRow(B)}return B},N.prototype.insertNodeToRow=function(T,D,M,O){var I=O;if(M==T.rows.length){var P=[];T.rows.push(P),T.rowWidth.push(I),T.rowHeight.push(0)}var B=T.rowWidth[M]+D.rect.width;T.rows[M].length>0&&(B+=T.horizontalPadding),T.rowWidth[M]=B,T.width<B&&(T.width=B);var $=D.rect.height;M>0&&($+=T.verticalPadding);var V=0;$>T.rowHeight[M]&&(V=T.rowHeight[M],T.rowHeight[M]=$,V=T.rowHeight[M]-V),T.height+=V,T.rows[M].push(D)},N.prototype.getShortestRowIndex=function(T){for(var D=-1,M=Number.MAX_VALUE,O=0;O<T.rows.length;O++)T.rowWidth[O]<M&&(D=O,M=T.rowWidth[O]);return D},N.prototype.getLongestRowIndex=function(T){for(var D=-1,M=Number.MIN_VALUE,O=0;O<T.rows.length;O++)T.rowWidth[O]>M&&(D=O,M=T.rowWidth[O]);return D},N.prototype.canAddHorizontal=function(T,D,M){if(T.idealRowWidth){var O=T.rows.length-1,I=T.rowWidth[O];return I+D+T.horizontalPadding<=T.idealRowWidth}var P=this.getShortestRowIndex(T);if(P<0)return!0;var B=T.rowWidth[P];if(B+T.horizontalPadding+D<=T.width)return!0;var $=0;T.rowHeight[P]<M&&P>0&&($=M+T.verticalPadding-T.rowHeight[P]);var V;T.width-B>=D+T.horizontalPadding?V=(T.height+$)/(B+D+T.horizontalPadding):V=(T.height+$)/T.width,$=M+T.verticalPadding;var W;return T.width<D?W=(T.height+$)/D:W=(T.height+$)/T.width,W<1&&(W=1/W),V<1&&(V=1/V),V<W},N.prototype.shiftToLastRow=function(T){var D=this.getLongestRowIndex(T),M=T.rowWidth.length-1,O=T.rows[D],I=O[O.length-1],P=I.width+T.horizontalPadding;if(T.width-T.rowWidth[M]>P&&D!=M){O.splice(-1,1),T.rows[M].push(I),T.rowWidth[D]=T.rowWidth[D]-P,T.rowWidth[M]=T.rowWidth[M]+P,T.width=T.rowWidth[instance.getLongestRowIndex(T)];for(var B=Number.MIN_VALUE,$=0;$<O.length;$++)O[$].height>B&&(B=O[$].height);D>0&&(B+=T.verticalPadding);var V=T.rowHeight[D]+T.rowHeight[M];T.rowHeight[D]=B,T.rowHeight[M]<I.height+T.verticalPadding&&(T.rowHeight[M]=I.height+T.verticalPadding);var W=T.rowHeight[D]+T.rowHeight[M];T.height+=W-V,this.shiftToLastRow(T)}},N.prototype.tilingPreLayout=function(){m.TILE&&(this.groupZeroDegreeMembers(),this.clearCompounds(),this.clearZeroDegreeMembers())},N.prototype.tilingPostLayout=function(){m.TILE&&(this.repopulateZeroDegreeMembers(),this.repopulateCompounds())},N.prototype.reduceTrees=function(){for(var T=[],D=!0,M;D;){var O=this.graphManager.getAllNodes(),I=[];D=!1;for(var P=0;P<O.length;P++)if(M=O[P],M.getEdges().length==1&&!M.getEdges()[0].isInterGraph&&M.getChild()==null){if(m.PURE_INCREMENTAL){var B=M.getEdges()[0].getOtherEnd(M),$=new E(M.getCenterX()-B.getCenterX(),M.getCenterY()-B.getCenterY());I.push([M,M.getEdges()[0],M.getOwner(),$])}else I.push([M,M.getEdges()[0],M.getOwner()]);D=!0}if(D==!0){for(var V=[],W=0;W<I.length;W++)I[W][0].getEdges().length==1&&(V.push(I[W]),I[W][0].getOwner().remove(I[W][0]));T.push(V),this.graphManager.resetAllNodes(),this.graphManager.resetAllEdges()}}this.prunedNodesAll=T},N.prototype.growTree=function(T){for(var D=T.length,M=T[D-1],O,I=0;I<M.length;I++)O=M[I],this.findPlaceforPrunedNode(O),O[2].add(O[0]),O[2].add(O[1],O[1].source,O[1].target);T.splice(T.length-1,1),this.graphManager.resetAllNodes(),this.graphManager.resetAllEdges()},N.prototype.findPlaceforPrunedNode=function(T){var D,M,O=T[0];if(O==T[1].source?M=T[1].target:M=T[1].source,m.PURE_INCREMENTAL)O.setCenter(M.getCenterX()+T[3].getWidth(),M.getCenterY()+T[3].getHeight());else{var I=M.startX,P=M.finishX,B=M.startY,$=M.finishY,V=0,W=0,K=0,Z=0,H=[V,K,W,Z];if(B>0)for(var ee=I;ee<=P;ee++)H[0]+=this.grid[ee][B-1].length+this.grid[ee][B].length-1;if(P<this.grid.length-1)for(var ee=B;ee<=$;ee++)H[1]+=this.grid[P+1][ee].length+this.grid[P][ee].length-1;if($<this.grid[0].length-1)for(var ee=I;ee<=P;ee++)H[2]+=this.grid[ee][$+1].length+this.grid[ee][$].length-1;if(I>0)for(var ee=B;ee<=$;ee++)H[3]+=this.grid[I-1][ee].length+this.grid[I][ee].length-1;for(var te=S.MAX_VALUE,U,j,Y=0;Y<H.length;Y++)H[Y]<te?(te=H[Y],U=1,j=Y):H[Y]==te&&U++;if(U==3&&te==0)H[0]==0&&H[1]==0&&H[2]==0?D=1:H[0]==0&&H[1]==0&&H[3]==0?D=0:H[0]==0&&H[2]==0&&H[3]==0?D=3:H[1]==0&&H[2]==0&&H[3]==0&&(D=2);else if(U==2&&te==0){var Q=Math.floor(Math.random()*2);H[0]==0&&H[1]==0?Q==0?D=0:D=1:H[0]==0&&H[2]==0?Q==0?D=0:D=2:H[0]==0&&H[3]==0?Q==0?D=0:D=3:H[1]==0&&H[2]==0?Q==0?D=1:D=2:H[1]==0&&H[3]==0?Q==0?D=1:D=3:Q==0?D=2:D=3}else if(U==4&&te==0){var Q=Math.floor(Math.random()*4);D=Q}else D=j;D==0?O.setCenter(M.getCenterX(),M.getCenterY()-M.getHeight()/2-v.DEFAULT_EDGE_LENGTH-O.getHeight()/2):D==1?O.setCenter(M.getCenterX()+M.getWidth()/2+v.DEFAULT_EDGE_LENGTH+O.getWidth()/2,M.getCenterY()):D==2?O.setCenter(M.getCenterX(),M.getCenterY()+M.getHeight()/2+v.DEFAULT_EDGE_LENGTH+O.getHeight()/2):O.setCenter(M.getCenterX()-M.getWidth()/2-v.DEFAULT_EDGE_LENGTH-O.getWidth()/2,M.getCenterY())}},o.exports=N},991:(o,l,u)=>{var h=u(551).FDLayoutNode,d=u(551).IMath;function p(g,m,y,v){h.call(this,g,m,y,v)}p.prototype=Object.create(h.prototype);for(var f in h)p[f]=h[f];p.prototype.calculateDisplacement=function(){var g=this.graphManager.getLayout();this.getChild()!=null&&this.fixedNodeWeight?(this.displacementX+=g.coolingFactor*(this.springForceX+this.repulsionForceX+this.gravitationForceX)/this.fixedNodeWeight,this.displacementY+=g.coolingFactor*(this.springForceY+this.repulsionForceY+this.gravitationForceY)/this.fixedNodeWeight):(this.displacementX+=g.coolingFactor*(this.springForceX+this.repulsionForceX+this.gravitationForceX)/this.noOfChildren,this.displacementY+=g.coolingFactor*(this.springForceY+this.repulsionForceY+this.gravitationForceY)/this.noOfChildren),Math.abs(this.displacementX)>g.coolingFactor*g.maxNodeDisplacement&&(this.displacementX=g.coolingFactor*g.maxNodeDisplacement*d.sign(this.displacementX)),Math.abs(this.displacementY)>g.coolingFactor*g.maxNodeDisplacement&&(this.displacementY=g.coolingFactor*g.maxNodeDisplacement*d.sign(this.displacementY)),this.child&&this.child.getNodes().length>0&&this.propogateDisplacementToChildren(this.displacementX,this.displacementY)},p.prototype.propogateDisplacementToChildren=function(g,m){for(var y=this.getChild().getNodes(),v,x=0;x<y.length;x++)v=y[x],v.getChild()==null?(v.displacementX+=g,v.displacementY+=m):v.propogateDisplacementToChildren(g,m)},p.prototype.move=function(){var g=this.graphManager.getLayout();(this.child==null||this.child.getNodes().length==0)&&(this.moveBy(this.displacementX,this.displacementY),g.totalDisplacement+=Math.abs(this.displacementX)+Math.abs(this.displacementY)),this.springForceX=0,this.springForceY=0,this.repulsionForceX=0,this.repulsionForceY=0,this.gravitationForceX=0,this.gravitationForceY=0,this.displacementX=0,this.displacementY=0},p.prototype.setPred1=function(g){this.pred1=g},p.prototype.getPred1=function(){return pred1},p.prototype.getPred2=function(){return pred2},p.prototype.setNext=function(g){this.next=g},p.prototype.getNext=function(){return next},p.prototype.setProcessed=function(g){this.processed=g},p.prototype.isProcessed=function(){return processed},o.exports=p},902:(o,l,u)=>{function h(y){if(Array.isArray(y)){for(var v=0,x=Array(y.length);v<y.length;v++)x[v]=y[v];return x}else return Array.from(y)}var d=u(806),p=u(551).LinkedList,f=u(551).Matrix,g=u(551).SVD;function m(){}m.handleConstraints=function(y){var v={};v.fixedNodeConstraint=y.constraints.fixedNodeConstraint,v.alignmentConstraint=y.constraints.alignmentConstraint,v.relativePlacementConstraint=y.constraints.relativePlacementConstraint;for(var x=new Map,w=new Map,k=[],E=[],_=y.getAllNodes(),S=0,R=0;R<_.length;R++){var C=_[R];C.getChild()==null&&(w.set(C.id,S++),k.push(C.getCenterX()),E.push(C.getCenterY()),x.set(C.id,C))}v.relativePlacementConstraint&&v.relativePlacementConstraint.forEach(function(ve){!ve.gap&&ve.gap!=0&&(ve.left?ve.gap=d.DEFAULT_EDGE_LENGTH+x.get(ve.left).getWidth()/2+x.get(ve.right).getWidth()/2:ve.gap=d.DEFAULT_EDGE_LENGTH+x.get(ve.top).getHeight()/2+x.get(ve.bottom).getHeight()/2)});var L=function(Ee,Ce){return{x:Ee.x-Ce.x,y:Ee.y-Ce.y}},A=function(Ee){var Ce=0,Ne=0;return Ee.forEach(function(Se){Ce+=k[w.get(Se)],Ne+=E[w.get(Se)]}),{x:Ce/Ee.size,y:Ne/Ee.size}},N=function(Ee,Ce,Ne,Se,Ie){function Ae(je,Ye){var gt=new Set(je),We=!0,tt=!1,Ft=void 0;try{for(var rt=Ye[Symbol.iterator](),Ge;!(We=(Ge=rt.next()).done);We=!0){var ct=Ge.value;gt.add(ct)}}catch(Dt){tt=!0,Ft=Dt}finally{try{!We&&rt.return&&rt.return()}finally{if(tt)throw Ft}}return gt}var qe=new Map;Ee.forEach(function(je,Ye){qe.set(Ye,0)}),Ee.forEach(function(je,Ye){je.forEach(function(gt){qe.set(gt.id,qe.get(gt.id)+1)})});var De=new Map,Xe=new Map,at=new p;qe.forEach(function(je,Ye){je==0?(at.push(Ye),Ne||(Ce=="horizontal"?De.set(Ye,w.has(Ye)?k[w.get(Ye)]:Se.get(Ye)):De.set(Ye,w.has(Ye)?E[w.get(Ye)]:Se.get(Ye)))):De.set(Ye,Number.NEGATIVE_INFINITY),Ne&&Xe.set(Ye,new Set([Ye]))}),Ne&&Ie.forEach(function(je){var Ye=[];if(je.forEach(function(tt){Ne.has(tt)&&Ye.push(tt)}),Ye.length>0){var gt=0;Ye.forEach(function(tt){Ce=="horizontal"?(De.set(tt,w.has(tt)?k[w.get(tt)]:Se.get(tt)),gt+=De.get(tt)):(De.set(tt,w.has(tt)?E[w.get(tt)]:Se.get(tt)),gt+=De.get(tt))}),gt=gt/Ye.length,je.forEach(function(tt){Ne.has(tt)||De.set(tt,gt)})}else{var We=0;je.forEach(function(tt){Ce=="horizontal"?We+=w.has(tt)?k[w.get(tt)]:Se.get(tt):We+=w.has(tt)?E[w.get(tt)]:Se.get(tt)}),We=We/je.length,je.forEach(function(tt){De.set(tt,We)})}});for(var dt=function(){var Ye=at.shift(),gt=Ee.get(Ye);gt.forEach(function(We){if(De.get(We.id)<De.get(Ye)+We.gap)if(Ne&&Ne.has(We.id)){var tt=void 0;if(Ce=="horizontal"?tt=w.has(We.id)?k[w.get(We.id)]:Se.get(We.id):tt=w.has(We.id)?E[w.get(We.id)]:Se.get(We.id),De.set(We.id,tt),tt<De.get(Ye)+We.gap){var Ft=De.get(Ye)+We.gap-tt;Xe.get(Ye).forEach(function(rt){De.set(rt,De.get(rt)-Ft)})}}else De.set(We.id,De.get(Ye)+We.gap);qe.set(We.id,qe.get(We.id)-1),qe.get(We.id)==0&&at.push(We.id),Ne&&Xe.set(We.id,Ae(Xe.get(Ye),Xe.get(We.id)))})};at.length!=0;)dt();if(Ne){var ut=new Set;Ee.forEach(function(je,Ye){je.length==0&&ut.add(Ye)});var kt=[];Xe.forEach(function(je,Ye){if(ut.has(Ye)){var gt=!1,We=!0,tt=!1,Ft=void 0;try{for(var rt=je[Symbol.iterator](),Ge;!(We=(Ge=rt.next()).done);We=!0){var ct=Ge.value;Ne.has(ct)&&(gt=!0)}}catch(tr){tt=!0,Ft=tr}finally{try{!We&&rt.return&&rt.return()}finally{if(tt)throw Ft}}if(!gt){var Dt=!1,Vt=void 0;kt.forEach(function(tr,Nr){tr.has([].concat(h(je))[0])&&(Dt=!0,Vt=Nr)}),Dt?je.forEach(function(tr){kt[Vt].add(tr)}):kt.push(new Set(je))}}}),kt.forEach(function(je,Ye){var gt=Number.POSITIVE_INFINITY,We=Number.POSITIVE_INFINITY,tt=Number.NEGATIVE_INFINITY,Ft=Number.NEGATIVE_INFINITY,rt=!0,Ge=!1,ct=void 0;try{for(var Dt=je[Symbol.iterator](),Vt;!(rt=(Vt=Dt.next()).done);rt=!0){var tr=Vt.value,Nr=void 0;Ce=="horizontal"?Nr=w.has(tr)?k[w.get(tr)]:Se.get(tr):Nr=w.has(tr)?E[w.get(tr)]:Se.get(tr);var ur=De.get(tr);Nr<gt&&(gt=Nr),Nr>tt&&(tt=Nr),ur<We&&(We=ur),ur>Ft&&(Ft=ur)}}catch(Qe){Ge=!0,ct=Qe}finally{try{!rt&&Dt.return&&Dt.return()}finally{if(Ge)throw ct}}var Pn=(gt+tt)/2-(We+Ft)/2,Hr=!0,an=!1,pr=void 0;try{for(var Fn=je[Symbol.iterator](),bt;!(Hr=(bt=Fn.next()).done);Hr=!0){var Le=bt.value;De.set(Le,De.get(Le)+Pn)}}catch(Qe){an=!0,pr=Qe}finally{try{!Hr&&Fn.return&&Fn.return()}finally{if(an)throw pr}}})}return De},F=function(Ee){var Ce=0,Ne=0,Se=0,Ie=0;if(Ee.forEach(function(Xe){Xe.left?k[w.get(Xe.left)]-k[w.get(Xe.right)]>=0?Ce++:Ne++:E[w.get(Xe.top)]-E[w.get(Xe.bottom)]>=0?Se++:Ie++}),Ce>Ne&&Se>Ie)for(var Ae=0;Ae<w.size;Ae++)k[Ae]=-1*k[Ae],E[Ae]=-1*E[Ae];else if(Ce>Ne)for(var qe=0;qe<w.size;qe++)k[qe]=-1*k[qe];else if(Se>Ie)for(var De=0;De<w.size;De++)E[De]=-1*E[De]},T=function(Ee){var Ce=[],Ne=new p,Se=new Set,Ie=0;return Ee.forEach(function(Ae,qe){if(!Se.has(qe)){Ce[Ie]=[];var De=qe;for(Ne.push(De),Se.add(De),Ce[Ie].push(De);Ne.length!=0;){De=Ne.shift();var Xe=Ee.get(De);Xe.forEach(function(at){Se.has(at.id)||(Ne.push(at.id),Se.add(at.id),Ce[Ie].push(at.id))})}Ie++}}),Ce},D=function(Ee){var Ce=new Map;return Ee.forEach(function(Ne,Se){Ce.set(Se,[])}),Ee.forEach(function(Ne,Se){Ne.forEach(function(Ie){Ce.get(Se).push(Ie),Ce.get(Ie.id).push({id:Se,gap:Ie.gap,direction:Ie.direction})})}),Ce},M=function(Ee){var Ce=new Map;return Ee.forEach(function(Ne,Se){Ce.set(Se,[])}),Ee.forEach(function(Ne,Se){Ne.forEach(function(Ie){Ce.get(Ie.id).push({id:Se,gap:Ie.gap,direction:Ie.direction})})}),Ce},O=[],I=[],P=!1,B=!1,$=new Set,V=new Map,W=new Map,K=[];if(v.fixedNodeConstraint&&v.fixedNodeConstraint.forEach(function(ve){$.add(ve.nodeId)}),v.relativePlacementConstraint&&(v.relativePlacementConstraint.forEach(function(ve){ve.left?(V.has(ve.left)?V.get(ve.left).push({id:ve.right,gap:ve.gap,direction:"horizontal"}):V.set(ve.left,[{id:ve.right,gap:ve.gap,direction:"horizontal"}]),V.has(ve.right)||V.set(ve.right,[])):(V.has(ve.top)?V.get(ve.top).push({id:ve.bottom,gap:ve.gap,direction:"vertical"}):V.set(ve.top,[{id:ve.bottom,gap:ve.gap,direction:"vertical"}]),V.has(ve.bottom)||V.set(ve.bottom,[]))}),W=D(V),K=T(W)),d.TRANSFORM_ON_CONSTRAINT_HANDLING){if(v.fixedNodeConstraint&&v.fixedNodeConstraint.length>1)v.fixedNodeConstraint.forEach(function(ve,Ee){O[Ee]=[ve.position.x,ve.position.y],I[Ee]=[k[w.get(ve.nodeId)],E[w.get(ve.nodeId)]]}),P=!0;else if(v.alignmentConstraint)(function(){var ve=0;if(v.alignmentConstraint.vertical){for(var Ee=v.alignmentConstraint.vertical,Ce=function(De){var Xe=new Set;Ee[De].forEach(function(ut){Xe.add(ut)});var at=new Set([].concat(h(Xe)).filter(function(ut){return $.has(ut)})),dt=void 0;at.size>0?dt=k[w.get(at.values().next().value)]:dt=A(Xe).x,Ee[De].forEach(function(ut){O[ve]=[dt,E[w.get(ut)]],I[ve]=[k[w.get(ut)],E[w.get(ut)]],ve++})},Ne=0;Ne<Ee.length;Ne++)Ce(Ne);P=!0}if(v.alignmentConstraint.horizontal){for(var Se=v.alignmentConstraint.horizontal,Ie=function(De){var Xe=new Set;Se[De].forEach(function(ut){Xe.add(ut)});var at=new Set([].concat(h(Xe)).filter(function(ut){return $.has(ut)})),dt=void 0;at.size>0?dt=k[w.get(at.values().next().value)]:dt=A(Xe).y,Se[De].forEach(function(ut){O[ve]=[k[w.get(ut)],dt],I[ve]=[k[w.get(ut)],E[w.get(ut)]],ve++})},Ae=0;Ae<Se.length;Ae++)Ie(Ae);P=!0}v.relativePlacementConstraint&&(B=!0)})();else if(v.relativePlacementConstraint){for(var Z=0,H=0,ee=0;ee<K.length;ee++)K[ee].length>Z&&(Z=K[ee].length,H=ee);if(Z<W.size/2)F(v.relativePlacementConstraint),P=!1,B=!1;else{var te=new Map,U=new Map,j=[];K[H].forEach(function(ve){V.get(ve).forEach(function(Ee){Ee.direction=="horizontal"?(te.has(ve)?te.get(ve).push(Ee):te.set(ve,[Ee]),te.has(Ee.id)||te.set(Ee.id,[]),j.push({left:ve,right:Ee.id})):(U.has(ve)?U.get(ve).push(Ee):U.set(ve,[Ee]),U.has(Ee.id)||U.set(Ee.id,[]),j.push({top:ve,bottom:Ee.id}))})}),F(j),B=!1;var Y=N(te,"horizontal"),Q=N(U,"vertical");K[H].forEach(function(ve,Ee){I[Ee]=[k[w.get(ve)],E[w.get(ve)]],O[Ee]=[],Y.has(ve)?O[Ee][0]=Y.get(ve):O[Ee][0]=k[w.get(ve)],Q.has(ve)?O[Ee][1]=Q.get(ve):O[Ee][1]=E[w.get(ve)]}),P=!0}}if(P){for(var ae=void 0,ie=f.transpose(O),J=f.transpose(I),_e=0;_e<ie.length;_e++)ie[_e]=f.multGamma(ie[_e]),J[_e]=f.multGamma(J[_e]);var ce=f.multMat(ie,f.transpose(J)),Te=g.svd(ce);ae=f.multMat(Te.V,f.transpose(Te.U));for(var be=0;be<w.size;be++){var Ue=[k[be],E[be]],He=[ae[0][0],ae[1][0]],Ve=[ae[0][1],ae[1][1]];k[be]=f.dotProduct(Ue,He),E[be]=f.dotProduct(Ue,Ve)}B&&F(v.relativePlacementConstraint)}}if(d.ENFORCE_CONSTRAINTS){if(v.fixedNodeConstraint&&v.fixedNodeConstraint.length>0){var Re={x:0,y:0};v.fixedNodeConstraint.forEach(function(ve,Ee){var Ce={x:k[w.get(ve.nodeId)],y:E[w.get(ve.nodeId)]},Ne=ve.position,Se=L(Ne,Ce);Re.x+=Se.x,Re.y+=Se.y}),Re.x/=v.fixedNodeConstraint.length,Re.y/=v.fixedNodeConstraint.length,k.forEach(function(ve,Ee){k[Ee]+=Re.x}),E.forEach(function(ve,Ee){E[Ee]+=Re.y}),v.fixedNodeConstraint.forEach(function(ve){k[w.get(ve.nodeId)]=ve.position.x,E[w.get(ve.nodeId)]=ve.position.y})}if(v.alignmentConstraint){if(v.alignmentConstraint.vertical)for(var de=v.alignmentConstraint.vertical,X=function(Ee){var Ce=new Set;de[Ee].forEach(function(Ie){Ce.add(Ie)});var Ne=new Set([].concat(h(Ce)).filter(function(Ie){return $.has(Ie)})),Se=void 0;Ne.size>0?Se=k[w.get(Ne.values().next().value)]:Se=A(Ce).x,Ce.forEach(function(Ie){$.has(Ie)||(k[w.get(Ie)]=Se)})},oe=0;oe<de.length;oe++)X(oe);if(v.alignmentConstraint.horizontal)for(var me=v.alignmentConstraint.horizontal,ne=function(Ee){var Ce=new Set;me[Ee].forEach(function(Ie){Ce.add(Ie)});var Ne=new Set([].concat(h(Ce)).filter(function(Ie){return $.has(Ie)})),Se=void 0;Ne.size>0?Se=E[w.get(Ne.values().next().value)]:Se=A(Ce).y,Ce.forEach(function(Ie){$.has(Ie)||(E[w.get(Ie)]=Se)})},ue=0;ue<me.length;ue++)ne(ue)}v.relativePlacementConstraint&&function(){var ve=new Map,Ee=new Map,Ce=new Map,Ne=new Map,Se=new Map,Ie=new Map,Ae=new Set,qe=new Set;if($.forEach(function(ir){Ae.add(ir),qe.add(ir)}),v.alignmentConstraint){if(v.alignmentConstraint.vertical)for(var De=v.alignmentConstraint.vertical,Xe=function(he){Ce.set("dummy"+he,[]),De[he].forEach(function(gr){ve.set(gr,"dummy"+he),Ce.get("dummy"+he).push(gr),$.has(gr)&&Ae.add("dummy"+he)}),Se.set("dummy"+he,k[w.get(De[he][0])])},at=0;at<De.length;at++)Xe(at);if(v.alignmentConstraint.horizontal)for(var dt=v.alignmentConstraint.horizontal,ut=function(he){Ne.set("dummy"+he,[]),dt[he].forEach(function(gr){Ee.set(gr,"dummy"+he),Ne.get("dummy"+he).push(gr),$.has(gr)&&qe.add("dummy"+he)}),Ie.set("dummy"+he,E[w.get(dt[he][0])])},kt=0;kt<dt.length;kt++)ut(kt)}var je=new Map,Ye=new Map,gt=function(he){V.get(he).forEach(function(gr){var ye=void 0,on=void 0;gr.direction=="horizontal"?(ye=ve.get(he)?ve.get(he):he,ve.get(gr.id)?on={id:ve.get(gr.id),gap:gr.gap,direction:gr.direction}:on=gr,je.has(ye)?je.get(ye).push(on):je.set(ye,[on]),je.has(on.id)||je.set(on.id,[])):(ye=Ee.get(he)?Ee.get(he):he,Ee.get(gr.id)?on={id:Ee.get(gr.id),gap:gr.gap,direction:gr.direction}:on=gr,Ye.has(ye)?Ye.get(ye).push(on):Ye.set(ye,[on]),Ye.has(on.id)||Ye.set(on.id,[]))})},We=!0,tt=!1,Ft=void 0;try{for(var rt=V.keys()[Symbol.iterator](),Ge;!(We=(Ge=rt.next()).done);We=!0){var ct=Ge.value;gt(ct)}}catch(ir){tt=!0,Ft=ir}finally{try{!We&&rt.return&&rt.return()}finally{if(tt)throw Ft}}var Dt=D(je),Vt=D(Ye),tr=T(Dt),Nr=T(Vt),ur=M(je),Pn=M(Ye),Hr=[],an=[];tr.forEach(function(ir,he){Hr[he]=[],ir.forEach(function(gr){ur.get(gr).length==0&&Hr[he].push(gr)})}),Nr.forEach(function(ir,he){an[he]=[],ir.forEach(function(gr){Pn.get(gr).length==0&&an[he].push(gr)})});var pr=N(je,"horizontal",Ae,Se,Hr),Fn=N(Ye,"vertical",qe,Ie,an),bt=function(he){Ce.get(he)?Ce.get(he).forEach(function(gr){k[w.get(gr)]=pr.get(he)}):k[w.get(he)]=pr.get(he)},Le=!0,Qe=!1,Tt=void 0;try{for(var nr=pr.keys()[Symbol.iterator](),Qr;!(Le=(Qr=nr.next()).done);Le=!0){var sn=Qr.value;bt(sn)}}catch(ir){Qe=!0,Tt=ir}finally{try{!Le&&nr.return&&nr.return()}finally{if(Qe)throw Tt}}var xr=function(he){Ne.get(he)?Ne.get(he).forEach(function(gr){E[w.get(gr)]=Fn.get(he)}):E[w.get(he)]=Fn.get(he)},Wr=!0,Et=!1,xt=void 0;try{for(var _t=Fn.keys()[Symbol.iterator](),ot;!(Wr=(ot=_t.next()).done);Wr=!0){var sn=ot.value;xr(sn)}}catch(ir){Et=!0,xt=ir}finally{try{!Wr&&_t.return&&_t.return()}finally{if(Et)throw xt}}}()}for(var pe=0;pe<_.length;pe++){var ge=_[pe];ge.getChild()==null&&ge.setCenter(k[w.get(ge.id)],E[w.get(ge.id)])}},o.exports=m},551:o=>{o.exports=r}},i={};function a(o){var l=i[o];if(l!==void 0)return l.exports;var u=i[o]={exports:{}};return n[o](u,u.exports,a),u.exports}var s=a(45);return s})()})}(IE)),IE.exports}(function(t,e){(function(n,i){t.exports=i(wtt())})(Il,function(r){return(()=>{var n={658:o=>{o.exports=Object.assign!=null?Object.assign.bind(Object):function(l){for(var u=arguments.length,h=Array(u>1?u-1:0),d=1;d<u;d++)h[d-1]=arguments[d];return h.forEach(function(p){Object.keys(p).forEach(function(f){return l[f]=p[f]})}),l}},548:(o,l,u)=>{var h=function(){function f(g,m){var y=[],v=!0,x=!1,w=void 0;try{for(var k=g[Symbol.iterator](),E;!(v=(E=k.next()).done)&&(y.push(E.value),!(m&&y.length===m));v=!0);}catch(_){x=!0,w=_}finally{try{!v&&k.return&&k.return()}finally{if(x)throw w}}return y}return function(g,m){if(Array.isArray(g))return g;if(Symbol.iterator in Object(g))return f(g,m);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),d=u(140).layoutBase.LinkedList,p={};p.getTopMostNodes=function(f){for(var g={},m=0;m<f.length;m++)g[f[m].id()]=!0;var y=f.filter(function(v,x){typeof v=="number"&&(v=x);for(var w=v.parent()[0];w!=null;){if(g[w.id()])return!1;w=w.parent()[0]}return!0});return y},p.connectComponents=function(f,g,m,y){var v=new d,x=new Set,w=[],k=void 0,E=void 0,_=void 0,S=!1,R=1,C=[],L=[],A=function(){var F=f.collection();L.push(F);var T=m[0],D=f.collection();D.merge(T).merge(T.descendants().intersection(g)),w.push(T),D.forEach(function(I){v.push(I),x.add(I),F.merge(I)});for(var M=function(){T=v.shift();var P=f.collection();T.neighborhood().nodes().forEach(function(W){g.intersection(T.edgesWith(W)).length>0&&P.merge(W)});for(var B=0;B<P.length;B++){var $=P[B];if(k=m.intersection($.union($.ancestors())),k!=null&&!x.has(k[0])){var V=k.union(k.descendants());V.forEach(function(W){v.push(W),x.add(W),F.merge(W),m.has(W)&&w.push(W)})}}};v.length!=0;)M();if(F.forEach(function(I){g.intersection(I.connectedEdges()).forEach(function(P){F.has(P.source())&&F.has(P.target())&&F.merge(P)})}),w.length==m.length&&(S=!0),!S||S&&R>1){E=w[0],_=E.connectedEdges().length,w.forEach(function(I){I.connectedEdges().length<_&&(_=I.connectedEdges().length,E=I)}),C.push(E.id());var O=f.collection();O.merge(w[0]),w.forEach(function(I){O.merge(I)}),w=[],m=m.difference(O),R++}};do A();while(!S);return y&&C.length>0&&y.set("dummy"+(y.size+1),C),L},p.relocateComponent=function(f,g,m){if(!m.fixedNodeConstraint){var y=Number.POSITIVE_INFINITY,v=Number.NEGATIVE_INFINITY,x=Number.POSITIVE_INFINITY,w=Number.NEGATIVE_INFINITY;if(m.quality=="draft"){var k=!0,E=!1,_=void 0;try{for(var S=g.nodeIndexes[Symbol.iterator](),R;!(k=(R=S.next()).done);k=!0){var C=R.value,L=h(C,2),A=L[0],N=L[1],F=m.cy.getElementById(A);if(F){var T=F.boundingBox(),D=g.xCoords[N]-T.w/2,M=g.xCoords[N]+T.w/2,O=g.yCoords[N]-T.h/2,I=g.yCoords[N]+T.h/2;D<y&&(y=D),M>v&&(v=M),O<x&&(x=O),I>w&&(w=I)}}}catch(W){E=!0,_=W}finally{try{!k&&S.return&&S.return()}finally{if(E)throw _}}var P=f.x-(v+y)/2,B=f.y-(w+x)/2;g.xCoords=g.xCoords.map(function(W){return W+P}),g.yCoords=g.yCoords.map(function(W){return W+B})}else{Object.keys(g).forEach(function(W){var K=g[W],Z=K.getRect().x,H=K.getRect().x+K.getRect().width,ee=K.getRect().y,te=K.getRect().y+K.getRect().height;Z<y&&(y=Z),H>v&&(v=H),ee<x&&(x=ee),te>w&&(w=te)});var $=f.x-(v+y)/2,V=f.y-(w+x)/2;Object.keys(g).forEach(function(W){var K=g[W];K.setCenter(K.getCenterX()+$,K.getCenterY()+V)})}}},p.calcBoundingBox=function(f,g,m,y){for(var v=Number.MAX_SAFE_INTEGER,x=Number.MIN_SAFE_INTEGER,w=Number.MAX_SAFE_INTEGER,k=Number.MIN_SAFE_INTEGER,E=void 0,_=void 0,S=void 0,R=void 0,C=f.descendants().not(":parent"),L=C.length,A=0;A<L;A++){var N=C[A];E=g[y.get(N.id())]-N.width()/2,_=g[y.get(N.id())]+N.width()/2,S=m[y.get(N.id())]-N.height()/2,R=m[y.get(N.id())]+N.height()/2,v>E&&(v=E),x<_&&(x=_),w>S&&(w=S),k<R&&(k=R)}var F={};return F.topLeftX=v,F.topLeftY=w,F.width=x-v,F.height=k-w,F},p.calcParentsWithoutChildren=function(f,g){var m=f.collection();return g.nodes(":parent").forEach(function(y){var v=!1;y.children().forEach(function(x){x.css("display")!="none"&&(v=!0)}),v||m.merge(y)}),m},o.exports=p},816:(o,l,u)=>{var h=u(548),d=u(140).CoSELayout,p=u(140).CoSENode,f=u(140).layoutBase.PointD,g=u(140).layoutBase.DimensionD,m=u(140).layoutBase.LayoutConstants,y=u(140).layoutBase.FDLayoutConstants,v=u(140).CoSEConstants,x=function(k,E){var _=k.cy,S=k.eles,R=S.nodes(),C=S.edges(),L=void 0,A=void 0,N=void 0,F={};k.randomize&&(L=E.nodeIndexes,A=E.xCoords,N=E.yCoords);var T=function(W){return typeof W=="function"},D=function(W,K){return T(W)?W(K):W},M=h.calcParentsWithoutChildren(_,S),O=function V(W,K,Z,H){for(var ee=K.length,te=0;te<ee;te++){var U=K[te],j=null;U.intersection(M).length==0&&(j=U.children());var Y=void 0,Q=U.layoutDimensions({nodeDimensionsIncludeLabels:H.nodeDimensionsIncludeLabels});if(U.outerWidth()!=null&&U.outerHeight()!=null)if(H.randomize)if(!U.isParent())Y=W.add(new p(Z.graphManager,new f(A[L.get(U.id())]-Q.w/2,N[L.get(U.id())]-Q.h/2),new g(parseFloat(Q.w),parseFloat(Q.h))));else{var ae=h.calcBoundingBox(U,A,N,L);U.intersection(M).length==0?Y=W.add(new p(Z.graphManager,new f(ae.topLeftX,ae.topLeftY),new g(ae.width,ae.height))):Y=W.add(new p(Z.graphManager,new f(ae.topLeftX,ae.topLeftY),new g(parseFloat(Q.w),parseFloat(Q.h))))}else Y=W.add(new p(Z.graphManager,new f(U.position("x")-Q.w/2,U.position("y")-Q.h/2),new g(parseFloat(Q.w),parseFloat(Q.h))));else Y=W.add(new p(this.graphManager));if(Y.id=U.data("id"),Y.nodeRepulsion=D(H.nodeRepulsion,U),Y.paddingLeft=parseInt(U.css("padding")),Y.paddingTop=parseInt(U.css("padding")),Y.paddingRight=parseInt(U.css("padding")),Y.paddingBottom=parseInt(U.css("padding")),H.nodeDimensionsIncludeLabels&&(Y.labelWidth=U.boundingBox({includeLabels:!0,includeNodes:!1,includeOverlays:!1}).w,Y.labelHeight=U.boundingBox({includeLabels:!0,includeNodes:!1,includeOverlays:!1}).h,Y.labelPosVertical=U.css("text-valign"),Y.labelPosHorizontal=U.css("text-halign")),F[U.data("id")]=Y,isNaN(Y.rect.x)&&(Y.rect.x=0),isNaN(Y.rect.y)&&(Y.rect.y=0),j!=null&&j.length>0){var ie=void 0;ie=Z.getGraphManager().add(Z.newGraph(),Y),V(ie,j,Z,H)}}},I=function(W,K,Z){for(var H=0,ee=0,te=0;te<Z.length;te++){var U=Z[te],j=F[U.data("source")],Y=F[U.data("target")];if(j&&Y&&j!==Y&&j.getEdgesBetween(Y).length==0){var Q=K.add(W.newEdge(),j,Y);Q.id=U.id(),Q.idealLength=D(k.idealEdgeLength,U),Q.edgeElasticity=D(k.edgeElasticity,U),H+=Q.idealLength,ee++}}k.idealEdgeLength!=null&&(ee>0?v.DEFAULT_EDGE_LENGTH=y.DEFAULT_EDGE_LENGTH=H/ee:T(k.idealEdgeLength)?v.DEFAULT_EDGE_LENGTH=y.DEFAULT_EDGE_LENGTH=50:v.DEFAULT_EDGE_LENGTH=y.DEFAULT_EDGE_LENGTH=k.idealEdgeLength,v.MIN_REPULSION_DIST=y.MIN_REPULSION_DIST=y.DEFAULT_EDGE_LENGTH/10,v.DEFAULT_RADIAL_SEPARATION=y.DEFAULT_EDGE_LENGTH)},P=function(W,K){K.fixedNodeConstraint&&(W.constraints.fixedNodeConstraint=K.fixedNodeConstraint),K.alignmentConstraint&&(W.constraints.alignmentConstraint=K.alignmentConstraint),K.relativePlacementConstraint&&(W.constraints.relativePlacementConstraint=K.relativePlacementConstraint)};k.nestingFactor!=null&&(v.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=y.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=k.nestingFactor),k.gravity!=null&&(v.DEFAULT_GRAVITY_STRENGTH=y.DEFAULT_GRAVITY_STRENGTH=k.gravity),k.numIter!=null&&(v.MAX_ITERATIONS=y.MAX_ITERATIONS=k.numIter),k.gravityRange!=null&&(v.DEFAULT_GRAVITY_RANGE_FACTOR=y.DEFAULT_GRAVITY_RANGE_FACTOR=k.gravityRange),k.gravityCompound!=null&&(v.DEFAULT_COMPOUND_GRAVITY_STRENGTH=y.DEFAULT_COMPOUND_GRAVITY_STRENGTH=k.gravityCompound),k.gravityRangeCompound!=null&&(v.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=y.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=k.gravityRangeCompound),k.initialEnergyOnIncremental!=null&&(v.DEFAULT_COOLING_FACTOR_INCREMENTAL=y.DEFAULT_COOLING_FACTOR_INCREMENTAL=k.initialEnergyOnIncremental),k.tilingCompareBy!=null&&(v.TILING_COMPARE_BY=k.tilingCompareBy),k.quality=="proof"?m.QUALITY=2:m.QUALITY=0,v.NODE_DIMENSIONS_INCLUDE_LABELS=y.NODE_DIMENSIONS_INCLUDE_LABELS=m.NODE_DIMENSIONS_INCLUDE_LABELS=k.nodeDimensionsIncludeLabels,v.DEFAULT_INCREMENTAL=y.DEFAULT_INCREMENTAL=m.DEFAULT_INCREMENTAL=!k.randomize,v.ANIMATE=y.ANIMATE=m.ANIMATE=k.animate,v.TILE=k.tile,v.TILING_PADDING_VERTICAL=typeof k.tilingPaddingVertical=="function"?k.tilingPaddingVertical.call():k.tilingPaddingVertical,v.TILING_PADDING_HORIZONTAL=typeof k.tilingPaddingHorizontal=="function"?k.tilingPaddingHorizontal.call():k.tilingPaddingHorizontal,v.DEFAULT_INCREMENTAL=y.DEFAULT_INCREMENTAL=m.DEFAULT_INCREMENTAL=!0,v.PURE_INCREMENTAL=!k.randomize,m.DEFAULT_UNIFORM_LEAF_NODE_SIZES=k.uniformNodeDimensions,k.step=="transformed"&&(v.TRANSFORM_ON_CONSTRAINT_HANDLING=!0,v.ENFORCE_CONSTRAINTS=!1,v.APPLY_LAYOUT=!1),k.step=="enforced"&&(v.TRANSFORM_ON_CONSTRAINT_HANDLING=!1,v.ENFORCE_CONSTRAINTS=!0,v.APPLY_LAYOUT=!1),k.step=="cose"&&(v.TRANSFORM_ON_CONSTRAINT_HANDLING=!1,v.ENFORCE_CONSTRAINTS=!1,v.APPLY_LAYOUT=!0),k.step=="all"&&(k.randomize?v.TRANSFORM_ON_CONSTRAINT_HANDLING=!0:v.TRANSFORM_ON_CONSTRAINT_HANDLING=!1,v.ENFORCE_CONSTRAINTS=!0,v.APPLY_LAYOUT=!0),k.fixedNodeConstraint||k.alignmentConstraint||k.relativePlacementConstraint?v.TREE_REDUCTION_ON_INCREMENTAL=!1:v.TREE_REDUCTION_ON_INCREMENTAL=!0;var B=new d,$=B.newGraphManager();return O($.addRoot(),h.getTopMostNodes(R),B,k),I(B,$,C),P(B,k),B.runLayout(),F};o.exports={coseLayout:x}},212:(o,l,u)=>{var h=function(){function k(E,_){for(var S=0;S<_.length;S++){var R=_[S];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(E,R.key,R)}}return function(E,_,S){return _&&k(E.prototype,_),S&&k(E,S),E}}();function d(k,E){if(!(k instanceof E))throw new TypeError("Cannot call a class as a function")}var p=u(658),f=u(548),g=u(657),m=g.spectralLayout,y=u(816),v=y.coseLayout,x=Object.freeze({quality:"default",randomize:!0,animate:!0,animationDuration:1e3,animationEasing:void 0,fit:!0,padding:30,nodeDimensionsIncludeLabels:!1,uniformNodeDimensions:!1,packComponents:!0,step:"all",samplingType:!0,sampleSize:25,nodeSeparation:75,piTol:1e-7,nodeRepulsion:function(E){return 4500},idealEdgeLength:function(E){return 50},edgeElasticity:function(E){return .45},nestingFactor:.1,gravity:.25,numIter:2500,tile:!0,tilingCompareBy:void 0,tilingPaddingVertical:10,tilingPaddingHorizontal:10,gravityRangeCompound:1.5,gravityCompound:1,gravityRange:3.8,initialEnergyOnIncremental:.3,fixedNodeConstraint:void 0,alignmentConstraint:void 0,relativePlacementConstraint:void 0,ready:function(){},stop:function(){}}),w=function(){function k(E){d(this,k),this.options=p({},x,E)}return h(k,[{key:"run",value:function(){var _=this,S=this.options,R=S.cy,C=S.eles,L=[],A=[],N=void 0,F=[];S.fixedNodeConstraint&&(!Array.isArray(S.fixedNodeConstraint)||S.fixedNodeConstraint.length==0)&&(S.fixedNodeConstraint=void 0),S.alignmentConstraint&&(S.alignmentConstraint.vertical&&(!Array.isArray(S.alignmentConstraint.vertical)||S.alignmentConstraint.vertical.length==0)&&(S.alignmentConstraint.vertical=void 0),S.alignmentConstraint.horizontal&&(!Array.isArray(S.alignmentConstraint.horizontal)||S.alignmentConstraint.horizontal.length==0)&&(S.alignmentConstraint.horizontal=void 0)),S.relativePlacementConstraint&&(!Array.isArray(S.relativePlacementConstraint)||S.relativePlacementConstraint.length==0)&&(S.relativePlacementConstraint=void 0);var T=S.fixedNodeConstraint||S.alignmentConstraint||S.relativePlacementConstraint;T&&(S.tile=!1,S.packComponents=!1);var D=void 0,M=!1;if(R.layoutUtilities&&S.packComponents&&(D=R.layoutUtilities("get"),D||(D=R.layoutUtilities()),M=!0),C.nodes().length>0)if(M){var P=f.getTopMostNodes(S.eles.nodes());if(N=f.connectComponents(R,S.eles,P),N.forEach(function(ce){var Te=ce.boundingBox();F.push({x:Te.x1+Te.w/2,y:Te.y1+Te.h/2})}),S.randomize&&N.forEach(function(ce){S.eles=ce,L.push(m(S))}),S.quality=="default"||S.quality=="proof"){var B=R.collection();if(S.tile){var $=new Map,V=[],W=[],K=0,Z={nodeIndexes:$,xCoords:V,yCoords:W},H=[];if(N.forEach(function(ce,Te){ce.edges().length==0&&(ce.nodes().forEach(function(be,Ue){B.merge(ce.nodes()[Ue]),be.isParent()||(Z.nodeIndexes.set(ce.nodes()[Ue].id(),K++),Z.xCoords.push(ce.nodes()[0].position().x),Z.yCoords.push(ce.nodes()[0].position().y))}),H.push(Te))}),B.length>1){var ee=B.boundingBox();F.push({x:ee.x1+ee.w/2,y:ee.y1+ee.h/2}),N.push(B),L.push(Z);for(var te=H.length-1;te>=0;te--)N.splice(H[te],1),L.splice(H[te],1),F.splice(H[te],1)}}N.forEach(function(ce,Te){S.eles=ce,A.push(v(S,L[Te])),f.relocateComponent(F[Te],A[Te],S)})}else N.forEach(function(ce,Te){f.relocateComponent(F[Te],L[Te],S)});var U=new Set;if(N.length>1){var j=[],Y=C.filter(function(ce){return ce.css("display")=="none"});N.forEach(function(ce,Te){var be=void 0;if(S.quality=="draft"&&(be=L[Te].nodeIndexes),ce.nodes().not(Y).length>0){var Ue={};Ue.edges=[],Ue.nodes=[];var He=void 0;ce.nodes().not(Y).forEach(function(Ve){if(S.quality=="draft")if(!Ve.isParent())He=be.get(Ve.id()),Ue.nodes.push({x:L[Te].xCoords[He]-Ve.boundingbox().w/2,y:L[Te].yCoords[He]-Ve.boundingbox().h/2,width:Ve.boundingbox().w,height:Ve.boundingbox().h});else{var Re=f.calcBoundingBox(Ve,L[Te].xCoords,L[Te].yCoords,be);Ue.nodes.push({x:Re.topLeftX,y:Re.topLeftY,width:Re.width,height:Re.height})}else A[Te][Ve.id()]&&Ue.nodes.push({x:A[Te][Ve.id()].getLeft(),y:A[Te][Ve.id()].getTop(),width:A[Te][Ve.id()].getWidth(),height:A[Te][Ve.id()].getHeight()})}),ce.edges().forEach(function(Ve){var Re=Ve.source(),de=Ve.target();if(Re.css("display")!="none"&&de.css("display")!="none")if(S.quality=="draft"){var X=be.get(Re.id()),oe=be.get(de.id()),me=[],ne=[];if(Re.isParent()){var ue=f.calcBoundingBox(Re,L[Te].xCoords,L[Te].yCoords,be);me.push(ue.topLeftX+ue.width/2),me.push(ue.topLeftY+ue.height/2)}else me.push(L[Te].xCoords[X]),me.push(L[Te].yCoords[X]);if(de.isParent()){var pe=f.calcBoundingBox(de,L[Te].xCoords,L[Te].yCoords,be);ne.push(pe.topLeftX+pe.width/2),ne.push(pe.topLeftY+pe.height/2)}else ne.push(L[Te].xCoords[oe]),ne.push(L[Te].yCoords[oe]);Ue.edges.push({startX:me[0],startY:me[1],endX:ne[0],endY:ne[1]})}else A[Te][Re.id()]&&A[Te][de.id()]&&Ue.edges.push({startX:A[Te][Re.id()].getCenterX(),startY:A[Te][Re.id()].getCenterY(),endX:A[Te][de.id()].getCenterX(),endY:A[Te][de.id()].getCenterY()})}),Ue.nodes.length>0&&(j.push(Ue),U.add(Te))}});var Q=D.packComponents(j,S.randomize).shifts;if(S.quality=="draft")L.forEach(function(ce,Te){var be=ce.xCoords.map(function(He){return He+Q[Te].dx}),Ue=ce.yCoords.map(function(He){return He+Q[Te].dy});ce.xCoords=be,ce.yCoords=Ue});else{var ae=0;U.forEach(function(ce){Object.keys(A[ce]).forEach(function(Te){var be=A[ce][Te];be.setCenter(be.getCenterX()+Q[ae].dx,be.getCenterY()+Q[ae].dy)}),ae++})}}}else{var O=S.eles.boundingBox();if(F.push({x:O.x1+O.w/2,y:O.y1+O.h/2}),S.randomize){var I=m(S);L.push(I)}S.quality=="default"||S.quality=="proof"?(A.push(v(S,L[0])),f.relocateComponent(F[0],A[0],S)):f.relocateComponent(F[0],L[0],S)}var ie=function(Te,be){if(S.quality=="default"||S.quality=="proof"){typeof Te=="number"&&(Te=be);var Ue=void 0,He=void 0,Ve=Te.data("id");return A.forEach(function(de){Ve in de&&(Ue={x:de[Ve].getRect().getCenterX(),y:de[Ve].getRect().getCenterY()},He=de[Ve])}),S.nodeDimensionsIncludeLabels&&(He.labelWidth&&(He.labelPosHorizontal=="left"?Ue.x+=He.labelWidth/2:He.labelPosHorizontal=="right"&&(Ue.x-=He.labelWidth/2)),He.labelHeight&&(He.labelPosVertical=="top"?Ue.y+=He.labelHeight/2:He.labelPosVertical=="bottom"&&(Ue.y-=He.labelHeight/2))),Ue==null&&(Ue={x:Te.position("x"),y:Te.position("y")}),{x:Ue.x,y:Ue.y}}else{var Re=void 0;return L.forEach(function(de){var X=de.nodeIndexes.get(Te.id());X!=null&&(Re={x:de.xCoords[X],y:de.yCoords[X]})}),Re==null&&(Re={x:Te.position("x"),y:Te.position("y")}),{x:Re.x,y:Re.y}}};if(S.quality=="default"||S.quality=="proof"||S.randomize){var J=f.calcParentsWithoutChildren(R,C),_e=C.filter(function(ce){return ce.css("display")=="none"});S.eles=C.not(_e),C.nodes().not(":parent").not(_e).layoutPositions(_,S,ie),J.length>0&&J.forEach(function(ce){ce.position(ie(ce))})}else console.log("If randomize option is set to false, then quality option must be 'default' or 'proof'.")}}]),k}();o.exports=w},657:(o,l,u)=>{var h=u(548),d=u(140).layoutBase.Matrix,p=u(140).layoutBase.SVD,f=function(m){var y=m.cy,v=m.eles,x=v.nodes(),w=v.nodes(":parent"),k=new Map,E=new Map,_=new Map,S=[],R=[],C=[],L=[],A=[],N=[],F=[],T=[],D=void 0,M=1e8,O=1e-9,I=m.piTol,P=m.samplingType,B=m.nodeSeparation,$=void 0,V=function(){for(var Ee=0,Ce=0,Ne=!1;Ce<$;){Ee=Math.floor(Math.random()*D),Ne=!1;for(var Se=0;Se<Ce;Se++)if(L[Se]==Ee){Ne=!0;break}if(!Ne)L[Ce]=Ee,Ce++;else continue}},W=function(Ee,Ce,Ne){for(var Se=[],Ie=0,Ae=0,qe=0,De=void 0,Xe=[],at=0,dt=1,ut=0;ut<D;ut++)Xe[ut]=M;for(Se[Ae]=Ee,Xe[Ee]=0;Ae>=Ie;){qe=Se[Ie++];for(var kt=S[qe],je=0;je<kt.length;je++)De=E.get(kt[je]),Xe[De]==M&&(Xe[De]=Xe[qe]+1,Se[++Ae]=De);N[qe][Ce]=Xe[qe]*B}if(Ne){for(var Ye=0;Ye<D;Ye++)N[Ye][Ce]<A[Ye]&&(A[Ye]=N[Ye][Ce]);for(var gt=0;gt<D;gt++)A[gt]>at&&(at=A[gt],dt=gt)}return dt},K=function(Ee){var Ce=void 0;if(Ee){Ce=Math.floor(Math.random()*D);for(var Se=0;Se<D;Se++)A[Se]=M;for(var Ie=0;Ie<$;Ie++)L[Ie]=Ce,Ce=W(Ce,Ie,Ee)}else{V();for(var Ne=0;Ne<$;Ne++)W(L[Ne],Ne,Ee)}for(var Ae=0;Ae<D;Ae++)for(var qe=0;qe<$;qe++)N[Ae][qe]*=N[Ae][qe];for(var De=0;De<$;De++)F[De]=[];for(var Xe=0;Xe<$;Xe++)for(var at=0;at<$;at++)F[Xe][at]=N[L[at]][Xe]},Z=function(){for(var Ee=p.svd(F),Ce=Ee.S,Ne=Ee.U,Se=Ee.V,Ie=Ce[0]*Ce[0]*Ce[0],Ae=[],qe=0;qe<$;qe++){Ae[qe]=[];for(var De=0;De<$;De++)Ae[qe][De]=0,qe==De&&(Ae[qe][De]=Ce[qe]/(Ce[qe]*Ce[qe]+Ie/(Ce[qe]*Ce[qe])))}T=d.multMat(d.multMat(Se,Ae),d.transpose(Ne))},H=function(){for(var Ee=void 0,Ce=void 0,Ne=[],Se=[],Ie=[],Ae=[],qe=0;qe<D;qe++)Ne[qe]=Math.random(),Se[qe]=Math.random();Ne=d.normalize(Ne),Se=d.normalize(Se);for(var De=O,Xe=O,at=void 0;;){for(var dt=0;dt<D;dt++)Ie[dt]=Ne[dt];if(Ne=d.multGamma(d.multL(d.multGamma(Ie),N,T)),Ee=d.dotProduct(Ie,Ne),Ne=d.normalize(Ne),De=d.dotProduct(Ie,Ne),at=Math.abs(De/Xe),at<=1+I&&at>=1)break;Xe=De}for(var ut=0;ut<D;ut++)Ie[ut]=Ne[ut];for(Xe=O;;){for(var kt=0;kt<D;kt++)Ae[kt]=Se[kt];if(Ae=d.minusOp(Ae,d.multCons(Ie,d.dotProduct(Ie,Ae))),Se=d.multGamma(d.multL(d.multGamma(Ae),N,T)),Ce=d.dotProduct(Ae,Se),Se=d.normalize(Se),De=d.dotProduct(Ae,Se),at=Math.abs(De/Xe),at<=1+I&&at>=1)break;Xe=De}for(var je=0;je<D;je++)Ae[je]=Se[je];R=d.multCons(Ie,Math.sqrt(Math.abs(Ee))),C=d.multCons(Ae,Math.sqrt(Math.abs(Ce)))};h.connectComponents(y,v,h.getTopMostNodes(x),k),w.forEach(function(ve){h.connectComponents(y,v,h.getTopMostNodes(ve.descendants().intersection(v)),k)});for(var ee=0,te=0;te<x.length;te++)x[te].isParent()||E.set(x[te].id(),ee++);var U=!0,j=!1,Y=void 0;try{for(var Q=k.keys()[Symbol.iterator](),ae;!(U=(ae=Q.next()).done);U=!0){var ie=ae.value;E.set(ie,ee++)}}catch(ve){j=!0,Y=ve}finally{try{!U&&Q.return&&Q.return()}finally{if(j)throw Y}}for(var J=0;J<E.size;J++)S[J]=[];w.forEach(function(ve){for(var Ee=ve.children().intersection(v);Ee.nodes(":childless").length==0;)Ee=Ee.nodes()[0].children().intersection(v);var Ce=0,Ne=Ee.nodes(":childless")[0].connectedEdges().length;Ee.nodes(":childless").forEach(function(Se,Ie){Se.connectedEdges().length<Ne&&(Ne=Se.connectedEdges().length,Ce=Ie)}),_.set(ve.id(),Ee.nodes(":childless")[Ce].id())}),x.forEach(function(ve){var Ee=void 0;ve.isParent()?Ee=E.get(_.get(ve.id())):Ee=E.get(ve.id()),ve.neighborhood().nodes().forEach(function(Ce){v.intersection(ve.edgesWith(Ce)).length>0&&(Ce.isParent()?S[Ee].push(_.get(Ce.id())):S[Ee].push(Ce.id()))})});var _e=function(Ee){var Ce=E.get(Ee),Ne=void 0;k.get(Ee).forEach(function(Se){y.getElementById(Se).isParent()?Ne=_.get(Se):Ne=Se,S[Ce].push(Ne),S[E.get(Ne)].push(Ee)})},ce=!0,Te=!1,be=void 0;try{for(var Ue=k.keys()[Symbol.iterator](),He;!(ce=(He=Ue.next()).done);ce=!0){var Ve=He.value;_e(Ve)}}catch(ve){Te=!0,be=ve}finally{try{!ce&&Ue.return&&Ue.return()}finally{if(Te)throw be}}D=E.size;var Re=void 0;if(D>2){$=D<m.sampleSize?D:m.sampleSize;for(var de=0;de<D;de++)N[de]=[];for(var X=0;X<$;X++)T[X]=[];return m.quality=="draft"||m.step=="all"?(K(P),Z(),H(),Re={nodeIndexes:E,xCoords:R,yCoords:C}):(E.forEach(function(ve,Ee){R.push(y.getElementById(Ee).position("x")),C.push(y.getElementById(Ee).position("y"))}),Re={nodeIndexes:E,xCoords:R,yCoords:C}),Re}else{var oe=E.keys(),me=y.getElementById(oe.next().value),ne=me.position(),ue=me.outerWidth();if(R.push(ne.x),C.push(ne.y),D==2){var pe=y.getElementById(oe.next().value),ge=pe.outerWidth();R.push(ne.x+ue/2+ge/2+m.idealEdgeLength),C.push(ne.y)}return Re={nodeIndexes:E,xCoords:R,yCoords:C},Re}};o.exports={spectralLayout:f}},579:(o,l,u)=>{var h=u(212),d=function(f){f&&f("layout","fcose",h)};typeof cytoscape<"u"&&d(cytoscape),o.exports=d},140:o=>{o.exports=r}},i={};function a(o){var l=i[o];if(l!==void 0)return l.exports;var u=i[o]={exports:{}};return n[o](u,u.exports,a),u.exports}var s=a(579);return s})()})})(Use);var ktt=Use.exports;const Ttt=qc(ktt);var xz={L:"left",R:"right",T:"top",B:"bottom"},bz={L:b(t=>`${t},${t/2} 0,${t} 0,0`,"L"),R:b(t=>`0,${t/2} ${t},0 ${t},${t}`,"R"),T:b(t=>`0,0 ${t},0 ${t/2},${t}`,"T"),B:b(t=>`${t/2},0 ${t},${t} 0,${t}`,"B")},zx={L:b((t,e)=>t-e+2,"L"),R:b((t,e)=>t-2,"R"),T:b((t,e)=>t-e+2,"T"),B:b((t,e)=>t-2,"B")},Ett=b(function(t){return ja(t)?t==="L"?"R":"L":t==="T"?"B":"T"},"getOppositeArchitectureDirection"),wz=b(function(t){const e=t;return e==="L"||e==="R"||e==="T"||e==="B"},"isArchitectureDirection"),ja=b(function(t){const e=t;return e==="L"||e==="R"},"isArchitectureDirectionX"),mh=b(function(t){const e=t;return e==="T"||e==="B"},"isArchitectureDirectionY"),Vse=b(function(t,e){const r=ja(t)&&mh(e),n=mh(t)&&ja(e);return r||n},"isArchitectureDirectionXY"),Stt=b(function(t){const e=t[0],r=t[1],n=ja(e)&&mh(r),i=mh(e)&&ja(r);return n||i},"isArchitecturePairXY"),Ctt=b(function(t){return t!=="LL"&&t!=="RR"&&t!=="TT"&&t!=="BB"},"isValidArchitectureDirectionPair"),F8=b(function(t,e){const r=`${t}${e}`;return Ctt(r)?r:void 0},"getArchitectureDirectionPair"),Att=b(function([t,e],r){const n=r[0],i=r[1];return ja(n)?mh(i)?[t+(n==="L"?-1:1),e+(i==="T"?1:-1)]:[t+(n==="L"?-1:1),e]:ja(i)?[t+(i==="L"?1:-1),e+(n==="T"?1:-1)]:[t,e+(n==="T"?1:-1)]},"shiftPositionByArchitectureDirectionPair"),_tt=b(function(t){return t==="LT"||t==="TL"?[1,1]:t==="BL"||t==="LB"?[1,-1]:t==="BR"||t==="RB"?[-1,-1]:[-1,1]},"getArchitectureDirectionXYFactors"),Ltt=b(function(t){return t.type==="service"},"isArchitectureService"),Ntt=b(function(t){return t.type==="junction"},"isArchitectureJunction"),Gse=b(t=>t.data(),"edgeData"),p0=b(t=>t.data(),"nodeData"),Hse=Ur.architecture,sr=new J9(()=>({nodes:{},groups:{},edges:[],registeredIds:{},config:Hse,dataStructures:void 0,elements:{}})),Rtt=b(()=>{sr.reset(),Ni()},"clear"),Mtt=b(function({id:t,icon:e,in:r,title:n,iconText:i}){if(sr.records.registeredIds[t]!==void 0)throw new Error(`The service id [${t}] is already in use by another ${sr.records.registeredIds[t]}`);if(r!==void 0){if(t===r)throw new Error(`The service [${t}] cannot be placed within itself`);if(sr.records.registeredIds[r]===void 0)throw new Error(`The service [${t}]'s parent does not exist. Please make sure the parent is created before this service`);if(sr.records.registeredIds[r]==="node")throw new Error(`The service [${t}]'s parent is not a group`)}sr.records.registeredIds[t]="node",sr.records.nodes[t]={id:t,type:"service",icon:e,iconText:i,title:n,edges:[],in:r}},"addService"),Itt=b(()=>Object.values(sr.records.nodes).filter(Ltt),"getServices"),Dtt=b(function({id:t,in:e}){sr.records.registeredIds[t]="node",sr.records.nodes[t]={id:t,type:"junction",edges:[],in:e}},"addJunction"),Ott=b(()=>Object.values(sr.records.nodes).filter(Ntt),"getJunctions"),Ptt=b(()=>Object.values(sr.records.nodes),"getNodes"),Ftt=b(t=>sr.records.nodes[t],"getNode"),Btt=b(function({id:t,icon:e,in:r,title:n}){if(sr.records.registeredIds[t]!==void 0)throw new Error(`The group id [${t}] is already in use by another ${sr.records.registeredIds[t]}`);if(r!==void 0){if(t===r)throw new Error(`The group [${t}] cannot be placed within itself`);if(sr.records.registeredIds[r]===void 0)throw new Error(`The group [${t}]'s parent does not exist. Please make sure the parent is created before this group`);if(sr.records.registeredIds[r]==="node")throw new Error(`The group [${t}]'s parent is not a group`)}sr.records.registeredIds[t]="group",sr.records.groups[t]={id:t,icon:e,title:n,in:r}},"addGroup"),$tt=b(()=>Object.values(sr.records.groups),"getGroups"),ztt=b(function({lhsId:t,rhsId:e,lhsDir:r,rhsDir:n,lhsInto:i,rhsInto:a,lhsGroup:s,rhsGroup:o,title:l}){if(!wz(r))throw new Error(`Invalid direction given for left hand side of edge ${t}--${e}. Expected (L,R,T,B) got ${r}`);if(!wz(n))throw new Error(`Invalid direction given for right hand side of edge ${t}--${e}. Expected (L,R,T,B) got ${n}`);if(sr.records.nodes[t]===void 0&&sr.records.groups[t]===void 0)throw new Error(`The left-hand id [${t}] does not yet exist. Please create the service/group before declaring an edge to it.`);if(sr.records.nodes[e]===void 0&&sr.records.groups[t]===void 0)throw new Error(`The right-hand id [${e}] does not yet exist. Please create the service/group before declaring an edge to it.`);const u=sr.records.nodes[t].in,h=sr.records.nodes[e].in;if(s&&u&&h&&u==h)throw new Error(`The left-hand id [${t}] is modified to traverse the group boundary, but the edge does not pass through two groups.`);if(o&&u&&h&&u==h)throw new Error(`The right-hand id [${e}] is modified to traverse the group boundary, but the edge does not pass through two groups.`);const d={lhsId:t,lhsDir:r,lhsInto:i,lhsGroup:s,rhsId:e,rhsDir:n,rhsInto:a,rhsGroup:o,title:l};sr.records.edges.push(d),sr.records.nodes[t]&&sr.records.nodes[e]&&(sr.records.nodes[t].edges.push(sr.records.edges[sr.records.edges.length-1]),sr.records.nodes[e].edges.push(sr.records.edges[sr.records.edges.length-1]))},"addEdge"),Utt=b(()=>sr.records.edges,"getEdges"),Vtt=b(()=>{if(sr.records.dataStructures===void 0){const t=Object.entries(sr.records.nodes).reduce((s,[o,l])=>(s[o]=l.edges.reduce((u,h)=>{if(h.lhsId===o){const d=F8(h.lhsDir,h.rhsDir);d&&(u[d]=h.rhsId)}else{const d=F8(h.rhsDir,h.lhsDir);d&&(u[d]=h.lhsId)}return u},{}),s),{}),e=Object.keys(t)[0],r={[e]:1},n=Object.keys(t).reduce((s,o)=>o===e?s:{...s,[o]:1},{}),i=b(s=>{const o={[s]:[0,0]},l=[s];for(;l.length>0;){const u=l.shift();if(u){r[u]=1,delete n[u];const h=t[u],[d,p]=o[u];Object.entries(h).forEach(([f,g])=>{r[g]||(o[g]=Att([d,p],f),l.push(g))})}}return o},"BFS"),a=[i(e)];for(;Object.keys(n).length>0;)a.push(i(Object.keys(n)[0]));sr.records.dataStructures={adjList:t,spatialMaps:a}}return sr.records.dataStructures},"getDataStructures"),Gtt=b((t,e)=>{sr.records.elements[t]=e},"setElementForId"),Htt=b(t=>sr.records.elements[t],"getElementById"),I5={clear:Rtt,setDiagramTitle:za,getDiagramTitle:ea,setAccTitle:Ri,getAccTitle:Qi,setAccDescription:Zi,getAccDescription:Ji,addService:Mtt,getServices:Itt,addJunction:Dtt,getJunctions:Ott,getNodes:Ptt,getNode:Ftt,addGroup:Btt,getGroups:$tt,addEdge:ztt,getEdges:Utt,setElementForId:Gtt,getElementById:Htt,getDataStructures:Vtt};function fi(t){const e=we().architecture;return e!=null&&e[t]?e[t]:Hse[t]}b(fi,"getConfigField");var Wtt=b((t,e)=>{Vy(t,e),t.groups.map(e.addGroup),t.services.map(r=>e.addService({...r,type:"service"})),t.junctions.map(r=>e.addJunction({...r,type:"junction"})),t.edges.map(e.addEdge)},"populateDb"),Ytt={parse:b(async t=>{const e=await Yg("architecture",t);q.debug(e),Wtt(e,I5)},"parse")},qtt=b(t=>`
  .edge {
    stroke-width: ${t.archEdgeWidth};
    stroke: ${t.archEdgeColor};
    fill: none;
  }

  .arrow {
    fill: ${t.archEdgeArrowColor};
  }

  .node-bkg {
    fill: none;
    stroke: ${t.archGroupBorderColor};
    stroke-width: ${t.archGroupBorderWidth};
    stroke-dasharray: 8;
  }
  .node-icon-text {
    display: flex; 
    align-items: center;
  }
  
  .node-icon-text > div {
    color: #fff;
    margin: 1px;
    height: fit-content;
    text-align: center;
    overflow: hidden;
    display: -webkit-box;
    -webkit-box-orient: vertical;
  }
`,"getStyles"),jtt=qtt,zf=b(t=>`<g><rect width="80" height="80" style="fill: #087ebf; stroke-width: 0px;"/>${t}</g>`,"wrapIcon"),oy={prefix:"mermaid-architecture",height:80,width:80,icons:{database:{body:zf('<path id="b" data-name="4" d="m20,57.86c0,3.94,8.95,7.14,20,7.14s20-3.2,20-7.14" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><path id="c" data-name="3" d="m20,45.95c0,3.94,8.95,7.14,20,7.14s20-3.2,20-7.14" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><path id="d" data-name="2" d="m20,34.05c0,3.94,8.95,7.14,20,7.14s20-3.2,20-7.14" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><ellipse id="e" data-name="1" cx="40" cy="22.14" rx="20" ry="7.14" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><line x1="20" y1="57.86" x2="20" y2="22.14" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><line x1="60" y1="57.86" x2="60" y2="22.14" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/>')},server:{body:zf('<rect x="17.5" y="17.5" width="45" height="45" rx="2" ry="2" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><line x1="17.5" y1="32.5" x2="62.5" y2="32.5" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><line x1="17.5" y1="47.5" x2="62.5" y2="47.5" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><g><path d="m56.25,25c0,.27-.45.5-1,.5h-10.5c-.55,0-1-.23-1-.5s.45-.5,1-.5h10.5c.55,0,1,.23,1,.5Z" style="fill: #fff; stroke-width: 0px;"/><path d="m56.25,25c0,.27-.45.5-1,.5h-10.5c-.55,0-1-.23-1-.5s.45-.5,1-.5h10.5c.55,0,1,.23,1,.5Z" style="fill: none; stroke: #fff; stroke-miterlimit: 10;"/></g><g><path d="m56.25,40c0,.27-.45.5-1,.5h-10.5c-.55,0-1-.23-1-.5s.45-.5,1-.5h10.5c.55,0,1,.23,1,.5Z" style="fill: #fff; stroke-width: 0px;"/><path d="m56.25,40c0,.27-.45.5-1,.5h-10.5c-.55,0-1-.23-1-.5s.45-.5,1-.5h10.5c.55,0,1,.23,1,.5Z" style="fill: none; stroke: #fff; stroke-miterlimit: 10;"/></g><g><path d="m56.25,55c0,.27-.45.5-1,.5h-10.5c-.55,0-1-.23-1-.5s.45-.5,1-.5h10.5c.55,0,1,.23,1,.5Z" style="fill: #fff; stroke-width: 0px;"/><path d="m56.25,55c0,.27-.45.5-1,.5h-10.5c-.55,0-1-.23-1-.5s.45-.5,1-.5h10.5c.55,0,1,.23,1,.5Z" style="fill: none; stroke: #fff; stroke-miterlimit: 10;"/></g><g><circle cx="32.5" cy="25" r=".75" style="fill: #fff; stroke: #fff; stroke-miterlimit: 10;"/><circle cx="27.5" cy="25" r=".75" style="fill: #fff; stroke: #fff; stroke-miterlimit: 10;"/><circle cx="22.5" cy="25" r=".75" style="fill: #fff; stroke: #fff; stroke-miterlimit: 10;"/></g><g><circle cx="32.5" cy="40" r=".75" style="fill: #fff; stroke: #fff; stroke-miterlimit: 10;"/><circle cx="27.5" cy="40" r=".75" style="fill: #fff; stroke: #fff; stroke-miterlimit: 10;"/><circle cx="22.5" cy="40" r=".75" style="fill: #fff; stroke: #fff; stroke-miterlimit: 10;"/></g><g><circle cx="32.5" cy="55" r=".75" style="fill: #fff; stroke: #fff; stroke-miterlimit: 10;"/><circle cx="27.5" cy="55" r=".75" style="fill: #fff; stroke: #fff; stroke-miterlimit: 10;"/><circle cx="22.5" cy="55" r=".75" style="fill: #fff; stroke: #fff; stroke-miterlimit: 10;"/></g>')},disk:{body:zf('<rect x="20" y="15" width="40" height="50" rx="1" ry="1" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><ellipse cx="24" cy="19.17" rx=".8" ry=".83" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><ellipse cx="56" cy="19.17" rx=".8" ry=".83" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><ellipse cx="24" cy="60.83" rx=".8" ry=".83" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><ellipse cx="56" cy="60.83" rx=".8" ry=".83" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><ellipse cx="40" cy="33.75" rx="14" ry="14.58" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><ellipse cx="40" cy="33.75" rx="4" ry="4.17" style="fill: #fff; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><path d="m37.51,42.52l-4.83,13.22c-.26.71-1.1,1.02-1.76.64l-4.18-2.42c-.66-.38-.81-1.26-.33-1.84l9.01-10.8c.88-1.05,2.56-.08,2.09,1.2Z" style="fill: #fff; stroke-width: 0px;"/>')},internet:{body:zf('<circle cx="40" cy="40" r="22.5" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><line x1="40" y1="17.5" x2="40" y2="62.5" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><line x1="17.5" y1="40" x2="62.5" y2="40" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><path d="m39.99,17.51c-15.28,11.1-15.28,33.88,0,44.98" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><path d="m40.01,17.51c15.28,11.1,15.28,33.88,0,44.98" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><line x1="19.75" y1="30.1" x2="60.25" y2="30.1" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><line x1="19.75" y1="49.9" x2="60.25" y2="49.9" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/>')},cloud:{body:zf('<path d="m65,47.5c0,2.76-2.24,5-5,5H20c-2.76,0-5-2.24-5-5,0-1.87,1.03-3.51,2.56-4.36-.04-.21-.06-.42-.06-.64,0-2.6,2.48-4.74,5.65-4.97,1.65-4.51,6.34-7.76,11.85-7.76.86,0,1.69.08,2.5.23,2.09-1.57,4.69-2.5,7.5-2.5,6.1,0,11.19,4.38,12.28,10.17,2.14.56,3.72,2.51,3.72,4.83,0,.03,0,.07-.01.1,2.29.46,4.01,2.48,4.01,4.9Z" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/>')},unknown:jH,blank:{body:zf("")}}},Xtt=b(async function(t,e){const r=fi("padding"),n=fi("iconSize"),i=n/2,a=n/6,s=a/2;await Promise.all(e.edges().map(async o=>{var R,C;const{source:l,sourceDir:u,sourceArrow:h,sourceGroup:d,target:p,targetDir:f,targetArrow:g,targetGroup:m,label:y}=Gse(o);let{x:v,y:x}=o[0].sourceEndpoint();const{x:w,y:k}=o[0].midpoint();let{x:E,y:_}=o[0].targetEndpoint();const S=r+4;if(d&&(ja(u)?v+=u==="L"?-S:S:x+=u==="T"?-S:S+18),m&&(ja(f)?E+=f==="L"?-S:S:_+=f==="T"?-S:S+18),!d&&((R=I5.getNode(l))==null?void 0:R.type)==="junction"&&(ja(u)?v+=u==="L"?i:-i:x+=u==="T"?i:-i),!m&&((C=I5.getNode(p))==null?void 0:C.type)==="junction"&&(ja(f)?E+=f==="L"?i:-i:_+=f==="T"?i:-i),o[0]._private.rscratch){const L=t.insert("g");if(L.insert("path").attr("d",`M ${v},${x} L ${w},${k} L${E},${_} `).attr("class","edge"),h){const A=ja(u)?zx[u](v,a):v-s,N=mh(u)?zx[u](x,a):x-s;L.insert("polygon").attr("points",bz[u](a)).attr("transform",`translate(${A},${N})`).attr("class","arrow")}if(g){const A=ja(f)?zx[f](E,a):E-s,N=mh(f)?zx[f](_,a):_-s;L.insert("polygon").attr("points",bz[f](a)).attr("transform",`translate(${A},${N})`).attr("class","arrow")}if(y){const A=Vse(u,f)?"XY":ja(u)?"X":"Y";let N=0;A==="X"?N=Math.abs(v-E):A==="Y"?N=Math.abs(x-_)/1.5:N=Math.abs(v-E)/2;const F=L.append("g");if(await Fl(F,y,{useHtmlLabels:!1,width:N,classes:"architecture-service-label"},we()),F.attr("dy","1em").attr("alignment-baseline","middle").attr("dominant-baseline","middle").attr("text-anchor","middle"),A==="X")F.attr("transform","translate("+w+", "+k+")");else if(A==="Y")F.attr("transform","translate("+w+", "+k+") rotate(-90)");else if(A==="XY"){const T=F8(u,f);if(T&&Stt(T)){const D=F.node().getBoundingClientRect(),[M,O]=_tt(T);F.attr("dominant-baseline","auto").attr("transform",`rotate(${-1*M*O*45})`);const I=F.node().getBoundingClientRect();F.attr("transform",`
                translate(${w}, ${k-D.height/2})
                translate(${M*I.width/2}, ${O*I.height/2})
                rotate(${-1*M*O*45}, 0, ${D.height/2})
              `)}}}}}))},"drawEdges"),Ktt=b(async function(t,e){const n=fi("padding")*.75,i=fi("fontSize"),s=fi("iconSize")/2;await Promise.all(e.nodes().map(async o=>{const l=p0(o);if(l.type==="group"){const{h:u,w:h,x1:d,y1:p}=o.boundingBox();t.append("rect").attr("x",d+s).attr("y",p+s).attr("width",h).attr("height",u).attr("class","node-bkg");const f=t.append("g");let g=d,m=p;if(l.icon){const y=f.append("g");y.html(`<g>${await Cd(l.icon,{height:n,width:n,fallbackPrefix:oy.prefix})}</g>`),y.attr("transform","translate("+(g+s+1)+", "+(m+s+1)+")"),g+=n,m+=i/2-1-2}if(l.label){const y=f.append("g");await Fl(y,l.label,{useHtmlLabels:!1,width:h,classes:"architecture-service-label"},we()),y.attr("dy","1em").attr("alignment-baseline","middle").attr("dominant-baseline","start").attr("text-anchor","start"),y.attr("transform","translate("+(g+s+4)+", "+(m+s+2)+")")}}}))},"drawGroups"),Qtt=b(async function(t,e,r){for(const n of r){const i=e.append("g"),a=fi("iconSize");if(n.title){const u=i.append("g");await Fl(u,n.title,{useHtmlLabels:!1,width:a*1.5,classes:"architecture-service-label"},we()),u.attr("dy","1em").attr("alignment-baseline","middle").attr("dominant-baseline","middle").attr("text-anchor","middle"),u.attr("transform","translate("+a/2+", "+a+")")}const s=i.append("g");if(n.icon)s.html(`<g>${await Cd(n.icon,{height:a,width:a,fallbackPrefix:oy.prefix})}</g>`);else if(n.iconText){s.html(`<g>${await Cd("blank",{height:a,width:a,fallbackPrefix:oy.prefix})}</g>`);const d=s.append("g").append("foreignObject").attr("width",a).attr("height",a).append("div").attr("class","node-icon-text").attr("style",`height: ${a}px;`).append("div").html(n.iconText),p=parseInt(window.getComputedStyle(d.node(),null).getPropertyValue("font-size").replace(/\D/g,""))??16;d.attr("style",`-webkit-line-clamp: ${Math.floor((a-2)/p)};`)}else s.append("path").attr("class","node-bkg").attr("id","node-"+n.id).attr("d",`M0 ${a} v${-a} q0,-5 5,-5 h${a} q5,0 5,5 v${a} H0 Z`);i.attr("class","architecture-service");const{width:o,height:l}=i._groups[0][0].getBBox();n.width=o,n.height=l,t.setElementForId(n.id,i)}return 0},"drawServices"),Ztt=b(function(t,e,r){r.forEach(n=>{const i=e.append("g"),a=fi("iconSize");i.append("g").append("rect").attr("id","node-"+n.id).attr("fill-opacity","0").attr("width",a).attr("height",a),i.attr("class","architecture-junction");const{width:o,height:l}=i._groups[0][0].getBBox();i.width=o,i.height=l,t.setElementForId(n.id,i)})},"drawJunctions");KH([{name:oy.prefix,icons:oy}]);Ml.use(Ttt);function Wse(t,e){t.forEach(r=>{e.add({group:"nodes",data:{type:"service",id:r.id,icon:r.icon,label:r.title,parent:r.in,width:fi("iconSize"),height:fi("iconSize")},classes:"node-service"})})}b(Wse,"addServices");function Yse(t,e){t.forEach(r=>{e.add({group:"nodes",data:{type:"junction",id:r.id,parent:r.in,width:fi("iconSize"),height:fi("iconSize")},classes:"node-junction"})})}b(Yse,"addJunctions");function qse(t,e){e.nodes().map(r=>{const n=p0(r);if(n.type==="group")return;n.x=r.position().x,n.y=r.position().y,t.getElementById(n.id).attr("transform","translate("+(n.x||0)+","+(n.y||0)+")")})}b(qse,"positionNodes");function jse(t,e){t.forEach(r=>{e.add({group:"nodes",data:{type:"group",id:r.id,icon:r.icon,label:r.title,parent:r.in},classes:"node-group"})})}b(jse,"addGroups");function Xse(t,e){t.forEach(r=>{const{lhsId:n,rhsId:i,lhsInto:a,lhsGroup:s,rhsInto:o,lhsDir:l,rhsDir:u,rhsGroup:h,title:d}=r,p=Vse(r.lhsDir,r.rhsDir)?"segments":"straight",f={id:`${n}-${i}`,label:d,source:n,sourceDir:l,sourceArrow:a,sourceGroup:s,sourceEndpoint:l==="L"?"0 50%":l==="R"?"100% 50%":l==="T"?"50% 0":"50% 100%",target:i,targetDir:u,targetArrow:o,targetGroup:h,targetEndpoint:u==="L"?"0 50%":u==="R"?"100% 50%":u==="T"?"50% 0":"50% 100%"};e.add({group:"edges",data:f,classes:p})})}b(Xse,"addEdges");function Kse(t){const e=t.map(i=>{const a={},s={};return Object.entries(i).forEach(([o,[l,u]])=>{a[u]||(a[u]=[]),s[l]||(s[l]=[]),a[u].push(o),s[l].push(o)}),{horiz:Object.values(a).filter(o=>o.length>1),vert:Object.values(s).filter(o=>o.length>1)}}),[r,n]=e.reduce(([i,a],{horiz:s,vert:o})=>[[...i,...s],[...a,...o]],[[],[]]);return{horizontal:r,vertical:n}}b(Kse,"getAlignments");function Qse(t){const e=[],r=b(i=>`${i[0]},${i[1]}`,"posToStr"),n=b(i=>i.split(",").map(a=>parseInt(a)),"strToPos");return t.forEach(i=>{const a=Object.fromEntries(Object.entries(i).map(([u,h])=>[r(h),u])),s=[r([0,0])],o={},l={L:[-1,0],R:[1,0],T:[0,1],B:[0,-1]};for(;s.length>0;){const u=s.shift();if(u){o[u]=1;const h=a[u];if(h){const d=n(u);Object.entries(l).forEach(([p,f])=>{const g=r([d[0]+f[0],d[1]+f[1]]),m=a[g];m&&!o[g]&&(s.push(g),e.push({[xz[p]]:m,[xz[Ett(p)]]:h,gap:1.5*fi("iconSize")}))})}}}}),e}b(Qse,"getRelativeConstraints");function Zse(t,e,r,n,{spatialMaps:i}){return new Promise(a=>{const s=Ke("body").append("div").attr("id","cy").attr("style","display:none"),o=Ml({container:document.getElementById("cy"),style:[{selector:"edge",style:{"curve-style":"straight",label:"data(label)","source-endpoint":"data(sourceEndpoint)","target-endpoint":"data(targetEndpoint)"}},{selector:"edge.segments",style:{"curve-style":"segments","segment-weights":"0","segment-distances":[.5],"edge-distances":"endpoints","source-endpoint":"data(sourceEndpoint)","target-endpoint":"data(targetEndpoint)"}},{selector:"node",style:{"compound-sizing-wrt-labels":"include"}},{selector:"node[label]",style:{"text-valign":"bottom","text-halign":"center","font-size":`${fi("fontSize")}px`}},{selector:".node-service",style:{label:"data(label)",width:"data(width)",height:"data(height)"}},{selector:".node-junction",style:{width:"data(width)",height:"data(height)"}},{selector:".node-group",style:{padding:`${fi("padding")}px`}}]});s.remove(),jse(r,o),Wse(t,o),Yse(e,o),Xse(n,o);const l=Kse(i),u=Qse(i),h=o.layout({name:"fcose",quality:"proof",styleEnabled:!1,animate:!1,nodeDimensionsIncludeLabels:!1,idealEdgeLength(d){const[p,f]=d.connectedNodes(),{parent:g}=p0(p),{parent:m}=p0(f);return g===m?1.5*fi("iconSize"):.5*fi("iconSize")},edgeElasticity(d){const[p,f]=d.connectedNodes(),{parent:g}=p0(p),{parent:m}=p0(f);return g===m?.45:.001},alignmentConstraint:l,relativePlacementConstraint:u});h.one("layoutstop",()=>{var p;function d(f,g,m,y){let v,x;const{x:w,y:k}=f,{x:E,y:_}=g;x=(y-k+(w-m)*(k-_)/(w-E))/Math.sqrt(1+Math.pow((k-_)/(w-E),2)),v=Math.sqrt(Math.pow(y-k,2)+Math.pow(m-w,2)-Math.pow(x,2));const S=Math.sqrt(Math.pow(E-w,2)+Math.pow(_-k,2));v=v/S;let R=(E-w)*(y-k)-(_-k)*(m-w);switch(!0){case R>=0:R=1;break;case R<0:R=-1;break}let C=(E-w)*(m-w)+(_-k)*(y-k);switch(!0){case C>=0:C=1;break;case C<0:C=-1;break}return x=Math.abs(x)*R,v=v*C,{distances:x,weights:v}}b(d,"getSegmentWeights"),o.startBatch();for(const f of Object.values(o.edges()))if((p=f.data)!=null&&p.call(f)){const{x:g,y:m}=f.source().position(),{x:y,y:v}=f.target().position();if(g!==y&&m!==v){const x=f.sourceEndpoint(),w=f.targetEndpoint(),{sourceDir:k}=Gse(f),[E,_]=mh(k)?[x.x,w.y]:[w.x,x.y],{weights:S,distances:R}=d(x,w,E,_);f.style("segment-distances",R),f.style("segment-weights",S)}}o.endBatch(),h.run()}),h.run(),o.ready(d=>{q.info("Ready",d),a(o)})})}b(Zse,"layoutArchitecture");var Jtt=b(async(t,e,r,n)=>{const i=n.db,a=i.getServices(),s=i.getJunctions(),o=i.getGroups(),l=i.getEdges(),u=i.getDataStructures(),h=mf(e),d=h.append("g");d.attr("class","architecture-edges");const p=h.append("g");p.attr("class","architecture-services");const f=h.append("g");f.attr("class","architecture-groups"),await Qtt(i,p,a),Ztt(i,p,s);const g=await Zse(a,s,o,l,u);await Xtt(d,g),await Ktt(f,g),qse(i,g),kg(void 0,h,fi("padding"),fi("useMaxWidth"))},"draw"),ert={draw:Jtt},trt={parser:Ytt,db:I5,renderer:ert,styles:jtt};const rrt=Object.freeze(Object.defineProperty({__proto__:null,diagram:trt},Symbol.toStringTag,{value:"Module"})),nrt=Object.freeze(Object.defineProperty({__proto__:null,InfoModule:Hte,createInfoServices:Wte},Symbol.toStringTag,{value:"Module"})),irt=Object.freeze(Object.defineProperty({__proto__:null,PacketModule:Yte,createPacketServices:qte},Symbol.toStringTag,{value:"Module"})),art=Object.freeze(Object.defineProperty({__proto__:null,PieModule:jte,createPieServices:Xte},Symbol.toStringTag,{value:"Module"})),srt=Object.freeze(Object.defineProperty({__proto__:null,ArchitectureModule:Kte,createArchitectureServices:Qte},Symbol.toStringTag,{value:"Module"})),ort=Object.freeze(Object.defineProperty({__proto__:null,GitGraphModule:Vte,createGitGraphServices:Gte},Symbol.toStringTag,{value:"Module"}))});export default lrt();
